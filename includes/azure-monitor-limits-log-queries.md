---
title: включить файл
description: включить файл
services: azure-monitor
author: rboucher
tags: azure-service-management
ms.topic: include
ms.date: 07/22/2019
ms.author: bwren
ms.custom: include file
ms.openlocfilehash: 627b020ce618a2a1f2646a95e143947876bd6a15
ms.sourcegitcommit: af1cbaaa4f0faa53f91fbde4d6009ffb7662f7eb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/22/2020
ms.locfileid: "82072643"
---
### <a name="general-query-limits"></a>Общие лимиты запросов

| Ограничение | Описание |
|:---|:---|
| Язык запросов | Azure Monitor использует тот же [язык запросов Kusto,](/azure/kusto/query/) что и Azure Data Explorer. См. [Различия в языке запросов запросов Azure Monitor](../articles/azure-monitor/log-query/data-explorer-difference.md) для элементов языка КЗЛ, не поддерживаемых в Azure Monitor. |
| Регионы Azure | Запросы журнала могут испытывать чрезмерные накладные расходы, когда данные охватывают рабочие области Log Analytics в нескольких регионах Azure. Подробнее о [границах запросов.](../articles/azure-monitor/log-query/scope.md#query-limits) |
| Перекрестные запросы ресурсов | Максимальное количество ресурсов Application Insights и рабочих областей анализа журналов в одном запросе ограничено 100.<br>Кросс-ресурсный запрос не поддерживается в «Квью-конструктор».<br>Запрос между разными ресурсами в оповещениях журнала поддерживается в новом API правил запросов по расписанию.<br>См [с информации о границах запросов на перекрестные ресурсы.](../articles/azure-monitor/log-query/cross-workspace-query.md#cross-resource-query-limits) |

### <a name="user-query-throttling"></a>Регулирование пользовательского запроса
Azure Monitor имеет несколько ограничений для защиты от пользователей, отправляющих чрезмерное количество запросов. Такое поведение потенциально может перегрузить ресурсы бэкэнда системы и поставить под угрозу отзывчивость службы. Следующие ограничения предназначены для защиты клиентов от перерывов и обеспечения стабильного уровня обслуживания. Регулирование и ограничения пользователя предназначены для воздействия только на экстремальный сценарий использования и не должны иметь значения для обычного использования.


| Measure | Ограничение на пользователя | Описание |
|:---|:---|:---|
| Параллельные запросы | 5 | Если для пользователя уже работает 5 запросов, любые новые запросы помещаются в очередь на одного пользователя. Когда один из запущенных запросов заканчивается, следующий запрос будет извлечен из очереди и запущен. Это не включает запросы из правил оповещения.
| Время в параллеливой очереди | 2,5 минуты | Если запрос находится в очереди более 2,5 минут без запуска, он будет завершен с помощью ответа по ошибке HTTP с кодом 429. |
| Всего запросов в параллеливой очереди | 40 | Как только количество запросов в очереди достигает 40, любые дополнительные запросы будут отклонены с кодом ошибки HTTP 429. Это число является дополнением к 5 запросам, которые могут быть запущены одновременно. |
| Коэффициент запроса | 200 запросов за 30 секунд | Это общая скорость, которую запросы могут быть отправлены одним пользователем на все рабочие области.  Это ограничение применяется к программным запросам или запросам, инициированным такими составляющими визуализации, как панели мониторинга Azure и страница сводки рабочего пространства анализа log Analytics. |

- Оптимизация запросов, [описанных в запросах оптимизации журнала в Azure Monitor.](../articles/azure-monitor/log-query/query-optimization.md)
- Панели мониторинга и трудовые книжки могут содержать несколько запросов в одном представлении, которые генерируют всплеск запросов каждый раз, когда они загружаются или обновляются. Рассмотрите возможность разбить их на несколько представлений, которые загружаются по требованию. 
- В Power BI следует извлечения только агрегированных результатов, а не не сырых журналов.