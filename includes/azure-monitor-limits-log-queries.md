---
title: Включить имя файла
description: включить файл
services: azure-monitor
author: rboucher
tags: azure-service-management
ms.topic: include
ms.date: 07/22/2019
ms.author: bwren
ms.custom: include file
ms.openlocfilehash: 627b020ce618a2a1f2646a95e143947876bd6a15
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "82072643"
---
### <a name="general-query-limits"></a>Общие ограничения запросов

| Ограничение | Описание |
|:---|:---|
| Язык запросов | Azure Monitor использует тот же [язык запросов Kusto](/azure/kusto/query/) , что и обозреватель данных Azure. См. раздел [различия в языке запросов Azure Monitor](../articles/azure-monitor/log-query/data-explorer-difference.md) для элементов языка ККЛ, которые не поддерживаются в Azure Monitor. |
| Регионы Azure | Запросы журналов могут испытывать чрезмерную нагрузку, если данные Log Analytics рабочие области в нескольких регионах Azure. Дополнительные сведения см. в разделе [ограничения запросов](../articles/azure-monitor/log-query/scope.md#query-limits) . |
| Запросы перекрестных ресурсов | Максимальное число ресурсов Application Insights и Log Analytics рабочих областей в одном запросе ограничено 100.<br>Запрос перекрестных ресурсов не поддерживается в конструкторе представлений.<br>Запрос между разными ресурсами в оповещениях журнала поддерживается в новом API правил запросов по расписанию.<br>Дополнительные сведения см. в разделе [ограничения запросов между ресурсами](../articles/azure-monitor/log-query/cross-workspace-query.md#cross-resource-query-limits) . |

### <a name="user-query-throttling"></a>Регулирование запросов пользователей
Azure Monitor имеет несколько ограничений регулирования для защиты от пользователей, отправляющих слишком много запросов. Такое поведение может привести к перегрузке системных ресурсов системы и повлиять на скорость реагирования службы. Следующие ограничения предназначены для защиты клиентов от перерывов и обеспечения единообразного уровня обслуживания. Регулирование и ограничения пользователей рассчитаны на влияние только на экстремальный сценарий использования и не должны быть актуальными для типичного использования.


| Measure | Ограничение на пользователя | Описание |
|:---|:---|:---|
| Параллельные запросы | 5 | Если для пользователя уже запущено 5 запросов, новые запросы помещаются в очередь параллелизма для каждого пользователя. Когда один из выполняющихся запросов завершается, следующий запрос будет извлечен из очереди и запущен. Это не относится к запросам из правил генерации оповещений.
| Время в очереди параллелизма | 2,5 минут | Если запрос находится в очереди более 2,5 минут без запуска, он будет завершен с ответом об ошибке HTTP с кодом 429. |
| Всего запросов в очереди параллелизма | 40 | Когда число запросов в очереди достигнет 40, все дополнительные запросы будут отвергнуты с кодом ошибки HTTP 429. Это число в дополнение к 5 запросам, которые могут выполняться одновременно. |
| Частота запросов | 200 запросов в течение 30 секунд | Это общая скорость, с которой запросы могут отправляться одним пользователем во все рабочие области.  Это ограничение применяется к программным запросам или запросам, которые инициируются такими компонентами визуализации, как панели мониторинга Azure и страница сводки Log Analytics рабочей области. |

- Оптимизируйте запросы, как описано в разделе [Оптимизация запросов журналов в Azure Monitor](../articles/azure-monitor/log-query/query-optimization.md).
- Панели мониторинга и книги могут содержать несколько запросов в одном представлении, которое создает нагрузку на запросы каждый раз при загрузке или обновлении. Рассмотрите возможность разбиения их на несколько представлений, загружаемых по запросу. 
- В Power BI рассмотрите возможность извлечения только статистических результатов, а не необработанных журналов.