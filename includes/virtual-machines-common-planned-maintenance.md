---
title: включение файла
description: включение файла
services: virtual-machines
author: shants123
ms.service: virtual-machines
ms.topic: include
ms.date: 4/30/2019
ms.author: shants
ms.custom: include file
ms.openlocfilehash: c2931fa410cf92755a5df5b7129dcf93de900930
ms.sourcegitcommit: 778e7376853b69bbd5455ad260d2dc17109d05c1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/23/2019
ms.locfileid: "66155928"
---
Azure периодически обновляет свою платформу для повышения надежности, производительности и безопасности инфраструктуры хостов, для виртуальных машин. Цель этих обновлений в диапазоне от исправлений программных компонентов в среде размещения для обновления сетевые компоненты или вывода из эксплуатации оборудования. 

Обновления редко влияют на размещенных виртуальных машин. После обновления эффекта, Azure выбирает метод бы важные тенденции для обновления:

- Если обновление не требует перезагрузки, виртуальная машина будет приостановлена, во время обновления узла или виртуальной Машины, live перенесены на уже обновленный узел.

- Если для обслуживания требуется перезагрузка, вы получите уведомление об плановом обслуживании. Azure также предоставляет временное окно, в котором вы можете начать обслуживание самостоятельно, одновременно, подходящий для вас. Окно самообслуживания обычно составляет 30 дней, если обслуживание, является срочным. Azure вкладывает средства в технологии, чтобы уменьшить количество вариантов, в которых платформы планового обслуживания требуется перезагрузка виртуальных машин. 

На этой странице описано, как Azure выполняет обслуживание обоих типов. Дополнительные сведения о незапланированных событиях (сбоях) см. в разделе [Управление доступностью виртуальных машин для Windows](../articles/virtual-machines/windows/manage-availability.md) или соответствующие статьи в параметре [Linux](../articles/virtual-machines/linux/manage-availability.md).

На виртуальной машине, получать уведомления о предстоящем обслуживании с [с помощью запланированных событий для Windows](../articles/virtual-machines/windows/scheduled-events.md) или [Linux](../articles/virtual-machines/linux/scheduled-events.md).

Сведения об управлении плановым обслуживанием см. в разделе [обработки уведомлений о плановом обслуживании для Linux](../articles/virtual-machines/linux/maintenance-notifications.md) или соответствующие статьи в параметре [Windows](../articles/virtual-machines/windows/maintenance-notifications.md).

## <a name="maintenance-that-doesnt-require-a-reboot"></a>Обслуживание, которое не требует перезагрузки

Как уже говорилось ранее, большинство обновлений платформы не влияет на виртуальные машины клиента. Если невозможно обновление без воздействия, Azure выбирает механизм обновления, который является как минимум важные для виртуальных машин клиента. 

Большинство ненулевое влияние обслуживания приостанавливает работу виртуальной Машины для менее чем за 10 секунд. В некоторых случаях Azure использует механизмы обслуживания с сохранением памяти. Эти механизмы приостановить виртуальную Машину до 30 секунд и сохраняет память в ОЗУ. Возобновляет работу виртуальной Машины и ее часы автоматически синхронизируются. 

Обслуживание с сохранением памяти работает более чем на 90% виртуальных машин Azure. Он не подходит для серии G, M, N и H. Azure все чаще используются технологии динамической миграции и улучшает механизмы обслуживания с сохранением памяти, чтобы уменьшить длительность паузы.  

Эти операции обслуживания, которые не требуют перезагрузки, примененные домена за раз. Они останавливаются, если они получают все сигналы работоспособности предупреждение. 

Такие обновления могут влиять на некоторые приложения. Когда виртуальная машина live перенести на другой узел, некоторых чувствительных рабочих нагрузок может показывать небольшое снижение производительности за несколько минут, вплоть до приостановки виртуальной Машины. Чтобы подготовиться к обслуживанию виртуальной Машины и сократить влияние во время обслуживания Azure, попробуйте [с помощью запланированных событий для Windows](../articles/virtual-machines/windows/scheduled-events.md) или [Linux](../articles/virtual-machines/linux/scheduled-events.md) для таких приложений. Azure работает над функциями контроля обслуживания для этих уязвимых приложений. 

### <a name="live-migration"></a>Динамическая миграция

Динамическая миграция — это операция, которая не требует перезагрузки, и, сохраняющего памяти для виртуальной Машины. Это вызывает приостановки или замораживание, обычно длится не более 5 секунд. За исключением G серии H, M и N, всю инфраструктуру как услугу (IaaS) виртуальные машины, пригодны для динамической миграции. Соответствующие виртуальные машины представляют собой более чем на 90% виртуальные машины IaaS, которые развертываются в Azure парка. 

Платформа Azure начнет динамической миграции в следующих сценариях:
- Плановое обслуживание
- Сбой оборудования
- Оптимизация распределения

Некоторые сценарии плановому обслуживанию использование динамической миграции и запланированные события можно использовать заранее знать после ввода в эксплуатацию запускает операции миграции.

Динамической миграции может также использоваться перенос виртуальных машин, в том случае, если алгоритмы машинного обучения Azure предсказать приближающийся отказ оборудования или если вы хотите оптимизировать распределение виртуальных Машин. Дополнительные сведения о прогнозного моделирования, который обнаруживает экземпляры сниженной функциональности оборудования, см. в разделе [улучшение Azure устойчивость виртуальной Машины с помощью прогнозных машинного обучения и динамической миграции](https://azure.microsoft.com/blog/improving-azure-virtual-machine-resiliency-with-predictive-ml-and-live-migration/?WT.mc_id=thomasmaurer-blog-thmaure). Динамическая миграция уведомления отображаются на портале Azure в монитор и работоспособность службы журналов. так как запланированные события, если вы используете эти службы.

## <a name="maintenance-that-requires-a-reboot"></a>Обслуживание, требующее перезагрузки

В редких случаях, где виртуальные машины должны быть перезагружены для планового обслуживания вы будете уведомлены заранее. Плановое обслуживание включает два этапа: этап самообслуживания и этапа запланированного обслуживания.

Во время *самообслуживания этап*, который обычно длится четыре недели, начать обслуживание на виртуальных машинах. В рамках самообслуживания вы можете запрашивать каждой виртуальной Машины, чтобы просмотреть его состояние и результат последнего запроса на обслуживание.

При запуске самостоятельного обслуживания виртуальная машина повторно развертывается на уже обновленном узле. Так как виртуальная машина перезапускается, временный диск будет удален, и связанные с виртуальным сетевым интерфейсом динамические IP-адреса будут обновлены.

Если во время самообслуживание, операция прекращается, возникает ошибка виртуальной Машины не обновляется, и вы получаете возможность повтора самостоятельное обслуживание. 

По окончании этапа самообслуживания *этапа запланированного обслуживания* начинается. На этом этапе можно выполнять запросы для этапа обслуживания, но не может начать обслуживание самостоятельно.

Дополнительные сведения об управлении обслуживанием, требующее перезагрузки, см. в разделе [обработки уведомлений о плановом обслуживании для Linux](../articles/virtual-machines/linux/maintenance-notifications.md) или соответствующие статьи в параметре [Windows](../articles/virtual-machines/windows/maintenance-notifications.md). 

### <a name="availability-considerations-during-scheduled-maintenance"></a>Вопросы доступности во время запланированного обслуживания 

Если вы решили дождаться этапа запланированного обслуживания, есть несколько моментов, которые следует учитывать для обеспечения максимальной доступности виртуальные машины. 

#### <a name="paired-regions"></a>Пары регионов

Каждый регион Azure образует пару с другим регионом в пределах одной географической окружения. Вместе они позволяют пару регионов. На этапе запланированного обслуживания Azure обновляет только виртуальные машины в одном регионе из пары. Например при обновлении виртуальной Машины в северо-Центральная часть США, Azure не обновляет все виртуальные Машины в Юго-Центральная часть США в то же время. Однако в других регионах, например в Северной Европе, обслуживание может происходить одновременно с обслуживанием в восточной части США. Чтобы лучше распределить виртуальные машины по регионам, ознакомьтесь с принципами работы пар регионов. Дополнительные сведения см. в статье [Непрерывность бизнес-процессов и аварийное восстановление в службах BizTalk: пары регионов Azure](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).

#### <a name="availability-sets-and-scale-sets"></a>Группы доступности и масштабируемые наборы

При развертывании рабочей нагрузки на виртуальных машинах Azure, вы можете создать виртуальные машины в *доступности* для обеспечения высокой доступности для вашего приложения. С помощью групп доступности, вы убедитесь, что во время обслуживания или сбоя событий, требующих перезагрузки, доступен по крайней мере одна виртуальная машина.

Отдельные виртуальные машины в группе доступности могут быть распределены максимум между 20 доменами обновления. Во время запланированного обслуживания в любой момент времени обновляется только один из НИХ. Домены обновления в не последовательно обновить обязательно. 

Виртуальную машину *масштабируемых наборов* являются вычислительными ресурсами, можно использовать для развертывания и администрирования набора идентичных виртуальных машин как единый ресурс Azure. Масштабируемый набор автоматически развертывается в доменах обновления, как и виртуальные машины в группе доступности. Как с группами доступности, при использовании масштабируемых наборов, только один из НИХ обновляется в любой момент времени, во время запланированного обслуживания.

Дополнительные сведения о настройке виртуальных машин для обеспечения высокой доступности см. в разделе [Управление доступностью ваши виртуальные машины Windows для](../articles/virtual-machines/windows/manage-availability.md) или соответствующие статьи в параметре [Linux](../articles/virtual-machines/linux/manage-availability.md).
