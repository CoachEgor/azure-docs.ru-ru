---
title: включение файла
description: включение файла
services: virtual-machines
author: cynthn
ms.service: virtual-machines
ms.topic: include
ms.date: 11/04/2019
ms.author: cynthn
ms.custom: include file
ms.openlocfilehash: ffe0d3a85006bbaad53e471a10b10fb1bbea89b1
ms.sourcegitcommit: 609d4bdb0467fd0af40e14a86eb40b9d03669ea1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/06/2019
ms.locfileid: "73664467"
---
В этой статье представлены общие сведения о возможностях доступности виртуальных машин Azure (ВМ).

## <a name="high-availability"></a>Высокий уровень доступности

Рабочие нагрузки обычно распределяются между разными виртуальными машинами для повышения пропускной способности, производительности и создания избыточности на случай, если на виртуальную машину влияет обновление или другое событие. 

В Azure предусмотрено несколько вариантов обеспечения высокого уровня доступности. Сначала давайте поговорим о базовых конструкциях. 

### <a name="availability-zones"></a>Зоны доступности

[Зоны доступности](../articles/availability-zones/az-overview.md) расширяют уровень контроля, который должен поддерживать доступность приложений и данных на виртуальных машинах. Зона доступности — это физически отдельная зона в регионе Azure. В каждом поддерживаемом регионе Azure есть три зоны доступности. 

У каждой зоны доступности есть отдельный источник питания, сеть и система охлаждения. Вы можете защитить приложения и данные от потери в центре обработки данных, настроив свои решения для использования реплицированных виртуальных машин в зонах доступности. В случае неполадок с одной зоной реплицированные приложения и данные сразу же станут доступными в другой зоне. 

![Зоны доступности](./media/virtual-machines-common-regions-and-availability/three-zones-per-region.png)

См. дополнительные сведения о развертывании виртуальных машин [Windows](../articles/virtual-machines/windows/create-powershell-availability-zone.md) или [Linux](../articles/virtual-machines/linux/create-cli-availability-zone.md) в зонах доступности.


### <a name="fault-domains"></a>Домены сбоя

Домен сбоя — это логическая группа базового оборудования, которое совместно использует общий источник питания и сетевой коммутатор, аналогично стойке в локальном центре обработки данных. 

### <a name="update-domains"></a>Домены обновления

Домен обновления — это логическая группа базового оборудования, которое может одновременно обслуживаться или перезагружаться. 

Такой подход гарантирует, что по крайней мере один экземпляр приложения будет работать во время периодического обслуживания платформы Azure. Порядок перезагрузки доменов обновления может не выполняться последовательно во время обслуживания, но только один домен обновления перезагружается одновременно.


## <a name="virtual-machines-scale-sets"></a>Наборы масштабирования виртуальных машин. 

Масштабируемые наборы виртуальных машин Azure позволяют создавать группы виртуальных машин с балансировкой нагрузки и управлять ими. Число экземпляров виртуальных машин может автоматически увеличиваться или уменьшаться в зависимости от спроса или по определенному расписанию. Масштабируемые наборы обеспечивают высокий уровень доступности для приложений и позволяют централизованно управлять, настраивать и обновлять несколько виртуальных машин. Мы рекомендуем создать в масштабируемом наборе две или несколько виртуальных машин, чтобы обеспечить высокодоступное приложение и обеспечить соответствие требованиям [соглашения об уровне обслуживания Azure 99,95%](https://azure.microsoft.com/support/legal/sla/virtual-machines/). Затраты на сам масштабируемый набор не изменяются, вы платите только за создаваемый экземпляр виртуальной машины. Если отдельная виртуальная машина использует [SSD Azure (цен. категория "Премиум")](https://docs.microsoft.com/azure/virtual-machines/windows/disks-types#premium-ssd), соглашение об уровне обслуживания Azure применяется для внеплановых мероприятий обслуживания. Виртуальные машины в масштабируемом наборе можно развертывать в нескольких регионах и доменах сбоя, чтобы обеспечить максимальную доступность и устойчивость к сбоям из-за сбоев центра обработки данных, а также запланированных или незапланированных событий обслуживания. Виртуальные машины в масштабируемом наборе можно также развернуть в одной зоне доступности или в регионе. Параметры развертывания зоны доступности могут отличаться в зависимости от режима оркестрации.

### <a name="preview-orchestration-mode-preview"></a>Предварительный просмотр: режим оркестрации (Предварительная версия)
Масштабируемые наборы виртуальных машин позволяют указать режим оркестрации.  С помощью режима оркестрации масштабируемого набора виртуальных машин теперь можно выбрать, должен ли масштабируемый набор управлять виртуальными машинами, созданными явно вне модели конфигурации масштабируемого набора, или экземплярами виртуальных машин, созданными неявно. на основе модели конфигурации. Выберите режим оркестрации, который модель оркестрации позволяет группировать явно определенные виртуальные машины вместе в регионе или в зоне доступности. Виртуальные машины, развернутые в зоне доступности, обеспечивают изоляцию зональные для виртуальных машин, привязанные к границе зоны доступности и не подвержены сбоям, которые могут возникнуть в другой зоне доступности в регионе. 

|   | "Орчестратионмоде": "VM" (VirtualMachine)| "Орчестратионмоде": "Скалесетвм" (Виртуалмачинескалесетвм) |
|----|----|----|
| Модель конфигурации виртуальной машины| Нет. VirtualMachineProfile не определен в модели масштабируемого набора. | обязательный параметр. VirtualMachineProfile заполняется в модели масштабируемого набора. |
| Добавление новой виртуальной машины в масштабируемый набор| Виртуальные машины явным образом добавляются в масштабируемый набор при создании виртуальной машины. | Виртуальные машины неявно создаются и добавляются в масштабируемый набор на основе модели конфигурации виртуальной машины, числа экземпляров и правил автомасштабирования. |
| зоны доступности;| Поддержка региональных развертываний или виртуальных машин в одной зоне доступности| Поддерживает региональные развертывания или несколько Зоны доступности; Может определить стратегию балансировки зоны |
| Домены сбоя| Может определять число доменов сбоя. 2 или 3 на основе региональной поддержки и 5 для зоны доступности. Назначенный домен сбоя виртуальной машины будет сохранен с жизненным циклом виртуальной машины, включая освобождение и перезапуск. | Может определить 1, 2 или 3 домена сбоя для развертываний без зональные и 5 для развертываний зон доступности. Назначенный домен сбоя виртуальной машины не сохраняется с жизненным циклом виртуальной машины, виртуальным машинам назначается домен сбоя во время выделения. |
| Домены обновления| Недоступно Домены обновления автоматически сопоставляются с доменами сбоя| Недоступно Домены обновления автоматически сопоставляются с доменами сбоя |

**Домены сбоя и домены обновления**

Масштабируемые наборы виртуальных машин упрощают проектирование для обеспечения высокого уровня доступности, выровняйте домены сбоя и домены обновления. Для масштабируемого набора потребуется определить только количество доменов сбоя. Количество доменов сбоя, доступных для масштабируемых наборов, может отличаться в зависимости от региона. См. [число доменов сбоя в одном регионе](https://docs.microsoft.com/azure/virtual-machines/windows/manage-availability#number-of-fault-domains-per-region).


## <a name="availability-sets"></a>Группы доступности
Группа доступности — это логическое объединение виртуальных машин в центре обработки данных, которое позволяет Azure определить структуру вашего приложения, чтобы обеспечить избыточность и доступность. Для обеспечения высокой доступности приложения и достижения показателя [99,95 % уровня обслуживания (SLA) Azure](https://azure.microsoft.com/support/legal/sla/virtual-machines/) мы рекомендуем создать в группе доступности не менее двух виртуальных машин. Группа доступности представляется бесплатно, оплачивается только каждый созданный экземпляр виртуальной машины. Если отдельная виртуальная машина использует [SSD Azure (цен. категория "Премиум")](../articles/virtual-machines/windows/disks-types.md#premium-ssd), соглашение об уровне обслуживания Azure применяется для внеплановых мероприятий обслуживания.

В группе доступности виртуальные машины автоматически распределяются по этим доменам сбоя. Данный подход ограничивает влияние потенциальных сбоев физического оборудования, сети или электропитания.

При использовании управляемой группы доступности виртуальные машины, использующие [управляемые диски Azure](../articles/virtual-machines/windows/faq-for-disks.md), согласовываются с доменами сбоя управляемого диска. Это гарантирует, что все управляемые диски, подключенные к виртуальной машине, относятся к одному домену сбоя управляемого диска. 

В управляемой группе доступности можно создать только виртуальные машины с управляемыми дисками. Количество доменов сбоя управляемых дисков зависит от региона: два или три на один регион. См. дополнительные сведения о доменах сбоя управляемых дисков для [виртуальных машин Linux](../articles/virtual-machines/linux/manage-availability.md?#use-managed-disks-for-vms-in-an-availability-set) и [виртуальных машин Windows](../articles/virtual-machines/windows/manage-availability.md?#use-managed-disks-for-vms-in-an-availability-set).

![Управляемая группа доступности](./media/virtual-machines-common-manage-availability/md-fd-updated.png)


Виртуальные машины в группе доступности также автоматически распределяются между доменами обновления. 

![Группы доступности](./media/virtual-machines-common-manage-availability/ud-fd-configuration.png)

## <a name="next-steps"></a>Дальнейшие действия
Теперь вы можете использовать функции доступности и избыточности для создания среды Azure. Рекомендации см. в статье [Контрольный список для обеспечения доступности](../articles/best-practices-availability-checklist.md).

