---
title: Сопоставьте структуру папок с топологией Синхронизация файлов Azure
description: Сопоставление существующей структуры файлов и папок с файловыми ресурсами Azure для использования с Синхронизация файлов Azure. Общий текстовый блок, совместно используемый в документах миграции.
author: fauhse
ms.service: storage
ms.topic: conceptual
ms.date: 2/20/2020
ms.author: fauhse
ms.subservice: files
ms.openlocfilehash: 44fb95de88cc86c802e5ba72f0b5379b8708c506
ms.sourcegitcommit: 5192c04feaa3d1bd564efe957f200b7b1a93a381
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/02/2020
ms.locfileid: "78209562"
---
На этом шаге вы оцениваете количество необходимых файловых ресурсов Azure. Один сервер (или кластер) Windows может синхронизировать до 30 файловых ресурсов Azure.

У вас может быть больше папок в StorSimple, которые сейчас используются локально в качестве общих папок SMB для пользователей и приложений. Проще всего представить себе локальный общий ресурс для соотнесения 1:1 к общему файловому ресурсу Azure. Если это число является недостаточным, то есть ниже 30 для одного сервера Windows Server или вы планируете использовать два сервера Windows (60) и т. д., то рекомендуется сопоставление 1:1.

Если у вас больше общего ресурса, чем 30, часто не требуется сопоставлять локальный общий ресурс 1:1 с общим файловым ресурсом Azure.
Следуйте приведенным ниже рекомендациям.

#### <a name="share-grouping"></a>Группировка общего доступа

Например, если в отделе кадров всего 15 общих ресурсов, можно рассмотреть возможность хранения всех данных отдела кадров в одном файловом ресурсе Azure. Хранение нескольких локальных общих ресурсов в одной общей папке Azure не мешает создать обычные 15 общих ресурсов SMB на локальном сервере Windows Server. Это означает, что вы организуете корневые папки этих 15 общих папок в виде вложенных папок в общей папке. Затем вы синхронизируете эту общую папку с общим файловым ресурсом Azure. Таким образом, для этой группы локальных общих ресурсов требуется только один файловый ресурс Azure в облаке.

#### <a name="volume-sync"></a>Синхронизация томов

Синхронизация файлов Azure поддерживает синхронизацию корня тома с общим файловым ресурсом Azure.
Если вы синхронизируете корневую папку, все вложенные папки и файлы будут находиться в одном общем файловом ресурсе Azure.

#### <a name="other-best-practices-to-consider"></a>Другие рекомендации, которые следует учитывать

За исключением 30 пределов синхронизации файловых ресурсов Azure на каждый сервер, в начале следует учитывать эффективность синхронизации.

Если на сервере есть несколько общих папок, каждая из которых синхронизируется с общим файловым ресурсом Azure, синхронизация может работать параллельно для всех. Вектор шкалы не является размером всех файлов в области синхронизации. Это количество элементов (файлов и папок), требующих обработки.

Один общий файловый ресурс Azure может содержать до 100 тиб.
Синхронизация файлов Azure поддерживает синхронизацию до 100 000 000 элементов на общую папку Azure.

Синхронизация корневого тома не всегда будет лучшим решением. Существует ряд преимуществ синхронизации нескольких расположений. Это позволяет сократить количество элементов в каждой области синхронизации. Настройка службы "Синхронизация файлов Azure" с меньшим количеством элементов не только важна для синхронизации, но также позволяет выполнять восстановление на стороне облака из резервных копий, а также повышает скорость аварийного восстановления в случае утери сервера и подготовки нового подключения к тем же файлам Azure. Общие папки e.

Используйте сочетание описанных выше концепций, чтобы определить, сколько файловых ресурсов Azure требуется, и какие части существующих данных StorSimple будут в итоге появятся в общей папке Azure.

Создайте список, который записывает ваши мысли, чтобы на следующем шаге можно было ссылаться на него. Это важно, так как можно легко потерять сведения о плане сопоставления при одновременной подготовке нескольких ресурсов.
