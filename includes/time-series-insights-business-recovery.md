---
ms.topic: include
ms.service: time-series-insights
author: deepakpalled
ms.author: dpalled
manager: cshankar
ms.date: 02/03/2020
ms.openlocfilehash: 6a3837d01815306e469a684404ab76506f547f43
ms.sourcegitcommit: 4f6a7a2572723b0405a21fea0894d34f9d5b8e12
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/04/2020
ms.locfileid: "77013752"
---
## <a name="business-disaster-recovery"></a>Непрерывность бизнес-процессов и аварийное восстановление

В этом разделе описываются возможности службы "аналитика временных рядов Azure", которые работают с приложениями и службами, даже если происходит сбой (это называется *аварийным восстановлением в бизнесе*).

### <a name="high-availability"></a>Высокий уровень доступности

Как услуга Azure, служба "аналитика временных рядов" предоставляет определенные функции *высокого уровня доступности* , используя избыточность на уровне региона Azure. Например, Azure поддерживает возможности аварийного восстановления через функцию *доступности в разных регионах* Azure.

Дополнительные функции высокого уровня доступности, предоставляемые в Azure (а также доступные для любого экземпляра службы "аналитика временных рядов"), включают:

- **Отработка отказа**. Azure обеспечивает [георепликацию и балансировку нагрузки](https://docs.microsoft.com/azure/architecture/resiliency/recovery-loss-azure-region).
- Восстановление **данных** и **восстановление хранилища**. Azure предоставляет [несколько вариантов для сохранения и восстановления данных](https://docs.microsoft.com/azure/architecture/resiliency/recovery-data-corruption).
- **Azure Site Recovery**. Azure предоставляет функции Site Recovery с помощью [Azure Site Recovery](https://docs.microsoft.com/azure/site-recovery/).
- **Azure Backup**: [Azure Backup](https://docs.microsoft.com/azure/backup/backup-architecture) поддерживает локальное и облачное резервное копирование виртуальных машин Azure.

Убедитесь, что вы включили соответствующие функции Azure, чтобы обеспечить высокий уровень доступности для устройств и пользователей в разных регионах.

> [!NOTE]
> Если Azure настроен для обеспечения доступности между регионами, дополнительная настройка доступности между регионами в службе "аналитика временных рядов Azure" не требуется.

### <a name="iot-and-event-hubs"></a>IoT и концентраторы событий

Некоторые службы Azure IoT также включают встроенные функции аварийного восстановления.

- [Аварийное восстановление высокого уровня доступности центра Интернета вещей Azure](https://docs.microsoft.com/azure/iot-hub/iot-hub-ha-dr), включающее избыточность внутри региона
- [Политики концентраторов событий Azure](https://docs.microsoft.com/azure/event-hubs/event-hubs-geo-dr)
- [Репликация службы хранилища Azure](https://docs.microsoft.com/azure/storage/common/storage-redundancy)

Интеграция службы "аналитика временных рядов" с другими службами предоставляет дополнительные возможности аварийного восстановления. Например, данные телеметрии, отправляемые в концентратор событий, могут быть сохранены в резервной копии базы данных хранилища BLOB-объектов Azure.

### <a name="time-series-insights"></a>Time Series Insights

Существует несколько способов сохранения данных, приложений и служб Службы "аналитика временных рядов", даже если они нарушат работу. 

Тем не менее, вы можете определить, что также требуется полная резервная копия среды временных рядов Azure для следующих целей:

- Как *экземпляр отработки отказа* , специально предназначенный для анализа временных рядов для перенаправления данных и трафика в
- Сохранение данных и сведений аудита

Как правило, лучшим способом дублирования среды службы "аналитика временных рядов" является создание второй среды "аналитика временных рядов" в регионе Azure Backup. События также отправляются в эту вторичную среду из основного источника событий. Убедитесь, что используется вторая выделенная группа потребителей. Следуйте рекомендациям по аварийному восстановлению исходного кода, как описано выше.

Чтобы создать дубликат среды, сделайте следующее:

1. Создайте среду во втором регионе. Дополнительные сведения см. в статье о [создании новой среды "аналитика временных рядов" в портал Azure](https://docs.microsoft.com/azure/time-series-insights/time-series-insights-get-started).
1. Создайте для вашего источника событий вторую выделенную группу потребителей.
1. Подключите этот источник событий к новой среде. Убедитесь, что назначена вторая выделенная группа потребителей.
1. Ознакомьтесь с документацией по службе "аналитика временных рядов Azure [" и по](https://docs.microsoft.com/azure/time-series-insights/time-series-insights-how-to-add-an-event-source-iothub) [концентраторам событий](https://docs.microsoft.com/azure/time-series-insights/time-series-insights-data-access) .

При возникновении события:

1. Если во время инцидента ваш основной регион дал сбой, переключите операции на резервную среду службы "Аналитика временных рядов".
1. Используйте второй регион для резервного копирования и восстановления данных телеметрии и запросов по временной Series Insights.

> [!IMPORTANT]
> Если происходит отработка отказа:
> 
> * Также может возникать задержка.
> * При перенаправлении операций может произойти Посекундный пик обработки сообщений.
> 
> Дополнительные сведения см. [в статье Устранение проблем с задержкой в аналитике временных рядов](https://docs.microsoft.com/azure/time-series-insights/time-series-insights-environment-mitigate-latency).

