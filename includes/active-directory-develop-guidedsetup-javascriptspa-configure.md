---
title: включение файла
description: включение файла
services: active-directory
documentationcenter: dev-center-name
author: navyasric
manager: CelesteDG
editor: ''
ms.service: active-directory
ms.devlang: na
ms.topic: include
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 09/17/2018
ms.author: nacanuma
ms.custom: include file
ms.openlocfilehash: 050bae64a62e90bdb74c93948109e255b69d7518
ms.sourcegitcommit: 41ca82b5f95d2e07b0c7f9025b912daf0ab21909
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "67133460"
---
## <a name="register-your-application"></a>Регистрация приложения

1. Войдите на [портале Azure](https://portal.azure.com/).

1. Если ваша учетная запись предоставляет доступ к нескольким клиентам, в правом верхнем углу щелкните свою учетную запись и выберите для текущего сеанса работы нужный клиент Azure AD.
1. Перейдите на страницу [Регистрация приложений](https://go.microsoft.com/fwlink/?linkid=2083908) платформы удостоверений Майкрософт для разработчиков.
1. Когда откроется страница **Register an application** (Регистрация приложения), введите имя приложения.
1. В разделе **Поддерживаемые типы учетных записей** выберите **Accounts in any organizational directory and personal Microsoft accounts** (Учетные записи в любом каталоге организации и личные учетные записи Майкрософт).
1. В разделе **URI перенаправления** в раскрывающемся списке выберите **Веб-платформа**, а затем задайте значение для URL-адреса приложения на основе вашего сервера. 

   Сведения об установке и получении URL-адреса перенаправления в Visual Studio и Node.js см. в следующих двух разделах.

1. Выберите **Зарегистрировать**.
1. На странице приложения **Обзор** запишите **идентификатор приложения (клиента)** .
1. Для этого краткого руководства должно быть включено [неявное предоставление разрешения потока](../articles/active-directory/develop/v2-oauth2-implicit-grant-flow.md). В левой области навигации зарегистрированного приложения выберите **Проверка подлинности**.
1. В окне **Дополнительные параметры** в разделе **Неявное предоставление** установите флажки **Токен идентификатора** и **Маркеры доступа**. Токены идентификатора и маркеры доступа необходимы, так как это приложение должно выполнять вход пользователей и вызов API.
1. Щелкните **Сохранить**.

> #### <a name="set-a-redirect-url-for-nodejs"></a>Настройка URL-адреса перенаправления для Node.js
> При использовании Node.js порт веб-сервера можно задать в файле *server.js*. В этом учебнике в качестве примера использован порт 30662, но можно применить любой другой доступный порт. 
>
> Чтобы настроить URL-адрес перенаправления в сведениях о регистрации приложения, снова перейдите на панель **Регистрация приложения** и выполните одно из следующих действий:
>
> - Установите значение *`http://localhost:30662/`* в качестве **URL-адреса перенаправления**.
> - Если вы используете настраиваемый TCP-порт, используйте *`http://localhost:<port>/`* (где *\<порт>*  — это номер пользовательского TCP-порта).
>
> #### <a name="set-a-redirect-url-for-visual-studio"></a>Установка URL-адреса перенаправления для Visual Studio
> Чтобы получить URL-адрес перенаправления для Visual Studio, сделайте следующее:
> 1. В **обозревателе решений** выберите проект.
>
>    Откроется окно **Свойства**. Если окно не открывается, нажмите клавишу **F4**.
>
>    ![Окно свойств проекта JavaScriptSPA](media/active-directory-develop-guidedsetup-javascriptspa-configure/vs-project-properties-screenshot.png)
>
> 1. Скопируйте значение **URL-адреса**.
 
> 1. Вернитесь на панель **Регистрация приложения** и вставьте скопированное значение как **URL-адрес перенаправления**.

#### <a name="configure-your-javascript-spa"></a>Настройка одностраничного приложения JavaScript

1. В файл *index.html*, созданный во время установки проекта, добавьте сведения о регистрации приложения. В верхней части файла в тегах `<script></script>` добавьте следующий код:

    ```javascript
    var msalConfig = {
        auth: {
            clientId: "<Enter_the_Application_Id_here>",
            authority: "https://login.microsoftonline.com/<Enter_the_Tenant_info_here>"
        },
        cache: {
            cacheLocation: "localStorage",
            storeAuthStateInCookie: true
        }
    };
    ```

    Описание
    - *\<Enter_the_Application_Id_here>*  — **идентификатор приложения (клиент)** для зарегистрированного приложения.
    - *\<Enter_the_Tenant_info_here>* присваивается одно из следующих значений:
       - Если приложение поддерживает *учетные записи в этом каталоге организации*, замените это значение **идентификатором клиента** или **именем клиента** (например, *contoso.microsoft.com*).
       - Если ваше приложение поддерживает*Учетные записи в любом каталоге организации*, замените это значение на **организации**.
       - Если приложение поддерживает *учетные записи в любом каталоге организации и личные учетные записи Майкрософт*, замените это значение на **общие**. Чтобы ограничить поддержку только *с помощью личных учетных записей Microsoft*, замените это значение на **пользователей**.
