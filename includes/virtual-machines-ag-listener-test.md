---
author: cynthn
ms.service: virtual-machines
ms.topic: include
ms.date: 10/26/2018
ms.author: cynthn
ms.openlocfilehash: d579e7a4fd83c1a0ce335e0b2357dcbafb217398
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "67185232"
---
На этом шаге тестируется прослушиватель группы доступности с помощью клиентского приложения, работающего в той же сети.

Клиентские подключения имеют следующие требования:

* Клиентские подключения к прослушивателю должны выполняться с компьютеров в другой облачной службе (не той, на которой не размещены реплики доступности AlwaysOn).
* Если реплики AlwaysOn размещены в разных подсетях, клиенты должны указывать *MultisubnetFailover=True* в строке подключения. В результате будут выполняться попытки параллельного подключения к репликам в разных подсетях. Этот сценарий включает развертывание межрегиональной группы доступности AlwaysOn.

Примером может служить подключение к прослушивателю с одной из виртуальных машин в одной виртуальной сети Azure (не той, в которой размещена реплика). Самый простой способ проверки — подключить SQL Server Management Studio к прослушивателю группы доступности. Еще один простой метод заключается в том, чтобы запустить [S'LCMD.exe](https://technet.microsoft.com/library/ms162773.aspx), следующим образом:

    sqlcmd -S "<ListenerName>,<EndpointPort>" -d "<DatabaseName>" -Q "select @@servername, db_name()" -l 15

> [!NOTE]
> Если для параметра EndpointPort используется значение *1433*, его необязательно указывать в вызове. В предыдущем вызове также предполагается, что клиентский компьютер присоединен к тому же домену и вызывающий объект имеет разрешения в базе данных с использованием проверки подлинности Windows.
> 
> 

При тестировании прослушивателя обязательно выполните отработку отказа для группы доступности, чтобы убедиться, что клиенты могут подключаться к прослушивателю при сбое.

