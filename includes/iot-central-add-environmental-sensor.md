---
title: включить файл
description: включить файл
services: iot-central
author: dominicbetts
ms.service: iot-central
ms.topic: include
ms.date: 07/07/2020
ms.author: dobett
ms.custom: include file
ms.openlocfilehash: b32465091f82fec0aeae288ee9bfd5540bfe8b9d
ms.sourcegitcommit: 3d79f737ff34708b48dd2ae45100e2516af9ed78
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/23/2020
ms.locfileid: "87002052"
---
## <a name="create-a-device-template"></a>Создание шаблона устройства

Создайте на локальном компьютере папку с именем `environmental-sensor`.

Скачайте JSON-файл [модели возможностей для датчика окружающей среды](https://raw.githubusercontent.com/Azure/IoTPlugandPlay/9004219bff1e958b7cd6ff2a52209f4b7ae19396/samples/EnvironmentalSensorInline.capabilitymodel.json) и сохраните его в папке `environmental-sensor`.

С помощью текстового редактора замените в скачанном файле `EnvironmentalSensorInline.capabilitymodel.json` два вхождения строки `{YOUR_COMPANY_NAME_HERE}` названием своей компании. Используйте только символы a–z, A–Z, 0–9 и знак подчеркивания.

Создайте в приложении Azure IoT Central шаблон устройства с именем *Датчик окружающей среды*, импортировав файл модели возможностей устройства `EnvironmentalSensorInline.capabilitymodel.json`.

![Шаблон устройства с импортированной моделью возможностей устройства](./media/iot-central-add-environmental-sensor/device-template.png)

Модель возможностей устройства включает два интерфейса: стандартный **Device Information** (Сведения об устройстве) и **Environmental Sensor** (Датчик среды). Интерфейс **датчика окружающей среды** определяет описанные ниже возможности.

| Тип | Отображаемое имя | Описание |
| ---- | ------------ | ----------- |
| Свойство | Состояние устройства     | Состояние устройства. Доступны два состояния устройства: автономное и подключенное. |
| Свойство (доступно для записи) | Имя клиента    | Имя клиента, который сейчас работает с этим устройством. |
| Свойство (доступно для записи) | Уровень яркости | Уровень яркости светового индикатора на устройстве. Можно установить значения 1 (высокий), 2 (средний) или 3 (низкий). |
| Телеметрия | температура; | Текущая температура, измеренная устройством. |
| Телеметрия | влажность.    | Текущая влажность, измеренная устройством. |
| Get-Help | blink          | Включает мигание светодиодного индикатора на устройстве на заданный период. |
| Get-Help | turnon         | Включает светодиодный индикатор на устройстве. |
| Get-Help | turnoff        | Выключает светодиодный индикатор на устройстве. |
| Get-Help | rundiagnostics | Эта асинхронная команда запускает диагностику на устройстве. |

Чтобы настроить отображение свойства **Device State** в приложении IoT Central, выберите команду **Customize** (Настроить) в шаблоне устройства. Разверните элемент **Device State**, введите значение _Online_ (Подключенное) для параметра **True name** (Имя для значения True) и _Offline_ (Автономное) для параметра **False name** (Имя для значение False). Теперь сохраните эти изменения.

![Настройка шаблона устройства](./media/iot-central-add-environmental-sensor/customize-template.png)

## <a name="create-views"></a>Создание представлений

Представления позволяют взаимодействовать с устройствами, подключенными к приложению IoT Central. Например, можно создать представления для отображения данных телеметрии и свойств, а также для изменения доступных для записи и облачных свойств. Представления — это часть шаблона устройства.

Чтобы добавить в шаблон устройства **Environmental sensor** (Датчик окружающей среды) несколько стандартных представлений, перейдите к этому шаблону устройства, выберите раздел **Views** (Представления) и щелкните плитку **Generate Default views** (Создать представления по умолчанию). Установите для параметров **Overview** (Обзор) и **About** (Об устройстве) установлены значения **On** (Включено), а затем щелкните **Generate default dashboard views** (Создать представления по умолчанию для панели мониторинга). Теперь в шаблоне определены два представления по умолчанию.

Интерфейс **Environmental Sensor** (Датчик окружающей среды) содержит два доступных для записи свойства: **Customer Name** (Имя клиента) и **Brightness Level** (Уровень яркости). Чтобы создать представление для изменения этих свойств, сделайте следующее:

1. Выберите **Views** (Представления) и щелкните плитку **Editing device and cloud data** (Изменение данных об устройстве и облаке).

1. Введите имя формы _Properties_ (Свойства).

1. Выберите свойства **Brightness Level** (Уровень яркости) и **Customer Name** (Имя клиента). Затем щелкните **Add section** (Добавить раздел).

1. Сохраните изменения.

![Добавление представления для редактирования свойств](./media/iot-central-add-environmental-sensor/properties-view.png)

## <a name="publish-the-template"></a>Публикация шаблона

Чтобы можно было добавить устройство, которое использует шаблон **Датчик состояния окружающей среды**, необходимо опубликовать этот шаблон.

Выберите действие **Publish** (Опубликовать) в шаблоне устройства. На панели **Опубликовать этот шаблон устройства в приложении** щелкните **Опубликовать**.

Чтобы убедиться в готовности шаблона к использованию, перейдите к странице **Devices** (Устройства) в приложении IoT Central. В этом разделе **Devices** (Устройства) отображается список устройств, опубликованных в приложении.

![Опубликованные шаблоны на странице устройств](./media/iot-central-add-environmental-sensor/published-templates.png)

## <a name="add-a-real-device"></a>Добавление реального устройства

В приложении Azure IoT Central добавьте реальное устройство в шаблон приложения, который вы создали в предыдущем разделе.

1. На странице **Devices** (Устройства) выберите шаблон устройства **Environmental sensor** (Датчик окружающей среды).

1. Выберите **+ Создать**.

1. В диалоговом окне **Create a new device** (Создание устройства) убедитесь, что выбран тип **Environmental Sensor** (Датчик среды), а для параметра **Simulate this device?** (Имитировать это устройство?) задано значение **No** (Нет).

1. Щелкните **Создать**.

Щелкните имя устройства, а затем выберите **Connect** (Подключить). Запишите значения параметров на странице **Device Connection** (Устройство —подключение): **ID scope** (Область идентификатора), **Device ID** (Идентификатор устройства) и **Primary key** (Первичный ключ). Эти значения понадобятся при создании кода устройства.

![Сведения о подключении устройства.](./media/iot-central-add-environmental-sensor/device-connection.png)
