---
title: Понимание и работа с областями управление затратами Azure | Документация Майкрософт
description: Эта статья поможет вам понять, выставления счетов и ресурсов области управления, доступные в Azure и как использовать области в управление затратами и API-интерфейсы.
services: cost-management
keywords: ''
author: bandersmsft
ms.author: banders
ms.date: 05/20/2019
ms.topic: conceptual
ms.service: cost-management
manager: micflan
ms.custom: ''
ms.openlocfilehash: 717c0f110ebbeee53e2c9b9207350385288d57c3
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "65991377"
---
# <a name="understand-and-work-with-scopes"></a>Общие сведения об областях и работа с ними

Эта статья поможет вам понять, выставления счетов и ресурсов области управления, доступные в Azure и как использовать области в управление затратами и API-интерфейсы.

## <a name="scopes"></a>Области действия

Объект _область_ является узлом в иерархии ресурсов Azure, где пользователи Azure AD доступа и управления службами. Большинством ресурсов Azure созданные и развернутые в группы ресурсов, которые являются частью подписок. Корпорация Майкрософт также предлагает две иерархии выше подписок Azure, которые специализированные ролей для управления данными для выставления счетов:
- Данные выставления счетов, например платежей и счета-фактуры
- Облачные службы, например стоимости и политики управления

Области являются котором управление данные о выставлении счетов, роли, относящиеся к платежей, Просмотр счетов и поведения общие учетные записи. Выставление счетов и учетной записи роли управляются отдельно от тех, которые используются для управления ресурсами, которые использовать [Azure RBAC](../role-based-access-control/overview.md). Чтобы четко отличать цель отдельных областях, включая различия контроля доступа, они называются _выставления счетов областей_ и _областей RBAC_, соответственно.

## <a name="how-cost-management-uses-scopes"></a>Использование областей управление затратами

Стоимость управления работает на всех области выше ресурсы, которые позволяют организациям управлять затратами на уровне, по которому они имеют доступ, в том случае, будь то всей учетной записи выставления счетов или в одной группе ресурсов. Несмотря на то, что выставления счетов области отличаются в зависимости от вашего соглашения Microsoft (тип подписки), RBAC областей — нет.

## <a name="azure-rbac-scopes"></a>Области Azure RBAC

Azure поддерживает три области, для управления ресурсами. Каждая область поддерживает управление доступом и управлению, включая, но не ограничиваясь, стоимость управления.

- [**Группы управления** ](../governance/management-groups/index.md) -иерархические контейнеры, до восьми уровней, чтобы упорядочить подписки Azure.

    Тип ресурса: [Microsoft.Management/managementGroups](/rest/api/resources/managementgroups)

- **Подписки** -основными контейнерами для ресурсов Azure.

    Тип ресурса: [Microsoft.Resources/subscriptions](/rest/api/resources/subscriptions)

- [**Группы ресурсов** ](../azure-resource-manager/resource-group-overview.md#resource-groups) -логические группы связанных ресурсов для решения Azure, которые совместно используют одинаковый жизненный цикл. Например ресурсы, которые развертываются и удалить одновременно.

    Тип ресурса: [Microsoft.Resources/subscriptions/resourceGroups](/rest/api/resources/resourcegroups)

Группы управления позволяют подписки упорядочиваются в иерархии. Например можно создать логическую иерархию организации с помощью групп управления. Затем предоставьте подписок команд для рабочих сред и рабочих нагрузок разработки и тестирования. А затем создайте группы ресурсов в подписках для управления каждой подсистема или компонент.

Создание иерархии позволяет затраты и соответствие политике свертки организационно. Затем каждый заполнитель можно просматривать и анализировать их текущие затраты. И затем они могут создавать бюджеты предпринимаются неправильный шаблоны предельную сумму расходов и оптимизировать затраты с помощью рекомендаций помощника по на самом низком уровне.

Предоставление доступа для просмотра затрат и при необходимости управлять конфигурацией затрат, такие как бюджеты и экспорты, выполняется в области управления, с помощью Azure RBAC. Для предоставления пользователям Azure AD с помощью Azure RBAC и группы доступ для выполнения предустановленный набор действий, которые определены в роли определенной области и более ранних версий. Например роль, назначенная для области группы управления также предоставляет те же разрешения для вложенных подписок и групп ресурсов.

Управление затратами поддерживает следующие встроенные роли для каждого из следующих областей:

- [**Владелец** ](../role-based-access-control/built-in-roles.md#owner) — может просматривать расходы и управлять всем, включая стоимость конфигурации.
- [**Участник** ](../role-based-access-control/built-in-roles.md#contributor) — может просматривать расходы и управлять всем, включая конфигурацию затрат, но не включает управление доступом.
- [**Модуль чтения** ](../role-based-access-control/built-in-roles.md#reader) — можно просмотреть все, включая данные о затратах и конфигурации, но не может вносить изменения.
- [**Стоимость участник управления** ](../role-based-access-control/built-in-roles.md#cost-management-contributor) — можно просмотреть затраты на управление конфигурацией и просмотреть рекомендации.
- [**Стоимость чтения управления** ](../role-based-access-control/built-in-roles.md#cost-management-reader) — можно просмотреть данные о затратах, конфигурацией и рекомендации.

Затрат участник управления — это рекомендованная роль наименьших привилегий. Он позволяет пользователям доступ для создания и управления бюджеты и экспортирует более эффективно, мониторинг и создание отчетов о стоимости. Стоимость управления участники также может потребоваться дополнительные роли для поддержки сценариев управления стоимость end-to-end. Рассмотрим следующие сценарии.

- **Действовать при превышении бюджеты** — стоимость управления участники также необходим доступ на создание или управление группы действий для автоматически реагировать на превышение квоты. Рассмотрите возможность предоставления [Monitoring Contributor](../role-based-access-control/built-in-roles.md#monitoring-contributor) в группу ресурсов, содержащий группу действий для использования при превышении пороговых значений бюджета. Автоматизация определенные действия требуются дополнительные роли для определенных служб, которые используются, например автоматизации и функций Azure.
- **Расписание затрат Экспорт данных** — стоимость управления участники также необходим доступ к управление учетными записями хранения, чтобы запланировать экспорта для копирования данных в учетную запись хранения. Рассмотрите возможность предоставления [участник учетной записи хранения](../role-based-access-control/built-in-roles.md#storage-account-contributor) в группу ресурсов, содержащий хранилище учетной записи данных о затратах где экспортируется.
- **Просмотр рекомендаций экономить** — стоимость управления читатели и участники стоимость управления имеют доступ к *представление* рекомендации по затратам по умолчанию. Тем не менее доступ к действовать рекомендациям по затратам требуется доступ к отдельным ресурсам. Рассмотрите возможность предоставления [конкретной службы роли](../role-based-access-control/built-in-roles.md#built-in-role-descriptions) Если вы собираетесь работать на основе стоимости рекомендацию.

## <a name="enterprise-agreement-scopes"></a>Соглашение Enterprise областей

Соглашение Enterprise (EA) выставления счетов учетные записи, также называется регистрацией, имеют следующие области:

- [**Учетная запись выставления счетов** ](../billing/billing-view-all-accounts.md) -представляет с соглашением EA. Счета-фактуры создаются в этой области. Покупки, которые не являются на основе использования, такие как Marketplace и резервирования, доступны только в этой области. Они не представлены в отделов или учетных записей регистрации.

    Тип ресурса: `Microsoft.Billing/billingAccounts (accountType = Enrollment)`
- **Отдел** — необязательный группирования учетных записей регистрации.

    Тип ресурса: `Billing/billingAccounts/departments`

- **Учетная запись регистрации** -представляет один владелец. Не поддерживает, предоставив ему доступ к нескольким пользователям.

    Тип ресурса: `Microsoft.Billing/billingAccounts/enrollmentAccounts`

Несмотря на то, что области управления привязаны в один каталог, не выставления счетов областей EA. Учетная запись EA для выставления счетов может иметь подписки в любом количестве каталогов Azure AD.

EA выставления счетов области обеспечивают следующие роли:

- **Корпоративный администратор** — может управлять выставления счетов параметры учетной записи и доступа, можно просмотреть все затраты и может управлять конфигурацией. Например, в условиях ограниченного бюджета и экспортирует. В функции, EA, выставление счетов области совпадает со значением [роли RBAC Azure участник управления стоимость](../role-based-access-control/built-in-roles.md#cost-management-contributor).
- **Пользователь только для чтения предприятия** — можно просмотреть параметры выставления счетов учетной записи, данные о затратах и конфигурацией. Например, в условиях ограниченного бюджета и экспортирует. В функции, EA, выставление счетов области совпадает со значением [роли RBAC Azure чтения стоимость управления](../role-based-access-control/built-in-roles.md#cost-management-reader).
- **Администратор отдела** — можно управлять параметрами отдела, такие как центр затрат и можно доступ, просмотреть все затраты и управление конфигурацией. Например, в условиях ограниченного бюджета и экспортирует.  **Возможность просмотра затрат** выставления счетов для учетной записи необходимо включить для подразделения администраторы и пользователи только для чтения для просмотра затрат. Если **Возможность просмотра затрат** будет отключен, отдел пользователи не видят затраты на любом уровне, даже если они владельца учетной записи или подписки.
- **Отдел пользователя только для чтения** — можно просмотреть параметры отдела, данные о затратах и конфигурацией. Например, в условиях ограниченного бюджета и экспортирует. Если **Возможность просмотра затрат** будет отключен, отдел пользователи не видят затраты на любом уровне, даже если они владельца учетной записи или подписки.
- **Владелец учетной записи** — можно управлять параметрами учетной записи регистрации (такие как центр затрат), просмотреть все затраты и управление конфигурацией затрат (например, бюджеты и экспорты) для учетной записи регистрации. **Отключил Возможность просмотра затрат** выставления счетов для учетной записи необходимо включить для учетной записи владельцев и пользователей RBAC для просмотра затрат.

Пользователи учетной записи EA для выставления счетов не имеют прямой доступ к счетам. Счета, доступны из внешнего тома, системой лицензирования.

Подписки Azure являются вложенными в группе учетных записей регистрации. Выставление счетов пользователи имеют доступ к данным затратами для подписок и групп ресурсов, которые находятся в соответствующих областях. У них нет доступа для просмотра или управления ресурсами на портале Azure. Выставление счетов пользователи могут просматривать затраты, перейдя по адресу **управление затратами + выставление счетов** в список служб портала Azure. Затем их можно отфильтровать затратах для определенных подписок и групп ресурсов, которые необходимы для создания отчетов о.

Выставление счетов пользователей нет доступа группам управления Operations Manager, так как они не попадают ни явным образом в определенной учетной записи выставления счетов. Должен быть предоставлен доступ к группам управления явным образом. Затраты на сводный показатель из всех вложенных подписок групп управления. Тем не менее они включают только покупки на основе использования. Они не включают покупки, например резервирования и сторонние предложения Marketplace. Чтобы просмотреть эти затраты, используйте учетную запись выставления счетов соглашения Enterprise.

## <a name="individual-agreement-pay-as-you-go-scopes"></a>Области отдельных соглашения (Оплата по мере использования)

Подписки по мере использования (PAYG), включая связанные типы, такие как бесплатного или пробного и предлагает разработки и тестирования, нет явного указания области учетной записи выставления счетов. Вместо этого каждая подписка имеет владельца учетной записи или учетной записи администратора, как владелец учетной записи EA.

- [**Учетная запись выставления счетов** ](../billing/billing-view-all-accounts.md) -представляет один владелец для одного или нескольких подписок Azure. Он сейчас не поддерживает предоставление доступа к нескольким пользователям или доступа к представлениям невысокой.

    Тип ресурса: Неприменимо

Администраторы учетной записи подписки (PAYG) можно просматривать и управлять выставления счетов и платежей, из [центре управления учетной записью](https://account.azure.com/subscriptions). Тем не менее нельзя просмотреть данные о затратах или управлять ресурсами на портале Azure. Чтобы предоставить доступ к учетной записи администратора, используйте роли управления затратами, упомянутых ранее.

В отличие от EA Администраторы учетной записи подписки (PAYG) можно увидеть свои счета на портале Azure. Имейте в виду, что стоимость управления чтения "и" участник управления стоимость роли не предоставляют доступ к счетам. Дополнительные сведения см. в разделе [как предоставить доступ к счетам PAYG](../billing/billing-manage-access.md#give-access-to-billing).

## <a name="customer-agreement-scopes"></a>Области соглашение клиента

Учетные записи выставления счетов клиента соглашение Microsoft имеют следующие области:

- **Учетная запись выставления счетов** -представляет соглашении клиента для нескольких продуктов и служб Майкрософт. Выставления счетов клиента соглашения не являются функционально так же, как регистраций EA. Точнее регистраций EA выравниваются по выставления счетов профилей.

    Тип ресурса: `Microsoft.Billing/billingAccounts (accountType = Organization)`

- **Профиль выставления счетов** -определяет подписки, которые включаются в счет. Выставление счетов профили являются функционального аналога с соглашением EA, так как это области, счета могут создаваться на. Аналогичным образом покупки, которые не являются основано на использовании (например, Marketplace и бронирования) доступны только в этой области. Они не включены в разделы счетов.

    Тип ресурса: `Microsoft.Billing/billingAccounts/billingProfiles`

- **Раздел счета** -представляет группу подписок в счет или профиль выставления счетов. Разделы счетов похожи на отделы, несколько пользователей могут иметь доступ к раздел счета.

    Тип ресурса: `Microsoft.Billing/billingAccounts/invoiceSections`

В отличие от EA выставления счетов областей, соглашении клиента, выставление счетов для учетных записей _являются_ привязаны в один каталог и не могут иметь подписки в нескольких каталогах Azure AD.

Области выставления счетов соглашения клиента обеспечивают следующие роли:

- **Владелец** — может управлять параметры выставления счетов и доступ к, просмотреть все затраты и управление конфигурацией. Например, в условиях ограниченного бюджета и экспортирует. В функции, это соглашение клиента, выставление счетов области совпадает со значением [роли RBAC Azure участник управления стоимость](../role-based-access-control/built-in-roles.md#cost-management-contributor).
- **Участник** — можно управлять параметрами выставления счетов, кроме доступа, просмотреть все затраты и управления конфигурацией. Например, в условиях ограниченного бюджета и экспортирует. В функции, это соглашение клиента, выставление счетов области совпадает со значением [роли RBAC Azure участник управления стоимость](../role-based-access-control/built-in-roles.md#cost-management-contributor).
- **Модуль чтения** — можно просмотреть параметры выставления счетов, данные о затратах и конфигурацией. Например, в условиях ограниченного бюджета и экспортирует. В функции, это соглашение клиента, выставление счетов области совпадает со значением [роли RBAC Azure чтения стоимость управления](../role-based-access-control/built-in-roles.md#cost-management-reader).
- **Управление счетами** — можно просматривать и оплаты счета-фактуры и можно просмотреть затрат данные и конфигурацию. Например, в условиях ограниченного бюджета и экспортирует. В функции, это соглашение клиента, выставление счетов области совпадает со значением [роли RBAC Azure чтения стоимость управления](../role-based-access-control/built-in-roles.md#cost-management-reader).
- **Создатель подписки Azure** — можно создавать подписки Azure, сведения о затратах и управления конфигурацией. Например, в условиях ограниченного бюджета и экспортирует. В функции эта область выставления счетов соглашения клиента совпадает с роль владельца учетной записи регистрации EA.

Подписки Azure вложены в разделы счетов, как и как они под учетными записями регистрации EA. Выставление счетов пользователи имеют доступ к данным затратами для подписок и групп ресурсов, которые находятся в соответствующих областях. Тем не менее у них нет доступа для просмотра или управления ресурсами на портале Azure. Выставление счетов пользователи могут просматривать затраты, перейдя по адресу **управление затратами + выставление счетов** в список служб портала Azure. Затем выполните фильтрацию затратах для определенных подписок и групп ресурсов, которые необходимы для создания отчетов о.

Выставление счетов пользователей нет доступа группам управления Operations Manager, так как они не попадают ни явным образом в учетной записи выставления счетов. Тем не менее если группы управления включены для организации, все затраты на подписку свернутые в учетную запись выставления счетов и управления в корневую группу потому, что оба они ограничены в один каталог. Группы управления включают только покупок, основаны на использовании. Покупки резервирования и сторонние предложения Marketplace не включены в группы управления. Таким образом выставления счетов учетной записи и корневой группы управления может сообщать различные итоговые значения. Чтобы просмотреть эти затраты, используйте запись выставления счетов или соответствующего профиля выставления счетов.

## <a name="cloud-solution-provider-csp-scopes"></a>Облако области поставщика решений (CSP)

Сегодня облачных партнеров поставщика решений (CSP) не поддерживаются в службе управления затратами. Вместо этого можно использовать [центра партнеров](https://docs.microsoft.com/azure/cloud-solution-provider/overview/partner-center-overview).

## <a name="switch-between-scopes-in-cost-management"></a>Переключение между областями в службе управления затратами

Все управление затратами на портале Azure включает в себя **область** поглощений в верхней левой части представления. Используйте для быстрого изменения области. Нажмите кнопку **область** поглощений, чтобы открыть средство выбора области. Он показывает, выставления счетов, в корневую группу управления и все подписки, не вложен в узел в корневую группу управления. Чтобы выбрать область, щелкните фон, чтобы выделить его и нажмите кнопку **выберите** внизу. Чтобы при подробном анализе для вложенных областей, таких как группы ресурсов в подписке, щелкните ссылку имя области. Чтобы выбрать любого вложенного уровня родительской области, щелкните **установите этот флажок, &lt;область&gt;**  в верхней части окна выбора области.

## <a name="identify-the-resource-id-for-a-scope"></a>Определить идентификатор ресурса для области

При работе с API-интерфейсов управления затрат, зная, что критические области. Используйте следующие сведения для создания правильного URI области для API управления затрат.

### <a name="billing-accounts"></a>Учетные записи для выставления счетов

1. Откройте портал Azure и перейдите к **управление затратами + выставление счетов** в списке служб.
2. Выберите **свойства** в меню учетной записи выставления счетов.
3. Скопируйте идентификатор учетной записи выставления счетов
4. Область является: `"/providers/Microsoft.Billing/billingAccounts/{billingAccountId}"`

### <a name="billing-profiles"></a>Профили выставления счетов

1. Откройте портал Azure и перейдите к **управление затратами + выставление счетов** в списке служб.
2. Выберите **профили счетов** в меню учетной записи выставления счетов.
3. Щелкните имя нужного профиля выставления счетов.
4. Выберите **свойства** в меню профиля выставления счетов.
5. Копирование учетной записи выставления счетов и выставления счетов идентификаторы профилей.
6. Область является: `"/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/billingProfiles/{billingProfileId}"`

### <a name="invoice-sections"></a>Разделы счетов

1. Откройте портал Azure и перейдите к **управление затратами + выставление счетов** в списке служб.
2. Выберите **выставляется счет разделах** в меню учетной записи выставления счетов.
3. Щелкните имя нужного счета раздела.
4. Выберите **свойства** в раздел меню "счета".
5. Копирование учетной записи выставления счетов и накладной разделе идентификаторы.
6. Область является: `"/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/invoiceSections/{invoiceSectionId}"`

### <a name="ea-departments"></a>Отделы EA

1. Откройте портал Azure и перейдите к **управление затратами + выставление счетов** в списке служб.
2. Выберите **отделов** в меню учетной записи выставления счетов.
3. Щелкните имя нужного отдела.
4. Выберите **свойства** в меню "Отдел".
5. Скопируйте идентификаторы учетной записи "и" Отдел выставления счетов.
6. Область является: `"/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/departments/{departmentId}"`

### <a name="ea-enrollment-account"></a>Учетная запись регистрации EA

1. Откройте портал Azure и перейдите к **управление затратами + выставление счетов** в списке служб.
2. Выберите **учетных записей регистрации** в меню учетной записи выставления счетов.
3. Щелкните имя нужного регистрации учетной записи.
4. Выберите **свойства** в меню учетной записи регистрации.
5. Скопируйте запись выставления счетов и идентификаторы учетных записей регистрации.
6. Область является: `"/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/enrollmentAccounts/{enrollmentAccountId}"`

### <a name="management-group"></a>группа управления;

1. Откройте портал Azure и перейдите к **групп управления** в списке служб.
2. Перейдите к группе управления.
3. Скопируйте идентификатор группы управления из таблицы.
4. Область является: `"/providers/Microsoft.Management/managementGroups/{id}"`

### <a name="subscription"></a>Подписка

1. Откройте портал Azure и перейдите к **подписок** в списке служб.
2. Скопируйте идентификатор подписки из таблицы.
3. Область является: `"/subscriptions/{id}"`

### <a name="resource-groups"></a>Группы ресурсов

1. Откройте портал Azure и перейдите к **групп ресурсов** в списке служб.
2. Щелкните имя группы требуемого ресурса.
3. Выберите **свойства** в меню группы ресурсов.
4. Скопируйте значение поля идентификатора ресурса.
5. Область является: `"/subscriptions/{id}/resourceGroups/{name}"`

В настоящее время поддерживается управление затратами [Azure Global](https://management.azure.com) и [Azure для государственных организаций](https://management.usgovcloudapi.net). Дополнительные сведения о Azure для государственных организаций, см. в разделе [конечные точки API для государственных организаций и Azure Global](../azure-government/documentation-government-developer-guide.md#endpoint-mapping) _._

## <a name="next-steps"></a>Дальнейшие действия

- См. первое краткое руководство по [работе с Управлением затратами](quick-acm-cost-analysis.md).
