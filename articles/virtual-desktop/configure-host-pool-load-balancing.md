---
title: Настройка метода балансировки нагрузки Апробация виртуального рабочего стола Windows - Azure
description: Сведения о настройке метода балансировки нагрузки в среде виртуального рабочего стола Windows.
services: virtual-desktop
author: Heidilohr
ms.service: virtual-desktop
ms.topic: conceptual
ms.date: 03/21/2019
ms.author: helohr
ms.openlocfilehash: 0c4702dada17e759d89c33be99b3155f4b15ad9e
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60328890"
---
# <a name="configure-the-windows-virtual-desktop-preview-load-balancing-method"></a>Настройка метода балансировки нагрузки Апробация виртуального рабочего стола Windows

Настройке метода балансировки нагрузки для пула узлов позволяет настраивать среды Апробация виртуального рабочего стола Windows для большего соответствия вашим потребностям.

>[!NOTE]
> Это относится к пулу постоянные узла рабочего стола, так как у пользователей всегда есть взаимно-однозначного сопоставления для узла сеансов в пуле узлов.

## <a name="configure-breadth-first-load-balancing"></a>Настройка балансировки нагрузки по ширине

Балансировка нагрузки по ширине является конфигурацией по умолчанию для новых пулов непостоянный узла. Балансировка нагрузки по ширине распределяет новых пользовательских сеансов для всех узлов в пуле узлов, доступных сеансов. При настройке балансировки нагрузки по ширине, вы может ограничить максимальное число сеансов для каждого узла сеанса в пуле узлов.

Сначала [скачайте и импортируйте модуль PowerShell для Виртуального рабочего стола Windows](https://docs.microsoft.com/powershell/windows-virtual-desktop/overview) для использования в сеансе PowerShell (если вы еще это не сделали).

Чтобы настроить пул узлов для выполнения преимущественно балансировку нагрузки без настройки ограничивает продолжительность сеанса, выполните следующий командлет PowerShell:

```powershell
Set-RdsHostPool <tenantname> <hostpoolname> -BreadthFirstLoadBalancer
```

Чтобы настроить пул узлов для выполнения балансировки нагрузки по ширине и использовать новый сеанс максимальное ограничение, выполните следующий командлет PowerShell:

```powershell
Set-RdsHostPool <tenantname> <hostpoolname> -BreadthFirstLoadBalancer -MaxSessionLimit ###
```

## <a name="configure-depth-first-load-balancing"></a>Настройка балансировки нагрузки преимущественно в глубину

Балансировка нагрузки преимущественно в глубину распределяет новых пользовательских сеансов, в основном доступных сеансов с наибольшим номером подключений, но не достигнут порог его максимальное число сеансов. При настройке балансировки нагрузки преимущественно в глубину, вы **необходимо** ограничить максимальное число сеансов для каждого сеанса узла в пуле узлов.

Чтобы настроить пул для выполнения балансировки нагрузки преимущественно в глубину узла, выполните следующий командлет PowerShell:

```powershell
Set-RdsHostPool <tenantname> <hostpoolname> -DepthFirstLoadBalancer -MaxSessionLimit ###
```
