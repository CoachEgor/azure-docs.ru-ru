---
title: Установка языковых пакетов на виртуальных машинах Windows 10 в виртуальном рабочем столе Windows — Azure
description: Установка языковых пакетов для многосеансовых виртуальных машин Windows 10 в виртуальном рабочем столе Windows.
author: Heidilohr
ms.topic: how-to
ms.date: 04/03/2020
ms.author: helohr
manager: lizross
ms.openlocfilehash: 542163511a1b4fc0acde9b44d73be6ffc042d5d3
ms.sourcegitcommit: 98854e3bd1ab04ce42816cae1892ed0caeedf461
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2020
ms.locfileid: "88008769"
---
# <a name="install-language-packs"></a>Установка языковых пакетов

При настройке развертываний виртуальных рабочих столов Windows в разных регионах рекомендуется убедиться, что развертывание поддерживает несколько языков. Вы можете установить языковые пакеты на образе виртуальной машины с несколькими сеансами Windows 10, чтобы поддерживать столько языков, сколько требуется вашей организации. Из этой статьи вы узнаете, как установить языковые пакеты и образы для записи, которые позволяют пользователям выбирать собственные языки интерфейса.

Дополнительные сведения о развертывании ВИРТУАЛЬНОЙ машины в Azure см. в статье [Создание виртуальной машины Windows в зоне доступности с портал Azure](../virtual-machines/windows/create-portal-availability-zone.md).

>[!NOTE]
>Эта статья относится к многосеансовой виртуальной машине Windows 10 Enterprise.

## <a name="install-a-language-pack"></a>Установка языкового пакета

Чтобы создать образ виртуальной машины с языковыми пакетами, сначала необходимо установить языковые пакеты на компьютере и записать его образ.

Установка языковых пакетов:

1. Войдите в систему как администратор.
2. Убедитесь, что установлены все последние обновления Windows и магазина Windows.
3. Выберите **Параметры**  >  **время &**  >  **регион**язык.
4. В разделе **страна или регион**выберите предпочитаемую страну или регион в раскрывающемся меню.
    В этом примере мы будем выбирать **Франция**, как показано на следующем снимке экрана:

    > [!div class="mx-imgBorder"]
    > ![Снимок экрана страницы региона. Текущий выбранный регион — Франция.](media/region-page-france.png)

5. После этого выберите **язык**, а затем выберите **Добавить язык**. Выберите из списка язык, который нужно установить, а затем нажмите кнопку **Далее**.
6. Когда откроется окно **Установка языковых возможностей** , установите флажок **установить языковой пакет и установить в качестве языка интерфейса Windows**.
7. Выберите пункт **Установить**.
8. Чтобы добавить несколько языков одновременно, выберите **Добавить язык**, а затем повторите процесс, чтобы добавить язык в шагах 5 и 6. Повторите эту процедуру для каждого языка, который требуется установить. Однако в качестве языка интерфейса можно задать только один язык.

    Давайте начнем с быстрой визуальной демонстрации. На следующих изображениях показано, как установить французские и голландские языковые пакеты, а затем установить французский язык интерфейса.

    > [!div class="mx-imgBorder"]
    > ![Снимок экрана страницы языка в начале процесса. Выбранный язык интерфейса Windows — Английский.](media/language-page-default.png)

    > [!div class="mx-imgBorder"]
    > ![Снимок экрана окна выбора языка. Пользователь перешел на панель поиска по "французскому" для поиска пакетов на французском языке.](media/select-language-french.png)

    > [!div class="mx-imgBorder"]
    > ![Снимок экрана со страницей установки возможностей языка. В качестве предпочтительного языка выбран французский язык. Выбранные параметры: "Задать мой язык интерфейса", "установить языковой пакет", "распознавание речи" и "рукописный текст".](media/install-language-features.png)

    После установки языковых пакетов должны отобразиться имена языковых пакетов, которые отображаются в списке языков.

    > [!div class="mx-imgBorder"]
    > ![Снимок экрана со страницей языка с установленными новыми языковыми пакетами. Французские и Нидерландов языковые пакеты перечислены в разделе "предпочтительные языки".](media/language-page-complete.png)

9. Если появится окно с запросом на выход из сеанса. Выйдите из, а затем снова войдите. Теперь ваш язык интерфейса должен быть выбранным языком.

10.  Выберите **Панель управления**  >  **часы и регион региона**  >  **Region**.

11.  Когда откроется окно **регион** , перейдите на вкладку **Администрирование** и выберите **Копировать параметры**.

12.  Установите флажки с надписью **экран приветствия и системные учетные записи** и **новые учетные записи пользователей**.

13.  Нажмите кнопку **OK**.

14.  Откроется окно с указанием о перезапуске сеанса. Выберите **Перезагрузить сейчас**.

15.  После того как вы снова войдете в, **Control Panel**вернитесь в раздел  >  **часы и**регион панели управления  >  **Region**.

16.  Перейдите на вкладку **Администрирование** .

17.  Выберите **изменить язык системы**.

18. В раскрывающемся меню в разделе **текущий язык системы**выберите язык локали, который вы хотите использовать. После этого нажмите кнопку **ОК**.

19. Выберите **Перезагрузить сейчас** , чтобы снова запустить сеанс.

Поздравляем, вы установили свои языковые пакеты!

Прежде чем продолжить, убедитесь, что в системе установлены последние версии Windows и магазина Windows.

## <a name="sysprep"></a>Sysprep

Далее необходимо выполнить Sysprep на компьютере, чтобы подготовить его к процессу записи образа.

Чтобы выполнить Sysprep на компьютере, выполните следующие действия.

1. Откройте PowerShell от имени администратора.
2. Выполните следующий командлет, чтобы открыть правильный каталог:

    ```powershell
    cd Windows\System32\Sysprep
    ```

3. Затем выполните следующий командлет:

    ```powershell
    .\sysprep.exe
    ```

4. Когда откроется окно средства подготовки системы, установите флажок обоснованный **generalize**, перейдите в раздел **Параметры завершения работы** и выберите пункт **Завершение работы** в раскрывающемся меню.

>[!NOTE]
>Процесс сипреп займет несколько минут. При завершении работы виртуальной машины удаленный сеанс будет отключен.

### <a name="resolve-sysprep-errors"></a>Устранение ошибок Sysprep

Если во время процесса Sysprep появится сообщение об ошибке, выполните следующие действия.

1. Откройте **диск C** и перейдите в раздел **Windows**  >  **system32 Sysprep**  >  **пансер**, а затем откройте файл **сетуперр** .

   Текст в файле ошибок сообщит вам, что необходимо удалить конкретный языковой пакет, как показано на следующем рисунке. Скопируйте имя языкового пакета для следующего шага.

   > [!div class="mx-imgBorder"]
   > ![Снимок экрана файла сетуперр. Текст с именем пакета выделяется темно-синим цветом.](media/setuperr-package-name.png)

2. Откройте новое окно PowerShell и выполните следующий командлет с именем пакета, скопированным на шаге 2, чтобы удалить языковой пакет:

   ```powershell
   Remove-AppxPackage <package name>
   ```

3. Убедитесь, что пакет удален, выполнив `Remove-AppxPackage` командлет снова. Если пакет успешно удален, вы увидите сообщение о том, что пакет, который вы пытаетесь удалить, отсутствует.

4. Запустите `sysprep.exe` командлет еще раз.

## <a name="capture-the-image"></a>Запись образа

Теперь, когда система готова, вы можете записать образ, чтобы другие пользователи могли начать использовать виртуальные машины на основе вашей системы без повторения процесса настройки.

Чтобы записать образ, сделайте следующее:

1. Перейдите к портал Azure и выберите имя компьютера, настроенного в окне [Установка языкового пакета](#install-a-language-pack) и [Sysprep](#sysprep).

2. Выберите **захват**.

3. Введите имя изображения в поле **имя** и назначьте его группе ресурсов с помощью раскрывающегося меню **Группа ресурсов** , как показано на следующем рисунке.

   > [!div class="mx-imgBorder"]
   > ![Снимок экрана окна создания изображения. Имя, присвоенное пользователю для этого тестового образа: "вмввд-Image-fr", и оно назначено группе ресурсов "тестввдимажерг".](media/create-image.png)

4. Нажмите кнопку **создания**.

5. Подождите несколько минут, пока процесс записи завершится. Когда изображение будет готово, в центре уведомлений должно появиться сообщение, информирующее о том, что образ был захвачен.

Теперь вы можете развернуть виртуальную машину с помощью нового образа. При развертывании виртуальной машины обязательно следуйте инструкциям в статье [Создание виртуальной машины Windows в зоне доступности с портал Azure](../virtual-machines/windows/create-portal-availability-zone.md).

### <a name="how-to-change-display-language-for-standard-users"></a>Изменение языка интерфейса для обычных пользователей

Обычные пользователи могут изменять язык интерфейса на своих виртуальных машинах.

Чтобы изменить язык интерфейса, выполните следующие действия.

1. Перейдите в раздел **Параметры языка**. Если вы не умеете, то можете ввести **язык** в строку поиска в меню "Пуск".

2. В раскрывающемся меню язык интерфейса Windows выберите язык, который требуется использовать в качестве языка интерфейса.

3. Выйдите из сеанса, а затем снова выполните вход. Теперь язык интерфейса должен быть выбран на шаге 2.
