---
title: Windows Virtual Desktop host pool load-balancing - Azure
description: Методы балансировки нагрузки пула для среды Windows Virtual Desktop.
services: virtual-desktop
author: Heidilohr
ms.service: virtual-desktop
ms.topic: conceptual
ms.date: 03/21/2019
ms.author: helohr
manager: lizross
ms.openlocfilehash: 193821ed0df09b87f19e45a82ca42026405a0dc4
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79127861"
---
# <a name="host-pool-load-balancing-methods"></a>Методы балансировки нагрузки пула узлов

Windows Virtual Desktop поддерживает два метода балансировки нагрузки. Каждый метод определяет, какой ухист сеансбудет при подключении к ресурсу в пуле хоста.

Следующие методы балансировки нагрузки доступны в Windows Virtual Desktop:

- Балансировка нагрузки в ширину позволяет равномерно распределять пользовательские сеансы между хостами сеансов в пуле узлов.
- Балансировка нагрузки первой глубины позволяет насытить хост сеанса пользовательскими сессиями в пуле хоста. Как только первый сеанс достигает порога лимита сеанса, балансомер нагрузки направляет любые новые подключения пользователей к следующему хостам сеанса в пуле хоста до тех пор, пока он не достигнет своего предела, и так далее.

Каждый пул хоста может настроить только один тип балансировки нагрузки, специфичный для него. Однако оба метода балансировки нагрузки разделяют следующие методы поведения независимо от того, в каком пуле узлов они находятся:

- Если пользователь уже имеет сеанс в пуле хоста и повторно подключается к этому сеансу, балансомер нагрузки успешно перенаправит его на унитаз сеанса с существующим сеансом. Это поведение применяется даже в том случае, если свойство AllowNewConnections этого узла сеанса настроено на ложное.
- Если у пользователя еще нет сеанса в пуле хоста, то балансомер нагрузки не будет рассматривать узлы сеансов, чье свойство AllowNewConnections настроено на ложное во время балансировки нагрузки.

## <a name="breadth-first-load-balancing-method"></a>Метод балансировки нагрузки в ширину-первый

Метод балансировки нагрузки с первого по ширины позволяет распределять пользовательские соединения для оптимизации для этого сценария. Этот метод идеально подходит для организаций, которые хотят предоставить лучший опыт для пользователей, подключенных к их объединенной виртуальной среде рабочего стола.

Первый метод "Ширина- метод" запрашивает хосты сеансов, которые позволяют новые соединения. Затем метод выбирает хост сеанса с наименьшим количеством сеансов. Если есть связь, метод выбирает первый хост сеанса в запросе.

## <a name="depth-first-load-balancing-method"></a>Метод балансировки нагрузки первой глубины

Метод балансировки нагрузки с первого порочный объем позволяет насыщать один хост сеанса одновременно для оптимизации для этого сценария. Этот метод идеально подходит для организаций, которые хотят более детального контроля над количеством виртуальных машин, которые они выделили для пула хоста.

Углубичнно-первый метод первого сеанса запросов, которые позволяют новые соединения и не перешли их максимальный предел сеанса. Затем метод выбирает хост сеанса с наибольшим количеством сеансов. Если есть связь, метод выбирает первый хост сеанса в запросе.