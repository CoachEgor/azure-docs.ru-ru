---
title: FSLogix профиль контейнеров и файлов Azure в Windows виртуальный рабочий стол — Azure
description: В этой статье описывается контейнеры профиль FSLogix файлов виртуального рабочего стола Windows и Azure.
services: virtual-desktop
author: ChJenk
ms.service: virtual-desktop
ms.topic: conceptual
ms.date: 05/16/2019
ms.author: v-chjenk
ms.openlocfilehash: b3032aa796b3c79572bbf8b2beb85efc252ff73b
ms.sourcegitcommit: 600d5b140dae979f029c43c033757652cddc2029
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2019
ms.locfileid: "66497534"
---
# <a name="fslogix-profile-containers-and-azure-files"></a>Контейнеры профилей FSLogix и Файлы Azure

Обзор виртуального рабочего стола Windows служба выдает FSLogix профиль контейнеры как решение профиля пользователя. FSLogix разработан для перемещения профилей в удаленных средах вычислений, таких как виртуальный рабочий стол Windows. Он сохраняет полный профиль в одном контейнере. При входе в систему этот контейнер динамически прикрепляется к вычислительной среды, с помощью поддерживаемых виртуального жесткого диска (VHD) и Hyper-V виртуальный жесткий диск (VHDX). Профиль пользователя сразу становятся доступными и отображается в системе так же, как собственный профиль.

В этой статье мы опишем контейнеры FSLogix профиля, используемые с файлами Azure. Эта информация содержится в контексте Windows виртуальному рабочему столу, которая была [объявлено 3/21](https://www.microsoft.com/microsoft-365/blog/2019/03/21/windows-virtual-desktop-public-preview/).

## <a name="user-profiles"></a>Профили пользователей

Профиль пользователя содержит элементы данных об отдельных пользователей, включая сведения о конфигурации, например параметры рабочего стола, постоянные сетевые подключения и параметры приложения. По умолчанию Windows создает профиль локального пользователя, который тесно интегрирован с операционной системой.

Профиль удаленного пользователя предоставляет секции между данными пользователя и операционной системы. Она позволяет операционной системе заменить или изменить, не затрагивая данные пользователя. В узла сеансов удаленных рабочих столов (RDSH) и инфраструктуры виртуальных рабочих столов (VDI) операционная система может быть заменен по следующим причинам:

- Обновление операционной системы
- Замена из существующей виртуальной машины (VM)
- Являясь частью пула (непостоянный) RDSH или VDI среде пользователя

С помощью нескольких технологий для профилей удаленного пользователя, включая эти технологии работают продуктов корпорации Майкрософт:
- Перемещаемые профили пользователей (RUP)
- Диски профилей пользователей (UPD)
- Службы Enterprise state roaming (ESR)

UPD и RUP являются наиболее широко используемых технологий для профилей пользователей в средах узла сеансов удаленных рабочих столов (RDSH) и виртуального жесткого диска (VHD).

### <a name="challenges-with-previous-user-profile-technologies"></a>Проблемы с предыдущими технологиями профиля пользователя

Существующие и предыдущих версий Microsoft solutions для профилей пользователей прилагается различных задач. Нет предыдущего решения обрабатываются все потребности профиля пользователя, поставляемые со средой RDSH или VDI. Например UPD не может обрабатывать большие файлы OST и различно для RUP современный параметры.

#### <a name="functionality"></a>Функция

Ниже приведены преимущества и ограничения предыдущих технологий профиля пользователя.

| Технология | Современные параметры | Параметры Win32 | Параметры ОС | Пользовательские данные | Поддерживается на сервере SKU | Серверного хранилища в Azure | Локальное хранилище серверной части | Поддержка версий | Последующие входа во времени |Примечания|
| ---------- | :-------------: | :------------: | :---------: | --------: | :---------------------: | :-----------------------: | :--------------------------: | :-------------: | :---------------------: |-----|
| **Диски профилей пользователей (UPD)** | Да | Да | Да | Да | Да | Нет | Да | Win 7 и более поздние | Да | |
| **Перемещаемого профиля пользователя (RUP), режим обслуживания** | Нет | Да | Да | Да | Да| Нет | Да | Win 7 и более поздние | Нет | |
| **Службы Enterprise State Roaming (ESR)** | Да | Нет | Да | Нет | См. примечания | Да | Нет | Windows 10 | Нет | Функции на сервере SKU, но не поддерживающего интерфейса пользователя |
| **User Experience Virtualization (UE-V)** | Да | Да | Да | Нет | Да | Нет | Да | Win 7 и более поздние | Нет |  |
| **Файлы OneDrive в облаке** | Нет | Нет | Нет | Да | См. примечания | См. примечания  | См. примечания | Win 10 RS3 | Нет | Не прошла проверку на сервере SKU. Серверного хранилища в Azure зависит от клиента синхронизации. Серверного хранилища в локальной среде необходимо клиент синхронизации. |

#### <a name="performance"></a>Производительность

Требуется UPD [дисковых пространств (S2D)](https://docs.microsoft.com/windows-server/remote/remote-desktop-services/rds-storage-spaces-direct-deployment) для удовлетворения требований к производительности. UPD использует протокол Server Message Block (SMB). Он копирует профиля виртуальной Машины, в котором вошел пользователь. UPD с S2D было решение, рекомендуется использовать в команде разработчиков RDS для виртуального рабочего стола Windows на этапе предварительной версии службы.  

#### <a name="cost"></a>Затраты

Хотя кластерах S2D обеспечить необходимую производительность, обходится дорого для корпоративных клиентов, но особенно сильно для клиентов малого и среднего бизнеса (SMB). В этом решении предприятий платите за диски хранилища класса premium, а также затраты на виртуальные машины, которые используют диски для общей папки.

#### <a name="administrative-overhead"></a>Администрирование

S2D кластеров требуется операционная система, исправления, обновления и сохраняется в безопасном состоянии. Эти процессы и сложность настройки аварийного восстановления S2D делают S2D возможно только для предприятий с ИТ-отделов.

## <a name="fslogix-profile-containers"></a>Контейнеры FSLogix профиля

19 ноября 2018 года [Корпорация Майкрософт приобрела FSLogix](https://blogs.microsoft.com/blog/2018/11/19/microsoft-acquires-fslogix-to-enhance-the-office-365-virtualization-experience/). FSLogix трудности, многие профиля контейнера. Ключ между ними являются:

- **Производительность.** [FSLogix профиль контейнеры](https://fslogix.com/products/profile-containers) — это высокопроизводительное и устранить проблемы с производительностью, традиционно заблокированных режиме кэширования данных exchange.
- **OneDrive:** Без контейнеров FSLogix профиля OneDrive для бизнеса не поддерживается в непостоянный средах RDSH или VDI. [OneDrive для бизнеса и FSLogix рекомендации](https://fslogix.com/products/technical-faqs/284-onedrive-for-business-and-fslogix-best-practices) описывает их взаимодействие. Дополнительные сведения см. в разделе [использовать клиент синхронизации на виртуальные рабочие столы](https://docs.microsoft.com/deployoffice/rds-onedrive-business-vdi).
- **Дополнительные папки:** FSLogix предоставляет возможность расширить профили пользователей, чтобы включить дополнительные папки.

С момента этого приобретения корпорация Майкрософт начала замены существующих решений профиля пользователя, таких как UPD, контейнеры FSLogix профиля.

## <a name="azure-files-integration-with-azure-active-directory"></a>Интеграция Azure файлы с Azure Active Directory

Производительность контейнеров FSLogix профиля и компоненты преимущества облака. 24 сентября 2018 г., файлов Microsoft Azure сообщила о общедоступной предварительной версии [файлов Azure, поддерживающих аутентификацию Azure Active Directory](https://azure.microsoft.com/blog/azure-active-directory-integration-for-smb-access-now-in-public-preview/). Решая, затраты и затраты на администрирование, файлов Azure с проверкой подлинности Azure Active Directory — это решение уровня "премиум" для профилей пользователей в новой службе виртуальный рабочий стол Windows.

## <a name="best-practices-for-windows-virtual-desktop"></a>Рекомендации по виртуальному рабочему столу Windows

Виртуальный рабочий стол Windows предлагает полный контроль над размер, тип и количество виртуальных машин, которые используются клиентами. Дополнительные сведения см. в разделе [Какова Апробация виртуального рабочего стола Windows?](https://docs.microsoft.com/azure/virtual-desktop/overview).

Чтобы обеспечить виртуальный рабочий стол Windows среды энсоном:

- Учетная запись хранения Azure файлов должен быть в том же регионе, как узел сеансов виртуальных машин.
- Разрешения Azure файлов должны совпадать с разрешениями, описанными в [требования - контейнеры профиль](https://docs.fslogix.com/display/20170529/Requirements+-+Profile+Containers).
- Каждый пул узлов должны быть построены из один и тот же тип и размер виртуальной Машины на основе одного главного образа.
- Каждой виртуальной Машине в пуле узлов должен быть в той же группе ресурсов, для упрощения управления, масштабирование и обновление.
- Для обеспечения оптимальной производительности решения хранилища и FSLogix, контейнер профиля должны быть те же самые данные расположения центра обработки.
- Учетную запись хранения, содержащую главного образа должен быть в том же регионе и подписке, где виртуальные машины подготавливаются к работе.

## <a name="next-steps"></a>Дальнейшие действия

Используйте приведенные ниже инструкции для настройки в среде виртуального рабочего стола Windows.

- Чтобы приступить к разработке out решение для виртуализации настольных систем, см. в разделе [создать клиент в виртуальный рабочий стол Windows](https://docs.microsoft.com/azure/virtual-desktop/tenant-setup-azure-active-directory).
- Чтобы создать пул узлов в вашем клиенте виртуального рабочего стола Windows, см. в разделе [создать пул узлов с Azure Marketplace](https://docs.microsoft.com/azure/virtual-desktop/create-host-pools-azure-marketplace).
- Для настройки полностью управляемые файловые ресурсы в облаке, см. в разделе [настроить файловый ресурс Azure](https://docs.microsoft.com/azure/storage/files/storage-files-active-directory-enable).
- Чтобы настроить FSLogix профиль контейнеры, см. в разделе [Настройка общей папки профиля пользователя в пуле узлов](https://docs.microsoft.com/azure/virtual-desktop/create-host-pools-user-profile).
- Чтобы назначить пользователей в кластер узлов, см. в разделе [Управление группами приложений для виртуального рабочего стола Windows](https://docs.microsoft.com/azure/virtual-desktop/manage-app-groups).
- Для доступа к ресурсам виртуальный рабочий стол Windows в веб-браузере, см. в разделе [подключение к виртуальному рабочему столу Windows](https://docs.microsoft.com/azure/virtual-desktop/connect-web).
