---
title: Ссылка на ошибку для проверки работоспособности
description: Коды ошибок и возможные решения проблем, найденных при запуске диагностической команды az acr check-health в реестре контейнеров Azure
ms.topic: article
ms.date: 07/02/2019
ms.openlocfilehash: 971b28b2bf8d9ac22cec0efe979837886762cf17
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "80289147"
---
# <a name="health-check-error-reference"></a>Ссылка на ошибку проверки работоспособности

Ниже приведены сведения о кодах ошибок, возвращенных командой [проверки аз-акр.][az-acr-check-health] Для каждой ошибки перечислены возможные решения.

## <a name="docker_command_error"></a>DOCKER_COMMAND_ERROR

Эта ошибка означает, что клиент Docker для CLI не может быть найден. В результате не выполняется следующие дополнительные проверки: поиск версии Docker, оценка состояния докера деэмона и запуск команды Docker pull.

*Потенциальные решения*: Установка клиента Docker; добавить путь Docker к переменным системы.

## <a name="docker_daemon_error"></a>DOCKER_DAEMON_ERROR

Эта ошибка означает, что статус Docker daemon недоступен или что он не может быть достигнут с помощью CLI. В результате операции Docker (такие как `docker login` и) `docker pull`недоступны через CLI.

*Потенциальные решения*: Перезапустить Docker daemon, или проверить, что он правильно установлен.

## <a name="docker_version_error"></a>DOCKER_VERSION_ERROR

Эта ошибка означает, что CLI не `docker --version`смог запустить команду.

*Потенциальные решения*: Попробуйте запустить команду вручную, убедитесь, что у вас есть последняя версия CLI, и исследовать сообщение об ошибке.

## <a name="docker_pull_error"></a>DOCKER_PULL_ERROR

Эта ошибка означает, что CLI не смог вытащить образец изображения в окружающую среду.

*Потенциальные решения*: Проверка того, что все компоненты, необходимые для вытягивания изображения, работают должным образом.

## <a name="helm_command_error"></a>HELM_COMMAND_ERROR

Эта ошибка означает, что клиент Helm не может быть найден CLI, что исключает другие операции Helm.

*Потенциальные решения*: Проверить, что клиент Helm установлен, и что его путь добавляется к переменным среды системы.

## <a name="helm_version_error"></a>HELM_VERSION_ERROR

Эта ошибка означает, что CLI не смог определить установленную версию Helm. Это может произойти, если используется версия Azure CLI (или если версия Helm) устарела.

*Потенциальные решения*: Обновление до последней версии Azure CLI или рекомендуемой версии Helm; выполнить команду вручную и исследовать сообщение об ошибке.

## <a name="connectivity_dns_error"></a>CONNECTIVITY_DNS_ERROR

Эта ошибка означает, что DNS для данного сервера входа реестра был pinged, но не ответил, что означает, что он недоступен. Это может указывать на некоторые проблемы с подключением. Кроме того, реестр может не существовать, пользователь может не иметь разрешений в реестре (для правильного получения сервера входа), или целевой реестр находится в другом облаке, чем тот, который используется в Azure CLI.

*Потенциальные решения:* Проверка подключения; проверка орфографии реестра и существования этого реестра; убедитесь, что пользователь имеет на нем нужные разрешения и что облако реестра является тем же, что используется в Azure CLI.

## <a name="connectivity_forbidden_error"></a>CONNECTIVITY_FORBIDDEN_ERROR

Эта ошибка означает, что конечная точка вызова для данного реестра ответила 403 Запрещенный статус HTTP. Эта ошибка означает, что пользователи не имеют доступа к реестру, скорее всего, из-за виртуальной конфигурации сети. Чтобы просмотреть настраиваемые в `az acr show --query networkRuleSet --name <registry>`настоящее время правила брандмауэра, запустите .

*Потенциальные решения:* Удалить виртуальные сетевые правила или добавить текущий IP-адрес клиента в разрешенный список.

## <a name="connectivity_challenge_error"></a>CONNECTIVITY_CHALLENGE_ERROR

Эта ошибка означает, что конечная точка вызова целевого реестра не выдала вызов.

*Потенциальные решения*: Попробуйте еще раз через некоторое время. Если ошибка сохраняется, откройте https://aka.ms/acr/issuesпроблему в .

## <a name="connectivity_aad_login_error"></a>CONNECTIVITY_AAD_LOGIN_ERROR

Эта ошибка означает, что конечная точка вызова целевого реестра выдала вызов, но реестр не поддерживает аутентификацию Azure Active Directory.

*Потенциальные решения*: Попробуйте другой способ проверки подлинности, например, с помощью учетных данных админа. Если пользователям необходимо проверить подлинность с помощью Active https://aka.ms/acr/issuesDirectory Azure, откройте проблему в номере.

## <a name="connectivity_refresh_token_error"></a>CONNECTIVITY_REFRESH_TOKEN_ERROR

Эта ошибка означает, что сервер входа в реестр не ответил маркером обновления, поэтому доступ к целевому реестру был отказано. Эта ошибка может возникнуть, если пользователь не имеет нужных разрешений в реестре или если учетные данные пользователя для Azure CLI устарели.

*Потенциальные решения*: Проверка наличия у пользователя правильных разрешений в реестре; запускать `az login` для обновления разрешений, токенов и учетных данных.

## <a name="connectivity_access_token_error"></a>CONNECTIVITY_ACCESS_TOKEN_ERROR

Эта ошибка означает, что сервер входа в реестр не отвечал с токеном доступа, так что доступ к целевому реестру был отказано. Эта ошибка может возникнуть, если пользователь не имеет нужных разрешений в реестре или если учетные данные пользователя для Azure CLI устарели.

*Потенциальные решения*: Проверка наличия у пользователя правильных разрешений в реестре; запускать `az login` для обновления разрешений, токенов и учетных данных.

## <a name="connectivity_ssl_error"></a>CONNECTIVITY_SSL_ERROR

Эта ошибка означает, что клиент не смог установить безопасное подключение к реестру контейнеров. Эта ошибка обычно возникает, если вы работаете или используете прокси-сервер.

*Потенциальные решения*: Более подробную информацию о работе за прокси можно [найти здесь](https://github.com/Azure/azure-cli/blob/master/doc/use_cli_effectively.md#working-behind-a-proxy).

## <a name="login_server_error"></a>LOGIN_SERVER_ERROR

Эта ошибка означает, что CLI не смог найти сервер входа в данный реестр, и суффикс по умолчанию не был найден для текущего облака. Эта ошибка может произойти, если реестр не существует, если пользователь не имеет нужных разрешений в реестре, если облако реестра и текущее облако Azure CLI не совпадают, или если версия Azure CLI устарела.

*Потенциальные решения*: Убедитесь, что правописание правильно и что реестр существует; проверить, что пользователь имеет право разрешений в реестре, и что облака реестра и среды CLI совпадают; обновление Azure CLI до последней версии.

## <a name="notary_version_error"></a>NOTARY_VERSION_ERROR

Эта ошибка означает, что CLI не совместим с установленной в настоящее время версией Docker/Notary. Попробуйте понижать версию notary.exe до версии раньше 0.6.0, заменив нотариуса клиента установки Docker вручную для решения этой проблемы.

## <a name="next-steps"></a>Дальнейшие действия

Для опций проверки работоспособности реестра [см.](container-registry-check-health.md)

Ознакомьтесь с [часто](container-registry-faq.md) задаваемыми вопросами и другими известными вопросами о реестре контейнеров Azure.





<!-- LINKS - internal -->
[az-acr-check-health]: /cli/azure/acr#az-acr-check-health
