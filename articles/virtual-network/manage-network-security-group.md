---
title: Создание, изменение или удаление группы безопасности сети Azure
titlesuffix: Azure Virtual Network
description: Узнайте, как создать, изменить и удалить группу безопасности сети.
services: virtual-network
documentationcenter: na
author: KumudD
ms.service: virtual-network
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 03/13/2020
ms.author: kumud
ms.openlocfilehash: 9ed4ce6befda76069e965501a320dc110129a024
ms.sourcegitcommit: b0ff9c9d760a0426fd1226b909ab943e13ade330
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2020
ms.locfileid: "80521030"
---
# <a name="create-change-or-delete-a-network-security-group"></a>Создание, изменение и удаление группы безопасности сети

Правила безопасности в группах безопасности сети позволяют фильтровать различный сетевой трафик, который может проходить из подсетей виртуальной сети и сетевых интерфейсов или в них. Дополнительные сведения о группах безопасности сети см. [в этой статье](security-overview.md). Затем заполните учебник [по сетевому трафику Filter,](tutorial-filter-network-traffic.md) чтобы получить некоторый опыт работы с группами сетевой безопасности.

## <a name="before-you-begin"></a>Перед началом

[!INCLUDE [updated-for-az](../../includes/updated-for-az.md)]

Если у вас его нет, навяжните учетную запись Azure с активной подпиской. [Создайте учетную запись](https://azure.microsoft.com/free/?ref=microsoft.com&utm_source=microsoft.com&utm_medium=docs&utm_campaign=visualstudio) бесплатно. Выполните одну из этих задач перед началом оставшейся части этой статьи:

- **Пользователи портала**: Войти на [портал Azure](https://portal.azure.com) с вашей учетной записью Azure.

- **Пользователи PowerShell:** либо запускать команды в [облачной оболочке Azure,](https://shell.azure.com/powershell)либо запускать PowerShell с компьютера. Azure Cloud Shell — это бесплатная интерактивная оболочка, с помощью которой можно выполнять действия, описанные в этой статье. Она включает предварительно установленные общие инструменты Azure и настроена для использования с вашей учетной записью. Во вкладке браузера Azure Cloud Shell найдите список выпадающих **средств для очистки среды Select,** а затем выберите **PowerShell,** если он еще не выбран.

    Если вы работаете локально PowerShell, используйте версию модуля Azure PowerShell 1.0.0 или позже. Выполните командлет `Get-Module -ListAvailable Az.Network`, чтобы узнать установленную версию. Если вам необходимо выполнить обновление, ознакомьтесь со статьей, посвященной [установке модуля Azure PowerShell](/powershell/azure/install-az-ps). Выполните команду `Connect-AzAccount`, чтобы создать подключение к Azure.

- **Пользователи интерфейса Командной строки Azure (CLI)**: либо запускают команды в [оболочке Azure Cloud Shell,](https://shell.azure.com/bash)либо запускают CLI с компьютера. Используйте версию Azure CLI 2.0.28 или позже, если вы используете Azure CLI локально. Выполните командлет `az --version`, чтобы узнать установленную версию. Если вам нужно установить или обновить, [см.](/cli/azure/install-azure-cli) Выполните команду `az login`, чтобы создать подключение к Azure.

Учетная запись, в которую вы входите или подключаетесь к Azure, должна быть назначена [роли вкладчика Сети](../role-based-access-control/built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) или [пользовательской роли,](../role-based-access-control/custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) которая присвоила соответствующие действия, перечисленные в [Разрешении.](#permissions)

## <a name="work-with-network-security-groups"></a>Работа с группами безопасности сети

Можно создать группу безопасности сети, [просмотреть все](#view-all-network-security-groups) группы, [просмотреть сведения о](#view-details-of-a-network-security-group) группе, а также [изменить](#change-a-network-security-group) или [удалить](#delete-a-network-security-group) группу безопасности сети. Вы также можете [создать или удалить связь](#associate-or-dissociate-a-network-security-group-to-or-from-a-subnet-or-network-interface) группы безопасности сети с сетевым интерфейсом или подсетью.

### <a name="create-a-network-security-group"></a>Создание группы безопасности сети

Количество групп сетевой безопасности, которые можно создать для каждого местоположения и подписки Azure, ограничено. Чтобы узнать больше, смотрите [ограничения подписки и обслуживания Azure, квоты и ограничения.](../azure-resource-manager/management/azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)

1. В меню [портала Azure](https://portal.azure.com) или на **главной** странице выберите **«Создайте ресурс».**

2. Выберите **Сеть**, затем выберите **группу сетевой безопасности.**

3. На странице **группы безопасности сети Create** под вкладкой **Basics** установить значения для следующих настроек:

    | Параметр | Действие |
    | --- | --- |
    | **Подписка** | Выберите свою подписку. |
    | **Группа ресурсов** | Выберите существующую группу ресурсов или **создайте новую** для создания новой группы ресурсов. |
    | **Название** | Введите уникальную строку текста в группе ресурсов. |
    | **Регион** | Выберите нужное место. |

4. Выберите **Обзор и создайте**.

5. После просмотра **пройденого сообщения «Проверка»** выберите **«Создать».**

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az network nsg create](/cli/azure/network/nsg#az-network-nsg-create) |
| PowerShell | [New-AzNetworkSecurityGroup](/powershell/module/az.network/new-aznetworksecuritygroup) |

### <a name="view-all-network-security-groups"></a>Просмотр всех групп безопасности сети

Перейдите на [портал Azure](https://portal.azure.com) для просмотра групп сетевой безопасности. Поиск и выбор **групп безопасности сети.** Список групп сетевой безопасности отображается для вашей подписки.

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [список nSG сети сети](/cli/azure/network/nsg#az-network-nsg-list) |
| PowerShell | [Get-AzNetworkSecurityGroup](/powershell/module/az.network/get-aznetworksecuritygroup) |

### <a name="view-details-of-a-network-security-group"></a>Просмотр сведений о группе безопасности сети

1. Перейдите на [портал Azure](https://portal.azure.com) для просмотра групп сетевой безопасности. Поиск и выбор **групп безопасности сети.**

2. Выберите имя группы сетевой безопасности.

В панели меню группы сетевой безопасности в **настройках**можно просмотреть **правила безопасности Входящих,** **правила безопасности Исходящих,** **сетевые интерфейсы**и **подсети,** к которым связана группа сетевой безопасности.

В **соответствии**с мониторингом, вы можете включить или отключить **параметры диагностики.** При **устранении неполадок поддержки и неполадок**можно просмотреть **эффективные правила безопасности.** Чтобы узнать больше, смотрите [Диагностические журналы для группы сетевой безопасности](virtual-network-nsg-manage-log.md) и [диагностики проблемы фильтра сетевого трафика VM.](diagnose-network-traffic-filter-problem.md)

Дополнительные сведения о перечисленных общих параметрах Azure доступны в следующих статьях:

- [Журнал активности](../azure-monitor/platform/platform-logs-overview.md)
- [Контроль доступа (IAM)](../role-based-access-control/overview.md)
- [Теги](../azure-resource-manager/management/tag-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json)
- [Замки](../azure-resource-manager/management/lock-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json)
- [Сценарий автоматизации](../azure-resource-manager/templates/export-template-portal.md)

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az сети nsg шоу](/cli/azure/network/nsg#az-network-nsg-show) |
| PowerShell | [Get-AzNetworkSecurityGroup](/powershell/module/az.network/get-aznetworksecuritygroup) |

### <a name="change-a-network-security-group"></a>Изменение группы безопасности сети

1. Перейдите на [портал Azure](https://portal.azure.com) для просмотра групп сетевой безопасности. Поиск и выбор **групп безопасности сети.**

2. Выберите название группы сетевой безопасности, которая требуется изменить.

Наиболее распространенными изменениями являются [добавление правила безопасности,](#create-a-security-rule) [удаление правила,](#delete-a-security-rule)а [также связывайте или отмежевайте группу сетевой безопасности в подсеть или сетевой интерфейс.](#associate-or-dissociate-a-network-security-group-to-or-from-a-subnet-or-network-interface)

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [обновление сети nsg](/cli/azure/network/nsg#az-network-nsg-update) |
| PowerShell | [Set-AzNetworkSecurityGroup](/powershell/module/az.network/set-aznetworksecuritygroup) |

### <a name="associate-or-dissociate-a-network-security-group-to-or-from-a-subnet-or-network-interface"></a>Создайте или удалите связь группы безопасности сети с подсетью или сетевым интерфейсом.

Чтобы создать или удалить связь группы безопасности сети с сетевым интерфейсом, ознакомьтесь с разделом [Создание, изменение и удаление группы безопасности сети](virtual-network-network-interface.md#associate-or-dissociate-a-network-security-group). Чтобы создать или удалить связь группы безопасности сети с подсетью, ознакомьтесь с разделом [Изменение параметров подсети](virtual-network-manage-subnet.md#change-subnet-settings).

### <a name="delete-a-network-security-group"></a>Удаление группы безопасности сети

Если группа сетевой безопасности связана с какими-либо подсетями или сетевыми интерфейсами, она не может быть удалена. Удалите связи группы безопасности сети со всеми связанными с ней подсетями и сетевыми интерфейсами, прежде чем пытаться удалить эту группу.

1. Перейдите на [портал Azure](https://portal.azure.com) для просмотра групп сетевой безопасности. Поиск и выбор **групп безопасности сети.**

2. Выберите название группы сетевой безопасности, которая требуется удалить.

3. В панели инструментов группы безопасности сети выберите **Удалить**. Выберите **Да** в диалоговом окне подтверждения.

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az сети nsg удалить](/cli/azure/network/nsg#az-network-nsg-delete) |
| PowerShell | [Удалить-AzNetworkSecurityGroup](/powershell/module/az.network/remove-aznetworksecuritygroup) |

## <a name="work-with-security-rules"></a>Работа с правилами безопасности

Группа безопасности сети содержит ноль или больше правил безопасности. Можно создать правило безопасности, [просмотреть все](#view-all-security-rules) правила, [просмотреть сведения о](#view-details-of-a-security-rule) правиле, а также [изменить](#change-a-security-rule) или [удалить](#delete-a-security-rule) правило безопасности.

### <a name="create-a-security-rule"></a>Создание правила безопасности

Существует ограничение на количество правил в каждой группе сетевой безопасности, которые можно создать для каждого местоположения и подписки Azure. Чтобы узнать больше, смотрите [ограничения подписки и обслуживания Azure, квоты и ограничения.](../azure-resource-manager/management/azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)

1. Перейдите на [портал Azure](https://portal.azure.com) для просмотра групп сетевой безопасности. Поиск и выбор **групп безопасности сети.**

2. Выберите название группы сетевой безопасности, к ней нужно добавить правило безопасности.

3. В панели меню группы безопасности сети выберите **правила безопасности Входящих** или **правила безопасности Исходящих.**

    Перечислено несколько существующих правил, в том числе некоторые из них, возможно, не были добавлены. При создании группы сетевой безопасности в ней создается несколько правил безопасности по умолчанию. Ознакомьтесь с дополнительными сведениями о [правилах безопасности по умолчанию](security-overview.md#default-security-rules).  Правила безопасности по умолчанию невозможно удалить, но их можно переопределить с помощью правил с более высоким приоритетом.

4. <a name="security-rule-settings"></a>Выберите **Добавить**. Выберите или добавьте значения для следующих настроек, а затем выберите **OK:**

    | Параметр | Значение | Сведения |
    | ------- | ----- | ------- |
    | **Источник** | Одно из двух значений:<ul><li>**Любые**</li><li>**IP-адреса**</li><li>**Тег службы** (правило входящего правила безопасности) или **VirtualNetwork** (правило безопасности исходящих)</li><li>**Группа&nbsp;&nbsp;безопасности приложений**</li></ul> | <p>Если вы выбираете **IP-адреса,** вы также должны указать **IP-адреса источника/диапазоны CIDR.**</p><p>Если вы выберете **тег ислужбы**, вы также можете выбрать **тег службы Исходный**.</p><p>Если вы выбираете **группу безопасности приложения,** необходимо также выбрать существующую группу безопасности приложений. Если вы выбираете **группу безопасности приложений** как для **источника,** так и для **назначения,** сетевые интерфейсы в обеих группах безопасности приложений должны находиться в одной виртуальной сети.</p> |
    | **Диапазоны ИСХОДных IP-адресов/CIDR** | Запятый список IP-адресов и диапазонов classless Interdomain Routing (CIDR) | <p>Эта настройка появляется при изменении **исходного кода** **на IP-адреса.** Необходимо указать единое значение или разделенный на запятой список нескольких значений. Примером нескольких значений `10.0.0.0/16, 192.188.1.1`является . Число значений, которые можно указать, ограничено. Для получения более подробной [информации](../azure-resource-manager/management/azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)см.</p><p>Если указанный вами IP-адрес назначен на Azure VM, укажите его личный IP-адрес, а не общедоступный IP-адрес. Azure обрабатывает правила безопасности после перевода общедоступного IP-адреса на частный IP-адрес для входящих правил безопасности, но прежде чем перевести личный IP-адрес на общедоступный IP-адрес для исходящих правил. Дополнительные сведения об общедоступных и частных IP-адресах в Azure см. в статье, посвященной [типам IP-адресов](virtual-network-ip-addresses-overview-arm.md).</p> |
    | **Тег исходного сервиса** | Тег услуг из списка выпадающих данных | Эта дополнительная настройка появляется при установке тега **«Источник** **для обслуживания»** для входящего правила безопасности. Тег службы — это предопределенный идентификатор категории IP-адресов. Чтобы узнать больше об доступных тегах обслуживания [Service tags](security-overview.md#service-tags)и о том, что представляет собой каждый тег, см. |
    | **Группа безопасности исходных приложений** | Существующая группа безопасности приложений | Эта настройка появляется при установке **группы безопасности** **Source** to Application. Выберите группу безопасности приложений, которая существует в том же регионе, что и сетевой интерфейс. Узнайте, как [создать группу безопасности приложений](#create-an-application-security-group). |
    | **Диапазоны исходных портов** | Одно из двух значений:<ul><li>Один порт, например`80`</li><li>Ряд портов, таких как`1024-65535`</li><li>Запятый, разделенный на перечень отдельных портов и/или диапазонов портов, таких как`80, 1024-65535`</li><li>Звездочка ()`*`для обеспечения трафика в любом порту</li></ul> | В этой настройке указаны порты, на которых правило позволяет или отрицает трафик. Число портов, которые можно указать, ограничено. Для получения более подробной [информации](../azure-resource-manager/management/azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)см. |
    | **Назначения** | Одно из двух значений:<ul><li>**Любые**</li><li>**IP-адреса**</li><li>**Тег службы** (правило безопасности исходящих) или **VirtualNetwork** (правило безопасности входящего)</li><li>**Группа&nbsp;&nbsp;безопасности приложений**</li></ul> | <p>Если вы выбираете **IP-адреса,** то также укажите **IP-адреса назначения/диапазоны CIDR.**</p><p>Если вы **выберете VirtualNetwork,** трафик разрешен для всех IP-адресов в адресном пространстве виртуальной сети. **VirtualNetwork** — это тег сервиса.</p><p>При выборе **группы безопасности приложения**необходимо выбрать существующую группу безопасности приложений. Узнайте, как [создать группу безопасности приложений](#create-an-application-security-group).</p> |
    | **Диапазоны IP-адресов назначения/CIDR** | Запятый список IP-адресов и диапазонов CIDR | <p>Эта настройка появляется при изменении **назначения** на **IP-адреса.** Подобно **IP-адресам/диапазонам CIDR** **source** и Source, можно указать один или несколько адресов или диапазонов. Есть ограничения на номер, который вы можете указать. Для получения более подробной [информации](../azure-resource-manager/management/azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)см.</p><p>Если указанный вами IP-адрес назначен vM Azure, убедитесь, что вы укажете его личный IP- адрес, а не общедоступный IP-адрес. Azure обрабатывает правила безопасности после перевода общедоступного IP-адреса на частный IP-адрес для входящих правил безопасности, но до того, как Azure переводит личный IP-адрес на общедоступный IP-адрес для исходящих правил. Дополнительные сведения об общедоступных и частных IP-адресах в Azure см. в статье, посвященной [типам IP-адресов](virtual-network-ip-addresses-overview-arm.md).</p> |
    | **Тег целевой службы** | Тег услуг из списка выпадающих данных | Эта дополнительная настройка появляется при изменении **тега** **Destination** для исходящего правила безопасности. Тег службы — это предопределенный идентификатор категории IP-адресов. Чтобы узнать больше об доступных тегах обслуживания [Service tags](security-overview.md#service-tags)и о том, что представляет собой каждый тег, см. |
    | **Группа безопасности приложений назначения** | Существующая группа безопасности приложений | Эта настройка появляется при установке **группы безопасности** **приложения.** Выберите группу безопасности приложений, которая существует в том же регионе, что и сетевой интерфейс. Узнайте, как [создать группу безопасности приложений](#create-an-application-security-group). |
    | **Диапазоны портов назначения** | Одно из двух значений:<ul><li>Один порт, например`80`</li><li>Ряд портов, таких как`1024-65535`</li><li>Запятый, разделенный на перечень отдельных портов и/или диапазонов портов, таких как`80, 1024-65535`</li><li>Звездочка ()`*`для обеспечения трафика в любом порту</li></ul> | Как и **в отношении диапазонов портов Source,** можно указать один очные или несколько портов и диапазонов. Есть ограничения на номер, который вы можете указать. Для получения более подробной [информации](../azure-resource-manager/management/azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)см. |
    | **Протокол** | **Любой,** **TCP**, **UDP**, или **ICMP** | Это правило может ограничиться протоколом управления передачей (TCP), Протоколом Datagram пользователя (UDP) или протоколом сообщений управления Интернетом (ICMP). По умолчанию правило применяется ко всем протоколам. |
    | **Действие** | **Разрешить** или **отказать** | В этой настройке указывается, позволяет ли это правило или отказывает в доступе для поставляемого источника и конфигурации назначения. |
    | **Priority** | Значение от 100 до 4096, которое является уникальным для всех правил безопасности в группе сетевой безопасности | Azure обрабатывает правила безопасности в приоритетном порядке. Чем меньше число, тем выше приоритет. Мы рекомендуем оставить зазор между номерами приоритетов при создании правил, таких как 100, 200 и 300. Оставляя пробелы, упрощает добавление правил в будущем, чтобы вы могли дать им более высокий или более низкий приоритет, чем существующие правила. |
    | **Название** | Уникальное название правила в группе сетевой безопасности | Оно может содержать до 80 знаков. Она должна начинаться с буквы или номера, и она должна закончиться письмом, номером или подчеркиваем. Название может содержать только буквы, цифры, подчеркнутые, периоды или дефисы. |
    | **Описание** | Текстовое описание | Можно дополнительно указать текстовое описание для правила безопасности. |

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az network nsg rule create](/cli/azure/network/nsg/rule#az-network-nsg-rule-create) |
| PowerShell | [New-AzNetworkSecurityRuleConfig](/powershell/module/az.network/new-aznetworksecurityruleconfig) |

### <a name="view-all-security-rules"></a>Просмотр всех правил безопасности

Группа сетевой безопасности содержит ноль или более правил. Узнать больше о сведениях при просмотре правил можно из статьи [Безопасность сети](security-overview.md).

1. Перейдите на [портал Azure,](https://portal.azure.com) чтобы просмотреть правила группы сетевой безопасности. Поиск и выбор **групп безопасности сети.**

2. Выберите название группы сетевой безопасности, для просмотра правил которого необходимо просмотреть.

3. В панели меню группы безопасности сети выберите **правила безопасности Входящих** или **правила безопасности Исходящих.**

Список содержит все созданные правила и правила безопасности группы безопасности по [умолчанию.](security-overview.md#default-security-rules)

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az network nsg rule list](/cli/azure/network/nsg/rule#az-network-nsg-rule-list) |
| PowerShell | [Get-AzNetworkSecurityRuleConfig](/powershell/module/az.network/get-aznetworksecurityruleconfig) |

### <a name="view-details-of-a-security-rule"></a>Просмотр сведений о правиле безопасности

1. Перейдите на [портал Azure,](https://portal.azure.com) чтобы просмотреть правила группы сетевой безопасности. Поиск и выбор **групп безопасности сети.**

2. Выберите название группы сетевой безопасности, для просмотра которых необходимо просмотреть детали правила.

3. В панели меню группы безопасности сети выберите **правила безопасности Входящих** или **правила безопасности Исходящих.**

4. Выберите правило, сведения о котором нужно просмотреть. Для объяснения всех параметров [см.](#security-rule-settings)

    > [!NOTE]
    > Эта процедура применяется только к пользовательскому правилу безопасности. Он не работает, если вы выберете правило безопасности по умолчанию.

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az сети NSG правило шоу](/cli/azure/network/nsg/rule#az-network-nsg-rule-show) |
| PowerShell | [Get-AzNetworkSecurityRuleConfig](/powershell/module/az.network/get-aznetworksecurityruleconfig) |

### <a name="change-a-security-rule"></a>Изменение правила безопасности

1. Выполните инструкции из раздела [Просмотр сведений о правиле безопасности](#view-details-of-a-security-rule).

2. Изменяйте настройки по мере необходимости, а затем выберите **Сохранить.** Для объяснения всех параметров [см.](#security-rule-settings)

    > [!NOTE]
    > Эта процедура применяется только к пользовательскому правилу безопасности. Вы не можете изменить правило безопасности по умолчанию.

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az network nsg rule update](/cli/azure/network/nsg/rule#az-network-nsg-rule-update) |
| PowerShell | [Set-AzNetworkSecurityRuleConfig.](/powershell/module/az.network/set-aznetworksecurityruleconfig) |

### <a name="delete-a-security-rule"></a>Удаление правила безопасности

1. Выполните инструкции из раздела [Просмотр сведений о правиле безопасности](#view-details-of-a-security-rule).

2. Выберите **Удалить**, а затем — **Да**.

    > [!NOTE]
    > Эта процедура применяется только к пользовательскому правилу безопасности. Запрещается удалять правило безопасности по умолчанию.

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az сетевой nsg правило удалить](/cli/azure/network/nsg/rule#az-network-nsg-rule-delete) |
| PowerShell | [Удалить-AzNetworkSecurityRuleConfig](/powershell/module/az.network/remove-aznetworksecurityruleconfig) |

## <a name="work-with-application-security-groups"></a>Работа с группами безопасности приложений

Группа безопасности приложений содержит ноль или более сетевых интерфейсов. Дополнительные сведения см. в разделе [Группы безопасности приложений](security-overview.md#application-security-groups). Все сетевые интерфейсы внутри группы безопасности приложений должны находиться в одной виртуальной сети. Чтобы узнать больше о добавлении сетевого интерфейса в группу безопасности приложений, ознакомьтесь с разделом [Создание, изменение или удаление сетевых интерфейсов](virtual-network-network-interface.md#add-to-or-remove-from-application-security-groups).

### <a name="create-an-application-security-group"></a>Создание группы безопасности приложений

1. В меню [портала Azure](https://portal.azure.com) или на **главной** странице выберите **«Создайте ресурс».**

2. В поле поиска введите *группу безопасности приложения.*

3. На странице **группы безопасности приложения** выберите **«Создать».**

4. В странице **группы безопасности приложения** под вкладкой **«Основы»** установить значения для следующих настроек:

    | Параметр | Действие |
    | --- | --- |
    | **Подписка** | Выберите свою подписку. |
    | **Группа ресурсов** | Выберите существующую группу ресурсов или **создайте новую** для создания новой группы ресурсов. |
    | **Название** | Введите уникальную строку текста в группе ресурсов. |
    | **Регион** | Выберите нужное место. |

5. Выберите **Обзор и создайте**.

6. Под вкладкой **«Обзор» — создайте** вкладку, после того как вы увидите **пройденое сообщение «Проверка»,** выберите **«Создать».**

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az сети asg создать](/cli/azure/network/asg#az-network-asg-create) |
| PowerShell | [Новая AzApplicationSecurityGroup](/powershell/module/az.network/new-azapplicationsecuritygroup) |

### <a name="view-all-application-security-groups"></a>Просмотр всех групп безопасности приложений

Перейдите на [портал Azure](https://portal.azure.com) для просмотра групп безопасности приложений. Поиск и выбор **групп безопасности приложений.** Портал Azure отображает список групп безопасности приложений.

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az сети asg список](/cli/azure/network/asg#az-network-asg-list) |
| PowerShell | [Get-AzApplicationSecurityGroup](/powershell/module/az.network/get-azapplicationsecuritygroup) |

### <a name="view-details-of-a-specific-application-security-group"></a>Просмотр сведений об определенной группе безопасности приложений

1. Перейдите на [портал Azure,](https://portal.azure.com) чтобы просмотреть группу безопасности приложений. Поиск и выбор **групп безопасности приложений.**

2. Выберите название группы безопасности приложения, которую необходимо просмотреть.

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az сети asg шоу](/cli/azure/network/asg#az-network-asg-show) |
| PowerShell | [Get-AzApplicationSecurityGroup](/powershell/module/az.network/get-azapplicationsecuritygroup) |

### <a name="change-an-application-security-group"></a>Изменение группы безопасности приложений

1. Перейдите на [портал Azure,](https://portal.azure.com) чтобы просмотреть группу безопасности приложений. Поиск и выбор **групп безопасности приложений.**

2. Выберите название группы безопасности приложений, которую вы хотите изменить.

3. Выберите **изменение** рядом с параметром, которое требуется изменить. Например, можно добавить или удалить **теги**или изменить **группу ресурсов** или **подписку.**

    > [!NOTE]
    > Вы не можете изменить местоположение.

    В панели меню вы также можете выбрать **элемент управления доступом (IAM).** На странице **управления доступом (IAM)** можно назначить или удалить разрешения группе безопасности приложения.

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [аз сети asg обновление](/cli/azure/network/asg#az-network-asg-update) |
| PowerShell | Нет PowerShell cmdlet |

### <a name="delete-an-application-security-group"></a>Удаление группы безопасности приложений

Вы не можете удалить группу безопасности приложения, если она содержит какие-либо сетевые интерфейсы. Чтобы удалить все сетевые интерфейсы из группы безопасности приложения, либо измените настройки сетевого интерфейса, либо удалите сетевые интерфейсы. Чтобы узнать больше, [см. Добавить или удалить из групп безопасности приложений](virtual-network-network-interface.md#add-to-or-remove-from-application-security-groups) или [Удалить сетевой интерфейс](virtual-network-network-interface.md#delete-a-network-interface).

1. Перейдите на [портал Azure](https://portal.azure.com) для управления группами безопасности приложений. Поиск и выбор **групп безопасности приложений.**

2. Выберите название группы безопасности приложения, которую вы хотите удалить.

3. Выберите **Удалить** и нажмите **Да**, чтобы удалить группу безопасности приложений.

#### <a name="commands"></a>Команды

| Инструмент | Команда |
| ---- | ------- |
| Azure CLI | [az сети asg удалить](/cli/azure/network/asg#az-network-asg-delete) |
| PowerShell | [Удалить-AzApplicationSecurityGroup](/powershell/module/az.network/remove-azapplicationsecuritygroup) |

## <a name="permissions"></a>Разрешения

Для выполнения задач в группах безопасности сети, правилах безопасности и группах безопасности приложений ваша учетная запись должна быть назначена роли [вкладчика Сети](../role-based-access-control/built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) или [пользовательской роли,](../role-based-access-control/custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) которая присваивает соответствующие разрешения, перечисленные в следующих таблицах:

### <a name="network-security-group"></a>Группа безопасности сети

| Действие                                                        |   Имя                                                                |
|-------------------------------------------------------------- |   -------------------------------------------                         |
| Microsoft.Network/networkSecurityGroups/read                  |   Получение группы безопасности сети.                                          |
| Microsoft.Network/networkSecurityGroups/write                 |   Создание или обновление группы безопасности сети.                             |
| Microsoft.Network/networkSecurityGroups/delete                |   Удаление группы безопасности сети.                                       |
| Microsoft.Network/networkSecurityGroups/join/action           |   Привязка группы безопасности сети к подсети или сетевому интерфейсу. 

### <a name="network-security-group-rule"></a>Правило группы безопасности сети

| Действие                                                        |   Имя                                                                |
|-------------------------------------------------------------- |   -------------------------------------------                         |
| Microsoft.Network/networkSecurityGroups/rules/read            |   Получение правила.                                                            |
| Microsoft.Network/networkSecurityGroups/rules/write           |   Создание или обновление правила.                                               |
| Microsoft.Network/networkSecurityGroups/rules/delete          |   Удаление правила.                                                         |

### <a name="application-security-group"></a>Группа безопасности приложений

| Действие                                                                     | Имя                                                     |
| --------------------------------------------------------------             | -------------------------------------------              |
| Microsoft.Network/applicationSecurityGroups/joinIpConfiguration/action     | Присоединение конфигурации IP к группе безопасности приложений.|
| Microsoft.Network/applicationSecurityGroups/joinNetworkSecurityRule/action | Присоединение правила безопасности к группе безопасности приложений.    |
| Microsoft.Network/applicationSecurityGroups/read                           | Получение группы безопасности приложений.                        |
| Microsoft.Network/applicationSecurityGroups/write                          | Создание или обновление группы безопасности приложений.           |
| Microsoft.Network/applicationSecurityGroups/delete                         | Удаление группы безопасности приложений                     |

## <a name="next-steps"></a>Дальнейшие действия

- Создание группы безопасности сети или приложения с использованием шаблонов [PowerShell](powershell-samples.md) или [Azure CLI](cli-samples.md) или [шаблонов](template-samples.md) azure Resource Manager
- Создайте и примените [политику Azure](policy-samples.md) для виртуальных сетей.
