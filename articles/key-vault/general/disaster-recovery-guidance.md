---
title: Что делать, если прерывание работы службы Azure влияет на Azure Key Vault — Azure Key Vault | Документация Майкрософт
description: Узнайте, что делать, если прерывание работы службы Azure влияет на хранилище ключей Azure.
services: key-vault
author: ShaneBala-keyvault
manager: ravijan
ms.service: key-vault
ms.subservice: general
ms.topic: tutorial
ms.date: 05/04/2020
ms.author: sudbalas
ms.openlocfilehash: 4796e6c555ca67794409fb1476f3c4fd0d760719
ms.sourcegitcommit: 31236e3de7f1933be246d1bfeb9a517644eacd61
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2020
ms.locfileid: "82780459"
---
# <a name="azure-key-vault-availability-and-redundancy"></a>Доступность и избыточность хранилища ключей Azure

Хранилище ключей Azure имеет несколько уровней избыточности, благодаря которым ключи и секреты остаются доступными для приложения даже при сбое отдельных компонентов службы.

Содержимое хранилища ключей реплицируется в пределах региона, а также в дополнительный регион, расположенный на расстоянии не менее 240 км от основного, но в той же географической области. Это обеспечивает высокий уровень надежности ключей и секретов. В разделе [Непрерывность бизнес-процессов и аварийное восстановление в службах BizTalk: пары регионов Azure](../../best-practices-availability-paired-regions.md) можно получить сведения об определенных парах регионов.

При сбое отдельных компонентов службы хранилища ключей ваши запросы будут обслуживаться дополнительными компонентами в текущем регионе, чтобы не допустить снижения функциональности. Для этого не нужно предпринимать какие-либо действия. Все выполняется автоматически и незаметно для вас.

В редких случаях, когда становится недоступным весь регион Azure, ваши запросы к хранилищу ключей Azure в этом регионе автоматически перенаправляются в дополнительный регион (это называется *отработкой отказа*). Когда основной регион снова становится доступным, запросы отправляются обратно в основной регион (это называется *восстановлением размещения*). Опять же, так как это происходит автоматически, то никаких дополнительных действий предпринимать не нужно.

Благодаря своей архитектуре, обеспечивающей высокий уровень доступности, Azure Key Vault не прекращает работу на время обслуживания.

Существует несколько моментов, на которые следует обратить внимание.

* В случае отработки отказа для региона на отработку отказа службы может потребоваться несколько минут. Запросы, отправленные в это время, могут завершаться ошибкой, пока не завершится отработка отказа.
* После завершения отработки отказа хранилище ключей находится в режиме только для чтения. В этом режиме поддерживаются следующие запросы:
  * получение списка хранилищ ключей;
  * получение свойств из хранилищ ключей;
   * Список сертификатов
  * Получение сертификатов
  * получение списка секретов;
  * получение секретов;
  * получение списка ключей;
  * получение ключей и их свойств;
  * Шифрование
  * расшифровка;
  * оборачивание;
  * разворачивание;
  * Проверка
  * вход;
  * Резервное копирование
* После восстановления размещения становятся доступными все типы запросов (в том числе чтение *и* запись).

