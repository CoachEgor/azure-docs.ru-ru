---
title: Что делать, если прерывание работы службы Azure влияет на Azure Key Vault — Azure Key Vault | Документация Майкрософт
description: Узнайте, что делать, если прерывание работы службы Azure влияет на Azure Key Vault.
services: key-vault
author: ShaneBala-keyvault
manager: ravijan
ms.service: key-vault
ms.subservice: general
ms.topic: tutorial
ms.date: 08/28/2020
ms.author: sudbalas
ms.openlocfilehash: 27d8d4de308fe7cf6e6f36dd33f33bb73c495073
ms.sourcegitcommit: bdd5c76457b0f0504f4f679a316b959dcfabf1ef
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/22/2020
ms.locfileid: "90983224"
---
# <a name="azure-key-vault-availability-and-redundancy"></a>Доступность и избыточность хранилища ключей Azure

Хранилище ключей Azure имеет несколько уровней избыточности, благодаря которым ключи и секреты остаются доступными для приложения даже при сбое отдельных компонентов службы.

> [!NOTE]
> Это руководство применимо к хранилищам. Для обеспечения высокого уровня доступности и аварийного восстановления управляемые пулы HSM используют другую модель. Дополнительные сведения см. в статье [Аварийное восстановление управляемого устройства HSM](../managed-hsm/disaster-recovery-guide.md).

Содержимое хранилища ключей реплицируется в пределах региона, а также в дополнительный регион, расположенный на расстоянии не менее 240 км от основного, но в той же географической области. Это обеспечивает надежность ключей и секретов. В разделе [Непрерывность бизнес-процессов и аварийное восстановление в службах BizTalk: пары регионов Azure](../../best-practices-availability-paired-regions.md) можно получить сведения об определенных парах регионов.


При сбое отдельных компонентов службы хранилища ключей ваши запросы будут обслуживаться дополнительными компонентами в текущем регионе, чтобы не допустить снижения функциональности. Для запуска этого процесса вам ничего не нужно делать. Он выполняется автоматически и является прозрачным.

В редких случаях, когда становится недоступным весь регион Azure, ваши запросы к хранилищу ключей Azure в этом регионе автоматически перенаправляются в дополнительный регион (это называется *отработкой отказа*). Когда основной регион снова становится доступным, запросы отправляются обратно в основной регион (это называется *восстановлением размещения*). Опять же, так как это происходит автоматически, то никаких дополнительных действий предпринимать не нужно.

Благодаря своей архитектуре, обеспечивающей высокий уровень доступности, Azure Key Vault не прекращает работу на время обслуживания.

Существует несколько моментов, на которые следует обратить внимание.

* В случае отработки отказа для региона на отработку отказа службы может потребоваться несколько минут. Запросы, выполненные в течение этого времени до отработки отказа, могут завершиться ошибкой.
* Во время отработки отказа хранилище ключей используется только для чтения. В этом режиме поддерживаются следующие запросы:
  * Список сертификатов
  * Получение сертификатов
  * получение списка секретов;
  * получение секретов;
  * получение списка ключей;
  * получение ключей и их свойств;
  * Шифрование
  * расшифровка;
  * оборачивание;
  * разворачивание;
  * Проверка
  * вход;
  * Резервное копирование

* Во время отработки отказа вы не сможете вносить изменения в свойства хранилища ключей. Вы не сможете изменить параметры политики доступа и конфигурации брандмауэра.

* После восстановления размещения становятся доступными все типы запросов (в том числе чтение *и* запись).
