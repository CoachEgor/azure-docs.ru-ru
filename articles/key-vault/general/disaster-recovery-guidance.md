---
title: Azure Key Vault — доступность и избыточность Azure Key Vault | Документация Майкрософт
description: Сведения о доступности и избыточности Azure Key Vault.
services: key-vault
author: ShaneBala-keyvault
manager: ravijan
ms.service: key-vault
ms.subservice: general
ms.topic: tutorial
ms.date: 08/28/2020
ms.author: sudbalas
ms.openlocfilehash: 3cc4bdc0fabd9d1e209634a88bed1bf063db917c
ms.sourcegitcommit: ffa7a269177ea3c9dcefd1dea18ccb6a87c03b70
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/30/2020
ms.locfileid: "91597874"
---
# <a name="azure-key-vault-availability-and-redundancy"></a>Доступность и избыточность хранилища ключей Azure

Хранилище ключей Azure имеет несколько уровней избыточности, благодаря которым ключи и секреты остаются доступными для приложения даже при сбое отдельных компонентов службы.

> [!NOTE]
> Это руководство применимо к хранилищам. Для обеспечения высокого уровня доступности и аварийного восстановления управляемые пулы HSM используют другую модель. Дополнительные сведения см. в статье [Аварийное восстановление управляемого устройства HSM](../managed-hsm/disaster-recovery-guide.md).

Содержимое хранилища ключей реплицируется в пределах региона, а также в дополнительный регион, расположенный на расстоянии не менее 240 км от основного, но в той же географической области. Это обеспечивает надежность ключей и секретов. В разделе [Непрерывность бизнес-процессов и аварийное восстановление в службах BizTalk: пары регионов Azure](../../best-practices-availability-paired-regions.md) можно получить сведения об определенных парах регионов.

При сбое отдельных компонентов службы хранилища ключей ваши запросы будут обслуживаться дополнительными компонентами в текущем регионе, чтобы не допустить снижения функциональности. Для запуска этого процесса вам ничего не нужно делать. Он выполняется автоматически и является прозрачным.

В редких случаях, когда становится недоступным весь регион Azure, ваши запросы к хранилищу ключей Azure в этом регионе автоматически перенаправляются в дополнительный регион (это называется *отработкой отказа*). Когда основной регион снова становится доступным, запросы отправляются обратно в основной регион (это называется *восстановлением размещения*). Опять же, так как это происходит автоматически, то никаких дополнительных действий предпринимать не нужно.

Благодаря своей архитектуре, обеспечивающей высокий уровень доступности, Azure Key Vault не прекращает работу на время обслуживания.

Существует несколько моментов, на которые следует обратить внимание.

* В случае отработки отказа для региона на отработку отказа службы может потребоваться несколько минут. Запросы, выполненные в течение этого времени до отработки отказа, могут завершиться ошибкой.
* Если для подключения к хранилищу ключей используется приватный канал, для восстановления подключения в случае отработки отказа может потребоваться до 20 минут. 
* Во время отработки отказа хранилище ключей используется только для чтения. В этом режиме поддерживаются следующие запросы:
  * Список сертификатов
  * Получение сертификатов
  * получение списка секретов;
  * получение секретов;
  * получение списка ключей;
  * получение ключей и их свойств;
  * Шифрование
  * расшифровка;
  * оборачивание;
  * разворачивание;
  * Проверка
  * вход;
  * Резервное копирование

* Во время отработки отказа вы не сможете вносить изменения в свойства хранилища ключей. Вы не сможете изменить параметры политики доступа и конфигурации брандмауэра.

* После восстановления размещения становятся доступными все типы запросов (в том числе чтение *и* запись).
