---
title: Новые возможности Azure Key Vault | Документация Майкрософт
description: Последние обновления для Azure Key Vault
services: key-vault
author: msmbaldwin
tags: azure-resource-manager
ms.service: key-vault
ms.subservice: general
ms.topic: overview
ms.date: 07/27/2020
ms.author: mbaldwin
ms.openlocfilehash: b469ea0d0a91cc4ca7f0602dffbcc63b31c60855
ms.sourcegitcommit: 02ca0f340a44b7e18acca1351c8e81f3cca4a370
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "88588370"
---
# <a name="whats-new-for-azure-key-vault"></a>Новые возможности Azure Key Vault

> [!WARNING]
> **Июль 2020 г.** : Два обновления хранилища ключей могут повлиять на реализации службы: [включенное по умолчанию обратимое удаление хранилища ключей](#soft-delete-on-by-default) и [изменения TLS-сертификатов Azure](#azure-tls-certificate-changes). Дополнительные сведения см. ниже.

Ниже описаны новые возможности Azure Key Vault. Объявления о новых функциях и улучшениях также можно найти на [странице обновлений Azure для Key Vault](https://azure.microsoft.com/updates/?category=security&query=Key%20vault).

## <a name="soft-delete-on-by-default"></a>Включенное по умолчанию обратимое удаление

К концу 2020 г. **обратимое удаление будет включено по умолчанию для всех хранилищ ключей** (новых и существующих). Подробные сведения об этом критическом изменении, а также инструкции по поиску затронутых хранилищ ключей и их предварительному обновлению см. в статье [Включение обратимого удаления во всех хранилищах ключей](soft-delete-change.md). 

## <a name="azure-tls-certificate-changes"></a>Изменения TLS-сертификатов Azure  

Корпорация Майкрософт обновляет службы Azure для использования TLS-сертификатов от других корневых центров сертификации (ЦС). Это изменение связано с тем, что текущие сертификаты ЦС не соответствуют одному из базовых требований организации CA/Browser Forum.

### <a name="when-will-this-change-happen"></a>Когда будет применено это изменение?

- Переход для служб Azure Active Directory (Azure AD) начнется 7 июля 2020 г.
- Все новые конечные точки TLS/SSL Azure содержат обновленные сертификаты, связанные с новыми корневыми ЦС. 
- Переход для существующих конечных точек Azure начнется 13 августа 2020 г. и будет завершен 26 октября 2020 г.

> [!IMPORTANT]
> Возможно, клиентам потребуется обновить свои приложения после этого изменения, чтобы предотвратить сбои при попытке подключения к службам Azure. 

### <a name="what-is-changing"></a>Что изменяется?

Сейчас большинство TLS-сертификатов, используемых службами Azure, связаны со следующими корневыми ЦС:

| Общее имя ЦС | Отпечаток (SHA1) |
|--|--|
| [Baltimore CyberTrust Root](https://cacerts.digicert.com/BaltimoreCyberTrustRoot.crt) | d4de20d05e66fc53fe1a50882c78db2852cae474 |

TLS-сертификаты, используемые службами Azure, будут связаны с одним из следующих корневых ЦС:

| Общее имя ЦС | Отпечаток (SHA1) |
|--|--|
| [DigiCert Global Root G2](https://cacerts.digicert.com/DigiCertGlobalRootG2.crt) | df3c24f9bfd666761b268073fe06d1cc8d4f82a4 |
| [DigiCert Global Root CA](https://cacerts.digicert.com/DigiCertGlobalRootCA.crt) | a8985d3a65e5e5c4b2d7d66d40c6dd2fb19c5436 |
| [Baltimore CyberTrust Root](https://cacerts.digicert.com/BaltimoreCyberTrustRoot.crt) | d4de20d05e66fc53fe1a50882c78db2852cae474 |
| [D-TRUST Root Class 3 CA 2 2009](https://www.d-trust.net/cgi-bin/D-TRUST_Root_Class_3_CA_2_2009.crt) | 58e8abb0361533fb80f79b1b6d29d3ff8d5f00f0 |
| [Microsoft RSA Root Certificate Authority 2017](https://www.microsoft.com/pkiops/certs/Microsoft%20RSA%20Root%20Certificate%20Authority%202017.crt) | 73a5e64a3bff8316ff0edccc618a906e4eae4d74 | 
| [Microsoft EV ECC Root Certificate Authority 2017](https://www.microsoft.com/pkiops/certs/Microsoft%20EV%20ECC%20Root%20Certificate%20Authority%202017.crt) | 6b1937abfd64e1e40daf2262a27857c015d6228d |

### <a name="when-can-i-retire-the-old-intermediate-thumbprint"></a>Когда можно будет прекратить использование старого промежуточного отпечатка?

Текущие сертификаты ЦС *не* будут отозваны до 15 февраля 2021 г. После этой даты вы сможете удалить старые отпечатки из своего кода.

При изменении этой даты вы будете уведомлены о новой дате отзыва.

### <a name="will-this-affect-me"></a>Повлияет ли это на мою работу?

Мы ожидаем, что это изменение не повлияет на работу **большинства клиентов Azure**.  Но оно может сказаться на вашем приложении, если в нем явно указан список допустимых ЦС. Такой подход называется привязкой сертификатов.

Чтобы определить, повлияет ли изменение на ваше приложение, воспользуйтесь следующими методами:

- Выполните в исходном коде поиск отпечатка, общего имени и других свойств сертификатов для всех центров сертификации Microsoft IT TLS CA, список которых можно найти [здесь](https://www.microsoft.com/pki/mscorp/cps/default.htm). Совпадение будет означать, что изменение затронет ваше приложение. Чтобы решить эту проблему, обновите исходный код, включив данные о новых ЦС. Рекомендуем обеспечить возможность быстрого добавления или изменения данных о ЦС. Отраслевые нормы требуют замены сертификатов ЦС в течение 7 дней, поэтому клиентам, которые пользуются привязкой сертификатов, необходимо сделать это как можно скорее.

- Если ваше приложение интегрируется с API-интерфейсами Azure или другими службами Azure и вы не уверены, использует ли оно привязку сертификатов, обратитесь к поставщику приложения.

- Для разных операционных систем и сред выполнения на разных языках, которые обмениваются данными со службами Azure, возможно, потребуется выполнить дополнительные действия, чтобы правильно построить цепочку сертификатов с такими новыми корнями: 
    - **Linux**: при работе с многими дистрибутивами требуется добавить указанные выше центры сертификации в каталог /etc/ssl/certs. Дополнительные инструкции см. в документации по конкретному дистрибутиву.
    - **Java**. убедитесь, что хранилище ключей Java содержит данные о приведенных выше центах сертификации.
    - **Системы Windows, работающие в отключенных средах:** для таких систем необходимо добавить данные о приведенных выше корнях в хранилище доверенных корневых центров сертификации, а данные о промежуточных ЦС — в хранилище промежуточных центров сертификации.
    - **Android:** см. документацию по вашему устройству и версии Android.
    - **Другие аппаратные устройства, особенно Интернета вещей:** обратитесь к производителю устройства. 

- Если в вашей среде заданы правила брандмауэра для разрешения исходящих вызовов только на скачивание определенного списка отзыва сертификатов (CRL) и (или) к определенным расположениям проверки OCSP, вам потребуется разрешить следующие URL-адреса для CRL и OCSP:

    - http://crl3&#46;digicert&#46;com;
    - http://crl4&#46;digicert&#46;com;
    - http://ocsp&#46;digicert&#46;com;
    - http://www&#46;d-trust&#46;net;
    - http://root-c3-ca2-2009&#46;ocsp&#46;d-trust&#46;net;
    - http://crl&#46;microsoft&#46;com;
    - http://oneocsp&#46;microsoft&#46;com;
    - http://ocsp&#46;msocsp&#46;com.

## <a name="june-2020"></a>Июнь 2020 г.

Решение Azure Monitor для Key Vault теперь доступно в предварительной версии.  Azure Monitor обеспечивает комплексный мониторинг хранилищ ключей в едином представлении запросов, производительности, сбоев и задержки для Key Vault. Дополнительные сведения см. в статье об [Azure Monitor для Key Vault (предварительная версия)](../../azure-monitor/insights/key-vault-insights-overview.md).

## <a name="may-2020"></a>Май 2020 г.

Служба создания собственных ключей (BYOK) в Key Vault уже общедоступна. См. [спецификацию по службе создания собственных ключей в Azure Key Vault](../keys/byok-specification.md) и узнайте, как [импортировать защищенные модулем HSM ключи в Key Vault (BYOK)](../keys/hsm-protected-keys-byok.md).

## <a name="march-2020"></a>Март 2020 г.

Частные конечные точки доступны в предварительной версии. Приватный канал Azure обеспечивает доступ к Azure Key Vault и к размещенным в Azure службам клиентов или партнеров через частную конечную точку виртуальной сети.  Узнайте, как [интегрировать Key Vault с Приватным каналом Azure](private-link-service.md).

## <a name="2019"></a>2019

- Выпуск пакетов SDK Azure Key Vault нового поколения. Примеры их использования см. в кратких руководствах по секретам Azure Key Vault для [Python](../secrets/quick-create-python.md), [.NET](../secrets/quick-create-net.md), [Java](../secrets/quick-create-java.md) и [Node.js](../secrets/quick-create-node.md).
- Новые политики Azure для управления сертификатами хранилищ ключей. См. статью [Встроенные определения в Политике Azure для Key Vault](../policy-samples.md).
- Расширение виртуальной машины в Azure Key Vault теперь общедоступно.  См. статьи [Расширение виртуальной машины в Key Vault для Linux](../../virtual-machines/extensions/key-vault-linux.md) и [Расширение виртуальной машины в Key Vault для Windows](../../virtual-machines/extensions/key-vault-windows.md).
- Управление секретами с учетом событий для Azure Key Vault теперь доступно в Сетке событий Azure. Дополнительные сведения см. в статье [Схема Сетки событий для событий в Azure Key Vault](../../event-grid/event-schema-key-vault.md], а также узнайте, как [получать оповещения хранилища ключей и реагировать на них с помощью Сетки событий Azure](event-grid-tutorial.md).

## <a name="2018"></a>2018

Новые функции и интеграции, выпущенные в этом году:

- Интеграция с Функциями Azure. Пример сценария с использованием [Функций Azure](../../azure-functions/index.yml) для операций с хранилищами ключей см. в статье [Автоматизация смены секретов](../secrets/tutorial-rotation.md). 
- [Интеграция с помощью Azure Databricks.](/azure/databricks/scenarios/store-secrets-azure-key-vault) Благодаря ей Azure Databricks теперь поддерживает два типа областей секретов: на основе Azure Key Vault и на основе Databricks. Дополнительные сведения см. в разделе [Создание области секретов на основе Azure Key Vault](/azure/databricks/security/secrets/secret-scopes#--create-an-azure-key-vault-backed-secret-scope).
- [Конечные точки службы для виртуальной сети для Azure Key Vault](overview-vnet-service-endpoints.md).

## <a name="2016"></a>2016

Новые функции, выпущенные в этом году:

- Ключи управляемой учетной записи хранения. Функция "Ключи учетной записи хранения" упрощает интеграцию со службой хранилища Azure. Дополнительные сведения см. в статье [Ключи учетной записи хранения Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-ovw-storage-keys).
- Обратимое удаление. Функция обратимого удаления улучшает защиту данных для хранилищ ключей и его объектов. Дополнительные сведения см. в статье [Общие сведения об обратимом удалении в Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-ovw-soft-delete).

## <a name="2015"></a>2015

Новые функции, выпущенные в этом году:
- Управление сертификатами. Эта функция добавлена 26 сентября 2016 года для общедоступной версии 2015-06-01.

О выходе общедоступной версии (2015-06-01) было объявлено 24 июня 2015 г. В этот выпуск внесены следующие изменения. 
- Удаление ключа: удалено поле use.
- Получение сведений о ключе: удалено поле use.
- Импорт ключа в хранилище: удалено поле use.
- Восстановление ключа: удалено поле use.     
- В алгоритмах RSA изменено RSA_OAEP на RSA-OAEP. Ознакомьтесь со статьей [About keys, secrets, and certificates](about-keys-secrets-certificates.md) (Сведения о ключах, секретах и сертификатах).    
 
О выходе второй предварительной версии (2015-02-01-preview) было объявлено 20 апреля 2015 г. Дополнительные сведения см. в записи блога [REST API Update](https://docs.microsoft.com/archive/blogs/kv/rest-api-update) (Обновление REST API). Были обновлены следующие задачи:
 
- Составление списка ключей в хранилище. Добавлена поддержка разбиения на страницы для выполнения операции.
- Составление списка версий ключа. Добавлена операция перечисления версий ключа.  
- Составление списка секретов в хранилище. Добавлена поддержка разбиения на страницы.
- Составление списка версий секрета. Добавлена операция перечисления версий секрета.  
- Все операции. В атрибуты добавлены метки времени создания или обновления.  
- Создание секрета. В секреты добавлен Content-Type.
- Создание ключа. Добавлены теги в качестве дополнительных сведений.
- Создание секрета. Добавлены теги в качестве дополнительных сведений.
- Обновление ключа. Добавлены теги в качестве дополнительных сведений.
- Обновление секрета. Добавлены теги в качестве дополнительных сведений.
- Изменен максимальный размер для секретов (с 10 КБ на 25 КБ). Ознакомьтесь со статьей [About keys, secrets, and certificates](about-keys-secrets-certificates.md) (Сведения о ключах, секретах и сертификатах).    

## <a name="2014"></a>2014
 
О выходе первой предварительной версии (2014-12-08-preview) было объявлено 8 января 2015 г.  

## <a name="next-steps"></a>Дальнейшие действия

Если у вас возникли вопросы, свяжитесь с нами через [службу поддержки](https://azure.microsoft.com/support/options/).  
