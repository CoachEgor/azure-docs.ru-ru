---
title: Что такое хранилище ключей Azure? | Документы Майкрософт
description: Узнайте, как Azure Key Vault защищает криптографические ключи и секреты, которые используют облачные приложения и службы.
services: key-vault
author: msmbaldwin
manager: rkarlin
tags: azure-resource-manager
ms.service: key-vault
ms.subservice: general
ms.topic: conceptual
ms.date: 01/18/2019
ms.author: mbaldwin
ms.openlocfilehash: 03ad504258dd9448753f37402067a0da3e0a2c00
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "78197646"
---
# <a name="azure-key-vault-basic-concepts"></a>Основные концепции Azure Key Vault

Azure Key Vault — это средство для безопасного хранения и доступа к секретам. Секрет — это то, к чему необходимо строго контролировать доступ, например ключи API, пароли или сертификаты. Хранилище - это логическая группа секретов.

Вот другие важные термины:

- **Клиент**. Это организация, которая владеет и управляет определенным экземпляром облачных служб Майкрософт. Чаще всего он используется для обозначения набора служб Azure и Office 365 для организации.

- **Владелец хранилища**. Он может создать хранилище ключей, получить полный доступ и контроль над ним. Владелец хранилища имеет доступ к секретам и ключам, а также может настроить аудит журнала. Администраторы могут управлять жизненным циклом ключей. Он может откатить ключ до новой версии, создать ее резервную копию и выполнять другие связанные задачи.

- **Объект-получатель хранилища**. Он может выполнять действия в ресурсах хранилища ключей, когда владелец хранилища предоставляет пользовательский доступ. Доступные действия зависят от предоставленных разрешений.

- **Ресурс**. Это управляемый элемент, доступный в Azure. Распространенными примерами являются виртуальная машина, учетная запись хранения, веб-приложение, база данных и виртуальная сеть. Есть еще много.

- **Группа ресурсов**. Это контейнер, содержащий связанные ресурсы для решения Azure. В группу ресурсов могут входить все ресурсы приложения или только те, которыми необходимо управлять совместно. Пользователи могут выбрать оптимальный для своей организации способ распределения ресурсов в группах ресурсов.

- **Директор службы**: Принцип службы Azure — это идентификатор безопасности, который созданные пользователями приложения, службы и инструменты автоматизации используются для доступа к определенным ресурсам Azure. Думайте об этом как о "идентификации пользователя" (имя пользователя и пароль или сертификат) с определенной ролью и жестко контролируемых разрешений. В отличие от удостоверений пользователей субъект-служба должен выполнять только определенные задачи. Это повышает безопасность, если вы предоставляете ему только минимальный уровень разрешения, который необходим для выполнения своих задач управления.

- [Azure Active Directory (Azure AD)](../active-directory/active-directory-whatis.md). Это служба Active Directory для клиента. Каждый каталог содержит один или несколько доменов. Каталог может иметь много подписок, связанных с ним, но только один клиент.

- **Идентификатор клиента Azure**. Это уникальный способ идентификации экземпляра Azure AD в пределах подписки Azure.

- **Управляемые идентификаторы:** Azure Key Vault предоставляет способ надежного хранения учетных данных и других ключей и секретов, но ваш код должен быть проверен на Key Vault, чтобы получить их. Управляемое удостоверение упрощает решение этой задачи, предоставляя службам Azure автоматически управляемое удостоверение в Azure AD. Это удостоверение можно использовать для аутентификации хранилища ключей или любой службы, которая поддерживает аутентификацию Azure AD, не храня какие-либо учетные данные в коде. Для получения дополнительной информации смотрите следующее изображение и [обзор управляемых идентификаторов для ресурсов Azure.](../active-directory/managed-identities-azure-resources/overview.md)

    ![Диаграмма работы управляемых идентификаторов для ресурсов Azure](./media/key-vault-whatis/msi.png)

## <a name="authentication"></a>Проверка подлинности
Для проведения любых операций с Key Vault сначала необходимо проверить подлинность. Существует три способа проверки подлинности Key Vault:

- [Управляемые идентификаторы ресурсов Azure:](../active-directory/managed-identities-azure-resources/overview.md)При развертывании приложения на виртуальной машине в Azure можно назначить идентификацию виртуальной машине, которая имеет доступ к Key Vault. Можно также присвоить идентификаторы [другим ресурсам Azure.](../active-directory/managed-identities-azure-resources/overview.md) Преимущество этого подхода заключается в том, что приложение или служба не управляет вращением первого секрета. Azure автоматически меняет удостоверение. Мы рекомендуем такой подход в качестве наилучшей практики. 
- **Основной сервис и сертификат**: Вы можете использовать основной сервис и связанный с ним сертификат, который имеет доступ к Key Vault. Мы не рекомендуем такой подход, поскольку владелец приложения или разработчик должен повернуть сертификат.
- **Основной и секретный**сервис: Хотя вы можете использовать директор службы и секрет для проверки подлинности в Key Vault, мы не рекомендуем его. Трудно автоматически повернуть секрет загрузки, который используется для проверки подлинности в Key Vault.


## <a name="key-vault-roles"></a>Роли Key Vault

Используйте таблицу ниже, чтобы лучше понять, как хранилище ключей может помочь в удовлетворении требований разработчиков и администраторов безопасности.

| Роль | Проблема | Решение с помощью хранилища ключей Azure |
| --- | --- | --- |
| Разработчик приложения Azure |"Я хочу написать приложение для Azure, которое использует ключи для подписания и шифрования. Но я хочу, чтобы эти ключи были внешними из моего приложения, чтобы решение подходило для приложения, которое географически распределено. <br/><br/>Необходимо, чтобы эти ключи и секреты были защищены и не нужно было писать код самостоятельно, а также чтобы их можно было с легкостью и оптимальной производительностью использовать в моем приложении". |√ Ключи хранятся в хранилище, и при необходимости их можно вызывать с помощью URI.<br/><br/> √ Azure защищает ключи с использованием стандартных отраслевых алгоритмов, методов управления длиной ключей и аппаратных модулей безопасности.<br/><br/>  √ Ключи обрабатываются в аппаратных модулях безопасности, которые находятся в тех же центрах обработки данных Azure, что и приложения. Это обеспечивает более высокую надежность и менее длительную задержку, чем при расположении ключей в другом месте, например в локальной среде. |
| Разработчик программного обеспечения как услуги (SaaS) |«Я не хочу нести ответственность или связывать себя потенциальными обязательствами, связанными с ключами и секретами клиентов моих заказчиков. <br/><br/>Мне нужно, чтобы заказчики владели и управляли своими ключами, а мне можно было полностью сосредоточиться на своей основной работе, а именно предоставлении базовых функций программного обеспечения". |√ Клиенты могут импортировать свои ключи в Azure и управлять ими. Когда приложению SaaS необходимо выполнять криптографические операции с помощью ключей клиентов, Key Vault выполняет эти операции от имени приложения. Приложение не видит ключи клиентов. |
| Руководитель службы безопасности |«Мне необходимо знать, что аппаратные модули безопасности, используемые в наших приложениях, соответствуют стандарту FIPS 140-2 уровня 2, обеспечивающему безопасное управление ключами. <br/><br/>Я также хочу убедиться, что моя организация может управлять жизненным циклом ключей и отслеживать их использование. <br/><br/>Кроме того, хотя мы используем множество служб и ресурсов Azure, необходимо, чтобы ключами можно было управлять из одного расположения в Azure». |√ Аппаратные модули безопасности прошли проверку по стандарту FIPS 140-2 уровня 2.<br/><br/>√ Хранилище ключей разработано таким образом, чтобы сотрудники Майкрософт не могли видеть или извлекать ваши ключи.<br/><br/>√ Использование ключа протоколируется почти в реальном времени.<br/><br/>√ Хранилище предоставляет единый интерфейс, независимо от количества хранилищ в Azure, поддерживаемых регионов и использующих их приложений. |

Хранилища ключей может создавать и использовать любой пользователь, у которого есть подписка Azure. Хотя Key Vault приносит пользу разработчикам и администраторам безопасности, он может быть реализован и управляется администратором организации, управляющим другими службами Azure. Например, этот администратор может войти в систему с подпиской Azure, создать хранилище для организации, в котором можно хранить ключи, а затем нести ответственность за выполнение таких задач:

- создание или импорт ключа или секрета;
- отзыв или удаление ключа или секрета;
- авторизация пользователей или приложений для доступа к хранилищу ключей с целью управления ключами и секретами или их использования;
- настройка использования ключей (например, подписи и шифрования);
- мониторинг использования ключей.

Затем этот администратор предоставляет разработчикам URIs для вызова из своих приложений. Этот администратор также предоставляет администратору безопасности информацию о регистрации ключей. 

![Общие сведения о работе хранилища Azure Key Vault][1]

Разработчики также могут управлять ключами напрямую с помощью API. Для получения дополнительной информации смотрите [руководство разработчика Key Vault.](key-vault-developers-guide.md)

## <a name="next-steps"></a>Дальнейшие действия

Узнайте, как [обезопасить хранилище.](key-vault-secure-your-key-vault.md)

<!--Image references-->
[1]: ./media/key-vault-whatis/AzureKeyVault_overview.png
Хранилище ключей Azure доступно в большинстве регионов. Дополнительные сведения см. на странице [цен на хранилище ключей](https://azure.microsoft.com/pricing/details/key-vault/).
