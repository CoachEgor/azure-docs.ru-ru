---
title: Повышение производительности приложений Azure с использованием Помощника по Azure | Документация Майкрософт
description: Используйте Помощник для оптимизации производительности развернутых служб Azure.
services: advisor
documentationcenter: NA
author: kasparks
ms.service: advisor
ms.topic: article
ms.date: 01/29/2019
ms.author: kasparks
ms.openlocfilehash: 8fdae1e12e56dcbcb56941726b0c089ad59b8fc8
ms.sourcegitcommit: 25a60179840b30706429c397991157f27de9e886
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/28/2019
ms.locfileid: "66254650"
---
# <a name="improve-performance-of-azure-applications-with-azure-advisor"></a>Повышение производительности приложений Azure с использованием Помощника по Azure

Рекомендации по производительности, предложенные Помощником по Azure, помогают улучшить работу, повысить производительность и увеличить скорость реагирования критически важных бизнес-приложений. Получить рекомендации Помощника по производительности можно на вкладке **Производительность** панели мониторинга Помощника.

## <a name="reduce-dns-time-to-live-on-your-traffic-manager-profile-to-fail-over-to-healthy-endpoints-faster"></a>Сокращение срока жизни DNS в профиле диспетчера трафика Microsoft Azure, чтобы ускорить отработку отказа на работоспособные конечные точки

[Параметры срока жизни (TTL)](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-performance-considerations) в профиле диспетчера трафика позволяют указать, как быстро выполнить переключение на конечные точки, если нужные конечные точки прекращают отвечать на запросы. Сокращение срока жизни означает, что клиенты быстрее будут перенаправлены на работоспособные конечные точки.

Помощник по Azure определяет профили диспетчера трафика с параметрами большего срока жизни и рекомендует настроить срок жизни на уровне 20 секунд или 60 секунд — в зависимости от того, настроена ли в профиле [Быстрая отработка отказа](https://azure.microsoft.com/roadmap/fast-failover-and-tcp-probing-in-azure-traffic-manager/).

## <a name="improve-database-performance-with-sql-db-advisor"></a>Повышение производительности базы данных с помощью Помощника по базам данных SQL

Advisor предоставляет согласованное сводное представление с рекомендациями для всех ресурсов Azure. Advisor интегрируется с Помощником по базам данных SQL, чтобы вы могли получить рекомендации по повышению производительности базы данных SQL Azure. Помощник по базам данных SQL оценивает производительность ваших баз данных SQL, анализируя журнал использования. После этого он предлагает рекомендации, наиболее подходящие для типовых нагрузок в вашей базе данных.

> [!NOTE]
> Чтобы рекомендации сформировались, база данных должна постоянно использоваться на протяжении примерно одной недели. Помощник по базам данных SQL обеспечивает более эффективную оптимизацию при стабильном потоке запросов, чем на основе случайных всплесков активности.

Дополнительные сведения о Помощнике по базам данных SQL см. в разделе [Помощник по работе с базами данных SQL](https://azure.microsoft.com/documentation/articles/sql-database-advisor/).

## <a name="improve-app-service-performance-and-reliability"></a>Повышение надежности и производительности службы приложений

Azure Advisor объединяет практические рекомендации по улучшению работы службы приложений и обнаружению соответствующих возможностей платформы. Ниже приведены примеры рекомендаций по службам приложений:
* обнаружение экземпляров, исчерпавших ресурсы памяти или ЦП во время выполнения приложений, и описание вариантов устранения;
* обнаружение экземпляров, для которых совместное размещение ресурсов, например веб-приложений и баз данных, может повысить производительность и снизить стоимость.

Дополнительные сведения о рекомендациях по службам приложений см. в разделе [Рекомендации по использованию службы приложений Azure](https://azure.microsoft.com/documentation/articles/app-service-best-practices/).

## <a name="use-managed-disks-to-prevent-disk-io-throttling"></a>Использование Управляемых дисков для предотвращения регулирования операций ввода-вывода

Помощник определяет виртуальные машины, принадлежащие учетной записи хранения, которая достигает своего целевого значения масштабирования. Это условие делает эти виртуальные машины восприимчивыми к регулированию ввода-вывода. Помощник рекомендует использовать Управляемые диски, чтобы предотвратить снижение производительности.

## <a name="improve-the-performance-and-reliability-of-virtual-machine-disks-by-using-premium-storage"></a>Повышение производительности и надежности дисков виртуальных машин с помощью хранилища класса Premium

Помощник определяет виртуальные машины с дисками уровня "Стандартный" с большим объемом транзакций в вашей учетной записи хранения и рекомендует обновить их до уровня "Премиум". 

Хранилище Azure Premium обеспечивает поддержку дисков с высокой производительностью и малой задержкой для виртуальных машин с интенсивной рабочей нагрузкой ввода-вывода. Диски виртуальной машины, использующие учетные записи хранения уровня "Премиум", хранят данные на твердотельных накопителях. Мы рекомендуем переносить все диски виртуальных машин, которые требуют большого количества операций ввода-вывода в секунду, в хранилище класса Premium для наилучшей производительности приложения.

## <a name="remove-data-skew-on-your-sql-data-warehouse-table-to-increase-query-performance"></a>Устранение неравномерного распределения данных в таблице хранилища данных SQL для повышения производительности запросов

Неравномерное распределение данных может привести к ненужному перемещению данных или нехватке ресурсов при выполнении рабочей нагрузки. Помощник определяет неравномерное распределение данных, превышающее 15 %, и рекомендует повторно распространить свои данные и пересмотреть выбранные ключи распределения таблиц. См. дополнительные сведения об [определении и устранении неравномерного распределения](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-tables-distribute#how-to-tell-if-your-distribution-column-is-a-good-choice).

## <a name="create-or-update-outdated-table-statistics-on-your-sql-data-warehouse-table-to-increase-query-performance"></a>Создание или обновление устаревшей статистики таблиц в таблице хранилища данных SQL для повышения производительности запросов

Помощник определяет таблицы без актуальной [статистики таблиц](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-tables-statistics) и рекомендует создать или обновить эту статистику. Оптимизатор запросов хранилища данных SQL использует актуальную статистику, чтобы оценить кратность или число строк в результате запроса. Это позволяет ему создать план запросов высокого качества для обеспечения максимальной производительности.

## <a name="scale-up-to-optimize-cache-utilization-on-your-sql-data-warehouse-tables-to-increase-query-performance"></a>Масштабирование для оптимизации использования кэша в таблицах Хранилища данных SQL для повышения производительности запросов

Помощник по Azure определяет, имеет ли Хранилище данных SQL высокий процент использования кэша и низкий процент попаданий. Это условие указывает на значительное вытеснение кэша, которое может повлиять на производительность вашего Хранилища данных SQL. Помощник предлагает увеличить масштаб Хранилища данных SQL, чтобы выделить достаточную емкость кэша для рабочей нагрузки.

## <a name="convert-sql-data-warehouse-tables-to-replicated-tables-to-increase-query-performance"></a>Преобразование таблиц Хранилища данных SQL в реплицированные таблицы для повышения производительности запросов

Помощник получает преимущества от преобразования таблиц, поэтому при определении таблиц, которые не являются реплицированными, предлагает их преобразовать. Рекомендации основываются на размере реплицированной таблицы, количестве столбцов, типе распределения и количестве секций в таблице Хранилища данных SQL. Дополнительная эвристика может быть предоставлена ​​в рекомендации для контекста. Дополнительные сведения см. в статье [Рекомендации в Хранилище данных SQL](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-concept-recommendations#replicate-tables). 

## <a name="migrate-your-storage-account-to-azure-resource-manager-to-get-all-of-the-latest-azure-features"></a>Перенос учетной записи хранения в Azure Resource Manager для получения доступа ко всем новым компонентам Azure

Перенос модели развертывания учетной записи хранения в Azure Resource Manager (Resource Manager) позволит получить функции развертывания шаблонов, дополнительные параметры безопасности и возможность обновления до учетной записи GPv2 для использования новых компонентов службы хранилища Azure. Помощник определит все изолированные учетные записи хранения, которые используют классическую модель развертывания, и предложит перенести их в модель развертывания Resource Manager.

> [!NOTE]
> Прекращение поддержки классических оповещений в Azure Monitor запланировано на июнь 2019 г. Мы советуем обновить классическую учетную запись хранения, чтобы использовать Resource Manager для сохранения функциональности оповещений на новой платформе. Дополнительные сведения см. в сообщении об обновлении [Прекращение поддержки классических оповещений в Azure Monitor в июне 2019 г.](https://azure.microsoft.com/updates/classic-alerting-monitoring-retirement/)

## <a name="design-your-storage-accounts-to-prevent-hitting-the-maximum-subscription-limit"></a>Создать учетные записи хранения для предотвращения превышения ограничения на максимальное число подписок

Регион Azure может поддерживать до 250 учетных записей хранения на подписку. После достижения предела, можно не удается создать любые дополнительные учетные записи хранения в сочетании, регион и подписка. Помощник по будет проверять ваши подписки и поверхности рекомендации для разработки для меньшего числа учетных записей хранения для любого, близкие к достижение максимального предела.

## <a name="optimize-the-performance-of-your-azure-mysql-azure-postgresql-and-azure-mariadb-servers"></a>Оптимизация производительности сервера Azure MySQL, Azure PostgreSQL и Azure MariaDB 

### <a name="fix-the-cpu-pressure-of-your-azure-mysql-azure-postgresql-and-azure-mariadb-servers-with-cpu-bottlenecks"></a>Устранение нехватки ЦП сервера Azure MySQL, Azure PostgreSQL и Azure MariaDB с помощью узких мест ЦП
Очень высокая степень использования ЦП, уже длительное время может привести к производительности медленных запросов для рабочей нагрузки. Увеличение размера ЦП поможет в оптимизации выполнения запросов к базе данных и повысить общую производительность. Помощник по Azure определит серверов с высокой загрузкой ЦП, скорее всего выполняются рабочие нагрузки ЦП ограниченное, рекомендуем масштабирование вычислениями.

### <a name="reduce-memory-constraints-on-your-azure-mysql-azure-postgresql-and-azure-mariadb-servers-or-move-to-a-memory-optimized-sku"></a>Уменьшите доступной памяти на серверах Azure MySQL, Azure PostgreSQL и Azure MariaDB или переместить в памяти SKU оптимизированных для операций
Коэффициент попадания в кэш низкой может привести к снижению производительности запросов и Повышенная. Это может быть вызвано план запроса неправильный или запуска рабочей нагрузки с большим объемом памяти. Исправление плана запроса или [увеличить память](https://docs.microsoft.com/azure/postgresql/concepts-pricing-tiers) база данных Azure для сервера базы данных PostgreSQL, сервер базы данных Azure MySQL или Azure MariaDB server поможет оптимизировать выполнение рабочей нагрузки базы данных. Помощник по Azure определяет серверы, затронутых из-за этого потока пула буфера и рекомендует план запроса, либо исправления, переход на более высокий SKU с большим объемом памяти или увеличение размера хранилища, чтобы получить дополнительные операции ввода-ВЫВОДА.

### <a name="use-a-azure-mysql-or-azure-postgresql-read-replica-to-scale-out-reads-for-read-intensive-workloads"></a>Используйте Azure MySQL или реплики для чтения Azure PostgreSQL для масштабирования операций чтения для чтения интенсивных рабочих нагрузок
Помощник по Azure использует эвристику, рабочих нагрузок, таких как отношение количества операций чтения и записи на сервере за последние семь дней для идентификации рабочих нагрузок с высокой интенсивностью чтения. База данных Azure для PostgreSQL ресурсов вашей базы данных Azure для MySQL ресурса с соотношением очень высокий уровень операций чтения и записи может привести к конкуренции ЦП или памяти, что приводит к снизить производительность запроса. Добавление [реплики](https://docs.microsoft.com/azure/postgresql/howto-read-replicas-portal) поможет горизонтальное масштабирование операций чтения и сервере-реплике препятствует ограничения ЦП и памяти на сервере-источнике. Помощник по будет выявления серверов с такой высокой рабочих нагрузок с высокой интенсивностью чтения и добавить [чтение реплики](https://docs.microsoft.com/azure/postgresql/concepts-read-replicas) для разгрузки рабочих нагрузок чтения.


### <a name="scale-your-azure-mysql-azure-postgresql-or-azure-mariadb-server-to-a-higher-sku-to-prevent-connection-constraints"></a>Масштабирования сервера Azure MySQL, Azure PostgreSQL или Azure MariaDB до более высокого SKU, чтобы избежать ограничения соединений
Каждого нового подключения к серверу базы данных занимает некоторый объем памяти. Сервер базы данных производительность снижается, если не удается установить связь, к серверу из-за [верхний предел](https://docs.microsoft.com/azure/postgresql/concepts-limits) в памяти. Помощник по Azure будет определите серверов под управлением с много ошибок подключения и рекомендует выполнить обновление сервера пределах подключений для предоставления памяти для сервера масштабировании вычислений или используя памяти SKU, оптимизированные для, имеющих дополнительные вычислительные ресурсы на ядро.

## <a name="scale-your-cache-to-a-different-size-or-sku-to-improve-cache-and-application-performance"></a>Масштабирование кэша до другого размера или SKU, для улучшения кэша и производительности приложений

Экземпляры кэша лучше всего применять, когда не работает под значительной нехватки памяти, высокой нагрузки или пропускной способности высокой нагрузки на сеть, которая может привести к их перестать отвечать на запросы, привести к потере данных или становятся недоступными. Помощник будет идентифицировать экземпляры кэша в этих условиях и рекомендуем применении лучших методик для уменьшения нехватки памяти, нагрузка на сервер или пропускной способности сети или масштабирование другого размера или SKU с дополнительной емкости.

## <a name="add-regions-with-traffic-to-your-azure-cosmos-db-account"></a>Добавление регионов с трафиком к учетной записи Azure Cosmos DB

Помощник по обнаружит учетных записей Azure Cosmos DB с трафика в регионе, который в данный момент не настроена и добавить этот регион. Это улучшит задержку для запросов, поступающих из этого региона и обеспечит доступность в случае сбоев региона. [Дополнительные сведения о распределении глобальных данных с помощью Azure Cosmos DB](https://aka.ms/cosmos/globaldistribution)

## <a name="configure-your-azure-cosmos-db-indexing-policy-with-customer-included-or-excluded-paths"></a>Настройка в Azure Cosmos DB политики индексирования с клиентом включенные или исключенные пути

Помощник по Azure определит контейнеров Cosmos DB, используется политика индексирования по умолчанию, но преимущество от использования пользовательской политикой индексации, основанных на шаблоне рабочей нагрузки. Политика индексирования по умолчанию индексирует все свойства, но использование пользовательской политикой индексации с явной включенные или исключенные пути, используемые в фильтрах запросов может снизить RUs и объем хранилища для индексирования. [Дополнительные сведения об изменении политик индекса](https://aka.ms/cosmosdb/modify-index-policy)

## <a name="configure-your-azure-cosmos-db-query-page-size-maxitemcount-to--1"></a>Настроить размер страницы запроса Azure Cosmos DB (MaxItemCount)-1 

Помощник по Azure определит контейнеров Azure Cosmos DB, которые используют размер страницы запроса 100 и рекомендуем использовать размер страницы-1 для позволяет ускорить проверку. [Дополнительные сведения о максимальное число элементов](https://aka.ms/cosmosdb/sql-api-query-metrics-max-item-count)

## <a name="how-to-access-performance-recommendations-in-advisor"></a>Как получить доступ к рекомендации по производительности в Advisor

1. Войдите на [портал Azure](https://portal.azure.com) и откройте [Помощник](https://aka.ms/azureadvisordashboard).

2.  На панели мониторинга Помощника выберите вкладку **Производительность**.

## <a name="next-steps"></a>Дальнейшие действия

Чтобы узнать больше о рекомендациях Помощника, ознакомьтесь с приведенными ниже материалами.

* [Общие сведения об Azure Advisor](advisor-overview.md)
* [Приступая к работе с Azure Advisor](advisor-get-started.md)
* [Рекомендации Azure Advisor по затратам](advisor-performance-recommendations.md)
* [Рекомендации Azure Advisor по высокой доступности](advisor-high-availability-recommendations.md)
* [Рекомендации Azure Advisor по безопасности](advisor-security-recommendations.md)
