---
title: Фильтры в представлениях Azure Monitor Документы Майкрософт
description: Фильтр в представлении Azure Monitor позволяет пользователям фильтровать данные в представлении по значению конкретного свойства, не изменяя само представление.  В этой статье описывается, как использовать фильтр и добавить его в настраиваемое представление.
ms.subservice: logs
ms.topic: conceptual
author: bwren
ms.author: bwren
ms.date: 06/22/2018
ms.openlocfilehash: b4840ed30eb1f6dc8d6e6cef47da17807f9644d5
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77658580"
---
# <a name="filters-in-azure-monitor-views"></a>Фильтры в представлениях Azure Monitor
**Фильтр** в [представлении Azure Monitor](view-designer.md) позволяет пользователям фильтровать данные в представлении по значению конкретного свойства, не изменяя само представление.  Например, можно разрешить пользователям представления фильтровать это представление, чтобы просматривать данные только с определенного компьютера или набора компьютеров.  Можно создать несколько фильтров в одном представлении, чтобы разрешить пользователям выполнять фильтрацию по нескольким свойствам.  В этой статье описывается, как использовать фильтр и добавить его в настраиваемое представление.

## <a name="using-a-filter"></a>Использование фильтра
Нажмите на диапазон времени даты в верхней части представления, чтобы открыть падение вниз, где вы можете изменить диапазон времени даты для представления.

![Пример фильтра](media/view-designer-filters/filters-example-time.png)

Нажмите **+** кнопку, чтобы добавить фильтр, используя пользовательские фильтры, которые определены для представления. Выберите значение для фильтра в раскрывающемся списке или введите его самостоятельно. Продолжайте добавлять фильтры, **+** нажав на . 


![Пример фильтра](media/view-designer-filters/filters-example-custom.png)

Если удалить все значения для фильтра, то он больше не будет применяться.


## <a name="creating-a-filter"></a>Создание фильтра

Создайте фильтр на вкладке **Фильтры** при [редактировании представления](view-designer.md).  Фильтр является глобальным для представления и применяется ко всем его частям.  

![Настройки фильтра](media/view-designer-filters/filters-settings.png)

В следующей таблице описаны параметры фильтра.

| Параметр | Описание |
|:---|:---|
| Имя поля | Имя поля, используемого для фильтрации.  Это поле должно соответствовать обобщенное поле в **Запросе для значений.** |
| Запрос значений | Запрос, выполняемый для заполнения раскрывающегося списка фильтров для пользователя.  Этот запрос должен использовать либо [обобщенные](/azure/kusto/query/summarizeoperator) или [различные](/azure/kusto/query/distinctoperator) для обеспечения уникальных значений для конкретного поля, и он должен соответствовать **названию поля**.  Можно использовать оператор [sort](/azure/kusto/query/sortoperator) для сортировки значений, отображаемых для пользователя. |
| Тег | Имя поля, которое используется в запросах с поддержкой фильтра, а также отображается для пользователя. |

### <a name="examples"></a>Примеры

В следующей таблице представлены примеры распространенных фильтров.  

| Имя поля | Запрос значений | Тег |
|:--|:--|:--|
| Компьютер   | Heartbeat &#124; distinct Computer &#124; sort by Computer asc | Компьютеры |
| EventLevelName | Event &#124; distinct EventLevelName | Severity |
| SeverityLevel | Syslog &#124; distinct SeverityLevel | Severity |
| SvcChangeType | ConfigurationChange &#124; distinct svcChangeType | ChangeType |


## <a name="modify-view-queries"></a>Изменение запросов в представлении

Для вступления фильтра в действие необходимо изменить все запросы в представлении, чтобы применить фильтр по выбранным значениям.  Если вы не измените любые запросы в представлении, то любые значения, выбранные пользователем, не будут иметь никакого эффекта.

Для использования значения фильтра в запросе используется приведенный ниже синтаксис. 

    where ${filter name}  

Например, если в представлении есть запрос, который возвращает события и использует фильтр под названием _Computers,_ можно использовать следующий запрос.

    Event | where ${Computers} | summarize count() by EventLevelName

Если вы добавили еще один фильтр, Severity, то можете использовать следующий запрос для применения обоих фильтров.

    Event | where ${Computers} | where ${Severity} | summarize count() by EventLevelName

## <a name="next-steps"></a>Дальнейшие действия
* Узнайте больше об [элементах визуализации](view-designer-parts.md), которые можно добавить в представление.
