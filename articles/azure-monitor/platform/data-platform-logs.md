---
title: Журналы в Azure Monitor | Документация Майкрософт
description: Описывает журналы в Azure Monitor, которые используются для расширенного анализа данных мониторинга.
documentationcenter: ''
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.date: 09/09/2020
ms.author: bwren
ms.openlocfilehash: e08c649b9a1d7e8b909a413ee435fce30a8d7e48
ms.sourcegitcommit: 3fc3457b5a6d5773323237f6a06ccfb6955bfb2d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2020
ms.locfileid: "90032790"
---
# <a name="azure-monitor-logs-overview"></a>Обзор журналов Azure Monitor
Журналы Azure Monitor — это функция Azure Monitor, которая собирает и упорядочивает данные журналов из различных источников и делает их доступными для анализа с помощью сложного языка запросов. Данные из различных источников можно консолидировать в одну рабочую область и анализировать вместе для выполнения таких задач и анализа тенденций, предупреждений и визуализации.

## <a name="relationship-to-azure-monitor-metrics"></a>Связь с метриками Azure Monitor
Azure Monitor метрики хранят числовые данные в базе данных временных рядов, что делает эти данные более легковесными, чем журналы Azure Monitor, и способен поддерживать сценарии практически в реальном времени, что делает их особенно полезными для предупреждений и быстрого обнаружения проблем. Однако метрики могут хранить только числовые данные в определенной структуре, в то время как журналы могут хранить различные типы данных, каждая из которых имеет собственную структуру. Можно также выполнить сложный анализ данных журналов с помощью запросов к журналу, которые нельзя использовать для анализа данных метрик.

Числовые данные часто отправляются из источников данных в журналы в дополнение к метрикам. Хотя за сбор и сохранение этих данных в журналах взимается дополнительная плата, она позволяет включать данные метрик в запросы журналов и анализировать их с помощью других данных мониторинга.

## <a name="relationship-to-azure-data-explorer"></a>Связь с Azure обозреватель данных
Журналы Azure Monitor основаны на обозреватель данных Azure. Log Analytics Рабочая область примерно эквивалентна базе данных в Azure обозреватель данных, таблицы структурированы одинаково, и оба они используют один и тот же язык запросов Kusto (ККЛ). Использование Log Analytics для работы с запросами Azure Monitor в портал Azure аналогично работе с веб-ИНТЕРФЕЙСом Azure обозреватель данных. Можно даже [включить данные из рабочей области log Analytics в запрос Обозреватель данных Azure](/azure/data-explorer/query-monitor-data). 


## <a name="structure-of-data"></a>Структура данных
Данные, собранные журналами Azure Monitor, хранятся в [log Analytics рабочей области](./design-logs-deployment.md) , содержащей несколько таблиц, каждый из которых хранит данные из определенного источника. Рабочая область определяет географическое расположение данных, права доступа, определяющие, какие пользователи могут получать доступ к данным, а также параметры конфигурации, такие как ценовая категория и срок хранения данных. Вы можете использовать одну рабочую область для всех данных мониторинга или создать несколько рабочих областей в зависимости от ваших требований. Рекомендации по созданию нескольких рабочих областей см. в статье [проектирование развертывания журналов Azure Monitor](design-logs-deployment.md) .

Каждая Рабочая область содержит несколько таблиц, организованных в отдельные столбцы с несколькими строками данных. Каждая таблица определяется уникальным набором столбцов, которые являются общими для строк данных, предоставленных источником данных. 

[![Структура журналов Azure Monitor](media/data-platform-logs/logs-structure.png)](media/data-platform-logs/logs-structure.png#lightbox)


Данные журнала из Application Insights также хранятся в журналах Azure Monitor, но хранятся в разных случаях в зависимости от настройки приложения. Для приложения на основе рабочей области данные хранятся в Log Analytics рабочей области в стандартном наборе таблиц для хранения таких данных, как запросы приложений, исключения и Просмотры страниц. Несколько приложений могут использовать одну и ту же рабочую область. Для классического приложения данные не хранятся в рабочей области Log Analytics. Он использует тот же язык запросов, и вы создаете и запускаете запросы с помощью одного и того же средства Log Analytics в портал Azure. Хотя данные для классических приложений хранятся отдельно друг от друга. Его общая структура аналогична приложениям на основе рабочей области, хотя имена таблиц и столбцов различаются. Подробное сравнение этих двух возможностей см. в разделе [изменения ресурсов на основе рабочей области](../app/apm-tables.md) .


> [!NOTE]
> Мы по-прежнему предоставляем полную обратную совместимость с классическими запросами, ресурсами, книгами и оповещениями на основе журналов Application Insights. Для запроса или просмотра [структуры или схемы новой таблицы рабочей области](../app/apm-tables.md), необходимо сначала перейти в рабочую область Log Analytics. На этапе предварительной версии можно выбрать **Журналы** в областях Application Insights, чтобы перейти к классическому интерфейсу запросов Application Insights. Дополнительные сведения см. в разделе [область запроса](../log-query/scope.md) .


[![Структура журналов Azure Monitor для Application Insights](media/data-platform-logs/logs-structure-ai.png)](media/data-platform-logs/logs-structure-ai.png#lightbox)

## <a name="log-queries"></a>Запросы журнала
Данные извлекаются из рабочей области Log Analytics с помощью [запроса к журналу](../log-query/log-query-overview.md) , который является запросом только для чтения для обработки данных и возврата результатов. Запросы журнала написаны на [языке запросов Kusto (ККЛ)](/azure/data-explorer/kusto/query/), который является языком запросов, используемым обозреватель данных Azure. Используйте Log Analytics, который является средством в портал Azure для изменения и запуска запросов журнала и интерактивного анализа результатов. Затем можно использовать созданные запросы для поддержки других функций в Azure Monitor таких как оповещения и книги запросов журнала.


## <a name="sources-of-data-for-azure-monitor-logs"></a>Источники данных для журналов Azure Monitor
Azure Monitor собирает данные журнала из различных источников, включая ресурсы в Azure Monitor и агенты, выполняющиеся на виртуальных машинах. Полный список источников данных, отправляющих данные в рабочую область Log Analytics, см. в разделе [что отслеживается Azure Monitor?](../monitor-reference.md) .



## <a name="next-steps"></a>Дальнейшие действия

- Сведения о [запросах журнала](../log-query/log-query-overview.md) для извлечения и анализа данных из рабочей области log Analytics.
- Прочитайте статью о [метриках в Azure Monitor](data-platform-metrics.md).
- Узнайте о [доступных данных мониторинга](data-sources.md) для различных источников в Azure.

