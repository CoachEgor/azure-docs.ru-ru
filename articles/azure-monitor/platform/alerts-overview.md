---
title: Обзор мониторинга оповещений и уведомлений в Azure
description: Обзор оповещений в Azure. Оповещения, классические оповещения, интерфейс оповещений.
author: rboucher
services: monitoring
ms.service: azure-monitor
ms.topic: conceptual
ms.date: 01/28/2018
ms.author: robb
ms.subservice: alerts
ms.openlocfilehash: 6fb49baf8ab58ae6cfe7639cedcc4466810c8b96
ms.sourcegitcommit: 41ca82b5f95d2e07b0c7f9025b912daf0ab21909
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60347488"
---
# <a name="overview-of-alerts-in-microsoft-azure"></a>Обзор оповещений в Microsoft Azure 

В этой статье объясняется, что такое оповещения, каковы их преимущества и как начать их использовать.  




## <a name="what-are-alerts-in-microsoft-azure"></a>Что такое оповещения в Microsoft Azure?
С помощью оповещений можно заранее получать уведомления о важных условиях, обнаруженных в ваших данных мониторинга. Они позволяют выявить и устранить проблемы, прежде чем пользователи системы обнаружат их. 

В этой статье рассматривается унифицированный интерфейс оповещений в Azure Monitor, который теперь включает в себя оповещения, управляемые Log Analytics и Application Insights. [Предыдущий интерфейс оповещений](alerts-classic.overview.md) и типы оповещений называются **классическими оповещениями**. Старый интерфейс и типы оповещений можно просмотреть, щелкнув **Просмотреть классические оповещения** в верхней части страницы оповещений. 

## <a name="overview"></a>Обзор

Поток оповещений приведен на схеме ниже. 

![Поток оповещений](media/alerts-overview/Azure-Monitor-Alerts.svg)

Правила генерации оповещений отделены от оповещений и действий, которые предпринимаются при срабатывании оповещения. 

**Правило генерации оповещений** определяет источник и критерии для оповещения. Правило генерации оповещений можно включить или отключить. Оповещения срабатывают только при включенном состоянии. 

Ключевые атрибуты правил генерации оповещений приведены ниже.

**Конечный ресурс.** Определяет область и сигналы, доступные для оповещений. Целью может быть любой ресурс Azure. Примеры целевых ресурсов: виртуальная машина, учетная запись хранения, масштабируемый набор виртуальных машин, рабочая область Log Analytics или ресурс Application Insights. Для определенных ресурсов (например, Виртуальные машины) можно указать несколько ресурсов как целевой объект правила генерации оповещений.

**Сигнал**. Сигналы генерируются целевым ресурсом и могут включать несколько типов. Метрика, журнал действий, Application Insights и журнал.

**Критерии**. Представляют собой сочетание сигнала и логики, примененных для целевого ресурса. Примеры: 
   - Загрузка ЦП > 70 %
   - Время ответа сервера > 4 мс 
   - Число результатов запроса журнала > 100

**Имя оповещения** представляет собой определенное имя для правила генерации оповещений, заданное пользователем.

**Описание оповещения** представляет собой описание для правила генерации оповещений, заданное пользователем.

**Уровень серьезности** представляет собой уровень серьезности оповещения при выполнении условий, указанных в правиле генерации оповещения. Уровень серьезности может иметь значение от 0 до 4.

**Действие**. Это определенное действие, которое будет выполнено при срабатывании оповещения. Дополнительные сведения см. в разделе [Группы действий](../../azure-monitor/platform/action-groups.md).

## <a name="what-you-can-alert-on"></a>Возможные оповещения

Вы можете получить оповещение о метриках и журналах, как описано в [источниках данных мониторинга](../../azure-monitor/platform/data-sources-reference.md). Помимо прочего, к ним относятся:
- Значения метрик
- Запросы поиска по журналам
- События в журнале действий
- Работоспособность базовой платформы Azure
- Тесты на доступность веб-сайта

Ранее для метрик Azure Monitor, Application Insights, Log Analytics и Работоспособности служб были предусмотрены отдельные возможности оповещений. Со временем пользовательский интерфейс и различные методы оповещений были улучшены и объединены в Azure. Эта консолидация все еще выполняется. Поэтому в новой системе оповещений все еще не присутствуют некоторые возможности оповещений.  

| **Источник мониторинга** | **Тип сигнала**  | **Описание** | 
|-------------|----------------|-------------|
| Работоспособность службы | Журнал действий  | Не поддерживается. Ознакомьтесь с разделом [Создание оповещений журнала действий для уведомлений службы](../../azure-monitor/platform/alerts-activity-log-service-notifications.md).  |
| Application Insights | Веб-тесты доступности | Не поддерживается. Ознакомьтесь с разделом [Наблюдение за доступностью и скоростью реагирования веб-сайта](../../azure-monitor/app/monitor-web-app-availability.md). Доступны для любого веб-сайта, инструментированного для отправки данных в Application Insights. Получение уведомления, когда доступность или скорость реагирования веб-сайта опускается ниже ожидаемого значения. |

## <a name="manage-alerts"></a>Управление оповещениями
Чтобы указать, где в процессе разрешения находится оповещение, можно задать его состояние. При соблюдении критериев, заданных в правиле генерации оповещений, создании или срабатывании оповещения оно находится в состоянии *Новый*. Его можно изменить после того, как оповещение будет подтверждено или закрыто. Любые изменения состояния оповещения сохраняются в его журнале.

Поддерживаются следующие состояния оповещения.

| Состояние | Описание |
|:---|:---|
| Создать | Проблема была только что обнаружена и еще не рассматривалась. |
| Подтверждено | Администратор рассмотрел оповещение и начал над ним работать. |
| Закрытые | Проблема была устранена. После закрытия оповещения можно изменить его состояние и вновь открыть. |

**Состояние оповещения** отличается и не зависит от **состояния монитора**. Пользователь задает состояние оповещения. Система задает состояние монитора. Когда срабатывает оповещение, состояние монитора оповещения устанавливается как *Активировано*. Когда базовое условие, которое вызвало оповещение, активизирует очистку, условие мониторинга устанавливается на *Разрешено*. Состояние оповещения изменяется только пользователем. Узнайте, [как изменить состояние оповещений и смарт-групп](https://aka.ms/managing-alert-smart-group-states).

## <a name="smart-groups"></a>Смарт-группы 
Смарт-группы доступны в предварительной версии. 

Смарт-группы — это агрегаты оповещений, основанные на алгоритмах машинного обучения, которые могут помочь снизить количество лишних оповещений и помогают в исправлении проблем. [Дополнительные сведения о смарт-группах](https://aka.ms/smart-groups) и [управление смарт-группами](https://aka.ms/managing-smart-groups).


## <a name="alerts-experience"></a>Интерфейс оповещений 
На домашней странице оповещений находятся сводные данные оповещений, которые создаются в течение определенного временного интервала. Также здесь отображаются столбцы с итоговым числом оповещений и с общим числом оповещений в каждом состоянии для каждой серьезности. Чтобы открыть страницу [Все оповещения](#all-alerts-page), отфильтрованную по конкретной серьезности, щелкните ее.

На ней не отображаются и не отслеживаются старые [классические оповещения](#classic-alerts). Подписки или параметры фильтра можно изменять, чтобы обновить страницу. 

![Страница оповещений](media/alerts-overview/alerts-page.png)

Это представление можно отфильтровать, выбрав значения в раскрывающемся меню в верхней части страницы.

| столбец | Описание |
|:---|:---|
| Подписка | Выберите до пяти подписок Azure. Только оповещения из выбранных подписок включены в представление. |
| Группа ресурсов | Выбор одной группы ресурсов. Только те предупреждения, которые отмечены в выбранной группе ресурсов, включены в представление. |
| Диапазон времени | Только оповещения, выполненные в рамках выбранного временного интервала, будут включены в представление. Поддерживаемые значения: за последний час, за последние 24 часа, за последние 7 дней и за последние 30 дней. |

Чтобы открыть другую страницу, щелкните соответствующие значения вверху страницы "Оповещения".

| Значение | Описание |
|:---|:---|
| Всего оповещений | Общее количество оповещений, которые соответствуют выбранным критериям. Чтобы открыть представление "Все оповещения" без применения фильтра, щелкните это значение. |
| Смарт-группы | Общее количество смарт-групп, которые созданы из оповещений, соответствующих выбранным критериям. Чтобы открыть список смарт-групп в представлении "Все оповещения", щелкните это значение.
| Всего правил генерации оповещений | Общее количество оповещений в выбранной подписке и группе ресурсов. Чтобы открыть представление "Правила", отфильтрованное по выбранным подпискам и группам ресурсов, щелкните это значение.


## <a name="manage-alert-rules"></a>Управление правилами генерации оповещений
Щелкните **Управление правилами оповещения**, чтобы открыть страницу **Правила**. **Правила** — это единое место для управления всеми правилами генерации оповещений в подписках Azure. На этой странице перечислены все правила генерации оповещений, а также на ней доступна фильтрация по целевым ресурсам, группам ресурсов, имени правила или состоянию. Здесь также можно включить и отключить правила генерации оповещений, а также изменить их.  

 ![Правила генерации оповещений](./media/alerts-overview/alerts-preview-rules.png)


## <a name="create-an-alert-rule"></a>Создание правила оповещения
Вы можете согласованно создать оповещения для любой службы мониторинга и любого типа сигнала. Все сработавшие оповещения и связанные сведения доступны на одной странице.
 
Создание правила генерации оповещений включает в себя следующие три шага:
1. Выбор _цели_ оповещения.
1. Выбор _сигнала_ для цели из списка доступных сигналов.
1. Указание _логики_, которая будет применяться к информации, полученной от сигнала.
 
При таком упрощенном процессе создания пользователю больше не нужно знать поддерживаемый источник мониторинга или сигналы перед выбором ресурса Azure. Список доступных сигналов автоматически фильтруется на основе выбранного целевого ресурса. На основе того же целевого объекта, содержатся сведения об определении логики правила генерации оповещений автоматически.  

Дополнительные сведения по созданию правил генерации оповещений см. в статье [Создание и просмотр оповещений, а также управление ими с помощью Azure Monitor](../../azure-monitor/platform/alerts-metric.md).

Оповещения доступны в нескольких службах мониторинга Azure. Для получения сведений о том как и где использовать каждую из этих служб прочитайте статью [Мониторинг приложений и ресурсов в Azure](../../azure-monitor/overview.md). 


## <a name="all-alerts-page"></a>Страница "Все оповещения" 
Щелкните "Всего оповещений", чтобы увидеть страницу "Все оповещения". Здесь можно просматривать списки оповещений, которые были созданы на протяжении выбранного временного интервала. Здесь можно просмотреть список отдельных оповещений или список-смарт групп, которые содержат оповещения. Чтобы переключаться между представлениями, щелкните баннер вверху страницы.

![Страница "Все оповещения"](media/alerts-overview/all-alerts-page.png)

Представление можно отфильтровать, выбрав следующие значения в раскрывающемся меню в верхней части страницы.

| столбец | Описание |
|:---|:---|
| Подписка | Выберите до пяти подписок Azure. Только оповещения из выбранных подписок включены в представление. |
| Группа ресурсов | Выбор одной группы ресурсов. Только те предупреждения, которые отмечены в выбранной группе ресурсов, включены в представление. |
| Тип ресурса | Выбор одной или нескольких группу ресурсов. В представление включены только те оповещения, в которых выбранный тип отмечен. Этот столбец становится доступным только после указания группы ресурсов. |
| Ресурс | Выбор ресурса. В представление включены только те оповещения, целью которых выбраны ресурсы. Этот столбец становится доступным только после указания типа ресурсов. |
| Severity | Выберите серьезность оповещения или щелкните *Все*, чтобы включить оповещения всех уровней серьезности. |
| Состояние монитора | Чтобы включить оповещения о состояниях, выберите состояние монитора или щелкните *Все*. |
| Состояние оповещения | Выберите состояние оповещения или щелкните *Все*, чтобы включить оповещения во всех состояниях. |
| Мониторинг службы | Выберите службу или щелкните *Все*, чтобы включить все службы. В представление включаются только те оповещения, которые были созданы в соответствие с правилами и которые используют эту службу в качестве цели. |
| Диапазон времени | Только оповещения, выполненные в рамках выбранного временного интервала, будут включены в представление. Поддерживаемые значения: за последний час, за последние 24 часа, за последние 7 дней и за последние 30 дней. |

Чтобы выбрать, какой из столбцов отображать, в верхней части страницы щелкните **Столбцы**. 

## <a name="alert-detail-page"></a>страницы "Сведения об оповещении"
Если щелкнуть оповещение, отобразится страница "Сведения об оповещении". Она содержит сведения об оповещении и позволяет изменить его состояние.

![Сведения об оповещении](media/alerts-overview/alert-detail2.png)

Страница "Сведения об оповещении" содержит следующие разделы.

| `Section` | Описание |
|:---|:---|
| Основные компоненты | В этом разделе отображаются свойства оповещения и другие важные сведения о нем. |
| Журнал | В этом разделе перечислено каждое действие оповещения и любые изменения внесенные в оповещение. В настоящее время этот раздел ограничен изменениями состояния. |
| Смарт-группа | Сведения об смарт-группах, в которые включены оповещения. *Счетчик оповещений* отображает количество оповещений, которые включены в смарт-группу. Включает в себя другие предупреждения в той же смарт-группе, которые были созданы за последние 30 дней, независимо от фильтра времени на странице списка оповещений. Чтобы получить дополнительные сведения, щелкните оповещение. |
| Дополнительные сведения | В этом разделе отображается дополнительная контекстная информация об оповещении, которая обычно относится к типу источника оповещения. |


## <a name="classic-alerts"></a>Классические оповещения 

Метрики Azure Monitor и возможности оповещений журнала действий, выпущенные до июня 2018 года, называются "Оповещения (классические)". 

Дополнительные сведения см. в статье [Что такое классические оповещения в Microsoft Azure?](./../../azure-monitor/platform/alerts-classic.overview.md)


## <a name="next-steps"></a>Дальнейшие действия

- [Дополнительные сведения о смарт-группах](https://aka.ms/smart-groups)
- [Дополнительные сведения о группах действий](../../azure-monitor/platform/action-groups.md)
- [Управление экземплярами оповещений в Azure](https://aka.ms/managing-alert-instances)
- [Управление смарт-группами](https://aka.ms/managing-smart-groups)






