---
title: Параметры времени работы Azure Monitor Monitor
description: Упростите создание сложных отчетов с помощью готовых настраиваемых параметризованных книг
services: azure-monitor
author: mrbullwinkle
manager: carmonm
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.topic: conceptual
ms.date: 10/23/2019
ms.author: mbullwin
ms.openlocfilehash: 380b8a7ce286ab06b6935bf63bf3a0e82f371c2f
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77658019"
---
# <a name="workbook-time-parameters"></a>Параметры времени в справочнике

Параметры времени позволяют пользователям устанавливать временной контекст анализа и используются почти во всех отчетах. Это относительно просто настроить и использовать - позволяет авторам указать временные диапазоны, чтобы показать в падение вниз, в том числе возможность для пользовательских диапазонов времени. 

## <a name="creating-a-time-parameter"></a>Создание параметра времени
1. Начните с пустой трудовой книжки в режиме рерит.
2. Выберите _Параметры добавления_ из ссылок в трудовой книжке.
3. Нажмите на синюю кнопку _Добавить параметр._
4. В новом параметре панели, которая всплывает ввести:
    1. Название параметра:`TimeRange`
    2. Тип параметра:`Time range picker`
    3. Обязательно:`checked`
    4. Доступное время диапазонов: Последний час, Последние 12 часов, Последние 24 часа, Последние 48 часов, Последние 3 дня, Последние 7 дней и Разрешить пользовательский выбор диапазона времени
5. Выберите "Сохранить" из панели инструментов для создания параметра.

    ![Изображение, показывающее создание параметра временного диапазона](./media/workbooks-time/time-settings.png)

Так будет выглядеть трудовая книжка в режиме чтения.

![Изображение, показывающее параметр диапазона времени в режиме чтения](./media/workbooks-time/parameters-time.png)

## <a name="referencing-a-time-parameter"></a>Ссылка на параметр времени
### <a name="via-bindings"></a>Через привязки
1. Добавьте элемент управления запросами в трудовую книгу и выберите ресурс Application Insights.
2. Большинство элементов управления рабочей книгой поддерживают сборщик ареала _времени._ Откройте выпадение _диапазона времени_ `{TimeRange}` и выберите группу параметров параметров времени внизу.
3. Это связывает параметр временного диапазона с временной диапазоном диаграммы. Сфера времени запроса образца теперь длится 24 часа.
4. Выполнить запрос, чтобы увидеть результаты

    ![Изображение, показывающее параметр диапазона времени, на который ссылаются через привязки](./media/workbooks-time/time-binding.png)

### <a name="in-kql"></a>В КЗЛ
1. Добавьте элемент управления запросами в трудовую книгу и выберите ресурс Application Insights.
2. В КЗЛ введите фильтр области времени, используя параметр:`| where timestamp {TimeRange}`
3. Это расширяет время оценки `| where timestamp > ago(1d)`запроса до, что является значением диапазона времени параметра.
4. Выполнить запрос, чтобы увидеть результаты

    ![Изображение, показывающее временной диапазон, на который ссылаются в КЗЛ](./media/workbooks-time/time-in-code.png)

### <a name="in-text"></a>В тексте 
1. Добавьте элемент управления текстом в трудовую книжку.
2. В разметке введите`The chosen time range is {TimeRange:label}`
3. Выбрать _готовое редактирование_
4. Текст управления покажет текст: _Выбранный временной диапазон за последние 24 часа_

## <a name="time-parameter-options"></a>Параметры параметра времени
| Параметр | Объяснение | Пример |
| ------------- |:-------------|:-------------|
| `{TimeRange}` | Метка диапазона времени | за последние 24 часа; |
| `{TimeRange:label}` | Метка диапазона времени | за последние 24 часа; |
| `{TimeRange:value}` | Значение диапазона времени | > назад (1d) |
| `{TimeRange:query}` | Запрос диапазона времени | > назад (1d) |
| `{TimeRange:start}` | Время начала диапазона времени | 3/20/2019 16:18 |
| `{TimeRange:end}` | Время окончания диапазона времени | 3/21/2019 16:18 |
| `{TimeRange:grain}` | Зерно временного диапазона | 30 м |


### <a name="using-parameter-options-in-a-query"></a>Использование параметров параметров в запросе
```kusto
requests
| make-series Requests = count() default = 0 on timestamp from {TimeRange:start} to {TimeRange:end} step {TimeRange:grain}
```

## <a name="next-steps"></a>Дальнейшие действия

* [Начать](workbooks-visualizations.md) узнавать больше о рабочих книгах много богатых вариантов визуализации.
* [Контролируйте](workbooks-access-control.md) и делитесь доступом к ресурсам вашей трудовой книжки.
