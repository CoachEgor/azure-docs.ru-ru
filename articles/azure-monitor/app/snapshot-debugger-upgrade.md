---
title: Обновление Azure Application Insights Snapshot Debugger
description: Как обновить Snapshot Debugger для приложений .NET до последней версии служб приложений Azure или через пакеты Nuget
ms.topic: conceptual
author: pharring
ms.author: pharring
ms.date: 03/28/2019
ms.reviewer: mbullwin
ms.openlocfilehash: 6991db6055ca8556adff67f194bac0f4aa04cb06
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77671398"
---
# <a name="upgrading-the-snapshot-debugger"></a>Обновление моментального отладчика

Чтобы обеспечить наилучшую безопасность данных, корпорация Майкрософт удаляется от TLS 1.0 и TLS 1.1, которые, как было показано, уязвимы для определенных злоумышленников. Если вы используете старую версию расширения сайта, для продолжения работы потребуется обновление. В этом документе излагаются шаги, необходимые для обновления отладчика моментального снимка до последней версии. Существует два основных пути обновления в зависимости от того, включили ли вы Snapshot Debugger расширение сайта или использовали SDK/Nuget, добавленный в приложение. Оба пути обновления рассматриваются ниже. 

## <a name="upgrading-the-site-extension"></a>Обновление расширения сайта

> [!IMPORTANT]
> В более старых версиях Application Insights использовалось расширение частного сайта под названием _Application Insights для службы приложений Azure._ Текущий опыт Исследования приложений включен путем настройки настройки приложения, чтобы осветить предустановленное расширение сайта.
> Чтобы избежать конфликтов, которые могут привести к остановке работы вашего сайта, важно сначала удалить расширение частного сайта. Смотрите шаг 4 ниже.

Если вы включили отладчик snapshot с помощью расширения сайта, можно обновить его с помощью следующей процедуры:

1. Войдите на портал Azure.
2. Перейдите на ресурс, на который включены анализы приложений и моментальный снимок. Например, для Web-приложения перейдите на ресурс Службы приложений:

   ![Скриншот отдельного ресурса App Service под названием DiagService01](./media/snapshot-debugger-upgrade/app-service-resource.png)

3. После того как вы перешли на ваш ресурс, нажмите на лезвие расширения и ждать список расширений для заполнения:

   ![Скриншот расширения службы приложений, показывающий расширение Application Insights для установки службы приложений Azure](./media/snapshot-debugger-upgrade/application-insights-site-extension-to-be-deleted.png)

4. Если установлена какая-либо версия _расширения Application Insights для службы приложений Azure,_ выберите ее и нажмите «Удалить». **Подтвердите,да,** чтобы удалить расширение и ждать удаления для завершения, прежде чем перейти к следующему шагу.

   ![Скриншот расширения службы приложений, показывающий расширение Application Insights для службы приложений Azure с выделенной кнопкой «Удалить»](./media/snapshot-debugger-upgrade/application-insights-site-extension-delete.png)

5. Перейдите на лезвие обзора вашего ресурса и нажмите на Application Insights:

   ![Скриншот из трех кнопок. Выбрана кнопка «Центр» с именем Application Insights](./media/snapshot-debugger-upgrade/application-insights-button.png)

6. Если это первый раз, когда вы просмотрели лезвие Application Insights для этой службы приложений, вам будет предложено включить Application Insights. Выберите **Включить анализ приложений**.
 
   ![Скриншот первого опыта для лезвия Application Insights с кнопкой Turn on Application Insights выделен](./media/snapshot-debugger-upgrade/turn-on-application-insights.png)

7. Отображаются текущие настройки исследования приложений. Если вы не хотите воспользоваться возможностью, чтобы изменить настройки, вы можете оставить их как есть. Кнопка **"Применить"** в нижней части лезвия не включена по умолчанию, и вам придется переключить одну из настроек, чтобы активировать кнопку. Вам не нужно менять какие-либо фактические настройки, а вы можете изменить настройки, а затем немедленно изменить его обратно. Мы рекомендуем toggling настройки Профилера, а затем выбрать **Применить**.

   ![Скриншот страницы конфигурации службы приложения Application Insights с кнопкой Apply, выделенной красным цветом](./media/snapshot-debugger-upgrade/view-application-insights-data.png)

8. Как только вы нажмете **Apply,** вас попросят подтвердить изменения.

    > [!NOTE]
    > Сайт будет перезапущен в рамках процесса обновления.

   ![Скриншот запроса мониторинга приложения службы. Текстовое окно отображает сообщение: "Теперь мы будем применять изменения в настройках приложения и установить наши инструменты, чтобы связать ресурс Application Insights с веб-приложением. Это позволит перезапустить сайт. Продолжить?".](./media/snapshot-debugger-upgrade/apply-monitoring-settings.png)

9. Нажмите **"Да",** чтобы применить изменения и ждать завершения процесса.

Сайт уже обновлен и готов к использованию.

## <a name="upgrading-snapshot-debugger-using-sdknuget"></a>Обновление моментального снимка с помощью SDK/Nuget

Если приложение использует версию `Microsoft.ApplicationInsights.SnapshotCollector` ниже версии 1.3.1, его необходимо обновить до [более новой версии,](https://www.nuget.org/packages/Microsoft.ApplicationInsights.SnapshotCollector) чтобы продолжить работу.
