---
title: Анализ шаблонов навигации пользователя с помощью инструмента "Маршруты пользователя"в Azure Application Insights | Документация Майкрософт
description: Анализируйте то, как пользователи выполняют переходы между страницами и компонентами веб-приложения.
services: application-insights
documentationcenter: ''
author: NumberByColors
manager: carmonm
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.topic: conceptual
ms.date: 01/24/2018
ms.reviewer: mbullwin
ms.pm_owner: daviste;NumberByColors
ms.author: daviste
ms.openlocfilehash: 91274fad4e56c69777333c81ea3b32dccdcf64ff
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60373300"
---
# <a name="analyze-user-navigation-patterns-with-user-flows-in-application-insights"></a>Анализ шаблонов навигации пользователя с помощью инструмента "Маршруты пользователя"в Azure Application Insights

![Инструмент "Маршруты пользователя" в Application Insights](./media/usage-flows/00001-flows.png)

Инструмент "Маршруты пользователя" позволяет анализировать то, как пользователи выполняют переходы между страницами и компонентами сайта. Он позволяет получить ответ на такие вопросы, как, например, следующие.

* Как пользователи покидают страницу на сайте?
* Какой элемент на странице нажимают пользователи сайта?
* Что на сайте отталкивает его посетителей больше всего?
* Существуют ли места на сайте, где пользователи снова и снова повторяют одни и те же действия?

Инструмент "Маршруты пользователей" начинает с просмотра начальной страницы, пользовательского события или исключения, указанного вами. На основе этого начального события инструмент "Маршруты пользователей" показывает события, которые произошли до и после во время пользовательских сеансов. Линии различной толщины показывают, сколько раз пользователи выбрали тот или иной путь. Особые узлы **Сеанс запущен** показывают, где в последующих узлах начался сеанс. Узлы **Сеанс завершен** показывают, сколько пользователей не отправили запросы на просмотр страниц или пользовательские события после предшествующего узла, что позволяет выделить те моменты, когда пользователи, вероятно, покинули веб-сайт.

> [!NOTE]
> Ресурс Application Insights должен содержать просмотры страниц или пользовательские события для использования инструмента "Маршруты пользователя". [Узнайте, как настроить приложение для сбора сведений о просмотре страниц автоматически с помощью пакета SDK для JavaScript Application Insights](../../azure-monitor/app/javascript.md).
>
>

## <a name="start-by-choosing-an-initial-event"></a>Начало: выбор начального события

![Выбор начального события для инструмента "Маршруты пользователя"](./media/usage-flows/00002-flows-initial-event.png)

Чтобы начать получать ответы на вопросы с помощью инструмента "Маршруты пользователя", выберите просмотр начальной страницы, пользовательское событие или исключение в качестве отправной точки для визуализации.

1. Щелкните ссылку в заголовке **Что делают пользователи после...?** или нажмите кнопку **Изменить**.
2. Выберите просмотр страницы, пользовательское событие или исключение в раскрывающемся списке **Начальное событие**.
3. Нажмите кнопку **Создать граф**.

В столбце "Шаг 1" визуализации показано, что пользователи чаще всего делают после начального события (действия упорядочены сверху вниз по частоте выполнения). В столбце Step 2 (Шаг 2) и последующих столбцах показано, что пользователи делают в дальнейшем, что позволяет получить картину того, как пользователи перемещаются по веб-сайту.

По умолчанию инструмент "Маршруты пользователя" выполняет случайную выборку просмотров страниц и пользовательских событий с веб-сайта только за последние 24 часа. Можно увеличить период времени и изменить баланс производительности и точности случайной выборки в меню "Правка".

Чтобы скрыть ненужные просмотры страниц, пользовательские события и исключения, щелкните значок **X** для соответствующих узлов. После выбора узлов, которые нужно скрыть, нажмите кнопку **Создать граф** под визуализацией. Чтобы отобразить все скрытые узлы, нажмите кнопку **Изменить**, а затем обратитесь к разделу **Исключенные события**.

Если просмотры страниц или пользовательские события, которые вы хотите увидеть в визуализации, отсутствуют.

* Перейдите к разделу **Исключенные события** в меню **Правка**.
* С помощью кнопок со знаком плюс на узлах **Другие** в визуализацию можно включить редкие события.
* Если ожидаемые просмотр страницы или пользовательское событие выполняются редко, попробуйте увеличить диапазон времени визуализации в меню **Правка**.
* Убедитесь, что ожидаемый просмотр страницы, пользовательское событие или исключение настроены на сбор пакетом SDK Application Insights в исходном коде веб-сайта. [Узнайте подробнее о создании пользовательских событий](../../azure-monitor/app/api-custom-events-metrics.md).

Чтобы отобразить в визуализации больше шагов, используйте раскрывающиеся списки **Предыдущие шаги** и **Следующие шаги** над визуализацией.

## <a name="after-visiting-a-page-or-feature-where-do-users-go-and-what-do-they-click"></a>Куда переходят пользователи и что они нажимают после посещения страницы или компонента?

![Используйте инструмент "Маршруты пользователя", чтобы понять, где пользователи щелкают элементы сайта.](./media/usage-flows/00003-flows-one-step.png)

Если начальным событием является просмотр страницы, то первый столбец (Step 1 [Шаг 1]) визуализации позволяет быстро понять, что пользователи сделали сразу же после посещения страницы. Попробуйте открыть сайт в окне рядом с визуализацией в инструменте "Маршруты пользователя". Сравните ожидаемое взаимодействие пользователей с этой страницей со списком событий в столбце Step 1 (Шаг 1). Часто элемент пользовательского интерфейса, который кажется незначительным для команды, может входить в список наиболее часто используемых элементов на странице. Это может стать отличной отправной точкой для улучшения дизайна сайта.

Если начальным событием является пользовательское событие, то в первом столбце показано, что пользователи сделали сразу после выполнения этого действия. Как и в случае с просмотрами страниц, проверьте, совпадает ли поведение пользователей с целями и ожиданиями команды. Если, к примеру, выбрано начальное событие "Товар добавлен в корзину", обратите внимание в визуализации на то, появилось ли вскоре после этого событие "Переход к оформлению заказа" или "Покупка совершена". Если поведение пользователя отличается от ожидаемого, используйте визуализацию, чтобы понять, насколько пользователей "заинтересовывает" текущий дизайн веб-сайта.

## <a name="where-are-the-places-that-users-churn-most-from-your-site"></a>Что на сайте отталкивает его посетителей больше всего?

Обратите внимание на узлы **Сеанс завершен**, которые отображаются в верхней части столбца визуализации, особенно на начальном этапе. Это означает, что многие пользователи, возможно, покинули веб-сайт после перехода по предыдущему пути просмотра страниц и взаимодействия с элементами пользовательского интерфейса. Иногда отток посетителей является ожидаемым явлением — например, после совершения покупки в интернет-магазине, — но обычно отток посетителей указывает на проблемы с дизайном, на плохую производительность или на иные проблемы с сайтом, которые следует устранить.

Помните, что узлы **Сеанс завершен** основаны только на данных телеметрии, собираемых этим ресурсом Application Insights. Если Application Insights не получает данные телеметрии для определенных действий пользователя, пользователи по-прежнему могли бы взаимодействовать с сайтом этими способами после того, как инструмент "Маршруты пользователя" сообщил о завершении сеанса.

## <a name="are-there-places-where-users-repeat-the-same-action-over-and-over"></a>Существуют ли места на сайте, где пользователи снова и снова повторяют одни и те же действия?

Найдите просмотр страницы или пользовательское событие, которые повторяются несколькими пользователями на последующих шагах в визуализации. Обычно это означает, что пользователи выполняют повторяющиеся действия на вашем сайте. Если вы нашли такое повторение, рекомендуется изменить дизайн веб-сайта или добавить новые функции, чтобы уменьшить повторения. Например, можно добавить функцию массового редактирования, если вы обнаружили, что пользователи выполняют повторяющиеся действия в каждой строке элемента таблицы.

## <a name="common-questions"></a>Часто задаваемые вопросы

### <a name="does-the-initial-event-represent-the-first-time-the-event-appears-in-a-session-or-any-time-it-appears-in-a-session"></a>Начальные события представляют самые первые события во время сеанса или относятся к любому времени в сеансе?

Начальное событие в визуализации представляется только самый первый раз, когда пользователь отправил данные о просмотре страницы или пользовательском событии во время сеанса. Если пользователи могут отправлять начальные события несколько раз за сеанс, то в столбце Step 1 (Шаг 1) отображается только поведение пользователей после *первого* экземпляра начального события, а не все экземпляры.

### <a name="some-of-the-nodes-in-my-visualization-are-too-high-level-for-example-a-node-that-just-says-button-clicked-how-can-i-break-it-down-into-more-detailed-nodes"></a>Некоторые узлы в моей визуализации слишком общие. Например, узел, на котором просто отображается текст "Нажата кнопка". Как разбить этот узел на узлы с более подробной информацией?

Воспользуйтесь параметрами **Разделение по** в меню **Правка**:

1. В меню **Событие** выберите событие, которые необходимо разбить.
2. В меню **Измерение** выберите измерение. Например, для события с именем "Нажата кнопка" попробуйте применить пользовательское свойство "Имя кнопки".

## <a name="next-steps"></a>Дальнейшие действия

* [Общие сведения об использовании](usage-overview.md)
* [Анализ пользователей, сеансов и событий в Application Insights](usage-segmentation.md)
* [Сохранение](usage-retention.md)
* [API Application Insights для пользовательских событий и метрик](../../azure-monitor/app/api-custom-events-metrics.md)