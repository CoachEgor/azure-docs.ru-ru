---
title: Azure Monitor для кэша Azure для Redis (Предварительная версия) | Документация Майкрософт
description: В этой статье описывается Azure Monitor для функции кэша Redis, которая предоставляет владельцам Azure кэш для Redis с кратким объяснением проблем с производительностью и использованием.
ms.topic: conceptual
author: mrbullwinkle
ms.author: mbullwin
ms.date: 05/07/2020
ms.openlocfilehash: af32459ffcb50c9f1cfdc59d2c8d355d3551e230
ms.sourcegitcommit: a8ee9717531050115916dfe427f84bd531a92341
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/12/2020
ms.locfileid: "83210979"
---
# <a name="explore-azure-monitor-for-azure-cache-for-redis-preview"></a>Просмотр Azure Monitor для кэша Azure для Redis (Предварительная версия)

Azure Monitor для кэша Azure для Redis (Предварительная версия) предоставляет общее представление о производительности, сбоях, емкости и работоспособности всех кэшей Azure для ресурсов Redis в едином интерактивном интерфейсе. Эта статья поможет вам понять преимущества этого нового средства мониторинга, а также изменить и адаптировать интерфейс в соответствии с потребностями вашей организации.

## <a name="introduction"></a>Введение

Прежде чем углубляться в опыт, необходимо понять, как она представляет и визуализирует информацию.

Он предоставляет:

* С **точки зрения масштабирования** кэша Azure для ресурсов Redis во всех подписках в одном расположении с возможностью выборочной области только для тех подписок и ресурсов, которые вы хотите оценить.

* **Детализируйте углублением анализ** конкретного кэша Azure для ресурса Redis, чтобы помочь в диагностике проблем или подробном анализе по использованию категории, сбоям, емкости и операциям. Выбор любого из этих параметров приводит к подробному представлению соответствующего объекта.  

* **Настраиваемый** . Этот интерфейс основан на Azure Monitor шаблонах книг, позволяющих изменить отображаемые метрики, изменить или задать пороговые значения, согласованные с вашими ограничениями, а затем сохранить их в пользовательской книге. Диаграммы в книгах можно закреплять на панелях мониторинга Azure.  

Эта функция не требует включения или настройки, поэтому по умолчанию собираются данные кэша Azure для Redis.

>[!NOTE]
>Плата за доступ к этой функции не взимается, и плата взимается только за Azure Monitorные дополнительные функции, которые вы настраиваете или включаете, как описано на странице [сведений о ценах на Azure Monitor](https://azure.microsoft.com/pricing/details/monitor/) .

## <a name="view-utilization-and-performance-metrics-for-azure-cache-for-redis"></a>Просмотр метрик использования и производительности кэша Azure для Redis

Чтобы просмотреть сведения об использовании и производительности учетных записей хранения во всех подписках, выполните следующие действия.

1. Войдите на [портал Azure](https://portal.azure.com).

2. Найдите **монитор** и выберите **монитор**.

    ![Поле поиска со словом "монитор" и раскрывающимся списком "службы" с изображением в стиле спидометр](./media/cosmosdb-insights-overview/search-monitor.png)

3. Выберите **кэш Azure для Redis (Предварительная версия)**.

Если этот параметр отсутствует, щелкните **Дополнительно** и выберите **кэш Azure для Redis**.

### <a name="overview"></a>Обзор

В разделе **Обзор**в таблице отображается интерактивный кэш Azure для метрик Redis. Результаты можно фильтровать на основе параметров, выбранных в следующих раскрывающихся списках:

* Только **подписки** . перечислены подписки с ресурсами кэша Azure для Redis.  

* **Кэш Azure для Redis** . Вы можете выбрать все, подмножество или один кэш Azure для ресурса Redis.

* **Диапазон времени** — по умолчанию отображает данные за последние 4 часа на основе соответствующих параметров.

На плитке счетчиков в раскрывающихся списках общее количество ресурсов кэша Azure для Redis в выбранных подписках. Существует условное выделение цветом или тепловые карты для столбцов в книге, которые сообщают метрики транзакций. Самый глубокий цвет имеет наибольшее значение, а светлый — на основе наименьших значений.

Если щелкнуть стрелку раскрывающегося списка рядом с одним из кэша Azure для ресурсов Redis, будут отображены метрики производительности на уровне отдельного ресурса:

![Снимок экрана с обзорным интерфейсом](./media/redis-cache-insights-overview/overview.png)

Если выбрать для ресурса "кэш Azure для Redis", выделенный синим цветом, откроется **Обзор** по умолчанию для соответствующей учетной записи. Он показывает,,,, `Used Memory` `Used Memory Percentage` ,, `Server Load` `Server Load Timeline` `CPU` `Connected Clients` `Cache Misses` , `Errors (Max)` .

### <a name="operations"></a>Операции

В верхней части страницы выберите **операции** , после чего откроется часть шаблона книги **операции** . Он показывает `Total Operations` ,,, `Total Operations Timeline` `Operations Per Second` `Gets` , `Sets` .

![Снимок экрана с обзорным интерфейсом](./media/redis-cache-insights-overview/operations.png)

### <a name="usage"></a>Использование

Выберите **Использование** в верхней части страницы, после чего откроется часть **использования** шаблона книги. Он показывает `Cache Read` ,,, `Cache Read Timeline` `CacheWrite` `CacheHits` , `Cache Misses` .

![Снимок экрана с обзорным интерфейсом](./media/redis-cache-insights-overview/usage.png)

В верхней части страницы выберите **сбои** , после чего откроется часть шаблона книги " **ошибки** ". Он показывает,,,, `Total Errors` `Failover/Errors` ,, `UnresponsiveClient/Errors` `RDB/Errors` `AOF/Errors` `Export/Errors` `Dataloss/Errors` , `Import/Errors` .

![Снимок экрана сбоев с разбивкой по типу запроса HTTP](./media/redis-cache-insights-overview/failures.png)

### <a name="metric-definitions"></a>Определения метрик

Полный список определений метрик, составляющих эти книги, см. в [статье доступные метрики и интервалы составления отчетов](https://docs.microsoft.com/azure/azure-cache-for-redis/cache-how-to-monitor#available-metrics-and-reporting-intervals).

## <a name="pin-export-and-expand"></a>Закрепление, экспорт и расширение

Вы можете закрепить один из разделов метрик на [панели мониторинга Azure](https://docs.microsoft.com/azure/azure-portal/azure-portal-dashboards) , щелкнув значок канцелярской кнопки в правом верхнем углу раздела.

![Пример закрепления раздела метрики на панели мониторинга](./media/cosmosdb-insights-overview/pin.png)

Чтобы экспортировать данные в формат Excel, щелкните значок со стрелкой вниз слева от значка канцелярской кнопки.

![Значок экспорта книги](./media/cosmosdb-insights-overview/export.png)

Чтобы развернуть или свернуть все раскрывающиеся представления в книге, щелкните значок развертывания слева от значка экспорта:

![Развернуть значок книги](./media/cosmosdb-insights-overview/expand.png)

## <a name="customize-azure-monitor-for-azure-cache-for-redis-preview"></a>Настройка Azure Monitor для кэша Azure для Redis (Предварительная версия)

Поскольку этот интерфейс основан на Azure Monitor шаблонах книг, вы можете **настроить**  >  **Редактирование** и **сохранить** копию измененной версии в пользовательской книге. 

![Панель настройки](./media/cosmosdb-insights-overview/customize.png)

Книги сохраняются в группе ресурсов либо в разделе **Мои отчеты** , который является частным, либо в разделе **Общие отчеты** , доступном всем пользователям с доступом к группе ресурсов. После сохранения пользовательской книги необходимо перейти в коллекцию книг, чтобы запустить ее.

![Запуск коллекции книг на панели команд](./media/cosmosdb-insights-overview/gallery.png)

## <a name="next-steps"></a>Дальнейшие действия

* Настройте [оповещения метрик](../platform/alerts-metric.md) и [уведомления о работоспособности службы](../../service-health/alerts-activity-log-service-notifications.md) , чтобы настроить автоматическое оповещение для облегчения обнаружения проблем.

* Ознакомьтесь с книгами сценариев, предназначенными для поддержки, создания новых и настройки существующих отчетов и многого другого, изучив [Создание интерактивных отчетов с помощью Azure Monitor книг](../app/usage-workbooks.md).
