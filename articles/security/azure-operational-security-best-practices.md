---
title: Рекомендации по обеспечению операционной безопасности Azure | Документация Майкрософт
description: В этой статье представлены рекомендации по обеспечению операционной безопасности Azure.
services: security
documentationcenter: na
author: TerryLanfear
manager: barbkess
editor: tomsh
ms.assetid: ''
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 09/20/2018
ms.author: terrylan
ms.openlocfilehash: e2678eb7d75921f43a1e51b6a8cefc9925a9adc1
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60587025"
---
# <a name="azure-operational-security-best-practices"></a>Рекомендации по обеспечению операционной безопасности Azure
Под операционной безопасностью Azure подразумеваются службы, элементы управления и функции, которые пользователи могут использовать для защиты своих данных, приложений и других ресурсов в Azure. Операционная безопасность Azure основывается на знаниях, полученных в процессе эксплуатации уникальных систем корпорации Майкрософт, включая [жизненный цикл разработки защищенных приложений (SDL)](https://www.microsoft.com/sdl) и программу [Центр Microsoft Security Response Center](https://www.microsoft.com/msrc?rtc=1), а также на глубокой осведомленности в области угроз кибербезопасности.

В этой статье мы рассмотрим рекомендации по обеспечению безопасности. В основе рекомендаций лежит наш опыт в области защиты баз данных в Azure, а также отзывы клиентов.

Для каждой рекомендации будет предоставлено объяснение следующих аспектов:
-   суть рекомендации;
-   почему необходимо применять эту рекомендацию;
-   что может случиться, если не применить эту рекомендацию;
- как научиться применять эту рекомендацию.

В этой статье изложено общепринятое мнение по рассматриваемому вопросу, а также представлены возможности и компоненты платформы Azure, доступные на момент ее написания. Со временем мнения и технологии меняются. Поэтому эта статья будет постоянно обновляться, чтобы отражать эти изменения.

## <a name="monitor-storage-services-for-unexpected-changes-in-behavior"></a>Мониторинг служб хранилища для обнаружения непредвиденных изменений в поведении
Диагностика и устранение неисправностей в распределенном приложении, размещенном в облачной среде, может представлять большую сложность в сравнении с традиционными средами. Развертывание приложений можно выполнять в инфраструктуре PaaS или IaaS, на площадке заказчика, на мобильном устройстве или в среде, в которой имеется их произвольное сочетание. Трафик приложения может проходить через общедоступные и закрытые сети, а приложение может использовать несколько технологий хранения.

Необходимо постоянно отслеживать службы хранилища, которые использует приложение, на наличие непредвиденных изменений в поведении (например, увеличении времени отклика). Используйте ведение журнала для сбора дополнительных данных и подробного анализа проблемы. Диагностические сведения, которые вы получаете при наблюдении и ведении журналов, помогут установить первопричину неполадки, возникшей при использовании приложения. После этого вы можете выполнить поиск неисправности и определить шаги, необходимые для ее устранения.

[Аналитика Службы хранилища Azure](../storage/storage-analytics.md) ведет журналы и предоставляет данные метрик для учетной записи хранения Azure. Рекомендуем использовать эти данные для трассировки запросов, анализа тенденций использования и диагностики проблем учетной записи хранения.

## <a name="prevent-detect-and-respond-to-threats"></a>Защита от угроз, их выявление и реагирование на них.
[Центр безопасности Azure](../security-center/security-center-intro.md) помогает выявлять и предотвращать угрозы, а также принимать ответные меры благодаря более полной информации о состоянии ресурсов Azure и контролю над их безопасностью. Он включает встроенные функции мониторинга безопасности и управления политиками для подписок Azure, помогает выявлять угрозы, которые в противном случае могли бы оказаться незамеченными, и взаимодействует с различными решениями по обеспечению безопасности.

Центр безопасности ценовой категории "Бесплатный" предлагает ограниченные возможности безопасности только для ваших ресурсов Azure. Ценовая категория "Стандартный" расширяет эти возможности до локальных и других облаков. Ценовая категория "Стандартный" центра безопасности помогает находить и исправлять уязвимости системы безопасности, применять средства управления доступом и приложениями для блокировки вредоносных действий, обнаруживать угрозы с помощью аналитики и интеллектуальных средств и быстро реагировать на атаки. Вы можете использовать центр безопасности категории "Стандартный" бесплатно в течение первых 60 дней. Рекомендуется [перевести подписку Azure на ценовую категорию "Стандартный" центра безопасности](../security-center/security-center-get-started.md).

В центре безопасности вы получите исчерпывающее представление о состоянии безопасности всех своих ресурсов Azure. Вы можете быстро убедиться, что все необходимые настройки заданы правильно, быстро определяя ресурсы, которым требуется уделить особое внимание.

## <a name="monitor-end-to-end-scenario-based-network-monitoring"></a>Мониторинг сети на базе мониторинга комплексного сценария
Клиенты создают комплексную сеть в Azure, сочетая отдельные сетевые ресурсы, в том числе виртуальную сеть, ExpressRoute, Шлюз приложений и подсистемы балансировки нагрузки. Мониторинг доступен для всех сетевых ресурсов.

[Наблюдатель за сетями Azure](../network-watcher/network-watcher-monitoring-overview.md) — это региональная служба. Используйте ее инструменты диагностики и визуализации для мониторинга и диагностики условий на уровне сетевого сценария на платформе Azure.

Ниже приведены рекомендации для мониторинга сети и перечислены доступные инструменты.

**Рекомендация**. Автоматизируйте удаленный мониторинг сети с записью пакетов.  
**Сведения**. Отслеживайте и диагностируйте проблемы с сетью, не входя в виртуальные машины, с помощью Наблюдателя за сетями. Активируйте [запись пакетов](../network-watcher/network-watcher-alert-triggered-packet-capture.md), устанавливая оповещения, и получите доступ к сведениям о производительности в реальном времени на уровне пакетов. Вы можете детально проанализировать проблему, чтобы получить более точные результаты диагностики.

**Рекомендация**. Анализируйте сетевой трафик с помощью журналов потоков.  
**Сведения**. [Журналы процедур группы безопасности сети](../network-watcher/network-watcher-nsg-flow-logging-overview.md) помогут вам лучше понять модель трафика. Применяя сведения из этих журналов, можно собрать данные, чтобы обеспечить соответствие требованиям, провести аудит и выполнить мониторинг для профиля сетевой безопасности.

**Рекомендация**. Проведите диагностику проблем с VPN-подключением.  
**Сведения**. Компонент "Наблюдатель за сетями" позволяет [диагностировать самые распространенные проблемы с VPN-шлюзом и подключением](../network-watcher/network-watcher-diagnose-on-premises-connectivity.md). Вы можете не только идентифицировать проблему, но и использовать подробные журналы для дальнейшей диагностики.

## <a name="secure-deployment-by-using-proven-devops-tools"></a>Безопасное развертывание с применением проверенных инструментов DevOps
Используйте следующие рекомендации по DevOps для обеспечения эффективной работы вашей организации и команд.

**Рекомендация**. Автоматизируйте сборку и развертывание служб.  
**Сведения**. Подход [Инфраструктура как код](https://docs.microsoft.com/azure/devops/learn/what-is-infrastructure-as-code) представляет собой набор методов и рекомендаций, которые позволяют ИТ-специалистам сократить нагрузку, связанную с ежедневным созданием модульной инфраструктуры и управлением ею. Благодаря ему ИТ-специалисты могут создавать современные серверные среды и поддерживать их так же, как разработчики программного обеспечения создают код приложения и поддерживают его.

Для подготовки приложений с помощью декларативного шаблона можно использовать [Azure Resource Manager](https://azure.microsoft.com/documentation/articles/resource-group-authoring-templates/). В одном шаблоне можно развернуть несколько служб и их зависимые компоненты. Один шаблон используется для развертывания приложения на каждом этапе его жизненного цикла.

**Рекомендация**. Автоматически создавайте и развертывайте ресурсы в веб-приложения или облачные службы Azure.  
**Сведения**. Azure Pipelines позволяет [автоматически создавать и развертывать ресурсы](https://docs.microsoft.com/azure/devops/pipelines/index?view=vsts) в веб-приложениях или облачных службах Azure. С помощью Azure Pipelines можно автоматически развертывать двоичные файлы по завершении сборки в Azure после каждого возврата кода. Процесс сборки пакета эквивалентен команде Package в Visual Studio. Этапы публикации эквивалентны команде Publish в Visual Studio.

**Рекомендация**. Используйте непрерывное развертывание.  
**Сведения**. [Azure Pipelines](https://docs.microsoft.com/azure/devops/pipelines/index?view=vsts) — это решение для автоматизации многоэтапного развертывания и управления процессом выпуска. Создайте управляемые конвейеры непрерывного развертывания, чтобы ускорить, упростить выпуски, а также делать их чаще. С помощью Azure Pipelines можно значительно автоматизировать процесс выпуска. Кроме того, можно создать предопределенные рабочие процессы утверждения. Выполняйте развертывание в локальной среде и в облаке, расширения и настройку при необходимости.

**Рекомендация**. Проверьте производительность своего приложения, прежде чем запустить его или развернуть обновления в рабочей среде.  
**Сведения**. Выполняйте облачные [нагрузочные тесты](https://docs.microsoft.com/azure/devops/test/load-test/app-service-web-app-performance-test?view=vsts) с помощью Azure Test Plans для следующего:

- поиска проблем с производительностью приложения;
- улучшения качества развертывания;
- проверки того, что приложение всегда доступно;
- проверки того, что приложение сможет обработать трафик для следующего запуска или маркетинговой кампании.

**Рекомендация**. Отслеживайте производительность приложений.  
**Сведения**. [Azure Application Insights](../azure-monitor/app/app-insights-overview.md) — это расширяемая служба управления производительностью приложений (APM) для веб-разработчиков на нескольких платформах. Используйте Application Insights для мониторинга веб-приложения в реальном времени. Она автоматически обнаруживает аномалии производительности. Эта служба включает аналитические средства, которые помогут вам диагностировать проблемы и понять, что пользователи фактически делают в вашем приложении. Эта служба помогает постоянно улучшать производительность и удобство использования.

## <a name="mitigate-and-protect-against-ddos"></a>Уменьшение рисков и защита от атак DDoS
Отказ в обслуживании (DDoS) — это тип атаки, используемый в целях исчерпания ресурсов приложения. Цель: влияние на доступность и возможность обработки допустимых запросов приложения. Эти атаки становятся все более сложными и крупными по размеру и влиянию. Их можно направить на любую конечную точку, публично доступную через Интернет.

Для обеспечения устойчивости к распределенным атакам типа DDoS необходимо планирование и проектирование различных режимов сбоев.

Ниже приведены рекомендации по созданию служб Azure, которые могут устоять против атак DDoS.

**Рекомендация**. Учитывайте аспекты безопасности на протяжении всего жизненного цикла приложения — от разработки и реализации до развертывания и эксплуатации. В приложениях могут быть ошибки, позволяющие относительно малому объему запросов использовать большое количество ресурсов, что вызывает сбой службы.  
**Сведения**. Чтобы помочь защитить службу, запущенную в Microsoft Azure, изучите архитектуру своего приложения и сосредоточьтесь на [пяти основных аспектах качества программного обеспечения](https://docs.microsoft.com/azure/architecture/guide/pillars). Необходимо знать типичные объемы трафика, модель подключения между приложениями, а также конечные точки службы, к которым предоставлен доступ через Интернет.

Убедитесь, что приложение достаточно устойчиво для обработки отказа в службе, предназначенной для самого приложения. Безопасность и конфиденциальность создаются на платформе Azure, начиная с [жизненного цикла безопасности ПО (SDL)](https://www.microsoft.com/en-us/sdl). SDL обеспечивает защиту на каждом этапе разработки и гарантирует постоянное обновление платформы Azure, чтобы сделать ее более безопасной.

**Рекомендация**. Проектируйте свои приложения таким образом, чтобы они поддерживали [горизонтальное масштабирование](https://docs.microsoft.com/azure/architecture/guide/design-principles/scale-out) в случае усиления нагрузки, особенно в случае атаки DDoS. Если приложение зависит от одного экземпляра службы, создается единая точка отказа. Подготовка нескольких экземпляров улучшает как отказоустойчивость, так и масштабируемость системы.  
**Сведения**. Для [службы приложений Azure](../app-service/app-service-value-prop-what-is.md) выберите [план служб приложений](../app-service/overview-hosting-plans.md), где есть несколько экземпляров.

Для облачных служб Azure настройте каждую роль для применения [нескольких экземпляров](../cloud-services/cloud-services-choose-me.md).

Для [виртуальных машин Azure](../virtual-machines/windows/overview.md) убедитесь, что архитектура виртуальных машин содержит несколько виртуальных машин, а также что каждая виртуальная машина входит в [группу доступности](../virtual-machines/virtual-machines-windows-manage-availability.md). Мы рекомендуем использовать масштабируемый набор виртуальных машин, чтобы получить возможности автомасштабирования.

**Рекомендация**. Иерархическое распределение способов защиты в приложении уменьшает вероятность успешной атаки. Внедряйте безопасные проекты для своих приложений через встроенные возможности платформы Azure.  
**Сведения**. Например, риск атаки увеличивается с размером (контактной зоной) приложения. Уменьшить контактную зону можно с помощью списка разрешений для закрытия диапазона IP-адресов и прослушивающих портов, которые не нужны для подсистемы балансировки нагрузки ([Azure Load Balancer](../load-balancer/load-balancer-get-started-internet-portal.md) и [шлюз приложений Azure](../application-gateway/application-gateway-create-probe-portal.md)).

[Группы безопасности сети](../virtual-network/security-overview.md) также позволяют снизить возможность атак. С помощью [тегов служб](../virtual-network/security-overview.md#service-tags) и [групп безопасности приложений](../virtual-network/security-overview.md#application-security-groups) можно упростить создание правил безопасности и настроить сетевую безопасность как гармоничное расширение структуры приложения.

По возможности вы должны развертывать службы Azure в [виртуальной сети](../virtual-network/virtual-networks-overview.md). Это позволит ресурсам службы взаимодействовать через частные IP-адреса. По умолчанию трафик служб Azure из виртуальной сети использует общедоступные IP-адреса в качестве исходных.

При помощи [конечных точек служб](../virtual-network/virtual-network-service-endpoints-overview.md) трафик службы в качестве исходных IP-адресов использует частные адреса виртуальной сети при обращении к службе Azure из виртуальной сети.

Локальные ресурсы клиентов часто подвергаются атакам наряду с ресурсами в Azure. Если вы подключаете локальную среду к Azure, следует минимизировать предоставление доступа к локальным ресурсам через Интернет.

В Azure есть два [предложения служб](../virtual-network/ddos-protection-overview.md), предоставляющих защиту от сетевых атак DDoS:

- Защита уровня "Базовый" интегрирована в Azure по умолчанию и предоставляется без каких-либо дополнительных затрат. Масштаб и емкость глобально развернутой сети Azure обеспечивают защиту от распространенных атак сетевого уровня за счет постоянно контролируемого мониторинга трафика и устранения атак в режиме реального времени. Уровень "Базовый" не требует пользовательской конфигурации или изменений приложения и помогает защитить все службы Azure, в том числе и службы PaaS, такие как Azure DNS.
- Защита уровня "Стандартный" обеспечивает расширенные возможности предотвращения сетевых атак типа DDoS. Она автоматически настраивается для защиты конкретных ресурсов Azure. Защиту можно легко включить во время создания виртуальных сетей. Кроме того, это можно сделать после создания. При этом не требуются никакие изменения приложения или ресурса.

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные рекомендации по обеспечению безопасности, используемые при разработке, развертывании облачных решений и управлении ими с помощью Azure, см. в статье [Рекомендации и шаблоны для обеспечения безопасности в Azure](security-best-practices-and-patterns.md).

Ниже приведены ресурсы, с помощью которых можно получить общие сведения о службах безопасности Azure и связанных службах Майкрософт.
* [Блог команды безопасности Azure](https://blogs.msdn.microsoft.com/azuresecurity/). Благодаря этому блогу вы будете в курсе последних новостей о безопасности Azure.
* [Microsoft Security Response Center](https://technet.microsoft.com/library/dn440717.aspx). Это место, куда можно сообщать об уязвимостях, в том числе о проблемах Azure. Это также можно сделать по почте, отправив сообщение по адресу secure@microsoft.com.
