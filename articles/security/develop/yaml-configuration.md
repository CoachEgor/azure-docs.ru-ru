---
title: Microsoft Azure инструкции по настройке задачи анализа кода безопасности
description: В этой статье описаны параметры конфигурации YAML для настройки всех задач в расширении Microsoft Security Code Analysis.
author: vharindra
manager: sukhans
ms.author: terrylan
ms.date: 11/29/2019
ms.topic: article
ms.service: security
services: azure
ms.assetid: 521180dc-2cc9-43f1-ae87-2701de7ca6b8
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.openlocfilehash: 82802ceae8f9fdd24d1f5642d80d90ebfd8b92a3
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "75460669"
---
# <a name="yaml-configuration-options-to-customize-the-build-tasks"></a>Параметры конфигурации YAML для настройки задач сборки

В этой статье перечислены все параметры конфигурации YAML, доступные в каждой из задач сборки. Статья начинается с задач для средств анализа кода безопасности. Он завершается задачами, выполняемыми после обработки.

## <a name="anti-malware-scanner-task"></a>Задача сканера защиты от вредоносных программ

| **InputType**      | **Type**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Поля выбора | always | True | Basic | Базовый, Пользовательский | 
| ScanType | Поля выбора | InputType = базовый | True | кустомскан | Кустомскан, Фуллсистемскан, Куиккскан, Йоурконфигуредскан | Тип проверки, используемый для проверки наличия вредоносных программ.
| филедирпас | filePath | Скантипе = Кустомскан | True | $ (Build. StagingDirectory) |  | Указывает проверяемый файл или каталог.
| дисаблеремедиатион | Логическое | Скантипе = Кустомскан | False | Да |  | При проверке: 1) исключения файлов игнорируются. 2) файлы архива сканируются. 3) действия после обнаружения не применяются. 4) записи журнала событий не записываются после обнаружения. 5) обнаружения из пользовательской проверки не отображаются в пользовательском интерфейсе. 6) в выходных данных консоли отображается список обнаружений из пользовательской проверки.
| бутсекторскан | Логическое | Скантипе = Кустомскан | False | false |  | Если этот флажок установлен, то включается сканирование загрузочного сектора.
| Аргументы | строка | InputType = пользовательский | True | -Scan-Скантипе 3-Дисаблеремедиатион-File $ (Build. StagingDirectory) |  | Аргументы командной строки, где аргумент для параметра-File является абсолютным путем, или относительный путь к предопределенной папке $ (Build. StagingDirectory) в агенте сборки. Примечание. Если не указать аргумент для параметра-File в качестве последнего аргумента, по умолчанию используется значение $ (Build. StagingDirectory). Можно также предоставить собственные аргументы, разрешенные средством Мпкмдрун. exe.<br/><br/>Для получения дополнительных сведений о аргументах командной строки для этого средства введите <strong>-h</strong> или <strong>-?</strong> в поле аргументы и выполните задачу сборки.
| енаблесервицес | Логическое | always | True | false |  | Если этот флажок установлен, он попытается включить необходимые службы для Центр обновления Windows, если они отключены.<br/>**Примечание**. Убедитесь, что групповая политика не отключает службы, а учетная запись, под которой выполняется эта сборка, имеет права администратора.
| суппортлогонеррор | Логическое | always | True | false |  | Если этот флажок установлен, он будет выполнять сбор файлов поддержки для диагностики при возникновении ошибки. Это может занять несколько минут.<br/>**Примечание**. Убедитесь, что учетная запись, от имени которой выполняется эта сборка, имеет права администратора.
| треатсигнатуреупдатефаилуреас | Поля выбора | always | True | Предупреждение | Error, Standard, Warning | Уровень ведения журнала, используемый, если подпись не может быть обновлена во время выполнения. Если задано значение " **Ошибка**", ошибка при обновлении подписи приведет к сбою задачи сборки. Обратите внимание, что для обновления сигнатур в размещенных агентах сборки обычно происходит сбой, несмотря на то, что подпись может быть относительно актуальной (менее 3 часов назад).
| сигнатурефрешнесс | Поля выбора | always | True | уптодате | Онедай, Сридайс, Тводайс, Уптодате | Максимально допустимый срок действия подписи защиты от вредоносных программ. Если подпись не может быть обновлена и старше, чем это значение, задача сборки будет вести себя согласно выбранному значению в поле **проверить подписи возраст** . Примечание. при выборе **обновления срок**действия подписей может составлять до 3 часов.
| треатсталесигнатуреас | Поля выбора | always | True | Ошибка | Error, Standard, Warning | Уровень журнала, используемый, если возраст подписи старше, чем выбранный **возраст подписи антивредоносной программы**. Устаревшая сигнатура может рассматриваться как **предупреждение** или **информационная** , чтобы продолжить проверку антивредоносной программы, но это не рекомендуется.

## <a name="binskim-task"></a>Задача Бинским

| **InputType**      | **Type**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Поля выбора | always | True | Basic | Basic, CommandLine | 
| аргументы | строка | InputType = Командная строка | True |  |  | Стандартные аргументы командной строки Бинским для выполнения. Выходной путь будет удален и заменен.<br>Чтобы получить дополнительные сведения о аргументах командной строки для этого средства, введите **Help** в поле arguments и выполните задачу сборки.
| Функция | Поля выбора | InputType = базовый | True | анализ | анализ, дамп, Експортконфиг, Експортрулес | 
| анализетаржет | filePath | InputType = базовый && функция = анализ | True | $ (Build. ArtifactStagingDirectory)\*. dll;<br>$ (Build. ArtifactStagingDirectory)\*. exe |  | Один или несколько описателей для файла, каталога или шаблона фильтра, которые разрешаются в один или несколько двоичных файлов для анализа. (разделенный список: ";")
| анализесимпас | строка | InputType = базовый && функция = анализ | False |  |  | Путь к файлу символов для целевого объекта.
| анализеконфигпас | строка | InputType = базовый && функция = анализ | False | default |  | Путь к файлу политики, который будет использоваться для настройки анализа. Передайте значение "default", чтобы использовать встроенные параметры.
| анализеплугинпас | строка | InputType = базовый && функция = анализ | False |  |  | Путь к подключаемому модулю, который будет вызываться для всех целевых объектов в наборе данных анализа.
| анализерекурсе | Логическое | InputType = базовый && функция = анализ | False | Да |  | Рекурсивный анализ подкаталогов при вычислении аргументов описателей файла.
| анализевербосе | Логическое | InputType = базовый && функция = анализ | False | false |  | Вывод подробных выходных данных. Полученный комплексный отчет предназначен для предоставления соответствующих доказательств для сценариев соответствия.
| анализехашес | Логическое | InputType = базовый && функция = анализ | False | false |  | Выводится хэш целевых объектов анализа SHA-256 при выдаче отчетов САРИФ.
| анализестатистикс | Логическое | InputType = базовый && функция = анализ | False | false |  | Создайте время и другие статистические данные для сеанса анализа.
| анализинвиронмент | Логическое | InputType = базовый && функция = анализ | False | false |  | Записывать сведения о запуске в выходной файл среды компьютера. ПРЕДУПРЕЖДЕНИЕ. Этот параметр записывает потенциально конфиденциальную информацию (например, все значения переменных среды) в любой созданный журнал.
| експортрулесаутпуттипе | Поля выбора | InputType = базовый && функция = Експортрулес | False | сариф | САРИФ, SonarQube | Тип файла дескриптора правил для вывода. Он будет включаться в папку журналов Бинским, опубликованную задачей публикации журналов анализа безопасности.
| думптаржет | filePath | InputType = базовый && функция = дамп | True | $ (Build. ArtifactStagingDirectory) |  | Один или несколько описателей для файла, каталога или шаблона фильтра, которые разрешаются в один или несколько двоичных файлов для анализа. (разделенный список: ";")
| думпрекурсе | Логическое | InputType = базовый && функция = дамп | False | Да |  | Рекурсивный анализ подкаталогов при вычислении аргументов описателей файла.
| думпвербосе | Логическое | InputType = базовый && функция = дамп | False | Да |  | Вывод подробных выходных данных. Полученный комплексный отчет предназначен для предоставления соответствующих доказательств для сценариев соответствия.
| тулверсион | Поля выбора | always | False | Последняя версия | 1.5.0, Latest, Латестпререлеасе | Версия запускаемого инструмента.

## <a name="credential-scanner-task"></a>Задача сканера учетных данных

| **InputType**      | **Type**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| выходнойФормат | Поля выбора | always | False | pre | CSV, pre, TSV | Формат вывода файла результатов средства проверки учетных данных.
| тулверсион | Поля выбора | always | False | Последняя версия | 1.27.7, Latest, Латестпререлеасе | Версия запускаемого инструмента.
| сканфолдер | filePath | always | False | $ (Build. SourcesDirectory) |  | Папка в репозитории для поиска учетных данных.
| сеарчерсфилетипе | Поля выбора | always | False | Значение по умолчанию | Пользовательский, по умолчанию, Дефаултандкустом | Параметры поиска файла поиска, используемого для сканирования.
| сеарчерсфиле | filePath | Сеарчерсфилетипе = = Custom или Сеарчерсфилетипе = = Дефаултандкустом | False |  |  | Файл конфигурации поиска сканеров учетных данных для выполнения проверок. Несколько значений можно включать и использовать, предоставляя разделенный запятыми список путей к файлам поиска сканера учетных данных.
| суппрессионсфиле | filePath | always | False |  |  | Файл подавления средства проверки учетных данных, используемый для подавления проблем в выходном журнале.
| суппрессасеррор | Логическое | always | False | false |  | Подавленные соответствия будут выведены в выходной файл [-O] — соответствует. [-f] вместо подавления выходного файла по умолчанию [-O] — подавлено. [-f]. (Значение по умолчанию — "false")
| verboseOutput | Логическое | always | False | false |  | Вывод подробных сведений.
| batchSize | строка | always | False |  |  | Количество одновременных потоков, используемых для параллельного выполнения сканеров учетных данных. (По умолчанию — 20)<br/>Значение должно находиться в диапазоне 1-2147483647.
| режексматчтимеаутинсекондс | строка | always | False |  |  | Время в секундах, по истечении которого выполняется поиск совпадения с поисковым запросом, прежде чем отменять проверку.<br/>Добавляет ``-Co RegexMatchTimeoutInSeconds=<Value>`` в командную строку.
| филесканреадбуфферсизе | строка | always | False |  |  | Размер буфера при чтении содержимого в байтах. (По умолчанию — 524288)<br/>Добавляет ``-Co FileScanReadBufferSize=<Value>`` в командную строку.
| максфилесканреадбитес | строка | always | False |  |  | Максимальное число байтов для чтения из заданного файла во время анализа содержимого. (По умолчанию — 104857600)<br/>Добавляет ``-Co MaxFileScanReadBytes=<Value>`` в командную строку.

## <a name="microsoft-security-risk-detection-task"></a>Задача обнаружения угроз безопасности Майкрософт

| **InputType**      | **Type**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                           |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ServiceEndpointName | Аргумента connectedservice: универсальный | always | True |  |  | Имя предварительно настроенной конечной точки службы (универсальный тип) в проекте VSTS, в котором хранится URL-адрес экземпляра МСРД (вы подключены к), и маркер доступа REST API (который был создан на странице параметров учетной записи и обеспечивает полный доступ к вашей учетной записи).
| accountId | строка | always | True |  |  | Идентификатор GUID, определяющий учетную запись. Его можно получить из URL-адреса учетной записи.
| бинариесурл | строка | always | True |  |  | Разделенный точками с запятой список URL-адресов, которые будут использоваться нечетким компьютером для скачивания двоичных файлов. Гарантирует, что URL-адреса общедоступны.
| сидсурл | строка | always | False |  |  | Разделенный точками с запятой список URL-адресов, которые будут использоваться нечетким компьютером для скачивания начальных значений. Убедитесь, что URL-адреса общедоступны.
| осплатформтипе | Поля выбора | always | True | Windows | Linux, Windows | Тип платформы ОС для запуска задания нечеткого поиска в.
| виндовседитион | строка | Осплатформтипе = Windows | True | Server 2008 R2 |  | Выпуск ОС компьютеров, на которых выполняется задание нечеткого тестирования.
| линукседитион | строка | Осплатформтипе = Linux | True | Redhat |  | Выпуск ОС компьютеров, на которых выполняется задание нечеткого тестирования.
| пресубмиссионкомманд | строка | always | False |  |  | Скрипт, который должен выполняться на тестовом компьютере для установки тестовой целевой программы и ее зависимостей перед отправкой задания нечеткого тестирования.
| сиддиректори | строка | always | True |  |  | Путь к каталогу на нечетком компьютере, содержащему начальные значения. Дополнительные сведения см. в разделе [Каталог начального файла](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/03-choose-seed-files#seed-file-directory) .
| сидекстенсион | строка | always | True |  |  | Расширение файла начальных значений.
| тестдриверексекутабле | строка | always | True |  |  | Путь к целевому исполняемому файлу на нечетком компьютере. Дополнительные сведения см. [в разделе полный путь к EPE](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#full-path-to-the-epe) .
| тестдриверексетипе | Поля выбора | always | True | x86 | AMD64, x86 | Архитектура целевого исполняемого файла.
| тестдриверпараметерс | строка | always | True | "% TestFile%" |  | Аргументы командной строки, передаваемые в целевой исполняемый файл теста. Обратите внимание, что символ **"% TestFile%"** , включая двойные кавычки, будет автоматически заменен полным путем к целевому файлу, который должен проанализировать тестовый драйвер, и является обязательным. Дополнительные сведения см. в разделе [аргументы командной строки](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#command-line-arguments) .
| клосеситселф | Логическое | always | True | Да |  | Проверьте, заканчивается ли тестовый драйвер после завершения (например, если тестовый Драйвер анализирует входные файлы и выполняет выход немедленно); Снимите флажок, если требуется принудительно закрыть драйвер тестирования (например, тестовый драйвер — это приложение графического пользовательского интерфейса, главное окно которого остается открытым после синтаксического анализа входных данных). Дополнительные сведения см. в разделе [Самостоятельное завершение](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#self-termination) .
| максдуратионинсекондс | строка | always | True | 5 |  | Максимальная длительность тестового драйвера в секундах. Выполняйте оценку наиболее длительного относительно ожидаемого времени, необходимого для анализа входного файла целевой программой. Чем точнее эта оценка, тем эффективнее выполняется нечеткое выполнение. Дополнительные сведения см. в разделе [Максимальное ожидаемое время выполнения](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#maximum-expected-execution-duration) .
| канрунрепеат | Логическое | always | True | Да |  | Проверьте, может ли тестовый драйвер запускаться повторно без необходимости в зависимости от сохраненного или общего глобального состояния. Дополнительные сведения см. [в разделе запуски с нуля](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#runs-from-scratch) .
| кантестдриверберенамед | Логическое | always | True | false |  | Проверьте, можно ли переименовать исполняемый файл тестового драйвера и все же работать правильно. Дополнительные [сведения см.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#can-be-renamed-and-parallelized) в разделе.
| синглеоспроцесс | Логическое | always | True | false |  | Проверьте, выполняется ли тестовый драйвер в рамках одного процесса ОС. Снимите флажок, если тестовый драйвер порождает дополнительные процессы. Подробные сведения см. в разделе [один процесс](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#single-process) .

## <a name="roslyn-analyzers-task"></a>Задача «Roslyn Analyzer»

| **InputType**      | **Type**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                   |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| усерпровидебуилдинфо | Поля выбора | always | True | авто | Auto, Мсбуилдинфо | Параметры для пользователя, чтобы предоставить версию MSBuild, архитектуру MSBuild и командную строку сборки для анализа Roslyn. Если выбрано значение " **Авто** ", эта задача извлечет сведения о сборке из предыдущих задач **MSBuild**, **всбуилд**и (или) **.NET Core** (для сборки) в одном конвейере.
| мсбуилдверсион | Поля выбора | Усерпровидебуилдинфо = = Мсбуилдинфо | True | 16,0 | 15,0, 16,0 | Версия MSBuild.
| msBuildArchitecture | Поля выбора | Усерпровидебуилдинфо = = Мсбуилдинфо | True | x86 | Команда dotnetcore, x64, x86 | Архитектура MSBuild. Примечание. Если командная строка сборки вызывает команду **DotNet. exe Build**, выберите параметр **Via .NET Core** .
| мсбуилдкоммандлине | строка | Усерпровидебуилдинфо = = Мсбуилдинфо | True |  |  | Полная командная строка сборки для компиляции решения или проектов.<br/><br/>Примечания. Командная строка должна начинаться с полного пути к файлу **MSBuild. exe** или **DotNet. exe**.<br/>Команда будет запущена с параметром $ (Build. SourcesDirectory) в качестве рабочего каталога.
| рулесетнаме | Поля выбора | always | False | Рекомендуемая | Настраиваемое, нет, рекомендуется, обязательно | Именованный набор правил для использования.<br/><br/>Если `Ruleset Configured In Your Visual Studio Project File(s)` выбрано значение, будет использоваться набор правил, предварительно настроенный в файлах проекта VS. Если `Custom` выбрано значение, можно задать параметр настраиваемого пути набора правил.
| Версия набора правил | Поля выбора | Рулесетнаме = = Required или Рулесетнаме = = рекомендуется | False | Последняя версия | 8,0, 8,1, 8,2, последняя, Латестпререлеасе | Версия выбранного набора правил SDL.
| кустомрулесет | строка | Рулесетнаме = пользовательский | False |  |  | Доступный путь к набору правил для использования. Относительные пути будут нормализованы до корня исходного репозитория (`$(Build.SourcesDirectory)`).<br/><br/>Если набор правил задает `Rules` параметр `Actions` со значением `Error`, задача сборки завершится ошибкой. Чтобы использовать набор правил, который делает это, проверьте `Continue on error` , есть `Control Options`ли задача сборки.
| микрософтанализерсверсион | Поля выбора | always | False | Последняя версия | 2.9.3, 2.9.4, 2.9.6, Latest, Латестпререлеасе | Версия пакета [Microsoft. CodeAnalysis. фкскопанализерс](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) для запуска.
| суппрессионфилефоркомпилерварнингс | filePath | always | False |  |  | Файл подавлений для подавления предупреждений компилятора C# и VB.<br/><br/>Обычный текстовый файл с каждым ИДЕНТИФИКАТОРом предупреждения, указанным в отдельной строке.<br/>Для предупреждений компилятора укажите только числовую часть идентификатора предупреждения. Например, 1018 будет подавлять CS1018, а CA1501 подавление CA1501.<br/><br/>Относительный путь к файлу будет добавлен к корню исходного репозитория (`$(Build.SourcesDirectory)`).

## <a name="tslint-task"></a>Задача TSLint

| **InputType**      | **Type**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| рулелибрари | Поля выбора | always | True | tslint | Custom, Microsoft, tslint | Все результаты включают правила, поставляемые с выбранной версией TSLint (**только базовая**версия).<br/><br/>**Только базовая —** Только правила, поставляемые с TSLint.<br/><br/>**Включить правила Майкрософт —** Скачивает [tslint-Microsoft-от участников сообщества](https://github.com/Microsoft/tslint-microsoft-contrib) и включает правила, доступные для использования в tslint запуске. При выборе этого параметра `Type Checking` флажок скрывается, так как он требуется для правил Майкрософт и будет автоматически использоваться. Он также скрывает `Microsoft Contribution Version` поле, позволяя выбрать версию `tslint-microsoft-contrib` из [NPM](https://www.npmjs.com/package/tslint-microsoft-contrib) .<br/><br/>**Включить настраиваемые правила —** Скрывает `Rules Directory` поле, которое принимает доступный путь к каталогу правил TSLint, доступных для использования в TSLintном запуске.<br/><br/>**Примечание.** Значение по умолчанию изменено на tslint, так как у многих пользователей возникли проблемы с настройкой набора правил Microsoft. Сведения о конфигурации конкретной версии см. [на сайте tslint-Microsoft-от участников сообщества на сайте GitHub](https://github.com/microsoft/tslint-microsoft-contrib).
| рулесдиректори | строка | Рулелибрари = = пользовательский | True |  |  | Доступный каталог, содержащий дополнительные правила TSLint, которые будут доступны для использования в TSLint запуске.
| Набора правил | Поля выбора | Рулелибрари! = Microsoft | True | тсрекоммендед | Custom, тслатест, тсрекоммендед | Определяет правила для выполнения с файлами TypeScript.<br/><br/>** [tslint: Последняя](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  - ** Расширяет `tslint:recommended` и постоянно обновляется, чтобы включить конфигурацию для последних правил в каждом выпуске TSLint. Использование этой конфигурации может привести к критическим изменениям в дополнительных выпусках, так как включены новые правила, вызывающие сбои lint в коде. Когда TSLint достигает основного выпуклого номера версии `tslint:recommended` , будет обновляться так же, `tslint:latest`как и.<br/><br/>** [tslint: рекомендуется](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  - ** Стабильный, довольно упрямого набор правил, которые TSLint способствует общему программированию TypeScript. Эта конфигурация имеет `semver`следующий вид, поэтому она *не* будет иметь критических изменений во вспомогательных выпусках или исправлениях.
| рулесетмикрософт | Поля выбора | Рулелибрари = = Microsoft | True | мссдлрекуиред | Custom, мсрекоммендед, мссдлрекоммендед, мссдлрекуиред, тслатест, тсрекоммендед | Определяет правила для выполнения с файлами TypeScript.<br/><br/>** [Майкрософт: требуется SDL](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  - ** Выполните все доступные проверки, предоставляемые tslint, и правила tslint-Microsoft-от участников сообщества, которые соответствуют *необходимым* политикам [жизненного цикла разработки безопасности (SDL)](https://www.microsoft.com/sdl/) .<br/><br/>** [Майкрософт: рекомендуется](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  - ** Выполните все доступные проверки, предоставляемые tslint, и правила tslint-Microsoft-от участников сообщества, которые соответствуют *необходимым и рекомендованным* политикам [жизненного цикла разработки безопасности (SDL)](https://www.microsoft.com/sdl/) .<br/><br/>** [Майкрософт: рекомендуется](https://github.com/Microsoft/tslint-microsoft-contrib/blob/master/recommended_ruleset.js)  - ** Все проверки, рекомендованные авторами правил tslint-Microsoft-от участников сообщества. Сюда входят проверки безопасности и не относящиеся к безопасности.<br/><br/>** [tslint: Последняя](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  - ** Расширяет `tslint:recommended` и постоянно обновляется, чтобы включить конфигурацию для последних правил в каждом выпуске TSLint. Использование этой конфигурации может привести к критическим изменениям в дополнительных выпусках, так как включены новые правила, вызывающие сбои lint в коде. Когда TSLint достигает основного выпуклого номера версии `tslint:recommended` , будет обновляться так же, `tslint:latest`как и.<br/><br/>** [tslint: рекомендуется](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  - ** Стабильный, довольно упрямого набор правил, которые TSLint способствует общему программированию TypeScript. Эта конфигурация имеет `semver`следующий вид, поэтому она *не* будет иметь критических изменений во вспомогательных выпусках или исправлениях.
| рулесетфиле | строка | RuleSet = = Custom или Рулесетмикрософт = = Custom | True |  |  | [Файл конфигурации](https://palantir.github.io/tslint/usage/cli/) , указывающий, какие правила следует выполнить.<br/><br/>Путь к конфигурации будет добавлен в качестве пути для [настраиваемых правил](https://palantir.github.io/tslint/develop/custom-rules/).
| филеселектионтипе | Поля выбора | always | True | филеглоб | Филеглоб, projectFile | 
| Файлы | строка | Филеселектионтипе = = Филеглоб | True | **\*. TS |  | [Стандартная маска](https://www.npmjs.com/package/glob) файла, который определяет, какие файлы следует обработать. Пути задаются относительно `Build.SourcesDirectory` значения.<br/><br/>Для использования библиотеки публикаций Майкрософт требуется файл проекта. Если вы используете библиотеку публикаций Майкрософт с `File Glob Pattern` параметром, будет создан файл проекта.
| ECMAScriptVersion | Поля выбора | Филеселектионтипе = = Филеглоб && Рулелибрари = = Microsoft | True | ES3 | ES2015, ES2016, ES2017, ES3, ES5, ES6, ESNext | Целевая версия ECMAScript, настроенная с помощью компилятора TypeScript. При использовании файла проекта это поле Компилероптионс. Target файла TypeScript tsconfig. JSON.
| Проект | строка | Филеселектионтипе = = projectFile | True |  |  | Путь к файлу [tsconfig. JSON](http://www.typescriptlang.org/docs/handbook/tsconfig-json.html) , который указывает файлы TypeScript для запуска TSLint. Пути задаются относительно `Build.SourcesDirectory` значения.
| типечекк | Логическое | Рулелибрари! = Microsoft && Филеселектионтипе = = projectFile | False | Да |  | Включает средство проверки типов при выполнении правил linting.
| ексклудефилес | строка | always | False |  |  | Объект [стандартная маска](https://www.npmjs.com/package/glob) , который указывает файлы, исключаемые из linting. Пути задаются относительно `Build.SourcesDirectory` значения. Можно указать несколько значений, разделяя их точкой с запятой.
| OutputFormat | Поля выбора | always | True | json | Checkstyle, Кодефраме, Филеслист, JSON, MSBuild, PMD, prose, стильный, Verbose, VSO | [Модуль форматирования](https://palantir.github.io/tslint/formatters/) , используемый для создания выходных данных. Обратите внимание, что формат JSON совместим с анализом после анализа.
| нодемемори | строка | always | False |  |  | Явный объем памяти (в МБ), выделяемой узлу для запуска TSLint. Пример: 8000<br/><br/>Сопоставляется с `--max_old_space=<value>` параметром CLI для Node, который является `v8 option`.
| тулверсион | Поля выбора | Рулелибрари! = Microsoft | True | последняя | 4.0.0, 4.0.1, 4.0.2, 4.1.0, 4.1.1, 4.2.0, 4.3.0, 4.3.1, 4.4.0, 4.4.1, 4.4.2, 4.5.0, 4.5.1, 5.0.0, 5.1.0, 5.2.0, 5.3.0, 5.3.2, 5.4.0, 5.4.1, 5.4.2, 5.4.3, 5.5.0, Latest | [Версия](https://github.com/palantir/tslint/releases) TSLint для скачивания и запуска.
| типескриптверсион | Поля выбора | always | True | последняя | 0.8.0, 0.8.1, не ниже 0.8.2, 0.8.3, 0.9.0, 0.9.1, 0.9.5, 0.9.7, 1.0.0, 1.0.1, 1.3.0, 1.4.1, 1.5.3, 1.6.2, 1.7.3, 1.7.5, 1.8.0, 1.8.10, 1.8.2,, 1.8.5, 1.8.6, 1.8.7, 1.8.9, 1.9.0, 2.0.0, 2.0.10, 2.0.2, 2.0.3, 2.0.6, 2.0.7, 2.0.8,, | Версия [typescript](https://www.npmjs.com/package/typescript) для загрузки и использования.<br/>**Примечание.** Это должна быть та же версия TypeScript, что используется для компиляции кода.
| типескриптверсионкустом | строка | Типескриптверсион = = пользовательский | True | последняя |  | Версия [typescript](https://www.npmjs.com/package/typescript) для загрузки и использования.<br/>**Примечание.** Это должна быть та же версия TypeScript, что используется для компиляции кода.
| микрософтконтрибверсион | Поля выбора | Рулелибрари = = Microsoft |  | последняя | 4.0.0, 4.0.1, 5.0.0, 5.0.1, последний | Версия [tslint-Microsoft-от участников сообщества](https://www.npmjs.com/package/tslint-microsoft-contrib) (правила SDL) для загрузки и использования.</br>**Примечание.** Будет выбрана версия [tslint](https://www.npmjs.com/package/tslint) , совместимая с версией, выбранной для tslint-Microsoft-от участников сообщества. Обновления для tslint — Microsoft-от участников сообщества будут наследоваться этой задачей сборки до тех пор, пока не будет выполнен период тестирования.

## <a name="publish-security-analysis-logs-task"></a>Задача публикации журналов анализа безопасности

| **InputType**      | **Type**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ArtifactName | строка | always | True | кодеаналисислогс |  | Имя создаваемого артефакта.
| ArtifactType | Поля выбора | always | True | Контейнер | Контейнер, путь к файлу | Тип создаваемого артефакта.
| TargetPath | строка | ArtifactType = FilePath | False | \\ми\шаре\$(сборка. DefinitionName)<br>\$(Сборка. BuildNumber) |  | Общая папка, в которую копируются файлы
| аллтулс | Логическое | always | True | Да |  | Публикация результатов, созданных всеми задачами, выполняемыми при разработке средств безопасной разработки.
| Антивредоносной программы | Логическое | Аллтулс = false | True | Да |  | Публикация результатов, созданных задачами сборки антивредоносного по.
| бинским | Логическое | Аллтулс = false | True | Да |  | Публикация результатов, созданных задачами сборки Бинским.
| кредскан | Логическое | Аллтулс = false | True | Да |  | Публикация результатов, сформированных задачами сборки сканера учетных данных.
| мсрд | Логическое | Аллтулс = false | True | Да |  | Опубликуйте сведения о задании и URL-адреса заданий для заданий МСРД, запущенных задачей сборки МСРД. Задания МСРД долго выполняются и предоставляют отдельные отчеты.
| рослинанализерс | Логическое | Аллтулс = false | True | false |  | Публикация результатов, формируемых задачами сборки Roslyn Analyzer.
| TSLint | Логическое | Аллтулс = false | True | Да |  | Публикация результатов, созданных задачами сборки TSLint. Обратите внимание, что для отчетов поддерживаются только журналы TSLint в формате JSON. Если вы выбрали другой формат, обновите задачу сборки TSLint соответствующим образом.
| туллогснотфаундактион | поля выбора | always | True | Standard | Ошибка, нет, Стандартный, предупреждение | Действие, выполняемое при выполнении журналов для выбранного инструмента (или любого инструмента, если установлены все средства), не удается найти, что означает, что средство не было запущено.<br/><br/>**Параметры:**<br/>**Нет:** Сообщение записывается в подробный поток вывода, доступный только с помощью задания переменной **System. Debug** в качестве значения **true**.<br/>**Стандартный:** (по умолчанию) записывает стандартное выходное сообщение о том, что для средства не найдены журналы.<br/>**Предупреждение:** Записывает желтое предупреждающее сообщение о том, что для средства не найдены журналы, которые отображаются на странице сводки сборки в виде предупреждения.<br/>**Ошибка:** Записывает красное сообщение об ошибке и вызывает исключение, нарушая сборку. Используйте этот параметр, чтобы убедиться, какие средства были запущены, с помощью отдельных средств.

## <a name="security-report-task"></a>Задача "отчет о безопасности"

| **InputType**      | **Type**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| встсконсоле | Логическое | always | False | Да |  | Запись результатов в консоль конвейера.
| тсвфиле | Логическое | always | False | Да |  | Создание TSV-файла (разделенных табуляцией) с одной строкой на найденный результат и табуляцией, разделяющими сведения для результата.
| хтмлфиле | Логическое | always | False | Да |  | Создание файла HTML-отчета.
| аллтулс | Логическое | always | True | false |  | Результаты отчета, созданные всеми задачами по обеспечению безопасной разработки.
| бинским | Логическое | Аллтулс = false | True | false |  | Результаты отчета, созданные задачами сборки Бинским.
| бинскимбреакон | Поля выбора | Аллтулс = true или Бинским = true | True | Ошибка | Ошибка, Варнингабове | Уровень результатов для отчета.
| кредскан | Логическое | Аллтулс = false | True | false |  | Результаты отчета, сформированные задачами сборки сканера учетных данных.
| мсрд | Логическое | Аллтулс = false | True | false |  | Сведения о задании отчета и URL-адреса заданий для заданий МСРД, запускаемых задачей сборки МСРД. Задания МСРД долго выполняются и предоставляют отдельные отчеты.
| рослинанализерс | Логическое | Аллтулс = false | True | false |  | Результаты отчета, созданные задачами сборки Roslyn Analyzer.
| рослинанализерсбреакон | Поля выбора | Аллтулс = true или Рослинанализерс = true | True | Ошибка | Ошибка, Варнингабове | Уровень результатов для отчета.
| TSLint | Логическое | Аллтулс = false | True | false |  | Результаты отчета, созданные задачами сборки TSLint. Обратите внимание, что для отчетов поддерживаются только журналы TSLint в формате JSON. Если вы выбрали другой формат, обновите задачу сборки TSLint соответствующим образом.
| тслинтбреакон | Поля выбора | Аллтулс = true или TSLint = true | True | Ошибка | Ошибка, Варнингабове | Уровень результатов для отчета.
| туллогснотфаундактион | поля выбора | always | True | Standard | Ошибка, нет, Стандартный, предупреждение | Действие, выполняемое при выполнении журналов для выбранного инструмента (или любого инструмента, если установлены все средства), не удается найти, что означает, что средство не было запущено.<br/><br/>**Параметры:**<br/>**Нет:** Сообщение записывается в подробный поток вывода, доступный только с помощью задания переменной **System. Debug** в качестве значения **true**.<br/>**Стандартный:** (по умолчанию) записывает стандартное выходное сообщение о том, что для средства не найдены журналы.<br/>**Предупреждение:** Записывает желтое предупреждающее сообщение о том, что для средства не найдены журналы, которые отображаются на странице сводки сборки в виде предупреждения.<br/>**Ошибка:** Записывает красное сообщение об ошибке и вызывает исключение, нарушая сборку. Используйте этот параметр, чтобы убедиться, какие средства были запущены, с помощью отдельных средств.
| кустомлогсфолдер | строка | always | False |  |  | Базовая папка, в которой находятся журналы средств анализа; отдельные файлы журналов будут находиться во вложенных папках, названных каждым средством, под этим путем.

## <a name="post-analysis-task"></a>Задача после анализа

| **InputType**      | **Type**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Параметры (для списков выбора)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| аллтулс | Логическое | always | True | false |  | Разбейте сборку, если любая из задач сборки анализа кода безопасности Майкрософт обнаруживает проблемы.
| бинским | Логическое | Аллтулс = false | True | false |  | Разбейте сборку при обнаружении любых проблем Бинским в соответствии с выбранным параметром прерывать на.
| бинскимбреакон | Поля выбора | Аллтулс = true или Бинским = true | True | Ошибка | Ошибка, Варнингабове | Уровень проблем, которые необходимо выполнить для прерывания сборки.
| кредскан | Логическое | Аллтулс = false | True | false |  | Разбейте сборку, если обнаружены проблемы с сканером учетных данных.
| рослинанализерс | Логическое | Аллтулс = false | True | false |  | Разбейте сборку, если обнаружены проблемы с Roslyn Analyzer.
| рослинанализерсбреакон | Поля выбора | Аллтулс = true или Рослинанализерс = true | True | Ошибка | Ошибка, Варнингабове | Уровень проблем, которые необходимо выполнить для прерывания сборки.
| TSLint | Логическое | Аллтулс = false | True | false |  | Разбейте сборку при обнаружении любых проблем TSLint. Обратите внимание, что после анализа поддерживаются только журналы TSLint в формате JSON. Если вы выбрали другой формат, обновите задачу сборки TSLint соответствующим образом.
| тслинтбреакон | Поля выбора | Аллтулс = true или TSLint = true | True | Ошибка | Ошибка, Варнингабове | Уровень проблем, которые необходимо выполнить для прерывания сборки.
| встсконсоле | Логическое | always | False | Да |  | Запись результатов в консоль конвейера.
| туллогснотфаундактион | поля выбора | always | True | Standard | Ошибка, нет, Стандартный, предупреждение | Действие, выполняемое при выполнении журналов для выбранного инструмента (или любого инструмента, если установлены все средства), не удается найти, что означает, что средство не было запущено.<br/><br/>**Параметры:**<br/>**Нет:** Сообщение записывается в подробный поток вывода, доступный только с помощью задания переменной **System. Debug** в качестве значения **true**.<br/>**Стандартный:** (по умолчанию) записывает стандартное выходное сообщение о том, что для средства не найдены журналы.<br/>**Предупреждение:** Записывает желтое предупреждающее сообщение о том, что для средства не найдены журналы, которые отображаются на странице сводки сборки в виде предупреждения.<br/>**Ошибка:** Записывает красное сообщение об ошибке и вызывает исключение, нарушая сборку. Используйте этот параметр, чтобы убедиться, какие средства были запущены, с помощью отдельных средств.

## <a name="next-steps"></a>Следующие шаги

Если у вас есть дополнительные вопросы о расширении анализа кода безопасности и предлагаемых средствах, ознакомьтесь со [страницей часто задаваемых вопросов](security-code-analysis-faq.md).