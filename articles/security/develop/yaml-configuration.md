---
title: Руководство по настройке кода безопасности Microsoft Azure
description: В этой статье описаны списки параметров конфигурации YAML для настройки всех задач в расширении анализа кода безопасности Майкрософт
author: vharindra
manager: sukhans
ms.author: terrylan
ms.date: 11/29/2019
ms.topic: article
ms.service: security
services: azure
ms.assetid: 521180dc-2cc9-43f1-ae87-2701de7ca6b8
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.openlocfilehash: 82802ceae8f9fdd24d1f5642d80d90ebfd8b92a3
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "75460669"
---
# <a name="yaml-configuration-options-to-customize-the-build-tasks"></a>Параметры конфигурации YAML для настройки задач сборки

В этой статье перечислены все параметры конфигурации YAML, доступные в каждой из задач сборки. Статья начинается с задач для инструментов анализа кода безопасности. Он заканчивается пост-обработкой задач.

## <a name="anti-malware-scanner-task"></a>Задача по антивредоносному сканеру

| **Вхотливой тип**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Варианты (для списков)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Вхотливой тип | pickList | always | True | Basic | Базовый, пользовательский | 
| ScanType | pickList | Вхотогем ввода - Базовый | True | CustomScan | CustomScan, FullSystemScan, QuickScan, YourConfiguredScan | Тип сканирования для использования для сканирования AntiMalware.
| FileDirPath | filePath | ScanType - CustomScan | True | $(Build.StagingDirectory) |  | Указывает файл или каталог для сканирования.
| ОтработкаВосстановление | Логическое | ScanType - CustomScan | False | Да |  | При проверке: 1) Исключения файлов игнорируются. 2) Архивные файлы сканируются. 3) Действия не применяются после обнаружения. 4) Записи журнала событий не записываются после обнаружения. 5) Обнаружения от пользовательского сканирования не отображаются в пользовательском интерфейсе. 6) Выход консоли покажет список обнаружений от пользовательского сканирования.
| BootSectorScan | Логическое | ScanType - CustomScan | False | false |  | Если проверить, это позволяет сканирование сектора загрузки.
| Аргументы | строка | Вхотогемватив - пользовательский | True | -Сканирование -ScanType 3 -ОтключитьВосстановление -Файл $(Build.StagingDirectory) |  | Аргументы командной строки, где аргумент для -File является абсолютным путем, или относительный путь к $(Build.StagingDirectory) предопределенный на ваш агент сборки. Примечание: Если вы не предоставляете аргумент для -File в качестве последнего аргумента, он по умолчанию до $(Build.StagingDirectory). Вы также можете предоставить свои собственные аргументы, разрешенные инструментом MpCmdRun.exe.<br/><br/>Для получения более подробной информации о аргументах командной строки для этого инструмента, пожалуйста, введите <strong>-h</strong> или <strong>-?</strong> в поле Аргументы и выполнить задачу сборки.
| EnableServices | Логическое | always | True | false |  | Если проверка, он будет пытаться включить необходимые услуги для обновления Windows в случае, если они отключены.<br/>**ПРИМЕЧАНИЕ**: Пожалуйста, убедитесь, что политика группы не отменяет службы, а учетная запись, под которой работает эта сборка, имеет привилегии админа.
| SupportlogOnОшибка | Логическое | always | True | false |  | Если проверить, он будет собирать файлы поддержки для диагностики, когда ошибка произошла. Это может занять несколько минут.<br/>**ПРИМЕЧАНИЕ**: Пожалуйста, убедитесь, что учетная запись, которая работает под имеет привилегии админа.
| TreatSignatureUpdateFailureAs | pickList | always | True | Предупреждение | Ошибка, Стандарт, Предупреждение | Уровень журнала используется, если подпись не может быть обновлена во время выполнения. При установке на **ошибку,** отказ в обновлении подписи не сможет задача сборки. Обратите внимание, что обычно обновление подписи сбой на размещенных агентах сборки, даже если подпись может быть относительно актуальной (менее 3 часов).
| ПодписьСвежесть | pickList | always | True | Uptodate | Один день, три дня, два дня, Uptodate | Максимально допустимый возраст для подписи AntiMalware. Если подпись не может быть обновлена и старше этого значения, задача сборки будет вести себя в соответствии с выбранным значением в **поле Проверки Подписи.** Примечание: Если вы выберете **Up-To-Date,** подписи могут быть до 3 часов.
| TreatStaleSignatureAs | pickList | always | True | Error | Ошибка, Стандарт, Предупреждение | Уровень журнала используется, если возраст подписи старше выбранного **возраста подписи AntiMalware.** Устаревшая подпись может рассматриваться как **Предупреждение** или **Информационный** продолжить сканирование AntiMalware, но это не рекомендуется.

## <a name="binskim-task"></a>Задача Бинским

| **Вхотливой тип**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Варианты (для списков)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Вхотливой тип | pickList | always | True | Basic | Базовая, Командная Линия | 
| аргументы | строка | Вхоточенныйтип и командная линия | True |  |  | Аргументы стандартной строки командной строки Для выполнения. Путь вывода будет удален и заменен.<br>Для получения более подробной информации о аргументах командной строки для этого инструмента, пожалуйста, введите **справку** в поле Аргументы и выполните задачу сборки.
| Компонент | pickList | Вхотогем ввода - Базовый | True | Анализировать | анализировать, демпинговать, экспортироватьКониг, exportRules | 
| АнализЦелевой | filePath | Вхотогемвит - Функция базового && - анализ | True | $(Build.ArtifactStagingDirectory)\*.dll;<br>$(Build.ArtifactStagingDirectory)\*.exe |  | Один или несколько спецификаторов файла, каталога или шаблона фильтра, который разрешает анализировать один или несколько файловых файлов. ('') разделенный список)
| АнализСимПат | строка | Вхотогемвит - Функция базового && - анализ | False |  |  | Путь к файлу символов для цели.
| АнализКонигПат | строка | Вхотогемвит - Функция базового && - анализ | False | default |  | Путь к файлу политики, который будет использоваться для настройки анализа. Передайте значение "по умолчанию" для использования встроенных параметров.
| АнализПлагинПат | строка | Вхотогемвит - Функция базового && - анализ | False |  |  | Путь к плагину, который будет вызываться против всех целей в наборе анализа.
| АнализРепроклятие | Логическое | Вхотогемвит - Функция базового && - анализ | False | Да |  | Перепроклятие в субдиректора при оценке аргументов специфики файлов.
| АнализВербос | Логическое | Вхотогемвит - Функция базового && - анализ | False | false |  | Излучать многословный выход. Полученный всеобъемлющий доклад предназначен для предоставления надлежащих доказательств сценариев соблюдения.
| АнализХашев | Логическое | Вхотогемвит - Функция базового && - анализ | False | false |  | Выход SHA-256 хэш аминики анализа целей при испускании SARIF докладов.
| АнализСтатистика | Логическое | Вхотогемвит - Функция базового && - анализ | False | false |  | Создание времени и других статистических данных для анализа сессии.
| Анализков | Логическое | Вхотогемвит - Функция базового && - анализ | False | false |  | Сведения среды входа в среду запуска в выходном файле. ВНИМАНИЕ: Этот параметр записывает потенциально конфиденциальную информацию (например, все переменные значения среды) в любой испускаемый журнал.
| ExportRulesOutputType | pickList | Вхотогемвит - Основные функции && - экспортНыеправила | False | САРИФ | САРИФ, Сонар-Зубе | Тип файла дескриптора правил для вывода. Это будет включено в папку журналов BinSkim, опубликованную задачей сборки журналов анализа безопасности Publish.
| DumpTarget | filePath | Вхотогем вхотливый тип - Функция базового && - дамп | True | $(Build.ArtifactStagingDirectory) |  | Один или несколько спецификаторов файла, каталога или шаблона фильтра, который разрешает анализировать один или несколько файловых файлов. ('') разделенный список)
| DumpRecurse | Логическое | Вхотогем вхотливый тип - Функция базового && - дамп | False | Да |  | Перепроклятие в субдиректора при оценке аргументов специфики файлов.
| ДампВербос | Логическое | Вхотогем вхотливый тип - Функция базового && - дамп | False | Да |  | Излучать многословный выход. Полученный всеобъемлющий доклад предназначен для предоставления надлежащих доказательств сценариев соблюдения.
| toolVersion | pickList | always | False | Последняя версия | 1.5.0, Последняя, последняя Предварительная версия | Версия инструмента для запуска.

## <a name="credential-scanner-task"></a>Задача сканера учетных данных

| **Вхотливой тип**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Варианты (для списков)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| выходнойФормат | pickList | always | False | pre | csv, предварительно, tsv | Формат вывода файла результатов сранов учетных данных.
| toolVersion | pickList | always | False | Последняя версия | 1.27.7, Последний, ПоследнийPreRelease | Версия инструмента для запуска.
| сканФолдер | filePath | always | False | $(Build.SourcesDirectory) |  | Папка в репозитории для сканирования учетных данных.
| поисковикиFileType | pickList | always | False | Значение по умолчанию | Пользовательские, По умолчанию, По умолчаниюиии | Параметры для поиска файла поисковиков, используемого для сканирования.
| searchersFile | filePath | searchersFileType - пользовательские или searchersFileType и по умолчаниюиипользовательские | False |  |  | Настройка файла проверки поисковиков credential Scanner для выполнения. Несколько значений могут быть включены и использованы путем предоставления запятой разделенных список путей для файлов поиска сканера учетных данных.
| подавленияФайл | filePath | always | False |  |  | Файл подавления сканера учетных данных для использования для подавления проблем в журнале вывода.
| suppressAsОшибка | Логическое | always | False | false |  | Подавленные совпадения будут выводиться в файл вывода (O)-совпадения. Вместо того, чтобы подавить выходной файл по умолчанию, -O- подавлен. (-ф) . (По умолчанию к 'Ложным')
| многословныйВыход | Логическое | always | False | false |  | Информация о выходе многословная.
| batchSize | строка | always | False |  |  | Количество одновременных потоков, используемых для параллельного выполнения сканеров учетных данных. (По умолчанию до 20)<br/>Значение должно находиться в пределах 1-2147483647.
| regexMatchTimeoutInSeconds | строка | always | False |  |  | Количество времени в секундах, чтобы потратить попытку поиска матч, прежде чем отказаться от проверки.<br/>Добавляет ``-Co RegexMatchTimeoutInSeconds=<Value>`` к командной строке.
| fileScanReadBufferSize | строка | always | False |  |  | Размер буфера при чтении содержимого в байтах. (По умолчанию до 524288)<br/>Добавляет ``-Co FileScanReadBufferSize=<Value>`` к командной строке.
| maxFileScanReadBytes | строка | always | False |  |  | Максимальное количество байтов для чтения из данного файла во время анализа содержимого. (По умолчанию до 104857600)<br/>Добавляет ``-Co MaxFileScanReadBytes=<Value>`` к командной строке.

## <a name="microsoft-security-risk-detection-task"></a>Задача обнаружения рисков безопасности Майкрософт

| **Вхотливой тип**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Варианты (для списков)**                                   | **Описание**                                                                                                                                                                                                                                                                           |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ServiceEndpointName | connectedService:Generic | always | True |  |  | Имя предварительно настроенной конечной точки службы (общий тип) в проекте VSTS, в котором хранится URL-адрес экземпляра MSRD (вы на борту) и токен доступа REST API (который был создан со страницы настроек учетной записи и позволяет получить полный доступ к вашей учетной записи).
| accountId | строка | always | True |  |  | GUID идентифицирует учетную запись. Его можно извлечь из URL-адреса учетной записи.
| Бинарные файлыURL | строка | always | True |  |  | Запятой делимитировать список URL-адресов, которые будут использоваться пуховика машины для загрузки бинарных файлов. Убедитесь, что URL-адреса находятся в открытом доступе.
| СеменаURL | строка | always | False |  |  | Запятой делимитировать список URL-адресов, которые будут использоваться пуховика машины для загрузки семян. Убедитесь, что URL-адреса находятся в открытом доступе.
| OSPlatformType | pickList | always | True | Windows | Linux, Windows | Тип платформы ОС для выполнения задания fuzzing на.
| WindowsEdition | строка | OSPlatformType - Windows | True | Server 2008 R2 |  | ОС издание машин для запуска fuzzing работу на.
| LinuxEdition | строка | OSPlatformType - Linux | True | Redhat |  | ОС издание машин для запуска fuzzing работу на.
| Предварительная команда | строка | always | False |  |  | Скрипт, который должен быть запущен на тестовой машине для установки тестовой целевой программы и ее зависимостей перед отправкой задания fuzzing.
| СеменаДиректори | строка | always | True |  |  | Путь к каталогу на пухлящей машине, содержащей семена. Подробнее о [каталоге файлов seed.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/03-choose-seed-files#seed-file-directory)
| СеменаЭксив | строка | always | True |  |  | Файл расширение семян.
| TestDriverExecutable | строка | always | True |  |  | Путь к цели, исполняемой на пуховике машины. Подробнее о том, как просмотреть [полный путь к EPE.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#full-path-to-the-epe)
| TestDriverExeType | pickList | always | True | x86 | amd64, x86 | Целевая исполняемая архитектура файлов.
| Параметры TestDriver | строка | always | True | "%тест-файл%" |  | Аргументы командной строки передаются испытательной цели, исполняемой. Обратите внимание, что символ **"%testfile%",** включая двойные котировки, будет автоматически заменен полным путем к целевому файлу, который тест-драйвер должен разобрать, и требуется. Для получения подробной информации обратитесь к [Аргументам командования.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#command-line-arguments)
| ЗакрываетСам | Логическое | always | True | Да |  | Проверьте, завершает ли тест-драйвер себя после завершения (например, тест-пилот разбирает входные файлы и немедленно выходит); Отоверьте, нужно ли принудительно закрывать тест-драйвера (например, тест-драйвер омрачает работу приложения GUI, основное окно которого остается открытым после разбора ввода). Подробнее о [самопрекращении.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#self-termination)
| MaxDurationInSeconds | строка | always | True | 5 |  | Максимальная продолжительность тест-пилота за считанные секунды. Предоставьте оценку самого длительного разумно ожидаемого времени, необходимого для разбора ввода файла. Чем точнее эта оценка, тем эффективнее запуск fuzzing. Смотрите [максимальную ожидаемую продолжительность выполнения](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#maximum-expected-execution-duration) для деталей.
| CanRunRepeat | Логическое | always | True | Да |  | Проверьте, можно ли запускать тест-драйвер повторно, не в зависимости от сохраняющейся/общей глобальной системы. Подробнее о [протекаемых трассах](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#runs-from-scratch) с нуля.
| CanTestDriverbeRenamed | Логическое | always | True | false |  | Проверьте, можно ли переименовать тест-драйвер, который может быть переименован, и все еще может работать правильно. Увидеть [можно переименовать и параллелизировать](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#can-be-renamed-and-parallelized) для деталей.
| SingleOsProcess | Логическое | always | True | false |  | Проверьте, работает ли тест-драйвер в рамках одного процесса ОС; Отоверьте, если тест-драйвер порождает дополнительные процессы. Подробнее о [едином процессе.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#single-process)

## <a name="roslyn-analyzers-task"></a>Задача анализаторов Рослин

| **Вхотливой тип**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Варианты (для списков)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                   |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| userProvideBuildInfo | pickList | always | True | авто | авто, msBuildInfo | Параметры для пользователя, чтобы предоставить версию MSBuild, архитектуру MSBuild, и построить командную линию для анализа Roslyn. Если **auto** выбран, эта задача получит информацию о сборке из предыдущих задач **MSBuild,** **VSBuild**и/или **.NET Core** (для сборки) в том же конвейере.
| msBuildVersion | pickList | userProvideBuildInfo - msBuildInfo | True | 16,0 | 15.0, 16.0 | Версия MSBuild.
| msBuildArchitecture | pickList | userProvideBuildInfo - msBuildInfo | True | x86 | DotNetCore, x64, x86 | Архитектура MSBuild. Примечание: Если командная строка сборки сборки **сборки dotnet.exe,** выберите опцию **Via .Net Core.**
| msBuildКомандлайн | строка | userProvideBuildInfo - msBuildInfo | True |  |  | Полная командная линия сборки для компиляции решения или проектов.<br/><br/>Примечания: Командная линия должна начинаться с полного пути к **MSBuild.exe** или **dotnet.exe**.<br/>Команда будет работать с $(Build.SourcesDirectory) в качестве рабочего каталога.
| rulesetName | pickList | always | False | Рекомендуемая | Пользовательские, Нет, Рекомендуемые, Обязательные | Названный набор правил для использования.<br/><br/>При `Ruleset Configured In Your Visual Studio Project File(s)` выборе будет использован набор правил, предварительно настроенный в файле проекта VS(ы). Если `Custom` выбран, можно установить пользовательский параметр пути создания правил.
| rulesetVersion | pickList | правилоНаименная - Обязательный или устанавливай правилаИмя - Рекомендуемый | False | Последняя версия | 8.0, 8.1, 8.2, Последний, ПоследнийPreRelease | Версия выбранного правила SDL.
| customRulesetset | строка | rulesetName - Пользовательские | False |  |  | Доступный путь к набору правил для использования. Относительные пути будут нормализованы к корню`$(Build.SourcesDirectory)`исходного репозитория ().<br/><br/>Если набор правил определяется `Rules` `Actions` с `Error`набором, задача сборки завершится неудачей. Чтобы использовать набор правил, который `Continue on error` делает это, пожалуйста, проверьте в задаче сборки `Control Options`.
| MicrosoftAnalyzersVersion | pickList | always | False | Последняя версия | 2.9.3, 2.9.4, 2.9.6, Последний, ПоследнийPreRelease | Версия пакета [Microsoft.CodeAnalysis.FxCopAnalyzers](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) для запуска.
| подавлениеFileForCompilerПредупреждения | filePath | always | False |  |  | Файл подавления для подавления предупреждений компилятора C и VB.<br/><br/>Файл простого текста с каждым идентификатором предупреждения указано одну отдельную строку.<br/>Для предупреждений компилятора укажите только числовую часть идентификатора предупреждения. Например 1018 будет подавлять CS1018, а CA1501 будет подавлять CA1501.<br/><br/>Относительный путь файла будет прилагаться к корню исходного репозитория ().`$(Build.SourcesDirectory)`

## <a name="tslint-task"></a>Задача TSLint

| **Вхотливой тип**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Варианты (для списков)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ПравилоБиблиотека | pickList | always | True | цлинт | обычай, Microsoft, tslint | Все результаты включают в себя правила, отправленные с выбранной версией TSLint **(Только база**).<br/><br/>**Только база -** Только правила отправлены с TSLint.<br/><br/>**Включить правила Майкрософт -** Загружает [tslint-microsoft-contrib](https://github.com/Microsoft/tslint-microsoft-contrib) и включает в себя его правила, которые будут доступны для использования в запуске TSLint. Выбор этой опции `Type Checking` скрывает флажок, как это требуется по правилам корпорации Майкрософт и будет автоматически использоваться. Он также оттаивает `Microsoft Contribution Version` поле, `tslint-microsoft-contrib` позволяя выбрать версию от [npm.](https://www.npmjs.com/package/tslint-microsoft-contrib)<br/><br/>**Включить пользовательские правила -** Утихает `Rules Directory` поле, которое принимает доступный путь к каталогу правил TSLint, который будет доступен для использования в запуске TSLint.<br/><br/>**Примечание:** Значение по умолчанию изменилось на tslint, так как многие пользователи столкнулись с проблемами, настраивающими набор правил Майкрософт. Для конкретной конфигурации версии, пожалуйста, смотрите [tslint-Microsoft-contrib на GitHub](https://github.com/microsoft/tslint-microsoft-contrib).
| ПравилаДиректори | строка | Обычай «ПравилоБиблиотека» | True |  |  | Доступный каталог, содержащий дополнительные правила TSLint, доступный для использования в запуске TSLint.
| Правил | pickList | ПравилоБиблиотека ! » Microsoft | True | tsrecommended | обычай, tslatest, tsrecommended | Определяет правила для запуска в отношении файлов TypeScript.<br/><br/>** [tslint:последний](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  - ** Расширяет `tslint:recommended` и постоянно обновляется, чтобы включить конфигурацию для последних правил в каждом выпуске TSLint. Использование этой конфигурации может внести изменения в незначительные релизы, поскольку новые правила включены, которые вызывают сбои в коде. Когда TSLint достигает основной `tslint:recommended` версии удар, `tslint:latest`будет обновляться, чтобы быть идентичным .<br/><br/>** [tslint:рекомендуется](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  - ** Стабильный, несколько самоуверенный набор правил, который TSLint поощряет для общего программирования TypeScript. Эта конфигурация следует, `semver`поэтому она *не* будет иметь нарушение изменений в незначительных или патч релизов.
| РулеетMicrosoft | pickList | ПравилоБиблиотека - Microsoft | True | mssdlrequired | обычай, msrecommended, mssdlrecommended, mssdlrequired, tslatest, tsrecommended | Определяет правила для запуска в отношении файлов TypeScript.<br/><br/>** [microsoft:sdl-требуется](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  - ** Выполнить все доступные проверки, предоставляемые tslint и tslint-microsoft-contrib правила, которые удовлетворяют *требуемому* [жизненному циклу разработки безопасности (SDL)](https://www.microsoft.com/sdl/) политики.<br/><br/>** [microsoft:sdl-рекомендуется](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  - ** Выполнить все доступные проверки, предоставляемые tslint и tslint-microsoft-contrib правила, которые удовлетворяют *требуемым и рекомендуемым* [безопасности развития жизненного цикла (SDL)](https://www.microsoft.com/sdl/) политики.<br/><br/>** [Microsoft:рекомендуется](https://github.com/Microsoft/tslint-microsoft-contrib/blob/master/recommended_ruleset.js)  - ** Все проверки, которые рекомендуются создателями правил tslint-microsoft-contrib. Это включает в себя проверки безопасности и не-безопасности.<br/><br/>** [tslint:последний](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  - ** Расширяет `tslint:recommended` и постоянно обновляется, чтобы включить конфигурацию для последних правил в каждом выпуске TSLint. Использование этой конфигурации может внести изменения в незначительные релизы, поскольку новые правила включены, которые вызывают сбои в коде. Когда TSLint достигает основной `tslint:recommended` версии удар, `tslint:latest`будет обновляться, чтобы быть идентичным .<br/><br/>** [tslint:рекомендуется](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  - ** Стабильный, несколько самоуверенный набор правил, который TSLint поощряет для общего программирования TypeScript. Эта конфигурация следует, `semver`поэтому она *не* будет иметь нарушение изменений в незначительных или патч релизов.
| RulesetFile | строка | Пользовательский набор правил или правилоMicrosoft | True |  |  | [Файл конфигурации,](https://palantir.github.io/tslint/usage/cli/) определяющий, какие правила следует запустить.<br/><br/>Путь к конфигурации будет добавлен как путь для [пользовательских правил.](https://palantir.github.io/tslint/develop/custom-rules/)
| FileSelectionType | pickList | always | True | fileGlob | fileGlob, projectFile | 
| Файлы | строка | FileSelectionType файлGlob | True | **\*.ts |  | Файл [шар,](https://www.npmjs.com/package/glob) который определяет, какой файл (ы) для обработки. Пути относительно `Build.SourcesDirectory` значения.<br/><br/>Библиотека вклада корпорации Майкрософт требует использования файла проекта. Если вы используете библиотеку вклада Майкрософт с опцией, `File Glob Pattern` для вас будет создан файл проекта.
| ECMAScriptVersion | pickList | FileSelectionType файлGlob && ПравилоБиблиотека | True | ES3 | ES2015, ES2016, ES2017, ES3, ES5, ES6, ESNext | Целевая версия ECMAScript, настроенная с помощью компилятора TypeScript. При использовании файла проекта это поле compilerOptions.target файла TypeScript tsconfig.json.
| Проект | строка | FileSelectionType | True |  |  | Путь к файлу [tsconfig.json,](http://www.typescriptlang.org/docs/handbook/tsconfig-json.html) который определяет файлы TypeScript для запуска TSLint. Пути относительно `Build.SourcesDirectory` значения.
| TypeCheck | Логическое | ПравилоБиблиотека ! » Microsoft && FileSelectionType » ProjectFile | False | Да |  | Включает проверку типа при запуске правил сливки.
| ИсключитьФайлы | строка | always | False |  |  | [Шар,](https://www.npmjs.com/package/glob) указывающий файлы, чтобы исключить из линтинга. Пути относительно `Build.SourcesDirectory` значения. Несколько значений могут быть указаны разделенными запятой.
| OutputFormat | pickList | always | True | json | checkstyle, codeFrame, filesList, json, msbuild, pmd, проза, стильный, многословный, vso | [Formatter,](https://palantir.github.io/tslint/formatters/) чтобы использовать для генерации вывода. Обратите внимание, что формат JSON совместим с Post Analysis.
| Узловая память | строка | always | False |  |  | Явное количество памяти в МБ, чтобы выделить узла для запуска TSLint. Пример: 8000<br/><br/>Карты к `--max_old_space=<value>` варианту CLI для узла, который является `v8 option`.
| ToolVersion | pickList | ПравилоБиблиотека ! » Microsoft | True | последняя | 4.0.0, 4.0.1, 4.0.2, 4.1.0, 4.1.1, 4.2.0, 4.3.0, 4.3.1, 4.4.0, 4.4.1, 4.4.2, 4.5.0, 4.5.1, 5.0.0, 5.2.0, 5.3.0, 5.3.2, 5.4.0, 5.4.1, 5.4.2, 5.4.2, 5.4.2, 5.4.3, 5.4.5 | [Версия](https://github.com/palantir/tslint/releases) TSLint для загрузки и запуска.
| TypeScriptVersion | pickList | always | True | последняя | 0.8.0, 0.8.1, 0.8.2, 0.8.3, 0.9.0, 0.9.1, 0.9.5, 0.9.7, 1.0.0, 1.0.1, 1.3.0, 1.4.1, 1.5.3, 1.6.2, 1.7.3, 1.7.5, 1.8.0, 1.8.10, 1.8.2, 1.8.5, 1.8.6, 1.8.7, 1.8.9, 1.9.0, 2.0.0, 2.0.10, 2.0.2, 2.0.3, 2.0.6, 2.0.7, 2.0.8, 2.0.9, 2.1.1, 2.1.4, 2.1.5, 2.1.6, 2.2.0, 2.2.1, обычай, последний | Версия [шрифта](https://www.npmjs.com/package/typescript) для загрузки и использования.<br/>**Примечание:** Это должна быть та же версия TypeScript, которая используется для компиляции кода.
| TypeScriptVersionCustom | строка | ТипСкриптивнаяВерсия на заказ | True | последняя |  | Версия [шрифта](https://www.npmjs.com/package/typescript) для загрузки и использования.<br/>**Примечание:** Это должна быть та же версия TypeScript, которая используется для компиляции кода.
| MicrosoftContribVersion | pickList | ПравилоБиблиотека - Microsoft |  | последняя | 4.0.0, 4.0.1, 5.0.0, 5.0.1, самые последние | Версия [tslint-microsoft-contrib](https://www.npmjs.com/package/tslint-microsoft-contrib) (Правила SDL) для загрузки и использования.</br>**Примечание:** Версия [tslint](https://www.npmjs.com/package/tslint) будет выбрана, которая совместима с версией, выбранной для tslint-microsoft-contrib. Обновления tslint-microsoft-contrib будут закрыты этой задачей сборки, пока не может произойти период тестирования.

## <a name="publish-security-analysis-logs-task"></a>Публикация задач анализа безопасности

| **Вхотливой тип**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Варианты (для списков)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| АртефактНамя | строка | always | True | CodeAnalysisLogs |  | Название артефакта для создания.
| ArtifactType | pickList | always | True | Контейнер | Контейнер, FilePath | Тип артефакта для создания.
| TargetPath | строка | ArtifactType - FilePath | False | \\my'share\$(Build.DefinitionName)<br>\$(Build.BuildNumber) |  | Доля файлов, к которой можно скопировать файлы
| AllTools | Логическое | always | True | Да |  | Публикация результатов, генерируемых всеми задачами построения безопасных средств разработки.
| Antimalware | Логическое | AllTools - ложные | True | Да |  | Публикация результатов, генерируемых задачами сборки AntiMalware.
| Бинским | Логическое | AllTools - ложные | True | Да |  | Публикация результатов, генерируемых задачами сборки BinSkim.
| Кресскан | Логическое | AllTools - ложные | True | Да |  | Публикация результатов, генерируемых задачами сборки сканера учетных данных.
| МСРД | Логическое | AllTools - ложные | True | Да |  | Публикация информации о вакансиях и URL-адресах заданий для заданий MSRD, начатых задачей сборки MSRD. Задания MSRD работают уже давно и предоставляют отдельные отчеты.
| РослинАналитики | Логическое | AllTools - ложные | True | false |  | Публикация результатов, генерируемых Рослина Анализаторы построить задачи.
| TSLint | Логическое | AllTools - ложные | True | Да |  | Публикация результатов, генерируемых задачами сборки TSLint. Обратите внимание, что для отчетов поддерживаются только журналы TSLint в формате JSON. Если вы выбрали другой формат, пожалуйста, обновите задачу сборки TSLint соответственно.
| ToolLogsNotFoundAction | выбратьлист | always | True | Standard | Ошибка, Нет, Стандарт, Предупреждение | Действие, необходимое при запуске журналов для выбранного инструмента (или любого инструмента при проверке всех инструментов), подразумевая, что инструмент не был запущен.<br/><br/>**Параметры:**<br/>**Нет:** Сообщение записывается в многословный поток вывода, доступный только путем **true**установки переменной **системы** VSTS.<br/>**Стандарт:** (По умолчанию) записывает стандартное выходное сообщение о том, что журналы не были найдены для инструмента.<br/>**Предупреждение:** Записывает желтое предупреждение о том, что для инструмента не найдено журналов, которое отображается на странице резюме сборки в качестве предупреждения.<br/>**Ошибка:** Записывает красное сообщение об ошибке и бросает исключение, нарушая сборку. Используйте эту опцию, чтобы обеспечить индивидуальный выбор инструментов, чтобы гарантировать, какие инструменты побежали.

## <a name="security-report-task"></a>Задача отчета о безопасности

| **Вхотливой тип**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Варианты (для списков)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| VstsConsole | Логическое | always | False | Да |  | Напишите результаты на консоль pipeline.
| TsvFile | Логическое | always | False | Да |  | Создайте файл tsv (разделенные значения вкладки) с одной строкой на найденный результат и вкладками, разделяющими информацию для результата.
| HtmlFile | Логическое | always | False | Да |  | Создайте файл отчета HTML.
| AllTools | Логическое | always | True | false |  | Отчет о результатах, генерируемых всеми задачами построения безопасных средств разработки.
| Бинским | Логическое | AllTools - ложные | True | false |  | Отчет о результатах, генерируемых задачами сборки BinSkim.
| Бинскимбрейкон | pickList | AllTools - правда или Бинским - правда | True | Error | Ошибка, ПредупреждениеВыше | Уровень результатов для отчета.
| Кресскан | Логическое | AllTools - ложные | True | false |  | Отчет о результатах, генерируемых задачами сборки сканера учетных данных.
| МСРД | Логическое | AllTools - ложные | True | false |  | Сообщите информацию о вакансиях и URL-адресах заданий для заданий MSRD, начатых задачей сборки MSRD. Задания MSRD работают уже давно и предоставляют отдельные отчеты.
| РослинАналитики | Логическое | AllTools - ложные | True | false |  | Отчет о результатах, генерируемых задачами Roslyn Analyzer.
| РослинАнализыBreakOn | pickList | AllTools - истинные или РослинАнализаторы - правда | True | Error | Ошибка, ПредупреждениеВыше | Уровень результатов для отчета.
| TSLint | Логическое | AllTools - ложные | True | false |  | Отчет о результатах, генерируемых задачами сборки TSLint. Обратите внимание, что для отчетов поддерживаются только журналы TSLint в формате JSON. Если вы выбрали другой формат, пожалуйста, обновите задачу сборки TSLint соответственно.
| TSLintBreakOn | pickList | AllTools - правда или TSLint - правда | True | Error | Ошибка, ПредупреждениеВыше | Уровень результатов для отчета.
| ToolLogsNotFoundAction | выбратьлист | always | True | Standard | Ошибка, Нет, Стандарт, Предупреждение | Действие, необходимое при запуске журналов для выбранного инструмента (или любого инструмента при проверке всех инструментов), подразумевая, что инструмент не был запущен.<br/><br/>**Параметры:**<br/>**Нет:** Сообщение записывается в многословный поток вывода, доступный только путем **true**установки переменной **системы** VSTS.<br/>**Стандарт:** (По умолчанию) записывает стандартное выходное сообщение о том, что журналы не были найдены для инструмента.<br/>**Предупреждение:** Записывает желтое предупреждение о том, что для инструмента не найдено журналов, которое отображается на странице резюме сборки в качестве предупреждения.<br/>**Ошибка:** Записывает красное сообщение об ошибке и бросает исключение, нарушая сборку. Используйте эту опцию, чтобы обеспечить индивидуальный выбор инструментов, чтобы гарантировать, какие инструменты побежали.
| CustomLogsFolder | строка | always | False |  |  | Базовая папка, в которой расположены журналы инструментов анализа; отдельные файлы журнала будут находиться в субфоликерах, названных в честь каждого инструмента, под этим путем.

## <a name="post-analysis-task"></a>Постанализная задача

| **Вхотливой тип**      | **Тип**     | **Применимо**            | **Обязательно** | **Значение по умолчанию**             | **Варианты (для списков)**                                   | **Описание**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| AllTools | Логическое | always | True | false |  | Перерыв сборки, если какие-либо проблемы обнаружены какой-либо задачи анализа кода безопасности Майкрософт.
| Бинским | Логическое | AllTools - ложные | True | false |  | Перерыв сборки, если какие-либо проблемы BinSkim найдены, в соответствии с опцией Break On вы выбрали.
| Бинскимбрейкон | pickList | AllTools - правда или Бинским - правда | True | Error | Ошибка, ПредупреждениеВыше | Уровень проблем, чтобы разорвать сборку.
| Кресскан | Логическое | AllTools - ложные | True | false |  | Перерыв сборки, если какие-либо проблемы с сканером учетных данных найдены.
| РослинАналитики | Логическое | AllTools - ложные | True | false |  | Перерыв сборки, если какие-либо проблемы Рослин анализаторы найдены.
| РослинАнализыBreakOn | pickList | AllTools - истинные или РослинАнализаторы - правда | True | Error | Ошибка, ПредупреждениеВыше | Уровень проблем, чтобы разорвать сборку.
| TSLint | Логическое | AllTools - ложные | True | false |  | Перерыв сборки, если какие-либо проблемы TSLint найдены. Обратите внимание, что только журналы TSLint в формате JSON поддерживаются для анализа должностей. Если вы выбрали другой формат, пожалуйста, обновите задачу сборки TSLint соответственно.
| TSLintBreakOn | pickList | AllTools - правда или TSLint - правда | True | Error | Ошибка, ПредупреждениеВыше | Уровень проблем, чтобы разорвать сборку.
| VstsConsole | Логическое | always | False | Да |  | Напишите результаты на консоль pipeline.
| ToolLogsNotFoundAction | выбратьлист | always | True | Standard | Ошибка, Нет, Стандарт, Предупреждение | Действие, необходимое при запуске журналов для выбранного инструмента (или любого инструмента при проверке всех инструментов), подразумевая, что инструмент не был запущен.<br/><br/>**Параметры:**<br/>**Нет:** Сообщение записывается в многословный поток вывода, доступный только путем **true**установки переменной **системы** VSTS.<br/>**Стандарт:** (По умолчанию) записывает стандартное выходное сообщение о том, что журналы не были найдены для инструмента.<br/>**Предупреждение:** Записывает желтое предупреждение о том, что для инструмента не найдено журналов, которое отображается на странице резюме сборки в качестве предупреждения.<br/>**Ошибка:** Записывает красное сообщение об ошибке и бросает исключение, нарушая сборку. Используйте эту опцию, чтобы обеспечить индивидуальный выбор инструментов, чтобы гарантировать, какие инструменты побежали.

## <a name="next-steps"></a>Дальнейшие действия

Если у вас есть дополнительные вопросы о расширении анализа Кода Безопасности и предлагаемых инструментах, ознакомьтесь с [нашей страницей часто задаваемых вопросов](security-code-analysis-faq.md).