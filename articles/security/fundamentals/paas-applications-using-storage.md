---
title: Защита приложений PaaS с помощью службы хранилища Azure | Документация Майкрософт
description: Ознакомьтесь с рекомендациями по безопасности службы хранилища Azure, чтобы защитить свои веб-приложения и мобильные приложения PaaS.
services: security
documentationcenter: na
author: TomShinder
manager: barbkess
editor: ''
ms.assetid: ''
ms.service: security
ms.subservice: security-fundamentals
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 09/28/2018
ms.author: tomsh
ms.openlocfilehash: 9d88b8101f37fde5d1ab8ac11253884b6534e3b5
ms.sourcegitcommit: 85b3973b104111f536dc5eccf8026749084d8789
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/01/2019
ms.locfileid: "68726761"
---
# <a name="best-practices-for-securing-paas-web-and-mobile-applications-using-azure-storage"></a>Рекомендации по защите мобильных приложений и веб-приложений PaaS с помощью службы хранилища Azure
В этой статье рассматривается набор рекомендаций по безопасности службы хранилища Azure, предназначенных для защиты веб-приложений PaaS и мобильных приложений PaaS. Эти рекомендации основаны на нашем опыте, полученном в процессе использования Azure AD, и на отзывах других пользователей.

Azure позволяет развертывать и использовать хранилище способами, которых сложно достичь в локальной среде. Благодаря службе хранилища Azure можно относительно легко достичь высокого уровня масштабируемости и доступности. Служба хранилища Azure является не только основой для виртуальных машин Azure под управлением Windows и Linux, она также поддерживает большие распределенные приложения.

Хранилище Azure Stack предоставляет четыре таких службы: хранилище BLOB-объектов, хранилище таблиц, хранилище очередей и хранилище файлов. Дополнительные сведения см. в статье [Introduction to Microsoft Azure Storage](/azure/storage/common/storage-introduction) (Введение в службу хранилища Microsoft Azure).

[Руководство по безопасности службы хранилища Azure](/azure/storage/common/storage-security-guide) является отличным источником сведений о службе хранилища Azure и ее безопасности. В этой статье рекомендаций более подробно рассматриваются некоторые основные понятия, содержащиеся в руководстве по безопасности, а также представлены ссылки на руководство по безопасности и другие источники.

В этой статье рассматриваются следующие рекомендации:

- Подписанные URL-адреса (SAS)
- Управление доступом на основе ролей (RBAC)
- шифрование на стороне клиента для важных данных;
- Шифрование службы хранения


## <a name="use-a-shared-access-signature-instead-of-a-storage-account-key"></a>Использование подписанного URL-адреса вместо ключа учетной записи хранения
Управление доступом является критически важным. Чтобы помочь вам контролировать доступ к службе хранилища Azure, при создании учетной записи хранения Azure создаст два 512-разрядных ключа доступа (SAK). Уровень избыточности ключа позволяет избежать прерывания службы во время процедуры смены ключей. 

Ключи доступа к хранилищу являются секретами с высоким приоритетом и должны быть доступны только тем, кто отвечает за управление доступом к хранилищу. Если посторонние лица получат доступ к этим ключам, они смогут полностью контролировать хранилище, а также заменять, удалять или добавлять содержащиеся в нем файлы. Сюда входит вредоносное ПО и другие типы содержимого, которые могут потенциально поставить под угрозу вашу организацию или ваших клиентов.

Вам по-прежнему потребуется способ предоставления доступа к объектам в хранилище. Чтобы обеспечить более точные условия доступа, можно воспользоваться преимуществами подписанного URL-адреса (SAS). SAS позволяет обмениваться конкретными объектами в хранилище в течение заранее определенного интервала времени с конкретными разрешениями. Подписанный URL-адрес позволяет определить следующее:

- Период действия SAS, включая время начала и окончания срока действия.
- Разрешения, предоставляемые с помощью SAS. Например, SAS для большого двоичного объекта может предоставить разрешения на чтение и запись для него, но не разрешение на удаление.
- Дополнительный IP-адрес или диапазон IP-адресов, по которым служба хранилища Azure будет принимать SAS. Например, можно указать диапазон IP-адресов, принадлежащих организации. Таким образом обеспечивается еще одна мера безопасности для SAS.
- Протокол, по которому служба хранилища Azure будет принимать SAS. С помощью этого необязательного параметра можно ограничить доступ к клиентам, использующим протокол HTTPS.

SAS позволяет совместно использовать содержимое таким образом, чтобы предоставить к нему доступ, не отдавая свои ключи учетной записи хранения. Постоянное использование SAS в приложениях — это безопасный способ предоставления общего доступа к ресурсам хранилища без ущерба для ключей учетной записи хранения.

Дополнительные сведения о подписанных URL-адресах см. в статье [Использование подписанных URL-адресов (SAS)](/azure/storage/common/storage-dotnet-shared-access-signature-part-1). 

## <a name="use-role-based-access-control"></a>Использование управления доступом на основе ролей
Контролировать доступ также можно с помощью [управления доступом на основе ролей](/azure/role-based-access-control/overview) (RBAC). Используя RBAC, вы сосредотачиваетесь на предоставлении сотрудникам именно тех разрешений, в которых они нуждаются по таким принципам безопасности, как выполнение должностных обязанностей и минимальные привилегии. Слишком большое число разрешений делает учетную запись уязвимой для злоумышленников. Недостаточное число разрешений мешает эффективной работе сотрудников. RBAC помогает решить эту задачу, обеспечивая точное управление доступом для Azure. Это крайне важно для организаций, которые планируют применять политики безопасности для доступа к данным.

Вы можете назначать пользователям привилегии с помощью встроенных ролей RBAC в Azure. Например, для облачных операторов, которым нужно управлять учетными записями хранения, используйте роль "Участник учетной записи хранения", а для управления классическими учетными записями хранения — "Участник классической учетной записи хранения". Облачным операторам, которым нужно управлять виртуальными машинами, но не виртуальными сетями и учетными записями хранения, к каким они подключены, вы можете назначать роль "Участник виртуальной машины".

Если организация не применяет для управления доступом к данным такие возможности, как RBAC, пользователям будет предоставлено больше полномочий, чем необходимо для выполнения назначенных им задач. Это может привести к компрометации данных, так как пользователи смогут получить доступ к таким данным, которые не должны быть им доступны.

Дополнительные сведения о RBAC:

- [Управление доступом с помощью RBAC и портала Azure](/azure/role-based-access-control/role-assignments-portal)
- [Встроенные роли управления доступом на основе ролей в Azure](/azure/role-based-access-control/built-in-roles)
- [Руководство по безопасности службы хранилища Azure](/azure/storage/common/storage-security-guide) 

## <a name="use-client-side-encryption-for-high-value-data"></a>Использование шифрования на стороне клиента для важных данных
Шифрование на стороне клиента позволяет программно шифровать передаваемые данные до отправки в службу хранилища Azure и расшифровывать их при извлечении. Таким образом обеспечивается шифрование передаваемых и неактивных данных. Шифрование на стороне клиента является наиболее безопасным методом шифрования данных, который, однако, требует внесения программных изменений в приложение и реализации процессов управления ключами.

Шифрование на стороне клиента также позволяет обеспечить исключительный контроль над ключами шифрования. Вы можете создавать собственные ключи шифрования и управлять ими. Шифрование на стороне клиента использует конвертный метод, когда клиентская библиотека службы хранилища Azure создает ключ шифрования содержимого (CEK), который затем зашифровывается с помощью ключа шифрования ключей (KEK). Ключ шифрования ключей определяется идентификатором ключа и может быть парой асимметричных ключей или симметричным ключом. Вы можете управлять им локально или хранить его в [хранилище ключей Azure](/azure/key-vault/key-vault-whatis).

Шифрование на стороне клиента встроено в библиотеки хранилищ Java и .NET. Дополнительные сведения о шифровании данных в клиентских приложениях и о создании собственных ключей шифрования и управлении ими см. в статье [Шифрование на стороне клиента для службы хранилища Microsoft Azure](/azure/storage/common/storage-client-side-encryption).

## <a name="enable-storage-service-encryption-for-data-at-rest"></a>Включение функции "Шифрование службы хранилища" для неактивных данных
Когда [шифрование службы хранения](/azure/storage/common/storage-service-encryption) для хранилища файлов включено, данные шифруются автоматически с использованием шифрования AES-256. Корпорация Майкрософт полностью обеспечивает шифрование, расшифровку и управление ключами. Эта функция доступна для типов избыточности LRS и GRS.

## <a name="next-steps"></a>Следующие шаги

В этой статье представлен набор рекомендаций по безопасности службы хранилища Azure, предназначенных для защиты веб-приложений и мобильных приложений PaaS. Дополнительные сведения о безопасности развернутых служб PaaS см. в следующих статьях:

- [Защита развернутых приложений PaaS](paas-deployments.md)
- [Защита мобильных приложений и веб-приложений PaaS с помощью служб приложений Azure](paas-applications-using-app-services.md)
- [Защита баз данных PaaS в Azure](paas-applications-using-sql.md)
