---
title: Обработка событий карты Карты Microsoft Azure
description: В этой статье вы узнаете, как сделать интерактивную карту Web SDK с картой событий с помощью веб-SDK Microsoft Azure Maps.
author: jinzh-azureiot
ms.author: jinzh
ms.date: 09/10/2019
ms.topic: conceptual
ms.service: azure-maps
services: azure-maps
manager: ''
ms.custom: codepen
ms.openlocfilehash: b97371d1b63ad4abfe1635e426df1449ab5f3f14
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79534904"
---
# <a name="interact-with-the-map"></a>Взаимодействие с картой

В этой статье показано, как использовать [класс событий карты.](https://docs.microsoft.com/javascript/api/azure-maps-control/atlas.map?#events) Свойство выделить события на карте и на различных слоях карты. Вы также можете выделить события при взаимодействии с HTML маркером.

## <a name="interact-with-the-map"></a>Взаимодействие с картой

Играйте с картой ниже и смотрите соответствующие события мыши, выделенные справа. Вы можете щелкнуть **вкладку JS**, чтобы просмотреть и изменить код JavaScript. Вы также можете нажать на **Edit на CodePen,** чтобы изменить код на CodePen.

<br/>

<iframe height='600' scrolling='no' title='Взаимодействие с картой — события мыши' src='//codepen.io/azuremaps/embed/bLZEWd/?height=600&theme-id=0&default-tab=js,result&embed-version=2&editable=true' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>Просмотрите фрагмент кода <a href='https://codepen.io/azuremaps/pen/bLZEWd/'>Взаимодействие с картой — события мыши</a> от Azure Maps (<a href='https://codepen.io/azuremaps'>@azuremaps</a>) в <a href='https://codepen.io'>CodePen</a>.
</iframe>

## <a name="interact-with-map-layers"></a>Взаимодействие со слоями карты

В следующем коде выделяется событие, выпущенное при взаимодействии с уровнем символа. Слой символа, пузыря, линии и полигона поддерживает один и тот же набор событий. Тепловая карта и слои плитки не поддерживают ни одного из этих событий.

<br/>

<iframe height='600' scrolling='no' title='Взаимодействие с картой – события слоя' src='//codepen.io/azuremaps/embed/bQRRPE/?height=600&theme-id=0&default-tab=js,result&embed-version=2&editable=true' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>Просмотрите фрагмент кода <a href='https://codepen.io/azuremaps/pen/bQRRPE/'>Взаимодействие с картой – события слоя</a> службы "Карты Azure" (<a href='https://codepen.io/azuremaps'>@azuremaps</a>) в <a href='https://codepen.io'>CodePen</a>.
</iframe>

## <a name="interact-with-html-marker"></a>Взаимодействие с маркером HTML

Следующий код добавляет события карты Javascript в HTML-маркер. Он также выделяет название событий, которые запускаются при взаимодействии с маркером HTML.

<br/>

<iframe height='500' scrolling='no' title='Взаимодействие с картой – события маркера HTML' src='//codepen.io/azuremaps/embed/VVzKJY/?height=500&theme-id=0&default-tab=js,result&embed-version=2&editable=true' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>Просмотрите фрагмент кода <a href='https://codepen.io/azuremaps/pen/VVzKJY/'>Взаимодействие с картой – события маркера HTML</a> службы "Карты Azure" (<a href='https://codepen.io/azuremaps'>@azuremaps</a>) в <a href='https://codepen.io'>CodePen</a>.
</iframe>

В следующей таблице перечислены все поддерживаемые события класса карты.

| Событие               | Описание |
|---------------------|-------------|
| `boxzoomend`        | Выстрел, когда "коробка зум" взаимодействие заканчивается.|
| `boxzoomstart`      | Запускается при запуске взаимодействия "коробочный зум".|
| `click`             | Выстрел при нажатии и выпуске указываючего устройства в той же точке на карте.|
| `close`             | Выстрел, когда всплывающее окно закрыто вручную или программно.|
| `contextmenu`       | Выстрел при нажатии правой кнопки мыши.|
| `data`              | Увольняется при загрузке или изменении данных карты. |
| `dataadded`         | Выстрел, когда фигуры `DataSource`добавляются в .|
| `dataremoved`       | Выстрел, когда фигуры `DataSource`удаляются из .|
| `datasourceupdated` | Работается `DataSource` при обновлении объекта.|
| `dblclick`          | Выстрел, когда указывая устройство нажата дважды в одной и той же точке на карте.|
| `drag`              | Неоднократно выстрелил во время взаимодействия «перетащите в кастрюлю» на карте, всплывающем окне или HTML-маркере.|
| `dragend`           | Выстрел, когда взаимодействие "перетащите в кастрюлю" заканчивается на карте, всплывающем окне или HTML-маркере.|
| `dragstart`         | Запуск взаимодействия «перетащите в кастрюлю» на карте, всплывающем окне или HTML-маркере.|
| `error`             | Выполняется при возникновении ошибки.|
| `idle`              | <p>Запущенный после того, как последний кадр, отображаемый до того, как карта войдет в состояние "простоя":<ul><li>Никаких переходов камеры не ведется.</li><li>Все запрошенные в настоящее время плитки загружены.</li><li>Все увядание / переход анимации завершены.</li></ul></p>|
| `keydown`           | Выстрел, когда ключ прижат.|
| `keypress`          | Выстрел при нажатии клавиши, производящей типируемый символ (ключ ANSI).|
| `keyup`             | Выстрел, когда ключ выпущен.|
| `layeradded`        | Выстрел при добавлении слоя на карту.|
| `layerremoved`      | Выстрел при удалении слоя с карты.|
| `load`              | Запущен сразу после загрузки всех необходимых ресурсов и первого визуально полного рендеринга карты.|
| `mousedown`         | Работается при нажатии на карту указывающую устройство или при нажатии на элемент.|
| `mouseenter`        | Работается, когда указывая устройство первоначально перемещается по карте или элементу. |
| `mouseleave`        | Выстрел, когда указывая устройство перемещается из карты или элемента. |
| `mousemove`         | Работается при перемещении указываюческого устройства в пределах карты или элемента.|
| `mouseout`          | Запущенный, когда точечное устройство покидает холст карты, мы покидаем элемент.|
| `mouseover`         | Выстрел, когда указывая устройство перемещается по карте или элемента.|
| `mouseup`           | Работается, когда указывая устройство выпущено в пределах карты или когда на верхней части элемента.|
| `move`              | Неоднократно выстрелил во время анимированного перехода от одного представления к другому, в результате взаимодействия пользователя или методов.|
| `moveend`           | Запущенный сразу после того, как карта завершает переход от одного представления к другому, в результате взаимодействия пользователя или методов.|
| `movestart`         | Запущенный непосредственно перед тем, как карта начинает переход от одного представления к другому, в результате взаимодействия пользователя или методов.|
| `open`              | Выстрел, когда всплывающее окно открывается вручную или программно.|
| `pitch`             | Сражано всякий раз, когда шаг карты (наклон) изменяется в результате взаимодействия пользователя или методов.|
| `pitchend`          | Запущен сразу после того, как шаг карты (наклон) заканчивается изменение в результате взаимодействия с пользователем или методов.|
| `pitchstart`        | Высена всякий раз, когда шаг карты (наклон) начинается изменение в результате взаимодействия пользователя или методов.|
| `ready`             | Увольняется, когда минимальные необходимые ресурсы карты загружаются до того, как карта будет готова к программному взаимодействию.|
| `render`            | <p>Сражано всякий раз, когда карта обращается к экрану, в результате:<ul><li>Изменение положения карты, масштабирования, шага или подшипника.</li><li>Изменение стиля карты.</li><li>Изменение `DataSource` источника.</li><li>Загрузка векторной плитки, файла GeoJSON, глифа или спрайта.</li></ul></p>|
| `resize`            | Уволен сразу после того, как карта была уменьшена.|
| `rotate`            | Выстрелил несколько раз во время "перетащите, чтобы повернуть" взаимодействия.|
| `rotateend`         | Выстрел, когда "перетащите, чтобы повернуть" взаимодействие заканчивается.|
| `rotatestart`       | Выстрел, когда начинается взаимодействие "перетащите, чтобы повернуть".|
| `shapechanged`      | Работается при изменении свойства объекта формы.|
| `sourcedata`        | Выключается при загрузке или изменении одного из источников карты, в том числе при загрузке или изменении плитки, принадлежащей источнику. |
| `sourceadded`       | Выстрел, `DataSource` когда `VectorTileSource` или добавляется на карту.|
| `sourceremoved`     | Выстрел, `DataSource` когда `VectorTileSource` или удаляется с карты.|
| `styledata`         | Выстрел, когда стиль карты загружается или меняется.|
| `styleimagemissing` | Выстрел, когда слой пытается загрузить изображение с изображения спрайта, который не существует |
| `tokenacquired`     | При получении токена доступа AAD.|
| `touchcancel`       | Выполняется при возникновении события touchcancel на карте.|
| `touchend`          | Выполняется при возникновении события сенсорного на карте.|
| `touchmove`         | Выполняется при возникновении события touchmove на карте.|
| `touchstart`        | Выполняется при запуске сенсорного события на карте.|
| `wheel`             | Выполняется при возникновении события колеса мыши на карте.|
| `zoom`              | Неоднократно выстрелил во время анимированного перехода с одного уровня масштабирования на другой, в результате взаимодействия пользователя или методов.|
| `zoomend`           | Запущенный сразу после того, как карта завершает переход от одного уровня масштабирования к другому, в результате взаимодействия пользователя или методов.|
| `zoomstart`         | Запущенный непосредственно перед тем, как карта начинает переход с одного уровня масштабирования на другой, в результате взаимодействия пользователя или методов.|


## <a name="next-steps"></a>Дальнейшие действия

Полные примеры кода см. в следующих статьях:

> [!div class="nextstepaction"]
> [Использование модуля служб ы Azure Maps](./how-to-use-services-module.md)

> [!div class="nextstepaction"]
> [Примеры кода](https://docs.microsoft.com/samples/browse/?products=azure-maps)
