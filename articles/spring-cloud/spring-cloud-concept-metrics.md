---
title: Основные сведения о метриках для Azure Spring Cloud
description: Узнайте, как просмотреть метрики в облачности Azure Spring
author: bmitchell287
ms.service: spring-cloud
ms.topic: conceptual
ms.date: 12/06/2019
ms.author: brendm
ms.openlocfilehash: bb23afff2b4b449897d8e420934d038938d20205
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79256761"
---
# <a name="understand-metrics-for-azure-spring-cloud"></a>Понимание метрик для весеннего облака Azure

Исследователь Azure Metrics является компонентом портала Microsoft Azure, который позволяет строить диаграммы, визуально соотносить тенденции и исследовать всплески и провалы в метриках. Используйте обозреватель метрик для анализа работоспособности и использования ресурсов. 

В облачном облаке Azure Spring есть две точки зрения для метрик.
* Диаграммы на каждой странице обзора приложения
* Общие метрики страницы

 ![Диаграммы метрик](media/metrics/metrics-1.png)

Диаграммы в **обзоре** приложения обеспечивают быструю проверку состояния для каждого приложения. Общая страница **метрик** содержит все метрики, доступные для справки. Вы можете создать свои собственные диаграммы на общей странице метрик и закрепить их в панели мониторинга.

## <a name="application-overview-page"></a>Страница обзора приложения
Выберите приложение в **App Management,** чтобы найти диаграммы на странице обзора.  

 ![Управление метриками приложений](media/metrics/metrics-2.png)

На каждой странице **Обзор приложения** представлена диаграмма метрик, позволяющая выполнять быструю проверку состояния приложения.  

 ![Обзор метрик приложений](media/metrics/metrics-3.png)

Облако Azure Spring Cloud предоставляет эти пять диаграмм с метриками, которые обновляются каждую минуту:

* **Ошибки http Server**: Количество ошибок для запросов HTTP в вашем приложении
* **Данные в**: Байты, полученные вашим приложением
* **Выход данных:** Байты, отправленные вашим приложением
* **Запросы**: Запросы, полученные вашим приложением
* **Среднее время отклика**: Среднее время отклика от вашего приложения

Для диаграммы можно выбрать временной диапазон от одного часа до семи дней.

## <a name="common-metrics-page"></a>Общие метрики страницы

**Метрика** в левом навигационном панели ссылки на общую страницу метрик.

Во-первых, выберите метрики для просмотра:

![Выберите метрическое представление](media/metrics/metrics-4.png)

Подробную информацию обо всех вариантах метрик можно найти в [разделе](#user-metrics-options) ниже.

Далее выберите тип агрегации для каждой метрики:

![Метрическая агрегация](media/metrics/metrics-5.png)

Тип агрегации показывает, как агрегировать метрические точки в диаграмме по времени. Каждую минуту имеется одна необработанная метрическая точка, и тип предварительной агрегации в течение нескольких минут предварительно определяется по типу метрик.
* Сумма: Сумма все значения в качестве целевого вывода.
* Среднее значение: Используйте среднее значение в периоде в качестве целевого вывода.
* Макс/Мин: Используйте значение Max/Min в периоде в качестве целевого вывода.

Диапазон времени, чтобы показать также могут быть изменены. Диапазон времени может быть выбран от последних 30 минут до последних 30 дней, или пользовательский диапазон времени.

![Метрическая модификация](media/metrics/metrics-6.png)

Представление по умолчанию включает в себя все метрики приложения облачного сервиса Azure Spring вместе. Метрика одного приложения или экземпляра может быть отфильтрована на дисплее.  Нажмите **Кнопка Добавить фильтр,** установить свойство **для приложения**, и выбрать целевое приложение, которое вы хотите контролировать в **текстовом** поле Значения. 

Можно использовать два вида фильтров (свойства):
* Приложение: фильтр по имени приложения
* Пример: фильтр по экземпляру приложения

![Метрические фильтры](media/metrics/metrics-7.png)

Вы также можете использовать опцию **расщепления Apply,** которая нарисует несколько строк для одного приложения:

![Метрическое разделение](media/metrics/metrics-8.png)

>[!TIP]
> Вы можете создать собственные диаграммы на странице метрики и закрепить их на **Панели мониторинга**. Начните с названия диаграммы.  Затем выберите **Pin to dashboard in the top right corner** (Закрепить на панели в верхнем правом углу). Теперь можно проверить приложение на **Панели мониторинга** на портале.

## <a name="user-metrics-options"></a>Параметры метрик пользователя

В следующих таблицах отображается доступная метрики и детали.

### <a name="error"></a>Error
>[!div class="mx-tdCol2BreakAll"]
>| name | Весенний актуатор метрическое имя | Единицы | Сведения |
>|----|----|----|------------|
>| Глобальная ошибка Tomcat | tomcat.global.error | Count | Количество ошибок, допущенных в обработанных запросах |

### <a name="performance"></a>Производительность
>[!div class="mx-tdCol2BreakAll"]
>| name | Весенний актуатор метрическое имя | Единицы | Сведения |
>|----|----|----|------------|
>|Процент использования процессора системы | system.cpu.usage | Процент | Недавнее использование процессора для всей системы. Это значение является двойным в интервале 0,0,1,0. Значение 0,0 означает, что все процессоры простаивали в течение последнего периода наблюдаемого периода времени, в то время как значение 1,0 означает, что все процессоры активно работали 100% времени в течение последнего периода наблюдается.|
>| Процент использования процессора app | Процент использования процессора app | Процент | Недавнее использование процессора для процесса Java Virtual Machine. Это значение является двойным в интервале 0,0,1,0. Значение 0.0 означает, что ни один из процессоров не работал потоки из процесса JVM в течение последнего периода наблюдаемого периода времени, в то время как значение 1.0 означает, что все процессоры активно работали потоки от JVM 100% времени в течение последнего периода наблюдается. Темы из JVM включают в себя потоки приложений, а также внутренние потоки JVM.|
>| Назначена память приложения | jvm.memory.committed | Байты | Представляет объем памяти, который гарантированно будет доступен для использования JVM. JVM может выпустить память в систему и совершенные может быть меньше, чем init. совершенные всегда будут больше или равны использованы. |
>| Используется память приложения | jvm.memory. | Байты | Представляет объем памяти, используемой в настоящее время в байтах. |
>| App Memory Max | jvm.memory.max | Байты | Представляет собой максимальное количество памяти, которое может быть использовано для управления памятью. Количество использованной и зафиксированной памяти всегда будет меньше или равно максимуму, если определен определяемый максимум. Выделение памяти может выйти из строя, если оно попытается увеличить используемую память, такую, что используется > зафиксировано, даже если используется <макс все равно будет верным (например, когда система с низким уровнем виртуальной памяти). |
>| Макс Доступный размер данных старого поколения | jvm.gc.max.data.size | Байты | Пиковое использование памяти пула памяти старого поколения с момента запуска виртуальной машины Java. |
>| Размер данных старого поколения | jvm.gc.live.data.size | Байты | Размер пула памяти старого поколения после полного GC. |
>| Содействие старому размеру данных поколения | jvm.gc.memory.promoted | Байты | Количество положительных увеличений размера пула памяти старого поколения до GC после GC. |
>| Содействие молодому поколению размер данных | jvm.gc.memory.allocated | Байты | Приращено для увеличения размера пула памяти молодого поколения после одного GC до следующего. |
>| GC Пауза граф | jvm.gc.pause (общий счет) | Count | Общее количество GC после этого JMV началось, в том числе молодых и старых GC. |
>| GC Пауза Общее время | jvm.gc.pause (общее время) | Миллисекунды | Общее время GC, потребляемые после этого JMV начал, в том числе молодых и старых GC. |

### <a name="request"></a>Запрос
>[!div class="mx-tdCol2BreakAll"]
>| name | Весенний актуатор метрическое имя | Единицы | Сведения |
>|----|----|----|------------|
>| Tomcat Всего отправлены байты | tomcat.global.sent | Байты | Количество данных Tomcat веб-сервер отправлено |
>| Томктат Всего получил байты | tomcat.global.received | Байты | Количество полученных данных веб-сервера Tomcat |
>| Tomcat Запрос Общее время | tomcat.global.request (общее время) | Миллисекунды | Общее время веб-сервера Tomcat для обработки запросов |
>| Tomcat Запрос Всего Граф | tomcat.global.request (общий подсчет) | Count | Общее количество запросов на обработку веб-серверов Tomcat |
>| Tomcat Запрос Макс Время | tomcat.global.request.max | Миллисекунды | Максимальное время веб-сервера Tomcat для обработки запроса |

### <a name="session"></a>Сеанс
>[!div class="mx-tdCol2BreakAll"]
>| name | Весенний актуатор метрическое имя | Единицы | Сведения |
>|----|----|----|------------|
>| Томктат Сессия Макс Активный граф | tomcat.sessions.active.max | Count | Максимальное количество сеансов, которые были активны в одно и то же время |
>| Томктат Сессия Макс живое время | tomcat.sessions.alive.max | Миллисекунды | Самое длинное время (в секундах), что истек сеанс был жив |
>| Томктат Сессия Создан граф | tomcat.sessions.created | Count | Количество созданных сеансов |
>| Tomcat Сессия истек граф | tomcat.sessions.expired | Count | Количество сеансов, срок действия которых истек |
>| Томктат Сессия Отклонено граф | tomcat.sessions.rejected | Count | Количество сеансов, которые не были созданы из-за максимального количества доступных сеансов. |

## <a name="see-also"></a>См. также
* [Начало работы с обозревателем метрик Azure](https://docs.microsoft.com/azure/azure-monitor/platform/metrics-getting-started)

* [Анализ журналов и метрик с настройками диагностики](https://docs.microsoft.com/azure/spring-cloud/diagnostic-services)

## <a name="next-steps"></a>Дальнейшие действия
* [Учебник: Мониторинг ресурсов Spring Cloud с помощью оповещений и групп действий](https://docs.microsoft.com/azure/spring-cloud/spring-cloud-tutorial-alerts-action-groups)

* [Квоты и планы обслуживания для весеннего облака Azure](https://docs.microsoft.com/azure/spring-cloud/spring-cloud-quotas)

