---
title: Основные сведения о метриках для Azure Spring Cloud
description: Узнайте, как просматривать метрики в Azure с пружинным облаком
author: bmitchell287
ms.service: spring-cloud
ms.topic: conceptual
ms.date: 12/06/2019
ms.author: brendm
ms.openlocfilehash: ed8a46683d79211559b4af7972c6d1bb784e1f02
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "84434173"
---
# <a name="understand-metrics-for-azure-spring-cloud"></a>Общие сведения о метриках для Azure Веснного облака

Обозреватель метрик Azure — это компонент портал Microsoft Azure, который позволяет строить диаграммы, визуально сопоставлять тенденции, а также изучать пики и DIP в метриках. Используйте обозреватель метрик для анализа работоспособности и использования ресурсов. 

В Azure Веснного облака есть две точки зрения для метрик.
* Диаграммы на каждой странице обзора приложений
* Страница «Общие метрики»

 ![Диаграммы метрик](media/metrics/metrics-1.png)

В разделе **Общие сведения о** приложении представлены краткие проверки состояния для каждого приложения. На странице Общие **метрики** содержатся все метрики, доступные для справки. Вы можете создавать собственные диаграммы на странице Общие метрики и закреплять их на панели мониторинга.

## <a name="application-overview-page"></a>Страница "Обзор приложения"
Выберите приложение в разделе " **приложения** " для поиска диаграмм на странице "Обзор".  

 ![Управление метриками приложений](media/metrics/metrics-2.png)

На каждой странице **Обзор приложения** представлена диаграмма метрик, позволяющая выполнять быструю проверку состояния приложения.  

 ![Общие сведения о метриках приложений](media/metrics/metrics-3.png)

Azure Веснного облака предоставляет пять диаграмм с метриками, которые обновляются каждую минуту:

* **Ошибки HTTP-сервера**: число ошибок для HTTP-запросов к приложению
* **Данные в**: байтов, полученных приложением
* **Исходящие данные**: отправленные приложением байты
* **Запросы**: запросы, полученные приложением
* **Среднее время отклика**: среднее время отклика приложения

Для диаграммы можно выбрать диапазон времени от одного часа до семи дней.

## <a name="common-metrics-page"></a>Страница «Общие метрики»

**Метрики** в левой области навигации указывают на страницу Общие метрики.

Сначала выберите метрики для просмотра:

![Выбор представления метрики](media/metrics/metrics-4.png)

Сведения обо всех параметрах метрик можно найти в [разделе](#user-metrics-options) ниже.

Затем выберите тип агрегирования для каждой метрики:

![Агрегирование метрик](media/metrics/metrics-5.png)

Тип статистической обработки указывает, как объединять точки метрик в диаграмме по времени. Каждая минута имеет одну необработанную точку метрики, а тип предварительной агрегирования в пределах минуты предварительно определяется типом метрик.
* Sum: суммировать все значения в качестве целевых выходных данных.
* Среднее: используйте среднее значение периода в качестве целевого выходных данных.
* Макс./мин. Использование значения max/min в периоде в качестве целевого выходных данных.

Диапазон времени можно также изменить с последних 30 минут на последние 30 дней или в настраиваемый диапазон времени.

![Изменение метрики](media/metrics/metrics-6.png)

Представление по умолчанию включает все метрики аппликатион'с в облачной службе Azure весны. Метрики одного приложения или экземпляра можно фильтровать на экране.  Нажмите кнопку **Добавить фильтр**, задайте для свойства значение **приложение**и выберите целевое приложение, которое необходимо отслеживать, в текстовом поле **значения** . 

Можно использовать два вида фильтров (свойств):
* Приложение: фильтровать по имени приложения
* Экземпляр: фильтровать по экземпляру приложения

![Фильтры метрик](media/metrics/metrics-7.png)

Можно также использовать параметр **Применить разделение** , который будет рисовать несколько строк для одного приложения:

![Разделение метрик](media/metrics/metrics-8.png)

>[!TIP]
> Вы можете создавать собственные диаграммы на странице метрики и закреплять их на **панели мониторинга**. Начните с названия диаграммы.  Затем выберите **Pin to dashboard in the top right corner** (Закрепить на панели в верхнем правом углу). Теперь можно проверить приложение на **Панели мониторинга** на портале.

## <a name="user-metrics-options"></a>Параметры метрик пользователя

В следующих таблицах показаны доступные метрики и сведения.

### <a name="error"></a>Ошибка
>[!div class="mx-tdCol2BreakAll"]
>| name | Имя метрики пружинного выключателя | Единицы | Сведения |
>|----|----|----|------------|
>| Глобальная ошибка Tomcat (не рекомендуется)<br><br>(будет удалено после 1 июля 2020)  | Tomcat. Global. Error | Count | Количество ошибок, произошедших в обработанных запросах |
>| Tomcat. Global. Error | Tomcat. Global. Error | Count | Количество ошибок, произошедших в обработанных запросах |

### <a name="performance"></a>Производительность
>[!div class="mx-tdCol2BreakAll"]
>| name | Имя метрики пружинного выключателя | Единицы | Сведения |
>|----|----|----|------------|
>| Процент использования ЦП системы (не рекомендуется)<br><br>(будет удалено после 1 июля 2020) | System. ЦП. Использование | Процент | Последняя загрузка ЦП для всей системы. Это значение равно Double в интервале [0,0, 1,0]. Значение 0,0 означает, что все ЦП были неактивны в течение последнего наблюдаемого периода времени, а значение 1,0 означает, что все ЦП были активно запущены 100% времени в течение последнего наблюдаемого периода.|
>| System. ЦП. Использование | System. ЦП. Использование | Процент | Последняя загрузка ЦП для всей системы. Это значение равно Double в интервале [0,0, 1,0]. Значение 0,0 означает, что все ЦП были неактивны в течение последнего наблюдаемого периода времени, а значение 1,0 означает, что все ЦП были активно запущены 100% времени в течение последнего наблюдаемого периода.|
>| Процент использования ЦП приложением (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Процент использования ЦП приложением | Процент | Последняя загрузка ЦП для виртуальная машина Java процесса. Это значение равно Double в интервале [0,0, 1,0]. Значение 0,0 означает, что ни один из процессоров не выполнял поток из процесса ВИРТУАЛЬНОЙ машины Java в течение последнего наблюдаемого периода времени, а значение 1,0 означает, что все ЦП активно работали потоки из ВИРТУАЛЬНОЙ машины Java 100% времени в течение последнего наблюдаемого периода. Потоки из ВИРТУАЛЬНОЙ машины Java включают в себя потоки приложений, а также внутренние потоки ВИРТУАЛЬНОЙ машины Java.|
>| обработка. ЦП. Использование | Процент использования ЦП приложением | Процент | Последняя загрузка ЦП для виртуальная машина Java процесса. Это значение равно Double в интервале [0,0, 1,0]. Значение 0,0 означает, что ни один из процессоров не выполнял поток из процесса ВИРТУАЛЬНОЙ машины Java в течение последнего наблюдаемого периода времени, а значение 1,0 означает, что все ЦП активно работали потоки из ВИРТУАЛЬНОЙ машины Java 100% времени в течение последнего наблюдаемого периода. Потоки из ВИРТУАЛЬНОЙ машины Java включают в себя потоки приложений, а также внутренние потоки ВИРТУАЛЬНОЙ машины Java.|
>| Назначенная память приложения (не рекомендуется)<br><br>(будет удалено после 1 июля 2020) | виртуальной машины Java. Memory. COMMITTED | Байты | Представляет объем памяти, который гарантированно доступен для использования ВИРТУАЛЬНОЙ машины Java. ВИРТУАЛЬНОЙ машины Java может освободить память для системы, а выделенная память может быть меньше, чем начальная память. Выделенная память всегда будет больше или равна используемой памяти. |
>| виртуальной машины Java. Memory. COMMITTED | виртуальной машины Java. Memory. COMMITTED | Байты | Представляет объем памяти, который гарантированно доступен для использования ВИРТУАЛЬНОЙ машины Java. ВИРТУАЛЬНОЙ машины Java может освободить память для системы, а фиксация может быть меньше, чем инициализация. зафиксированное значение всегда будет больше или равно используемому. |
>| Используемая память приложения (не рекомендуется)<br><br>(будет удалено после 1 июля 2020) | виртуальной машины Java. Memory. used | Байты | Представляет объем памяти, используемый в данный момент в байтах. |
>| виртуальной машины Java. Memory. used | виртуальной машины Java. Memory. used | Байты | Представляет объем памяти, используемый в данный момент в байтах. |
>| Максимальная память приложения (не рекомендуется)<br><br>(будет удалено после 1 июля 2020) | виртуальной машины Java. Memory. Max | Байты | Представляет максимальный объем памяти, который может использоваться для управления памятью. Объем используемой и зафиксированной памяти всегда будет меньше или равен Max, если определено максимальное значение. Выделение памяти может завершиться ошибкой, если она попытается увеличить используемую память, например, которая использовалась > зафиксирована, даже если используется <= Max все равно будет иметь значение true (например, если в системе недостаточно виртуальной памяти). |
>| виртуальной машины Java. Memory. Max | виртуальной машины Java. Memory. Max | Байты | Представляет максимальный объем памяти, который может использоваться для управления памятью. Объем используемой и зафиксированной памяти всегда будет меньше или равен Max, если определено максимальное значение. Выделение памяти может завершиться ошибкой, если она попытается увеличить используемую память, например, которая использовалась > зафиксирована, даже если используется <= Max все равно будет иметь значение true (например, если в системе недостаточно виртуальной памяти). |
>| Максимальный доступный размер данных старого поколения (не рекомендуется)<br><br>(будет удалено после 1 июля 2020) | виртуальной машины Java. GC. max. Data. size | Байты | Пиковое использование памяти пула памяти старого поколения с момента запуска виртуальной машины Java. |
>| виртуальной машины Java. GC. max. Data. size | виртуальной машины Java. GC. max. Data. size | Байты | Пиковое использование памяти пула памяти старого поколения с момента запуска виртуальной машины Java. |
>| Старый размер данных поколения (не рекомендуется)<br><br>(будет удалено после 1 июля 2020) | виртуальной машины Java. GC. Live. Data. size | Байты | Размер пула памяти старого поколения после полного GC. |
>| виртуальной машины Java. GC. Live. Data. size | виртуальной машины Java. GC. Live. Data. size | Байты | Размер пула памяти старого поколения после полного GC. |
>| Старый размер данных поколения (не рекомендуется)<br><br>(будет удалено после 1 июля 2020) | виртуальной машины Java. GC. Memory. выдвинуто | Байты | Число положительных увеличений размера пула памяти старого поколения до сборки мусора в после сборки мусора. |
>| виртуальной машины Java. GC. Memory. выдвинуто | виртуальной машины Java. GC. Memory. выдвинуто | Байты | Число положительных увеличений размера пула памяти старого поколения до сборки мусора в после сборки мусора. |
>| Превращение в размер данных создания Титов. (не рекомендуется)<br><br>(будет удалено после 1 июля 2020) | виртуальной машины Java. GC. Memory. распределяемый | Байты | Увеличивается при увеличении размера пула памяти создания Титов после одного сборщика мусора до следующего. |
>| виртуальной машины Java. GC. Memory. распределяемый | виртуальной машины Java. GC. Memory. распределяемый | Байты | Увеличивается при увеличении размера пула памяти создания Титов после одного сборщика мусора до следующего. |
>| Счетчик приостановки GC (не рекомендуется)<br><br>(будет удалено после 1 июля 2020) | виртуальной машины Java. GC. Pause (Итого — число) | Count | Общее число GC после запуска этого ЖМВ, включая Титов и Old GC. |
>| виртуальной машины Java. GC. Pause. Total. Count | виртуальной машины Java. GC. Pause (Итого — число) | Count | Общее число GC после запуска этого ЖМВ, включая Титов и Old GC. |
>| Общее время приостановки сборки мусора (не рекомендуется)<br><br>(будет удалено после 1 июля 2020) | виртуальной машины Java. GC. Pause (всего-время) | Миллисекунды | Общее время, затраченное на сборку мусора после запуска ЖМВ, включая Титов и Old GC. |
>| виртуальной машины Java. GC. Pause. Общее. время | виртуальной машины Java. GC. Pause (всего-время) | Миллисекунды | Общее время, затраченное на сборку мусора после запуска ЖМВ, включая Титов и Old GC. |

### <a name="request"></a>Запрос
>[!div class="mx-tdCol2BreakAll"]
>| name | Имя метрики пружинного выключателя | Единицы | Сведения |
>|----|----|----|------------|
>| Tomcat всего отправленных байтов (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Tomcat. Global. Sent | Байты | Объем отправленного веб-сервера Tomcat данных |
>| Tomcat. Global. Sent | Tomcat. Global. Sent | Байты | Объем отправленного веб-сервера Tomcat данных |
>| Общее число полученных байт Tomcat (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Tomcat. Global. Received. | Байты | Объем полученного веб-сервера Tomcat данных |
>| Tomcat. Global. Received. | Tomcat. Global. Received. | Байты | Объем полученного веб-сервера Tomcat данных |
>| Общее время запроса Tomcat (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Tomcat. Global. Request (всего-Time) | Миллисекунды | Общее время Tomcat веб-сервера для обработки запросов |
>| Общее число запросов Tomcat (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Tomcat. Global. Request (всего — Count) | Count | Общее число обработанных запросов веб-сервера Tomcat |
>| Tomcat. Global. Request. Total. Count | Tomcat. Global. Request (всего — Count) | Count | Общее число обработанных запросов веб-сервера Tomcat |
>| Максимальное время запроса Tomcat (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Tomcat. Global. Request. Max | Миллисекунды | Максимальное время, в течение которого веб-сервер Tomcat обработать запрос |
>| Tomcat. Global. Request. Max | Tomcat. Global. Request. Max | Миллисекунды | Максимальное время, в течение которого веб-сервер Tomcat обработать запрос |

### <a name="session"></a>Сеанс
>[!div class="mx-tdCol2BreakAll"]
>| name | Имя метрики пружинного выключателя | Единицы | Сведения |
>|----|----|----|------------|
>| Максимальное число активных сеансов Tomcat (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Tomcat. Sessions. Active. Max | Count | Максимальное количество сеансов, которые были активными одновременно |
>| Tomcat. Sessions. Active. Max | Tomcat. Sessions. Active. Max | Count | Максимальное количество сеансов, которые были активными одновременно |
>| Максимальное время сеанса Tomcat (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Tomcat. Sessions. Alive. Max | Миллисекунды | Наибольшее время (в секундах) истечения срока действия сеанса |
>| Tomcat. Sessions. Alive. Max | Tomcat. Sessions. Alive. Max | Миллисекунды | Наибольшее время (в секундах) истечения срока действия сеанса |
>| Число созданных сеансов Tomcat (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Tomcat. Sessions. Created | Count | Число созданных сеансов |
>| Tomcat. Sessions. Created | Tomcat. Sessions. Created | Count | Число созданных сеансов |
>| Счетчик с истекшим сроком действия сеанса Tomcat (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Tomcat. Sessions. Expires | Count | Число просроченных сеансов |
>| Tomcat. Sessions. Expires | Tomcat. Sessions. Expires | Count | Число просроченных сеансов |
>| Число отклоненных сеансов Tomcat (не рекомендуется)<br><br>(удалено после 1 июля 2020) | Tomcat. Sessions. отклонено | Count | Число сеансов, которые не были созданы, так как достигнуто максимальное число активных сеансов. |
>| Tomcat. Sessions. отклонено | Tomcat. Sessions. отклонено | Count | Число сеансов, которые не были созданы, так как достигнуто максимальное число активных сеансов. |
>| Tomcat. Sessions. Active. Current | Tomcat. Sessions. Active. Current | Count | Число активных сеансов Tomcat |

## <a name="see-also"></a>См. также
* [Начало работы с обозревателем метрик Azure](https://docs.microsoft.com/azure/azure-monitor/platform/metrics-getting-started)

* [Анализ журналов и метрик с помощью параметров диагностики](https://docs.microsoft.com/azure/spring-cloud/diagnostic-services)

## <a name="next-steps"></a>Дальнейшие шаги
* [Руководство. Мониторинг ресурсов, использующих пружинные облака, с помощью оповещений и групп действий](https://docs.microsoft.com/azure/spring-cloud/spring-cloud-tutorial-alerts-action-groups)

* [Квоты и планы обслуживания для Azure Веснного облака](https://docs.microsoft.com/azure/spring-cloud/spring-cloud-quotas)

