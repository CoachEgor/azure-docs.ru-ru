---
title: Основные сведения о метриках для Azure Spring Cloud
description: Узнайте, как просматривать метрики в Azure с пружинным облаком
author: bmitchell287
ms.service: spring-cloud
ms.topic: conceptual
ms.date: 12/06/2019
ms.author: brendm
ms.openlocfilehash: e6517f1a7374b3960c3b749e63a90fe9eb21e7b0
ms.sourcegitcommit: 5397b08426da7f05d8aa2e5f465b71b97a75550b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/19/2020
ms.locfileid: "76277945"
---
# <a name="understand-metrics-for-azure-spring-cloud"></a>Общие сведения о метриках для Azure Веснного облака

Обозреватель метрик Azure — это компонент портал Microsoft Azure, который позволяет строить диаграммы, визуально сопоставлять тенденции, а также изучать пики и DIP в метриках. Используйте обозреватель метрик для анализа работоспособности и использования ресурсов. 

В Azure Веснного облака есть две точки просмотра метрик.
* Диаграммы на каждой странице обзора приложений
* Страница «Общие метрики»

 ![Диаграммы метрик](media/metrics/metrics-1.png)

В разделе **Общие сведения о** приложении представлены краткие проверки состояния для каждого приложения. На странице Общие **метрики** содержатся все метрики, доступные для справки. Вы можете создавать собственные диаграммы на странице Общие метрики и закреплять их на панели мониторинга.

## <a name="application-overview-page"></a>Страница "Обзор приложения"
Выберите приложение в разделе " **Управление приложениями** ", чтобы найти диаграммы на странице "Обзор".  

 ![Управление метриками приложений](media/metrics/metrics-2.png)

На каждой странице **Обзор приложения** представлена диаграмма метрик, позволяющая выполнять быструю проверку состояния приложения.  

 ![Общие сведения о метриках приложений](media/metrics/metrics-3.png)

Azure Веснного облака предоставляет пять диаграмм с метриками, которые обновляются каждую минуту:

* **Ошибки HTTP-сервера**: число ошибок для HTTP-запросов к приложению
* **Данные в**: байтов, полученных приложением
* **Исходящие данные**: отправленные приложением байты
* **Запросы**: запросы, полученные приложением
* **Среднее время отклика**: среднее время отклика приложения

Для диаграммы можно выбрать диапазон времени от одного часа до семи дней.

## <a name="common-metrics-page"></a>Страница «Общие метрики»

**Метрики** в левой области навигации указывают на страницу Общие метрики.

Сначала выберите метрики для просмотра:

![Выбор представления метрики](media/metrics/metrics-4.png)

Затем выберите тип агрегирования для каждой метрики:

![Агрегирование метрик](media/metrics/metrics-5.png)

Тип статистической обработки указывает, как агрегировать время. Каждая минута имеет одну точку метрики.
* Total: суммировать все метрики в качестве целевых выходных данных.
* Среднее: используйте среднее значение периода в качестве целевого выходных данных.
* Макс./мин. Использование значения max/min в периоде в качестве целевого выходных данных.

Диапазон времени для отображения можно также изменить.  Диапазон времени можно выбрать за последние 30 минут до последних 30 дней или в настраиваемый диапазон времени.

![Изменение метрики](media/metrics/metrics-6.png)

Представление по умолчанию включает все метрики аппликатион'с в облачной службе Azure весны. Метрики одного приложения или экземпляра можно фильтровать на экране.  Нажмите кнопку **Добавить фильтр**, задайте для свойства значение **приложение**и выберите целевое приложение, которое необходимо отслеживать, в текстовом поле **значения** . 

Можно использовать два вида фильтров (свойств):
* Приложение: фильтровать по имени приложения
* Экземпляр: фильтровать по экземпляру приложения

![Фильтры метрик](media/metrics/metrics-7.png)

Можно также использовать параметр **Применить разделение** , который будет рисовать несколько строк для одного приложения:

![Разделение метрик](media/metrics/metrics-8.png)

>[!TIP]
> Вы можете создать собственные диаграммы на странице метрики и закрепить их на **Панели мониторинга**. Начните с названия диаграммы.  Затем выберите **Pin to dashboard in the top right corner** (Закрепить на панели в верхнем правом углу). Теперь можно проверить приложение на **Панели мониторинга** на портале.

## <a name="user-portal-metrics-options"></a>Параметры метрик пользовательского портала

В следующей таблице показаны доступные метрики и подробные сведения.
>[!div class="mx-tdBreakAll"]
>| Имя | Отображаемое имя | Имя метрики пружинного выключателя | Единица | Сведения |
>|----|----|----|----|------------|
>| системкпуусажеперцентаже | Процент использования процессора системой | System. ЦП. Использование | Процент | Последняя загрузка ЦП для всей системы. Это значение равно Double в интервале [0,0, 1,0]. Значение 0,0 означает, что все ЦП были неактивны в течение последнего наблюдаемого периода времени, а значение 1,0 означает, что все ЦП были активно запущены 100% времени в течение последнего наблюдаемого периода. Все значения между 0,0 и 1,0 возможны в зависимости от действий, выполняемых в системе. Если в системе недоступна Последняя загрузка ЦП, метод возвращает отрицательное значение. |
>| аппкпуусажеперцентаже | Процент использования ЦП приложением | Процент использования ЦП приложением | Процент | Последняя загрузка ЦП для виртуальная машина Java процесса. Это значение равно Double в интервале [0,0, 1,0]. Значение 0,0 означает, что ни один из процессоров не выполнял поток из процесса ВИРТУАЛЬНОЙ машины Java в течение последнего наблюдаемого периода времени, а значение 1,0 означает, что все ЦП активно работали потоки из ВИРТУАЛЬНОЙ машины Java 100% времени в течение последнего наблюдаемого периода. Потоки из ВИРТУАЛЬНОЙ машины Java включают в себя потоки приложений, а также внутренние потоки ВИРТУАЛЬНОЙ машины Java. Все значения между 0,0 и 1,0 возможны в зависимости от действий, выполняемых в процессе ВИРТУАЛЬНОЙ машины Java и всей системы. Если виртуальная машина Java недавняя загрузка ЦП недоступна, метод возвращает отрицательное значение. |
>| аппмеморикоммиттед | Назначенная память приложения | виртуальной машины Java. Memory. COMMITTED | Байты | Представляет объем памяти (в байтах), который гарантированно доступен для использования виртуальной машиной Java. Объем зафиксированной памяти со временем может меняться (увеличение или уменьшение). Виртуальная машина Java может освободить память для системы, а фиксация может быть меньше, чем инициализация. зафиксированное значение всегда будет больше или равно используемому. |
>| аппмеморюсед | Используемая память приложения | виртуальной машины Java. Memory. used | Байты | Представляет объем памяти, используемый в данный момент в байтах. |
>| аппмеморимакс | Максимальная память приложения | виртуальной машины Java. Memory. Max | Байты | Представляет максимальный объем памяти (в байтах), который может использоваться для управления памятью. Его значение может быть неопределенным. Максимальный объем памяти со временем может меняться, если он определен. Объем используемой и зафиксированной памяти всегда будет меньше или равен Max, если определено максимальное значение. Выделение памяти может завершиться ошибкой, если она попытается увеличить используемую память, например, которая использовалась > зафиксирована, даже если используется < = Max все равно будет иметь значение true (например, если в системе недостаточно виртуальной памяти). |
>| максолдженмеморипулбитес | Максимальный доступный размер данных старого поколения | виртуальной машины Java. GC. max. Data. size | Байты | Пиковое использование памяти пула памяти старого поколения с момента запуска виртуальной машины Java. |
>| олдженмеморипулбитес | Размер данных старого поколения | виртуальной машины Java. GC. Live. Data. size | Байты | Размер пула памяти старого поколения после полного GC. |
>| олдженпромотедбитес | Повысить до старого размера данных поколения | виртуальной машины Java. GC. Memory. выдвинуто | Байты | Число положительных увеличений размера пула памяти старого поколения до сборки мусора в после сборки мусора. |
>| йоунгженпромотедбитес | Превращение в размер данных создания Титов. | виртуальной машины Java. GC. Memory. распределяемый | Байты | Увеличивается при увеличении размера пула памяти создания Титов после одного сборщика мусора до следующего. |
>| гкпаусетоталкаунт | Счетчик приостановки GC | виртуальной машины Java. GC. Pause (Итого — число) | Количество | Общее число GC после запуска этого ЖМВ, включая Титов и Old GC. |
>| гкпаусетоталтиме | Общее время приостановки сборки мусора | виртуальной машины Java. GC. Pause (всего-время) | Миллисекунды | Общее время, затраченное на сборку мусора после запуска ЖМВ, включая Титов и Old GC. |
>| томкатсентбитес | Всего отправленных байтов Tomcat | Tomcat. Global. Sent | Байты | Объем отправленного веб-сервера Tomcat данных (в байтах) |
>| томкатрецеиведбитес | Всего получено байт в Tomcat | Tomcat. Global. Received. | Байты | Объем полученного веб-сервера Tomcat данных, в байтах |
>| томкатрекуесттоталтиме | Общее время запроса Tomcat | Tomcat. Global. Request (всего-Time) | Миллисекунды | Общее время Tomcat веб-сервера для обработки запросов. |
>| томкатрекуесттоталкаунт | Общее число запросов Tomcat | Tomcat. Global. Request (всего — Count) | Количество | Общее число обработанных запросов веб-сервера Tomcat |
>| томкатрекуестмакстиме | Максимальное время запроса Tomcat | Tomcat. Global. Request. Max | Миллисекунды | Максимальное время, в течение которого веб-сервер Tomcat обработать запрос |
>| томкатерроркаунт | Глобальная ошибка Tomcat | Tomcat. Global. Error | Количество | Число ошибок, возникших при обработке запросов |
>| томкатсессионактивемакскаунт | Максимальное число активных сеансов Tomcat | Tomcat. Sessions. Active. Max | Количество | Максимальное количество сеансов, которые были активными одновременно |
>| томкатсессионаливемакстиме | Максимальное время активности сеанса Tomcat | Tomcat. Sessions. Alive. Max | Миллисекунды | Наибольшее время (в секундах), в течение которого истек срок действия сеанса |
>| томкатсессионкреатедкаунт | Число созданных сеансов Tomcat | Tomcat. Sessions. Created | Количество | Число созданных сеансов |
>| томкатсессионекспиредкаунт | Счетчик с истекшим сроком действия сеанса Tomcat | Tomcat. Sessions. Expires | Количество | Число просроченных сеансов |
>| томкатсессионрежектедкаунт | Число отклоненных сеансов Tomcat | Tomcat. Sessions. отклонено | Количество | Число сеансов, которые не были созданы, так как достигнуто максимальное число активных сеансов. |

## <a name="see-also"></a>См. также
* [Начало работы с обозревателем метрик Azure](https://docs.microsoft.com/azure/azure-monitor/platform/metrics-getting-started)

* [Анализ журналов и метрик с помощью параметров диагностики](https://docs.microsoft.com/azure/spring-cloud/diagnostic-services)

## <a name="next-steps"></a>Дальнейшие действия
* [Руководство. Мониторинг ресурсов, использующих пружинные облака, с помощью оповещений и групп действий](https://docs.microsoft.com/azure/spring-cloud/spring-cloud-tutorial-alerts-action-groups)

* [Квоты и планы обслуживания для Azure Веснного облака](https://docs.microsoft.com/azure/spring-cloud/spring-cloud-quotas)

