---
title: Восстановление геоаварий Весенние облако Azure (англ.) Документы Майкрософт
description: Узнайте, как защитить приложение Spring Cloud от региональных отключений
author: bmitchell287
ms.service: spring-cloud
ms.topic: conceptual
ms.date: 10/24/2019
ms.author: brendm
ms.openlocfilehash: 4961e5a63e5bc1933cf19b1f291b521d89cbda0e
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "76279137"
---
# <a name="azure-spring-cloud-disaster-recovery"></a>Аварийное восстановление облачности Azure Spring

В этой статье объясняется некоторые стратегии, которые можно использовать для защиты приложений Azure Spring Cloud от простоев.  В любом регионе или центре обработки данных могут возникнуть простои, вызванные региональными стихийными бедствиями, но тщательное планирование может смягчить последствия для ваших клиентов.

## <a name="plan-your-application-deployment"></a>Планирование развертывания приложения

Приложения Azure Spring Cloud работают в определенном регионе.  Azure работает в различных странах по всему миру. Географическая территория Azure — это определенная область мира, содержащая по крайней мере один регион Azure. Область Azure — это область в пределах географии, содержащая один или несколько центров обработки данных.  Каждый регион Azure образует пару с другим регионом в пределах той же географической территории. Эти два региона формируют пару регионов. Azure сериализирует обновления платформы (плановое обслуживание) в региональных парах, гарантируя, что только один регион в каждой паре обновляется одновременно. Если сбой затрагивает несколько регионов, по меньшей мере один регион в каждой паре будет приоритетным для восстановления.

Обеспечение высокой доступности и защиты от стихийных бедствий требует развертывания приложений Spring Cloud в нескольких регионах.  Azure предоставляет список [парных регионов,](../best-practices-availability-paired-regions.md) чтобы можно было планировать развертывание Spring Cloud для региональных пар.  При проектировании архитектуры микросервисов рекомендуется учитывать три ключевых фактора: доступность регионов, парные регионы Azure и доступность службы.

*  Доступность региона: Выберите географический район, близкий к пользователям, чтобы свести к минимуму отставание сети и время передачи.
*  Зоны сопряжения Azure: Выберите парные области в выбранной географической области, чтобы обеспечить скоординированные обновления платформы и при необходимости определить приоритеты в усилиях по восстановлению.
*  Доступность услуг: Решите, следует ли работать в паре с горячими/горячими, горячими/теплыми или горячими/холодными.

## <a name="use-azure-traffic-manager-to-route-traffic"></a>Использование диспетчера трафика Azure для маршрутизации трафика

[Azure Traffic Manager](../traffic-manager/traffic-manager-overview.md) обеспечивает балансировку нагрузки на трафик на основе DNS и может распределять сетевой трафик по нескольким регионам.  Используйте Azure Traffic Manager, чтобы направлять клиентов к наиболее близкому к ним экземпляру облачного отдела Azure Spring.  Для лучшей производительности и избыточности направьте весь трафик приложений через Azure Traffic Manager перед отправкой в свой облачный сервис Azure Spring.

Если в нескольких регионах есть приложения Azure Spring Cloud, используйте менеджер движения Azure для управления потоком трафика в приложения в каждом регионе.  Определите конечную точку Azure Traffic Manager для каждой службы с помощью IP-адреса службы. Клиенты должны подключиться к имени DNS-менеджера Azure Traffic Manager, указывающему на облачный сервис Azure Spring.  Загрузка Azure Traffic Manager уравновешивает трафик в определенных конечных точках.  Если в центре обработки данных произошла катастрофа, azure Traffic Manager направит трафик из этого региона в свою пару, обеспечивая непрерывность обслуживания.