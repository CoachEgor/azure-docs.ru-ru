---
title: 'Хранилище данных SQL Azure: заметки о выпуске за сентябрь 2018 г. | Документация Майкрософт'
description: Заметки о выпуске для хранилища данных SQL Azure.
services: sql-data-warehouse
author: anumjs
manager: craigg
ms.service: sql-data-warehouse
ms.topic: conceptual
ms.subservice: ''
ms.date: 10/08/2018
ms.author: anjangsh
ms.reviewer: jrasnick
ms.openlocfilehash: 5041458fdc3c6a49c59f2c4c476db71098531419
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "65912161"
---
# <a name="whats-new-in-azure-sql-data-warehouse-september-2018"></a>Что нового в Хранилище данных SQL Azure? Сентябрь 2018 г.
Хранилище данных SQL Azure постоянно совершенствуется. В этой статье описаны новые возможности и изменения, вступившие в силу с сентября 2018 года.

## <a name="new-lower-entry-point-for-sql-data-warehouse-gen2"></a>Новая нижняя точка входа для хранилища данных SQL 2-го поколения
В апреле 2018 года [корпорация Майкрософт объявила о выпуске](https://azure.microsoft.com/blog/turbocharge-cloud-analytics-with-azure-sql-data-warehouse/) 2-го поколения Хранилища данных SQL Azure, которое предлагает пятикратный прирост производительности, пятикратное увеличение возможностей масштабирования вычислительных ресурсов, четырехкратное увеличение возможностей параллелизма и неограниченный объем хранилища. Как отмечалось в [измерении производительности хранилища данных в облаке ](https://gigaom.com/report/data-warehouse-in-the-cloud-benchmark/), проведенном Gigaom, хранилище данных SQL 2-го поколения **превосходит Amazon Redshift по производительности на 42%** .

2-е поколение теперь общедоступно с нижней точкой входа в 500 DWU, что позволяет выполнять хранилища данных меньшего размера или среды для разработки и тестирования, используя преимущества всех последних улучшений службы. Новая точка входа обеспечивает все функции 2-го поколения, включая [адаптивное кэширование](https://azure.microsoft.com/blog/adaptive-caching-powers-azure-sql-data-warehouse-performance-gains/), [высокоскоростное перетасовывание данных](https://azure.microsoft.com/blog/lightning-fast-query-performance-with-azure-sql-data-warehouse/) и поддержку [хранилища данных в реальном времени](https://azure.microsoft.com/blog/enabling-real-time-data-warehousing-with-azure-sql-data-warehouse/).

## <a name="sql-vulnerability-assessment"></a>Оценка уязвимостей SQL
[Оценка уязвимостей SQL](https://blogs.msdn.microsoft.com/sqlsecurity/2018/09/25/sql-vulnerability-assessment-now-supports-azure-sql-data-warehouse-and-azure-sql-database-managed-instance/) — это простая в использовании служба, которая постоянно контролирует ваше хранилище данных. Она помогает обеспечить высокий уровень безопасности и соблюдать политики вашей организации на протяжении всего времени. Она предоставляет исчерпывающий отчет по безопасности вместе с действенными шагами по исправлению для каждой обнаруженной проблемы. Этот отчет позволяет упростить управление состоянием безопасности базы данных и сосредоточить внимание на наиболее эффективных действиях, даже если вы не являетесь экспертом по безопасности. Динамические среды, где часто происходят изменения, бывает трудно отследить,поэтому оценка уязвимости имеет неоценимое значение в определении параметров, которые могут сделать ваше хранилище данных уязвимым для атак.

## <a name="improved-availability-with-query-restartability"></a>Повышенная доступность с возможностью перезапуска запросов
Во время выполнения запроса может произойти любое количество проблем, которые могут привести к сбою запроса. Сбой сети, сбой оборудования или другого рода отключения могут вызвать перебои в работе. Хранилище данных SQL теперь поддерживает возможность перезапуска запроса на уровне шага или инструкции SELECT. 

Благодаря этой возможности выполняемый запрос, который был прерван из-за сбоя, будет автоматически перезапущен. В зависимости от количества шагов, формы запроса или операции, на которой он был прерван во время выполнения, ядро хранилища данных SQL либо перезапустит полный запрос, либо возобновит его с последнего завершенного шага. С точки зрения пользователя запрос просто выполняется. 

## <a name="maintenance-scheduling-preview"></a>Планирование обслуживания (предварительная версия)
Функция планирования обслуживания службы "Хранилище данных SQL Azure" находится в предварительной версии. Эта новая функция легко интегрирует уведомления о плановом обслуживании службы "Работоспособности служб", возможности мониторинга проверки работоспособности службы "Работоспособность ресурсов" и службу планирования обслуживания Хранилища данных SQL Azure. Составление расписания обслуживания позволяет планировать период времени, когда вам удобно получать новые функции, обновления и исправления.

Служба планирования обслуживания использует службу Azure Monitor и позволяют клиентам определять, как они хотят получать уведомления о предстоящих событиях обслуживания и какие автоматические потоки должны активироваться для управления простоем и уменьшения влияния на работу. Уведомления могут отправляться по электронной почте или в виде текстовых сообщений. 

## <a name="wide-row-support-in-polybase"></a>Поддержка расширенных строк в Polybase
При загрузке данных в хранилище данных SQL, как правило, рекомендуется использовать [PolyBase](https://docs.microsoft.com/azure/sql-data-warehouse/design-elt-data-loading#options-for-loading-with-polybase) с поддержкой параллельной загрузки данных. Этот выпуск обеспечивает поддержку расширенных столбцов с 32 КБ до 1 МБ. Это позволяет загружать таблицы с большим размером строк. Поддержка широких строк упрощает процесс загрузки данных из таблиц с широкими строками.

> [!Note]
> Общий размер строки не может превышать 1 МБ.

## <a name="additional-language-support"></a>Поддержка дополнительных возможностей языка
В этот выпуск добавлена поддержка следующих элементов языка T-SQL.

### <a name="stringsplit"></a>STRING_SPLIT
Функция [STRING_SPLIT](https://docs.microsoft.com/sql/t-sql/functions/string-split-transact-sql) разделяет строку знаков с использованием указанного разделителя. STRING_SPLIT удобно использовать в сценариях загрузки данных, где столбец может иметь несколько значений для синтаксического анализа и вставки в другую таблицу.

#### <a name="example"></a>Пример
```sql
DECLARE @tags NVARCHAR(400) = 'clothing,road,,touring,bike';

SELECT
    value
FROM
    STRING_SPLIT(@tags, ',')
WHERE
    RTRIM(value) <> '';
```

### <a name="compressdecompress-functions"></a>Функции COMPRESS и DECOMPRESS
Функции [COMPRESS](https://docs.microsoft.com/sql/t-sql/functions/compress-transact-sql) / [DECOMPRESS](https://docs.microsoft.com/sql/t-sql/functions/decompress-transact-sql) позволяют сжимать и распаковывать строковые входные данные с помощью алгоритма GZIP.

#### <a name="example"></a>Пример

```sql
SELECT
    name [name_original]
    , COMPRESS(name) [name_compressed]
    , CAST(DECOMPRESS(COMPRESS(name)) AS NVARCHAR(MAX)) [name_decompressed]
FROM
    sys.objects;
```

### <a name="if-exists-clause-for-dropping-views"></a>Предложение IF EXISTS для удаления представлений
Добавление предложения IF EXISTS в инструкцию [DROP VIEW](https://docs.microsoft.com/sql/t-sql/statements/drop-view-transact-sql) упрощает код T-SQL, необходимый для удаления представления из хранилища данных. IF EXISTS в инструкции DROP VIEW позволяет удалить представление, если оно существует, или игнорировать инструкцию, если представление не существует.

#### <a name="example"></a>Пример
```sql
DROP VIEW IF EXISTS dbo.TestView;
```
```
Message
--------------------------------------------------
Commands completed successfully.

```

## <a name="improved-compilation-time-for-singleton-inserts-and-ddl-statements"></a>Ускоренная компиляции одноэлементных операций вставки и инструкций DDL 
Следование традиционной модели извлечения, преобразования и загрузки (ETL) для вставки данных часто приводит к выполнению одноэлементных операций вставки ([INSERT-VALUES](https://docs.microsoft.com/sql/t-sql/statements/insert-transact-sql)) в таблицу в базе данных. Этот выпуск повышает производительность одноэлементных операций вставки за счет сокращения времени компиляции, необходимого для выполнения инструкции такого типа. В некоторых случаях наблюдается ускорение компиляции в 3 раза. Это улучшение уменьшит время, необходимое для выполнения инструкции одноэлементной вставки. 

Улучшение также обеспечивает преимущества для хранилищ данных с большим числом объектов, также уменьшая время компиляции запросов для инструкций DDL, таких как CREATE, ALTER и DELETE. 

Наконец, это улучшение ускоряет общий процесс выполнения инструкций, выполняемых с широкими таблицам, то есть таблицами с большим количеством столбцов. Это улучшение сокращает этап компиляции запроса, что уменьшает общее время выполнения запросов.

## <a name="bug-fixes"></a>Исправления ошибок

| Название | Описание |
|:---|:---|
| **Исправление ошибки при создании статистики для распределений по уникальному ограничению** | Это исправление устраняет ошибку, с которой пользователи сталкивались при выполнении операции UPDATE STATISTICS с указанием только таблицы, если для этой таблицы было определено уникальное ограничение. |
| **Исправление ошибки при компиляции запросов к внешним таблицам** | Это исправление устраняет ошибку, влияющую на время компиляции запросов, охватывающих внешние таблицы.|
| **Исправление ошибки при выполнении инструкции с данными большого типа** | Исправляет ошибку в подготовленной инструкции компиляции с параметрами, объявленными как один из *больших* типов (nvarchar(max), varchar(max) и varbinary(max)). |
| **Исправление ошибки при выполнении глубоко вложенных запросов** | Отображает понятное сообщение об ошибке, когда уровень вложенности запроса превышает ограничения системы.|
| **Исправление ошибок времени компиляции, если инструкция содержит связанный вложенный запрос и константу времени выполнения** |Позволяет устранить ошибку времени компиляции запросов с определенным сочетанием связанных вложенных запросов и констант времени выполнения (например, GETDATE()).|
| **Исправление времени ожидания при получении блокировки объектов PDW и слота параллельного выполнения для автоматического создания статистики** |Исправление добавляет время ожидания блокировки для предотвращения блокирования запросами автоматического создания статистики исходных запросов в течение длительного времени.|

## <a name="next-steps"></a>Дальнейшие действия
Теперь, когда вам уже известны некоторые сведения о хранилище данных SQL, узнайте о том, как его [создать][create a SQL Data Warehouse]. Если вы раньше не работали с Azure, используйте [глоссарий Azure][Azure glossary], чтобы узнать значение новых терминов. Или ознакомьтесь со следующими ресурсами, посвященными хранилищу данных SQL.  

* [Истории успеха клиентов]
* [Блоги]
* [Запросы функций]
* [Видеоролики]
* [Блоги группы консультирования клиентов]
* [Форум Stack Overflow]
* [Twitter]


[Блоги]: https://azure.microsoft.com/blog/tag/azure-sql-data-warehouse/
[Блоги группы консультирования клиентов]: https://blogs.msdn.microsoft.com/sqlcat/tag/sql-dw/
[Истории успеха клиентов]: https://azure.microsoft.com/case-studies/?service=sql-data-warehouse
[Запросы функций]: https://feedback.azure.com/forums/307516-sql-data-warehouse
[Форум Stack Overflow]: https://stackoverflow.com/questions/tagged/azure-sqldw
[Twitter]: https://twitter.com/hashtag/SQLDW
[Видеоролики]: https://azure.microsoft.com/documentation/videos/index/?services=sql-data-warehouse
[create a SQL Data Warehouse]: ./create-data-warehouse-portal.md
[Azure glossary]: ../azure-glossary-cloud-terminology.md
