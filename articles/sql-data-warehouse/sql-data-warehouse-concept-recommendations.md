---
title: Рекомендации в Хранилище данных SQL — основные понятия | Документация Майкрософт
description: Узнайте, что такое рекомендации в Хранилище данных SQL и как они создаются.
services: sql-data-warehouse
author: kevinvngo
manager: craigg-msft
ms.service: sql-data-warehouse
ms.topic: conceptual
ms.subservice: manage
ms.date: 11/05/2018
ms.author: kevin
ms.reviewer: igorstan
ms.openlocfilehash: b275f23209979e1a8068ecd99465f7b52392bc6c
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "61421228"
---
# <a name="sql-data-warehouse-recommendations"></a>Рекомендации в Хранилище данных SQL

В этой статье описываются рекомендации, которые отображаются в Хранилище данных SQL с использованием Помощника по Azure.  

Хранилище данных SQL предоставляет рекомендации, которые помогают непрерывно оптимизировать хранилище данных для повышения производительности. Рекомендации по хранилищу данных тесно интегрированы с [Помощником по Azure](https://docs.microsoft.com/azure/advisor/advisor-performance-recommendations), что позволяет получать рекомендации непосредственно на [портале Azure](https://aka.ms/Azureadvisor). Хранилище данных SQL каждый день анализирует текущее состояние хранилища данных, собирает данные телеметрии и выводит рекомендации по активной рабочей нагрузке. Ниже описаны поддерживаемые сценарии рекомендаций по хранилищу данных, а также инструкции по применению рекомендуемых действий.

Если вы хотите оставить отзыв о Помощнике по Хранилищу данных SQL или у вас возникли проблемы, свяжитесь с нами по адресу [sqldwadvisor@service.microsoft.com](mailto:sqldwadvisor@service.microsoft.com).   

Щелкните [здесь](https://aka.ms/Azureadvisor), чтобы проверить рекомендации уже сегодня. Сейчас эта функция применяется только к хранилищам данных 2-го поколения. 

## <a name="data-skew"></a>Неравномерное распределение данных

Неравномерное распределение данных может привести к дополнительному перемещению данных или к возникновению узких мест в ресурсах при выполнении рабочей нагрузки. В следующем документе описывается, как выявить неравномерное распределение данных и избежать его, выбрав оптимальный принцип распределения.

- [Обнаружение и устранение неравномерного распределения](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-tables-distribute#how-to-tell-if-your-distribution-column-is-a-good-choice) 

## <a name="no-or-outdated-statistics"></a>Отсутствующие или устаревшие статистические данные

Неоптимальная статистика может существенно ухудшать производительность запросов из-за того, что оптимизатор запросов Хранилища данных SQL создает неоптимальные планы запросов. В следующем документе приводятся рекомендации по созданию и обновлению статистики:

- [Создание и обновление статистики для таблицы](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-tables-statistics)

Чтобы просмотреть список таблиц, которых касаются эти рекомендации, выполните [скрипт T-SQL](https://github.com/Microsoft/sql-data-warehouse-samples/blob/master/samples/sqlops/MonitoringScripts/ImpactedTables). Для создания этих рекомендаций Помощник непрерывно выполняет один и тот же скрипт T-SQL.

## <a name="replicate-tables"></a>Таблицы репликации

Для рекомендаций реплицированной таблицы Помощник определяет варианты таблиц на основе следующих физических характеристик.

- Размер реплицированной таблицы
- Количество столбцов
- Тип распределения таблиц
- Количество разделов

Помощник постоянно использует методы эвристики, основанной на рабочих нагрузках (например, периодичность доступа к таблицам, среднее количество возвращенных записей или пороговые значения размеров хранилищ данных и активности в них), чтобы убедиться в высоком качестве генерируемых рекомендаций. 

Ниже описаны методы основанной на рабочих нагрузках эвристики, которые вы можете найти для каждой рекомендации реплицированных таблиц на портале Azure:

- проверка avg — среднее количество возвращенных записей в процентах для каждой таблицы за последние семь дней;
- частое чтение без обновления— указывает, что не было обновления таблицы за последние семь дней, хотя и происходило действие доступа;
- соотношение чтения или обновления — соотношение частотности доступа к таблице к ее обновлению за последние семь дней;
- действие — измеряет использование на основе действия доступа. Это сравнивает действия доступа к таблице со средним значением действия доступа к таблице базе данных хранилища данных за последние семь дней. 

В настоящее время Помощник будет отображать только четыре варианта реплицированной таблицы за раз с кластеризованными индексами columnstore, обозначающими наивысшую активность.

> [!IMPORTANT]
> Рекомендации реплицированной таблицы не достаточно, и она не учитывает операции перемещения данных. Сейчас мы работаем над добавлением этого метода эвристики, но пока что вы должны проверить рабочую нагрузку после применения рекомендации. Обратитесь в службу sqldwadvisor@service.microsoft.com, если вы обнаружили снижение рабочей нагрузки после применения рекомендаций реплицированной таблицы. Чтобы узнать больше о реплицированных таблицах, см. статью [Руководство по проектированию для использования реплицированных таблиц в хранилище данных SQL Azure](https://docs.microsoft.com/azure/sql-data-warehouse/design-guidance-for-replicated-tables#what-is-a-replicated-table).
