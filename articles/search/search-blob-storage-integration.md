---
title: Добавьте полный поиск текста в хранилище Azure Blob
titleSuffix: Azure Cognitive Search
description: Извлекайте содержимое и добавляйте структуру в капли Azure при создании полного индекса поиска текста в Azure Cognitive earch.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 11/04/2019
ms.openlocfilehash: af7d04bd74ada296b9f0e0f7c149c2a781cec579
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "73496496"
---
# <a name="add-full-text-search-to-azure-blob-data-using-azure-cognitive-search"></a>Добавьте полный поиск текста в данные Azure blob с помощью Azure Cognitive Search

Поиск различных типов содержимого в хранилище BLOB-объектов Azure может представлять собой трудную для решения задачу. Тем не менее, вы можете индексировать и искать содержимое ваших Blobs всего за несколько кликов с помощью [Azure Cognitive Search.](search-what-is-azure-search.md) Azure Cognitive Search имеет встроенную интеграцию для индексации из хранилища Blob через [*индексер Blob,*](search-howto-indexing-azure-blob-storage.md) который добавляет возможности, осведомленные об источнике данных, в индексацию.

## <a name="what-it-means-to-add-full-text-search-to-blob-data"></a>Что значит добавить полный поиск текста в данные blob

Azure Cognitive Search — это облачный поисковый сервис, предоставляющий системы индексирования и запросов, работающие по определенным для пользователя индексам, размещенным в поисковом сервисе. Совместное размещение поискового содержимого с движком запроса в облаке необходимо для производительности, возвращая результаты на скорости, которые пользователи стали ожидать от поисковых запросов.

Azure Cognitive Search интегрируется с хранилищем Azure Blob в уровне индексирования, импортируя содержимое капли в виде поисковых документов, которые индексируются в *перевернутые индексы* и другие структуры запросов, поддерживающие бесплатные текстовые запросы формы и выражения фильтров. Поскольку содержимое blob индексируется в индекс поиска, доступ к содержимому blob может использовать весь спектр функций запроса в Azure Cognitive Search.

После создания и заполнения индекса он существует независимо от контейнера с каплями, но можно повторно запустить операции по индексации, чтобы обновить индекс с изменениями в базовом контейнере. Информация о метках времени об отдельных капли используется для обнаружения изменений. В качестве механизма обновления можно выбрать либо запланированное выполнение, либо индексацию по требованию.

Входы — это капли в одном контейнере в хранилище Azure Blob. Blobs может быть практически любым видом текстовых данных. Если ваши капли содержат изображения, вы можете добавить [обогащение ИИ в индексирование капли](search-blob-ai-integration.md) для создания и извлечения текста из изображений.

Выход всегда — это индекс когнитивного поиска Azure, используемый для быстрого поиска текста, поиска и исследования в клиентских приложениях. Между ними находится сама архитектура индексирования конвейера. Конвейер основан на функции *индекса,* которая далее обсуждается в этой статье.

## <a name="start-with-services"></a>Начните с услуг

Вам нужен Azure Cognitive Search и хранилище Azure Blob. В хранилище Blob вам нужен контейнер, обеспечивающий исходное содержимое.

Вы можете начать прямо на странице портала хранения данных. На левой странице навигации под **сервисом Blob** нажмите **Добавить Azure Cognitive Search,** чтобы создать новую службу или выбрать существующую. 

После добавления Azure Cognitive Search в учетную запись хранения можно следить за стандартным процессом индексирования данных. Мы рекомендуем мастеру **данных импорта** в Azure Cognitive Search для простого первоначального введения или позвонить в API REST с помощью такого инструмента, как Postman. Этот учебник проходит через шаги вызова REST API в Postman: [Индекс и поиск полуструктурированных данных (JSON капли) в Azure когнитивного поиска](search-semi-structured-data.md). 

## <a name="use-a-blob-indexer"></a>Использование индекса Blob

*Индексер* — это подслужба, осведомленная об источнике данных, оснащенная внутренней логикой для выборки данных, чтения данных метаданных, поиска данных и сериализации данных из исходных форматов в документы JSON для последующего импорта. 

Blobs в хранилище Azure индексируются с помощью [индекса хранения данных Azure Cognitive Search Blob.](search-howto-indexing-azure-blob-storage.md) Вы можете вызвать этот индексер с помощью мастера **данных импорта,** aPI REST или .NET SDK. В коде этот индексатор используется, устанавливая тип и предоставляя информацию о подключении, которая включает учетную запись Хранилища Azure вместе с контейнером с каплей. Вы можете подмножество капли, создав виртуальный каталог, который вы можете затем пройти в качестве параметра, или путем фильтрации на расширение типа файла.

Индексатор делает "документ крекинга", открывая капля для проверки содержимого. После подключения к источнику данных это первый шаг в конвейере. Для данных blob обнаруживаются PDF, офисные документы и другие типы контента. Документ крекинга с текстом извлечения бесплатно. Если ваши капли содержат содержимое изображения, изображения игнорируются, если вы [не добавите обогащение ИИ.](search-blob-ai-integration.md) Стандартная индексация применяется только к текстовому контенту.

Индексер Blob поставляется с параметрами конфигурации и поддерживает отслеживание изменений, если базовые данные предоставляют достаточную информацию. Вы можете узнать больше о основной функциональности в [индексе хранения данных Azure Cognitive Search Blob.](search-howto-indexing-azure-blob-storage.md)

### <a name="supported-content-types"></a>Поддерживаемые типы содержимого

При запуске индекса Blob над контейнером можно извлечь текст и метаданные из следующих типов содержимого с помощью одного запроса:

[!INCLUDE [search-blob-data-sources](../../includes/search-blob-data-sources.md)]

### <a name="indexing-blob-metadata"></a>Индексирование метаданных капли

Распространенным сценарием, который позволяет легко сортировать капли любого типа содержимого, является индексирования как пользовательских метаданных, так и системных свойств для каждого капли. Таким образом, информация для всех капли индексируется независимо от типа документа, хранящегося в индексе в службе поиска. Используя новый индекс, вы можете приступить к сортировке, фильтрации и гране во всем содержимом хранилища Blob.

### <a name="indexing-json-blobs"></a>Индексирование капли JSON
Индексы могут быть настроены для извлечения структурированного содержимого, содержащегося в капли, содержащие JSON. Индексатор может прочитать капли JSON и разобрать структурированное содержимое в соответствующих полях поискового документа. Индексы также могут взять капли, содержащие массив объектов JSON, и сопоставить каждый элемент в отдельный поисковый документ. Можно настроить режим разбора, чтобы повлиять на тип объекта JSON, созданного индексатором.

## <a name="search-blob-content-in-a-search-index"></a>Поиск содержимого blob в поисковом индексе 

Выход индексирования — это индекс поиска, используемый для интерактивного исследования с использованием свободного текста и отфильтрованных запросов в клиентском приложении. Для первоначального исследования и проверки содержимого мы рекомендуем начать с [Search Explorer](search-explorer.md) на портале для изучения структуры документов. Вы можете использовать [простой синтаксис запроса,](query-simple-syntax.md) [синтаксис полного запроса](query-lucene-syntax.md)и [синтаксис выражения в](query-odata-filter-orderby-syntax.md) Search Explorer.

Более постоянным решением является сбор входов запросов и представление ответа в качестве результатов поиска в клиентском приложении. В следующем учебнике по си-хау объясняется, как создать приложение поиска: [Создайте свое первое приложение в Azure Cognitive Search.](tutorial-csharp-create-first-app.md)

## <a name="next-steps"></a>Дальнейшие действия

+ [Загрузка, загрузка и список капли с портала Azure (Azure Blob хранения)](https://docs.microsoft.com/azure/storage/blobs/storage-quickstart-blobs-portal)
+ [Настройка каплю-указателя (Azure Cognitive Search)](search-howto-indexing-azure-blob-storage.md) 
