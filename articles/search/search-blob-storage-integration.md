---
title: Добавление полнотекстового поиска в хранилище BLOB-объектов Azure
titleSuffix: Azure Search
description: Извлеките содержимое и добавьте структуру в большие двоичные объекты Azure при создании индекса полнотекстового поиска в службе поиска Azure.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: search
ms.topic: conceptual
ms.date: 10/09/2019
ms.openlocfilehash: db54c7886f5256dab41325cd12f1b893be732d72
ms.sourcegitcommit: f29fec8ec945921cc3a89a6e7086127cc1bc1759
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/17/2019
ms.locfileid: "72529045"
---
# <a name="add-full-text-search-to-azure-blob-data-using-azure-search"></a>Добавление полнотекстового поиска в данные большого двоичного объекта Azure с помощью службы поиска Azure

Поиск различных типов содержимого в хранилище BLOB-объектов Azure может представлять собой трудную для решения задачу. Однако вы можете индексировать и искать содержимое больших двоичных объектов всего несколько раз, используя [Поиск Azure](search-what-is-azure-search.md). Служба поиска Azure имеет встроенную интеграцию для индексирования хранилища BLOB-объектов с помощью [*индексатора больших двоичных объектов*](search-howto-indexing-azure-blob-storage.md) , который добавляет в индексирование возможности, учитывающие источник данных.

## <a name="what-it-means-to-add-full-text-search-to-blob-data"></a>Что означает добавление полнотекстового поиска в данные большого двоичного объекта

Поиск Azure — это облачная служба поиска, которая предоставляет обработчики индексирования и запросов, которые работают над определяемыми пользователем индексами, размещенными в службе поиска. Совместное размещение содержимого с поддержкой поиска с помощью обработчика запросов в облаке необходимо для повышения производительности, возвращая результаты на скорости, которую пользователи приступили к ожиданию от поисковых запросов.

Служба поиска Azure интегрируется с хранилищем BLOB-объектов Azure на уровне индексирования, импортируя содержимое BLOB-объектов как поисковые документы, индексируемые по *инвертированным индексам* , и другие структуры запросов, поддерживающие произвольные текстовые запросы и выражения фильтров. Так как содержимое большого двоичного объекта индексируется в индексе поиска, доступ к содержимому BLOB-объектов может использовать весь набор функций запроса в службе поиска Azure.

После создания и заполнения индекса он существует независимо от контейнера больших двоичных объектов, но можно повторно перезапустить операции индексирования, чтобы обновить индекс с учетом изменений в базовом контейнере. Сведения о метке времени для отдельных больших двоичных объектов используются для обнаружения изменений. В качестве механизма обновления можно выбрать либо запланированное выполнение, либо индексирование по требованию.

Входные данные — это большие двоичные объекты в одном контейнере в хранилище BLOB-объектов Azure. Большие двоичные объекты могут быть практически любого рода текстовыми данными. Если большие двоичные объекты содержат изображения, можно добавить [обогащение искусственного интеллекта в индексирование BLOB-объектов](search-blob-ai-integration.md) , чтобы создавать и извлекать текст из изображений.

Выходные данные всегда являются индексом поиска Azure, используемым для быстрого поиска, извлечения и исследования в клиентских приложениях. Между — это архитектура конвейера индексации. Конвейер основан на функции *индексатора* , которая обсуждается далее в этой статье.

## <a name="start-with-services"></a>Начало работы со службами

Вам потребуется Поиск Azure и хранилище BLOB-объектов Azure. В хранилище BLOB-объектов необходим контейнер, предоставляющий исходное содержимое.

Вы можете начать работу непосредственно на странице портала учетной записи хранения. На левой странице навигации в разделе **Служба BLOB-объектов** щелкните **Добавить поиск Azure** , чтобы создать новую службу или выбрать существующую. 

После добавления службы поиска Azure в учетную запись хранения можно выполнить стандартный процесс для индексации данных большого двоичного объекта. Мы рекомендуем использовать мастер **импорта данных** в службе поиска Azure для быстрого ознакомления или вызвать интерфейсы API-интерфейса RESTful с помощью такого средства, как POST. В этом руководстве описано, как вызвать REST API в Post: [индексирование и поиск частично структурированных данных (BLOB-объекты JSON) в службе поиска Azure](search-semi-structured-data.md). 

## <a name="use-a-blob-indexer"></a>Использование индексатора больших двоичных объектов

*Индексатор* — это подслужба, поддерживающая источник данных, оснащенная внутренней логикой для выборки данных, считывания данных метаданных, извлечения данных и сериализации данных из собственных форматов в документы JSON для последующего импорта. 

Большие двоичные объекты в службе хранилища Azure индексируются с помощью [индексатора хранилища BLOB-объектов службы поиска Azure](search-howto-indexing-azure-blob-storage.md). Этот индексатор можно вызвать с помощью мастера **импорта данных** , REST API или пакета SDK для .NET. В коде этот индексатор используется путем задания типа и предоставления сведений о соединении, включающих учетную запись хранения Azure вместе с контейнером больших двоичных объектов. Вы можете подделать подмножества для больших двоичных объектов, создав виртуальный каталог, который затем можно передать в качестве параметра или с помощью фильтрации по расширению типа файла.

Индексатор выполняет «взлом документа», открывая большой двоичный объект для проверки содержимого. После подключения к источнику данных это первый шаг в конвейере. Для данных больших двоичных объектов здесь обнаруживаются документы PDF, Office и другие типы содержимого. Не взимается плата за извлечение документов с помощью извлечения текста. Если большие двоичные объекты содержат содержимое изображений, изображения игнорируются, если не [Добавить обогащение искусственного интеллекта](search-blob-ai-integration.md). Стандартное индексирование применяется только к текстовому содержимому.

Индексатор BLOB-объектов поставляется с параметрами конфигурации и поддерживает отслеживание изменений, если базовые данные предоставляют достаточно информации. Дополнительные сведения об основных функциональных возможностях см. в [индексаторе хранилища BLOB-объектов службы поиска Azure](search-howto-indexing-azure-blob-storage.md).

### <a name="supported-content-types"></a>Поддерживаемые типы содержимого

Запустив индексатор больших двоичных объектов в контейнере, можно извлечь текст и метаданные из следующих типов содержимого с помощью одного запроса:

[!INCLUDE [search-blob-data-sources](../../includes/search-blob-data-sources.md)]

### <a name="indexing-blob-metadata"></a>Индексирование метаданных больших двоичных объектов

Распространенным сценарием, который упрощает сортировку больших двоичных объектов любого типа содержимого, является индексация пользовательских метаданных и системных свойств для каждого большого двоичного объекта. Таким образом, информация для всех больших двоичных объектов индексируется независимо от типа документа, хранящегося в индексе в службе поиска Azure. Используя новый индекс, можно перейти к сортировке, фильтрации и аспекту во всем содержимом хранилища BLOB-объектов.

### <a name="indexing-json-blobs"></a>Индексирование больших двоичных объектов JSON
Для поиска Azure можно настроить извлечение структурированного содержимого BLOB-объектов, содержащих JSON. Поиск Azure может считывать большие BLOB-объекты с JSON и разбивать структурированное содержимое на соответствующие поля документа. Поиск Azure может также считывать BLOB-объекты, которые содержат массив объектов JSON, и сопоставлять каждый элемент такого массива с отдельным документом. Можно задать режим анализа для влияния на тип объекта JSON, создаваемого индексатором.

## <a name="search-blob-content-in-a-search-index"></a>Поиск содержимого BLOB-объектов в индексе поиска 

Выходными данными индексирования является индекс поиска, используемый для интерактивного исследования с использованием свободного текста и отфильтрованных запросов в клиентском приложении. Для первоначального изучения и проверки содержимого рекомендуется начать с [обозревателя поиска](search-explorer.md) на портале, чтобы проверить структуру документа. В обозревателе поиска можно использовать [простой синтаксис запросов](query-simple-syntax.md), [полный синтаксис запросов](query-lucene-syntax.md)и [синтаксис выражений фильтра](query-odata-filter-orderby-syntax.md) .

Более постоянное решение — сбор входных данных запроса и предоставление ответа в виде результатов поиска в клиентском приложении. В следующем C# руководстве объясняется, как создать приложение поиска. [Создайте свое первое приложение в службе поиска Azure](tutorial-csharp-create-first-app.md).

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Настройка индексатора больших двоичных объектов](search-howto-indexing-azure-blob-storage.md) 
