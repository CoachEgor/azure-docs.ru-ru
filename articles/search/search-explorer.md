---
title: Инструмент поиска поиска запросов на портале Azure
titleSuffix: Azure Cognitive Search
description: В этом быстром запуске портала Azure используйте Search Explorer для изучения синтаксиса запросов, тестирования выражений запросов или проверки документа поиска. Поиск исследователя запросов индексов в Azure когнитивного поиска.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: cognitive-search
ms.topic: quickstart
ms.date: 03/27/2020
ms.openlocfilehash: 9fb34141d19866a2f49ac164e0d89802cf7818c5
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "80369658"
---
# <a name="quickstart-use-search-explorer-to-run-queries-in-the-portal"></a>Быстрый запуск: Используйте исследователь поиска для выполнения запросов на портале

**Search Explorer** — это встроенный инструмент запроса, используемый для выполнения запросов против поискового индекса в Azure Cognitive Search. Этот инструмент упрощает изучение синтаксиса запросов, тестирование выражения запроса или фильтра или подтверждение результатов обновления индекса путем проверки нового содержимого.

Этот quickstart использует **realestate-нас-образец-индекс,** чтобы продемонстрировать поиск исследователь. Запросы формулируются с помощью [API Поиска REST,](https://docs.microsoft.com/rest/api/searchservice/)ответы возвращаются как документы JSON.

## <a name="prerequisites"></a>Предварительные требования

+ [Создайте службу "Когнитивный поиск Azure"](search-create-service-portal.md) или [найдите имеющуюся службу](https://ms.portal.azure.com/#blade/HubsExtension/BrowseResourceBlade/resourceType/Microsoft.Search%2FsearchServices) в рамках текущей подписки. Вы можете использовать бесплатную службу для выполнения инструкций, описанных в этом кратком руководстве.

+ для этого быстрого запуска используется **realestate-us-sample-index.** Пройдите через мастер [**данных Импорта**](search-import-data-portal.md) для генерации индекса из встроенного источника данных образцов.

## <a name="start-search-explorer"></a>Запуск проводника поиска

1. На [портале Azure](https://portal.azure.com)откройте страницу поискового сервиса с панели мониторинга или [найдите свой сервис.](https://ms.portal.azure.com/#blade/HubsExtension/BrowseResourceBlade/resourceType/Microsoft.Search%2FsearchServices)

1. Открытый исследователь поиска из панели команд:

   ![Команда поиска исследователя на портале](./media/search-explorer/search-explorer-cmd2.png "Команда поиска исследователя на портале")

    Или используйте встроенную вкладку **Search Explorer** на открытом индексе:

   ![Вкладка поиска explorer](./media/search-explorer/search-explorer-tab.png "Вкладка поиска explorer")

## <a name="unspecified-query"></a>Неопределенный запрос

Для первого взгляда на содержимое выполните пустой поиск, нажав **поиск** без каких-либо условий. Такой поиск удобно использовать в качестве первого запроса, так как он возвращает все документы. Это позволяет ознакомиться со структурой документов. При поиске с пустыми условиями документы не ранжируются и возвращаются в произвольном порядке (`"@search.score": 1` для всех документов). По умолчанию для запроса поиска возвращаются 50 документов.

Аналогичный синтаксис поиска с пустыми условиями: `*` или `search=*`.
   
   ```http
   search=*
   ```

   **Результаты**
   
   ![Пример пустого запроса](./media/search-explorer/search-explorer-example-empty.png "Пример неквалифицированного или пустого запроса")

## <a name="free-text-search"></a>Бесплатный поиск текста

Бесплатные запросы с операторами или без них полезны для имитации пользовательских запросов, отправленных из пользовательского приложения в Azure Cognitive Search. Только те поля, которые отнесены к **поиску** в определении индекса, сканируются для совпадений. 

Обратите внимание, что при предоставлении критериев поиска, таких как термины запроса или выражения, в игру вступает ранг поиска. В следующем примере показан поиск произвольного текста.

   ```http
   Seattle apartment "Lake Washington" miele OR thermador appliance
   ```

   **Результаты**

   С помощью клавиш CTRL-F можно искать определенные условия в результатах поиска.

   ![Бесплатный пример текстовых запросов](./media/search-explorer/search-explorer-example-freetext.png "Бесплатный пример текстовых запросов")

## <a name="count-of-matching-documents"></a>Подсчет соответствующих документов 

Добавьте **$count,true,** чтобы получить количество совпадений, найденных в индексе. При поиске с пустыми условиями это значение равно общему количеству документов в индексе. При поиске с полными условиями это значение равно количеству документов, соответствующих входному запросу.

   ```http
   $count=true
   ```

   **Результаты**

   ![Пример количества документов](./media/search-explorer/search-explorer-example-count.png "Подсчет соответствующих документов в индексе")

## <a name="limit-fields-in-search-results"></a>Ограничение полей в результатах поиска

Добавьте [**$select**](search-query-odata-select.md) ограничить результаты явно названными полями для более читаемых выходных данных в **Search Explorer.** Чтобы сохранить строку поиска и **$count=true**, добавьте к аргументам префикс **&**. 

   ```http
   search=seattle condo&$select=listingId,beds,baths,description,street,city,price&$count=true
   ```

   **Результаты**

   ![Пример ограничивающих полей](./media/search-explorer/search-explorer-example-selectfield.png "Ограничение полей в результатах поиска")

## <a name="return-next-batch-of-results"></a>Возвращение следующей партии результатов

Azure Cognitive Search возвращает 50 лучших совпадений на основе ранга поиска. Чтобы получить следующий набор соответствующих документов, добавьте в запрос **$top=100,&$skip=50**. Это позволит увеличить результирующий набор до 100 документов (значение по умолчанию — 50, максимальное значение — 1000), пропустив первые 50 документов. Как вы помните, чтобы получить ранжированные результаты, необходимо указать критерии поиска, например термин запроса или выражение. Обратите внимание на то, что рейтинг поиска уменьшается по мере углубления в результаты поиска.

   ```http
   search=seattle condo&$select=listingId,beds,baths,description,street,city,price&$count=true&$top=100&$skip=50
   ```

   **Результаты**

   ![Результаты поиска пакетов](./media/search-explorer/search-explorer-example-topskip.png "Вернуть следующую партию результатов поиска")

## <a name="filter-expressions-greater-than-less-than-equal-to"></a>Выражения фильтра (больше, меньше, равно)

Используйте [**$filter**](search-query-odata-filter.md) параметр, когда требуется указать точные критерии, а не бесплатный поиск текста. Поле должно быть отнесено к **фильтруемым** в индексе. В этом примере выполняется поиск квартир, в которых больше 3 спален: 

   ```http
   search=seattle condo&$filter=beds gt 3&$count=true
   ```
   
   **Результаты**

   ![Выражение фильтра](./media/search-explorer/search-explorer-example-filter.png "Фильтр по критериям")

## <a name="order-by-expressions"></a>Выражения OrderBy

Добавьте [**$orderby**](search-query-odata-orderby.md) для сортировки результатов по другому полю, кроме результата поиска. Поле должно быть отнесено как **сортируемое** в индексе. Пример выражения, который можно использовать для проверки этого:

   ```http
   search=seattle condo&$select=listingId,beds,price&$filter=beds gt 3&$count=true&$orderby=price asc
   ```
   
   **Результаты**

   ![Выражение Упорядоченного](./media/search-explorer/search-explorer-example-ordery.png "Изменение порядка сортировки")

Выражения **$filter** и **$orderby** являются конструкциями OData. Дополнительные сведения см. в статье [OData Expression Syntax for Azure Search](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search) (Синтаксис выражений OData для службы поиска Azure).

<a name="start-search-explorer"></a>

## <a name="takeaways"></a>Общие выводы

В этом быстром запуске вы использовали **Search Explorer** для запроса индекса с помощью REST API.

+ Результаты возвращаются в виде подробных документов JSON, чтобы можно было полностью просмотреть структуру и содержимое документа. Можно использовать выражения запросов, как показано в примерах, чтобы ограничить возвращаемые поля.

+ Документы содержат все поля, помеченные как **Доступный для получения** в индексе. Чтобы просмотреть атрибуты индекса на портале, на странице "Общие сведения о поиске" в списке **Индексы** щелкните *realestate-us-sample*.

+ Запросы в свободной форме, аналогичные вводимым в коммерческом веб-браузере, можно использовать для тестирования взаимодействия с пользователем. Например, при использовании встроенного примера индекса недвижимости, можно ввести "Seattle apartments lake washington", а затем с помощью клавиш CTRL-F искать условия в результатах поиска. 

+ Выражения запросов и фильтров сформулированы в синтаксисе, поддерживаемом Azure Cognitive Search. По умолчанию используется [простой синтаксис](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search), но при необходимости можно использовать [полный запрос Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), чтобы создавать более эффективные запросы. Для [выражений фильтров](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search) используется синтаксис OData.

## <a name="clean-up-resources"></a>Очистка ресурсов

Если вы работаете в своей подписке, по окончании проекта рекомендуем решить, нужны ли вам созданные ресурсы. Работающие ресурсы могут означать лишние затраты. Можно удалить отдельные ресурсы или удалить группу ресурсов, что позволит удалить весь набор ресурсов.

Просматривать ресурсы и управлять ими можно на портале с помощью ссылок **Все ресурсы** или **Группы ресурсов** на панели навигации слева.

При работе с бесплатной версией службы помните о том, что вам доступно максимум три индекса, индексатора и источника данных. Вы можете удалить отдельные элементы на портале, чтобы не превысить лимит. 

## <a name="next-steps"></a>Дальнейшие действия

Чтобы узнать больше о структурах запросов и синтаксисе, используйте Postman или эквивалентный инструмент для создания выражений запросов, использующих больше частей API. [Поиск REST API](https://docs.microsoft.com/rest/api/searchservice/) особенно полезен для обучения и исследования.

> [!div class="nextstepaction"]
> [Создание базового запроса в Postman](search-query-simple-examples.md)