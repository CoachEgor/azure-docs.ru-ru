---
title: Квалифицированный опыт распознавания персонала (Предварительная версия)
titleSuffix: Azure Cognitive Search
description: Извлечение и маскирование личных сведений из текста в конвейере обогащения в Azure Когнитивный поиск. Этот навык в настоящее время доступен в общедоступной предварительной версии.
manager: nitinme
author: careyjmac
ms.author: chalton
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 1/27/2020
ms.openlocfilehash: f21200bc6f5b25f3330f5bb87c0843caa5a84e56
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "80298879"
---
#    <a name="pii-detection-cognitive-skill"></a>Опыт распознавания личных сведений

> [!IMPORTANT] 
> Этот навык в настоящее время доступен в общедоступной предварительной версии. Для предварительной версии функции соглашение об уровне обслуживания не предусмотрено. Мы не рекомендуем использовать ее в рабочей среде. Дополнительные сведения см. в статье [Дополнительные условия использования предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/). В настоящее время нет поддержки портала или пакета SDK для .NET.

Навык **обнаружения PII** извлекает личные сведения из входного текста и дает возможность маскировать его из этого текста различными способами. Этот навык использует модели машинного обучения, предоставляемые функцией [Анализ текста](https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview) в Cognitive Services.

> [!NOTE]
> Когда вы расширяете область, увеличивая частоту обработки, добавляя дополнительные документы или добавляете дополнительные алгоритмы искусственного интеллекта, вам потребуется [подключить ресурс Cognitive Services для оплаты](cognitive-search-attach-cognitive-services.md). Плата взимается при вызове API в Cognitive Services и извлечении изображений при распознавании документов в службе "Когнитивный поиск Azure". За извлечение текста из документов плата не взимается.
>
> Плата за выполнение встроенных навыков взимается в рамках существующей [модели оплаты Cognitive Services по мере использования](https://azure.microsoft.com/pricing/details/cognitive-services/). Плата за извлечение изображений указана на [странице с ценами на службу "Когнитивный поиск Azure"](https://go.microsoft.com/fwlink/?linkid=2042400).


## <a name="odatatype"></a>@odata.type  
Microsoft.Skills.Text.PIIDetectionSkill

## <a name="data-limits"></a>Ограничения данных
Максимальный размер записи должен составлять 50 000 символов, [`String.Length`](https://docs.microsoft.com/dotnet/api/system.string.length)измеряемый. Если необходимо разбить данные перед отправкой в навык, рассмотрите возможность использования уровня " [разделение текста](cognitive-search-skill-textsplit.md)".

## <a name="skill-parameters"></a>Параметры навыков

Параметры чувствительны к регистру, а все являются необязательными.

| Имя параметра     | Описание |
|--------------------|-------------|
| defaultLanguageCode |    Код языка вводимого текста. Сейчас поддерживается только `en` . |
| minimumPrecision | Значение в диапазоне от 0,0 до 1,0. Если показатель достоверности (в `piiEntities` выходных данных) меньше, чем заданное `minimumPrecision` значение, сущность не возвращается или маскируется. Значение по умолчанию — 0,0. |
| маскингмоде | Параметр, который предоставляет различные способы маскирования обнаруженных PII во входном тексте. Поддерживаются следующие варианты. <ul><li>`none`(по умолчанию): это означает, что маскирование не будет выполнено `maskedText` и выходные данные не будут возвращены. </li><li> `redact`: Этот параметр удалит обнаруженные сущности из входного текста и не заменит их любым. Обратите внимание, что в этом случае смещение в `piiEntities` выходных данных будет по отношению к исходному тексту, а не к маскированному тексту. </li><li> `replace`: Этот параметр заменит обнаруженные сущности символом, указанным в `maskingCharacter` параметре.  Символ будет повторяться до длины обнаруженной сущности, чтобы смещения правильно соответствовали входному тексту и выходным `maskedText`данным.</li></ul> |
| маскингчарактер | Символ, который будет использоваться для маскирования текста, если `maskingMode` параметр имеет значение. `replace` Поддерживаются следующие параметры: `*` (по умолчанию) `#`, `X`,. Этот параметр может быть `null` только в `maskingMode` `replace`том случае, если не задано значение. |


## <a name="skill-inputs"></a>Входные данные навыков

| Ввод имени      | Описание                   |
|---------------|-------------------------------|
| languageCode    | Необязательный параметр. Значение по умолчанию — `en`.  |
| text          | Текст для анализа.          |

## <a name="skill-outputs"></a>Выходные данные навыка

| Имя вывода      | Описание                   |
|---------------|-------------------------------|
| пииентитиес | Массив сложных типов, содержащий следующие поля: <ul><li>текст (реальные PII как извлеченные)</li> <li>type</li><li>Подтип</li><li>Оценка (более высокое значение означает, что скорее всего будет реальная сущность)</li><li>смещение (во входном тексте)</li><li>length</li></ul> </br> [Возможные типы и подтипы можно найти здесь.](https://docs.microsoft.com/azure/cognitive-services/text-analytics/named-entity-types?tabs=personal) |
| маскедтекст | Если `maskingMode` для параметра задано значение, отличное `none`от, то этот результат будет строковым результатом маскирования, выполняемого для входного текста, как описано в выбранном `maskingMode`.  Если `maskingMode` параметр имеет значение `none`, выходные данные не будут присутствовать. |

##    <a name="sample-definition"></a>Пример определения

```json
  {
    "@odata.type": "#Microsoft.Skills.Text.PIIDetectionSkill",
    "defaultLanguageCode": "en",
    "minimumPrecision": 0.5,
    "maskingMode": "replace",
    "maskingCharacter": "*",
    "inputs": [
      {
        "name": "text",
        "source": "/document/content"
      }
    ],
    "outputs": [
      {
        "name": "piiEntities"
      },
      {
        "name": "maskedText"
      }
    ]
  }
```
##    <a name="sample-input"></a>Пример ввода

```json
{
    "values": [
      {
        "recordId": "1",
        "data":
           {
             "text": "Microsoft employee with ssn 859-98-0987 is using our awesome API's."
           }
      }
    ]
}
```

##    <a name="sample-output"></a>Пример выходных данных

```json
{
  "values": [
    {
      "recordId": "1",
      "data" : 
      {
        "piiEntities":[ 
           { 
              "text":"859-98-0987",
              "type":"U.S. Social Security Number (SSN)",
              "subtype":"",
              "offset":28,
              "length":11,
              "score":0.65
           }
        ],
        "maskedText": "Microsoft employee with ssn *********** is using our awesome API's."
      }
    }
  ]
}
```

Обратите внимание, что смещения, возвращаемые для сущностей в выходных данных этого навыка, возвращаются непосредственно из [API анализа текста](https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview). Это означает, что если вы используете их для индексации в исходной строке, следует использовать класс [StringInfo](https://docs.microsoft.com/dotnet/api/system.globalization.stringinfo?view=netframework-4.8) в .NET для извлечения правильного содержимого.  [Дополнительные сведения можно найти здесь.](https://docs.microsoft.com/azure/cognitive-services/text-analytics/concepts/text-offsets)

## <a name="error-and-warning-cases"></a>Случаи ошибок и предупреждений
Если код языка для документа не поддерживается, возвращается предупреждение, и сущности не извлекаются.
Если текст пуст, появится предупреждение.
Если текст больше 50 000 знаков, будут проанализированы только первые 50 000 знаков и появится предупреждение.

Если навык возвращает предупреждение, выходные данные `maskedText` могут быть пустыми.  Это означает, что если вы ожидаете, что выходные данные будут существовать для последующего опыта, он не будет работать должным образом. Помните об этом при написании определения набора навыков.

## <a name="see-also"></a>См. также

+ [Встроенные навыки](cognitive-search-predefined-skills.md)
+ [Определение набора навыков](cognitive-search-defining-skillset.md)
