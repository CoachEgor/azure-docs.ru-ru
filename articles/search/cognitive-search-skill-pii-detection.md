---
title: Квалифицированный опыт распознавания персонала (Предварительная версия)
titleSuffix: Azure Cognitive Search
description: Извлечение и маскирование личных сведений из текста в конвейере обогащения в Azure Когнитивный поиск. Этот навык в настоящее время доступен в общедоступной предварительной версии.
manager: nitinme
author: careyjmac
ms.author: chalton
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 1/27/2020
ms.openlocfilehash: 7011d971ddb1888b312173a42ecd4a50f0954395
ms.sourcegitcommit: 5d6ce6dceaf883dbafeb44517ff3df5cd153f929
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2020
ms.locfileid: "76849049"
---
#   <a name="pii-detection-cognitive-skill"></a>Опыт распознавания личных сведений

> [!IMPORTANT] 
> Этот навык в настоящее время доступен в общедоступной предварительной версии. Для предварительной версии функции соглашение об уровне обслуживания не предусмотрено. Мы не рекомендуем использовать ее в рабочей среде. Дополнительные сведения см. в статье [Дополнительные условия использования предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/). В настоящее время нет поддержки портала или пакета SDK для .NET.

Навык **обнаружения PII** извлекает личные сведения из входного текста и дает возможность маскировать его из этого текста различными способами. Этот навык использует модели машинного обучения, предоставляемые функцией [Анализ текста](https://docs.microsoft.com/azure/cognitive-services/text-analytics/overview) в Cognitive Services.

> [!NOTE]
> По мере расширения области путем увеличения частоты обработки и добавления большего количества документов или дополнительных алгоритмов ИИ, вам нужно будет [присоединить оплачиваемый ресурс Cognitive Services](cognitive-search-attach-cognitive-services.md). Плата взимается при вызове API в Cognitive Services и извлечении изображений при распознавании документов в службе "Когнитивный поиск Azure". За извлечение текста из документов плата не взимается.
>
> Плата за выполнение встроенных навыков взимается в рамках существующей [модели оплаты Cognitive Services по мере использования](https://azure.microsoft.com/pricing/details/cognitive-services/). Плата за извлечение изображений указана на [странице с ценами на службу "Когнитивный поиск Azure"](https://go.microsoft.com/fwlink/?linkid=2042400).


## <a name="odatatype"></a>@odata.type  
Microsoft. Skills. Text. Пиидетектионскилл

## <a name="data-limits"></a>Ограничения данных
Максимальный размер записи должен составлять 50 000 символов, измеряемый [`String.Length`](https://docs.microsoft.com/dotnet/api/system.string.length). Если необходимо разбить данные перед отправкой в навык, рассмотрите возможность использования уровня " [разделение текста](cognitive-search-skill-textsplit.md)".

## <a name="skill-parameters"></a>Параметры навыков

Параметры чувствительны к регистру, а все являются необязательными.

| Имя параметра     | Description |
|--------------------|-------------|
| defaultLanguageCode | Код языка вводимого текста. Сейчас поддерживается только `en`. |
| minimumPrecision | Значение в диапазоне от 0,0 до 1,0. Если показатель достоверности (в `piiEntities` выходных данных) меньше, чем значение параметра `minimumPrecision`, сущность не возвращается или маскируется. Значение по умолчанию — 0,0. |
| маскингмоде | Параметр, который предоставляет различные способы маскирования обнаруженных PII во входном тексте. Поддерживаются следующие варианты. <ul><li>`none` (по умолчанию): это означает, что маскирование не будет выполнено и выходные данные `maskedText` не будут возвращены. </li><li> `redact`: этот параметр удалит обнаруженные сущности из входного текста и не заменит их любым. Обратите внимание, что в этом случае смещение в выходных данных `piiEntities` будет по отношению к исходному тексту, а не к маскированному тексту. </li><li> `replace`: при выборе этого параметра обнаруженные сущности будут заменены символом, указанным в параметре `maskingCharacter`.  Символ будет повторяться до длины обнаруженной сущности, чтобы они правильно соответствовали входному тексту, а также выходному `maskedText`.</li></ul> |
| маскингчарактер | Символ, который будет использоваться для маскирования текста, если для параметра `maskingMode` задано значение `replace`. Поддерживаются следующие параметры: `*` (по умолчанию), `#`, `X`. Этот параметр может быть `null` только в том случае, если для `maskingMode` не задано значение `replace`. |


## <a name="skill-inputs"></a>Входные данные навыков

| Ввод имени      | Description                   |
|---------------|-------------------------------|
| languageCode  | Необязательный параметр. Значение по умолчанию — `en`.  |
| text          | Текст для анализа.          |

## <a name="skill-outputs"></a>Выходные данные навыка

| Имя вывода     | Description                   |
|---------------|-------------------------------|
| пииентитиес | Массив сложных типов, содержащий следующие поля: <ul><li>текст (реальные PII как извлеченные)</li> <li>type</li><li>Подтип</li><li>Оценка (более высокое значение означает, что скорее всего будет реальная сущность)</li><li>смещение (во входном тексте)</li><li>length</li></ul> </br> [Возможные типы и подтипы можно найти здесь.](https://docs.microsoft.com/azure/cognitive-services/text-analytics/named-entity-types?tabs=personal) |
| маскедтекст | Если для `maskingMode` задано значение, отличное от `none`, то этот результат будет строковым результатом маскирования, выполняемого для входного текста, как описано в выбранном `maskingMode`.  Если `maskingMode` имеет значение `none`, эти выходные данные будут отсутствовать. |

##  <a name="sample-definition"></a>Пример определения

```json
  {
    "@odata.type": "#Microsoft.Skills.Text.PIIDetectionSkill",
    "defaultLanguageCode": "en",
    "minimumPrecision": 0.5,
    "maskingMode": "replace",
    "maskingCharacter": "*",
    "inputs": [
      {
        "name": "text",
        "source": "/document/content"
      }
    ],
    "outputs": [
      {
        "name": "piiEntities"
      },
      {
        "name": "maskedText"
      }
    ]
  }
```
##  <a name="sample-input"></a>Пример ввода

```json
{
    "values": [
      {
        "recordId": "1",
        "data":
           {
             "text": "Microsoft employee with ssn 859-98-0987 is using our awesome API's."
           }
      }
    ]
}
```

##  <a name="sample-output"></a>Пример выходных данных

```json
{
  "values": [
    {
      "recordId": "1",
      "data" : 
      {
        "piiEntities":[ 
           { 
              "text":"859-98-0987",
              "type":"U.S. Social Security Number (SSN)",
              "subtype":"",
              "offset":28,
              "length":11,
              "score":0.65
           }
        ],
        "maskedText": "Microsoft employee with ssn *********** is using our awesome API's."
      }
    }
  ]
}
```


## <a name="error-and-warning-cases"></a>Случаи ошибок и предупреждений
Если код языка для документа не поддерживается, возвращается предупреждение, и сущности не извлекаются.
Если текст пуст, появится предупреждение.
Если текст больше 50 000 знаков, будут проанализированы только первые 50 000 знаков и появится предупреждение.

Если навык возвращает предупреждение, `maskedText` вывода может быть пустым.  Это означает, что если вы ожидаете, что выходные данные будут существовать для последующего опыта, он не будет работать должным образом. Помните об этом при написании определения набора навыков.

## <a name="see-also"></a>См. также

+ [Встроенные навыки](cognitive-search-predefined-skills.md)
+ [Определение набора навыков](cognitive-search-defining-skillset.md)
