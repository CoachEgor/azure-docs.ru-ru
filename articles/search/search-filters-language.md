---
title: Языковые фильтры многоязычного содержимого в индексе поиска (служба "Поиск Azure")
description: Сведения об условии фильтра, которое обеспечивает поддержку многоязычного поиска и ограничивает область выполнения запроса до определенных языковых полей.
author: HeidiSteen
manager: cgronlun
services: search
ms.service: search
ms.workload: search
ms.topic: conceptual
ms.date: 10/23/2017
ms.author: heidist
ms.custom: seodec2018
ms.openlocfilehash: 695fdfba1573ff97b05f8e8b50a05bef9dbf48de
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "61289627"
---
# <a name="how-to-filter-by-language-in-azure-search"></a>Фильтрация по языку в службе "Поиск Azure" 

Основным требованием к многоязычному приложению поиска является возможность выполнять поиск и извлекать результаты на языке пользователя. В службе "Поиск Azure" одним из способов выполнения языковых требований многоязычного приложения является создание серии полей, предназначенных для хранения строк на определенном языке, а затем ограничивание полнотекстового поиска только этими полями во время запроса.

Параметры запроса используются для ограничения операции поиска, а затем обрезки результатов полей, которые не предоставили содержимого, совместимого с возможностями поиска, которые необходимо доставить.

| Параметры | Назначение |
|-----------|--------------|
| **searchFields** | Ограничивает полнотекстовый поиск до списка именованных полей. |
| **$select** | Обрезает ответ, включая только указанные поля. По умолчанию возвращаются все извлекаемые поля. Параметр **$Select** позволяет выбрать, какие из них следует вернуть. |

Успех этого метода зависит от целостности содержимого поля. Служба "Поиск Azure" не переводит строки или не определяет язык. Вы должны убедиться, что поля содержат ожидаемые строки.

## <a name="define-fields-for-content-in-different-languages"></a>Определение полей для содержимого на разных языках

В службе "Поиск Azure" все запросы выполняются к одному индексу. Разработчики, желающие предоставить языковые строки в одном поисковом интерфейсе, обычно задают выделенные поля для хранения значений: одно поле для строк на английском, одно для строк на французском и т. д. 

В наших примерах, включая [доступный пример](search-get-started-portal.md), показанный ниже, можно увидеть определения поля, как на снимке экрана ниже. Обратите внимание на то, как в этом примере показаны присвоения анализатора языка полей в этом индексе. Поля, содержащие строки, работают быстрее в полнотекстовом поиске, когда они объединены с анализатором, спроектированным для обработки лингвистических правил целевого языка.

  ![](./media/search-filters-language/lang-fields.png)

> [!Note]
> Примеры кода, показывающие определения полей с помощью анализаторов языков, см. в разделе [Определение индекса службы поиска Azure](https://docs.microsoft.com/azure/search/search-create-index-dotnet) и [Определение индекса службы поиска Azure с помощью JSON-содержимого правильного формата](search-create-index-rest-api.md).

## <a name="build-and-load-an-index"></a>Построение и загрузка индекса

Промежуточным (и, возможно, очевидным) шагом является [сборка и заполнение индекса](https://docs.microsoft.com/azure/search/search-create-index-dotnet) перед формулировкой запроса. Здесь мы упомянем этот шаг для полноты картины. Один из способов определить доступность индекса — это проверить список индексов на [портале](https://portal.azure.com).

## <a name="constrain-the-query-and-trim-results"></a>Ограничение запроса и усечение результатов

Параметры запроса используются для ограничения поиска конкретных полей, а затем усечения результатов всех полей, которые не полезны для сценария. Учитывая цель ограничения поиска по полям, содержащим французские строки, нужно использовать **searchFields** для целевого запроса в полях, содержащих строки на этом языке. 

По умолчанию поиск возвращает все поля, которые помечены как извлекаемые. Таким образом может потребоваться исключить поля, которые не соответствуют языковому интерфейсу поиска, который необходимо предоставить. В частности при ограничении поиска до полей со строками на французском языке, может потребоваться исключить из результатов поля со строками на английском языке. С помощью параметра запроса **$select** можно контролировать какие поля возвращаются вызывающему приложению.

```csharp
parameters =
    new SearchParameters()
    {
        searchFields = "description_fr" 
        Select = new[] { "description_fr"  }
    };
```
> [!Note]
> Хотя в запросе нет аргумента $filter, этот вариант использования сильно связан с понятиями фильтра, поэтому мы представляем его в качестве сценария фильтрации.

## <a name="see-also"></a>См. также

+ [Фильтры в службе "Поиск Azure"](search-filters.md)
+ [Языковые анализаторы](https://docs.microsoft.com/rest/api/searchservice/language-support)
+ [Как работает полнотекстовый поиск в службе поиска Azure](search-lucene-query-architecture.md)
+ [Search Documents (Azure Search Service REST API)](https://docs.microsoft.com/rest/api/searchservice/search-documents) (Поиск по документам (REST API службы поиска Azure))

