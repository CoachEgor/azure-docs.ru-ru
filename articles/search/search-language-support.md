---
title: Многоязычная индексация для поисковых запросов, не относящих сявок на английском языке
titleSuffix: Azure Cognitive Search
description: Azure Cognitive Search поддерживает 56 языков, используя анализаторы языка от Lucene и технологии обработки естественного языка от корпорации Майкрософт.
manager: nitinme
author: yahnoosh
ms.author: jlembicz
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 11/04/2019
ms.openlocfilehash: ca2bc66c755da2011cc7016f37b194caa6200d9a
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "72793596"
---
# <a name="how-to-create-an-index-for-multiple-languages-in-azure-cognitive-search"></a>Как создать индекс для нескольких языков в Azure Cognitive Search

Индексы могут включать поля, содержащие содержимое нескольких языков, например, создание отдельных полей для строк, специфичные для языка. Для достижения наилучших результатов при индексации и запросе назначаем анализатор языка, который предоставляет соответствующие лингвистические правила. 

Azure Cognitive Search предлагает большой выбор языковых анализаторов от Lucene и Microsoft, которые могут быть назначены отдельным полям с использованием свойства анализатора. Вы также можете указать анализатор языка на портале, как описано в этой статье.

## <a name="add-analyzers-to-fields"></a>Добавление анализаторов в поля

При создании поля указывается анализатор языка. Добавление анализатора к существующему определению поля требует перезаписи (и перезарядки) индекса или создания нового поля, идентичного исходу, но с назначением анализатора. Затем можно удалить неиспользованное поле в удобное для вас время.

1. Войдите на [портал Azure](https://portal.azure.com) и найдите свой поисковый сервис.
1. Щелкните **Добавить индекс** на панели команд вверху панели мониторинга службы, чтобы создать новый индекс, или откройте существующий индекс, чтобы задать анализатор в добавляемых в него полях.
1. Начните определение поля, предоставив имя.
1. Выберите тип данных Edm.String. Только полей строки полнотекстовые поиск.
1. Установите атрибут **поиска,** чтобы включить свойство анализатора. Поле должно быть текстовым, чтобы использовать анализатор языка.
1. Выберите один из доступных анализаторов. 

![Назначать анализаторы языка во время определения поля](media/search-language-support/select-analyzer.png "Назначать анализаторы языка во время определения поля")

По умолчанию все поля поиска используют [анализатор Standard Lucene,](https://lucene.apache.org/core/6_6_1/core/org/apache/lucene/analysis/standard/StandardAnalyzer.html) который является языко-агностиком. Чтобы просмотреть полный список поддерживаемых анализаторов, [см.](index-add-language-analyzers.md)

На портале, анализаторы предназначены для использования как-это. Если требуется настройка или определенная конфигурация фильтров и токенизаторов, следует [создать пользовательский анализатор](index-add-custom-analyzers.md) в коде. Портал не поддерживает выбор или настройку пользовательских анализаторов.

## <a name="query-language-specific-fields"></a>Области, связанные с языком запросов

Выбранный для поля анализатор языка будет использоваться при каждом запросе индексирования и поиска для этого поля. Когда запрос выдается в отношении нескольких полей с использованием различных анализаторов, запрос будет обрабатываться независимо назначенными анализаторами для каждого поля.

Если известен язык агента, отправившего запрос, запрос поиска можно ограничить определенным полем с помощью параметра **searchFields** . Следующий запрос будет применен только к описанию на польском языке:

`https://[service name].search.windows.net/indexes/[index name]/docs?search=darmowy&searchFields=PolishContent&api-version=2019-05-06`

Вы можете задать запрос на свой индекс с портала, используя [**Search Explorer**](search-explorer.md) для вставки в запрос, аналогичный тому, который показан выше.

## <a name="boost-language-specific-fields"></a>Увеличьте языковые поля

Если язык агента, отправившего запрос, неизвестен, запрос можно применить ко всем полям одновременно. При необходимости можно сделать какой-то язык предпочтительным, воспользовавшись [профилями оценки](index-add-scoring-profiles.md). В следующем примере совпадения, найденные в описании на английском языке, получат более высокую оценку, чем совпадения на польском или французском языках:

    "scoringProfiles": [
      {
        "name": "englishFirst",
        "text": {
          "weights": { "description_en": 2 }
        }
      }
    ]

`https://[service name].search.windows.net/indexes/[index name]/docs?search=Microsoft&scoringProfile=englishFirst&api-version=2019-05-06`

## <a name="next-steps"></a>Дальнейшие действия

Если вы являетесь разработчиком .NET, обратите внимание, что вы можете настроить анализаторы языка с помощью [Azure Cognitive Search .NET SDK](https://www.nuget.org/packages/Microsoft.Azure.Search) и свойства [анализатора.](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.models.analyzer?view=azure-dotnet) 