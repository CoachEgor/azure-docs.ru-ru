---
title: Управление версиями API для .NET и REST
titleSuffix: Azure Cognitive Search
description: Политика версии для API Azure Cognitive Search REST и клиентской библиотеки в .NET SDK.
manager: nitinme
author: brjohnstmsft
ms.author: brjohnst
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 11/04/2019
ms.openlocfilehash: 178f56354120bf7a65c51f1c9cf54e34bd011d97
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79137294"
---
# <a name="api-versions-in-azure-cognitive-search"></a>Версии API в когнитивном поиске Azure

Azure Cognitive Search регулярно выкатывает обновления функций. Иногда (но не всегда) для сохранения обратной совместимости для этих обновлений требуется новая версия API. Публикация новой версии позволяет вам выбирать, когда и как интегрировать обновления службы поиска в код.

Как правило, команда Azure Cognitive Search публикует новые версии только в случае необходимости, так как это может потребовать некоторых усилий для обновления кода для использования новой версии API. Новая версия требуется только в том случае, если изменился какой-то аспект API и такое изменение нарушает обратную совместимость. Это может быть связано с исправлением имеющихся сбоев или с тем, что новые функции затрагивают имеющуюся контактную зону API.

Это же правило применяется к обновлениям пакета SDK. SDK Azure Cognitive Search следует правилам [семантического варианта,](https://semver.org/) что означает, что его версия имеет три части: мажорную, незначительную и номер сборки (например, 1.1.0). Основная версия пакета SDK выпускается только в том случае, если изменения нарушают обратную совместимость. В других обновлениях увеличивается номер вспомогательный версии, а в случае исправлений меняется только номер сборки.

> [!NOTE]
> Ваш экземпляр службы cognitive Search Azure поддерживает несколько версий REST API, включая последнюю. Можно продолжать использовать версию, которая больше не является последней, но рекомендуется выполнить перенос кода, чтобы использовать последнюю версию. При использовании REST API необходимо указывать версию API в каждом запросе с помощью параметра api-version. При использовании пакета SDK для .NET версия пакета SDK, которую вы используете, определяет соответствующую версию REST API. Если вы используете устаревшую версию пакета SDK, можно продолжать выполнять этот код без изменений, даже если служба обновлена для поддержки более новой версии API.

## <a name="snapshot-of-current-versions"></a>Текущие версии
Ниже приведен снимок текущих версий всех интерфейсов программирования для Azure Cognitive Search.


| Интерфейсы | Последняя основная версия | Состояние |
| --- | --- | --- |
| [Пакет SDK для .NET](https://aka.ms/search-sdk) |9.0 |Общедоступно, выпущено май 2019 |
| [Предварительная версия пакета SDK для .NET](https://aka.ms/search-sdk-preview) |8.0-предварительный просмотр |Предварительный просмотр, выпущенный в апреле 2019 года |
| [API REST службы](https://docs.microsoft.com/rest/api/searchservice/) |2019-05-06 |Общедоступная версия |
| [Сервис REST API 2019-05-06-Preview](search-api-preview.md) |2019-05-06-Предварительный просмотр |Preview (Предварительный просмотр) |
| [Пакет SDK управления для .NET](https://aka.ms/search-mgmt-sdk) |3.0 |Общедоступная версия |
| [Интерфейс API REST для управления.](https://docs.microsoft.com/rest/api/searchmanagement/) |2020-03-13|Общедоступная версия |

Для REST API в каждый вызов необходимо добавить `api-version` . Использование версии `api-version` позволяет указать на конкретную версию, например на API в режиме предварительной версии. В следующем примере демонстрируется, как указывать параметр `api-version` .

    GET https://my-demo-app.search.windows.net/indexes/hotels?api-version=2019-05-06

> [!NOTE]
> Несмотря на то, что каждый запрос содержит параметр `api-version`, мы рекомендуем использовать одну и ту же версию для всех запросов API. Это особенно важно в тех случаях, когда новые версии API вводят атрибуты и операции, которые в предыдущих версиях не распознаются. Смешивание версий API может привести к непредвиденным последствиям, поэтому его следует избегать.
>
> API REST службы и API REST управления получают номера версий независимо друг от друга. Любое сходство в номерах версий случайно.

Общедоступные API (GA) можно использовать в рабочей среде при условии соблюдения соглашений об уровне обслуживания для Azure. Предварительные версии содержат экспериментальные функции, которые не всегда переходят в общедоступные версии. **Мы не рекомендуем использовать предварительные версии API в рабочих приложениях.**

## <a name="update-to-the-latest-version-of-the-rest-api-by-october-15-2020"></a>Обновление до последней версии REST API до 15 октября 2020 года
Следующие версии Azure Cognitive Search REST API будут удалены и больше не будут поддерживаться по состоянию на 15 октября 2020 года: **2014-07-31-Preview**, **2014-10-20-Preview**, **2015-02-28-Preview**, и **2015-02-28**. Кроме того, версии Azure Cognitive Search .NET SDK старше **3.0.0 rc** также будут удалены, поскольку они нацелены на одну из этих версий REST API. После этой даты приложения, которые используют любую из устаревших версий REST API или SDK, больше не будут работать и должны быть обновлены. Как и в случае с любым изменением этого типа, мы даем уведомление 12 месяцев, так что у вас есть достаточно времени, чтобы приспособиться.  Чтобы продолжить использование Azure Cognitive Search, пожалуйста, переимите существующий код, нацеленный на [REST API,](search-api-migration.md) [на версию REST API 2019-05-06](https://docs.microsoft.com/rest/api/searchservice/) или более новую или .NET SDK в [версию 3.0](search-dotnet-sdk-migration.md) или более новую к 15 октября 2020 года.  Если у вас есть вопросы об обновлении azuresearch_contact@microsoft.com последней версии, пожалуйста, отправьте почту до 15 мая 2020 года, чтобы у вас было достаточно времени для обновления кода.

## <a name="about-preview-and-generally-available-versions"></a>О предварительной и общедоступной версиях
Azure Cognitive Search всегда заранее выпускает экспериментальные функции сначала через REST API, а затем через пререлизные версии .NET SDK.

Функции предварительной версии доступны для тестирования и экспериментов с целью получения отзывов о разработке и реализации функций. По этой причине функции предварительной версии могут со временем изменяться, и такие изменения могут нарушать обратную совместимость. В этом отличие от функций в общедоступной версии, которые являются стабильными и вряд ли будут изменены, за исключением небольших исправлений и улучшений, не нарушающих обратную совместимость. Кроме того, функции предварительной версии не всегда реализуются в выпуске общедоступной версии.

По этим причинам мы не рекомендуем включать в рабочие коды зависимости от предварительных версий. Если вы пользуетесь более ранней предварительной версией, рекомендуем вам перейти на общедоступную версию (GA).

Пакет SDK для .NET: инструкции по переносу кода см. в статье об [обновлении пакета SDK для .NET](search-dotnet-sdk-migration-version-9.md).

Общая доступность означает, что Azure Cognitive Search теперь находится в соответствии с соглашением об уровне обслуживания (SLA). SLA можно найти в [соглашениях уровня когнитивных поисковых услуг Azure.](https://azure.microsoft.com/support/legal/sla/search/v1_0/)
