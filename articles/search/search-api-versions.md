---
title: Управление версиями API для .NET и RESTFUL
titleSuffix: Azure Cognitive Search
description: Политика версий для Azure Когнитивный поиск API-интерфейсы RESTFUL и клиентской библиотеки в пакете SDK для .NET.
manager: nitinme
author: brjohnstmsft
ms.author: brjohnst
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 11/04/2019
ms.openlocfilehash: 178f56354120bf7a65c51f1c9cf54e34bd011d97
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "79137294"
---
# <a name="api-versions-in-azure-cognitive-search"></a>Версии API в Azure Когнитивный поиск

Azure Когнитивный поиск регулярно разворачивает обновления компонентов. Иногда (но не всегда) для сохранения обратной совместимости для этих обновлений требуется новая версия API. Публикация новой версии позволяет вам выбирать, когда и как интегрировать обновления службы поиска в код.

Как правило, Группа Когнитивный поиск Azure публикует новые версии только при необходимости, поскольку она может потребовать некоторых усилий по обновлению кода для использования новой версии API. Новая версия требуется только в том случае, если изменился какой-то аспект API и такое изменение нарушает обратную совместимость. Это может быть связано с исправлением имеющихся сбоев или с тем, что новые функции затрагивают имеющуюся контактную зону API.

Это же правило применяется к обновлениям пакета SDK. Пакет SDK для Когнитивный поиск Azure соответствует правилам [семантического управления версиями](https://semver.org/) . Это означает, что его версия состоит из трех частей: основного, дополнительного и номера сборки (например, 1.1.0). Основная версия пакета SDK выпускается только в том случае, если изменения нарушают обратную совместимость. В других обновлениях увеличивается номер вспомогательный версии, а в случае исправлений меняется только номер сборки.

> [!NOTE]
> Экземпляр службы Когнитивный поиск Azure поддерживает несколько версий REST API, включая последнюю. Можно продолжать использовать версию, которая больше не является последней, но рекомендуется выполнить перенос кода, чтобы использовать последнюю версию. При использовании REST API необходимо указывать версию API в каждом запросе с помощью параметра api-version. При использовании пакета SDK для .NET версия пакета SDK, которую вы используете, определяет соответствующую версию REST API. Если вы используете устаревшую версию пакета SDK, можно продолжать выполнять этот код без изменений, даже если служба обновлена для поддержки более новой версии API.

## <a name="snapshot-of-current-versions"></a>Текущие версии
Ниже приведен моментальный снимок текущих версий всех программных интерфейсов в Azure Когнитивный поиск.


| Интерфейсы | Последняя основная версия | Состояние |
| --- | --- | --- |
| [Пакет SDK для .NET](https://aka.ms/search-sdk) |9.0 |Выпущена общедоступная версия, Май 2019 |
| [Предварительная версия пакета SDK для .NET](https://aka.ms/search-sdk-preview) |8,0 — Предварительная версия |Предварительная версия, выпущенная 2019 апреля |
| [API REST службы](https://docs.microsoft.com/rest/api/searchservice/) |2019-05-06 |Общедоступная версия |
| [Служба REST API 2019-05-06-Preview](search-api-preview.md) |2019-05-06 — Предварительная версия |Preview (Предварительный просмотр) |
| [Пакет SDK управления для .NET](https://aka.ms/search-mgmt-sdk) |3.0 |Общедоступная версия |
| [Интерфейс API REST для управления.](https://docs.microsoft.com/rest/api/searchmanagement/) |2020-03-13|Общедоступная версия |

Для REST API в каждый вызов необходимо добавить `api-version` . Использование версии `api-version` позволяет указать на конкретную версию, например на API в режиме предварительной версии. В следующем примере демонстрируется, как указывать параметр `api-version` .

    GET https://my-demo-app.search.windows.net/indexes/hotels?api-version=2019-05-06

> [!NOTE]
> Несмотря на то, что каждый запрос содержит параметр `api-version`, мы рекомендуем использовать одну и ту же версию для всех запросов API. Это особенно важно в тех случаях, когда новые версии API вводят атрибуты и операции, которые в предыдущих версиях не распознаются. Смешивание версий API может привести к непредвиденным последствиям, поэтому его следует избегать.
>
> API REST службы и API REST управления получают номера версий независимо друг от друга. Любое сходство в номерах версий случайно.

Общедоступные API (GA) можно использовать в рабочей среде при условии соблюдения соглашений об уровне обслуживания для Azure. Предварительные версии содержат экспериментальные функции, которые не всегда переходят в общедоступные версии. **Мы не рекомендуем использовать предварительные версии API в рабочих приложениях.**

## <a name="update-to-the-latest-version-of-the-rest-api-by-october-15-2020"></a>Обновление до последней версии REST API до 15 октября 2020 г.
Следующие версии REST API Когнитивный поиск Azure будут сняты с учета и больше не поддерживаются 15 октября 2020: **2014-07-31-Preview**, **2014-10-20-Preview**, **2015-02-28-Preview**и **2015-02-28**. Кроме того, версии пакета SDK Azure Когнитивный поиск .NET старше, чем **3.0.0-RC** , будут также удалены с тех пор, пока они нацелены на одну из этих REST API версий. После этой даты приложения, использующие любую из устаревших REST API или версий пакета SDK, больше не будут работать и должны быть обновлены. Как и при любом изменении этого типа, мы предоставляем уведомление на 12 месяцев, поэтому у вас достаточно времени для корректировки.  Чтобы продолжить использовать Когнитивный поиск Azure, перенесите существующий код, предназначенный для [REST API](search-api-migration.md) , на [REST API версии 2019-05-06](https://docs.microsoft.com/rest/api/searchservice/) или более поздней, или пакет SDK для .NET [версии 3,0](search-dotnet-sdk-migration.md) или более поздней, чем 15 октября 2020.  Если у вас возникли вопросы по обновлению до последней версии, отправьте письмо azuresearch_contact@microsoft.com по адресу 15 мая 2020, чтобы убедиться в наличии достаточного времени для обновления кода.

## <a name="about-preview-and-generally-available-versions"></a>О предварительной и общедоступной версиях
Когнитивный поиск Azure всегда предварительно выпускают экспериментальные функции с помощью REST API, а затем — предварительные версии пакета SDK для .NET.

Функции предварительной версии доступны для тестирования и экспериментов с целью получения отзывов о разработке и реализации функций. По этой причине функции предварительной версии могут со временем изменяться, и такие изменения могут нарушать обратную совместимость. В этом отличие от функций в общедоступной версии, которые являются стабильными и вряд ли будут изменены, за исключением небольших исправлений и улучшений, не нарушающих обратную совместимость. Кроме того, функции предварительной версии не всегда реализуются в выпуске общедоступной версии.

По этим причинам мы не рекомендуем включать в рабочие коды зависимости от предварительных версий. Если вы пользуетесь более ранней предварительной версией, рекомендуем вам перейти на общедоступную версию (GA).

Пакет SDK для .NET: инструкции по переносу кода см. в статье об [обновлении пакета SDK для .NET](search-dotnet-sdk-migration-version-9.md).

Общедоступная доступность означает, что Azure Когнитивный поиск теперь находится под соглашением об уровне обслуживания (SLA). Соглашение об уровне обслуживания можно найти в [подКогнитивный поиск соглашениях уровня обслуживания Azure](https://azure.microsoft.com/support/legal/sla/search/v1_0/).
