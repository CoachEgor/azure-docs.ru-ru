---
title: Управление версиями API пакета SDK для .NET и интерфейсов REST API в службе "Поиск Azure"
description: Политика управления версиями для API REST службы поиска Azure и клиентской библиотеки пакетов SDK для .NET.
author: brjohnstmsft
manager: jlembicz
services: search
ms.service: search
ms.devlang: dotnet
ms.topic: conceptual
ms.date: 05/02/2019
ms.author: brjohnst
ms.openlocfilehash: 21374e20a2ba2c9134ed12e4b1072ff5c320c75e
ms.sourcegitcommit: f6ba5c5a4b1ec4e35c41a4e799fb669ad5099522
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/06/2019
ms.locfileid: "65149778"
---
# <a name="api-versions-in-azure-search"></a>Версии API в службе поиска Azure
Служба поиска Azure развертывает обновления компонентов на регулярной основе. Иногда (но не всегда) для сохранения обратной совместимости для этих обновлений требуется новая версия API. Публикация новой версии позволяет вам выбирать, когда и как интегрировать обновления службы поиска в код.

Как правило, команда службы "Поиск Azure" публикует новые версии только при необходимости, так как обновление кода для использования новой версии API требует определенных усилий. Новая версия требуется только в том случае, если изменился какой-то аспект API и такое изменение нарушает обратную совместимость. Это может быть связано с исправлением имеющихся сбоев или с тем, что новые функции затрагивают имеющуюся контактную зону API.

Это же правило применяется к обновлениям пакета SDK. Пакеты SDK для службы поиска Azure следуют правилам [семантического управления версиями](https://semver.org/) , а значит, номера версий состоят из трех частей: номера основной версии, номера вспомогательной версии и номера сборки (например 1.1.0). Основная версия пакета SDK выпускается только в том случае, если изменения нарушают обратную совместимость. В других обновлениях увеличивается номер вспомогательный версии, а в случае исправлений меняется только номер сборки.

> [!NOTE]
> Экземпляр службы поиска Azure поддерживает несколько версий REST API, включая последнюю. Можно продолжать использовать версию, которая больше не является последней, но рекомендуется выполнить перенос кода, чтобы использовать последнюю версию. При использовании REST API необходимо указывать версию API в каждом запросе с помощью параметра api-version. При использовании пакета SDK для .NET версия пакета SDK, которую вы используете, определяет соответствующую версию REST API. Если вы используете устаревшую версию пакета SDK, можно продолжать выполнять этот код без изменений, даже если служба обновлена для поддержки более новой версии API.

## <a name="snapshot-of-current-versions"></a>Текущие версии
В следующей таблице перечислены текущие версии всех интерфейсов программирования в службе поиска Azure.


| Интерфейсы | Последняя основная версия | Status |
| --- | --- | --- |
| [ПАКЕТ SDK .NET](https://aka.ms/search-sdk) |9.0 |Общедоступная версия, выпущенная мая 2019 г. |
| [Предварительная версия пакета SDK для .NET](https://aka.ms/search-sdk-preview) |8.0.0-Preview |Предварительная версия, выпущенная апреля 2019 г. |
| [API REST службы](https://docs.microsoft.com/rest/api/searchservice/) |2019-05-06 |Общедоступная версия |
| [API 2019 REST службы-05-06-Preview](search-api-preview.md) |2019-05-06-preview |Предварительный просмотр |
| [Пакет SDK управления для .NET](https://aka.ms/search-mgmt-sdk) |3.0 |Общедоступная версия |
| [Интерфейс API REST для управления.](https://docs.microsoft.com/rest/api/searchmanagement/) |2015-08-19 |Общедоступная версия |

Для REST API в каждый вызов необходимо добавить `api-version` . Использование версии `api-version` позволяет указать на конкретную версию, например на API в режиме предварительной версии. В следующем примере демонстрируется, как указывать параметр `api-version` .

    GET https://my-demo-app.search.windows.net/indexes/hotels?api-version=2019-05-06

> [!NOTE]
> Несмотря на то, что каждый запрос содержит параметр `api-version`, мы рекомендуем использовать одну и ту же версию для всех запросов API. Это особенно важно в тех случаях, когда новые версии API вводят атрибуты и операции, которые в предыдущих версиях не распознаются. Смешивание версий API может привести к непредвиденным последствиям, поэтому его следует избегать.
>
> API REST службы и API REST управления получают номера версий независимо друг от друга. Любое сходство в номерах версий случайно.

Общедоступные API (GA) можно использовать в рабочей среде при условии соблюдения соглашений об уровне обслуживания для Azure. Предварительные версии содержат экспериментальные функции, которые не всегда переходят в общедоступные версии. **Мы не рекомендуем использовать предварительные версии API в рабочих приложениях.**

## <a name="about-preview-and-generally-available-versions"></a>О предварительной и общедоступной версиях
Экспериментальные функции для службы поиска Azure сначала реализуются в API REST и только потом в предварительных версиях пакета SDK для .NET.

Функции предварительной версии доступны для тестирования и экспериментов с целью получения отзывов о разработке и реализации функций. По этой причине функции предварительной версии могут со временем изменяться, и такие изменения могут нарушать обратную совместимость. В этом отличие от функций в общедоступной версии, которые являются стабильными и вряд ли будут изменены, за исключением небольших исправлений и улучшений, не нарушающих обратную совместимость. Кроме того, функции предварительной версии не всегда реализуются в выпуске общедоступной версии.

По этим причинам мы не рекомендуем включать в рабочие коды зависимости от предварительных версий. Если вы пользуетесь более ранней предварительной версией, рекомендуем вам перейти на общедоступную версию (GA).

Пакет SDK для .NET. Инструкции по переносу кода см. в статье [Обновление пакета SDK службы поиска Azure для .NET до версии 3](search-dotnet-sdk-migration-version-9.md).

Общая доступность означает, что служба поиска Azure подчиняется соглашению об уровне обслуживания (SLA). Соглашение об уровне обслуживания для службы поиска Azure см. в [этой статье](https://azure.microsoft.com/support/legal/sla/search/v1_0/).
