---
title: Начало работы со службой "Поиск Azure" в Node.js
description: Пошаговое создание приложения поиска в облачной службе поиска Azure с использованием Node.js в качестве языка программирования.
author: jj09
manager: jlembicz
services: search
ms.service: search
ms.topic: conceptual
ms.date: 04/26/2017
ms.author: jjed
ms.custom: seodec2018
ms.openlocfilehash: 1b37b3c52abd3750c3452a46bdf5b0c5954de4dd
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61289209"
---
# <a name="get-started-with-azure-search-in-nodejs"></a>Начало работы со службой поиска Azure на Node.js
> [!div class="op_single_selector"]
> * [Портал](search-get-started-portal.md)
> * [.NET](search-howto-dotnet-sdk.md)
> 
> 

Узнайте, как создать собственное приложение поиска на Node.js на базе службы поиска Azure. В этом руководстве [REST API службы поиска Azure](https://msdn.microsoft.com/library/dn798935.aspx) используется для создания объектов и операций, используемых в этом уроке.

Мы использовали [Node.js](https://Nodejs.org) и NPM, [Sublime Text 3](https://www.sublimetext.com/3) и Windows PowerShell в Windows 8.1 для разработки и проверки этого кода.

Чтобы запустить этот пример, вам потребуется служба поиска Azure. Создать в ней учетную запись можно на [портале Azure](https://portal.azure.com). Пошаговые инструкции приведены в статье [Создание службы "Поиск Azure" на портале](search-create-service-portal.md).

## <a name="about-the-data"></a>О данных
В этом примере приложения используются данные [Геологической службы США (USGS)](https://geonames.usgs.gov/domestic/download_data.htm), отфильтрованные по штату Род-Айленд для сокращения размера набора данных. Мы будем использовать эти данные при создании приложения поиска, возвращающего важные здания, такие как больницы и школы, а также геологические объекты, например реки, озера и вершины.

В этом приложении программа **DataIndexer** создает и загружает индекс с помощью конструкции [индексатора](https://msdn.microsoft.com/library/azure/dn798918.aspx), получая отфильтрованный набор данных USGS из общедоступной Базы данных SQL Azure. Учетные данные и сведения о подключении к сетевому источнику данных предоставляются в программном коде. Дальнейшая настройка не требуется.

> [!NOTE]
> Мы применили фильтр к этому набору данных, чтобы не превысить ограничение бесплатной ценовой категории в 10 000 документов. Если используется стандартная категория, это ограничение не накладывается. Дополнительные сведения об ограничениях каждой ценовой категории см. в статье [Ограничения поиска Azure](search-limits-quotas-capacity.md).
> 
> 

<a id="sub-2"></a>

## <a name="find-the-service-name-and-api-key-of-your-azure-search-service"></a>Поиск имени службы и ключа API службы поиска Azure
Создав службу, вернитесь на портал, чтобы получить URL-адрес или `api-key`. Для подключения к службе поиска вам потребуется как URL-адрес, так и `api-key`, чтобы проверить подлинность при вызове.

1. Выполните вход на [портал Azure](https://portal.azure.com).
2. На панели переходов щелкните **Служба поиска**, чтобы получить список всех служб поиска Azure, подготовленных для вашей подписки.
3. Выберите службу, которую вы хотите использовать.
4. На панели мониторинга службы должны отображаться элементы, указывающие на важную информацию, например значок ключа для доступа к ключам администратора.
5. Скопируйте URL-адрес службы, ключ администратора и ключ запроса. Все эти три элемента потребуются вам позже, при добавлении их в файл config.js.

## <a name="download-the-sample-files"></a>Загрузка примеров файлов
Загрузить пример можно одним из следующих способов.

1. Перейдите в раздел [search-node-indexer-demo](https://github.com/Azure-Samples/search-node-indexer-demo).
2. Нажмите кнопку **Загрузить ZIP-файл**, сохраните ZIP-файл, после чего извлеките все содержащиеся в нем файлы.

Все последующие изменения и операторы выполнения применяются к файлам в этой папке.

## <a name="update-the-configjs-with-your-search-service-url-and-api-key"></a>Обновление файла config.js. с помощью URL-адреса службы поиска и ключа API
С помощью ранее скопированного URL-адреса и ключа API укажите URL-адрес, ключ администратора и ключ запроса в файле конфигурации.

Ключи администратора предоставляют полный контроль над операциями службы, включая создание или удаление индекса и загрузку документов. Напротив, ключи запросов предназначены только для операций чтения, которые, как правило, используются клиентскими приложениями, подключающимися к Поиску Azure.

В этом примере мы добавили ключ запроса, чтобы закрепить лучший метод использования ключа запроса в клиентских приложениях.

На следующем снимке экрана показан файл **config.js**, открытый в текстовом редакторе, с обозначенными соответствующими записями, чтобы вы могли видеть места в файле, в которые необходимо добавить значения, допустимые для вашей службы поиска.

![][5]

## <a name="host-a-runtime-environment-for-the-sample"></a>Размещение среды выполнения для примера
Для примера требуется HTTP-сервер, который вы можете установить глобально с помощью npm.

Выполните следующие команды в окне PowerShell.

1. Перейдите в папку, содержащую файл **package.json**.
2. Введите `npm install`.
3. Введите `npm install -g http-server`.

## <a name="build-the-index-and-run-the-application"></a>Создание индекса и запуск приложения
1. Введите `npm run indexDocuments`.
2. Введите `npm run build`.
3. Введите `npm run start_server`.
4. В браузере откройте страницу `http://localhost:8080/index.html`

## <a name="search-on-usgs-data"></a>Поиск по данным USGS
Набор данных USGS включает записи, относящиеся к штату Род-Айленд. Если нажать кнопку **Поиск** в пустом поле поиска, вы получите 50 первых записей. Это настройка по умолчанию.

Если ввести условие поиска, поисковая система ищет конкретные записи. Попробуйте ввести региональное имя или название. "Роджер Уильямс" был первым губернатором Род-Айленда. В его честь названы многие парки, здания и школы.

![][9]

Вы также можете попробовать одно из следующих условий поиска:

* Потакет
* Пемброк
* гусь +мыс

## <a name="next-steps"></a>Дальнейшие действия
Это первое руководство по службе поиска Azure на базе Node.js и набора данных USGS. Мы будем постепенно расширять это руководство, чтобы рассказать о дополнительных функциях поиска, которые вы можете использовать в собственных решениях.

Если у вас уже есть опыт работы с Поиском Azure, вы можете использовать этот пример как фундамент для средств подбора (запросы опережающего ввода или автозаполнения), фильтров и фасетной навигации. Вы также можете улучшить страницу результатов поиска, добавив счетчики и пакетную обработку документов, чтобы пользователи могли просматривать результаты постранично.

Новичок в Поиске Azure? Мы рекомендуем ознакомиться с другими учебниками, чтобы получить представление о том, что вы можете создать. Посетите нашу [страницу документации](https://azure.microsoft.com/documentation/services/search/), чтобы найти дополнительные ресурсы. 

<!--Image references-->
[1]: ./media/search-get-started-Nodejs/create-search-portal-1.PNG
[2]: ./media/search-get-started-Nodejs/create-search-portal-2.PNG
[3]: ./media/search-get-started-Nodejs/create-search-portal-3.PNG
[5]: ./media/search-get-started-Nodejs/AzSearch-Nodejs-configjs.png
[9]: ./media/search-get-started-Nodejs/rogerwilliamsschool.png
