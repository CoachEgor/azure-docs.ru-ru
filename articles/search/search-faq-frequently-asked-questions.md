---
title: Часто задаваемые вопросы
titleSuffix: Azure Cognitive Search
description: Получите ответы на распространенные вопросы о службе когнитивного поиска Microsoft Azure, облачном сервисе поиска Microsoft Azure.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 04/10/2020
ms.openlocfilehash: d7ba62c795e23e41a1947def77300ffe5d2cc010
ms.sourcegitcommit: 8dc84e8b04390f39a3c11e9b0eaf3264861fcafc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/13/2020
ms.locfileid: "81262457"
---
# <a name="azure-cognitive-search---frequently-asked-questions-faq"></a>Azure Когнитивный поиск - часто задаваемые вопросы (Часто)

 Найдите ответы на часто задаваемые вопросы о концепциях, коде и сценариях, связанных с Azure Cognitive Search.

## <a name="platform"></a>Платформа

### <a name="how-is-azure-cognitive-search-different-from-full-text-search-in-my-dbms"></a>Чем Azure Cognitive Search отличается от полного поиска текста в моем DBMS?

Azure Cognitive Search поддерживает несколько источников данных, [лингвистический анализ для многих языков,](https://docs.microsoft.com/rest/api/searchservice/language-support) [пользовательский анализ интересных и необычных входов данных,](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search)управление рангом поиска через [профили скоринга](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)и пользовательские функции, такие как typeahead, подсветка хита и граненые навигации. Она также включает в себя другие функции, такие как поиск синонимов и синтаксис расширенных запросов, но они обычно не являются отличительными.

### <a name="can-i-pause-azure-cognitive-search-service-and-stop-billing"></a>Могу ли я приостановить службу когнитивного поиска Azure и прекратить выставление счетов?

Эту службу невозможно приостановить. При создании службы вам выделяются вычислительные ресурсы и ресурсы хранилища для монопольного использования. Их невозможно освобождать и восстанавливать по требованию.

## <a name="indexing-operations"></a>Операции индексирования

### <a name="move-backup-and-restore-indexes-or-index-snapshots"></a>Перемещение, резервное копирование и восстановление индексов или моментальных снимков?

На этапе разработки может потребоваться перемещение индекса между службами поиска. Например, для разработки индекса можно использовать базовый или бесплатный уровень ценообразования, а затем переместить его на стандартный или более высокий уровень для использования в производственном целях. 

Или может потребоваться резервное копирование снимка индекса в файлы, которые могут быть использованы для его последующего восстановления. 

Вы можете сделать все эти вещи с **индексом резервного копирования-восстановить** образец кода в этом [Azure Когнитивный поиск .NET образца репо](https://github.com/Azure-Samples/azure-search-dotnet-samples). 

Вы также можете [получить определение индекса](https://docs.microsoft.com/rest/api/searchservice/get-index) в любое время с помощью API Azure Cognitive Search REST.

В настоящее время на портале Azure нет встроенной функции извлечения, моментального снимка или резервного копирования. Тем не менее, мы рассматриваем возможность добавления резервного копирования и восстановления функциональности в будущем выпуске. Если вы хотите показать свою поддержку этой функции, проголосуйте по [голосу пользователя.](https://feedback.azure.com/forums/263029-azure-search/suggestions/8021610-backup-snapshot-of-index)

### <a name="can-i-restore-my-index-or-service-once-it-is-deleted"></a>Можно ли восстановить индекс или службу после удаления?

Нет, если вы удалите индекс или службу когнитивного поиска Azure, он не может быть восстановлен. При удалении службы когнитивного поиска Azure все индексы службы удаляются навсегда. Если вы удалите группу ресурсов Azure, содержащую одну или несколько служб когнитивного поиска Azure, все службы удаляются навсегда.  

Воссоздание ресурсов, таких как индексы, индексы, источники данных и навыки, требует их воссоздания из кода. 

Чтобы воссоздать индекс, необходимо повторно индексировать данные из внешних источников. По этой причине рекомендуется сохранить мастер-копию или резервную копию исходных данных в другом хранилище данных, например в базе данных Azure s'L или Cosmos DB.

В качестве альтернативы можно использовать пример кода **индекса резервного копирования в** этом [примере Azure Cognitive Search .NET](https://github.com/Azure-Samples/azure-search-dotnet-samples) для резервного копирования определения индекса и снимка индекса в серии файлов JSON. Позже, вы можете использовать инструмент и файлы для восстановления индекса, если это необходимо.  

### <a name="can-i-index-from-sql-database-replicas-applies-to-azure-sql-database-indexers"></a>Можно ли индексировать реплики баз данных SQL (относится к [индексаторам Базы данных SQL Azure](https://docs.microsoft.com/azure/search/search-howto-connecting-azure-sql-database-to-azure-search-using-indexers))?

Нет каких-либо ограничений на использование первичной или вторичной реплик в качестве источника данных при создании индекса "с нуля". Однако для обновления индекса с помощью добавочных обновлений (с учетом измененных записей) требуется первичная реплика. Это требование обусловлено особенностями Базы данных SQL, гарантирующими отслеживание изменений только в первичных репликах. Если вы попытаетесь использовать вторичные реплики для рабочей нагрузки обновления индекса, то нет никаких гарантий, что будут получены все данные.

## <a name="search-operations"></a>Операции поиска

### <a name="can-i-search-across-multiple-indexes"></a>Можно ли выполнять поиск по нескольким индексам?

Нет, эта операция не поддерживается. Поиск всегда ограничивается одним индексом.

### <a name="can-i-restrict-search-index-access-by-user-identity"></a>Могу ли я ограничить доступ к поисковому индексу по идентификации пользователя?

Вы можете реализовать [фильтры безопасности](https://docs.microsoft.com/azure/search/search-security-trimming-for-azure-search) с помощью фильтра `search.in()`. Этот фильтр отлично сочетается со [службами управления удостоверениями, такими как Azure Active Directory (AAD)](https://docs.microsoft.com/azure/search/search-security-trimming-for-azure-search-with-aad), позволяя фильтровать результаты поиска на основе определенного членства в группе.

### <a name="why-are-there-zero-matches-on-terms-i-know-to-be-valid"></a>Почему отображается ноль совпадений для терминов, которые точно являются действительными?

Чаще всего пользователи не знают, что каждый тип запроса поддерживает различные варианты поведения и уровни лингвистического анализа. Полный поиск текста, который является преобладающей рабочей нагрузкой, включает фазу языкового анализа, которая разбивает термины на корневые формы. Этот аспект анализа запросов позволяет охватить заметно больше возможных совпадений, так как разбитый на лексемы термин совпадает с гораздо большим количеством вариантов.

Но запросы по подстановочному знаку или регулярному выражению и запросы на поиск нечетких соответствий не анализируются как обычные запросы на поиск термина или фразы. Это может привести к низкому коэффициенту эффективности поиска, если запрос не соответствует проанализированной форме слова в индексе поиска. Для получения дополнительной информации о разборе запросов и [анализе](https://docs.microsoft.com/azure/search/search-lucene-query-architecture)см.

### <a name="my-wildcard-searches-are-slow"></a>Поиск с подстановочными знаками выполняется медленно.

Большинство запросов на поиск по подстановочному знаку, например по префиксу или регулярному выражению, а также запросов на поиск нечетких соответствий перезаписываются в системе с использованием соответствующих терминов в индексе поиска. Такой дополнительный процесс проверки индекса поиска увеличивает задержку. К тому же большие поисковые запросы, например `a*`, в которых с высокой вероятностью перезаписывается большое число терминов, могут выполняться очень медленно. Для высокопроизводительного поиска по подстановочным знакам рекомендуется определить [пользовательский анализатор](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search).

### <a name="why-is-the-search-rank-a-constant-or-equal-score-of-10-for-every-hit"></a>Почему для каждого совпадения отображается постоянная или одинаковая поисковая оценка, равная 1,0?

По умолчанию результаты поиска вычисляются на основе [статистических свойств совпадающих терминов](search-lucene-query-architecture.md#stage-4-scoring) и упорядочиваются по убыванию в результирующем наборе. Тем не менее некоторые типы запросов (с подстановочными знаками, префиксом и регулярными выражениями) всегда присваивают постоянную оценку общей оценке документа. В этом весь замысел. Azure Cognitive Search накладывает постоянный балл, чтобы матчи, найденные через расширение запроса, были включены в результаты, не влияя на рейтинг.

Например, предположим, что вход «тур» в поиск подстановочных знаков производит совпадения на «турах», «туретах» и «турмалине». Учитывая характер этих результатов, нет смысла сортировать термины по большему соответствию. Именно поэтому при оценке результатов в запросах с подстановочными знаками, префиксами и регулярными выражениями стоит игнорировать частоту обнаружения термина. Результатам поиска на основании частичного ввода присваивается постоянная оценка, чтобы избежать смещения к потенциально непредвиденным совпадениям.

## <a name="design-patterns"></a>Шаблоны проектирования

### <a name="what-is-the-best-approach-for-implementing-localized-search"></a>Каков рекомендуемый подход к реализации локализованного поиска?

Для поддержки разных языковых стандартов в одном индексе большинство пользователей выбирает выделенные поля в коллекции. Поля языкового стандарта позволяют назначить соответствующий анализатор. Например, можно назначить анализатору французского языка корпорации Майкрософт поля, содержащие строки на французском языке. Это также упрощает фильтрацию. Если известно, что запрос инициирован на странице с французским языковым стандартом (fr-fr), можно ограничить результаты поиска этим полем. Можно также создать [профиль оценки](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index), чтобы присвоить этому полю больший относительный вес. Azure Cognitive Search поддерживает более [50 языковых анализаторов](https://docs.microsoft.com/azure/search/search-language-support) на выбор.

## <a name="next-steps"></a>Дальнейшие действия

У вас есть вопрос об отсутствующей функции или компоненте? Отправьте запрос на [веб-сайте User Voice](https://feedback.azure.com/forums/263029-azure-search).

## <a name="see-also"></a>См. также раздел

 [СтекОверс: Когнитивный поиск Azure](https://stackoverflow.com/questions/tagged/azure-search)   
 [How full text search works in Azure Cognitive Search](search-lucene-query-architecture.md) (Как выполняется полнотекстовый поиск в Когнитивном поиске Azure)  
 [Что собой представляет Когнитивный поиск Azure?](search-what-is-azure-search.md)
