---
title: Распространенные ошибки и предупреждения — Поиск Azure
description: Эта статья содержит сведения и решения для распространенных ошибок и предупреждений, которые могут возникнуть во время обогащения искусственного интеллекта в службе поиска Azure.
services: search
manager: heidist
author: amotley
ms.service: search
ms.workload: search
ms.topic: conceptual
ms.date: 09/18/2019
ms.author: abmotley
ms.subservice: cognitive-search
ms.openlocfilehash: 4e31f818e96ae9f13e3ce8892e575318831848f6
ms.sourcegitcommit: e9936171586b8d04b67457789ae7d530ec8deebe
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71329387"
---
# <a name="common-errors-and-warnings-of-the-ai-enrichment-pipeline-in-azure-search"></a>Распространенные ошибки и предупреждения конвейера обогащения искусственного интеллекта в службе поиска Azure

Эта статья содержит сведения и решения для распространенных ошибок и предупреждений, которые могут возникнуть во время обогащения искусственного интеллекта в службе поиска Azure.

## <a name="errors"></a>Ошибки
Индексирование останавливается, если число ошибок превышает ["максфаиледитемс"](cognitive-search-concept-troubleshooting.md#tip-3-see-what-works-even-if-there-are-some-failures). Следующие разделы помогут устранить ошибки, допуская индексацию для продолжения.

### <a name="could-not-read-document"></a>Не удалось прочитать документ
Индексатору не удалось прочитать документ из источника данных. Это может произойти по следующим причинам.

| `Reason` | Пример | Action |
| --- | --- | --- |
| несогласованные типы полей в разных документах | Тип значения не соответствует типу столбца. Не удалось сохранить `'{47.6,-122.1}'` в столбце Authors.  Ожидаемый тип — Жаррай. | Убедитесь, что тип каждого поля одинаков для разных документов. Например, если первый документ `'startTime'` является типом DateTime, а во втором — строкой, будет достигнута эта ошибка. |
| ошибки базовой службы источника данных | (от Cosmos DB) `{"Errors":["Request rate is large"]}` | Проверьте экземпляр хранилища, чтобы убедиться в его работоспособности. Возможно, потребуется настроить масштабирование или секционирование. |
| временные проблемы | ошибка на транспортном уровне при получении результатов с сервера. (поставщик: Поставщик TCP, ошибка: 0 — существующее подключение было принудительно закрыто удаленным узлом | Иногда возникают непредвиденные проблемы с подключением. Попробуйте снова запустить документ через индексатор позже. |

### <a name="could-not-extract-document-content"></a>Не удалось извлечь содержимое документа
Индексатору с источником данных большого двоичного объекта не удалось извлечь содержимое из документа (например, PDF-файл). Это может произойти по следующим причинам.

| `Reason` | Пример | Action |
| --- | --- | --- |
| Превышен предельный размер BLOB-объекта | Размер документа составляет `'150441598'` байт, что превышает максимальную длину `'134217728'` байт для извлечения документа для текущего уровня служб. | [ошибки индексирования BLOB-объектов](search-howto-indexing-azure-blob-storage.md#dealing-with-errors) |
| тип содержимого BLOB-объекта не поддерживается | Документ имеет неподдерживаемый тип содержимого `'image/png'` | [ошибки индексирования BLOB-объектов](search-howto-indexing-azure-blob-storage.md#dealing-with-errors) |
| BLOB-объект зашифрован | Документ не может быть обработан. он может быть зашифрован или защищен паролем. | [Параметры большого двоичного объекта](search-howto-indexing-azure-blob-storage.md#controlling-which-parts-of-the-blob-are-indexed) |
| временные проблемы | Ошибка обработки большого двоичного объекта: Запрос был прерван: Запрос был отменен. | Иногда возникают непредвиденные проблемы с подключением. Попробуйте снова запустить документ через индексатор позже. |

### <a name="could-not-parse-document"></a>Не удалось проанализировать документ
Индексатор считывает документ из источника данных, но возникла ошибка при преобразовании содержимого документа в указанную схему сопоставления полей. Это может произойти по следующим причинам.

| `Reason` | Пример | Action |
| --- | --- | --- |
| Отсутствует ключ документа | Ключ документа не может быть указан или пуст | Убедитесь, что все документы содержат допустимые ключи документов |
| Недопустимый ключ документа | Длина ключа документа не должна превышать 1024 символов | Измените ключ документа в соответствии с требованиями проверки. |
| Не удалось применить сопоставление полей к полю | Не удалось применить функцию сопоставления `'functionName'` к полю `'fieldName'`. Массив не может иметь значение null. Имя параметра: байт | Дважды проверьте [сопоставления полей](search-indexer-field-mappings.md) , определенные в индексаторе, и сравните с данными указанного поля документа, в котором произошел сбой. Может потребоваться изменить сопоставления полей или данные документа. |
| Не удалось прочитать значение поля | Не удалось считать значение столбца `'fieldName'` в индексе `'fieldIndex'`. ошибка на транспортном уровне при получении результатов с сервера. (поставщик: Поставщик TCP, ошибка: 0 — существующее подключение было принудительно закрыто удаленным узлом.) | Эти ошибки обычно возникают из-за непредвиденных проблем с подключением к базовой службе источника данных. Попробуйте снова запустить документ через индексатор позже. |

##  <a name="warnings"></a>Предупреждения
Предупреждения не останавливают индексирование, но они указывают на условия, которые могут привести к непредвиденным результатам. Принимается ли действие или не зависит от данных и сценария.

### <a name="skill-input-was-truncated"></a>Ввод навыка был усечен
Эти навыки имеют ограничения на длину текста, который можно проанализировать одновременно. Если текстовые входные данные для этих навыков превышены, мы будем усекать текст, чтобы соответствовать пределу, а затем выполнить этот Усеченный текст. Это означает, что навык выполняется, но не все данные.

В примере, приведенном ниже, поле ввода `'text'` может активировать это предупреждение, если оно превышает предельное число символов. Ограничения на входные данные навыков можно найти в [документации по навыкам](cognitive-search-predefined-skills.md).

```json
 {
    "@odata.type": "#Microsoft.Skills.Text.LanguageDetectionSkill",
    "inputs": [
      {
        "name": "text",
        "source": "/document/text"
      }
    ],
    "outputs": [...]
  }
```

Если вы хотите убедиться, что весь текст проанализировался, рассмотрите возможность использования функции [разбиения](cognitive-search-skill-textsplit.md).