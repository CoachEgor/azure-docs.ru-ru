---
title: Использование искусственного интеллекта для понимания данных больших двоичных объектов
titleSuffix: Azure Search
description: Добавление семантического, естественного языка обработки и анализа изображений в большие двоичные объекты Azure с помощью конвейера обогащения искусственного интеллекта в службе поиска Azure.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: search
ms.topic: conceptual
ms.date: 10/09/2019
ms.openlocfilehash: 192d1a7b3bb10395aa662a4b915fe0189b1306b5
ms.sourcegitcommit: 77bfc067c8cdc856f0ee4bfde9f84437c73a6141
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2019
ms.locfileid: "72434032"
---
# <a name="use-ai-to-understand-blob-data"></a>Использование искусственного интеллекта для понимания данных больших двоичных объектов

Данные в хранилище BLOB-объектов Azure часто являются разнообразным неструктурированным содержимым, например изображениями, длинными текстовыми файлами, документами PDF и Office. Используя возможности искусственного интеллекта в службе поиска Azure, вы можете понять и извлечь ценные сведения из больших двоичных объектов различными способами. Примеры применения ИСКУССТВЕНного хранилища к содержимому BLOB-объектов:

+ Извлечение текста из изображений с помощью оптического распознавания символов (OCR)
+ Создание описания сцены или тегов из фотографии
+ Определение языка и перевод текста на разные языки
+ Обработка текста с помощью распознавания именованных сущностей (NER) для поиска ссылок на людей, даты, места или Организации 

Хотя вам может потребоваться только одна из этих возможностей искусственного интеллекта, можно объединить несколько из них в один конвейер (например, извлечь текст из отсканированного изображения, а затем найти на нем все даты и места). 

Обогащение искусственного интеллекта создает новые сведения, записанные в виде текста, которые хранятся в полях. После этого вы можете получить доступ к этим сведениям из индекса поиска через полнотекстовый поиск или отправить Расширенные документы в службу хранилища Azure для создания новых приложений, включающих исследование данных для сценариев обнаружения или анализа. 

В этой статье мы просматривайте углубление искусственного интеллекта с помощью широкой линзы, чтобы вы могли быстро оценить весь процесс, от преобразования необработанных данных в большие двоичные объекты к запрашиваемым данным в индексе поиска или в хранилище знаний.

## <a name="what-it-means-to-enrich-blob-data-with-ai"></a>Что означает "обогащение" данных больших двоичных объектов с помощью искусственного интеллекта

*Обогащение искусственного интеллекта* — это часть архитектуры индексирования службы поиска Azure, которая интегрирует встроенное приложение AI от Майкрософт или настраиваемого AI, который вы предоставляете. Он помогает реализовать комплексные сценарии, в которых необходимо обрабатывать большие двоичные объекты (как существующие, так и новые), взломать открыть все форматы файлов, чтобы извлечь изображения и текст, извлечь нужную информацию с помощью различных возможностей искусственного интеллекта и индексировать их в индексе службы поиска Azure для быстрого поиска, извлечения и исследования. 

Входные данные — это большие двоичные объекты в одном контейнере в хранилище BLOB-объектов Azure. Большие двоичные объекты могут быть практически любыми типами текстовых или графических данных. 

Выходные данные всегда являются индексом поиска Azure, используемым для быстрого поиска, извлечения и исследования в клиентских приложениях. Кроме того, выходные данные также могут быть *хранилищем знаний* , которое проецирует документы в большие двоичные объекты Azure или таблицы Azure для подчиненного анализа в таких средствах, как Power BI или в рабочих нагрузках обработки и анализа данных.

Между — это сама архитектура конвейера. Конвейер основан на функции *индексатора* , которой можно назначить набор *навыков*, состоящий из одного или нескольких *навыков* , предоставляющих искусственный интеллект. Цель конвейера — создать *обогащенные документы* , которые вводят в виде необработанного содержимого, но при этом возвращают дополнительную структуру, контекст и информацию при перемещении по конвейеру. Дополненные документы используются во время индексирования для создания инвертированных индексов и других структур, используемых в полнотекстовом поиске, исследования и анализа.

## <a name="start-with-services-and-data"></a>Начало работы со службами и данными

Вам потребуется Поиск Azure и хранилище BLOB-объектов Azure. В хранилище BLOB-объектов необходим контейнер, предоставляющий исходное содержимое.

Вы можете начать работу непосредственно на странице портала учетной записи хранения. На левой странице навигации в разделе **Служба BLOB-объектов** щелкните **Добавить поиск Azure** , чтобы создать новую службу или выбрать существующую. 

После добавления службы поиска Azure в учетную запись хранения можно выполнить стандартный процесс, чтобы расширить данные в любом источнике данных Azure. Мы рекомендуем использовать мастер **импорта данных** в службе поиска Azure для быстрого ознакомления с обогащением искусственного интеллекта. Это краткое руководство содержит инструкции по [созданию конвейера обогащения искусственного интеллекта на портале](cognitive-search-quickstart-blob.md). 

В следующих разделах мы рассмотрим больше компонентов и концепций.

## <a name="use-a-blob-indexer"></a>Использование индексатора больших двоичных объектов

Обогащение искусственного интеллекта — это надстройка для конвейера индексирования, а в службе поиска Azure эти конвейеры построены поверх *индексатора*. Индексатор — это подслужба, поддерживающая источник данных, оснащенная внутренней логикой для выборки данных, считывания данных метаданных, извлечения данных и сериализации данных из собственных форматов в документы JSON для последующего импорта. Индексаторы часто используются сами по себе для импорта, отделены от искусственного интеллекта, но если вы хотите создать конвейер обогащения искусственного интеллекта, вам потребуется индексатор и набор навыков. В этом разделе демонстрируется индексатор; в следующем разделе основное внимание уделяется навыков.

Большие двоичные объекты в службе хранилища Azure индексируются с помощью [индексатора хранилища BLOB-объектов службы поиска Azure](search-howto-indexing-azure-blob-storage.md). Этот индексатор можно вызвать с помощью мастера **импорта данных** , REST API или пакета SDK для .NET. В коде этот индексатор используется путем задания типа и предоставления сведений о соединении, включающих учетную запись хранения Azure вместе с контейнером больших двоичных объектов. Вы можете подделать подмножества для больших двоичных объектов, создав виртуальный каталог, который затем можно передать в качестве параметра или с помощью фильтрации по расширению типа файла.

Индексатор выполняет «взлом документа», открывая большой двоичный объект для проверки содержимого. После подключения к источнику данных это первый шаг в конвейере. Для данных больших двоичных объектов здесь обнаруживаются файлы PDF, документы Office, изображения и другие типы содержимого. Не взимается плата за извлечение документов с помощью извлечения текста. Для взлома документов с помощью извлечения изображений плата насчитывается по тарифам, которые можно найти на [странице цен](https://azure.microsoft.com/pricing/details/search/)на службу поиска Azure.

Хотя все документы будут взломаны, расширение будет происходить только в том случае, если вы явно предложит свои навыки. Например, если конвейер состоит исключительно из анализа изображений, текст в контейнере или документах игнорируется.

Индексатор BLOB-объектов поставляется с параметрами конфигурации и поддерживает отслеживание изменений, если базовые данные предоставляют достаточно информации. Дополнительные сведения об основных функциональных возможностях см. в [индексаторе хранилища BLOB-объектов службы поиска Azure](search-howto-indexing-azure-blob-storage.md).

## <a name="add-ai-components"></a>Добавление компонентов AI

Обогащение искусственного интеллекта относится к модулям, которые ищут шаблоны или характеристики, а затем выполняют соответствующие операции. Распознавание лиц в фотографиях, текстовые описания фотографий, обнаружение ключевых фраз в документе, РАСПОЗНАВАНИе текста (или распознавание печатного или рукописного текста в двоичных файлах) — это примеры.

В службе поиска Azure *навыки* — это отдельные компоненты обработки AI, которые можно использовать автономно или в сочетании с другими навыками. 

+ Встроенные навыки поддерживаются Cognitive Services, с анализом изображений на основе Компьютерное зрение и обработки естественного языка на основе Анализ текста. Полный список встроенных навыков можно просмотреть в области [предопределенных навыков для обогащения содержимого](cognitive-search-predefined-skills.md).

+ Пользовательские навыки — это пользовательский код, заключенный в [Определение интерфейса](cognitive-search-custom-skill-interface.md) , который обеспечивает интеграцию в конвейер. В клиентских решениях рекомендуется использовать и то, и другое, с пользовательскими навыками, предоставляющими модули искусственного интеллекта с открытым исходным кодом или сторонними производителями.

Набор *навыков* представляет собой коллекцию навыков, используемых в конвейере, и вызывается после того, как на этапе взлома документа становится доступным содержимое. Индексатор может потреблять ровно один набор навыков, но он существует независимо от индексатора, чтобы его можно было использовать в других сценариях.

Пользовательские навыки могут показаться сложными, но могут быть простыми и простыми в плане реализации. При наличии существующих пакетов, предоставляющих модели сопоставления шаблонов или классификации, содержимое, извлеченное из больших двоичных объектов, может быть передано в эти модели для обработки. Так как обогащение искусственного интеллекта основано на Azure, модель также должна быть в Azure. Некоторые распространенные методологии размещения включают использование функций или [контейнеров](https://github.com/Microsoft/SkillsExtractorCognitiveSearch) [Azure](cognitive-search-create-custom-skill-example.md) .

К встроенным навыкам, поддерживаемым Cognitive Services, требуется [подключенный Cognitive Services](cognitive-search-attach-cognitive-services.md) ключ подписки «все в одном», который предоставляет доступ к ресурсу. Ключ «все в одном» обеспечивает анализ изображений, определение языка, преобразование текста и анализ текста. Другие встроенные навыки — это функции службы поиска Azure, которые не нуждаются в дополнительной службе или ключе. Текстовые формы, разделители и слияния — это примеры вспомогательных навыков, которые иногда необходимы при проектировании конвейера.

Если вы используете только пользовательские навыки и встроенные навыки, то нет никакой зависимости или затрат, связанных с Cognitive Services.

<!-- ## Order of operations

Now we've covered indexers, content extraction, and skills, we can take a closer look at pipeline mechanisms and order of operations.

A skillset is a composition of one or more skills. When multiple skills are involved, the skillset operates as sequential pipeline, producing dependency graphs, where output from one skill becomes input to another. 

For example, given a large blob of unstructured text, a sample order of operations for text analytics might be as follows:

1. Use Text Splitter to break the blob into smaller parts.
1. Use Language Detection to determine if content is English or another language.
1. Use Text Translator to get all text into a common language.
1. Run Entity Recognition, Key Phrase Extraction, or Sentiment Analysis on chunks of text. In this step, new fields are created and populated. Entities might be location, people, organization, dates. Key phrases are short combinations of words that appear to belong together. Sentiment score is a rating on continuum of negative (0) to positive (1) sentiment.
1. Use Text Merger to reconstitute the document from the smaller chunks. -->

## <a name="consume-ai-enriched-output-in-downstream-solutions"></a>Использование выходных данных искусственного интеллекта в нижестоящих решениях

Выходным результатом искусственного интеллекта является индекс поиска в службе поиска Azure или [хранилище знаний](knowledge-store-concept-intro.md) в службе хранилища Azure.

В службе поиска Azure индекс поиска используется для интерактивного исследования с помощью свободного текста и фильтрованных запросов в клиентском приложении. Дополненные документы, созданные с помощью AI, форматируются в формате JSON и индексируются так же, как все документы индексируются в службе поиска Azure, используя все преимущества, предоставляемые индексатором. Например, во время индексирования индексатор BLOB-объектов ссылается на параметры конфигурации и настройки для использования любых сопоставлений полей или логики обнаружения изменений. Такие параметры полностью доступны для обычных индексирований и обогащенных рабочих нагрузок искусственного интеллекта. После индексирования, когда содержимое хранится в службе поиска Azure, можно создавать сложные запросы и фильтровать выражения для понимания содержимого.

В службе хранилища Azure хранилище знаний имеет два манифеста: контейнер больших двоичных объектов или таблицы в хранилище таблиц. 

+ Контейнер больших двоичных объектов полностью фиксирует все документы, что полезно, если требуется передать их в другие процессы. 

+ В отличие от этого хранилище таблиц может поддерживать физические проекции обогащенных документов. Можно создавать срезы или слои расширенных документов, включающих или исключающих определенные части. Для анализа в Power BI таблицы в хранилище таблиц Azure становятся источниками данных для дальнейшей визуализации и исследования.

Обогащенный документ в конце конвейера отличается от первоначальной входной версии на наличие дополнительных полей, содержащих новые сведения, извлеченные или созданные во время обогащения. Таким образом, можно работать с сочетанием исходного и созданного содержимого независимо от используемой выходной структуры.

## <a name="next-steps"></a>Дальнейшие действия

Расширить возможности искусственного интеллекта, чтобы максимально эффективно использовать данные в службе хранилища Azure, в том числе объединять Cognitive Services различными способами, а также создавать пользовательские навыки для случаев, когда для сценария нет существующей службы. Дополнительные сведения см. по ссылкам ниже.

> [!div class="nextstepaction"]
> [Обзор обогащения искусственного интеллекта](cognitive-search-concept-intro.md) 
> [создание набора навыков](cognitive-search-defining-skillset.md)
> [узлов карт в дереве заметки](cognitive-search-output-field-mapping.md)
