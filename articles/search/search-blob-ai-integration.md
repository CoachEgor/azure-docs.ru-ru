---
title: Используйте ИИ для понимания данных хранения Blob
titleSuffix: Azure Cognitive Search
description: Добавьте семантический, естественный анализ языка и анализа изображений в Azure blobs с помощью конвейера обогащения ИИ в Azure Cognitive Search.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 11/04/2019
ms.openlocfilehash: 591437eb3951164d53388b6164103948e9ad65e0
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "73496435"
---
# <a name="use-ai-to-understand-blob-storage-data"></a>Используйте ИИ для понимания данных хранения Blob

Данные в хранилище Azure Blob часто являются разнообразным неструктурированным контентом, таким как изображения, длинный текст, PDF-файлы и документы Office. Используя возможности ИИ в Azure Cognitive Search, вы можете понять и извлечь ценную информацию из капли различными способами. Примеры применения ИИ к содержанию капли включают в себя:

+ Извлекайте текст из изображений с помощью оптического распознавания символов (OCR)
+ Произвеподготовить описание сцены или теги с фотографии
+ Обнаружение языка и перевод текста на разные языки
+ Текст обработки с именованным распознаванием сущности (NER) для поиска ссылок на людей, даты, места или организации 

Хотя вам может понадобиться только один из этих возможностей ИИ, обычно можно объединить несколько из них в тот же конвейер (например, извлечение текста из отсканированного изображения, а затем найти все даты и места, упомянутые в нем). 

Обогащение ИИ создает новую информацию, хранящуюся в виде текста, хранящуюся в полях. После обогащения вы можете получить доступ к этой информации из поискового индекса с помощью полного поиска текста или отправить обогащенные документы обратно в хранилище Azure для питания новых возможностей приложений, которые включают изучение данных для сценариев обнаружения или аналитики. 

В этой статье мы рассматриваем обогащение ИИ через широкую линзу, чтобы вы могли быстро ухватиться за весь процесс, от преобразования необработанных данных в капли, до задающейся информации в поисковом индексе или хранилище знаний.

## <a name="what-it-means-to-enrich-blob-data-with-ai"></a>Что значит «обогащать» данные с помощью ИИ

*Обогащение ИИ* является частью архитектуры индексирования Azure Cognitive Search, которая интегрирует встроенный ИИ от корпорации Майкрософт или пользовательский иик-ии, который вы предоставляете. Это поможет вам реализовать сквозные сценарии, где вам нужно обрабатывать капли (как существующие, так и новые, как они приходят или обновляются), взломать все форматы файлов для извлечения изображений и текста, извлечь нужную информацию с использованием различных возможностей ИИ, и индексировать их в индекс едков для быстрого поиска, поиска и исследования. 

Входы — это капли в одном контейнере в хранилище Azure Blob. Blobs может быть практически любой вид текста или изображения данных. 

Выход всегда является индексом поиска, используемым для быстрого поиска текста, поиска и исследования в клиентских приложениях. Кроме того, выход может быть *хранилищем знаний,* который проецирует обогащенные документы в таблицы Azure или таблицы Azure для анализа вниз по течению в таких инструментах, как Power BI или в рабочих нагрузках на науку о данных.

Между ними находится сама архитектура конвейера. Конвейер основан на функции *индекса,* к которой можно назначить *набор навыков,* который состоит из одного или нескольких *навыков,* обеспечивающих ИИ. Целью конвейера является производство *обогащенных документов,* которые входят в качестве сырья, но похищают дополнительную структуру, контекст и информацию при перемещении по трубопроводу. Обогащенные документы используются при индексации для создания перевернутых индексов и других структур, используемых в полном поиске текста или разведке и аналитике.

## <a name="start-with-services"></a>Начните с услуг

Вам нужен Azure Cognitive Search и хранилище Azure Blob. В хранилище Blob вам нужен контейнер, обеспечивающий исходное содержимое.

Вы можете начать прямо на странице портала хранения данных. На левой странице навигации под **сервисом Blob** нажмите **Добавить Azure Cognitive Search,** чтобы создать новую службу или выбрать существующую. 

После добавления Azure Cognitive Search в учетную запись хранения можно следить за стандартным процессом для обогащения данных в любом источнике данных Azure. Мы рекомендуем мастеру **данных импорта** в Azure Cognitive Search для простого первоначального введения в обогащение ИИ. Этот quickstart прогулки вас через шаги: [Создать AI обогащения трубопровода на портале](cognitive-search-quickstart-blob.md). 

В следующих разделах мы рассмотрим больше компонентов и концепций.

## <a name="use-a-blob-indexer"></a>Использование индекса Blob

Обогащение ИИ — это дополнение к конвейеру индексирования, и в Azure Cognitive Search эти конвейеры строятся поверх *индекса.* Индексер — это подслужба, осведомленная об источнике данных, оснащенная внутренней логикой для выборки данных, чтения данных метаданных, поиска данных и сериализации данных из исходных форматов в документы JSON для последующего импорта. Индексы часто используются сами по себе для импорта, отдельно от ИИ, но если вы хотите построить конвейер обогащения ИИ, вам понадобится индексер и набор навыков, чтобы пойти с ним. В этом разделе освещается индексатор; следующий раздел посвящен навыкам.

Blobs в хранилище Azure индексируются с помощью [индекса хранения данных Azure Cognitive Search Blob.](search-howto-indexing-azure-blob-storage.md) Вы можете вызвать этот индексер с помощью мастера **данных импорта,** aPI REST или .NET SDK. В коде этот индексатор используется, устанавливая тип и предоставляя информацию о подключении, которая включает учетную запись Хранилища Azure вместе с контейнером с каплей. Вы можете подмножество капли, создав виртуальный каталог, который вы можете затем пройти в качестве параметра, или путем фильтрации на расширение типа файла.

Индексатор делает "документ крекинга", открывая капля для проверки содержимого. После подключения к источнику данных это первый шаг в конвейере. Для данных blob обнаруживаются PDF, офисные документы, изображения и другие типы контента. Документ крекинга с текстом извлечения бесплатно. Документ крекинга с изображением извлечения взимается по ставкам вы можете найти на [странице ценообразования](https://azure.microsoft.com/pricing/details/search/).

Хотя все документы будут взломаны, обогащение происходит только в том случае, если вы явно предоставите навыки для этого. Например, если конвейер состоит исключительно из анализа изображений, текст в контейнере или документы игнорируется.

Индексер Blob поставляется с параметрами конфигурации и поддерживает отслеживание изменений, если базовые данные предоставляют достаточную информацию. Вы можете узнать больше о основной функциональности в [индексе хранения данных Azure Cognitive Search Blob.](search-howto-indexing-azure-blob-storage.md)

## <a name="add-ai-components"></a>Добавление компонентов ИИ

Обогащение ИИ относится к модулям, которые ищут шаблоны или характеристики, а затем выполняют операцию соответствующим образом. Распознавание лиц на фотографиях, текстовые описания фотографий, обнаружение ключевых фраз в документе и OCR (или распознавание печатного или рукописного текста в двоичных файлах) являются иллюстративными примерами.

В Azure Cognitive Search *навыки* — это отдельные компоненты обработки ИИ, которые можно использовать в автономном режиме или в сочетании с другими навыками. 

+ Встроенные навыки поддерживаются Cognitive Services, с анализом изображений на основе компьютерного зрения, и обработка естественного языка на основе text Analytics. Полный список можно узнать в области встроенных [навыков для обогащения контента.](cognitive-search-predefined-skills.md)

+ Пользовательские навыки — это пользовательский код, завернутый в [определение интерфейса,](cognitive-search-custom-skill-interface.md) которое позволяет интегрироваться в конвейер. В клиентских решениях принято использовать оба пользовательских навыка, обеспечивающие использование модулей с открытым исходным кодом, сторонних или первосторонних модулей ИИ.

*Набор навыков* — это набор навыков, используемых в конвейере, и он вызывается после того, как этап взлома документа делает содержимое доступным. Индексатор может потреблять ровно один набор навыков, но этот набор навыков существует независимо от индекса, так что вы можете повторно использовать его в других сценариях.

Пользовательские навыки могут показаться сложными, но могут быть простыми и понятными с точки зрения реализации. Если у вас есть существующие пакеты, обеспечивающие соответствие шаблонов или модели классификации, содержимое, которое вы извлекаете из капли, может быть передано этим моделям для обработки. Поскольку обогащение ИИ основано на Azure, ваша модель должна быть также на Azure. Некоторые распространенные методологии хостинга включают использование [функций Azure](cognitive-search-create-custom-skill-example.md) или [контейнеров.](https://github.com/Microsoft/SkillsExtractorCognitiveSearch)

Встроенные навыки, поддерживаемые Cognitive Services, требуют [прилагаемого](cognitive-search-attach-cognitive-services.md) ключа подписки Cognitive Services все-в-одном, который дает вам доступ к ресурсу. Ключ «все в одном» дает анализ изображений, обнаружение языка, текстовый перевод и текстовые аналитики. Другие встроенные навыки являются функциями Azure Cognitive Search и не требуют дополнительной службы или ключа. Текстовый формовщик, сплиттер и слияние являются примерами навыков помощника, которые иногда необходимы при проектировании конвейера.

Если вы используете только пользовательские навыки и встроенные навыки утилиты, нет никакой зависимости или затрат, связанных с когнитивными службами.

<!-- ## Order of operations

Now we've covered indexers, content extraction, and skills, we can take a closer look at pipeline mechanisms and order of operations.

A skillset is a composition of one or more skills. When multiple skills are involved, the skillset operates as sequential pipeline, producing dependency graphs, where output from one skill becomes input to another. 

For example, given a large blob of unstructured text, a sample order of operations for text analytics might be as follows:

1. Use Text Splitter to break the blob into smaller parts.
1. Use Language Detection to determine if content is English or another language.
1. Use Text Translator to get all text into a common language.
1. Run Entity Recognition, Key Phrase Extraction, or Sentiment Analysis on chunks of text. In this step, new fields are created and populated. Entities might be location, people, organization, dates. Key phrases are short combinations of words that appear to belong together. Sentiment score is a rating on continuum of negative (0) to positive (1) sentiment.
1. Use Text Merger to reconstitute the document from the smaller chunks. -->

## <a name="consume-ai-enriched-output-in-downstream-solutions"></a>Потребляйте обогащенный ИИ выход в решениях ниже по течению

Выход обогащения ИИ — это либо индекс поиска в Azure Cognitive Search, либо [хранилище знаний](knowledge-store-concept-intro.md) в Хранилище Azure.

В Azure Cognitive Search индекс поиска используется для интерактивного исследования с использованием свободного текста и отфильтрованных запросов в клиентском приложении. Обогащенные документы, созданные с помощью ИИ, отформатированы в JSON и индексируются таким же образом, как все документы индексируются в Azure Cognitive Search, используя все преимущества, которые предоставляет индексатор. Например, во время индексирования кабоя индексер ссылается на параметры конфигурации и параметры для использования любых карт полей или логики обнаружения изменений. Такие настройки полностью доступны для регулярной индексации и обогащенных иМи рабочих нагрузок. После индексации, когда содержимое хранится в Azure Cognitive Search, можно создавать богатые запросы и фильтровать выражения, чтобы понять содержимое.

В Хранилище знаний В Azure хранится два проявления: контейнер с каплей или таблицы в таблице хранения. 

+ Контейнер с каплями фиксирует обогащенные документы в полном объеме, что полезно, если вы хотите, чтобы кормить в других процессах. 

+ В отличие от этого, хранение таблицы может вместить физические проекции обогащенных документов. Можно создавать фрагменты или слои обогащенных документов, которые включают или исключают определенные части. Для анализа в Power BI таблицы в таблице хранения таблицы Azure становятся источником данных для дальнейшей визуализации и исследования.

Обогащенный документ в конце конвейера отличается от исходного входной версии наличием дополнительных полей, содержащих новую информацию, которая была извлечена или получена в ходе обогащения. Таким образом, вы можете работать с комбинацией оригинального и созданного содержимого, независимо от того, какую структуру вывода вы используете.

## <a name="next-steps"></a>Дальнейшие действия

Вы можете сделать гораздо больше с обогащением ИИ, чтобы получить максимальную отдачу от ваших данных в Azure Storage, включая объединение когнитивных служб по-разному и написание пользовательских навыков для случаев, когда нет существующей когнитивной службы для сценария. Вы можете узнать больше, следуя ссылкам ниже.

+ [Загрузка, загрузка и список капли с портала Azure (Azure Blob хранения)](https://docs.microsoft.com/azure/storage/blobs/storage-quickstart-blobs-portal)
+ [Настройка каплю-указателя (Azure Cognitive Search)](search-howto-indexing-azure-blob-storage.md) 
+ [Обзор обогащения ИИ (Azure Cognitive Search)](cognitive-search-concept-intro.md) 
+ [Создание набора навыков (Azure Cognitive Search)](cognitive-search-defining-skillset.md)
+ [Узлы карты в аннотационном дереве (Azure Cognitive Search)](cognitive-search-output-field-mapping.md)
