---
title: Использование искусственного интеллекта для понимания данных больших двоичных объектов
titleSuffix: Azure Search
description: Добавление семантического, естественного языка обработки и анализа изображений в большие двоичные объекты Azure с помощью конвейера обогащения искусственного интеллекта в службе поиска Azure.
manager: nitinme
author: HeidiSteen
ms.author: heidist
ms.service: search
ms.topic: conceptual
ms.date: 10/09/2019
ms.openlocfilehash: 2513825fcb275aeb3c4f0ca49ff5f2a6bd9441f0
ms.sourcegitcommit: bd4198a3f2a028f0ce0a63e5f479242f6a98cc04
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/14/2019
ms.locfileid: "72303019"
---
# <a name="use-ai-to-understand-blob-data"></a>Использование искусственного интеллекта для понимания данных больших двоичных объектов

Данные в хранилище BLOB-объектов Azure часто являются разнообразным неструктурированным содержимым, например изображениями, длинными текстовыми файлами, документами PDF и Office. Используя возможности искусственного интеллекта в службе поиска Azure, вы можете понять и извлечь ценные сведения из больших двоичных объектов различными способами. Примеры применения ИСКУССТВЕНного хранилища к содержимому BLOB-объектов:

+ Извлечение текста из изображений с помощью оптического распознавания символов (OCR)
+ Создание описания сцены или тегов из фотографии
+ Определение языка и перевод текста на разные языки
+ Обработка текста с помощью распознавания именованных сущностей (NER) для поиска ссылок на людей, даты, места или Организации 

Хотя вам может потребоваться только одна из этих возможностей искусственного интеллекта, можно объединить несколько из них в один конвейер (например, извлечь текст из отсканированного изображения, а затем найти на нем все даты и места). 

Обогащение искусственного интеллекта создает новые сведения, записанные в виде текста, которые хранятся в полях. После этого вы можете получить доступ к этим сведениям из индекса поиска через полнотекстовый поиск или отправить Расширенные документы в службу хранилища Azure для создания новых приложений, включающих исследование данных для сценариев обнаружения или анализа. 

В этой статье мы просматривайте углубление искусственного интеллекта с помощью широкой линзы, чтобы вы могли быстро оценить весь процесс, от преобразования необработанных данных в большие двоичные объекты к запрашиваемым данным в индексе поиска или в хранилище знаний.

## <a name="what-it-means-to-enrich-blob-data"></a>Что означает "обогащение" данных больших двоичных объектов

*Обогащение искусственного интеллекта* — это часть архитектуры индексирования службы поиска Azure, которая интегрирует встроенное приложение AI от Майкрософт или настраиваемого AI, который вы предоставляете. Он помогает реализовать комплексные сценарии, в которых необходимо обрабатывать большие двоичные объекты (как существующие, так и новые), взломать открыть все форматы файлов, чтобы извлечь изображения и текст, извлечь нужную информацию с помощью различных возможностей искусственного интеллекта и индексировать их в индексе службы поиска Azure для быстрого поиска, извлечения и исследования. 

Входные данные — это большие двоичные объекты в одном контейнере в хранилище BLOB-объектов Azure. Большие двоичные объекты могут быть практически любыми типами текстовых или графических данных. 

Выходные данные всегда являются индексом поиска Azure, используемым для быстрого поиска, извлечения и исследования в клиентских приложениях. Кроме того, выходные данные также могут быть *хранилищем знаний* , которое проецирует документы в большие двоичные объекты Azure или таблицы Azure для подчиненного анализа в таких средствах, как Power BI или в рабочих нагрузках обработки и анализа данных.

Между — это сама архитектура конвейера. Конвейер основан на функции *индексатора* , которой можно назначить набор *навыков*, состоящий из одного или нескольких *навыков* , предоставляющих искусственный интеллект. Цель конвейера — создать *обогащенные документы* , которые вводят в виде необработанного содержимого, но при этом возвращают дополнительную структуру, контекст и информацию при перемещении по конвейеру. Дополненные документы используются во время индексирования для создания инвертированных индексов и других структур, используемых в полнотекстовом поиске, исследования и анализа.

## <a name="how-to-get-started"></a>Как приступить к работе

Вы можете начать работу непосредственно на странице портала учетной записи хранения. Щелкните **Добавить поиск Azure** и создайте новую службу поиска Azure или выберите существующую. Если у вас уже есть служба поиска в той же подписке, то при нажатии кнопки **Добавить поиск Azure** откроется мастер импорта данных, чтобы можно было немедленно выполнить пошаговое индексирование, обогащение и определение индекса.

После добавления службы поиска Azure в учетную запись хранения можно выполнить стандартный процесс, чтобы расширить данные в любом источнике данных Azure. Если у вас уже есть содержимое большого двоичного объекта, вы можете использовать мастер импорта данных в службе поиска Azure, чтобы ознакомиться с простым введением в обогащение искусственного интеллекта. В этом кратком руководстве описаны следующие шаги. [Создание конвейера обогащения искусственного интеллекта на портале](cognitive-search-quickstart-blob.md). 

В следующих разделах мы рассмотрим больше компонентов и концепций.

## <a name="use-blob-indexers"></a>Использование индексаторов больших двоичных объектов

Обогащение искусственного интеллекта — это надстройка для конвейера индексирования, а в службе поиска Azure эти конвейеры построены поверх *индексатора*. Индексатор — это подслужба, поддерживающая источник данных, оснащенная внутренней логикой для выборки данных, считывания данных метаданных, извлечения данных и сериализации данных из собственных форматов в документы JSON для последующего импорта. Индексаторы часто используются сами по себе для импорта, отделены от искусственного интеллекта, но если вы хотите создать конвейер обогащения искусственного интеллекта, вам потребуется индексатор и набор навыков. В этом разделе мы рассмотрим сам индексатор.

Большие двоичные объекты в службе хранилища Azure индексируются с помощью [индексатора хранилища BLOB-объектов службы поиска Azure](search-howto-indexing-azure-blob-storage.md). Этот индексатор можно вызвать, задав тип и предоставив сведения о соединении, включающие учетную запись хранения Azure и контейнер больших двоичных объектов. Если вы ранее не организовали большие двоичные объекты в виртуальный каталог, который можно передать в качестве параметра, индексатор больших двоичных объектов извлекается из всего контейнера.

Индексатор выполняет «взлом документа» и после соединения с источником данных это первый шаг в конвейере. Для данных больших двоичных объектов здесь обнаруживаются файлы PDF, документы Office, изображения и другие типы содержимого. Не взимается плата за извлечение документов с помощью извлечения текста. Для взлома документов с помощью извлечения изображений плата насчитывается по тарифам, которые можно найти на [странице цен](https://azure.microsoft.com/pricing/details/search/)на службу поиска Azure.

Хотя все документы будут взломаны, расширение будет происходить только в том случае, если вы явно предложит свои навыки. Например, если конвейер состоит исключительно из текстовой аналитики, все изображения в контейнере или документах будут игнорироваться.

Индексатор BLOB-объектов поставляется с параметрами конфигурации и поддерживает отслеживание изменений, если базовые данные предоставляют достаточно информации. Дополнительные сведения об основных функциональных возможностях см. в [индексаторе хранилища BLOB-объектов службы поиска Azure](search-howto-indexing-azure-blob-storage.md).

## <a name="add-ai"></a>Добавить AI

*Навыки* — это отдельные компоненты обработки AI, которые можно использовать отдельно или в сочетании с другими навыками для последовательной обработки. 

+ Встроенные навыки поддерживаются Cognitive Services, с анализом изображений на основе Компьютерное зрение и обработки естественного языка на основе Анализ текста. Несколько примеров — это [OCR](cognitive-search-skill-ocr.md), [Распознавание сущностей](cognitive-search-skill-entity-recognition.md)и [Анализ изображений](cognitive-search-skill-image-analysis.md). Полный список встроенных навыков можно просмотреть в области [предопределенных навыков для обогащения содержимого](cognitive-search-predefined-skills.md).

+ Пользовательские навыки — это пользовательский код, заключенный в определение интерфейса, который обеспечивает интеграцию в конвейер. В клиентских решениях рекомендуется использовать и то, и другое, с пользовательскими навыками, предоставляющими модули искусственного интеллекта с открытым исходным кодом или сторонними производителями.

Набор *навыков* представляет собой коллекцию навыков, используемых в конвейере, и вызывается после того, как на этапе взлома документа становится доступным содержимое. Индексатор может потреблять ровно один набор навыков, но он существует независимо от индексатора, чтобы его можно было использовать в других сценариях.

Пользовательские навыки могут показаться сложными, но могут быть простыми и простыми в плане реализации. При наличии существующих пакетов, предоставляющих модели сопоставления шаблонов или классификации, содержимое, извлеченное из больших двоичных объектов, может быть передано в эти модели для обработки. Так как обогащение искусственного интеллекта основано на Azure, модель также должна быть в Azure. Некоторые распространенные методологии размещения включают использование функций или [контейнеров](https://github.com/Microsoft/SkillsExtractorCognitiveSearch) [Azure](cognitive-search-create-custom-skill-example.md) .

К встроенным навыкам, поддерживаемым Cognitive Services, требуется [подключенный Cognitive Services](cognitive-search-attach-cognitive-services.md) ключ подписки «все в одном», который предоставляет доступ к ресурсу. Ключ «все в одном» обеспечивает анализ изображений, определение языка, преобразование текста и анализ текста. Другие встроенные навыки — это функции службы поиска Azure, которые не нуждаются в дополнительной службе или ключе. Текстовые формы, разделители и слияния — это примеры вспомогательных навыков, которые иногда необходимы при проектировании конвейера.

Если вы используете только пользовательские навыки и встроенные навыки, то нет никакой зависимости или затрат, связанных с Cognitive Services.

## <a name="order-of-operations"></a>Порядок операций

Теперь мы рассмотрели индексаторы, извлечение содержимого и навыки, а также рассмотрим механизмы конвейера и порядок операций.

Набор навыков представляет собой композицию одного или нескольких навыков. Если задействовано несколько навыков, набор навыков работает как последовательный конвейер, создавая графы зависимостей, где выходные данные одного навыка становятся входными для другого. 

Например, при наличии большого большого двоичного объекта неструктурированного текста примеры операций для анализа текста могут выглядеть следующим образом:

1. Используйте разделитель текста, чтобы разбить большой двоичный объект на более мелкие части.
1. Используйте распознавание языка, чтобы определить, является ли содержимое англоязычным или другим языком.
1. Используйте текстовый переводчик, чтобы получить весь текст на общем языке.
1. Выполнение распознавания сущностей, извлечение ключевых фраз или анализ тональности фрагментов текста. На этом шаге создаются и заполняются новые поля. Сущности могут быть расположением, людьми, организациями, датами. Ключевые фразы — это короткие сочетания слов, которые отображаются вместе. Оценка тональности — это оценка множества Continuum отрицательного (0) положительного (1) тональности.
1. Используйте слияние текста для воссоздания документа из небольших фрагментов.


## <a name="outputs-and-use-cases"></a>Выходные данные и варианты использования

Обогащенный документ в конце конвейера отличается от первоначальной входной версии на наличие дополнительных полей, содержащих новые сведения, извлеченные или созданные во время обогащения. Таким образом, можно работать с сочетанием исходных и созданных значений несколькими способами.

Выходные данные представляют собой индекс поиска в службе "Поиск Azure" или хранилище знаний в службе хранилища Azure.

В службе поиска Azure дополненные документы форматируются в формате JSON и могут индексироваться так же, как и все документы, с преимуществами, предоставляемыми индексатором. Поля из обогащенных документов сопоставляются со схемой индекса. Во время индексирования индексатор BLOB-объектов обращается к параметрам и параметрам конфигурации, чтобы использовать любые сопоставления полей или логику обнаружения изменений, которые вы указали. После индексирования, когда содержимое хранится в службе поиска Azure, можно создавать сложные запросы и фильтровать выражения для понимания содержимого.

В службе хранилища Azure хранилище знаний имеет два манифеста: контейнер больших двоичных объектов или таблицы в хранилище таблиц. Контейнер больших двоичных объектов полностью фиксирует все документы, что полезно, если требуется передать их в другие процессы. В отличие от этого хранилище таблиц может поддерживать физические проекции обогащенных документов. Можно создавать срезы или слои расширенных документов, включающих или исключающих определенные части. Для анализа в Power BI таблицы в хранилище таблиц Azure становятся источниками данных для дальнейшей визуализации и исследования.

## <a name="next-steps"></a>Следующие шаги

Расширить возможности искусственного интеллекта, чтобы максимально эффективно использовать данные в службе хранилища Azure, в том числе объединять Cognitive Services различными способами, а также создавать пользовательские навыки для случаев, когда для сценария нет существующей службы. Дополнительные сведения см. по ссылкам ниже.

> [!div class="nextstepaction"]
> [Обзор обогащения искусственного интеллекта](cognitive-search-concept-intro.md) 
> [создание набора навыков](cognitive-search-defining-skillset.md)
> [узлов карт в дереве заметки](cognitive-search-output-field-mapping.md)
