---
title: Общие сведения об использовании хранилища знаний (предварительная версия)
titleSuffix: Azure Cognitive Search
description: Отправьте обогащенные документы в Хранилище Azure, где вы можете просматривать, изменять и потреблять обогащенные документы в Azure Cognitive Search и в других приложениях. Эта функция предоставляется в общедоступной предварительной версии.
author: HeidiSteen
manager: nitinme
ms.author: heidist
ms.service: cognitive-search
ms.topic: conceptual
ms.date: 12/11/2019
ms.openlocfilehash: 0ad780c04954c09ddfd432b3c7de3dc65f0841bf
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "78942998"
---
# <a name="introduction-to-knowledge-stores-in-azure-cognitive-search"></a>Общие сведения о хранилищах знаний в Когнитивном поиске Azure

> [!IMPORTANT] 
> Сейчас предоставляется общедоступная предварительная версия хранилища знаний. Для предварительной версии функции соглашение об уровне обслуживания не предусмотрено. Мы не рекомендуем использовать ее в рабочей среде. Дополнительные сведения см. в статье [Дополнительные условия использования предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/). [Версия REST API 2019-05-06-Preview](search-api-preview.md) предоставляет предварительные версии функций. Сейчас доступна ограниченная поддержка портала. Поддержка пакета SDK для .NET пока не реализована.

Хранилище знаний — это особенность Azure Cognitive Search, которая сохраняет выход из [конвейера обогащения ИИ](cognitive-search-concept-intro.md) для независимого анализа или обработки ниже по течению. *Обогащенный документ* — это выходные данные конвейера, созданные из содержимого, которое было извлечено, структурировано и проанализировано с использованием процессов ИИ. В стандартном конвейере на основе ИИ обогащенные документы являются временными и используются только во время индексирования, а затем удаляются. В хранилище знаний сохраняются обогащенные документы. 

Если вы использовали когнитивные навыки в прошлом, вы уже знаете, что *skillsets* переместить документ через последовательность обогащения. Результатом этого процесса может быть индекс поиска или проекции документа в хранилище знаний (нововведение в этой предварительной версии). Эти два выхода, индекс поиска и хранилище знаний, являются продуктами одного конвейера; полученные из одних и тех же входов, но в результате чего выход структурирован, хранится и используется очень по-разному.

Физически хранилищем знаний является [служба хранилища Azure](https://docs.microsoft.com/azure/storage/common/storage-account-overview) (хранилище таблиц Azure, хранилище BLOB-объектов Azure или оба). Любой инструмент или процесс, который может подключиться к службе хранилища Azure, может использовать содержимое хранилища знаний.

![Хранилище знаний на схеме конвейера](./media/knowledge-store-concept-intro/knowledge-store-concept-intro.svg "Хранилище знаний на схеме конвейера")

## <a name="benefits-of-knowledge-store"></a>Преимущества хранилища знаний

Хранилище знаний дает вам структуру, контекст и фактическое содержание, почерпнутые из неструктурированных и полуструктурированных файлов данных, таких как капли, файлы изображений, прошедшие анализ, или даже структурированные данные, измененные в новые формы. В [шагзае пошаговом уходе](knowledge-store-create-rest.md)вы можете увидеть из первых рук, как плотный документ JSON разделен на подструктуры, воссоздается в новые структуры и в противном случае становится доступным для процессов вниз по течению, таких как машинное обучение и рабочие нагрузки по науке о данных.

Хотя полезно понять, что может создать конвейер по обогащению ИИ, реальным потенциалом хранилища знаний является возможность изменения формы данных. Можно начать с базового набора навыков и совершенствовать его цикл за циклом, чтобы увеличить число уровней структур. Это позволит создавать структуры, пригодные для использования другими приложениями, помимо службы "Когнитивный поиск Azure".

Хранилище знаний обеспечивает следующие преимущества:

+ Обогащенные документы может использовать не только служба поиска, но и [средства аналитики и создания отчетов](#tools-and-apps). Power BI с Power Query является убедительным выбором, но любой инструмент или приложение, которое может подключиться к Azure Storage, может вытащить из создаваемого вами хранилища знаний.

+ Улучшение конвейера индексирования на основе ИИ в ходе отладки и определений набора навыков. Хранилище знаний предоставляет результат определения набора навыков в конвейере индексирования на основе ИИ. Эти результаты можно использовать для создания усовершенствованного набора навыков, так как вы можете отслеживать воздействие процесса обогащения. Для просмотра содержимого хранилища знаний можно использовать [исследователь хранения](https://docs.microsoft.com/azure/vs-azure-tools-storage-manage-with-storage-explorer?tabs=windows) данных.

+ Преобразование данных в новые формы. Теперь доступна функция преобразования данных, реализованная в коде набора навыков. [Навык формирователя](cognitive-search-skill-shaper.md) в службе "Когнитивный поиск Azure" был доработан для выполнения этой задачи. Преобразование формы позволяет определять проекцию, которая соответствует предполагаемому способу применения данных, сохраняя при этом взаимосвязи.

> [!Note]
> Новичок в обогащении ИИ и когнитивных навыках? Когнитивный поиск Azure интегрируется с функциями распознавания изображений и текста Cognitive Services. С помощью этих функций извлекаются сведения из файлов изображений, распознаются сущности, извлекаются ключевые фразы из текстовых файлов и т. д., после чего обогащаются исходные данные. Дополнительные сведения см. в статье [Что такое когнитивный поиск в службе "Поиск Azure"?](cognitive-search-concept-intro.md).

## <a name="physical-storage"></a>Физическое хранение

Физическое выражение хранилища знаний сформулировано `projections` через `knowledgeStore` элемент определения в Skillset. Проекция определяет структуру вывода таким образом, чтобы она соответствовала предполагаемому использованию.

Проекции могут быть сформулированы как таблицы, объекты или файлы.

```json
"knowledgeStore": { 
    "storageConnectionString": "<YOUR-AZURE-STORAGE-ACCOUNT-CONNECTION-STRING>", 
    "projections": [ 
        { 
            "tables": [ ], 
            "objects": [ ], 
            "files": [ ]
        },
                { 
            "tables": [ ], 
            "objects": [ ], 
            "files": [ ]
        }
```

Тип проекции, указанный в этой структуре, определяет тип хранилища, используемого хранилищем знаний.

+ Таблица хранения используется `tables`при определении. Определите прогноз таблицы, когда вам нужны таблеточные структуры отчетности для ввода аналитических инструментов или экспорта в виде кадров данных в другие хранилища данных. Можно указать `tables` несколько, чтобы получить подмножество или сечение обогащенных документов. В той же группе проекций сохраняются отношения таблицы, чтобы вы могли работать со всеми из них.

+ Хранилище Blob используется при `objects` `files`определении или . Физическое представление `object` ане является иерархической структурой JSON, представляющей собой обогащенный документ. A `file` — это изображение, извлеченное из документа, переданное нетронутым хранилищем Blob.

Один объект проекции `tables`содержит `objects`один `files`набор , , и для многих сценариев, создавая одну проекцию может быть достаточно. 

Тем не менее, можно создать `table` - `object` - несколько наборов проекций, `file` и вы можете сделать это, если вы хотите различных отношений данных. В наборе данные взаимосвязаны, предполагая, что эти отношения существуют и могут быть обнаружены. При создании дополнительных наборов документы в каждой группе никогда не связаны между собой. Примером использования нескольких групп проекции может быть, если вы хотите те же данные, прогнозируемые для использования с вашей онлайн-системы, и он должен быть представлен определенным образом, вы также хотите те же данные, прогнозируемые для использования в конвейере науки о данных, который представлен Иначе.

## <a name="requirements"></a>Требования 

[Требуется хранение Azure.](https://docs.microsoft.com/azure/storage/) Обеспечивает физическое хранение. Вы можете использовать хранилище Blob, хранение таблицы или оба. Хранилище Blob используется для неповрежденных обогащенных документов, как правило, когда выход идет вниз по течению процессов. Хранение таблиц предназначено для кусочков обогащенных документов, обычно используемых для анализа и отчетности.

[Требуется навык.](cognitive-search-working-with-skillsets.md) Он содержит `knowledgeStore` определение и определяет структуру и состав обогащенного документа. Вы не можете создать хранилище знаний, используя пустой набор навыков. Вы должны иметь по крайней мере один навык в skillset.

[Указатель](search-indexer-overview.md) не требуется. Набор навыков вызывается индексом, который управляет выполнением. Индексы поставляются со своим набором требований и атрибутов. Некоторые из этих атрибутов имеют непосредственное отношение к магазину знаний:

+ Индексаторам требуется [поддерживаемый источник данных Azure](search-indexer-overview.md#supported-data-sources) (конвейер, который в конечном итоге создает хранилище знаний, начинается с вывода данных из поддерживаемого источника в Azure). 

+ Индексы требуют индекса. Индексатор требует, чтобы вы предоставили схему индекса, даже если вы никогда не планируете использовать ее. Минимальный индекс имеет одно поле строки, обозначенное в качестве ключа.

+ Индексы предоставляют дополнительные картографы полей, используемые для псевдонима исходное поле для поля назначения. Если отображение полей по умолчанию нуждается в изменении (для использования другого имени или типа), можно создать [картографическое поле](search-indexer-field-mappings.md) в индексере. Для вывода хранилища знаний пунктом назначения может быть поле в объекте или таблице капли.

+ Индексы имеют графики и другие свойства, такие как механизмы обнаружения изменений, предоставляемые различными источниками данных, также могут быть применены к хранилицу знаний. Например, можно [регулярно планировать](search-howto-schedule-indexers.md) обогащение для обновления содержимого. 

## <a name="how-to-create-a-knowledge-store"></a>Как создать хранилище знаний

Для создания хранилища знаний используйте портал или`api-version=2019-05-06-Preview`предварительный просмотр REST API ().

### <a name="use-the-azure-portal"></a>Использование портала Azure

Мастер **данных импорта** включает в себя варианты создания хранилища знаний. Для первоначального исследования [создайте свой первый магазин знаний в четыре этапа.](knowledge-store-connect-power-bi.md)

1. Выберите поддерживаемый источник данных.

1. Укажите обогащение: приложите ресурс, выберите навыки и укажите хранилище знаний. 

1. Создайте схему индекса. Мастер требует этого и может сделать вывод для вас.

1. Беги волшебника. Добыча, обогащение и хранение происходят на этом последнем этапе.

### <a name="use-create-skillset-and-the-preview-rest-api"></a>Используйте Создать Skillset и предварительный REST API

A `knowledgeStore` определяется в [наборе навыков,](cognitive-search-working-with-skillsets.md)который, в свою очередь, вызывается [индексатором.](search-indexer-overview.md) Во время обогащения Azure Cognitive Search создает пространство в учетной записи хранилища Azure и проецирует обогащенные документы как капли или в таблицы, в зависимости от вашей конфигурации.

В настоящее время предварительный REST API является единственным механизмом, с помощью которого можно создать хранилище знаний программно. Простой способ изучить это [создать свой первый магазин знаний с помощью Почтальон и REST API](knowledge-store-create-rest.md).

Справочное содержимое этой функции предварительного просмотра находится в [разделе API справочной](#kstore-rest-api) статьи. 

<a name="tools-and-apps"></a>

## <a name="how-to-connect-with-tools-and-apps"></a>Как связаться с инструментами и приложениями

После помещения обогащенных документов в хранилище любое средство или технология, способные подключаться к хранилищу BLOB-объектов или таблиц Azure, можно использовать для изучения, анализа или использования их содержимого. Вот список основных таких средств:

+ [Обозреватель службы хранилища](knowledge-store-view-storage-explorer.md) позволяет просматривать структуру и содержимое обогащенных документов. Его можно считать базовым средством для просмотра содержимого хранилища знаний.

+ [Мощность BI](knowledge-store-connect-power-bi.md) для отчетности и анализа. 

+ [Фабрика данных Azure](https://docs.microsoft.com/azure/data-factory/) позволяет выполнять дальнейшую обработку данных.

<a name="kstore-rest-api"></a>

## <a name="api-reference"></a>Справочник по интерфейсам API

Версия `2019-05-06-Preview` REST API предоставляет хранилище знаний с помощью дополнительных определений навыков. В дополнение к ссылке, [см. Создать хранилище знаний с помощью Почтальон](knowledge-store-create-rest.md) для получения подробной информации о том, как позвонить в AA.

+ [Создание набора квалификационных навыков (api-version=2019-05-06-Preview)](https://docs.microsoft.com/rest/api/searchservice/2019-05-06-preview/create-skillset) 
+ [Обновление Skillset (апи-версия-2019-05-06-Preview)](https://docs.microsoft.com/rest/api/searchservice/2019-05-06-preview/update-skillset) 


## <a name="next-steps"></a>Дальнейшие действия

Хранилище знаний обеспечивает стойкость обогащенных документов, полезных при разработке набора навыков или создании структур и содержимого для использования любыми клиентскими приложениями, которые могут получить доступ к учетной записи службы хранилища Azure.

Самый простой подход к созданию обогащенных документов [через портал,](knowledge-store-create-portal.md)но вы также можете использовать Postman и REST API, который является более полезным, если вы хотите понять, как объекты создаются и ссылаются.

> [!div class="nextstepaction"]
> [Создание магазина знаний с помощью Почтальона и REST](knowledge-store-create-rest.md)

Чтобы узнать больше о проекциях, возможностях и как их [определить в наборе навыков](knowledge-store-projection-overview.md)

> [!div class="nextstepaction"]
> [Прогнозы в хранилище знаний](knowledge-store-projection-overview.md)

Для учебника, охватывающего передовые концепции проекций, такие как нарезка, внее формирование и отношения, начните с [определения проекций в хранилище знаний](knowledge-store-projections-examples.md)

> [!div class="nextstepaction"]
> [Определение проекций в хранилище знаний](knowledge-store-projections-examples.md)