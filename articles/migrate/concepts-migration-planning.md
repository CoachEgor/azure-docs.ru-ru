---
title: Создание плана миграции с помощью службы "миграция Azure" | Документация Майкрософт
description: Содержит рекомендации по созданию плана миграции с помощью службы "миграция Azure".
author: rashi-ms
ms.service: azure-migrate
ms.topic: conceptual
ms.date: 11/11/2020
ms.author: rajosh
ms.openlocfilehash: 8f37814e29ce0089c26e235123768296efc2c0b0
ms.sourcegitcommit: 4bee52a3601b226cfc4e6eac71c1cb3b4b0eafe2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/11/2020
ms.locfileid: "94504930"
---
# <a name="build-migration-plan-with-azure-migrate"></a>Создание плана миграции с помощью службы "Миграция Azure"

Выполните инструкции из этой статьи, чтобы создать план миграции в Azure с помощью службы " [Миграция Azure](migrate-services-overview.md)". 

## <a name="define-cloud-migration-goals"></a>Определение целей миграции в облако

Прежде чем начать, понимание и оценка [мотивации](/azure/cloud-adoption-framework/strategy/motivations) для перехода в облако может повлиять на успех бизнеса. Как описано в [облачной инфраструктуре внедрения](/azure/cloud-adoption-framework), существует ряд триггеров и результатов.   

**Бизнес-событие** | **Результат миграции**
--- | ---
Выход из центра обработки данных | Затраты 
Слияние, приобретение или дивеституре | Снижение сложности в отношении поставщиков и технических сложностей
Сокращение капитальных расходов | Оптимизация внутренних операций
Окончание поддержки критически важных технологий | Повышение гибкости бизнеса
Ответ на изменения соответствия нормативным требованиям | Подготовка к новым техническим возможностям
Новые требования к независимости данных | Масштабирование в соответствии с потребностями рынка
Сокращение нарушений в работе и улучшение стабильности ИТ | Масштабирование в соответствии с географическими потребностями

Определение мотивации поможет вам закрепить стратегические цели миграции. Следующим шагом является обнаружение и планирование пути миграции, предназначенного для рабочих нагрузок. Средство " [Миграция Azure](migrate-services-overview.md#azure-migrate-server-assessment-tool) " позволяет оценивать локальные рабочие нагрузки, а также предоставляет рекомендации и средства, помогающие выполнить миграцию.

## <a name="understand-your-digital-estate"></a>Знакомство с цифровым пространством

Начните с определения локальной инфраструктуры, приложений и зависимостей. Это поможет вам найти рабочие нагрузки для миграции в Azure и собрать оптимизированные затраты. Средство оценки серверов помогает находить используемые рабочие нагрузки, зависимости между рабочими нагрузками и оптимизацией рабочей нагрузки.

### <a name="workloads-in-use"></a>Используемые рабочие нагрузки

Служба "миграция Azure" использует упрощенное устройство миграции Azure для выполнения безагентного обнаружения локальных виртуальных машин VMware, виртуальных машин Hyper-V, других виртуальных машин и физических серверов. Непрерывное обнаружение собирает сведения о конфигурации компьютера и метаданные производительности, а также данные приложений. Ниже показано, как устройство собирает данные с локальных компьютеров: 

- Метаданные компьютера, диска и сетевого адаптера.

- Установленные приложения, роли и компоненты.

- Данные производительности, включая использование ЦП и памяти, скорость операций с дисками и пропускную способность.

После сбора данных можно экспортировать список инвентаризации приложений, чтобы найти приложения и SQL Server экземпляры, работающие на компьютерах. Вы можете использовать средство "миграция Azure: Оценка базы данных", чтобы понять, SQL Server готовность.

 ![Инвентаризация приложений на портале](./media/concepts-migration-planning/application-inventory-portal.png)

 ![Экспорт инвентаризации приложений](./media/concepts-migration-planning/application-inventory-export.png)

Вместе с данными, обнаруженными с помощью средства оценки серверов, вы можете использовать данные базы данных управления конфигурацией (CMDB) для создания представления о сервере и пространстве базы данных, а также понять, как распределяются серверы по подразделениям, владельцам приложений, географическим и т. д. Это помогает решить, какие рабочие нагрузки следует назначить приоритету миграции. 

### <a name="dependencies-between-workloads"></a>Зависимости между рабочими нагрузками

После обнаружения серверов можно [проанализировать зависимости](concepts-dependency-visualization.md), визуализировать и выявить межсерверные зависимости, а также стратегии оптимизации для перемещения взаимозависимых серверов в Azure. Визуализация помогает понять, используются ли определенные компьютеры, а также может ли они быть списаны, а не перенесены.  Анализ зависимостей помогает убедиться в том, что ничего не осталось, и на удивление простоев во время миграции. После инвентаризации приложений и анализа зависимостей можно создать группы серверов с высоким уровнем достоверности и начать их оценку.

 ![Сопоставление зависимостей](./media/concepts-migration-planning/expand-client-group.png)

### <a name="optimization-and-sizing"></a>Оптимизация и изменение размера

Azure обеспечивает гибкость при изменении размера облачной емкости с течением времени, а миграция позволяет оптимизировать ресурсы ЦП и памяти, выделенные для серверов. Создание оценки на серверах, удостоверение которых вы знаете, поможет вам понять историю производительности рабочей нагрузки. Это очень важно для правильного изменения размера номеров SKU виртуальных машин Azure и рекомендаций по дискам в Azure.

## <a name="assess-migration-readiness"></a>Оценка готовности к миграции


### <a name="readinesssuitability-analysis"></a>Анализ готовности и пригодности

Вы можете экспортировать отчет об оценке и отфильтровать по этим категориям, чтобы понять готовность Azure:

- **Готово к работе с Azure** : компьютеры можно перенести как есть в Azure без каких-либо изменений. 
- **Условно готово к работе с Azure** : компьютеры можно перенести в Azure, но в соответствии с рекомендациями по исправлению, указанными в оценке, необходимо внести небольшие изменения.
- **Не готово к работе с Azure** : компьютеры невозможно перенести в Azure "как есть". Прежде чем выполнять миграцию, необходимо исправить проблемы в соответствии с руководством по исправлению. 
- **Неизвестная готовность** : службе "миграция Azure" не удается определить готовность компьютера из-за недостаточных метаданных.

С помощью оценок базы данных можно оценить готовность SQL Serverного объема данных для миграции в базу данных SQL Azure или управляемые экземпляры SQL Azure. Оценка показывает состояние готовности к миграции в процентах для каждого экземпляра SQL Server. Кроме того, для каждого экземпляра можно увидеть рекомендуемый целевой объект в Azure, потенциальные блокировки миграции, число критических изменений, готовность к работе с базой данных SQL Azure или виртуальную машину SQL Azure, а также уровень совместимости. Вы можете более подробно изучить влияние блокирования миграции и рекомендации по их устранению.

 ![Оценки базы данных](./media/concepts-migration-planning/database-assessment-portal.png)

### <a name="sizing-recommendations"></a>Рекомендации по выбору размера

После того как компьютер помечается как готовый для Azure, средство оценки сервера вносит рекомендации по выбору размера, которые указывают номер SKU и тип диска виртуальной машины Azure для ваших компьютеров. Вы можете получить рекомендации по размерам на основе журнала производительности (для оптимизации ресурсов при миграции) или на основе параметров локального компьютера без ведения журнала производительности. В оценке базы данных можно просмотреть рекомендации для SKU базы данных, ценовой категории и уровня вычислений.  

### <a name="get-compute-costs"></a>Получение затрат на вычисление

Параметр изменения размера на основе производительности в Azure "Оценка миграции" поможет вам выбрать размер виртуальных машин правой кнопкой мыши и использовать его в качестве оптимального способа оптимизации рабочих нагрузок в Azure. Помимо изменения размера, существует несколько других способов, позволяющих сэкономить затраты на Azure: 

- **Зарезервированные экземпляры** : с [зарезервированными экземплярами (RI)](https://azure.microsoft.com/pricing/reserved-vm-instances/)можно значительно сократить затраты по сравнению с [ценами оплаты по мере](https://azure.microsoft.com/pricing/purchase-options/pay-as-you-go/)использования.
- **Преимущество гибридного использования Azure**. с помощью [преимущество гибридного использования Azure](https://azure.microsoft.com/pricing/purchase-options/pay-as-you-go/)вы можете использовать локальные лицензии Windows Server с активной лицензией Software Assurance или Linux, в Azure, а также объединить с зарезервированными экземплярами.
- **Соглашение Enterprise**. [соглашения Azure Enterprise (EA)](../cost-management-billing/manage/ea-portal-agreements.md) могут обеспечить экономию для подписок и служб Azure.
- **Предложения**. Существует несколько [предложений Azure](https://azure.microsoft.com/support/legal/offer-details/). Например, [Разработка и тестирование с оплатой по мере использования](https://azure.microsoft.com/pricing/dev-test/)или [Enterprise — разработка и тестирование предложение](https://azure.microsoft.com/offers/ms-azr-0148p/)для предоставления более низких ставок для виртуальных машин разработки и тестирования.
- **Время бесперебойной работы виртуальной машины**. Вы можете просматривать дни в месяц и часы в день, в которые запускаются Виртуальные машины Azure. Отключение компьютеров, когда они не используются, может снизить затраты (неприменимо для RIs).
- **Целевой регион**. Вы можете создавать оценки в разных регионах, чтобы определить, может ли миграция в конкретный регион быть более экономичной. 

### <a name="visualize-data"></a>Визуализируйте данные

Отчеты об оценке серверов (с информацией о готовности Azure и распределением ежемесячных затрат) можно просмотреть на портале. Вы также можете экспортировать оценку и расширить план миграции с помощью дополнительных визуализаций. Можно создать несколько оценок с различными сочетаниями свойств и выбрать набор свойств, которые лучше подходят для вашего бизнеса.  

 ![Обзор оценок](./media/concepts-migration-planning/assessment-summary.png)

### <a name="evaluate-gapsblockers"></a>Оценка пропусков и блокировок

При определении приложений и рабочих нагрузок, которые требуется перенести, определите ограничения на время простоя для них и найдите операционные зависимости между приложениями и базовой инфраструктурой. Этот анализ помогает спланировать миграции, которые соответствуют целевому времени восстановления (RTO), и обеспечивают минимальную или нулевую потери данных. Перед миграцией рекомендуется проверить и устранить все проблемы совместимости или неподдерживаемые функции, которые могут блокировать миграцию сервера/базы данных SQL. В этом случае может помочь отчет об оценке серверов в службе "миграция Azure" и оценка базы данных Azure для миграции. 

### <a name="prioritize-workloads"></a>Определение приоритетов рабочих нагрузок

После сбора сведений об инвентаризации можно выбрать приложения и рабочие нагрузки, которые нужно перенести первыми. Разработайте подход "применить и изучить" для переноса приложений с помощью систематического и управляемого способа, чтобы можно было преносить любые недостатки перед началом полной миграции.

Чтобы задать приоритеты для миграции, можно использовать стратегические факторы, такие как сложность, время на миграцию, срочность бизнеса, требования к рабочему и нерабочему производству, соответствие требованиям безопасности, знания о приложениях и т. д. 

Некоторые рекомендации:

- **Определение приоритетов для быстрой службы WINS**. Используйте отчеты об оценке для определения небольших фруктов, включая полностью готовые серверы и базы данных, а также требующие минимальных усилий на миграцию в Azure. В таблице приводится несколько способов сделать это.

    **Состояние** | **Действие**
    --- | ---
    **Готовые виртуальные машины Azure** | Экспортируйте отчет об оценке и отфильтруйте все компьютеры с состоянием " *Готово" для Azure*. Это может быть первая группа компьютеров, которые вы переносите в Azure и перемещаете к ней с помощью средства [миграции Azure: сервер](migrate-services-overview.md#azure-migrate-server-migration-tool) .
    **Окончание поддержки операционных систем** | Экспортируйте отчет об оценке и отфильтруйте все компьютеры под Windows Server 2008 R2/Windows Server 2008. Эти операционные системы находятся в конце поддержки, и только Azure предоставляет бесплатные три года обновлений безопасности при переносе в Azure. Если вы объединяете Преимущество гибридного использования Azure и используете RIs, экономия может быть значительно выше.
    **Миграция SQL Server** | Используйте рекомендации по оценке базы данных для переноса баз данных, готовых к работе с базой данных SQL Azure, с помощью средства миграции Azure: миграция базы данных. Перенесите базы данных, готовые для виртуальной машины SQL Azure, с помощью средства миграции Azure "миграция сервера".
    **Программное обеспечение для завершения поддержки** | Экспорт данных инвентаризации приложений и фильтрация по любому программному обеспечению или расширениям, на которое может попасть окончание поддержки. Определите приоритеты этих приложений для миграции.
    **Неподготовленные компьютеры** | Экспорт отчета об оценке и фильтрация компьютеров с низким уровнем использования ЦП (%) и использование памяти (%).  Выполните миграцию на виртуальную машину Azure нужного размера и сэкономьте затраты на использование недостаточных ресурсов.
    **Компьютеры с избыточной наготовкой** | Экспорт отчета по оценке и фильтра для компьютеров с высокой загрузкой ЦП (%) и использование памяти (%).  Решите ограничения емкости, не прерывайте работу компьютеров с повышенной производительностью и перенесите эти компьютеры в Azure. В Azure используйте возможности автомасштабирования для удовлетворения спроса.<br/><br/> Анализ отчетов об оценке для изучения ограничений хранилища. Анализ операций ввода-вывода и пропускной способности диска, а также рекомендуемый тип диска.

- **Начните с малого, а затем найдем большое** : Начните с перемещения приложений и рабочих нагрузок, которые представляют минимальный риск и сложность, для создания уверенности в стратегии миграции. Проанализируйте рекомендации по оценке службы "миграция Azure" вместе с репозиторием CMDB, чтобы найти и перенести рабочие нагрузки для разработки и тестирования, которые могут быть кандидатами на пилотные миграции. Отзывы и знания от пилотных миграций могут быть полезны при переносе рабочих нагрузок.  
- **Соответствие требованиям**. Azure поддерживает самый крупный портфель соответствия в отрасли с точки зрения широты и глубины предложений. Используйте требования соответствия для определения приоритета миграции, чтобы приложения и рабочие нагрузки соответствовали национальным, региональным и отраслевым стандартам и законодательству. Это особенно справедливо для организаций, которые работают с критически важным для бизнеса процессом, содержат конфиденциальную информацию или находятся в долгосрочных отраслях. В этих типах организаций, стандартов и нормативных актов SPFE и может измениться часто, что трудно справиться с.  

## <a name="finalize-the-migration-plan"></a>Завершение плана миграции

Перед завершением плана миграции убедитесь, что вы рассмотрите и снизите другие потенциальные блокировки, как показано ниже. 

- **Требования к сети**. Оцените ограничения пропускной способности сети и задержки, которые могут привести к непредвиденным задержкам и нарушению скорости репликации миграции.
- Изменения в **тестировании и после миграции** : позволяют использовать буфер времени для выполнения тестов производительности и приемочного тестирования для перенесенных приложений, а также для настройки и корректировки приложений, выполняемых после миграции, таких как обновление строк подключения к базе данных, Настройка веб-серверов, вырезание/очистка и т. д.
- **Разрешения**. Ознакомьтесь с рекомендуемыми разрешениями Azure, ролями доступа к серверу и базе данных и разрешениями, необходимыми для миграции.
- **Обучение**. Подготовьте свою организацию к цифровому преобразованию. Для успешного организационного изменения важна твердая учебная база. Ознакомьтесь с бесплатным обучением по [Microsoft Learn](/learn/azure/?ocid=CM_Discovery_Checklist_PDF), включая курсы по основам Azure, архитектурам решений и безопасности. Поощряйте свою команду для изучения [сертификации Azure](https://www.microsoft.com/learning/certification-overview.aspx?ocid=CM_Discovery_Checklist_PDF).  
- **Поддержка реализации**. при необходимости получите поддержку для своей реализации. Во многих организациях для поддержки миграции в облако требуется внешняя помощь. Чтобы быстро и уверенно перейти в Azure с помощью персонализированной помощи, рассмотрим [управляемый поставщик службы "специалист по Azure](https://www.microsoft.com/solution-providers/search?cacheId=9c2fed4f-f9e2-42fb-8966-4c565f08f11e&ocid=CM_Discovery_Checklist_PDF)" или [FastTrack for Azure](https://azure.microsoft.com/programs/azure-fasttrack/?ocid=CM_Discovery_Checklist_PDF).  


Создайте эффективный план миграции в облако, содержащий подробные сведения о приложениях, которые требуется перенести, доступности приложений и баз данных, ограничениях времени простоя и вехах миграции. План определяет, сколько времени займет копирование данных, и включает реалистичный буфер для тестирования после миграции, а также действия по сокращению. 

План тестирования после миграции должен включать функциональные возможности, интеграцию, безопасность, тестирование производительности и использование, чтобы убедиться, что перенесенные приложения работают должным образом, а все объекты базы данных и связи данных передаются в облако.  

Создайте план миграции и объявите окно обслуживания, чтобы перенести приложения и базы данных с минимальным временем простоя, а также ограничить потенциальные эксплуатационные и деловые последствия во время миграции.  

## <a name="migrate"></a>Миграция

Перед началом полной миграции рекомендуется выполнить тестовую миграцию в службе "миграция Azure". Тестовая миграция помогает оценить время, в которое было вовлечено, и настроить план миграции. Она предоставляет возможность обнаруживать потенциальные проблемы и устранять их до полной миграции.

Когда вы будете готовы к миграции, используйте средство миграции с сервера Azure Migration Tool и службу миграции данных Azure (DMS), чтобы обеспечить простой и интегрированный процесс миграции с комплексным отслеживанием.

- С помощью средства миграции сервера можно перенести локальные виртуальные машины и серверы, а также виртуальные машины, расположенные в другом частном или общедоступном облаке (включая AWS, обеспечить), с нулевым временем простоя.
- Azure DMS предоставляет полностью управляемую службу, предназначенную для обеспечения бесперебойной миграции с нескольких источников базы данных на платформы данных Azure с минимальным временем простоя.  

## <a name="next-steps"></a>Дальнейшие действия

- Проанализируйте процесс [миграции в облако](/azure/architecture/cloud-adoption/getting-started/migrate)   в инфраструктуре внедрения облачных технологий Azure.
- Получите [краткий обзор](migrate-services-overview.md) службы "миграция Azure" и просмотрите [видео о начале работы](https://youtu.be/wFfq3YPxYHE).
- Узнайте больше об оценке виртуальных машин для миграции на [виртуальные машины Azure](concepts-assessment-calculation.md).
