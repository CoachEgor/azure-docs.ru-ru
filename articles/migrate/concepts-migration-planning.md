---
title: Создание плана миграции с помощью службы "миграция Azure" | Документация Майкрософт
description: Содержит рекомендации по созданию плана миграции с помощью службы "миграция Azure".
author: rashi-ms
ms.service: azure-migrate
ms.topic: conceptual
ms.date: 06/21/2020
ms.author: rajosh
ms.openlocfilehash: 6629f02178b7c00ccc849e2ccfc3f0a48f419a7f
ms.sourcegitcommit: 8c7f47cc301ca07e7901d95b5fb81f08e6577550
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/27/2020
ms.locfileid: "92735562"
---
# <a name="build-migration-plan-with-azure-migrate"></a>Создание плана миграции с помощью службы "Миграция Azure"

В этой статье представлено краткое руководство по созданию плана миграции в Azure с помощью службы " [Миграция Azure](migrate-services-overview.md)".Если у вас есть другие вопросы, ознакомьтесь с этими ресурсами:

- [Общие вопросы](resources-faq.md) о службе "миграция Azure"
- Вопросы об [устройстве "миграция Azure](common-questions-appliance.md) "
- Вопросы о [миграции сервера](common-questions-server-migration.md)
- Получение ответов на вопросы на [форуме по миграции Azure](https://docs.microsoft.com/answers/topics/azure-migrate.html)

## <a name="define-the-goals-of-cloud-migration"></a>Определение целей миграции в облако

Прежде чем приступать к созданию плана миграции, важно понять и оценить [мотивацию](/azure/cloud-adoption-framework/strategy/motivations) для перехода в облако, которое может помочь в создании более успешных результатов бизнеса. Так как [платформа внедрения облачных технологий для Azure](/azure/cloud-adoption-framework) объясняет, для вашего бизнеса могут применяться различные триггеры и подходы к миграции:  

**критические бизнес-события;** | **Результат миграции**
--- | ---
Выход из центра обработки данных | Экономия денежных средств
Слияние, приобретение или дивеституре | Сокращение от поставщика или технические сложности
Сокращение капитальных расходов | Оптимизация внутренних операций
Окончание поддержки критически важных технологий | Повышение гибкости бизнеса
Ответ на изменения соответствия нормативным требованиям | Подготовка к новым техническим возможностям
Новые требования к независимости данных | Масштабирование в соответствии с потребностями рынка
Сокращение нарушений и улучшения стабильности ИТ | Масштабирование в соответствии с географическими потребностями

Цель миграции также может помочь в отражении стратегических целей и результатов, которые вы хотели бы получить, переполнив миграцию в Azure. Следующий шаг — выявление и планирование пути миграции в Azure, предназначенных для рабочих нагрузок. Служба "миграция Azure". средство оценки серверов помогает оценивать локальные рабочие нагрузки и предоставляет рекомендации и средства, помогающие выполнить миграцию.

## <a name="understand-your-digital-estate"></a>Знакомство с цифровым пространством

Начните с понимания локальной инфраструктуры, приложений и зависимостей, чтобы определить рабочие нагрузки, которые вы хотите перенести в Azure, и получить оптимизированные проекции затрат. Средство оценки серверов поможет ответить на следующие вопросы:

### <a name="what-workloads-are-in-use"></a>Какие рабочие нагрузки используются?

Используйте упрощенное устройство миграции Azure для выполнения безагентного обнаружения локальных виртуальных машин VMware, виртуальных машин Hyper-V и физических серверов. Непрерывное обнаружение собирает сведения о конфигурации компьютера и производительности, а также может использоваться для получения перечня установленных приложений и ролей и функций, выполняющихся на локальных компьютерах. Устройство, выполняющее миграцию Azure, собирает:

- Сведения о метаданных компьютеров, дисков и сетевых карт

- Установленные приложения, включая приложения и роли и компоненты  

- Данные производительности, включая использование ЦП и памяти, число операций с дисками и пропускную способность

Затем экспортируйте список инвентаризации приложений, чтобы найти все SQL Server экземпляры, выполняющиеся в рабочих нагрузках, и используйте средство Azure Migrate: Оценка базы данных, чтобы понять их готовность.

 ![Инвентаризация приложений на портале](./media/concepts-migration-planning/application-inventory-portal.png)

 ![Экспорт инвентаризации приложений](./media/concepts-migration-planning/application-inventory-export.png)

Вместе с данными обнаружения из средства оценки серверов используйте существующие данные CMDB для создания представления вашего сервера и базы данных, а также для понимания распределения серверов между подразделениями, владельцами приложений, географическими инструментами и т. д., которые могут в свою очередь помочь в определении приоритетов для переносимых рабочих нагрузок.

### <a name="what-dependencies-exist-between-workloads"></a>Какие зависимости существуют между рабочими нагрузками?

После обнаружения серверов используйте сопоставление зависимостей без агента для визуализации и определения межсерверных зависимостей и стратегий оптимизации для перемещения взаимозависимых серверов в Azure. Визуализация помогает понять, используются ли определенные компьютеры, или они могут быть списаны вместо переноса.  Обязательно Проанализируйте зависимости, чтобы убедиться, что ничего не осталось, и избежать неожиданных сбоев во время миграции. После выполнения инвентаризации приложений и сопоставления зависимостей можно создать группы с высоким уровнем достоверности и начать оценку серверов.

 ![Сопоставление зависимостей](./media/concepts-migration-planning/expand-client-group.png)

### <a name="are-they-optimized-and-sized-properly"></a>Они оптимизированы и имеют правильный размер?

Так как Azure обеспечивает гибкость при изменении размера облачных ресурсов с течением времени, миграция — это возможность оптимизировать ресурсы ЦП и памяти, выделенные для серверов. Создайте оценку группы, указанной ранее, чтобы понять историю производительности рабочих нагрузок, которая будет очень важна в рекомендациях по использованию номеров SKU и дисков в Azure.

## <a name="assess-your-readiness-for-migration"></a>Оценка готовности к миграции

### <a name="readiness-and-suitability-analysis-for-azure"></a>Анализ готовности и пригодности для Azure
Экспортируйте отчет оценки виртуальной машины Azure и отфильтруйте по следующим категориям готовности, чтобы понять готовность виртуальной машины для Azure.

- **Готово к работе с Azure** . Вы можете перенести эти компьютеры как есть в Azure без каких-либо изменений  

- **Условно готово к работе в Azure** . Вы можете перенести эти компьютеры в Azure, но на этих серверах потребуется внести небольшие изменения в соответствии с указаниями по исправлению, указанными в оценке.

- **Не готово к работе с Azure** . Вы не можете перенести эти компьютеры в Azure "как есть" и устранить проблемы согласно рекомендациям по исправлению перед миграцией

- **Неизвестная готовность** : службе "миграция Azure" не удалось определить готовность компьютера из-за недостаточных метаданных

С помощью оценок базы данных можно оценить готовность к переносу SQL Serverного пространства данных в базу данных SQL Azure или управляемые экземпляры SQL Azure. Состояние готовности к миграции можно увидеть в процентах для каждого экземпляра SQL Server. Кроме того, для каждого экземпляра можно увидеть рекомендуемый целевой объект в Azure, потенциальные блокировки миграции, Счетчик критических изменений, готовность к работе с базой данных SQL Azure или виртуальной машине SQL Azure, а также уровень совместимости. Вы можете более подробно изучить влияние блокирования миграции и рекомендации по их устранению.

 ![Оценки базы данных](./media/concepts-migration-planning/database-assessment-portal.png)

### <a name="sizing-recommendations"></a>Рекомендации по выбору размера

После того как компьютер помечается как готовый для Azure, средство оценки сервера вносит рекомендации по выбору размера для определения виртуальной машины Azure и номера SKU диска для виртуальных машин. Вы можете просмотреть рекомендацию по выбору размера на основе журнала производительности (чтобы оптимизировать ресурсы при миграции) или в соответствии с их локальной конфигурацией без учета журнала производительности. Для баз данных можно просмотреть рекомендации по SKU базы данных, ценовой категории и уровню вычислений в оценке базы данных.  

### <a name="compute-assessments-to-get-estimated-costs-for-running-the-workloads-in-azure"></a>Оценка вычислений для получения оценочных затрат на выполнение рабочих нагрузок в Azure

Параметр оценки размера, *основанный на производительности* , в оценке позволяет оптимизировать рабочие нагрузки для Azure. Кроме оптимизации дается задание, существует несколько других путей, позволяющих сэкономить затраты:

- **Зарезервированные экземпляры** . с помощью зарезервированных экземпляров можно значительно сократить затраты по сравнению с оплатой по мере использования с помощью годовых или 3-летних условий в Windows и Linux (ВМ).

- **Преимущества гибридного использования Azure** . Вы можете перенести локальные лицензии Windows Server с Software Assurance в Azure и объединить ее с вариантами зарезервированных экземпляров.

- **Предложение Соглашение Enterprise (EA)** . Соглашение Enterprise предлагает встроенную экономию, применимую к вашей подписке.

- **Предложения** . Существует несколько предложений Azure, например разработка и тестирование с оплатой по мере использования и Enterprise — разработка и тестирование, которые обеспечивают более низкие тарифы на виртуальные машины для разработки и тестирования.

- **Время доступности виртуальной машины** . Вы можете указать длительность в днях в месяц и часах в день, когда будут выполняться виртуальные машины Azure, чтобы снизить затраты (неприменимо для RI).

- **Целевой регион** . Вы можете создать несколько оценок в разных регионах, чтобы сравнить, если переход на определенный регион в географии может быть более экономичным

- **Рекомендации на основе производительности** . рекомендуется использовать рекомендованные рекомендации по виртуальной машине Azure, которые помогут сэкономить затраты на облачные решения.

### <a name="visualize-data"></a>Визуализируйте данные

Отчет об оценке серверов можно просмотреть с помощью готовности Azure и ежемесячного распределения затрат на портале, а также экспортировать оценку, чтобы применить дополнительные визуализации к данным обнаружения и оценки, чтобы сделать план миграции более насыщенным. Можно создать несколько оценок для различных сочетаний свойств и выбрать набор свойств, которые лучше подходят для вашего бизнеса.  

 ![Обзор оценок](./media/concepts-migration-planning/assessment-summary.png)

### <a name="evaluate-gaps-and-potential-blockers"></a>Оценка пропусков и потенциальных блокировок

Определяя приложения и базовую инфраструктуру для миграции, определите ограничения на время простоя для этих приложений и найдите операционные зависимости между приложениями и базовой инфраструктурой. Этот анализ поможет спланировать миграции, которые соответствуют целевому времени восстановления (RTO) и обеспечивают минимальную или нулевую потери данных. Перед миграцией рекомендуется изучить и устранить все проблемы совместимости или неподдерживаемые функции, которые могут препятствовать переносу серверов и баз данных SQL с помощью отчета "Оценка сервера" и службы "миграция Azure": рекомендации по оценке базы данных.

### <a name="first-workloads-to-target-and-approach"></a>Первые рабочие нагрузки для целевого и подхода

Теперь, когда у вас есть все важные сведения, которые помогут принять решение о миграции, следует определить, какие приложения и рабочие нагрузки должны быть перенесены первыми. Разработайте подход "применить и изучить" для переноса предполагаемых приложений в систематический и управляемый способ, чтобы вы могли разложить все недостатки этой стратегии, прежде чем приначинаться к полной миграции. Вы также можете использовать стратегические факторы, такие как сложность и время, для переноса, срочности бизнеса, рабочей среды, а также требований безопасности, знаний приложения и т. д., чтобы определить приоритеты групп приложений для переноса.

Ниже приведены некоторые рекомендуемые стратегии миграции.

- **Определение приоритета для быстрой службы WINS** . отчеты об оценке можно использовать для определения небольших фруктов, включая серверы и базы данных, которые полностью готовы и нуждаются в минимальных усилиях для миграции в Azure.
    - Готов к работе в Azure. экспортируйте отчет об оценке и отфильтруйте все компьютеры, подготовленные к работе в Azure. Это может быть первая группа компьютеров, которую можно переносить и сдвинуть с помощью средства миграции Azure "миграция сервера".
    - Окончание поддержки ОС: экспорт отчета об оценке и фильтрация всех компьютеров, работающих под управлением операционных систем Windows Server 2008 и Windows Server 2008 R2. Эти номера SKU завершены, и только Azure предоставляет бесплатные 3-летний обновления для системы безопасности при переносе их в Azure. При объединении Преимущество гибридного использования Azure и использовании зарезервированных экземпляров сохранение может быть намного выше.
    - SQL Server миграция. Используйте рекомендации по оценке базы данных для переноса баз данных, готовых к работе с базами данных SQL Azure, с помощью функции миграции Azure: миграция базы данных и базы данных, готовые для виртуальной машины SQL Azure с помощью функции миграции Azure.
    - Окончание поддержки программного обеспечения: экспортируйте инвентаризацию приложений и отфильтруйте все программное обеспечение и расширения, к которым может быть достигнут конец поддержки. Следует задать приоритеты для этих приложений.
    - Чрезмерно подготовленные виртуальные машины: экспорт отчета об оценке и фильтрация компьютеров с низким уровнем использования ЦП (%) и использование памяти (%).  Эту возможность можно использовать для перехода на защищенную виртуальную машину в Azure и сохранения того, что вы платите за использование ресурсов с недостаточной оплатой.
    - Ограничения емкости. экспортируйте отчет об оценке и отфильтруйте компьютеры с высокой загрузкой ЦП (%) и использование памяти (%).  Вы можете предотвратить Критическое прерывание и повысить производительность виртуальных машин, переменив их в Azure и используя возможность автоматического масштабирования для удовлетворения спроса. Вы также можете просмотреть отчет об оценке, чтобы понять ограничения хранилища, анализируя операции ввода-вывода диска и пропускную способность, и найдите рекомендуемый тип диска, который наилучшим образом соответствует вашим потребностям.

- **Начинайте с малого, а затем найдем большое** : Начните с перемещения приложений и рабочих нагрузок, которые являются минимальными и менее сложными, чтобы создать уверенность в стратегии миграции. Вы также можете переносить рекомендации по оценке службы "миграция Azure" в репозиторий CMDB, чтобы найти и перенести рабочие нагрузки среды разработки и тестирования в пилотных процессах миграции. Сведения об этих пилотных испытаниях можно использовать при переносе рабочих нагрузок.  

- **Соответствие нормативным и отраслевым требованиям** . Azure поддерживает самый крупный портфель соответствия в отрасли с точки зрения широты и глубины предложений. Используйте эту возможность для определения приоритета миграции в Azure и обеспечения соответствия региональным, региональным и отраслевым стандартам и законодательству. Это особенно справедливо для организаций, которые работают с критически важными для бизнеса или содержат конфиденциальные сведения или находятся в интенсивно регулируемых отраслях, в которых стандарты и нормы, SPFE и в некоторых случаях, могут меняться часто, что усложняется.  

## <a name="finalize-the-migration-planandprepare-formigration"></a>Завершение плана миграции и подготовка к миграции

Перед завершением плана миграции убедитесь, что эти ключевые вопросы миграции не воспроизводят препятствием в планировании миграции.

- Оцените ограничения пропускной способности сети и задержки, которые могут привести к непредвиденным задержкам и нарушению скорости репликации миграции.

- Буфер во времени для проведения приемочного тестирования производительности и пользователя для перенесенных приложений или выполнения любых изменений приложений, выполняемых после миграции, таких как обновление строк подключения к базам данных и конфигурации веб-сервера, выполнение прямую миграцию и очистки и т. д.

- Ознакомьтесь с рекомендуемыми разрешениями Azure, а также ролями доступа к серверу и базе данных и модели разрешений, необходимым для миграции.

- Подготовьте свою организацию и обеспечьте выравнивание сотрудников по цифровому преобразованию. Для успешного организационного изменения важна твердая учебная база. Ознакомьтесь с бесплатными материалами по [Microsoft Learn](/learn/azure/?ocid=CM_Discovery_Checklist_PDF), включая курсы по основам Azure, архитектуре решений и безопасности. Поощряйте свою команду на изучение [сертификации Azure](https://www.microsoft.com/learning/certification-overview.aspx?ocid=CM_Discovery_Checklist_PDF)   .  

- При необходимости получите поддержку для вашей реализации. Во многих организациях для поддержки миграции в облако требуется внешняя помощь. Чтобы быстро и уверенно перейти в Azure с помощью персонализированной помощи, рассмотрим [управляемый поставщик службы "специалист по Azure](https://www.microsoft.com/solution-providers/search?cacheId=9c2fed4f-f9e2-42fb-8966-4c565f08f11e&ocid=CM_Discovery_Checklist_PDF)"   или [FastTrack for Azure](https://azure.microsoft.com/programs/azure-fasttrack/?ocid=CM_Discovery_Checklist_PDF).  

Создайте эффективный план миграции в облако, содержащий подробную информацию о списке и группах приложений, которые требуется перенести, а также о доступности приложения и базы данных, ограничениях времени простоя и требуемых вехах миграции. План миграции также должен учитывать срок выполнения копирования данных и включать буфер консидерате для тестирования после миграции и действий прямую миграцию. Тестирование, выполняемое после миграции, должно включать в себя функциональные случаи использования, интеграции, безопасности и тестирования производительности, чтобы убедиться, что перенесенные приложения работают должным образом и все объекты базы данных и связи данных успешно переданы в облако.  

Этот анализ используется для создания плана миграции и объявления периода обслуживания для переноса приложений и баз данных с минимальным и нулевым временем простоя и ограничивает потенциальные эксплуатационные и деловые последствия во время миграции.  

Рекомендуется всегда протестировать и продолжать использовать функцию *миграции тестов* в службе миграции Azure перед запуском полных миграций в Azure. Эти реальные данные помогут оценить фактическое вовлеченное время и внести необходимые изменения в план миграции. Тестовая миграция также позволяет обнаружить потенциальные проблемы с планом миграции и исправить их до фактической миграции.  

Когда вы будете готовы выполнить миграцию, используйте *средство миграции серверов Azure Migration Tool* и *службу переноса данных службы* миграции Azure для эффективной и интегрированной миграции с сквозным отслеживанием. Средство миграции сервера поддерживает миграцию виртуальных машин и серверов, размещенных локально, в центре обработки данных клиентов или в любом другом частном или общедоступном облаке, включая AWS, обеспечить и т. д., с ненулевым временем простоя. Azure Database Migration Service — это полностью управляемая служба, которая выполняет непрерывную миграцию из множества источников баз данных на платформы данных Azure с минимальным временем простоя.  

> [!NOTE]
> Для виртуальных машин VMware при оценке серверов используется операционная система, указанная для виртуальной машины в vCenter Server для обработки анализа гостевой ОС. В настоящее время для виртуальных машин Linux, работающих в VMware, не определена точная версия ядра гостевой ОС.

## <a name="next-steps"></a>Дальнейшие действия

- Проанализируйте процесс [миграции в облако](/azure/architecture/cloud-adoption/getting-started/migrate)   в инфраструктуре внедрения облачных технологий Azure.
- Приступая к [работе](https://youtu.be/wFfq3YPxYHE) с миграцией Azure.
- Создайте оценку виртуальных машин [VMware](./tutorial-assess-vmware-azure-vm.md) или [виртуальных машин Hyper-V](tutorial-assess-hyper-v.md).
