---
title: Оценка серверов по импортированным данным сервера с помощью средства оценки сервера службы "Миграция Azure"
description: В этой статье описывается, как оценивать локальные серверы на готовность к миграции в Azure по импортированным данным с помощью средства оценки сервера в службе "Миграция Azure".
author: rayne-wiselman
manager: carmonm
ms.service: azure-migrate
ms.topic: tutorial
ms.date: 10/23/2019
ms.author: raynew
ms.openlocfilehash: 856f7f7735435579ac14918ee8026f27b222773e
ms.sourcegitcommit: bc7725874a1502aa4c069fc1804f1f249f4fa5f7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/07/2019
ms.locfileid: "73715508"
---
# <a name="assess-servers-using-imported-data"></a>Оценка серверов по импортированным данным

> [!NOTE]
> Если эта функция отсутствует на портале миграции Azure, подождите. Предположительно, она появится в течение следующей недели.

В этой статье описывается, как оценивать локальные серверы с помощью средства [Оценка серверов в службе "Миграция Azure"](migrate-services-overview.md#azure-migrate-server-assessment-tool) путем импорта метаданных сервера с использованием CSV-файла. Такой метод оценки позволяет обойтись без настройки модуля службы "Миграция Azure" для создания оценки. Это полезно в следующих случаях: 

- Перед развертыванием модуля нужно создать быструю начальную оценку.
- Нет возможности развернуть модуль службы "Миграция Azure" в вашей организации.
- Нет возможности предоставить общий доступ к учетным данным для входа на локальные серверы.
- Ограничения безопасности не позволяют собирать и отправлять в Azure данные, которые собираются этим модулем. Импортированный файл позволяет управлять тем, какие данные вы предоставите в общий доступ, ведь значительная часть данных (например, IP-адреса) не обязательна для оценки.


## <a name="before-you-start"></a>Перед началом работы

Обратите внимание на следующее.

- В один CSV-файл можно добавить не более 20 000 серверов.
- С помощью CSV-файла вы сможете добавить до 20 000 серверов в проект Миграции Azure.
- Вы можете несколько раз отправить CSV-файлы с данными о серверах в средство оценки сервера в службе "Миграция Azure".
- Сбор сведений о приложении полезен при оценке локальной среды для миграции, но сейчас средство оценки сервера в службе "Миграция Azure" не выполняет оценку на уровне приложения и не учитывает данные о приложениях при создании оценки.

Из этого руководства вы узнаете, как выполнять следующие задачи:
> [!div class="checklist"]
> * Настройка проекта службы "Миграция Azure".
> * Заполнение CSV-файла сведениями о серверах.
> * Импорт файла с данными о серверах в Оценку сервера службы "Миграция Azure".
> * Создание и проверка оценки.

> [!NOTE]
> В руководствах показан простейший путь развертывания сценария, использование которого позволяет быстро настроить проверку концепции. В руководствах по возможности используются параметры по умолчанию и показаны не все возможные параметры и пути. Для получения подробных инструкций ознакомьтесь со статьями с инструкциями.

Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись Azure](https://azure.microsoft.com/pricing/free-trial/), прежде чем начинать работу.


## <a name="set-azure-permissions-for-azure-migrate"></a>Настройка разрешений Azure для службы "Миграция Azure" 

Учетная запись Azure должна иметь разрешения на создание приложений проекта Миграции Azure.

1. На портале Azure откройте подписку, а затем выберите **Управление доступом (IAM)** .
2. В разделе **Проверить доступ** найдите соответствующую учетную запись и щелкните ее, чтобы просмотреть разрешения.
3. Вы должны обладать разрешениями уровня **Участник** или **Владелец**.
    - Если вы создали бесплатную учетную запись Azure, вы являетесь владельцем подписки.
    - Если вы не являетесь владельцем подписки, назначьте эту роль совместно с владельцем.


## <a name="set-up-an-azure-migrate-project"></a>Настройка проекта службы "Миграция Azure"

Настройте новый проект службы "Миграция Azure" следующим образом.

1. На портал Azure выберите **Все службы** и найдите службу **Миграция Azure**.
2. В разделе **Службы** выберите **Миграция Azure**.
3. В разделе **Обзор** в области **Обнаружение, оценка и перенос серверов** щелкните **Оценка и миграция серверов**.

    ![Обнаружение и оценка серверов](./media/tutorial-assess-import/assess-migrate.png)

4. В разделе **Приступая к работе** щелкните **Добавить инструменты**.
5. В разделе **Проект миграции** выберите подписку Azure и создайте группу ресурсов, если у вас ее нет.     
6. В разделе **Сведения о проекте** укажите имя проекта и регион для создания проекта.

    - [Просмотрите](migrate-support-matrix.md#supported-geographies) список поддерживаемых регионов. Географический регион проекта используется только для хранения обнаруженных метаданных локальных виртуальных машин.
    - При выполнении миграции можно выбрать любой целевой регион.

    ![Создание проекта службы "Миграция Azure"](./media/tutorial-assess-import/migrate-project.png)


7. Щелкните **Далее**.
8. В области **Выберите инструмент оценки** выберите **Azure Migrate: Server Assessment (Миграция Azure: оценка сервера)**  > **Далее**.

    ![Создание проекта службы "Миграция Azure"](./media/tutorial-assess-import/assessment-tool.png)

9. В области **Выберите инструмент миграции** выберите **Пропустить добавление инструмента миграции** > **Далее**.
10. В области **Review + add tools** (Проверка и добавление инструментов) проверьте параметры и щелкните **Add tools** (Добавить инструменты).
11. Развертывание проекта службы "Миграция Azure" может занять несколько минут. После этого откроется страница проекта. Если проект не отображается, доступ к нему можно получить в разделе **Серверы** на панели мониторинга службы "Миграция Azure".


## <a name="prepare-the-csv"></a>Подготовка CSV-файла

Скачайте шаблон CSV-файла и добавьте в него сведения о сервере.


### <a name="download-the-template"></a>Скачивание шаблона

1. Последовательно выберите разделы **Цели миграции** > **Серверы** > **Azure Migrate: Server Assessment (Миграция Azure: оценка серверов)** и щелкните **Обнаружение**.
2. В разделе **Обнаружение компьютеров** выберите действие **Импорт с использованием CSV-файла**.
3. Щелкните **Скачать**, чтобы скачать шаблон CSV-файла. Кроме того, вы можете [скачать его напрямую](https://go.microsoft.com/fwlink/?linkid=2108404).

    ![Скачивание шаблона CSV-файла](./media/tutorial-assess-import/download-template.png)


### <a name="add-server-information"></a>Добавление информации о сервере

Соберите данные о сервере и добавьте их в CSV-файл.

- Для сбора данных можно экспортировать их из средств, которые используются для локального управления серверами, таких как VMware vSphere или база данных управления конфигурацией (CMDB).
- Чтобы ознакомиться с примерами данных, скачайте [пример файла](https://go.microsoft.com/fwlink/?linkid=2108405).


В следующей таблице перечислены поля файлов, которые необходимо заполнить.

**Имя поля** | **Обязательное** | **Дополнительные сведения**
--- | --- | ---
**Server name** (Имя сервера) | Yes | Мы рекомендуем указать полное доменное имя. 
**IP-адрес** | Нет | Адрес сервера.
**Number of cores** (Число ядер) | Yes | Общее число ядер процессора, выделенных для этого сервера.
**Память** | Yes | Общий объем ОЗУ (МБ), выделенный для этого сервера.
**OS name** (Имя ОС) | Yes | Операционная система сервера.
**Версия ОС** | Нет | Версия операционной системы сервера.
**Количество дисков** | Нет | Не требуется, если предоставлены сведения о конкретных дисках.
**Disk 1 size** (Размер диска 1)  | Нет | Максимальный размер диска в ГБ.<br/> Вы можете добавить сведения о дополнительных дисках, [добавляя столбцы](#add-multiple-disks) в этот шаблон. В общей сложности можно добавить до восьми дисков.
**Disk 1 read ops** (Операций чтения для диска 1) | Нет | Число операций чтения с диска в секунду.
**Disk 1 write ops** (Операций записи для диска 1) | Нет | Число операций записи на диск в секунду.
**Disk 1 read throughput** (Пропускная способность при чтении для диска 1) | Нет | Скорость считывания данных с диска в МБ/с.
**Disk 1 write throughput** (Пропускная способность при записи для диска 1) | Нет | Скорость записи данных на диск в МБ/с.
**CPU utilization percentage** (Процент использования ЦП) | Нет | Процент использования ЦП.
**Memory utilization percentage** (Процент использования памяти) | Нет | Процент использования ОЗУ.
**Total disks read ops** (Всего операций чтения с дисков) | Нет | Число операций чтения с диска в секунду.
**Total disks write ops** (Всего операций записи на диски) | Нет | Число операций записи на диск в секунду.
**Total disks read throughput** (Общая пропускная способность чтения с дисков) | Нет | Скорость чтения данных с диска в МБ/с.
**Total disks write throughput** (Общая пропускная способность записи на диски) | Нет | Скорость записи данных на диск в МБ/с.
**Network in throughput** (Пропускная способность для входящего сетевого трафика) | Нет | Объем получаемых сервером данных в МБ/с.
**Network out throughput** (Пропускная способность для исходящего сетевого трафика) | Нет | Объем передаваемых сервером данных в МБ/с.
**Firmware type** (Тип встроенного ПО) | Нет | Встроенное ПО сервера. Допускаются значения "BIOS" и "UEFI".
**Тип сервера** | Нет | Допускаются значения "Физический" и "Виртуальный".
**Низкоуровневая оболочка** | Нет | Гипервизор, под управлением которого работает виртуальная машина. <br/> Допускаются значения "VMware", "Hyper-V", "Xen", "AWS", "GCP" и "Прочие".
**Hypervisor version number** (Номер версии гипервизора) | Нет | Версия используемого гипервизора.
**Virtual machine ID** (Идентификатор виртуальной машины) | Нет | Идентификатор виртуальной машины. Соответствует значению **InstanceUUid** для виртуальной машины VMware vCenter или **Hyper-V VM ID** (Идентификатор виртуальной машины Hyper-V) для Hyper-V.
**Virtual machine manager ID** (Идентификатор диспетчера виртуальных машин) | Нет | Соответствует значению **InstanceUUid** для VMWare vCenter. Не используется для Hyper-V.
**MAC address** (MAC-адрес)| Нет | MAC-адрес сервера.
**BIOS ID** (Идентификатор BIOS) | Нет | Идентификатор BIOS сервера.
**Custom server ID** (Пользовательский идентификатор сервера)| Нет | Уникальные идентификаторы серверов в локальной среде. <br/> Полезно для отслеживания импортированного сервера по локальному идентификатору. 
**Application 1 name** (Имя приложения 1) | Нет | Имя рабочих нагрузок, которые выполняются на сервере.<br/> Вы можете добавить сведения о дополнительных приложениях, [добавив столбцы](#add-multiple-applications) в этот шаблон. В общей сложности можно добавить до пяти приложений.
**Application 1 type** (Тип приложения 1) | Нет | Тип рабочей нагрузки, которая выполняется на сервере.
**Application 1 version** (Версия приложения 1) | Нет | Версия рабочей нагрузки, которая выполняется на сервере.
**Application 1 license expiry** (Срок действия лицензии приложения 1) | Нет | Срок действия лицензии для рабочей нагрузки (если применимо).
**Business unit** (Бизнес-подразделение) | Нет | Бизнес-подразделение, к которому принадлежит сервер.
**Business owner** (Ответственный со стороны бизнеса) | Нет | Ответственный со стороны бизнеса
**Business application name** (Имя бизнес-приложения) | Нет | Имя бизнес-приложения, к которому относится это приложение.
**Местоположение.** | Нет | Центр обработки данных, в котором находится сервер.
**Server decommission date** (Вывод сервера из эксплуатации) | Нет | Дата вывода из эксплуатации самого физического сервера или базового физического сервера, на котором работает виртуальный сервер.

### <a name="add-operating-systems"></a>Добавление операционных систем

Средство оценки распознает некоторые имена операционных систем. Указанное вами имя операционной системы должно соответствовать одному из вариантов в списке [поддерживаемых имен](#supported-operating-system-names).


### <a name="add-multiple-disks"></a>Добавление нескольких дисков

В шаблоне предоставлены поля по умолчанию для первого диска.  Вы можете добавить аналогичные столбцы для дополнительных дисков, до 8 в общей сложности. 

Например, чтобы подготовить все поля для второго диска, добавьте следующие столбцы:

Disk 2 size, Disk 2 read ops, Disk 2 write ops, Disk 2 read throughput, Disk 2 write throughput.

При желании вы можете добавить определенные поля только для конкретного диска.


### <a name="add-multiple-applications"></a>Добавление нескольких приложений

В шаблоне предоставлены поля для одного приложения. Вы можете добавить аналогичные столбцы для дополнительных приложений, до 5 в общей сложности.  

Например, чтобы подготовить все поля для второго приложения, добавьте следующие столбцы:

Application 2 name, Application 2 type, Application 2 version, Application 2 license expiry.


При желании вы можете добавить определенные поля только для конкретного приложения.

> [!NOTE]
> Сведения о приложениях полезны при оценке готовности локальной среды к миграции. Но средство оценки сервера в службе "Миграция Azure" сейчас не выполняет оценку на уровне приложений и не учитывает приложения при создании оценки.


## <a name="upload-the-server-information"></a>Отправка сведений о сервере

После добавления сведений в шаблон CSV-файла импортируйте данные о серверах в службу "Миграция Azure". службы "Миграция Azure".

1. В службе "Миграция Azure" выберите **Обнаружение компьютеров** и перейдите к заполненному шаблону.
2. Щелкните **Импорт**.
3. Отобразится состояние импорта. 
    - Если в этом состоянии отображаются предупреждения, вы можете исправить их или продолжить работу без устранения.
    - Предлагаемые в предупреждениях уточнения информации о сервере повысят точность оценки.
    - Чтобы просмотреть и исправить отображаемые предупреждения, щелкните действие **Download warning details .CSV** (Скачать CSV-файл с информацией о предупреждениях). Это действие скачивает CSV-файл с добавленными предупреждениями. Вы можете просмотреть эти предупреждения и принять меры при необходимости. 
    Если в состоянии отображаются ошибки (состояние импорта имеет значение **Сбой**), необходимо исправить их перед продолжением импорта. Для этого скачайте CSV-файл, в который теперь добавлены сведения об ошибках. Просмотрите эти сведения и устраните ошибки при необходимости. Затем отправьте измененный файл.
4. Если состояние импорта приняло значение **Completed** (Завершено), значит сведения о сервере успешно импортированы.


> [!NOTE]
> Чтобы обновить сведения о сервере, отправленные в службу "Миграция Azure", повторите отправку данных с тем же значением параметра **Server name** (Имя сервера). Обратите внимание, что поле **Server name** (Имя сервера) не может быть изменено после импорта шаблона. В настоящий момент удаление серверов не поддерживается.

## <a name="updating-server-information"></a>Обновление информации о сервере

Чтобы обновить сведения о сервере, повторите отправку данных с тем же значением для поля **Server name** (Имя сервера). Значение поля **Server name** (Имя сервера) нельзя изменить. 

В настоящее время удаление серверов не поддерживается.

### <a name="verify-servers-in-the-portal"></a>Проверка серверов на портале

После обнаружения можно проверить, отображаются ли серверы на портале Azure.

1. Откройте панель мониторинга службы "Миграция Azure".
2. На странице **Azure Migrate — Servers** > **Azure Migrate: Server Assessment** (Миграция Azure — серверы > Миграция Azure: оценка сервера) щелкните значок, отображающий количество **обнаруженных серверов**.
3. Щелкните вкладку **Import based** (На основе импорта).

## <a name="set-up-an-assessment"></a>Настройка оценки

Существует два типа оценки, которые можно создать с помощью средства "Оценка серверов" службы "Миграция Azure".

**Оценка** | **Дополнительные сведения** | **Данные**
--- | --- | ---
**На основе производительности** | Оценки на основе указанных данных о производительности | **Рекомендуемый размер виртуальной машины**: на основе данных об использовании ЦП и памяти.<br/><br/> **Рекомендуемый тип диска (управляемый диск цен. категории "Стандартный" или "Премиум")** : на основе операций ввода-вывода в секунду и пропускной способности локальных дисков.
**Как в локальной среде** | Оценки на основе определения размера в локальной среде. | **Рекомендуемый размер виртуальной машины**: На основе указанного размера сервера<br/><br> **Рекомендуемый тип диска**: на основе параметра типа хранилища, выбранного для оценки.


### <a name="run-an-assessment"></a>Запуск оценки

Запустите оценку следующим образом:

1. Просмотрите [рекомендации](best-practices-assessment.md) для создания оценок.
2. На вкладке **Серверы** на плитке **Azure Migrate: Server Assessment** (Миграция Azure: оценка сервера) щелкните **Оценка**.

    ![Оценка](./media/tutorial-assess-physical/assess.png)

2. В разделе **Оценка серверов** укажите имя для оценки.
3. В поле **Discovery source** (Источник обнаружения) выберите вариант **Machines added via import to Azure Migrate** (Компьютеры, добавленные с помощью импорта в Миграцию Azure).
3. Щелкните **Просмотреть все**, чтобы просмотреть свойства оценки.

    ![Свойства оценки](./media/tutorial-assess-physical/view-all.png)

3. В разделе **Создание или выбор группы** выберите **Создать** и укажите имя группы. Группа собирает одну или несколько виртуальных машин для оценки.
4. В разделе **Добавление компьютеров в группу** выберите серверы, которые необходимо добавить в группу.
5. Щелкните **Создать оценку**, чтобы создать группу и запустить оценку.

    ![Создание оценки](./media/tutorial-assess-physical/assessment-create.png)

6. После создания оценки просмотрите ее, выбрав **Серверы** > **Azure Migrate: Server Assessment** >  (Миграция Azure: оценка сервера) **Оценки**.
7. Щелкните **Экспорт оценки**, чтобы скачать оценку в виде файла Excel.



## <a name="review-an-assessment"></a>Проверка оценки

В результатах оценки описывается:

- **готовность к работе в Azure**: подходят ли серверы для миграции в Azure;
- **примерную ежемесячную стоимость**: оценочная месячная стоимость вычислений и хранения для работы серверов в Azure;
- **примерную стоимость хранилища в месяц**: расчетную стоимость хранилища дисков после миграции.

### <a name="view-an-assessment"></a>Просмотр оценки

1. В разделе **Цели миграции** >  **Серверы** щелкните **Оценки** в области **Azure Migrate: Server Assessment** (Миграция Azure: оценка сервера).
2. В разделе **Оценки** щелкните оценку, чтобы открыть сведения о ней.

    ![Сводка оценки](./media/tutorial-assess-physical/assessment-summary.png)

### <a name="review-azure-readiness"></a>Проверка готовности к работе в Azure

1. В разделе **Готовность к работе в Azure** проверьте, готовы ли серверы к миграции в Azure.
2. Проверьте состояние.
    - **Готово к работе в Azure**: служба "Миграция Azure" рекомендует размер и стоимость виртуальных машин в оценке.
    - **Готово при выполнении условий**: отображает проблемы и предлагаемые способы исправления.
    - **Не готово для Azure**: отображает проблемы и предлагаемые способы исправления.
    - **Уровень готовности неизвестен**: используется, когда служба "Миграция Azure" не может оценить готовность из-за проблем с доступностью данных.

2. Щелкните состояние **Готовность к работе в Azure**. Вы можете просмотреть сведения о готовности сервера и сведения о самом сервере, в том числе параметры вычислительной среды, хранилища и сети.

### <a name="review-cost-details"></a>Просмотр сведений о затратах

В этом представлении отображается оценочная стоимость вычислений и хранения для запуска виртуальных машин в Azure.

1. Просмотрите ежемесячные затраты на вычисления и хранение. Затраты суммируются для всех серверов в оцениваемой группе.

    - Оценки стоимости основаны на рекомендациях по размеру компьютера, его дисков и свойств.
    - Показана расчетная месячная стоимость вычислений и хранения.
    - Приводится оценка затрат на выполнение локальных серверов в виде виртуальных машин IaaS. Средство "Оценка серверов" службы "Миграция Azure" не учитывает затраты на PaaS или SaaS.

2. Вы можете просмотреть примерную стоимость хранилища в месяц. В этом представлении показаны совокупные затраты на хранение для оцениваемой группы, распределенные по дискам хранения разных типов.
3. Вы можете воспользоваться детализацией для просмотра сведений об определенных виртуальных машинах.

> [!NOTE]
> Оценки достоверности не назначаются оценкам серверов, которые импортируются в средство оценку сервера в службе "Миграция Azure" через CSV-файлы.


## <a name="supported-operating-system-names"></a>Поддерживаемые имена операционных систем

ИМЯ | ИМЯ
--- | ---
**A–H** | 
Apple Mac OS X 10 | Asianux 3<br/>Asianux 4<br/>Asianux 5
CentOS<br/>CentOS 4/5 | CoreOS Linux 
Debian GNU/Linux 4<br/>Debian GNU/Linux 5<br/>Debian GNU/Linux 6<br/>Debian GNU/Linux 7<br/>Debian GNU/Linux 8 | FreeBSD 
**I–R** | 
IBM OS/2 | MS-DOS |
Novell NetWare 5<br/>Novell NetWare 6 | Oracle Linux<br/> Oracle Linux 4/5<br/>Oracle Solaris 10<br/> Oracle Solaris 11 
Red Hat Enterprise Linux 2<br/>Red Hat Enterprise Linux 3<br/>Red Hat Enterprise Linux 4<br/>Red Hat Enterprise Linux 5<br/>Red Hat Enterprise Linux 6<br/>Red Hat Enterprise Linux 7<br/>Red Hat Fedora | 
**S–T** | 
SCO OpenServer 5<br/>SCO OpenServer 6<br/>SCO UnixWare 7 | Serenity Systems eComStation 1<br/>Serenity Systems eComStation 2
Sun Microsystems Solaris 8<br/>Sun Microsystems Solaris 9 | SUSE Linux Enterprise 10<br/> SUSE Linux Enterprise 11<br/>SUSE Linux Enterprise 12<br/>SUSE Linux Enterprise 8/9<br/>SUSE Linux Enterprise 11<br/>SUSE openSUSE
**U-Z** | 
Ubuntu Linux | VMware ESXi 4<br/>VMware ESXi 5<br/>VMware ESXi 6
Windows 10<br/>Windows 2000<br/>Windows 3<br/>Windows 7<br/>Windows 8<br/>Windows 95<br/>Windows 98<br/>Windows NT<br/>Windows Server (R) 2008<br/>Windows Server 2003 | Windows Server 2008<br/>Windows Server 2008 R2<br/>Windows Server 2012<br/>Windows Server 2012 R2<br/>Windows Server 2016<br/>Windows Server 2019<br/>Windows Server Threshold<br/>Windows Vista<br/>Windows Web Server 2008 R2<br/>Windows XP Professional
    

## <a name="next-steps"></a>Дополнительная информация

Изучив это руководство, вы:

> [!div class="checklist"]
> * импортировали серверы в средство оценки сервера службы "Миграция Azure" через CSV-файл;
> * Создали и проверили оценку.

Теперь [разверните модуль](./migrate-appliance.md) для более точной оценки и объедините серверы в группы для более глубокой оценки с помощью [анализа зависимостей](./concepts-dependency-visualization.md).
