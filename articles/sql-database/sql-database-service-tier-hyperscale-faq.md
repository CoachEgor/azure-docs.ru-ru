---
title: Гипермасштабированные часто задаваемые вопросы базы данных Azure S'L
description: Ответы на распространенные вопросы о базе данных Azure SQL на уровне служб "Гипермасштабирование", обычно называемой базой данных уровня "Гипермасштабирование".
services: sql-database
ms.service: sql-database
ms.subservice: ''
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: dimitri-furman
ms.author: dfurman
ms.reviewer: ''
ms.date: 03/03/2020
ms.openlocfilehash: 9f518df02b1923513fd014be53646a9a1be8465e
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79268630"
---
# <a name="azure-sql-database-hyperscale-faq"></a>Гипермасштабированные часто задаваемые вопросы базы данных Azure S'L

В этой статье содержатся ответы на часто задаваемые вопросы для клиентов, рассматривающих базу данных в уровне гипермасштабного сервиса Azure S'L, который в оставшейся части этого часто задаваемые вопросы называют просто Hyperscale. В этой статье описаны сценарии, которые поддерживает Hyperscale, и функции, совместимые с Hyperscale.

- Эта статья предназначена для читателей, которые получили базовые сведения об уровне служб "Гипермасштабирование" и ищут ответы на конкретные вопросы.
- Этот часто задаваемые вопросы не предназначены для руководства или ответа на вопросы о том, как использовать базу данных Hyperscale. Для введения в Hyperscale мы рекомендуем вам обратиться к гипермасштабной документации [базы данных Azure S'L.](sql-database-service-tier-hyperscale.md)

## <a name="general-questions"></a>Общие вопросы

### <a name="what-is-a-hyperscale-database"></a>Что такое база данных уровня "Гипермасштабирование"

База данных уровня "Гипермасштабирование" представляет собой базу данных Azure SQL уровня службы "Гипермасштабирование" на базе технологии горизонтально масштабируемого хранилища уровня "Гипермасштабирование". База данных уровня "Гипермасштабирование" поддерживает размещение до 100 ТБ данных и обеспечивает высокую пропускную способность и производительность, а также быстрое масштабирование, чтобы адаптироваться к требованиям рабочей нагрузки. Масштабирование прозрачно для приложения : подключение, обработка запросов и т.д. работают, как и любая другая база данных Azure S'L.

### <a name="what-resource-types-and-purchasing-models-support-hyperscale"></a>Какие типы ресурсов и модели приобретения поддерживает уровень "Гипермасштабирование"

Уровень службы "Гипермасштабирование" доступен только для отдельных баз данных в рамках модели приобретения на основе виртуальных ядер в Базе данных SQL Azure.  

### <a name="how-does-the-hyperscale-service-tier-differ-from-the-general-purpose-and-business-critical-service-tiers"></a>Чем уровень служб "Гипермасштабирование" отличается от уровней "Критически важный для бизнеса" и "Общее назначение"

Уровни обслуживания на основе vCore дифференцированы в зависимости от доступности базы данных и типа хранилища, производительности и максимального размера, как описано в следующей таблице.

| | Тип ресурса | Общее назначение |  Уровень "Гипермасштабирование" | Критически важный для бизнеса |
|:---:|:---:|:---:|:---:|:---:|
| **Оптимально для** |All|Предлагает бюджетные сбалансированные варианты вычислительных ресурсов и ресурсов хранилища.|Большинства рабочих нагрузок. Автоматическое хранение до 100 ТБ, быстрое вертикальное и горизонтальное вычисление, быстрое восстановление базы данных.|Приложения OLTP с высокой частотой транзакций и низкой задержкой в итог. Обеспечивает наивысшую устойчивость к сбоям и быстрым неудачам с использованием нескольких синхронно обновленных реплик.|
|  **Тип ресурса** ||Отдельная база данных / эластичный пул / управляемый экземпляр | Отдельная база данных | Отдельная база данных / эластичный пул / управляемый экземпляр |
| **Объем вычислительных ресурсов**|Отдельная база данных / эластичный пул* | От 1 до 80 виртуальных ядер | От 1 до 80 виртуальных ядер* | От 1 до 80 виртуальных ядер |
| |управляемый экземпляр | 8, 16, 24, 32, 40, 64, 80 виртуальных ядер | Недоступно | 8, 16, 24, 32, 40, 64, 80 виртуальных ядер |
| **Тип хранилища** | All |Удаленное хранилище класса Premium (для каждого экземпляра) | Не связанное хранилище с локальным кэшем SSD (для каждого экземпляра) | Сверхбыстрое локальное хранилище SSD (для каждого экземпляра) |
| **Размер хранилища** | Отдельная база данных / эластичный пул*| От 5 ГБ до 4 ТБ | До 100 ТБ | От 5 ГБ до 4 ТБ |
| | управляемый экземпляр  | От 32 ГБ до 8 ТБ | Недоступно | От 32 ГБ до 4 ТБ |
| **ОПЕРАЦИЙ ВВОДА-ВЫВОДА** | Отдельная база данных | 500 операций ввода-вывода в секунду на виртуальное ядро с максимальным количеством 7000 | Hyperscale — это многоуровневая архитектура с кэшированием на нескольких уровнях. Эффективный IOPS будет зависеть от рабочей нагрузки. | 5000 операций ввода-вывода с максимальным значением 200 000 операций ввода-вывода|
| | управляемый экземпляр | Зависит от размера файла | Недоступно | 1375 IOPS/vCore |
|**Доступность**|All|1 реплика, без масштабирования чтения, отсутствие локального кэша | Несколько реплик, до 4 Чтение Масштаб-аут, частичный локальный кэш | 3 реплики, 1 Чтение Масштаб-аут, зона-излияльной HA, полное локальное хранилище |
|**Резервные копии**|All|RA-GRS, 7-35 дней удержания (7 дней по умолчанию)| RA-GRS, 7-дневное удержание, постоянное время восстановления (PITR) | RA-GRS, 7-35 дней удержания (7 дней по умолчанию) |

\*Упругие пулы не поддерживаются на уровне обслуживания Hyperscale

### <a name="who-should-use-the-hyperscale-service-tier"></a>Кому рекомендуется использовать уровень служб "Гипермасштабирование"

Уровень обслуживания Hyperscale предназначен для клиентов, которые имеют большие базы данных на сервере S'L Ис-L И, которые хотят модернизировать свои приложения, перейдя в облако, или для клиентов, которые уже используют базу данных Azure S'L и хотят значительно расширить потенциал для роста базы данных. Он также предназначен для клиентов, которым нужна высокая производительность и масштабируемость. Уровень "Гипермасштабирование" представляет следующие возможности:

- Размер базы данных до 100 ТБ
- Быстрые резервные копии базы данных независимо от размера базы данных (резервные копии основаны на моментках хранения)
- Быстрая восстание базы данных независимо от размера базы данных (восстановление получено из моментальных снимков хранилища)
- Более высокая пропускная информация журнала независимо от размера базы данных и количества vCores
- Прочитайте масштабирование, используя одну или несколько ремиссий только для чтения, используемых для чтения разгрузки и в качестве горячих резервных копий.
- Быстрое постоянное увеличение масштаба вычислительных ресурсов позволяет увеличить мощность для обработки высокой рабочей нагрузки и мгновенное уменьшение масштаба. Это похоже на масштабирование вверх и вниз между P6 и P11, например, но гораздо быстрее, так как это не размер операции данных.

### <a name="what-regions-currently-support-hyperscale"></a>Какие регионы сейчас поддерживают уровень "Гипермасштабирование"

В настоящее время уровень услуг Hyperscale доступен в регионах, перечисленных в обзоре [данных hyperscale По базе данных Azure S'L.](sql-database-service-tier-hyperscale.md#regions)

### <a name="can-i-create-multiple-hyperscale-databases-per-logical-server"></a>Можно ли создать несколько баз данных уровня "Гипермасштабирование" для каждого логического сервера

Да. Сведения об ограничениях числа баз данных уровня "Гипермасштабирование" на логическом сервере см. в статье [SQL Database resource limits for single and pooled databases on a logical server](sql-database-resource-limits-logical-server.md) (Ограничения ресурсов Базы данных SQL для отдельных баз данных и баз данных в пуле на логическом сервере).

### <a name="what-are-the-performance-characteristics-of-a-hyperscale-database"></a>Каковы характеристики производительности базы данных Hyperscale

Архитектура Hyperscale обеспечивает высокую производительность и пропускную способность при поддержке больших размеров баз данных. 

### <a name="what-is-the-scalability-of-a-hyperscale-database"></a>Какова масштабируемость баз данных уровня "Гипермасштабирование"

Hyperscale обеспечивает быструю масштабируемость в зависимости от вашего спроса на рабочую нагрузку.

- **Увеличение и уменьшение масштаба**

  С Hyperscale можно масштабировать размер первичного вычисления с точки зрения таких ресурсов, как процессор и память, а затем уменьшить масштаб в постоянное время. Так как хранилище является общим, увеличение и уменьшение масштаба — это не размер операции с данными.  
- **Свертывание и развертывание**

  С Hyperscale вы также получаете возможность предоставить одну или несколько дополнительных вычислительных реплик, которые можно использовать для обслуживания прочитанных запросов. Это означает, что вы можете использовать эти дополнительные вычислительные реплики в качестве только для чтения реплики для разгрузки считываемых рабочих нагрузок от первичного вычисления. В дополнение к только для чтения, эти реплики также служат в качестве горячего ожидания в случае неудачи от первичного.

  Подготовка каждой из этих дополнительных вычислительных реплик может быть выполнена в постоянное время и является онлайн-операцией. Вы можете подключиться к этим дополнительным вычислениям `ApplicationIntent` только для чтения, установив аргумент на строке соединения. `ReadOnly` Любые связи `ReadOnly` с намерением приложения автоматически направляются на одну из дополнительных вычисляемых реплик только для чтения.

## <a name="deep-dive-questions"></a>Глубокое погружение Вопросы

### <a name="can-i-mix-hyperscale-and-single-databases-in-a-single-logical-server"></a>Могу ли я смешивать Гипермасштабы и единичные базы данных в одном логическом сервере

Да, можно.

### <a name="does-hyperscale-require-my-application-programming-model-to-change"></a>Требуется ли для уровня "Гипермасштабирование" менять модель программирования приложения

Нет, модель программирования приложения остается как есть. Вы используете строку соединения, как обычно, и другие регулярные способы взаимодействия с вашей базой данных Hyperscale.

### <a name="what-transaction-isolation-level-is-the-default-in-a-hyperscale-database"></a>Какой уровень изоляции транзакций является по умолчанию в базе данных Hyperscale

На первичной реплике уровень изоляции транзакции по умолчанию составляет RCSI (Read Committed Snapshot Isolation). На вторичных репликах Чтения Шкала из-под обследуется уровень изоляции по умолчанию.

### <a name="can-i-bring-my-on-premises-or-iaas-sql-server-license-to-hyperscale"></a>Могу ли я принести в Hyperscale лицензию на внутренние помещения или лицензию IaaS S'L Server

Да, [Преимущество гибридного использования Azure](https://azure.microsoft.com/pricing/hybrid-benefit/) доступно на уровне "Гипермасштабирование". Каждое ядро SQL Server Standard можно сопоставить с 1 виртуальным ядром уровня "Гипермасштабирование". Каждое ядро SQL Server Enterprise можно сопоставить с 4 виртуальными ядрами уровня "Гипермасштабирование". Для вторичных реплик не требуется лицензия SQL. Цена Azure Hybrid Benefit будет автоматически применена к репликам Read Scale-out (вторичной).

### <a name="what-kind-of-workloads-is-hyperscale-designed-for"></a>Какие рабочие нагрузки предназначены для Hyperscale

Hyperscale поддерживает все рабочие нагрузки сервера S'L, но в первую очередь оптимизирован для OLTP. Вы можете принести гибридные (HTAP) и аналитические (данные Mart) рабочие нагрузки, а также.

### <a name="how-can-i-choose-between-azure-sql-data-warehouse-and-azure-sql-database-hyperscale"></a>Как выбрать между хранилищем данных Azure S'L и гипермасштабом базы данных Azure S'L

Если в настоящее время вы используете интерактивные аналитические запросы, использующие S'L Server в качестве хранилища данных, Hyperscale является отличным вариантом, потому что вы можете размещать небольшие и средние хранилища данных (например, несколько ТБ до 100 ТБ) по более низкой цене, и вы можете мигрировать данные s'L Server складские нагрузки на Hyperscale с минимальными изменениями кода T-S'L.

Если вы используете аналитику данных в больших масштабах со сложными запросами и устойчивыми показателями приема более 100 МБ/с, или используете параллельный хранилище данных (PDW), Teradata или другие массивно параллельные хранилища обработки данных (MPP), хранилище данных S'L может быть лучшим выбором.
  
## <a name="hyperscale-compute-questions"></a>Гипермасштабные вычислительные вопросы

### <a name="can-i-pause-my-compute-at-any-time"></a>Можно ли приостановить вычисления в любое время

Не в это время, однако вы можете масштабировать ваши вычисления и количество реплик вниз, чтобы уменьшить стоимость в непиковое время.

### <a name="can-i-provision-a-compute-replica-with-extra-ram-for-my-memory-intensive-workload"></a>Могу ли я предоставить компьютерную реплику с дополнительной оперативной памятью для моей рабочей нагрузки с интенсивной памятью

Нет. Для увеличения объема ОЗУ необходимо использовать более высокий уровень объема вычислительных ресурсов. Дополнительные сведения см. в разделе [Уровень служб "Гипермасштабирование" (предварительная версия)](sql-database-vcore-resource-limits-single-databases.md#hyperscale---provisioned-compute---gen5).

### <a name="can-i-provision-multiple-compute-replicas-of-different-sizes"></a>Могу ли я предоставить несколько вычислительных реплик разных размеров

Нет.

### <a name="how-many-read-scale-out-replicas-are-supported"></a>Сколько реплик Чтения Масштабирования поддерживается

Базы данных Hyperscale создаются с одной репликой Чтения масштаба (две реплики, включая первичные) по умолчанию. С помощью [портала Azure](https://portal.azure.com) или [REST API](https://docs.microsoft.com/rest/api/sql/databases/createorupdate)можно масштабировать количество реплик только для чтения между 0 и 4.

### <a name="for-high-availability-do-i-need-to-provision-additional-compute-replicas"></a>Для обеспечения высокой доступности, нужно ли предоставлять дополнительные вычислительные реплики

В базах данных Hyperscale устойчивость данных обеспечивается на уровне хранилища. Вам нужна только одна реплика, чтобы обеспечить устойчивость. Когда реплика вычисления выходит из строя, новая реплика создается автоматически без потери данных.

Однако, если есть только одна реплика, может потребоваться некоторое время для создания локального кэша в новой реплике после отработки отказа. На этапе восстановления кэша база данных получает данные непосредственно с серверов страниц, что приводит к более высокой задержке хранилища и ухудшив производительность запроса.

Для критически важных приложений, требующих высокой доступности с минимальным воздействием на отказ, необходимо предоставить по крайней мере 2 вычислительные реплики, включая первичные реплики вычислений. Это конфигурация по умолчанию. Таким образом, есть горячая копия, доступная, которая служит в качестве цели failover.

## <a name="data-size-and-storage-questions"></a>Вопросы размера данных и хранения данных

### <a name="what-is-the-maximum-database-size-supported-with-hyperscale"></a>Каков максимальный размер базы данных, поддерживаемый Hyperscale

100 ТБ.

### <a name="what-is-the-size-of-the-transaction-log-with-hyperscale"></a>Каков размер журнала транзакций на уровне "Гипермасштабирование"

На уровне "Гипермасштабирование" журнал транзакций практически бесконечен. Вам не нужно беспокоиться об исчерпании пространства журнала в системе с высокой пропускной способностью журнала. Тем не менее, скорость генерации журналов может быть задушена для непрерывной агрессивной нагрузок. Пик устойчивого уровня генерации бревен составляет 100 МБ/с.

### <a name="does-my-tempdb-scale-as-my-database-grows"></a>Увеличивается `tempdb` ли масштаб моей базы данных

Ваша `tempdb` база данных расположена на локальном хранении SSD и размерпропорционально размеру вычисления, который вы предоставляете. Ваш `tempdb` оптимизирован, чтобы обеспечить максимальные преимущества производительности. `tempdb`размер не настраивается и управляется для вас.

### <a name="does-my-database-size-automatically-grow-or-do-i-have-to-manage-the-size-of-data-files"></a>Автоматически ли размер базы данных растет или мне нужно управлять размером файлов данных

Размер вашей базы данных автоматически увеличивается, когда вы вставляете или принимаете дополнительные данные.

### <a name="what-is-the-smallest-database-size-that-hyperscale-supports-or-starts-with"></a>Каков наименьший размер базы данных, который поддерживает hyperscale или начинает с

40 ГБ. Создается база данных Hyperscale со стартовым размером 10 ГБ. Затем он начинает расти на 10 ГБ каждые 10 минут, пока не достигнет размера 40 ГБ. Каждый из этих 10 гб патронов выделяется на другом сервере страницы, чтобы обеспечить больше IOPS и более высокий входной/ O параллелизм. Из-за этой оптимизации, даже если вы выберете первоначальный размер базы данных меньше 40 ГБ, база данных будет расти по крайней мере до 40 ГБ автоматически.

### <a name="in-what-increments-does-my-database-size-grow"></a>На сколько увеличивается размер базы данных за раз

Каждый файл данных увеличивается на 10 ГБ. Несколько файлов данных могут расти одновременно.

### <a name="is-the-storage-in-hyperscale-local-or-remote"></a>Является ли хранение в Hyperscale локальной или удаленной

На уровне "Гипермасштабирование" файлы данных хранятся в стандартном хранилище Azure. Данные полностью кэшируются на локальном хранении SSD, на серверах страниц, которые близки к вычислительным репликам. Кроме того, вычислительные реплики имеют кэши данных на локальном SSD и в памяти, чтобы уменьшить частоту извлечения данных с удаленных серверов страниц.

### <a name="can-i-manage-or-define-files-or-filegroups-with-hyperscale"></a>Можно ли управлять файлами или файловыми группами или определять их на уровне "Гипермасштабирование"

Нет. Файлы данных добавляются автоматически. Общие причины создания дополнительных групп файлов не применяются в архитектуре хранения Hyperscale.

### <a name="can-i-provision-a-hard-cap-on-the-data-growth-for-my-database"></a>Можно ли задать жестко фиксированное увеличение объема данных в базе данных

Нет.

### <a name="how-are-data-files-laid-out-with-hyperscale"></a>Как файлы данных, выложенные с помощью Hyperscale

Файлы данных управляются серверами страниц, с одной страницей сервера на файл данных. По мере роста размера данных добавляются файлы данных и связанные с ними серверы страниц.

### <a name="is-database-shrink-supported"></a>Поддерживается ли уменьшение базы данных

Нет.

### <a name="is-data-compression-supported"></a>Поддерживается ли сжатие данных

Да, включая сжатие строки, страницы и столбцового магазина.

### <a name="if-i-have-a-huge-table-does-my-table-data-get-spread-out-across-multiple-data-files"></a>Распространяются ли данные в огромной таблице по нескольким файлам данных

Да. Страницы данных, связанные с заданной таблицей, могут оказаться в нескольких файлах данных, которые входят в одну файловую группу. Для распространения данных по файлам данных используется [стратегия пропорционального заполнения.](https://docs.microsoft.com/sql/relational-databases/databases/database-files-and-filegroups#file-and-filegroup-fill-strategy)

## <a name="data-migration-questions"></a>Вопросы миграции данных

### <a name="can-i-move-my-existing-azure-sql-databases-to-the-hyperscale-service-tier"></a>Можно ли переместить имеющиеся базы данных Azure SQL на уровень служб "Гипермасштабирование"

Да. Имеющиеся базы данных Azure SQL можно переместить на уровень "Гипермасштабирование". Это одностороннее переселение. Невозможно переместить базы данных с уровня служб "Гипермасштабирование" на другой уровень служб. Для подтверждения концепции (POCs) мы рекомендуем вам сделать копию базы данных и перенести копию в Hyperscale.
  
### <a name="can-i-move-my-hyperscale-databases-to-other-service-tiers"></a>Могу ли я переместить базы данных Hyperscale на другие уровни обслуживания

Нет. В настоящее время вы не можете переместить базу данных Hyperscale на другой уровень обслуживания.

### <a name="do-i-lose-any-functionality-or-capabilities-after-migration-to-the-hyperscale-service-tier"></a>Будут ли утеряны функции или возможности после миграции на уровень служб "Гипермасштабирование"

Да. Некоторые функции базы данных Azure S'L пока не поддерживаются в Hyperscale, включая, но не ограничиваемый долгосрочным сохранением резервного копирования. После переноса баз данных на уровень "Гипермасштабирование" эти функции перестают работать.  Мы ожидаем, что эти ограничения будут временными.

### <a name="can-i-move-my-on-premises-sql-server-database-or-my-sql-server-database-in-a-cloud-virtual-machine-to-hyperscale"></a>Могу ли я переместить свою базу данных на сервере в помещении, или базу данных s'L Server в облачной виртуальной машине, в Hyperscale

Да. Можно использовать все существующие технологии миграции для перехода в Hyperscale, включая транзакционную репликацию, и любые другие технологии перемещения данных (Bulk Copy, Azure Data Factory, Azure Databricks, SSIS). Смотрите также [миграционную службу базы данных Azure,](../dms/dms-overview.md)которая поддерживает многие сценарии миграции.

### <a name="what-is-my-downtime-during-migration-from-an-on-premises-or-virtual-machine-environment-to-hyperscale-and-how-can-i-minimize-it"></a>Каково мое время простоя во время миграции из среды на хитровую или виртуальную машину в Hyperscale, и как свести его к минимуму

Время простоя для перехода в Hyperscale такое же, как и время простоя при переносе баз данных на другие уровни службы баз данных Azure S'L. Вы можете использовать [репликацию транзакций](replication-to-sql-database.md#data-migration-scenario
), чтобы минимизировать время простоя при миграции баз данных размером до нескольких TБ. Для очень больших баз данных (10 ТБ) можно использовать возможность переноса данных с помощью ADF, Spark или других технологий передачи данных.

### <a name="how-much-time-would-it-take-to-bring-in-x-amount-of-data-to-hyperscale"></a>Сколько времени потребуется, чтобы принести в X объем данных в Hyperscale

Hyperscale способен потреблять 100 МБ/с новых/измененных данных, но время, необходимое для перемещения данных в базы данных Azure S'L, также зависит от доступной пропускной способности сети, скорости чтения источников и цели целевого уровня обслуживания базы данных.

### <a name="can-i-read-data-from-blob-storage-and-do-fast-load-like-polybase-in-sql-data-warehouse"></a>Могу ли я читать данные из хранилища капли и делать быструю нагрузку (например, Polybase в хранилище данных S'L)

Вы можете иметь данные клиентского приложения считывать данные из Azure Storage и загружать загрузку данных в базу данных Hyperscale (так же, как вы можете с любой другой базой данных Azure S'L). В настоящее время Polybase не поддерживается в базе данных Azure S'L. В качестве альтернативы для обеспечения быстрой загрузки можно использовать [фабрику данных Azure](https://docs.microsoft.com/azure/data-factory/)или задания Spark в [Azure Databricks](https://docs.microsoft.com/azure/azure-databricks/) с [разъемом Spark для S'L.](sql-database-spark-connector.md) Соединитель Spark для SQL поддерживает массовую вставку.

Кроме того, можно навалом считывать данные из магазина Azure Blob с помощью BULK INSERT или OPENROWSET: [Примеры массового доступа к данным в azure Blob Storage.](https://docs.microsoft.com/sql/relational-databases/import-export/examples-of-bulk-access-to-data-in-azure-blob-storage?view=sql-server-2017#accessing-data-in-a-csv-file-referencing-an-azure-blob-storage-location)

На уровне "Гипермасштабирование" не поддерживается простая модель восстановления или массового ведения журнала. Полная модель восстановления необходима для обеспечения высокой доступности и своевременного восстановления. Тем не менее, архитектура журналов Hyperscale обеспечивает более высокую скорость улавливания данных по сравнению с другими уровнями службы данных Azure S'L.

### <a name="does-hyperscale-allow-provisioning-multiple-nodes-for-parallel-ingesting-of-large-amounts-of-data"></a>Позволяет ли Hyperscale подготовить несколько узлов для параллельного проема больших объемов данных

Нет. Hyperscale — это симметричная архитектура мультиобработки (SMP) и не является массово параллельной обработкой (MPP) или архитектурой нескольких мастеров. Вы можете создать всего несколько реплик для развертывания рабочих нагрузок только для чтения.

### <a name="what-is-the-oldest-sql-server-version-supported-for-migration-to-hyperscale"></a>Что представляет собой старейшую версию s'L Server, поддерживаемую для миграции в Hyperscale

SQL Server 2005. Дополнительные сведения см. в разделе [Перенос в отдельную базу данных или базу данных в пуле](sql-database-single-database-migrate.md#migrate-to-a-single-database-or-a-pooled-database). Дополнительные сведения см. в разделе [Устранение проблем совместимости при миграции базы данных](sql-database-single-database-migrate.md#resolving-database-migration-compatibility-issues).

### <a name="does-hyperscale-support-migration-from-other-data-sources-such-as-amazon-aurora-mysql-postgresql-oracle-db2-and-other-database-platforms"></a>Поддерживает ли Hyperscale миграцию из других источников данных, таких как Amazon Aurora, MyS'L, PostgreS'L, Oracle, DB2 и другие платформы баз данных

Да. [Миграционная служба базы данных Azure](../dms/dms-overview.md) поддерживает множество сценариев миграции.

## <a name="business-continuity-and-disaster-recovery-questions"></a>Вопросы непрерывности бизнеса и ликвидации последствий стихийных бедствий

### <a name="what-slas-are-provided-for-a-hyperscale-database"></a>Какие SL предусмотрены для базы данных Hyperscale

[См. SLA для базы данных Azure S'L](https://azure.microsoft.com/support/legal/sla/sql-database/v1_4/). Дополнительные вторичные вычислительные реплики увеличивают доступность до 99,99% для базы данных с двумя или более вторичными вычислительными репликами.

### <a name="are-the-database-backups-managed-for-me-by-the-azure-sql-database-service"></a>Управляет ли резервными копиями базы данных служба "База данных SQL Azure"

Да.

### <a name="how-often-are-the-database-backups-taken"></a>Как часто создаются резервные копии баз данных

Для баз данных Hyperscale нет традиционных полных, дифференциальных и резервных копий журнала. Вместо этого имеются регулярные моментальные снимки файлов данных. Сгенерированный журнал просто сохраняется как для настроенного периода удержания, что позволяет восстановить в любой момент времени в течение периода удержания.

### <a name="does-hyperscale-support-point-in-time-restore"></a>Восстанавливается ли гипермасштабная поддержка во времени

Да.

### <a name="what-is-the-recovery-point-objective-rporecovery-time-objective-rto-for-database-restore-in-hyperscale"></a>Какова цель точки восстановления (RPO)/Восстановление Времени (RTO) для восстановления базы данных в Hyperscale

RPO составляет 0 мин. Цель RTO составляет менее 10 минут, независимо от размера базы данных. 

### <a name="does-database-backup-affect-compute-performance-on-my-primary-or-secondary-replicas"></a>Влияет ли резервное копирование базы данных на производительность вычислений на моих первичных или вторичных репликах

Нет. Резервное копирование управляется подсистемой хранения и использует моментальные снимки хранилища. Они не влияют на рабочие нагрузки пользователей.

### <a name="can-i-perform-geo-restore-with-a-hyperscale-database"></a>Могу ли я выполнить геовосстановление с помощью базы данных Hyperscale

Да. Геовосстановление полностью поддерживается. В отличие от времени восстановления в точках, геовосстановление требует операции по размеру данных. Файлы данных копируются параллельно, поэтому продолжительность операции зависит в первую очередь от размера самого большого файла в базе данных, а не от общего размера базы данных. Время геовосстановления значительно сократится, если база данных будет восстановлена в регионе Azure, который работает в [паре](https://docs.microsoft.com/azure/best-practices-availability-paired-regions) с областью исходной базы данных.

### <a name="can-i-set-up-geo-replication-with-hyperscale-database"></a>Могу ли я настроить георепликацию с помощью базы данных Hyperscale

На данный момент нет.

### <a name="can-i-take-a-hyperscale-database-backup-and-restore-it-to-my-on-premises-server-or-on-sql-server-in-a-vm"></a>Могу ли я взять резервную базу данных Hyperscale и восстановить ее на моем сервере или на сервере S'L в VM

Нет. Формат хранения данных Hyperscale отличается от любой выпущенной версии сервера S'L, и вы не контролируете резервные копии и не имеете к ним доступа. Чтобы извлечь данные из базы данных Hyperscale, можно извлечь данные с помощью любых технологий передачи данных, наведомых на azure Data Factory, Azure Databricks, SSIS и т.д.

## <a name="cross-feature-questions"></a>Кросс-функция Вопросы

### <a name="do-i-lose-any-functionality-or-capabilities-after-migration-to-the-hyperscale-service-tier"></a>Будут ли утеряны функции или возможности после миграции на уровень служб "Гипермасштабирование"

Да. Некоторые функции базы данных Azure S'L не поддерживаются в Hyperscale, включая, но не ограничиваемый долгосрочным сохранением резервного копирования. После переноса баз данных на уровень "Гипермасштабирование" эти функции перестают работать.

### <a name="will-polybase-work-with-hyperscale"></a>Будет ли Polybase работать с Hyperscale

Нет. Polybase не поддерживается в базе данных Azure S'L.

### <a name="does-hyperscale-have-support-for-r-and-python"></a>Есть ли у Hyperscale поддержка R и Python

На данный момент нет.

### <a name="are-compute-nodes-containerized"></a>Контейнеризированы ли вычислительные узлы

Нет. Процессы Hyperscale работают на узлах [Service Fabric](https://azure.microsoft.com/services/service-fabric/) (VM), а не в контейнерах.

## <a name="performance-questions"></a>Вопросы производительности

### <a name="how-much-write-throughput-can-i-push-in-a-hyperscale-database"></a>Сколько пропускной записи я могу нажать в базе данных Hyperscale

Крышка пропускной платы журнала транзакций установлена до 100 МБ/с для любого размера гипермасштабирования вычислений. Способность достичь этой скорости зависит от нескольких факторов, включая, но не ограничиваясь типом рабочей нагрузки, конфигурацией клиента и наличием достаточной вычислительной мощности на первичной вычислительной реплике для создания журнала с такой скоростью.

### <a name="how-many-iops-do-i-get-on-the-largest-compute"></a>Сколько IOPS я получаю на крупнейших вычислений

Задержка IOPS и IO будет варьироваться в зависимости от шаблонов рабочей нагрузки. Если данные, к которых можно получить доступ, кэшируются на вычислительной реплике, вы увидите аналогичную производительность вису, как и в локальном SSD.

### <a name="does-my-throughput-get-affected-by-backups"></a>Влияет ли резервное копирование на пропускную способность

Нет. Вычисление отделяется от слоя хранилища. Это устраняет влияние резервного копирования на производительность.

### <a name="does-my-throughput-get-affected-as-i-provision-additional-compute-replicas"></a>Ли моя пропускная часть получить пострадавших, как я предоставление дополнительных вычислять реплики

Поскольку хранилище является общим и прямое физическое репликация между первичными и вторичными вычислительными репликами не происходит, пропускная связь на первичной реплике не будет непосредственно затронута добавлением вторичных реплик. Тем не менее, мы можем задушить непрерывную агрессивно написания рабочей нагрузки на первичном, чтобы позволить журналу применяться на вторичных репликах и серверах страниц, чтобы наверстать упущенное, чтобы избежать плохой производительности чтения на вторичных репликах.

### <a name="how-do-i-diagnose-and-troubleshoot-performance-problems-in-a-hyperscale-database"></a>Как диагностировать и устранить проблемы с производительностью в базе данных Hyperscale

Для большинства проблем с производительностью, особенно тех, которые не коренятся в производительности хранилища, применяются общие этапы диагностики и устранения неполадок S'L Server. Для диагностики хранения данных для хранения данных для хранения данных для хранения данных для хранения данных [см.](sql-database-hyperscale-performance-diagnostics.md)

## <a name="scalability-questions"></a>Вопросы масштабируемости

### <a name="how-long-would-it-take-to-scale-up-and-down-a-compute-replica"></a>Сколько времени потребуется для масштабирования и вниз вычислительной реплики

Масштабирование вычислений вверх или вниз должно занять 5-10 минут независимо от размера данных.

### <a name="is-my-database-offline-while-the-scaling-updown-operation-is-in-progress"></a>Переходит ли база данных в автономный режим при увеличении и уменьшении масштаба

Нет. Увеличение и уменьшение масштаба будет выполнятся в сетевом режиме.

### <a name="should-i-expect-connection-drop-when-the-scaling-operations-are-in-progress"></a>Прервется ли соединение при выполнении операции масштабирования

Масштабирование вверх или вниз приводит к тому, что существующие соединения отключаются при сбою в конце операции масштабирования. Добавление вторичных реплик не приводит к падению соединения.

### <a name="is-the-scaling-up-and-down-of-compute-replicas-automatic-or-end-user-triggered-operation"></a>Является ли масштабирование вверх и вниз вычислений реплики автоматической или конечным пользователем срабатывает операция

Масштабированием управляет пользователь. Оно не автоматическое.  

### <a name="does-the-size-of-my-tempdb-database-also-grow-as-the-compute-is-scaled-up"></a>Растет ли размер `tempdb` базы данных по мере расширения вычислений

Да. База `tempdb` данных будет масштабироваться автоматически по мере роста вычислений.  

### <a name="can-i-provision-multiple-primary-compute-replicas-such-as-a-multi-master-system-where-multiple-primary-compute-heads-can-drive-a-higher-level-of-concurrency"></a>Могу ли я предоставить несколько первичных вычислительных реплик, таких как мульти-мастер-система, где несколько первичных вычислительных головок могут управлять более высоким уровнем параллелизма

Нет. Только основная вычисляемые реплики принимает запросы на чтение/запись. Вторичные вычислительные реплики принимают только запросы только для чтения.

## <a name="read-scale-out-questions"></a>Читать вопросы о масштабе

### <a name="how-many-secondary-compute-replicas-can-i-provision"></a>Сколько вторичных вычисляемых реплик я могу предоставить

Мы создаем одну вторичную реплику для баз данных Hyperscale по умолчанию. Если вы хотите настроить количество реплик, это можно сделать с помощью [портала Azure](https://portal.azure.com) или [REST API.](https://docs.microsoft.com/rest/api/sql/databases/createorupdate)

### <a name="how-do-i-connect-to-these-secondary-compute-replicas"></a>Как подключиться к этим вторичным вычислительным репликам

Вы можете подключиться к этим дополнительным вычислениям `ApplicationIntent` только для чтения, установив аргумент на строке соединения. `ReadOnly` Любые соединения, отмеченные, `ReadOnly` автоматически направляются на одну из дополнительных вычисляемых реплик только для чтения.  

### <a name="how-do-i-validate-if-i-have-successfully-connected-to-secondary-compute-replica-using-ssms-or-other-client-tools"></a>Как проверить, если я успешно подключен к вторичной вычислительной реплике с помощью SSMS или других клиентских инструментов?

Вы можете выполнить следующий запрос `SELECT DATABASEPROPERTYEX ('<database_name>', 'Updateability')`T-S'L: .
В результате `READ_ONLY` вы подключены к вторичной реплике `READ_WRITE` только для чтения и подключены к основной реплике. Обратите внимание, что контекст базы данных должен быть установлен `master` на имя базы данных Hyperscale, а не на базу данных.

### <a name="can-i-create-a-dedicated-endpoint-for-a-read-scale-out-replica"></a>Могу ли я создать специальную конечную точку для реплики Чтения Масштабирования

Нет. Подключиться к репликам Read Scale-out `ApplicationIntent=ReadOnly`можно только указать.

### <a name="does-the-system-do-intelligent-load-balancing-of-the-read-workload"></a>Выполняет ли система интеллектуальную балансировку рабочей нагрузки чтения

Нет. Новое соединение с намерением только для чтения перенаправляется на произвольную реплику Чтения Scale-out.

### <a name="can-i-scale-updown-the-secondary-compute-replicas-independently-of-the-primary-replica"></a>Могу ли я масштабировать/вниз вторичные вычислительные реплики независимо от первичных реплик

Нет. Вторичные вычислимые реплики также используются в качестве целей сбоя доступности, поэтому они должны иметь ту же конфигурацию, что и основная, чтобы обеспечить ожидаемую производительность после сбоя.

### <a name="do-i-get-different-tempdb-sizing-for-my-primary-compute-and-my-additional-secondary-compute-replicas"></a>Получу ли `tempdb` я различные размеры для моих основных вычислений и дополнительных вторичных вычислительных реплик

Нет. База `tempdb` данных настроена на основе подготовки к размеру вычислений, вторичные вычислительные реплики имеют тот же размер, что и первичные вычисления.

### <a name="can-i-add-indexes-and-views-on-my-secondary-compute-replicas"></a>Могу ли я добавить индексы и представления на моивторичные вычислительные реплики

Нет. Базы данных Hyperscale имеют общий объем хранилища, что означает, что все вычислительные реплики видят одни и те же таблицы, индексы и представления. Если требуется дополнительные индексы, оптимизированные для считывательных, необходимо добавить их на основной.

### <a name="how-much-delay-is-there-going-to-be-between-the-primary-and-secondary-compute-replicas"></a>Сколько задержки будет между первичными и вторичными вычисляетреплики

Задержка данных с момента совершения транзакции на первичном до времени, когда она видна на вторичном, зависит от текущего коэффициента генерации журнала. Типичная задержка данных находится в низких миллисекундах.

## <a name="next-steps"></a>Next Steps

Для получения дополнительной информации о уровне обслуживания Hyperscale [см.](sql-database-service-tier-hyperscale.md)
