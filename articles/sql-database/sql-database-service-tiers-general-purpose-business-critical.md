---
title: Уровни служб "Общее назначение" и "Критически важный для бизнеса" в Базе данных Azure SQL | Документация Майкрософт
description: В статье рассматриваются общего назначения и бизнес-уровнями важная служба, в модели приобретения на основе виртуальных ядер.
services: sql-database
ms.service: sql-database
ms.subservice: service
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: stevestein
ms.author: sstein
ms.reviewer: sashan, moslake, carlrab
manager: craigg
ms.date: 02/23/2019
ms.openlocfilehash: e5426bb7c8eba9d58dbf0472360c6ce0b19c9bc4
ms.sourcegitcommit: 087ee51483b7180f9e897431e83f37b08ec890ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/31/2019
ms.locfileid: "66431344"
---
# <a name="azure-sql-database-service-tiers"></a>Уровни служб в Базе данных SQL Azure

База данных SQL Azure основана на архитектуре ядра базы данных SQL Server, которая настраивается для облачной среды обеспечить доступность 99,99%, даже если сбой инфраструктуры. Три уровня служб используются в базе данных SQL Azure, каждый из которых разные модели архитектуры. Ниже указаны эти уровни служб.

- [Общего назначения](sql-database-service-tier-general-purpose.md), разработанный для рабочих нагрузок более универсальными.
- [Критически важный для бизнеса](sql-database-service-tier-business-critical.md), разработанный для рабочих нагрузок низкой задержкой, с одной репликой для чтения.
- [Гипермасштабируемый](sql-database-service-tier-hyperscale.md), разработанный для очень больших баз данных (до 100 ТБ) с несколькими репликами для чтения.

В этой статье рассматриваются вопросы хранения и резервного копирования общего назначения и бизнес-уровнями важная служба, в модели приобретения на основе виртуальных ядер.

> [!NOTE]
> Сведения об уровне службы "гипермасштабируемость" в модели приобретения на основе виртуальных ядер см. в разделе [уровня службы гипермасштабируемого](sql-database-service-tier-hyperscale.md). Сравнение моделей приобретения на основе виртуальных ядер и единиц DTU см. в статье [Ресурсы и модели приобретения для базы данных SQL Azure](sql-database-purchase-models.md).

## <a name="data-and-log-storage"></a>Хранилище данных и журналов

Следующие факторы влияют на объем хранилища, используемый для файлов данных и журнала:

- Выделенная память используется файлы данных (MDF) и файлы журнала (LDF).
- Каждой отдельной базы данных вычисления размера поддерживает максимальный размер базы данных, с максимальным размером 32 ГБ по умолчанию.
- При настройке требуется отдельной базы данных (размер MDF-файла), для поддержки файлов LDF автоматически добавляется 30% дополнительного хранилища.
- Размер хранилища для базы данных SQL управляемого экземпляра необходимо указать кратно 32 ГБ.
- Вы можете выбрать любой размер отдельной базы данных от 10 ГБ до максимально допустимого значения.
  - Для хранения данных на уровнях служб standard или общие цели увеличить или уменьшить размер с шагом в 10 ГБ.
  - Для хранилища уровня "премиум" или бизнес-уровнями важная служба, увеличение или уменьшение размера с шагом в 250 ГБ.
- В уровень служб общего назначения `tempdb` использует подключенный диск SSD, а затраты на хранилище включен в стоимость виртуального ядра.
- Важная служба бизнес-уровня `tempdb` предоставил файлы MDF и LDF, подключенный диск SSD и `tempdb` стоимость хранилища включена в стоимость виртуального ядра.

> [!IMPORTANT]
> Плата за общее хранилище, выделенное для MDF и LDF-файлов.

Чтобы отслеживать текущий общий размер файлов MDF и LDF, используйте [sp_spaceused](https://docs.microsoft.com/sql/relational-databases/system-stored-procedures/sp-spaceused-transact-sql). Чтобы отслеживать текущий размер отдельных файлов MDF и LDF, используйте [sys.database_files](https://docs.microsoft.com/sql/relational-databases/system-catalog-views/sys-database-files-transact-sql).

> [!IMPORTANT]
> Иногда требуется сжать базу данных, чтобы освободить неиспользуемое пространство. Дополнительные сведения см. в статье об [управлении файловым пространством в Базе данных SQL Azure](sql-database-file-space-management.md).

## <a name="backups-and-storage"></a>Резервные копии и хранилище

Хранилище для резервных копий базы данных выделяется для поддержки восстановления на момент времени (PITR) и [долгосрочного хранения (LTR)](sql-database-long-term-retention.md) возможности базы данных SQL. Это хранилище выделяется отдельно для каждой базы данных. За эти возможности выставляются два отдельных счета.

- **PITR**: Резервные копии отдельной базы данных копируются [геоизбыточного хранилища (RA-GRS) доступ на чтение](../storage/common/storage-designing-ha-apps-with-ragrs.md) автоматически. Размер хранилища динамически увеличивается по мере создания новых резервных копий. Хранилище используется еженедельных полных резервных копий, ежедневных разностных резервных копий и резервных копий журналов транзакций, которые копируются каждые 5 минут. Использование хранилища зависит от скорости изменения базы данных и срок хранения резервных копий. Вы можете настроить отдельный период хранения для каждой базы данных длительностью от 7 до 35 дней. Минимальный объем хранилища равен 100 процентов (1 x) размера базы данных предоставляется без дополнительной платы. Для большинства баз данных этого объема достаточно для хранения резервных копий за 7 дней.
- **Долгосрочное хранение**. База данных SQL предлагает возможность так настроить Долгосрочное хранение полных резервных копий до 10 лет. Если вы настроили политики LTR, эти резервные копии хранятся в хранилище RA-GRS, автоматически, но вы можете управлять, как часто резервные копии копируются. В соответствии с требованиями различных соответствия требованиям, можно выбрать разные периоды хранения для резервных копий еженедельно, ежемесячно или ежегодно. Выбранной конфигурации определяет, какой объем хранилища будет использоваться для резервных копий LTR. Чтобы определить стоимость Долгосрочного хранения, можно использовать калькулятор цен LTR. Дополнительные сведения см. в разделе [долгосрочного хранения базы данных SQL](sql-database-long-term-retention.md).

## <a name="next-steps"></a>Дальнейшие действия

- Сведения о конкретной вычисления размеров и размеров хранилища для отдельной базы данных общего назначения и бизнес-уровнями важная служба, см. в разделе [ограничения ресурсов на основе виртуального ядра базы данных SQL для отдельных баз данных](sql-database-vcore-resource-limits-single-databases.md).
- Сведения о конкретной вычисления размеров и размеров хранилища для эластичных пулов в общего назначения и бизнес-уровнями важная служба, см. в разделе [ограничения ресурсов на основе виртуального ядра базы данных SQL для эластичных пулов](sql-database-vcore-resource-limits-elastic-pools.md).
