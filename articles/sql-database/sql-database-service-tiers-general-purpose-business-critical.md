---
title: Общее назначение и критические для бизнеса
description: В статье рассматриваются общие цели и бизнес-критические уровни обслуживания в модели покупки на основе vCore.
services: sql-database
ms.service: sql-database
ms.subservice: service
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: stevestein
ms.author: sstein
ms.reviewer: sashan, moslake, carlrab
ms.date: 01/30/2020
ms.openlocfilehash: 09cc9e1475616700aa77cdf92fd7ca808cd4290c
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "76937838"
---
# <a name="azure-sql-database-service-tiers"></a>Уровни служб в Базе данных SQL Azure

База данных Azure S'L основана на архитектуре движка базы данных S'L Server, которая скорректирована для облачной среды, чтобы обеспечить доступность 99,99 процента, даже если есть сбой инфраструктуры. В базе данных Azure S'L используются три уровня обслуживания, каждый из которых имеет другую архитектурную модель. Ниже указаны эти уровни служб.

- [Общее назначение,](sql-database-service-tier-general-purpose.md)которое предназначено для бюджетных рабочих нагрузок.
- [Hyperscale](sql-database-service-tier-hyperscale.md), который предназначен для большинства бизнес-рабочих нагрузок, обеспечивая высокомасштабируемое хранение, масштабирование чтения и быстрые возможности восстановления базы данных.
- [Бизнес-критический,](sql-database-service-tier-business-critical.md)который предназначен для низкой задержки рабочих нагрузок с высокой устойчивостью к сбоям и быстрым сбоям.

В этой статье рассматриваются различия в уровне обслуживания, хранении и резервном копировании для общего назначения и критически важных для бизнеса уровнях обслуживания в модели закупок на основе vCore.

## <a name="service-tier-comparison"></a>Сравнение уровня обслуживания

В следующей таблице описаны ключевые различия между уровнями обслуживания для последнего поколения (Gen5). Обратите внимание, что характеристики уровня обслуживания могут отличаться в Единой базе данных и управляемом экземпляре.

| | Тип ресурса | Общее назначение |  Уровень "Гипермасштабирование" | Критически важный для бизнеса |
|:---:|:---:|:---:|:---:|:---:|
| **Оптимально для** | |  Предлагает бюджетные сбалансированные варианты вычислительных ресурсов и ресурсов хранилища. | Большинства рабочих нагрузок. Автоматическое масштабирование хранилища до 100 ТБ, плавное вертикальное и горизонтальное вычисление, быстрое восстановление базы данных. | Приложения OLTP с высокой частотой транзакций и низкой задержкой в итог. Обеспечивает наивысшую устойчивость к сбоям и быстрым неудачам с использованием нескольких синхронно обновленных реплик.|
|  **Доступно в типе ресурса:** ||Отдельная база данных / эластичный пул / управляемый экземпляр | Отдельная база данных | Отдельная база данных / эластичный пул / управляемый экземпляр |
| **Объем вычислительных ресурсов**|Отдельная база данных / эластичный пул | От 1 до 80 виртуальных ядер | От 1 до 80 vCores | От 1 до 80 виртуальных ядер |
| | управляемый экземпляр | 4, 8, 16, 24, 32, 40, 64, 80 vCores | Недоступно | 4, 8, 16, 24, 32, 40, 64, 80 vCores |
| | Управляемые пулы экземпляров | 2, 4, 8, 16, 24, 32, 40, 64, 80 vCores | Недоступно | Недоступно |
| **Тип хранилища** | All | Удаленное хранилище класса Premium (для каждого экземпляра) | Не связанное хранилище с локальным кэшем SSD (для каждого экземпляра) | Сверхбыстрое локальное хранилище SSD (для каждого экземпляра) |
| **Размер базы данных** | Отдельная база данных / эластичный пул | От 5 ГБ до 4 ТБ | До 100 ТБ | От 5 ГБ до 4 ТБ |
| | управляемый экземпляр  | От 32 ГБ до 8 ТБ | Недоступно | От 32 ГБ до 4 ТБ |
| **Размер хранилища** | Отдельная база данных / эластичный пул | От 5 ГБ до 4 ТБ | До 100 ТБ | От 5 ГБ до 4 ТБ |
| | управляемый экземпляр  | От 32 ГБ до 8 ТБ | Недоступно | От 32 ГБ до 4 ТБ |
| **Размер TempDB** | Отдельная база данных / эластичный пул | [32 ГБ за vCore](sql-database-vcore-resource-limits-single-databases.md#general-purpose---provisioned-compute---gen4) | [32 ГБ за vCore](sql-database-vcore-resource-limits-single-databases.md#hyperscale---provisioned-compute---gen5) | [32 ГБ за vCore](sql-database-vcore-resource-limits-single-databases.md#business-critical---provisioned-compute---gen4) |
| | управляемый экземпляр  | [24 ГБ за vCore](sql-database-managed-instance-resource-limits.md#service-tier-characteristics) | Недоступно | До 4 ТБ - [ограничено размером хранилища](sql-database-managed-instance-resource-limits.md#service-tier-characteristics) |
| **Пропускная запись записи журнала** | Отдельная база данных | [1,875 МБ/с за vCore (максимум 30 МБ/с)](sql-database-vcore-resource-limits-single-databases.md#general-purpose---provisioned-compute---gen4) | 100 МБ/с | [6 МБ/с за vCore (максимум 96 МБ/с)](sql-database-vcore-resource-limits-single-databases.md#business-critical---provisioned-compute---gen4) |
| | управляемый экземпляр | [3 МБ/с за vCore (максимум 22 МБ/с)](sql-database-managed-instance-resource-limits.md#service-tier-characteristics) | Недоступно | [4 МБ/с на vcore (максимум 48 МБ/с)](sql-database-managed-instance-resource-limits.md#service-tier-characteristics) |
|**Доступность**|All| 99,99 % |  [99.95% с одной вторичной репликой, 99.99% с больше репликами](sql-database-service-tier-hyperscale-faq.md#what-slas-are-provided-for-a-hyperscale-database) | 99,99 % <br/> [99.995% с зоной избыточной единой базы данных](https://azure.microsoft.com/blog/understanding-and-leveraging-azure-sql-database-sla/) |
|**Резервные копии**|All|Геоизбыточное хранилище с доступом на чтение, 7–35 дней (7 дней по умолчанию)| RA-GRS, 7 дней, постоянное время восстановления (PITR) | Геоизбыточное хранилище с доступом на чтение, 7–35 дней (7 дней по умолчанию) |
|**В памяти OLTP** | | Недоступно | Недоступно | Доступно |
|**Только для чтения реплики**| | 0 встроенный <br> 0 - 4 с помощью [георепликации](sql-database-active-geo-replication.md) | 0 - 4 встроенные | 1 встроенный, включенный в цену <br> 0 - 4 с помощью [георепликации](sql-database-active-geo-replication.md) |
|**Ценообразование/биллинг** | Отдельная база данных | [vCore, зарезервированное хранилище и резервное хранилище](https://azure.microsoft.com/pricing/details/sql-database/single/) взимаются. <br/>IOPS не взимается. | [vCore для каждой реплики и использованного хранилища](https://azure.microsoft.com/pricing/details/sql-database/single/) взимается. <br/>IOPS еще не взимается. | [vCore, зарезервированное хранилище и резервное хранилище](https://azure.microsoft.com/pricing/details/sql-database/single/) взимаются. <br/>IOPS не взимается. |
|| Базы данных SQL | [vCore, зарезервированное хранилище и резервное хранилище](https://azure.microsoft.com/pricing/details/sql-database/managed/) заряжаются. <br/>IOPS не взимается| Недоступно | [vCore, зарезервированное хранилище и резервное хранилище](https://azure.microsoft.com/pricing/details/sql-database/managed/) заряжаются. <br/>IOPS не взимается.| 
|**Дисконтные модели**| | [Зарезервированные экземпляры](sql-database-reserved-capacity.md)<br/>[Azure Hybrid Benefit](sql-database-azure-hybrid-benefit.md) (недоступна по подпискам на dev/test)<br/>[Подписка на предприятие](https://azure.microsoft.com/offers/ms-azr-0148p/) и [Pay-As-You-Go](https://azure.microsoft.com/offers/ms-azr-0023p/) Dev/Test| [Azure Hybrid Benefit](sql-database-azure-hybrid-benefit.md) (недоступна по подпискам на dev/test)<br/>[Подписка на предприятие](https://azure.microsoft.com/offers/ms-azr-0148p/) и [Pay-As-You-Go](https://azure.microsoft.com/offers/ms-azr-0023p/) Dev/Test| [Зарезервированные экземпляры](sql-database-reserved-capacity.md)<br/>[Azure Hybrid Benefit](sql-database-azure-hybrid-benefit.md) (недоступна по подпискам на dev/test)<br/>[Подписка на предприятие](https://azure.microsoft.com/offers/ms-azr-0148p/) и [Pay-As-You-Go](https://azure.microsoft.com/offers/ms-azr-0023p/) Dev/Test|

Для получения дополнительной информации смотрите подробные различия между уровнями обслуживания в [Единой базе данных (vCore)](sql-database-vcore-resource-limits-single-databases.md), [Единые пулы баз данных (vCore),](sql-database-dtu-resource-limits-single-databases.md) [Единая база данных (DTU)](sql-database-dtu-resource-limits-single-databases.md), [Единые пулы баз данных (DTU)](sql-database-dtu-resource-limits-single-databases.md)и [страницы управляемых инстанций.](sql-database-managed-instance-resource-limits.md)

> [!NOTE]
> Для получения информации о гипермасштабном уровне обслуживания в [hyperscale service tier](sql-database-service-tier-hyperscale.md)модели покупки на основе vCore см. Сравнение модели приобретения на основе виртуальных ядер и DTU см. в статье [Ресурсы и модели приобретения для Базы данных SQL Azure](sql-database-purchase-models.md).

## <a name="data-and-log-storage"></a>Хранилище данных и журналов

Следующие факторы влияют на объем хранилища, используемого для файлов данных и журналов, и применяются к общему назначению и критическим затратам. Для получения подробной информации о данных и хранении журналов в Hyperscale [см.](sql-database-service-tier-hyperscale.md)

- Выделенное хранилище используется файлами данных (MDF) и файлами журналов (LDF).
- Каждый размер вычислительной базы данных поддерживает максимальный размер базы данных, с максимальным размером по умолчанию 32 ГБ.
- При настройке требуемого размера единой базы данных (размер файла MDF) автоматически добавляется дополнительное хранилище на 30 процентов для поддержки файлов LDF.
- Размер хранилища для управляемого экземпляра базы данных S'L должен быть указан в кратных 32 ГБ.
- Вы можете выбрать любой размер базы данных между 10 ГБ и поддерживаемым максимумом.
  - Для хранения в стандартных или общих уровнях обслуживания, увеличить или уменьшить размер с шагом 10 ГБ.
  - Для хранения в премиум или бизнес-критических уровней обслуживания, увеличить или уменьшить размер в 250-ГБ шагом.
- В уровне общего назначения `tempdb` сервис использует прилагаемый SSD, и эта стоимость хранения включена в цену vCore.
- В бизнес-уровне, `tempdb` критическом уровне обслуживания, разделяет прилагаемый SSD `tempdb` с файлами MDF и LDF, а стоимость хранения включена в цену vCore.

> [!IMPORTANT]
> С вас взимается плата за общее хранилище, выделенное для файлов MDF и LDF.

Для мониторинга текущего общего размера файлов MDF и LDF используйте [sp_spaceused.](https://docs.microsoft.com/sql/relational-databases/system-stored-procedures/sp-spaceused-transact-sql) Чтобы отслеживать текущий размер отдельных файлов MDF и LDF, используйте [sys.database_files](https://docs.microsoft.com/sql/relational-databases/system-catalog-views/sys-database-files-transact-sql).

> [!IMPORTANT]
> Иногда требуется сжать базу данных, чтобы освободить неиспользуемое пространство. Для получения дополнительной информации смотрите [пространство файла Управления в базе данных Azure S'L.](sql-database-file-space-management.md)

## <a name="backups-and-storage"></a>Резервные копии и хранилище

Хранение для резервного копирования базы данных выделяется для поддержки временных восстановления (PITR) и [возможностей долгосрочного удержания (LTR)](sql-database-long-term-retention.md) базы данных S'L. Это хранилище выделяется отдельно для каждой базы данных. За эти возможности выставляются два отдельных счета.

- **PITR**: Индивидуальные резервные копии базы данных копируются для автоматического [хранения геоизмового доступа (RA-GRS).](../storage/common/storage-designing-ha-apps-with-ragrs.md) Размер хранилища динамически увеличивается по мере создания новых резервных копий. Хранилище используется еженедельными полными резервными копиями, ежедневными резервными копиями дифференциала и резервными копиями журналов транзакций, которые копируются каждые 5 минут. Потребление хранилища зависит от скорости изменения базы данных и периода хранения резервных копий. Вы можете настроить отдельный период хранения для каждой базы данных длительностью от 7 до 35 дней. Минимальная сумма хранения, равная 100 процентам (1x) размера базы данных, предоставляется без дополнительной платы. Для большинства баз данных этого объема достаточно для хранения резервных копий за 7 дней.
- База данных **LTR**: S'L предлагает вам возможность настройки долгосрочного хранения полного резервного копирования на срок до 10 лет. При настройке политики LTR эти резервные копии автоматически хранятся в хранилище RA-GRS, но вы можете контролировать, как часто копируются резервные копии. Чтобы соответствовать различным требованиям соответствия, можно выбрать различные периоды хранения для еженедельного, ежемесячного и/или ежегодного резервного копирования. Вымершая конфигурация определяет, сколько хранилища будет использоваться для резервных копий LTR. Чтобы оценить стоимость хранения LTR, вы можете использовать калькулятор ценообразования LTR. Для получения более подробной информации, [см.](sql-database-long-term-retention.md)

## <a name="next-steps"></a>Дальнейшие действия

- Для получения подробной информации о конкретных размерах вычислений и объемах хранилища, доступных для одной базы данных общего назначения и критически важных [бизнес-уровней](sql-database-vcore-resource-limits-single-databases.md)обслуживания, см.
- Для получения подробной информации о конкретных размерах вычислений и объемах хранения, доступных для эластичных бассейнов общего назначения и критически важных [бизнес-уровней](sql-database-vcore-resource-limits-elastic-pools.md)обслуживания, см.
