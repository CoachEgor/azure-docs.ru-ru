---
title: Расширенная защита от угроз для базы данных SQL Azure | Документация Майкрософт
description: Advanced Threat Protection обнаруживает аномальные операции базы данных, указывающее, потенциальные угрозы безопасности в базе данных SQL Azure.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: monhaber
ms.author: ronmat
ms.reviewer: vanto, carlrab
manager: craigg
ms.date: 03/31/2019
ms.openlocfilehash: 710a94c919f4262c3f572f28d03c79b77e658287
ms.sourcegitcommit: 41ca82b5f95d2e07b0c7f9025b912daf0ab21909
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60614597"
---
# <a name="advanced-threat-protection-for-azure-sql-database"></a>Расширенная защита от угроз для базы данных SQL Azure

Advanced Threat Protection для [базы данных SQL Azure](sql-database-technical-overview.md) и [хранилище данных SQL](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) выявляет аномальные операции, указывающие на нестандартные и потенциально вредоносные попытки получить доступ к или воспользоваться баз данных.

Advanced Threat Protection входит в состав [повышенной безопасности данных](sql-database-advanced-data-security.md) (ADS) предложения, которое представляет собой единую пакет для обеспечения дополнительных возможностей безопасности SQL. Advanced Threat Protection можно просматривать и управлять через центральный портал SQL РЕКЛАМЫ.

> [!NOTE]
> Этот раздел относится к Azure SQL Server, а также к базам данных SQL и хранилища данных SQL, создаваемым на сервере Azure SQL Server. Для простоты база данных SQL используется как для базы данных SQL, так и для хранилища данных SQL.

## <a name="what-is-advanced-threat-protection"></a>Что такое Advanced Threat Protection

 Advanced Threat Protection формирует дополнительный уровень безопасности, позволяющий клиентам обнаруживать и реагирования на потенциальные угрозы по мере их появления благодаря оповещениям безопасности о подозрительной. Пользователи получают оповещения о подозрительных действиях с базами данных, потенциальных уязвимостях, атаках путем внедрения кода SQL и аномальных закономерностей в доступе к базам данных и шаблонам запросов. Advanced Threat Protection интегрируются с оповещениями [центра безопасности](https://azure.microsoft.com/services/security-center/), который включают сведения о подозрительных операциях и рекомендации о том, как исследовать причину и устранить угрозы. Advanced Threat Protection упрощает устранение потенциальных угроз угроз для базы данных без необходимости эксперт по безопасности либо умения системы мониторинга повышенной безопасности.

Чтобы воспользоваться всеми преимуществами исследования, советуем включить [аудит базы данных SQL](sql-database-auditing.md), при котором события базы данных записываются в журнал аудита вашей учетной записи хранения Azure.  

## <a name="advanced-threat-protection-alerts"></a>Оповещения Расширенной защиты от угроз

Advanced Threat Protection для базы данных SQL Azure выявляет аномальные операции, указывающие на нестандартные и потенциально вредоносные попытки получить доступ к или воспользоваться баз данных, и она может активировать следующие оповещения:

- **Уязвимость к атакам путем внедрения кода SQL.** Это предупреждение появляется, если приложение создает в базе данных инструкцию SQL с ошибкой. Оно может указывать на возможную уязвимость к атакам путем внедрения кода SQL. Существует две причины создания инструкции с ошибкой:

  - Дефект в коде приложения, который создает инструкцию SQL с ошибкой.
  - Код приложения или хранимые процедуры не очищают ввод данных пользователя при создании ошибочной инструкции SQL, которая может быть использована для внедрения кода SQL.
- **Потенциальная атака путем внедрения кода SQL.** Это предупреждение появляется при обнаружении активного эксплойта определенной уязвимости приложения к внедрению кода SQL. Это означает, что злоумышленник пытается внедрить вредоносные инструкции SQL с помощью кода уязвимого приложения или хранимых процедур.
- **Доступ из незнакомого расположения.** Это предупреждение появляется при изменении способа доступа к серверу SQL, если пользователь вошел на сервер SQL из необычного географического расположения. Иногда предупреждение определяет допустимые действия (новое приложение, обслуживание разработчиком). В других случаях предупреждение обнаруживает угрозу (бывшего сотрудника, внешнего злоумышленника).
- **Доступ из необычного центра обработки данных Azure.** Это предупреждение появляется при изменении способа доступа к серверу SQL, если кто-то за последнее время выполнял вход на сервер SQL из необычного центра обработки данных Azure. Иногда предупреждение определяет допустимые действия (новое приложение в Azure, Power BI, редактор SQL-запросов Azure). В других случаях предупреждение обнаруживает угрозу от ресурса или службы Azure (бывшего сотрудника, внешнего злоумышленника).
- **Доступ из незнакомого субъекта**. Это предупреждение появляется при изменении способа доступа к серверу SQL, если пользователь вошел на сервер SQL с помощью необычного субъекта (пользователя SQL). Иногда предупреждение определяет допустимые действия (новое приложение, обслуживание разработчиком). В других случаях предупреждение обнаруживает угрозу (бывшего сотрудника, внешнего злоумышленника).
- **Доступ из потенциально опасного приложения**. Это предупреждение появляется, если для доступа к базе данных используется потенциально опасное приложение. В некоторых случаях предупреждения обнаруживают выполнение теста на проникновение. В других случаях — атаку с помощью обычных средств.
- **Подбор учетных данных SQL.** Это предупреждение появляется при большом количестве неудачных попыток входа с разными учетными данными. В некоторых случаях предупреждения обнаруживают выполнение теста на проникновение. В других случаях — атаку методом подбора.

## <a name="explore-anomalous-database-activities-upon-detection-of-a-suspicious-event"></a>Анализ подозрительной активности в базе данных при обнаружении подозрительного события

При обнаружении подозрительной активности в базе данных вы получите уведомление по электронной почте. В этом уведомлении содержится информация о подозрительном событии безопасности, в том числе характер подозрительных операций, имя базы данных, имя сервера, имя приложения, а также время, когда произошло событие. Кроме того, в уведомлении приводится информация о возможных причинах возникновения события, а также рекомендуемые действия по поиску и устранению потенциальной угрозы безопасности базы данных.

![Отчеты об аномальных действиях](./media/sql-database-threat-detection/anomalous_activity_report.png)

1. Щелкните ссылку **View recent SQL alerts** (Просмотр недавних оповещений SQL) в почтовом сообщении, чтобы запустить портал Azure и открыть страницу оповещений центра безопасности Azure. На этой странице содержится обзор активных угроз, обнаруженных в базе данных SQL.

   ![Угрозы, связанные с действиями](./media/sql-database-threat-detection/active_threats.png)

2. Щелкните определенное оповещение, чтобы отобразить дополнительные сведения и действия для изучения этой угрозы и устранения будущих угроз.

   Например, внедрение кода SQL — один из распространенных видов угроз безопасности веб-приложений в Интернете, используемый для получения несанкционированного доступа к приложениям, управляемым данными. Хакеры используют уязвимости приложения, чтобы ввести вредоносные инструкции SQL в поля ввода приложения, чтобы испортить или изменить данные в базе данных. В сведениях оповещений о внедрении кода SQL указывается уязвимая инструкция SQL, которая была использована.

   ![Определенное оповещение](./media/sql-database-threat-detection/specific_alert.png)

## <a name="explore-advanced-threat-protection-alerts-for-your-database-in-the-azure-portal"></a>Просмотр оповещений Advanced Threat Protection для базы данных на портале Azure

Advanced Threat Protection интегрируются с его оповещениями [центр безопасности Azure](https://azure.microsoft.com/services/security-center/). Живые плитки SQL Advanced Threat Protection в базу данных и SQL ADS колонок на портале Azure отслеживать состояние активных угроз.

Нажмите кнопку **предупреждение Advanced Threat Protection** Чтобы запустить центр безопасности Azure оповещения странице и получите обзор активных угроз SQL, обнаруженных на базы данных или хранилища данных.

   ![Дополнительные предупреждения защиты от угроз](./media/sql-database-threat-detection/threat_detection_alert.png)

   ![Advanced Threat Protection alert2](./media/sql-database-threat-detection/threat_detection_alert_atp.png)

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о [Advanced Threat Protection в базах данных одного, так и в составе пула](sql-database-threat-detection.md).
- Дополнительные сведения о [Advanced Threat Protection в управляемый экземпляр](sql-database-managed-instance-threat-detection.md).
- Дополнительные сведения о [повышенной безопасности данных](sql-database-advanced-data-security.md).
- Узнайте больше об аудите Базы данных SQL Azure [здесь](sql-database-auditing.md).
- Дополнительные сведения о [Центре безопасности Azure](https://docs.microsoft.com/azure/security-center/security-center-intro).
- Дополнительные сведения о [ценах на Базу данных SQL](https://azure.microsoft.com/pricing/details/sql-database/).  
