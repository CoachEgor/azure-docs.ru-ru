---
title: Предоплата за использования виртуальных ядер Базы данных SQL Azure для экономии средств | Документация Майкрософт
description: Узнайте, как воспользоваться резервной мощностью Базы данных SQL Azure для сокращения затрат на вычисления.
services: sql-database
ms.service: sql-database
ms.subservice: service
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: anosov1960
ms.author: sashan
ms.reviewer: sstein, carlrab
manager: craigg
ms.date: 04/26/2019
ms.openlocfilehash: 74a52df4eab8a3e471e541889cde74846af00fb8
ms.sourcegitcommit: 44a85a2ed288f484cc3cdf71d9b51bc0be64cc33
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2019
ms.locfileid: "64574179"
---
# <a name="prepay-for-sql-database-compute-resources-with-azure-sql-database-reserved-capacity"></a>Предоплата вычислительных ресурсов Базы данных SQL Azure с получением резервной мощности

Сократите расходы на использование Базы данных SQL Azure, предварительно оплачивая вычислительные ресурсы, по сравнению с оплатой по мере использования. Приобретая резервную мощность Базы данных SQL Azure, вы предварительно оплачиваете использование Базы данных SQL на один или три года и при этом значительно экономите на ресурсах вычисления. Чтобы приобрести резервную мощность Базы данных SQL Azure, необходимо указать регион Azure, тип развертывания, уровень производительности и срок.


Нет необходимости назначать резервирование отдельным экземплярам Базы данных SQL (отдельным базам данных, эластичным пулам или управляемым экземплярам). На соответствующие экземпляры базы данных SQL, которые уже запущены или недавно развернуты, автоматически распространится преимущество. Приобретая резервирование, вы предварительно оплачиваете стоимость вычислений на один или три года. После того как вы купите резервирование, при начислении платы за вычислительные ресурсы Базы данных SQL, соответствующие атрибутам резервирования, не будут применяться ставки оплаты по мере использования. Резервирование не покрывает затраты на программное обеспечение, сети или хранилище, связанные с экземпляром базы данных SQL. При завершении срока резервирования преимущество на оплату отменяется и для Базы данных SQL снова применяется оплата по мере использования. Резервирования не возобновляются автоматически. Сведения о ценах см. на [странице с предложением покупки резервной мощности Базы данных SQL](https://azure.microsoft.com/pricing/details/sql-database/managed/).

Вы можете приобрести резервную мощность Базы данных SQL Azure на [портале Azure](https://portal.azure.com). Чтобы купить резервную мощность Базы данных SQL:

- Необходимо быть участником роли "Владелец" по крайней мере для одной подписки с соглашением Enterprise или подписки с оплатой по мере использования.
- Для подписок с соглашением Enterprise параметр **Добавить зарезервированные экземпляры** следует включить на [портале EA](https://ea.azure.com). В противном случае, если этот параметр отключен, необходимо быть администратором подписки EA.
- В рамках программы для поставщиков облачных решений (CSP) только агенты администрирования или агенты продаж могут приобрести резервную мощность Базы данных SQL.

Сведения о выставлении счетов за приобретение резервирования для корпоративных клиентов и клиентов с оплатой по мере использования см. в статьях [Общие сведения об использовании зарезервированных экземпляров Azure с Соглашением о регистрации Enterprise](../billing/billing-understand-reserved-instance-usage-ea.md) и [Общие сведения об использовании резервирования Azure для подписки с оплатой по мере использования](../billing/billing-understand-reserved-instance-usage.md).

## <a name="determine-the-right-sql-size-before-purchase"></a>Определение нужного размера SQL перед приобретением

Размер резервирования должен основываться на общем объеме вычислительных ресурсов, используемых существующими или будущими отдельными базами данных, эластичными пулами или управляемыми экземплярами в указанном регионе, которые отличаются одинаковым уровнем производительности и поколением оборудования.

Например, предположим, что вы используете эластичный пул общего назначения 5-го поколения на 16 виртуальных ядер и две отдельные базы данных уровня "Критически важный для бизнеса" 5-го поколения на 4 виртуальных ядра. Кроме того, в течение следующего месяца вы планируете развернуть дополнительный эластичный пул общего назначения 5-го поколения на 16 виртуальных ядер и один эластичный пул уровня "Критически важный для бизнеса" 5-го поколения на 32 виртуальных ядра. При этом вы знаете, что эти ресурсы вам будут необходимы по крайней мере 1 год. В этом случае следует приобрести резервирование на 1 год на 32 (2x16) виртуальных ядра для отдельной базы данных или эластичного пула общего назначения (5-го поколения) и резервирование на 1 год на 40 (2x4 + 32) виртуальных ядер для отдельной базы данных или эластичного пула уровня "Критически важный для бизнеса" (5-го поколения).

## <a name="buy-sql-database-reserved-capacity"></a>Покупка резервной мощности Базы данных SQL

1. Войдите на [портале Azure](https://portal.azure.com).
2. Выберите **Все службы** > **Резервирование**.
3. Выберите **Добавить**, а затем в области выбора типа продукта щелкните **База данных SQL** для приобретения нового резервирования Базы данных SQL.
4. Заполните обязательные поля. Существующие или новые отдельные базы данных, эластичные пулы или управляемые экземпляры, соответствующие выбранным атрибутам, подходят для получения скидки на резервную мощность. Фактическое число экземпляров базы данных SQL, получающих скидку, зависит от области и выбранного количества.

   ![Снимок экрана перед отправкой заявки на приобретение резервной мощности Базы данных SQL](./media/sql-database-reserved-vcores/sql-reserved-vcores-purchase.png)

    | Поле      | ОПИСАНИЕ|
    |:------------|:--------------|
    |ИМЯ        |Имя данного резервирования.|
    |Подписка|Подписка, используемая для оплаты резервирования Базы данных SQL Azure с получением резервной мощности. Резервирование Базы данных SQL с получением резервной мощности оплачивается предварительно с помощью метода оплаты, указанного для подписки. Нужно выбрать подписку с Соглашением Enterprise (номер предложения: MS-AZR-0017P или MS-AZR-0148P) или подписку с оплатой по мере использования (номера предложений: MS-AZR-0003P или MS-AZR 0023P). Для подписки с соглашением Enterprise плата вычитается из баланса денежных обязательств или относится к избыточным расходам. Для подписки с оплатой по мере использования плата взимается с помощью метода оплаты (кредитной карты или счета), указанного для подписки.|
    |Область       |Область резервирования виртуальных ядер может охватывать одну или несколько подписок (общая область). Если выбрать: <br/><br/>**Для одной подписки** — скидка на резервирование виртуальных ядер применяется к экземплярам Базы данных SQL в этой подписке. <br/><br/>**Shared subscription** (Для любой подписки) — скидка на резервирование виртуальных ядер применяется к экземплярам Базы данных SQL, работающим в любых подписках в текущем контексте выставления счетов. Для клиентов с соглашением Enterprise общая область действует в рамках регистрации и включает в себя все подписки, заданные при регистрации. Для клиентов с подпиской с оплатой по мере использования общая область включает в себя все подписки с оплатой по мере использования, созданные администратором учетной записи.|
    |Регион      |Регион Azure, охватываемый резервированием Базы данных SQL Azure с получением резервной мощности.|
    |Тип развертывания|Выберите тип ресурса SQL, для которого хотите приобрести резервирование.|
    |Уровень производительности|Уровень служб для экземпляров базы данных SQL.
    |Термин        |Один или три года.|
    |Количество    |Число экземпляров, приобретаемых в рамках резервирования Базы данных SQL с получением резервной мощности. Это количество работающих экземпляров базы данных SQL, которые могут получить скидку. Например, если у вас работают 10 экземпляров базы данных SQL в регионе "Восточная часть США", следует указать количество, равное 10, чтобы получить максимальную выгоду для всех работающих виртуальных машин. |
    |||

5. Просмотрите затраты на резервирование Базы данных SQL с получением резервной мощности в разделе **Затраты**.
6. Щелкните **Приобрести**.
7. Выберите **Просмотреть резервирование**, чтобы просмотреть состояния покупки.

## <a name="cancellations-and-exchanges"></a>Отмена и обмен

Если требуется отменить резервирование резервной мощности Базы данных SQL, возможно, с вас будет высчитана плата за досрочное аннулирование (12 %). Сумма возмещенных средств основывается на наименьшей стоимости, например на стоимости покупки или текущей стоимости резервирования. Максимальная сумма возмещенных средств — 50 000 долл. США в год. Полученные возмещенные средства включают оставшийся пропорциональный баланс за вычетом 12 % за досрочное аннулирование. Если нужно запросить отмену, перейдите к резервированию на портале Azure и выберите **Возместить**, чтобы создать запрос в службу поддержки.

Если в резервной мощности Базы данных SQL нужно изменить регион, тип развертывания, уровень производительности или срок, можете обменять это резервирование на другое с такими же или большими значениями. При обмене дата начала использования для нового резервирования не переносится из текущего резервирования. Срок использования (1 или 3 года) начинается с момента создания резервирования. Если нужно запросить обмен, перейдите в резервирование на портале Azure и выберите **Обмен**, чтобы создать запрос в службу поддержки.

Дополнительные сведения о том, как exchange или возмещение резервирования см. в разделе [обмен резервирования и возмещения](../billing/billing-azure-reservations-self-service-exchange-and-refund.md).

## <a name="vcore-size-flexibility"></a>Гибкость размеров для виртуального ядра

Гибкость размеров виртуального ядра позволяет увеличивать или уменьшать масштаб в пределах уровня производительности и региона, не теряя преимуществ приобретенной резервной мощности. Резервная мощность Базы данных SQL также дает возможность временно размещать горячие базы данных между пулами и отдельные базы данных во время нормальной работы (в том же регионе и на уровне производительности) без потери преимуществ приобретенной резервной мощности. Зарезервировав дополнительный буфер, вы можете эффективно управлять пиками производительности, не превышая свой бюджет.

## <a name="next-steps"></a>Дальнейшие действия

Скидка на резервирование виртуальных ядер автоматически применяется к количеству экземпляров базы данных SQL, которые соответствуют области и атрибутам резервирования Базы данных SQL с получением резервной мощности. Область резервирования Базы данных SQL с получением резервной мощности можно обновить с помощью [портала Azure](https://portal.azure.com), PowerShell, CLI или API.

Сведения о том, как управлять резервированием Базы данных SQL с получением резервной мощности, см. в статье [Управление резервированиями для ресурсов Azure](../billing/billing-manage-reserved-vm-instance.md).

Дополнительные сведения о резервировании в Azure см. по следующим ссылкам:

- [Основные сведения о резервировании в Azure](../billing/billing-save-compute-costs-reservations.md)
- [Управление Azure Reserved VM Instances](../billing/billing-manage-reserved-vm-instance.md)
- [Сведения о скидках на резервирование Azure](../billing/billing-understand-reservation-charges.md)
- [Общие сведения об использовании резервирования Azure для подписки с оплатой по мере использования](../billing/billing-understand-reserved-instance-usage.md)
- [Общие сведения об использовании зарезервированных экземпляров Azure с Соглашением о регистрации Enterprise](../billing/billing-understand-reserved-instance-usage-ea.md)
- [Приобретение зарезервированных экземпляров Azure](https://docs.microsoft.com/partner-center/azure-reservations)

## <a name="need-help-contact-us"></a>Требуется помощь? Свяжитесь с нами

Если у вас есть вопросы или вам нужна помощь, [создайте запрос в службу поддержки](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/newsupportrequest).
