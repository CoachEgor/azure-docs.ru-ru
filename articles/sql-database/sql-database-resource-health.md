---
title: Мониторинг работоспособности базы данных SQL с помощью службы "Работоспособность ресурсов Azure" | Документация Майкрософт
description: Служба "Работоспособность ресурсов Azure" для мониторинга работоспособности Базы данных SQL поможет выполнить диагностику и получить необходимую поддержку, если неполадки Azure влияют на ресурсы SQL.
services: sql-database
ms.service: sql-database
ms.subservice: monitor
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: aamalvea
ms.author: aamalvea
ms.reviewer: jrasnik, carlrab
manager: craigg
ms.date: 02/26/2019
ms.openlocfilehash: 4757236d179e4d6ceb626f58f12cfe48799eed7a
ms.sourcegitcommit: 470041c681719df2d4ee9b81c9be6104befffcea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/12/2019
ms.locfileid: "67854362"
---
# <a name="use-resource-health-to-troubleshoot-connectivity-for-azure-sql-database"></a>Устранение неполадок подключения к базе данных SQL Azure с помощью службы "Работоспособность ресурсов Azure"

## <a name="overview"></a>Обзор

[Работоспособность ресурсов Azure](../service-health/resource-health-overview.md#get-started) для Базы данных SQL поможет выполнить диагностику и получить необходимую поддержку, если неполадки Azure влияют на ресурсы SQL. Она представляет сведения о текущем состоянии работоспособности ресурсов и о состоянии работоспособности ресурсов за прошедший период, а также помогает устранить проблемы. Служба работоспособности ресурсов обеспечивает поддержку, если вам необходима помощь в решении проблемы со службой Azure.

![Обзор](./media/sql-database-resource-health/sql-resource-health-overview.jpg)

## <a name="health-checks"></a>Проверки работоспособности

Служба "Работоспособность ресурсов Azure" определяет работоспособность ресурсов SQL с помощью проверки успешной и неудачной операции входа в ресурс. В настоящее время служба "Работоспособность ресурсов Azure" для ресурса базы данных SQL проверяет только неудачные операции входа из-за системных ошибок и не из-за ошибок пользователя. Состояние службы "Работоспособность ресурсов Azure" обновляется каждые 1-2 минуты.

## <a name="health-states"></a>Состояния работоспособности

### <a name="available"></a>Доступна

Состояние **Доступно** означает, что служба "Работоспособность ресурсов Azure" не обнаружила неудачные операции входа из-за системных ошибок в ресурсе SQL.

![Доступна](./media/sql-database-resource-health/sql-resource-health-available.jpg)

### <a name="degraded"></a>Деградация

Состояние **Деградация** означает, что служба "Работоспособность ресурсов Azure" обнаружила большую часть успешных и некоторые неудачные операции входа. Это скорее всего временные ошибки входа. Чтобы уменьшить влияние проблем с подключением, вызванных временными ошибками входа, реализуйте в коде [логику повторных подключений](./sql-database-connectivity-issues.md#retry-logic-for-transient-errors).

![Деградация](./media/sql-database-resource-health/sql-resource-health-degraded.jpg)

### <a name="unavailable"></a>Рекомендации недоступны

Состояние **Недоступно** означает, что служба "Работоспособность ресурсов Azure" обнаружила согласованные неудачные операции входа в ресурс SQL. Если ресурс остается в этом состоянии в течение длительного времени, обратитесь в службу поддержки.

![Рекомендации недоступны](./media/sql-database-resource-health/sql-resource-health-unavailable.jpg)

### <a name="unknown"></a>Unknown

Состояние работоспособности **Неизвестно** указывает на то, что служба работоспособности ресурсов не получала сведений об этом ресурсе более 10 минут. Несмотря на то что это значение не указывает состояние ресурса определенно, оно является важной точкой данных в процессе устранения неполадок. Если ресурс работает должным образом, через несколько минут его состояние изменится на "Доступно". При возникновении проблем с ресурсом состояние работоспособности "Неизвестно" может означать, что на ресурс влияет какое-то событие на платформе.

![Unknown](./media/sql-database-resource-health/sql-resource-health-unknown.jpg)

## <a name="historical-information"></a>Накопленные сведения

Вы можете просмотреть сведения о работоспособности ресурсов, накопленные за последние 14 дней. Для этого выберите раздел "Журнал работоспособности" в колонке работоспособности ресурсов. В разделе также содержится причина простоя (при его наличии) для тех простоев, о которых сообщает служба "Работоспособность ресурсов Azure". В настоящее время простой для ресурса базы данных SQL отображается в Azure с точностью до двух минут. Фактическое время простоя скорее всего составляет менее одной минуты (среднее время простоя — 8 секунд).

### <a name="downtime-reasons"></a>Причины простоя

Если в Базе данных SQL происходит простой, будет выполняться анализ, чтобы определить его причину. Если это возможно, причина простоя сообщается в разделе журнала работоспособности службы "Работоспособность ресурсов Azure". Причины простоя обычно публикуются через 30 минут после события.

#### <a name="planned-maintenance"></a>Плановое техническое обслуживание

Инфраструктура Azure периодически выполняет плановое обслуживание — обновляет компоненты оборудования или программного обеспечения в центре обработки данных. Во время обслуживания базы данных SQL может завершить некоторые имеющиеся подключения и отклонить новые. Сбои при входе, возникшие во время планового обслуживания, обычно являются временными и [логика повторных подключений](./sql-database-connectivity-issues.md#retry-logic-for-transient-errors) помогает снизить их влияние. Если сбои при входе продолжают возникать, обратитесь в службу поддержки.

#### <a name="reconfiguration"></a>Reconfiguration

Перенастройки считаются временными условиями и возникают время от времени. Эти события могут запускаться при балансировке нагрузки или сбоях оборудования и программного обеспечения. Любое клиентское рабочее приложение, которое подключается к облачной базе данных, должно реализовывать надежную [логику повторных подключений](./sql-database-connectivity-issues.md#retry-logic-for-transient-errors). Это поможет устранить такие ситуации и сделает эти ошибки прозрачными для пользователя.

## <a name="next-steps"></a>Следующие шаги

- Узнайте подробнее о [логике повторных попыток для временных ошибок](./sql-database-connectivity-issues.md#retry-logic-for-transient-errors)
- [Устранение, диагностика и предотвращение ошибок подключения SQL и временных ошибок для базы данных SQL](./sql-database-connectivity-issues.md)
- Узнайте подробнее о [настройке оповещений службы "Работоспособность ресурсов Azure"](../service-health/resource-health-alert-arm-template-guide.md)
- Общие сведения о [службе "Работоспособность ресурсов Azure"](../service-health/resource-health-overview.md)
- [Часто задаваемые вопросы о службе "Работоспособность ресурсов Azure"](../service-health/resource-health-faq.md)
