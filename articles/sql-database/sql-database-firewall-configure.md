---
title: Правила брандмауэра для IP-адресов служб "База данных SQL Azure" и "Хранилище данных SQL" | Документация Майкрософт
description: Узнайте, как настроить брандмауэр службы "База данных SQL Azure" или "Хранилище данных SQL" с помощью правил брандмауэра для IP-адресов уровня сервера, чтобы управлять доступом, а также как настроить отдельную базу данных или базу данных в составе пула с правилами брандмауэра для IP-адресов на уровне базы данных.
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: VanMSFT
ms.author: vanto
ms.reviewer: carlrab
manager: craigg
ms.date: 03/12/2019
ms.openlocfilehash: 513836257a292069da709ad7a71e480f2b4d069d
ms.sourcegitcommit: 031e4165a1767c00bb5365ce9b2a189c8b69d4c0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/13/2019
ms.locfileid: "59549735"
---
# <a name="azure-sql-database-and-sql-data-warehouse-ip-firewall-rules"></a>Правила брандмауэра для IP-адресов служб "База данных SQL Azure" и "Хранилище данных SQL"

[База данных SQL Microsoft Azure](sql-database-technical-overview.md) и [Хранилище данных SQL](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) предоставляют службу реляционной базы данных для приложений Azure и других веб-приложений. Чтобы защитить ваши данные, брандмауэр запрещает любой доступ к серверу базы данных, пока вы не укажете компьютеры, у которых есть разрешение на доступ. Брандмауэр предоставляет доступ к базам данным на основе исходного IP-адреса каждого запроса.

> [!NOTE]
> Эта статья относится к Azure SQL Server, а также к базам данных SQL и хранилища данных SQL, создаваемым на сервере SQL Azure. Для простоты база данных SQL используется как для базы данных SQL, так и для хранилища данных SQL.
> [!IMPORTANT]
> Эта статья *не* относится к **Управляемому экземпляру базы данных SQL Azure**. Дополнительные сведения о необходимой конфигурации сети см. в следующей статье, посвященной [подключению к Управляемому экземпляру](sql-database-managed-instance-connect-app.md).

## <a name="virtual-network-rules-as-alternatives-to-ip-rules"></a>Правила виртуальной сети как альтернатива правилам фильтрации IP-адресов

Помимо правил фильтрации IP-адресов брандмауэр также управляет *правилами виртуальной сети*. Правила виртуальной сети основаны на конечных точках служб для виртуальной сети. В некоторых случаях предпочтительнее использовать правила виртуальной сети, а не правила фильтрации IP-адресов. Чтобы узнать больше, ознакомьтесь с разделом [Использование конечных точек служб и правил виртуальной сети для базы данных SQL Azure](sql-database-vnet-service-endpoint-rule-overview.md).

## <a name="overview"></a>Обзор

Первоначально весь доступ к серверу Azure SQL Server блокируется брандмауэром Базы данных SQL. Чтобы получить доступ к серверу базы данных, сначала нужно указать одно или несколько правил брандмауэра для IP-адресов уровня сервера, которые обеспечивают доступ к серверу SQL Azure. Используйте правила брандмауэра для IP-адресов, чтобы определить разрешенные диапазоны IP-адресов из Интернета. Кроме того, нужно указать, разрешено ли приложениям Azure пытаться подключиться к серверу Azure SQL Server.

Чтобы выборочно предоставить доступ только к одной из баз данных на сервере Azure SQL Server, необходимо создать правило уровня базы данных для соответствующей базы данных. В правиле брандмауэра для IP-адресов на уровне базы данных укажите диапазон IP-адресов, выходящий за пределы диапазона, указанного в правиле брандмауэра для IP-адресов на уровне сервера, и убедитесь, что IP-адрес клиента попадает в диапазон, указанный в правиле уровня базы данных.

> [!IMPORTANT]
> Служба "Хранилище данных SQL" поддерживает только правила брандмауэра для IP-адресов на уровне сервера.

Запросы на подключение из Интернета и Azure должны сначала обрабатываться брандмауэром и только потом достигать сервера Azure SQL Server или базы данных SQL, как показано на следующей схеме.

   ![Схема, описывающая конфигурацию брандмауэра.][1]

- **Правила брандмауэра для IP-адресов на уровне сервера.**

  Эти правила разрешают клиентам доступ ко всему серверу Azure SQL Server, то есть ко всем базам данных на одном сервере Базы данных SQL. Эти правила хранятся в базе данных **master** . Правила брандмауэра для IP-адресов на уровне сервера можно настроить на портале или с помощью инструкций Transact-SQL. Для создания правил брандмауэра для IP-адресов на уровне сервера с помощью портала Azure или PowerShell необходимо быть владельцем или участником подписки. Чтобы создать правило брандмауэра для IP-адресов на уровне сервера с помощью Transact-SQL, необходимо подключиться к экземпляру базы данных SQL от имени участника уровня сервера или администратора Azure Active Directory (это означает, что правило брандмауэра для IP-адресов на уровне сервера изначально должен создать пользователь с разрешениями на уровне Azure).

- **Правила брандмауэра для IP-адресов на уровне базы данных.**

  Эти правила разрешают клиентам доступ к определенным (защищенным) базам данных на одном сервере Базы данных SQL. Вы можете создать такие правила для каждой базы данных (в том числе базы данных **master**), и они будут храниться в отдельных базах данных. Для создания правил брандмауэра для IP-адресов на уровне базы данных для базы данных master и пользовательской базы данных и управления этими правилами можно использовать только инструкции Transact-SQL и только после настройки первого правила брандмауэра уровня сервера. Если в правиле брандмауэра для IP-адресов на уровне базы данных указать диапазон IP-адресов, выходящий за пределы диапазона, указанного в правиле брандмауэра для IP-адресов на уровне сервера, доступ к базе данных смогут получить только те клиенты, которые имеют IP-адреса в диапазоне уровня базы данных. Для базы данных можно задать не более 128 правил брандмауэра для IP-адресов на уровне базы данных. Дополнительные сведения о настройке правил брандмауэра для IP-адресов на уровне базы данных см. в примере ниже и в статье [sp_set_database_firewall_rule (База данных SQL Azure)](https://msdn.microsoft.com/library/dn270010.aspx).

### <a name="recommendation"></a>Рекомендации

Корпорация Майкрософт рекомендует использовать правила брандмауэра для IP-адресов на уровне базы данных всегда, когда это возможно, чтобы повысить уровень безопасности и сделать базу данных более портативной. Используйте правила брандмауэра для IP-адресов на уровне сервера для администраторов, если у вас много баз данных с одинаковыми требованиями к доступу и вы не хотите тратить время на настройку каждой базы данных по отдельности.

> [!IMPORTANT]
> База данных SQL Microsoft Azure поддерживает не более 128 правил брандмауэра для IP-адресов.
> [!NOTE]
> Сведения о портативных базах данных в контексте непрерывности бизнес-процессов см. в разделе [Требования к проверке подлинности для аварийного восстановления](sql-database-geo-replication-security-config.md).

### <a name="connecting-from-the-internet"></a>Подключение через Интернет

Когда компьютер пытается подключиться к серверу базы данных из Интернета, брандмауэр сначала проверяет исходный IP-адрес запроса относительно правил брандмауэра для IP-адресов на уровне базы данных для базы данных, к которой устанавливается подключение.

- Если IP-адрес запроса находится в одном из диапазонов, указанных в правилах брандмауэра для IP-адресов на уровне базы данных, подключение предоставляется к Базе данных SQL, которая содержит правило.
- Если IP-адрес запроса не находится в одном из диапазонов, указанных в правиле брандмауэра для IP-адресов на уровне базы данных, проверяются правила брандмауэра для IP-адресов на уровне сервера. Если IP-адрес запроса находится в одном из диапазонов, указанных в правилах брандмауэра для IP-адресов на уровне сервера, подключение предоставляется. Правила брандмауэра для IP-адресов на уровне сервера применяются ко всем базам данных SQL на сервере SQL Azure.  
- Если IP-адрес запроса находится за пределами диапазонов, указанных в любом из правил брандмауэра для IP-адресов на уровне базы данных или уровне сервера, то запрос на подключение отклоняется.

> [!NOTE]
> Для доступа к базе данных SQL Azure с локального компьютера убедитесь, что брандмауэр сети и локального компьютера разрешает исходящие подключения по TCP-порту 1433.

### <a name="connecting-from-azure"></a>Подключение из Azure

Чтобы приложения из Azure могли подключаться к серверу SQL Azure, необходимо разрешить подключения Azure. Когда приложение из Azure пытается подключиться к серверу базы данных, брандмауэр проверяет, разрешены ли подключения Azure. Параметр брандмауэра с начальным и конечным адресом, равным 0.0.0.0, указывает, что эти подключения Azure разрешены. Если попытка подключения не разрешена, запрос не достигает сервера Базы данных SQL Azure.

> [!IMPORTANT]
> Этот параметр позволяет настроить брандмауэр так, чтобы разрешить все подключения из Azure, включая подключения из подписок других клиентов. При выборе этого параметра убедитесь, что используемое имя для входа и разрешения пользователя предоставляют доступ только авторизованным пользователям.

## <a name="creating-and-managing-ip-firewall-rules"></a>Создание правил брандмауэра для IP-адресов и управление ими

Первый параметр брандмауэра уровня сервера можно создать на [портале Azure](https://portal.azure.com/) или программным путем с помощью [Azure PowerShell](https://docs.microsoft.com/powershell/module/az.sql), [Azure CLI](/cli/azure/sql/server/firewall-rule#az-sql-server-firewall-rule-create) или [REST API](https://docs.microsoft.com/rest/api/sql/firewallrules/createorupdate). Последующие правила брандмауэра для IP-адресов на уровне сервера можно создавать и контролировать с помощью этих методов и Transact-SQL.

> [!IMPORTANT]
> Правила брандмауэра для IP-адресов на уровне базы данных можно создавать только с помощью Transact-SQL. То же самое касается и управления ими.

Для повышения производительности правила брандмауэра для IP-адресов на уровне сервера временно кэшируются на уровне базы данных. Сведения об обновлении кэша см. в статье [DBCC FLUSHAUTHCACHE (Transact-SQL)](https://msdn.microsoft.com/library/mt627793.aspx).

> [!TIP]
> Чтобы провести аудит изменений брандмауэра уровня сервера и уровня базы данных, можно использовать [аудит базы данных SQL](sql-database-auditing.md).

## <a name="manage-server-level-ip-firewall-rules-using-the-azure-portal"></a>Управление правилами брандмауэра для IP-адресов на уровне сервера с помощью портала Azure

Чтобы задать правило брандмауэра для IP-адресов на уровне сервера на портале Azure, перейдите на страницу "Обзор" базы данных SQL Azure или сервера Базы данных SQL.

> [!TIP]
> Руководство см. в статье [Создание базы данных SQL Azure на портале Azure](sql-database-single-database-get-started.md).

### <a name="from-database-overview-page"></a>На странице обзора базы данных

1. Чтобы задать правило брандмауэра для IP-адресов на уровне сервера на странице обзора базы данных, щелкните **Настройка брандмауэра для сервера** на панели инструментов, как показано на рисунке ниже. Откроется страница **параметров брандмауэра** для сервера базы данных SQL.

      ![правило брандмауэра для IP-адресов на уровне сервера](./media/sql-database-get-started-portal/server-firewall-rule.png)

2. Щелкните **Добавить IP-адрес клиента** на панели инструментов, чтобы добавить IP-адрес используемого компьютера, а затем щелкните **Сохранить**. Для текущего IP-адреса будет создано правило брандмауэра для IP-адресов на уровне сервера.

      ![настройка правила брандмауэра для IP-адресов на уровне сервера](./media/sql-database-get-started-portal/server-firewall-rule-set.png)

### <a name="from-server-overview-page"></a>На странице обзора сервера

После этого откроется страница обзора сервера, где будет указано полное имя сервера (например, **mynewserver20170403.database.windows.net**) и предоставлены параметры для дальнейшей настройки.

1. Чтобы настроить правило серверного уровня на странице обзора, в меню слева в разделе "Параметры" щелкните **Брандмауэр**:

2. Щелкните **Добавить IP-адрес клиента** на панели инструментов, чтобы добавить IP-адрес используемого компьютера, а затем щелкните **Сохранить**. Для текущего IP-адреса будет создано правило брандмауэра для IP-адресов на уровне сервера.

## <a name="manage-ip-firewall-rules-using-transact-sql"></a>Управление правилами брандмауэра для IP-адресов с помощью Transact-SQL

| Представление каталога или хранимая процедура | Уровень | ОПИСАНИЕ |
| --- | --- | --- |
| [sys.firewall_rules](https://msdn.microsoft.com/library/dn269980.aspx) |сервер; |Отображает текущие правила брандмауэра для IP-адресов на уровне сервера |
| [sp_set_firewall_rule](https://msdn.microsoft.com/library/dn270017.aspx) |сервер; |Создает или обновляет правила брандмауэра для IP-адресов на уровне сервера |
| [sp_delete_firewall_rule](https://msdn.microsoft.com/library/dn270024.aspx) |сервер; |Удаляет правила брандмауэра для IP-адресов на уровне сервера |
| [sys.database_firewall_rules](https://msdn.microsoft.com/library/dn269982.aspx) |База данных |Отображает текущие правила брандмауэра для IP-адресов на уровне базы данных |
| [sp_set_database_firewall_rule](https://msdn.microsoft.com/library/dn270010.aspx) |База данных |Создает или обновляет правила брандмауэра для IP-адресов на уровне базы данных |
| [sp_delete_database_firewall_rule](https://msdn.microsoft.com/library/dn270030.aspx) |Базы данных |Удаляет правила брандмауэра для IP-адресов на уровне базы данных |

Чтобы просмотреть имеющиеся правила, включить диапазон IP-адресов на сервере Contoso и удалить правило брандмауэра для IP-адресов, используйте следующий пример:

```sql
SELECT * FROM sys.firewall_rules ORDER BY name;
```

Затем добавьте правило брандмауэра для IP-адресов на уровне сервера.

```sql
EXECUTE sp_set_firewall_rule @name = N'ContosoFirewallRule',
   @start_ip_address = '192.168.1.1', @end_ip_address = '192.168.1.10'
```

Для удаления правил брандмауэра для IP-адресов на уровне сервера выполните хранимую процедуру sp_delete_firewall_rule. Приведенный ниже пример удаляет правило с именем ContosoFirewallRule.

```sql
EXECUTE sp_delete_firewall_rule @name = N'ContosoFirewallRule'
```

## <a name="manage-server-level-ip-firewall-rules-using-azure-powershell"></a>Управление правилами брандмауэра для IP-адресов на уровне сервера с помощью Azure PowerShell

[!INCLUDE [updated-for-az](../../includes/updated-for-az.md)]
> [!IMPORTANT]
> Модуль PowerShell Azure Resource Manager по-прежнему поддерживается базой данных SQL Azure, но все будущие разработки — для модуля Az.Sql. Для этих командлетов см. в разделе [AzureRM.Sql](https://docs.microsoft.com/powershell/module/AzureRM.Sql/). Аргументы для команд в модуле Az и в модуле AzureRm практически идентичны.

| Командлет | Уровень | Описание |
| --- | --- | --- |
| [Get-AzSqlServerFirewallRule](/powershell/module/az.sql/get-azsqlserverfirewallrule) |сервер; |Возвращает текущие правила брандмауэра уровня сервера |
| [New-AzSqlServerFirewallRule](/powershell/module/az.sql/new-azsqlserverfirewallrule) |сервер; |Создает новое правило брандмауэра уровня сервера |
| [Set-AzSqlServerFirewallRule](/powershell/module/az.sql/set-azsqlserverfirewallrule) |сервер; |Обновляет свойства существующего правила брандмауэра уровня сервера |
| [Remove-AzSqlServerFirewallRule](/powershell/module/az.sql/remove-azsqlserverfirewallrule) |сервер; |Удаляет правила брандмауэра уровня сервера |

Приведенный ниже пример настраивает правило брандмауэра для IP-адресов на уровне сервера с помощью PowerShell.

```powershell
New-AzSqlServerFirewallRule -ResourceGroupName "myResourceGroup" `
    -ServerName $servername `
    -FirewallRuleName "AllowSome" -StartIpAddress "0.0.0.0" -EndIpAddress "0.0.0.0"
```

> [!TIP]
> Примеры быстрого запуска PowerShell см. в статьях [Примеры Azure PowerShell для базы данных SQL Azure](sql-database-powershell-samples.md) и [Создание отдельной базы данных SQL Azure и настройка правила брандмауэра для сервера Базы данных SQL с помощью PowerShell](scripts/sql-database-create-and-configure-database-powershell.md).

## <a name="manage-server-level-ip-firewall-rules-using-azure-cli"></a>Управление правилами брандмауэра для IP-адресов на уровне сервера с помощью Azure CLI

| Командлет | Уровень | ОПИСАНИЕ |
| --- | --- | --- |
|[az sql server firewall-rule create](/cli/azure/sql/server/firewall-rule#az-sql-server-firewall-rule-create)|сервер;|Создает правило брандмауэра для IP-адресов на уровне сервера|
|[az sql server firewall-rule list](/cli/azure/sql/server/firewall-rule#az-sql-server-firewall-rule-list)|сервер;|Выводит список правил брандмауэра для IP-адресов на сервере|
|[az sql server firewall-rule show](/cli/azure/sql/server/firewall-rule#az-sql-server-firewall-rule-show)|сервер;|Отображает сведения о правило брандмауэра для IP-адрес|
|[az sql server firewall-rule update](/cli/azure/sql/server/firewall-rule##az-sql-server-firewall-rule-update)|сервер;|Обновляет правило брандмауэра IP-адрес|
|[az sql server firewall-rule delete](/cli/azure/sql/server/firewall-rule#az-sql-server-firewall-rule-delete)|сервер;|Удаляет правило брандмауэра для IP-адрес|

Приведенный ниже пример задает правило брандмауэра для IP-адресов на уровне сервера с помощью Azure CLI.

```azurecli-interactive
az sql server firewall-rule create --resource-group myResourceGroup --server $servername \
-n AllowYourIp --start-ip-address 0.0.0.0 --end-ip-address 0.0.0.0
```

> [!TIP]
> Примеры быстрого запуска PowerShell см. в статьях [Примеры Azure PowerShell для базы данных SQL Azure](sql-database-cli-samples.md) и [Создание отдельной базы данных SQL и настройка правила брандмауэра с помощью интерфейса командной строки](scripts/sql-database-create-and-configure-database-cli.md).

## <a name="manage-server-level-ip-firewall-rules-using-rest-api"></a>Управление правилами брандмауэра для IP-адресов на уровне сервера с помощью REST API

| API | Уровень | ОПИСАНИЕ |
| --- | --- | --- |
| [Вывод списка правил брандмауэра](https://docs.microsoft.com/rest/api/sql/firewallrules/listbyserver) |сервер; |Отображает текущие правила брандмауэра для IP-адресов на уровне сервера |
| [Создание и изменение правила брандмауэра](https://docs.microsoft.com/rest/api/sql/firewallrules/createorupdate) |сервер; |Создает или обновляет правила брандмауэра для IP-адресов на уровне сервера |
| [Удаление правила брандмауэра](https://docs.microsoft.com/rest/api/sql/firewallrules/delete) |сервер; |Удаляет правила брандмауэра для IP-адресов на уровне сервера |
| [Получение правил брандмауэра](https://docs.microsoft.com/rest/api/sql/firewallrules/get) | сервер; | Возвращает правила брандмауэра для IP-адресов на уровне сервера |

## <a name="server-level-versus-database-level-ip-firewall-rules"></a>Правила брандмауэра уровня сервера и уровня базы данных

В. Необходимо ли полностью изолировать пользователей одной базы данных от пользователей другой базы данных ?
Если да, то предоставьте доступ с помощью правил брандмауэра для IP-адресов на уровне базы данных. Это позволяет избежать использования правил брандмауэра для IP-адресов на уровне сервера, которые предоставляют доступ через брандмауэр ко всем базам данных, уменьшая тем самым глубину защиты.

В. Необходим ли пользователям с IP-адреса доступ ко всем базам данных?
Используйте правила брандмауэра для IP-адресов на уровне сервера, чтобы сократить количество раз, когда необходимо настраивать правила брандмауэра для IP-адресов.

В. Пользователь или группа пользователей, которые настраивают правила брандмауэра для IP-адресов, имеют доступ только через портал Azure, PowerShell или REST API?
Необходимо использовать правила брандмауэра для IP-адресов на уровне сервера. Правила брандмауэра для IP-адресов на уровне базы данных можно настроить только с помощью Transact-SQL.  

В. Запрещено ли пользователю или группе пользователей, которые настраивают правила брандмауэра для IP-адресов, иметь разрешения высокого уровня на уровне базы данных?
Используйте правила брандмауэра для IP-адресов на уровне сервера. Для настройки правил брандмауэра для IP-адресов на уровне базы данных с помощью Transact-SQL требуется разрешение на уровне базы данных не ниже `CONTROL DATABASE`.  

В. Осуществляют ли пользователь или группа пользователей, которые настраивают правила брандмауэра для IP-адресов или выполняют аудит этих правил, централизованное управление правилами брандмауэра IP-адресов для множества (возможно, сотен) баз данных?
Это зависит от ваших потребностей и среды. Правила брандмауэра для IP-адресов на уровне сервера проще настроить, но сценарии позволяют настроить правила уровня базы данных. И даже если вы используете правила брандмауэра для IP-адресов на уровне сервера, вам может потребоваться провести аудит правил брандмауэра для IP-адресов на уровне базы данных, чтобы выяснить, создали ли пользователи с разрешением `CONTROL` для базы данных правила брандмауэра для IP-адресов на уровне базы данных.

В. Можно ли одновременно использовать правила брандмауэра для IP-адресов на уровне сервера и уровня базы данных?
Да. Некоторым пользователям, например администраторам, требуются правила брандмауэра для IP-адресов на уровне сервера. А другим пользователям, например пользователям приложения базы данных, необходимы правила брандмауэра для IP-адресов на уровне базы данных.

## <a name="troubleshooting-the-database-firewall"></a>Устранение неполадок брандмауэра базы данных

Если доступ к службе базы данных SQL Microsoft Azure не работает должным образом, необходимо учитывать следующее.

- **Конфигурация локального брандмауэра**

  Прежде чем компьютер сможет получить доступ к Базе данных SQL Azure, может потребоваться создать на компьютере исключение брандмауэра для TCP-порта 1433. Вам может потребоваться открыть дополнительные порты при создании подключений в пределах облака Azure. Дополнительные сведения см. в разделе **Снаружи или внутри** статьи [Порты для ADO.NET 4.5, отличные от порта 1433](sql-database-develop-direct-route-ports-adonet-v12.md).

- **Преобразование сетевых адресов (NAT)**

  Из-за применения NAT IP-адрес, используемый компьютером для подключения к Базе данных SQL Azure, может отличаться от IP-адреса, показанного в параметрах конфигурации IP-адреса компьютера. Чтобы просмотреть IP-адрес, используемый компьютером для подключения к Azure, войдите на портал и откройте вкладку **Настройка** для сервера, где размещена база данных. В разделе **Разрешенные IP-адреса** отображается **текущий IP-адрес клиента**. Щелкните **Добавить** в разделе **Разрешенные IP-адреса**, чтобы разрешить компьютеру доступ к серверу.

- **Изменения в списке разрешенных адресов еще не вступили в силу**

  Изменения конфигурации брандмауэра Базы данных SQL Azure могут вступить в силу в течение пяти минут.

- **Имя для входа не авторизовано или использован неправильный пароль**

  Если имя для входа не имеет разрешений на сервере Базы данных SQL Azure или введен неправильный пароль, то подключение к серверу Базы данных SQL Azure отклоняется. Создание параметра брандмауэра только предоставляет клиентам возможность подключения к серверу. Каждый клиент должен предоставить необходимые учетные данные безопасности. Дополнительные сведения о подготовке имен входа см. в разделе [Управление базами данных, именами входа и пользователями в базе данных SQL Azure](sql-database-manage-logins.md).

- **Динамический IP-адрес**

  При наличии подключения к Интернету с динамическим предоставлением IP-адресов и возникновении проблем с прохождением через брандмауэр попробуйте одно из описанных ниже решений.
  
  - Попросите поставщика услуг Интернета (ISP) для диапазона IP-адрес, назначенный на клиентских компьютерах, имеющих доступ к серверу базы данных SQL Azure и затем добавьте диапазон IP-адресов, как правило брандмауэра IP-адрес.
  - Получите статические IP-адреса для клиентских компьютеров, а затем добавьте IP-адреса как правила брандмауэра для IP-адресов.

## <a name="next-steps"></a>Дальнейшие действия

- Убедитесь, что входящий трафик из вычислений диапазоны IP-адресов (включая диапазоны SQL), используемые центрами данных Microsoft Azure позволяет среде вашей корпоративной сети. Может потребоваться добавить в белый список этих IP-адресов, см. в разделе [диапазоны IP-адрес центра обработки данных Microsoft Azure](https://www.microsoft.com/download/details.aspx?id=41653)  
- Чтобы быстро приступить к созданию правила брандмауэра для IP-адресов на уровне сервера, ознакомьтесь со статьей о [создании базы данных SQL Azure](sql-database-single-database-get-started.md).
- Дополнительные сведения о подключении к базе данных SQL Azure из приложений с открытым кодом или приложений сторонних производителей см. в статье [Библиотеки подключений для базы данных SQL и SQL Server](https://msdn.microsoft.com/library/azure/ee336282.aspx).
- Сведения о дополнительных портах, которые, возможно, потребуется открыть, см. в разделе **Снаружи или внутри** статьи [Порты для ADO.NET 4.5, отличные от порта 1433](sql-database-develop-direct-route-ports-adonet-v12.md).
- Общие сведения о методах защиты в базе данных SQL Azure см. в [этой статье](sql-database-security-overview.md).

<!--Image references-->
[1]: ./media/sql-database-firewall-configure/sqldb-firewall-1.png
