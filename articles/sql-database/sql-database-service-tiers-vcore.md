---
title: Общие сведения о модели виртуального ядра
description: Модель покупки vCore позволяет самостоятельно масштабировать вычислительные и хранилища ресурсы, соответствовать производительности на местах и оптимизировать цену.
services: sql-database
ms.service: sql-database
ms.subservice: service
ms.topic: conceptual
author: stevestein
ms.author: sstein
ms.reviewer: sashan, moslake, carlrab
ms.date: 11/27/2019
ms.openlocfilehash: 5fd69dcd30292630862887ab5434764ba377b396
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79481088"
---
# <a name="vcore-model-overview"></a>Общие сведения о модели виртуального ядра

Модель виртуального ядра (vCore) обеспечивает несколько преимуществ:

- Более высокие пределы вычислений, памяти, ис-аутора и хранения данных.
- Контроль над аппаратной генерацией, чтобы лучше соответствовать вычислительным и требованиям к памяти рабочей нагрузки.
- Ценовые скидки для [Azure Hybrid Benefit (AHB)](sql-database-azure-hybrid-benefit.md) и [Зарезервированной инстанции (RI).](sql-database-reserved-capacity.md)
- Большая прозрачность аппаратных деталей, которые питаем компьютеры; облегчает планирование миграций из развертывания на месте.

## <a name="service-tiers"></a>Уровни службы

Параметры уровня обслуживания в модели vCore включают общее назначение, критический бизнес и Hyperscale. Уровень обслуживания обычно определяет архитектуру хранилища, пространство и ограничения и определение ими, а также параметры непрерывности работы, связанные с доступностью и аварийным восстановлением.

||**Общее назначение**|**Бизнес критический**|**Уровень "Гипермасштабирование"**|
|---|---|---|---|
|Оптимально для|Большинства рабочих нагрузок. Предлагает бюджетные, сбалансированные и масштабируемые варианты вычислений и хранения данных. |Предлагает бизнес-приложениям наивысшую устойчивость к сбоям, используя несколько изолированных реплик, и обеспечивает самую высокую производительность ввоза/работы на реплику базы данных.|Большинство бизнес-нагрузок с высокомасштабируемыми требованиями к хранению и считыванию.  Обеспечивает более высокую устойчивость к сбоям, позволяя конфигурацию более чем одной изолированной реплики базы данных. |
|Хранилище|Использует удаленное хранилище.<br/>**Единые базы данных и эластичные пулы, подготовленные для вычислений:**<br/>От 5 ГБ до 4 ТБ<br/>**Без серверов вычислений**:<br/>5 ГБ - 3 ТБ<br/>**Управляемый экземпляр**: 32 ГБ - 8 ТБ |Использует локальное хранение SSD.<br/>**Единые базы данных и эластичные пулы, подготовленные для вычислений:**<br/>От 5 ГБ до 4 ТБ<br/>**Управляемая инстанция**:<br/>от 32 ГБ до 4 ТБ |Гибкий автозавод хранения по мере необходимости. Поддерживает до 100 ТБ хранения. Использует локальное хранилище SSD для локального кэша буферного пула и локального хранения данных. Использует удаленное хранилище Azure в качестве конечного долгосрочного хранилища данных. |
|IOPS и пропускная выливка (приблизительная)|**Единые базы данных и эластичные пулы**: См. ограничения ресурсов для [отдельных баз данных](../sql-database/sql-database-vcore-resource-limits-single-databases.md) и [эластичных пулов.](../sql-database/sql-database-vcore-resource-limits-elastic-pools.md)<br/>**Управляемый экземпляр**: См. [Обзор Azure S'L База данных управляемых ресурсов экземпляра.](../sql-database/sql-database-managed-instance-resource-limits.md#service-tier-characteristics)|См лимиты ресурсов для [отдельных баз данных](../sql-database/sql-database-vcore-resource-limits-single-databases.md) и [эластичных пулов.](../sql-database/sql-database-vcore-resource-limits-elastic-pools.md)|Hyperscale — это многоуровневая архитектура с кэшированием на нескольких уровнях. Эффективное IOPS и пропускная пропускная высоесть будут зависеть от рабочей нагрузки.|
|Доступность|1 реплика, без рецидов считываемым масштабом|3 реплики, 1 [реплика чтения и масштабирования](sql-database-read-scale-out.md),<br/>зона-избыточная высокая доступность (HA)|1 реплики для чтения, плюс [реплики по шкале чтения](sql-database-read-scale-out.md)|
|Резервные копии|[Чтение-доступ гео-избыточного хранения (RA-GRS)](../storage/common/storage-designing-ha-apps-with-ragrs.md), 7-35 дней (7 дней по умолчанию)|[RA-GRS](../storage/common/storage-designing-ha-apps-with-ragrs.md), 7-35 дней (7 дней по умолчанию)|Резервное копирование на основе моментальных снимков в удаленном хранилище Azure. Эти моментальные снимки используются для быстрого восстановления. Резервное копирование мгновенно и не влияет на производительность вхол/с вычислений. Восстановление происходит быстро и не является операцией по размеру данных (занимает минуты, а не часы или дни).|
|В памяти|Не поддерживается|Поддерживается|Не поддерживается|
|||


### <a name="choosing-a-service-tier"></a>Выбор уровня служб

Для получения информации о выборе уровня обслуживания для вашей конкретной рабочей нагрузки см.

- [Когда нужно выбрать уровень службы общего назначения](sql-database-service-tier-general-purpose.md#when-to-choose-this-service-tier)
- [Когда нужно выбрать уровень бизнес-критического сервиса](sql-database-service-tier-business-critical.md#when-to-choose-this-service-tier)
- [Когда нужно выбрать уровень обслуживания Hyperscale](sql-database-service-tier-hyperscale.md#who-should-consider-the-hyperscale-service-tier)


## <a name="compute-tiers"></a>Вычислить уровни

Параметры вычислительного уровня в модели vCore включают в себя подготовленные и безсерверные вычислительные уровни.


### <a name="provisioned-compute"></a>Подготовленные вычисления

Подготовленный вычислительный уровень обеспечивает определенное количество вычислительных ресурсов, которые постоянно готовятся независимо от рабочей нагрузки, и счета за количество вычислений, подготовленных по фиксированной цене в час.


### <a name="serverless-compute"></a>Бессерверные вычисления

Автоматизированные вычисления без [сервера вычисляют](sql-database-serverless.md) ресурсы на основе активности рабочей нагрузки и счетов за количество вычислений, используемых в секунду.



## <a name="hardware-generations"></a>Поколения оборудования

Варианты генерации оборудования в модели vCore включают Gen 4/5, M-серии (предварительный просмотр) и Fsv2-серии (предварительный просмотр). Аппаратная генерация обычно определяет вычислительные и миновые памяти и другие характеристики, влияющие на производительность рабочей нагрузки.

### <a name="gen4gen5"></a>Gen4/Gen5

- Оборудование Gen4/Gen5 обеспечивает сбалансированные вычислительные и миосные ресурсы и подходит для большинства рабочих нагрузок баз данных, которые не имеют более высокой памяти, более высоких требований vCore или более быстрых одиночных требований vCore, как это предусмотрено fsv2-серией или M-серией.

Для регионов, где gen4/Gen5 доступен, [см.](#gen4gen5-1)

### <a name="fsv2-seriespreview"></a>Серия Fsv2 (предварительный просмотр)

- Fsv2-серия представляет собой вычислительную оптимизированную аппаратную опцию, обеспечивающую низкую задержку процессора и высокую тактовую частоту для большинства рабочих нагрузок.
- В зависимости от рабочей нагрузки, Fsv2-серии могут доставить больше производительности процессора на vCore, чем Gen5, и 72 vCore размер может обеспечить большую производительность процессора за меньшую стоимость, чем 80 vCores на Gen5. 
- Fsv2 обеспечивает меньше памяти и tempdb на vCore, чем другие аппаратные средства, поэтому рабочие нагрузки чувствительны к этим ограничениям, возможно, захотите рассмотреть Gen5 или M-серии вместо.  

Серия Fsv2 только поддерживается в уровне общего назначения.  Для регионов, где доступна серия Fsv2, [см.](#fsv2-series)


### <a name="m-seriespreview"></a>M-серия (предварительный просмотр)

- M-series — это опция оптимизации памяти для рабочих нагрузок, требующих большего объема памяти и более высоких вычислительных ограничений, чем предусмотрено Gen5.
- M-серия обеспечивает 29 ГБ на vCore и 128 vCores, что увеличивает предел памяти по отношению к Gen5 на 8x почти до 4 ТБ.

M-серия поддерживается только на уровне Business Critical и не поддерживает избыточность зоны.

Для включения оборудования M-серии для подписки и региона необходимо открыть запрос на поддержку. Подписка должна быть платным типом предложения, включая Pay-As-You-Go или Enterprise Agreement (EA).  Если запрос на поддержку одобрен, то опыт выбора и подготовки M-серии следует той же схеме, что и для других поколений оборудования. Для регионов, где доступна [M-series availability](#m-series)серия M, см.


### <a name="compute-and-memory-specifications"></a>Вычисления и спецификации памяти


|Поколение оборудования  |Службы вычислений  |Память  |
|:---------|:---------|:---------|
|4-е поколение     |- Процессоры Intel E5-2673 v3 (Haswell) 2,4 ГГц<br>- Предоставление до 24 vCores (1 vCore - 1 физическое ядро)  |- 7 ГБ за vCore<br>- Предоставление до 168 ГБ|
|5-го поколения     |**Подготовленные вычисления**<br>- Процессоры Intel E5-2673 v4 (Бродуэлл) 2,3 ГГц и процессоры Intel SP-8160 (Skylake)<br>- Предоставление до 80 vCores (1 vCore - 1 гипер-нить)<br><br>**Бессерверные вычисления**<br>- Процессоры Intel E5-2673 v4 (Бродуэлл) 2,3 ГГц и процессоры Intel SP-8160 (Skylake)<br>- Авто-масштаб до 16 vCores (1 vCore - 1 гипер-нить)|**Подготовленные вычисления**<br>- 5,1 ГБ за vCore<br>- Предоставление до 408 ГБ<br><br>**Бессерверные вычисления**<br>- Авто-масштаб до 24 ГБ за vCore<br>- Авто-масштаб до 48 ГБ макс|
|Серия Fsv2     |- Процессоры Intel Xeon Platinum 8168 (SkyLake)<br>- Благодаря устойчивой все основные турбо тактовой частоты 3,4 ГГц и максимальной одноядерной турбо-тактовой частоты 3,7 ГГц.<br>- Положение 72 vCores (1 vCore - 1 гипер-нить)|- 1,9 ГБ за vCore<br>- Положение 136 ГБ|
|Серия M     |- Процессоры Intel Xeon E7-8890 v3 2,5 ГГц<br>- Положение 128 vCores (1 vCore - 1 гипер-нить)|- 29 ГБ за vCore<br>- Положение 3.7 ТБ|

\*В [sys.dm_user_db_resource_governance](https://docs.microsoft.com/sql/relational-databases/system-dynamic-management-views/sys-dm-user-db-resource-governor-azure-sql-database) динамическом представлении управления, аппаратное поколение для баз данных Gen5 с использованием процессоров Intel SP-8160 (Skylake) выглядит как Gen6. Ограничения ресурсов для всех баз данных Gen5 одинаковы независимо от типа процессора (Broadwell или Skylake).

Для получения дополнительной информации об ограничениях ресурсов [см.](sql-database-vcore-resource-limits-single-databases.md) [Resource limits for elastic pools (vCore)](sql-database-vcore-resource-limits-elastic-pools.md)

### <a name="selecting-a-hardware-generation"></a>Выбор аппаратного поколения

На портале Azure можно выбрать аппаратное поколение для базы данных или пула s'L во время создания, или изменить аппаратное поколение существующей базы данных или пула S'L.

**Выбрать аппаратное поколение при создании базы данных или пула S'L**

Для получения [подробной](sql-database-single-database-get-started.md)информации см.

На вкладке **«Основы»** выберите ссылку **базы данных «Настройка»** в разделе **«Вычисление и хранение»,** а затем выберите ссылку **конфигурации изменения:**

  ![настройка базы данных](media/sql-database-service-tiers-vcore/configure-sql-database.png)

Выберите желаемое аппаратное поколение:

  ![выбрать аппаратное обеспечение](media/sql-database-service-tiers-vcore/select-hardware.png)


**Изменить аппаратное генерирующее существующую базу данных или пул**

Для базы данных на странице «Обзор» выберите ссылку **уровня ценообразования:**

  ![изменение оборудования](media/sql-database-service-tiers-vcore/change-hardware.png)

Для пула на странице Обзор выберите **настройку.**

Выполните шаги по изменению конфигурации и выберите генерацию оборудования, описанную в предыдущих шагах.

**Выбрать аппаратное поколение при создании управляемого экземпляра**

Для получения подробной информации [см.](sql-database-managed-instance-get-started.md)

На вкладке **«Основы»** выберите ссылку **базы данных «Настройка»** в разделе **«Вычисление и хранение»,** а затем выберите желаемое поколение оборудования:

  ![настроить управляемый экземпляр](media/sql-database-service-tiers-vcore/configure-managed-instance.png)
  
**Изменение аппаратного генерат существующего управляемого экземпляра**

# <a name="portal"></a>[Портал](#tab/azure-portal)

На странице управляемого экземпляра выберите ссылку **уровня ценообразования,** размещенную в разделе Настройки

![изменение управляемого оборудования экземпляра](media/sql-database-service-tiers-vcore/change-managed-instance-hardware.png)

На странице **уровня ценообразования** вы сможете изменить генерацию оборудования, описанную в предыдущих шагах.

# <a name="powershell"></a>[PowerShell](#tab/azure-powershell)

Используйте следующий сценарий PowerShell:

```powershell-interactive
Set-AzSqlInstance -Name "managedinstance1" -ResourceGroupName "ResourceGroup01" -ComputeGeneration Gen5
```

Для получения более подробной информации проверьте команду [Set-AzSqlInstance.](https://docs.microsoft.com/powershell/module/az.sql/set-azsqlinstance)

# <a name="azure-cli"></a>[Лазурный CLI](#tab/azure-cli)

Используйте следующую команду CLI:

```azurecli-interactive
az sql mi update -g mygroup -n myinstance --family Gen5
```

Для получения более подробной информации проверьте команду [обновления az sql mi.](https://docs.microsoft.com/cli/azure/sql/mi#az-sql-mi-update)

---

### <a name="hardware-availability"></a>Доступность оборудования

#### <a name="gen4gen5"></a><a name="gen4gen5-1"></a>Gen4/Gen5

Оборудование Gen4 [постепенно выравливается](https://azure.microsoft.com/updates/gen-4-hardware-on-azure-sql-database-approaching-end-of-life-in-2020/) и больше не доступно для новых развертываний. Все новые базы данных должны быть развернуты на оборудовании Gen5.

Gen5 доступен в большинстве регионов мира.

#### <a name="fsv2-series"></a>Серия Fsv2

Серия Fsv2 доступна в следующих регионах: Австралия Центральная, Австралия Центральной 2, Австралия Восток, Австралия юго-восток, Бразилия Южная, Канада Центральной, Восточной Азии, Восточной Части, Франция Центральной, Индия Запад, Корея Центральной, Корея южнее, Северная Европа, Северная Африка, юго-восточная Азия, Великобритания на юге, Запад Великобритании, Западная Европа, Западная Us 2.


#### <a name="m-series"></a>Серия M

M-серия доступна в следующих регионах: Восточная ЧАСТЬ США, Северная Европа, Западная Европа, Западная США 2.
M-серия также может иметь ограниченную доступность в дополнительных регионах. Вы можете запросить другой регион, чем указано здесь, но выполнение в другом регионе может быть невозможно.

Для обеспечения доступности M-серии в подписке необходимо запросить доступ, [подав новый запрос на поддержку.](#create-a-support-request-to-enable-m-series)


##### <a name="create-a-support-request-to-enable-m-series"></a>Создайте запрос поддержки для включения M-серии: 

1. Выберите **Справку и поддержку** на портале.
2. Выберите **новый запрос на поддержку**.

На странице **Основы,** укажите следующее:

1. Для поля **Тип проблемы** выберите **Ограничения службы и подписки (квоты)**.
2. Для **подписки** - выберите подписку для включения M-серии.
3. Для **типа квоты**выберите **базу данных S'L.**
4. Выберите **далее,** чтобы перейти на страницу **Подробности.**

На странице **Подробности** укажите следующее:

1. В разделе **PROBLEM DETAILS** выберите ссылку **«Подробная информация».** 
2. Для **типа квоты базы данных S'L** выберите **M-серию.**
3. Для **региона**выберите регион для включения M-серии.
    Для регионов, где доступна [M-series availability](#m-series)серия M, см.

Утвержденные запросы на поддержку обычно выполняются в течение 5 рабочих дней.


## <a name="next-steps"></a>Дальнейшие действия

- Для создания базы данных S'L [см. Создание базы данных S'L с помощью портала Azure.](sql-database-single-database-get-started.md)
- Для конкретных размеров вычислений и вариантов размера [SQL Database vCore-based resource limits for single databases](sql-database-vcore-resource-limits-single-databases.md)хранилища, доступных для отдельных баз данных, см.
- Для конкретных размеров вычислений и вариантов размера [SQL Database vCore-based resource limits for elastic pools](sql-database-vcore-resource-limits-elastic-pools.md)хранилища, доступных для эластичных пулов, см.
- Подробная информация о ценах можно узнать на [странице ценообразования по базам данных Azure S'L.](https://azure.microsoft.com/pricing/details/sql-database/single/)
