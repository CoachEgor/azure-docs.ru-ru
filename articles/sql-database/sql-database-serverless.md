---
title: Бессерверные приложения
description: В этой статье описан новый уровень бессерверных вычислений, который сравнивается с существующим уровнем подготовленных вычислений
services: sql-database
ms.service: sql-database
ms.subservice: service
ms.custom: test
ms.devlang: ''
ms.topic: conceptual
author: oslake
ms.author: moslake
ms.reviewer: sstein, carlrab
ms.date: 3/11/2020
ms.openlocfilehash: 5c36dbfbe63314ef97edfa3dfbaae34667db002d
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79268708"
---
# <a name="azure-sql-database-serverless"></a>База данных Azure S'L без сервера

База данных Azure s'L без сервера — это вычислительный уровень для отдельных баз данных, который автоматически масштабирует вычисления на основе спроса на рабочую нагрузку и счетов на количество вычислений, используемых в секунду. Уровень без сервера вычисляет также автоматически приостанавливает базы данных в неактивные периоды, когда выставляется только счет для хранения, и автоматически возобновляет базы данных при возврате активности.

## <a name="serverless-compute-tier"></a>Уровень бессерверных вычислений

Уровень без сервера для одной базы данных параметрыруется диапазоном автоматического масштабирования вычислений и задержкой автоматической паузы.  Конфигурация этих параметров формирует работу базы данных и затраты на вычисления.

![Выставление счетов за бессерверные вычисления](./media/sql-database-serverless/serverless-billing.png)

### <a name="performance-configuration"></a>Конфигурация производительности

- **Минимальные vCores** и **максимальные vCores** являются настраиваемыми параметрами, которые определяют диапазон вычислительной мощности, доступных для базы данных. Ограничения памяти и операций ввода-вывода пропорциональны указанному диапазону виртуальных ядер.  
- **Задержка автоматической паузы** представляет собой настраиваемый параметр, определяющий период времени, когда база данных должна быть неактивной, прежде чем она автоматически приостанавливается. База данных автоматически возобновляется при следующем возникновении входа или других действиях.  Кроме того, автопазаты могут быть отключены.

### <a name="cost"></a>Стоимость

- Стоимость базы данных без серверов — это суммирование затрат на вычисление и хранение.
- Когда использование вычислений находится между ограничениями, настроенными между мин и максимальным, стоимость вычисления основана на vCore и используемой памяти.
- Когда использование вычислений ниже установленных пределов мин, стоимость вычисления основана на min vCores и min memory, настроенном.
- Когда база данных приостанавливается, стоимость вычислений равна нулю и понесены только затраты на хранение.
- Стоимость хранилища определяется так же, как и в уровне предусмотренных вычислений.

Для получения более подробной информации о [стоимости,](sql-database-serverless.md#billing)см Биллинг .

## <a name="scenarios"></a>Сценарии

Бессерверные вычисления — это рентабельное и оптимизированное для высокой производительности решение для отдельных баз данных с нестабильным и непредсказуемым использованием, для которых допустима некоторая задержка при подготовке вычислительных ресурсов после периодов простоя. В отличие от этого, подготовленный вычислительный уровень — это оптимизация цены для отдельных баз данных или нескольких баз данных в эластичных пулах с более высоким средним использованием, которые не могут позволить себе задержки в разминке вычислений.

### <a name="scenarios-well-suited-for-serverless-compute"></a>Сценарии использования бессерверных вычислений

- Единые базы данных с прерывистыми, непредсказуемыми шаблонами использования перемежаются с периодами бездействия и более низким средним уровнем использования вычислений с течением времени.
- Единые базы данных в подготовленном вычислительном уровне, которые часто перемасштабируются, и клиенты, предпочитающие делегировать вычисления в службу.
- Новые единичные базы данных без истории использования, где вычисление размеров трудно или невозможно оценить до развертывания в базе данных S'L.

### <a name="scenarios-well-suited-for-provisioned-compute"></a>Сценарии использования подготовленных вычислений

- Единые базы данных с более регулярными, предсказуемыми моделями использования и более высоким средним уровнем использования вычислений с течением времени.
- Базы данных, для которых недопустимо снижение производительности за счет частого ограничения ресурсов памяти или задержек автоматического возобновления работы из приостановленного состояния.
- Несколько баз данных с прерывистыми, непредсказуемыми шаблонами использования, которые могут быть объединены в эластичные пулы для лучшей оптимизации цен.

## <a name="comparison-with-provisioned-compute-tier"></a>Сравнение с уровнем подготовленных вычислений

В следующей таблице перечислены различия между уровнями бессерверных вычислений и подготовленных вычислений:

| | **Бессерверные вычисления** | **Подготовленные вычисления** |
|:---|:---|:---|
|**Шаблон использования базы данных**| Прерывистое, непредсказуемое использование с более низким средним использованием вычислений с течением времени. |  Более регулярные шаблоны использования с более высоким средним уровнем использования вычислений с течением времени или несколько баз данных с использованием эластичных пулов.|
| **Затраты на управление производительностью** |Низкие|Высокие|
|**Масштабирование вычислительных ресурсов**|Автоматически|Вручную|
|**Скорость включения вычислительных ресурсов**|Низкая после периодов бездействия|Немедленно|
|**Тарификация**|посекундно.|Почасовая|

## <a name="purchasing-model-and-service-tier"></a>Модель приобретения и уровень служб

Бессерверная База данных SQL сейчас поддерживается только на уровне общего назначения платформы 5-го поколения в рамках модели приобретения виртуальных ядер.

## <a name="autoscaling"></a>Автомасштабирование

### <a name="scaling-responsiveness"></a>Скорость масштабирования

Как правило, базы данных без серверов работают на машине с достаточной емкостью для удовлетворения потребностей в ресурсах без перерыва для любого количества вычислений, запрошенных в пределах, установленных значением max vCores. В некоторых случаях автоматически выполняется балансировка нагрузки, если компьютер не может удовлетворить потребность в ресурсах в течение нескольких минут. Например, если спрос на ресурс ы составляет 4 vCores, но доступно только 2 vCores, то загрузка баланса может занять до нескольких минут, прежде чем будет предоставлено 4 vCores. База данных остается доступной по сети во время балансировки нагрузки, кроме непродолжительного периода в конце операции, когда подключение прерывается.

### <a name="memory-management"></a>Управление памятью

Память для бессерверных баз данных усваивалась чаще, чем для подготовленных вычислительных баз данных. Такое поведение важно для управления затратами в сервере и может повлиять на производительность.

#### <a name="cache-reclamation"></a>Рекультивация кэша

В отличие от подготовленных вычислительных баз данных, память из кэша S'L утвержена из базы данных без серверов, когда использование процессора или кэша является низким.

- Использование кэша считается низким, когда общий размер последних используемых записей кэша опускается ниже порога в течение определенного периода времени.
- При запуске рекультивации кэша размер целевого кэша постепенно уменьшается до доли его предыдущего размера, а рекультивация продолжается только в том случае, если использование остается низким.
- При восстановлении кэша политика для выбора записей кэша для выселения является той же политикой отбора, что и для подготовленных вычислительных баз данных при высоком давлении памяти.
- Размер кэша никогда не уменьшается ниже предела памяти мин, как это определено min vCores, которые могут быть настроены.

Как в бессерверных, так и в подготовленных вычислительных базах данных записи кэша могут быть выселены, если используется вся доступная память.

#### <a name="cache-hydration"></a>Гидратация кэша

Кэш S'L растет по мере того, как данные извлекаются с диска таким же образом и с той же скоростью, что и для подготовленных баз данных. Когда база данных занята, кэш может расти без ограничений до предела максимальной памяти.

## <a name="autopausing-and-autoresuming"></a>Автопапогирование и автоперезагрузка

### <a name="autopausing"></a>Автопаусинг

Автопапогация срабатывает, если все следующие условия верны в течение длительности задержки автопаузы:

- количество сеансов — 0;
- ЦП 0 для рабочей нагрузки пользователя, работаемой в пуле пользователей

Предусмотрена опция для оттогования автоматического применения при желании.

Следующие функции не поддерживают автоматизинг.  То есть, если используется какая-либо из следующих функций, то база данных остается в сети независимо от продолжительности бездействия базы данных:

- Георепликация (активные георепликации и группы автоматического сбоя).
- Долгосрочное сохранение резервного копирования (LTR).
- База данных синхронизации, используемая в синхронизации данных S'L.  В отличие от баз данных синхронизации, базы данных концентраторов и членов поддерживают автоматопатию.
- База данных заданий, используемая в эластичных заданиях.

Автоматическое использование временно предотвращается во время развертывания некоторых обновлений служб, которые требуют, чтобы база данных была в режиме онлайн.  В таких случаях автоматическое заполнение снова становится разрешенным после завершения обновления службы.

### <a name="autoresuming"></a>Автоповтор

Автоповтор срабатывает, если какое-либо из следующих условий верно в любое время:

|Компонент|Триггер автоматического возобновления|
|---|---|
|Аутентификация и авторизация|Имя входа|
|Обнаружение угроз|Включение/отключение настроек обнаружения угроз на уровне базы данных или сервера.<br>Изменение параметров обнаружения угроз на уровне базы данных или сервера.|
|Обнаружение и классификация данных|Добавление, изменение, удаление или просмотр меток конфиденциальности.|
|Аудит|Просмотр записей аудита.<br>Обновление или просмотр политики аудита.|
|Маскирование данных|Добавление, изменение, удаление или просмотр правил маскирования данных.|
|Прозрачное шифрование данных|Просмотр состояния прозрачного шифрования данных.|
|Запросы к хранилищу данных (производительность)|Изменение или просмотр настроек хранилища запросов|
|Автоматическая настройка|Применение и проверка рекомендаций по автоматической настройке, включая автоматическое индексирование.|
|Копирование базы данных|Создайте базу данных в качестве копии.<br>Экспорт в файл BACPAC.|
|Синхронизация данных SQL|Синхронизация между центральной и рядовыми базами данных, которая запускается по настраиваемому расписанию или вручную.|
|Изменение некоторых метаданных базы данных|Добавление новых тегов базы данных.<br>Изменение макс vCores, мин vCores, или автоматическая задержка паузы.|
|SQL Server Management Studio (SSMS)|Использование версий SSMS раньше 18.1 и открытие нового окна запроса для любой базы данных на сервере возобновит любую базу данных с автоматической паузой на том же сервере. Такое поведение не происходит при использовании SSMS версии 18.1 или позже.|

Автоматизация также срабатывает во время развертывания некоторых обновлений служб, которые требуют, чтобы база данных была в режиме онлайн.

### <a name="connectivity"></a>Соединение

Если база данных без сервера приостановлена, то первый логин возобновит базу данных и вернет ошибку, заявив, что база данных недоступна с кодом ошибки 40613. Когда работа базы данных будет возобновлена, нужно повторно выполнить вход, чтобы установить подключение. Клиенты базы данных, для которых поддерживается логика повторных попыток подключения, не нужно изменять.

### <a name="latency"></a>Задержка

Задержка с автоматической фиксацией и автоматической паузой в базе данных без сервера, как правило, упорядочена 1 минута для автоматического и 1-10 минут для автоматической паузы.

### <a name="customer-managed-transparent-data-encryption-byok"></a>Клиент управляет прозрачным шифрованием данных (BYOK)

Если с помощью [управляемого клиентом прозрачного шифрования данных](transparent-data-encryption-byok-azure-sql.md) (BYOK) и бессерверной базы данных автоматически приостанавливается при удалении или отзыве ключей, то база данных остается в автоматическом состоянии.  В этом случае при следующей попытке возобновления база данных остается приостановленной до тех пор, пока ее статус не перейдет в недоступный примерно через 10 минут или менее.  Как только база данных становится недоступной, процесс восстановления становится таким же, как и для подготовленных вычислительных баз данных.  Если база данных без сервера находится в сети при удалении или отзыве ключей, то база данных также становится недоступной примерно через 10 минут или менее так же, как и в случае с подготовленными вычислительными базами данных.

## <a name="onboarding-into-serverless-compute-tier"></a>Посадка на безсерверный вычислительный уровень

Создание новой базы данных или перемещение существующей базы данных в уровень без серверов вычислений следует той же схеме, что и создание новой базы данных в подготовленном уровне вычислений, и включает в себя следующие два шага.

1. Определение описательного имени службы. Цель обслуживания предписывает уровень обслуживания, генерацию оборудования и max vCores. В таблице ниже приведены возможные варианты.

   |Описательное имя службы|Уровень служб|Поколение оборудования|Максимальное число виртуальных ядер|
   |---|---|---|---|
   |GP_S_Gen5_1|Общее назначение|5-го поколения|1|
   |GP_S_Gen5_2|Общее назначение|5-го поколения|2|
   |GP_S_Gen5_4|Общее назначение|5-го поколения|4|
   |GP_S_Gen5_6|Общее назначение|5-го поколения|6|
   |GP_S_Gen5_8|Общее назначение|5-го поколения|8|
   |GP_S_Gen5_10|Общее назначение|5-го поколения|10|
   |GP_S_Gen5_12|Общее назначение|5-го поколения|12|
   |GP_S_Gen5_14|Общее назначение|5-го поколения|14|
   |GP_S_Gen5_16|Общее назначение|5-го поколения|16|

2. Дополнительно укажите задержку min vCores и автоматическую паузу, чтобы изменить свои значения по умолчанию. В таблице ниже показаны доступные значения для этих параметров.

   |Параметр|Варианты значений|Значение по умолчанию|
   |---|---|---|---|
   |Мин vCores|Зависит от max vCores настроен - [см.](sql-database-vcore-resource-limits-single-databases.md#general-purpose---serverless-compute---gen5)|0,5 виртуального ядра|
   |Задержка автоматической приостановки работы|Минимум: 60 минут (1 час)<br>Максимум: 10080 минут (7 дней)<br>Приращения: 60 минут<br>Отключение автоматической приостановки: -1|60 минут|


### <a name="create-new-database-in-serverless-compute-tier"></a>Создание новой базы данных на уровне без серверов вычислений 

Следующие примеры создают новую базу данных на уровне без серверов вычислений. В примерах прямо указывается задержка min vCores, max vCores и автоматическая задержка.

#### <a name="use-azure-portal"></a>Использование портала Azure

[См. Квикстарт: Создайте единую базу данных в базе данных Azure S'L с помощью портала Azure.](sql-database-single-database-get-started.md)


#### <a name="use-powershell"></a>Использование PowerShell

```powershell
New-AzSqlDatabase -ResourceGroupName $resourceGroupName -ServerName $serverName -DatabaseName $databaseName `
  -ComputeModel Serverless -Edition GeneralPurpose -ComputeGeneration Gen5 `
  -MinVcore 0.5 -MaxVcore 2 -AutoPauseDelayInMinutes 720
```
#### <a name="use-azure-cli"></a>Использование Azure CLI

```azurecli
az sql db create -g $resourceGroupName -s $serverName -n $databaseName `
  -e GeneralPurpose -f Gen5 -min-capacity 0.5 -c 2 --compute-model Serverless --auto-pause-delay 720
```


#### <a name="use-transact-sql-t-sql"></a>Используйте Трансакт-СЗЛ (Т-СЗЛ)

Следующий пример создает новую базу данных на уровне без серверов вычислений.

```sql
CREATE DATABASE testdb
( EDITION = 'GeneralPurpose', SERVICE_OBJECTIVE = 'GP_S_Gen5_1' ) ;
```

Для получения подробной информации [см.](/sql/t-sql/statements/create-database-transact-sql?view=azuresqldb-current)  

### <a name="move-database-from-provisioned-compute-tier-into-serverless-compute-tier"></a>Перемещение базы данных с подготовленного уровня вычислений в безсерверный вычислительный уровень

Следующие примеры перемещаются из базы данных из подготовленного уровня вычислений в уровень без серверов вычислений. В примерах прямо указывается задержка min vCores, max vCores и автоматическая задержка.

#### <a name="use-powershell"></a>Использование PowerShell


```powershell
Set-AzSqlDatabase -ResourceGroupName $resourceGroupName -ServerName $serverName -DatabaseName $databaseName `
  -Edition GeneralPurpose -ComputeModel Serverless -ComputeGeneration Gen5 `
  -MinVcore 1 -MaxVcore 4 -AutoPauseDelayInMinutes 1440
```

#### <a name="use-azure-cli"></a>Использование Azure CLI

```azurecli
az sql db update -g $resourceGroupName -s $serverName -n $databaseName `
  --edition GeneralPurpose --min-capacity 1 --capacity 4 --family Gen5 --compute-model Serverless --auto-pause-delay 1440
```


#### <a name="use-transact-sql-t-sql"></a>Используйте Трансакт-СЗЛ (Т-СЗЛ)

Следующий пример перемещает базу данных из подготовленного уровня вычислений в уровень без серверов вычислений.

```sql
ALTER DATABASE testdb 
MODIFY ( SERVICE_OBJECTIVE = 'GP_S_Gen5_1') ;
```

Для получения подробной информации [см.](/sql/t-sql/statements/alter-database-transact-sql?view=azuresqldb-current)

### <a name="move-database-from-serverless-compute-tier-into-provisioned-compute-tier"></a>Перемещение базы данных с уровня без серверов в подготовленный вычислительный уровень

Перемещение бессерверной базы данных на уровень подготовленных вычислений выполняется так же, как и перемещение подготовленной базы данных на уровень бессерверных вычислений.

## <a name="modifying-serverless-configuration"></a>Изменение конфигурации без серверов

### <a name="use-powershell"></a>Использование PowerShell

Изменение максимального или минимального vCores и задержки автоматической паузы выполняется с помощью `MaxVcore` `MinVcore`команды `AutoPauseDelayInMinutes` [Set-AzSqlDatabase](/powershell/module/az.sql/set-azsqldatabase) в PowerShell с помощью , и аргументы.

### <a name="use-azure-cli"></a>Использование Azure CLI

Изменение максимального или минимального vCores и задержки автоматической паузы выполняется с помощью команды `capacity` `min-capacity`обновления `auto-pause-delay` [az sql db](/cli/azure/sql/db#az-sql-db-update) в Azure CLI с использованием , и аргументов.


## <a name="monitoring"></a>Наблюдение

### <a name="resources-used-and-billed"></a>Используемые и тарифицируемые ресурсы

Ресурсы базы данных без серверов инкапсулируются пакетом приложений, экземплярами S'L и пулом пользовательских ресурсов.

#### <a name="app-package"></a>Пакет приложения

Пакет приложения представляет внешнюю границу управления для большинства ресурсов базы данных, независимо от того, на каком уровне находится база данных (бессерверные или подготовленные вычисления). Пакет приложения содержит экземпляр SQL и внешние службы, которые вместе определяют область применения всех пользовательских и системных ресурсов, используемых базой данных в Базе данных SQL. Внешние службы включают компоненты R и функцию полнотекстового поиска. Экземпляр SQL обычно управляет общим использованием ресурсов в пакете приложения.

#### <a name="user-resource-pool"></a>Пул пользовательских ресурсов

Пул пользовательских ресурсов представляет внутреннюю границу управления для большинства ресурсов базы данных, независимо от того, на каком уровне находится база данных (бессерверные или подготовленные вычисления). Области пула пользовательских ресурсов — cPU и IO для рабочей нагрузки пользователя, генерируемой DDL-запросами, такими как CREATE и ALTER и DML-запросы, такие как SELECT, INSERT, UPDATE и DELETE. Эти запросы обычно представляют самые распространенные операции, потребляющие ресурсы в пакете приложения.

### <a name="metrics"></a>Метрики

Метрики для мониторинга использования ресурсов пакета приложения и пула пользователей базы данных без серверов перечислены в следующей таблице:

|Сущность|Метрика|Описание|Units|
|---|---|---|---|
|Пакет приложения|app_cpu_percent|Количество виртуальных ядер, используемых в приложении относительно максимального количества виртуальных ядер, которое можно использовать в приложении.|Процент|
|Пакет приложения|app_cpu_billed|Объем вычислительных ресурсов, тарифицируемых для приложения в отчетный период. Сумма, которая насчитывается за этот период, является произведением этого показателя и стоимости виртуального ядра. <br><br>Значение этого показателя вычисляется с учетом потребления максимального количества ресурсов ЦП и памяти в каждую секунду. Если используемые количество виртуальных ядер и объем ресурсов памяти меньше, чем минимальный подготовленный объем, плата взимается за подготовленные ресурсы.Чтобы сравнить, как взимается плата за ресурсы ЦП и памяти, представьте, что объем памяти нормализуется с учетом виртуальных ядер путем преобразования объема памяти в ГБ в количество виртуальных ядер по 3 ГБ.|Время использования виртуальных ядер в секундах|
|Пакет приложения|app_memory_percent|Объем памяти, используемый в приложении, относительно максимального объема памяти, который можно использовать в приложении.|Процент|
|Пользовательский пул|cpu_percent|Количество виртуальных ядер, используемых пользовательской рабочей нагрузкой, относительно максимального количества виртуальных ядер, которое можно использовать в пользовательской рабочей нагрузке.|Процент|
|Пользовательский пул|data_IO_percent|Количество операций ввода-вывода, используемых пользовательской рабочей нагрузкой, относительно максимального количества операций ввода-вывода, которое можно использовать в пользовательской рабочей нагрузке.|Процент|
|Пользовательский пул|log_IO_percent|Количество записанных в журнал МБ/с, используемых пользовательской рабочей нагрузкой, относительно максимального количества записанных в журнал МБ/с, которое можно использовать в пользовательской рабочей нагрузке.|Процент|
|Пользовательский пул|workers_percent|Количество рабочих ролей, используемых пользовательской рабочей нагрузкой, относительно максимального количества рабочих ролей, которое можно использовать в пользовательской рабочей нагрузке.|Процент|
|Пользовательский пул|sessions_percent|Количество сеансов, используемых пользовательской рабочей нагрузкой, относительно максимального количества сеансов, которое можно использовать в пользовательской рабочей нагрузке.|Процент|

### <a name="pause-and-resume-status"></a>Состояние приостановки и возобновления работы

На портале Azure состояние базы данных отображается в разделе "Обзор" для сервера, содержащего список баз данных. Состояние базы данных также отображается в разделе "Обзор" для базы данных.

Используя следующие команды для запроса паузы и возобновления состояния базы данных:

#### <a name="use-powershell"></a>Использование PowerShell

```powershell
Get-AzSqlDatabase -ResourceGroupName $resourcegroupname -ServerName $servername -DatabaseName $databasename `
  | Select -ExpandProperty "Status"
```

#### <a name="use-azure-cli"></a>Использование Azure CLI

```azurecli
az sql db show --name $databasename --resource-group $resourcegroupname --server $servername --query 'status' -o json
```


## <a name="resource-limits"></a>Ограничения ресурсов

Для ограничения ресурсов [см.](sql-database-vCore-resource-limits-single-databases.md#general-purpose---serverless-compute---gen5)

## <a name="billing"></a>Выставление счетов

Объем оплачиваемых вычислительных ресурсов зависит от максимального объема ресурсов ЦП и памяти, используемых каждую секунду. Если используемый объем ЦП и памяти меньше, чем минимальный подготовленный объем, плата взимается за подготовленные ресурсы. Чтобы сравнить, как взимается плата за ресурсы ЦП и памяти, представьте, что объем памяти нормализуется с учетом виртуальных ядер путем преобразования объема памяти в ГБ в количество виртуальных ядер по 3 ГБ.

- **Счет за ресурс**: процессор и память
- **Сумма выставленсчетная:** vCore цена единицы - макс (мин vCores, vCores, vCores, мина памяти ГБ - 1/3, память ГБ используется 1/3) 
- **Частота выставления счетов**: в секунду

Цена единицы vCore является стоимость за vCore в секунду. См. подробнее на [странице с ценами на Базу данных SQL Azure](https://azure.microsoft.com/pricing/details/sql-database/single/), где приведены цены за потребленные единицы ресурсов в заданном регионе.

Объем тарифицируемых вычислительных ресурсов определяется следующим показателем:

- **Показатель**: app_cpu_billed (виртуальное ядро в секунду).
- **Определение**: максимальный объем ресурсов (минимальное количество виртуальных ядер, используемое количество виртуальных ядер, минимальный объем памяти в ГБ * 1/3, используемый объем памяти в ГБ * 1/3).
- **Частота отчетности**: в минуту

Это количество вычисляется каждую секунду и суммируется за 1 минуту.

Рассмотрим бессерверную базу данных, настроенную с 1 мин vCore и 4 max vCores.  Это соответствует около 3 ГБ памяти и 12-ГБ максимальной памяти.  Предположим, что задержка автоматической паузы установлена на 6 часов, а рабочая нагрузка базы данных активна в течение первых 2 часов 24-часового периода и в противном случае неактивна.    

В этом случае база данных выставляется за вычисления и хранение в течение первых 8 часов.  Несмотря на то, что база данных неактивна, начиная со второго часа, она по-прежнему выставлена на расчет в течение последующих 6 часов на основе минимального вычисления, подготовленного в то время как база данных находится в режиме онлайн.  Только хранение выставляется в течение оставшейся части 24-часового периода, пока база данных приостанавливается.

Точнее, счет вычисления в этом примере рассчитывается следующим образом:

|Интервал времени|vCores используется каждую секунду|ГБ используется каждую секунду|Вычислить размер выставлен счет|vCore секунд выставлен счет с течением времени интервал|
|---|---|---|---|---|
|0:00-1:00|4|9|vCores используется|4 vCores - 3600 секунд - 14400 vCore секунд|
|1:00-2:00|1|12|Используемая память|12 ГБ|
|2:00-8:00|0|0|Мин памяти подготовлены|3 ГБ 1/3 и 21600 секунд 21600 vCore секунд|
|8:00-24:00|0|0|Нет вычислений, выставленных во время приостановки|0 vCore секунд|
|Всего vCore секунд выставлен счет в течение 24 часов||||50400 vCore секунд|

Предположим, что цена расчетной единицы составляет $0.000145/vCore/second.  Затем вычислить счет за этот 24-часовой период является продуктом цены вычислительной единицы и vCore секунд выставлен счет: $ 0,000145/vCore/second 50400 vCore секунд

### <a name="azure-hybrid-benefit-and-reserved-capacity"></a>Гибридная выгода Azure и зарезервированная емкость

Azure Hybrid Benefit (AHB) и скидки на зарезервированные емкости не распространяются на уровень без серверов вычислений.

## <a name="available-regions"></a>Доступные регионы

Уровень без серверов доступен по всему миру, за исключением следующих регионов: China East, China North, Germany Central, Germany Northeast, UK North, UK South 2, West Central US и US Gov Central (Айова).

## <a name="next-steps"></a>Дальнейшие действия

- Для начала [см. см.](sql-database-single-database-get-started.md)
- См. подробнее об [ограничениях ресурсов уровня бессерверных вычислений](sql-database-vCore-resource-limits-single-databases.md#general-purpose---serverless-compute---gen5).
