---
title: Выбор размеров виртуальных машин для пулов. Пакетная служба Azure | Документация Майкрософт
description: Выбор доступных размеров виртуальной машины для вычислительных узлов в пулах пакетной службы Azure
services: batch
documentationcenter: ''
author: ju-shim
manager: gwallace
editor: ''
ms.assetid: ''
ms.service: batch
ms.workload: ''
ms.tgt_pltfrm: na
ms.topic: article
ms.date: 09/12/2019
ms.author: jushiman
ms.custom: seodec18
ms.openlocfilehash: 34ab09f7d8d47804992b8ef6864bfea60d1c9b4d
ms.sourcegitcommit: dbcc4569fde1bebb9df0a3ab6d4d3ff7f806d486
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2020
ms.locfileid: "76026606"
---
# <a name="choose-a-vm-size-for-compute-nodes-in-an-azure-batch-pool"></a>Выбор размера виртуальной машины для вычислительных узлов в пуле пакетной службы Azure

При выборе размера узла для пула пакетной службы Azure вы можете использовать любые размеры виртуальной машины, доступные в Azure. В Azure предоставлен диапазон размеров виртуальных машин Windows и Linux для разных рабочих нагрузок.

При выборе размера виртуальной машины существует несколько исключений и ограничений.

* Некоторые ряды виртуальных машин или размеры виртуальных машин не поддерживаются в пакетной службе.
* Некоторые размеры виртуальной машины ограничены. Их необходимо специально включать, чтобы они стали доступны для выделения.

## <a name="supported-vm-series-and-sizes"></a>Поддерживаемые ряды и размеры виртуальных машин

### <a name="pools-in-virtual-machine-configuration"></a>Пулы в конфигурации виртуальной машины

Пулы пакетной службы в конфигурации виртуальной машины поддерживают почти все размеры виртуальных машин ([Linux](../virtual-machines/linux/sizes.md), [Windows](../virtual-machines/windows/sizes.md)). Дополнительные сведения о поддерживаемых размерах и ограничениях см. в следующей таблице.

Все размеры виртуальных машин для рекламы или предварительной версии, которых нет в списке, не гарантируют поддержку.

| Серия виртуальных машин  | Поддерживаемые размеры | Режим распределения пула учетных записей пакетной службы<sup>1</sup> |
|------------|---------|-----------------|
| Серия Basic A | Все размеры, *кроме* Basic_A0 (a0) | Любой |
| Серия A | Все размеры, *кроме* Standard_A0 | Любой |
| Серия Av2 | Все размеры | Любой |
| Серия B | Нет | Недоступно |
| Серия DC | Нет | Недоступно |
| Серия Dv2, DSv2 | Все размеры | Любой |
| Серия Dv3, Dsv3 | Все размеры | Любой |
| Серия Ev3, Esv3 | Все размеры | Любой |
| Серия Fsv2 | Все размеры | Любой |
| Серия H | Все размеры | Любой |
| Серия ХБ<sup>2</sup> | Все размеры | Любой |
| Серия HC<sup>2</sup> | Все размеры | Любой |
| Серия Ls | Все размеры | Любой |
| Серия Lsv2 | Нет | Недоступно |
| Серия M | Standard_M64ms (только с низким приоритетом), Standard_M128s (только с низким приоритетом) | Любой |
| Серия Mv2 | Нет | Недоступно |
| Серия NC | Все размеры | Любой |
| Серия NCv2<sup>2</sup> | Все размеры | Любой |
| Серия NCv3<sup>2</sup> | Все размеры | Любой |
| Серия ND<sup>2</sup> | Все размеры | Любой |
| Серия NDv2 | Все размеры | Режим пользовательской подписки |
| Серия NV | Все размеры | Любой |
| Серия NVv3 | Нет | Недоступно |
| SAP HANA | Нет | Недоступно |

<sup>1</sup> некоторые новые серии виртуальных машин изначально поддерживаются частично. Эти серии виртуальных машин могут быть выделены учетными записями пакетной службы, в которых для параметра **режим распределения пула** задано значение **Подписка пользователя**. Дополнительные сведения о настройке учетной записи пакетной службы см. в разделе [Управление учетными записями пакетной](batch-account-create-portal.md#additional-configuration-for-user-subscription-mode) См. раздел [квоты и ограничения](batch-quota-limit.md) , чтобы узнать, как запросить квоту для этих частично поддерживаемых серий виртуальных машин для учетных записей пакетной службы **подписки пользователя** .  

<sup>2</sup> размеры виртуальных машин можно выделить в пулах пакетной службы в конфигурации виртуальной машины, но необходимо запросить [увеличение квоты](batch-quota-limit.md#increase-a-quota).

### <a name="pools-in-cloud-service-configuration"></a>Пулы в конфигурации облачной службы

Пулы пакетной службы в конфигурации облачных служб поддерживают все [размеры виртуальных машин для облачных служб](../cloud-services/cloud-services-sizes-specs.md) , **за исключением** следующих:

| Серия виртуальных машин  | Неподдерживаемые размеры |
|------------|-------------------|
| Серия A   | Очень мелкая       |
| Серия Av2 | Standard_A1_v2, Standard_A2_v2, Standard_A2m_v2 |

## <a name="size-considerations"></a>Рекомендации по выбору размера

* **Требования приложения**. Учтите характеристики и требования приложений, которые будут выполняться на узлах. Чтобы выбрать правильный размер узла, что позволит снизить затраты, также следует учитывать такие аспекты, как многопоточность приложений и требуемый объем памяти. Для [рабочих нагрузок MPI](batch-mpi.md) с несколькими экземплярами или приложений CUDA рассмотрите возможность использования специализированных размеров виртуальных машин [HPC](../virtual-machines/linux/sizes-hpc.md) или [с поддержкой GPU](../virtual-machines/linux/sizes-gpu.md) (соответственно). (Дополнительные сведения см. в статье [Использование экземпляров с поддержкой RDMA или графического процессора (GPU) в пулах пакетной службы](batch-pool-compute-intensive-sizes.md).)

* **Задачи на узел**. Обычно при выборе размера узла предполагается, что единовременно на нем будет выполняться одна задача. Однако может быть полезно настроить [параллельное выполнение](batch-parallel-node-tasks.md) нескольких задач (а значит и нескольких экземпляров приложения) на вычислительных узлах во время выполнения задания. В таком случае обычно выбирается многоядерный узел с учетом роста потребностей, связанных с выполнением параллельных задач.

* **Уровни нагрузки для различных задач**. Все узлы в пуле имеют одинаковый размер. Если вы планируете выполнять приложения с разными требованиями к системе и/или с разной нагрузкой, рекомендуется использовать отдельные пулы.

* **Доступность региона** — ряд виртуальных машин или размер могут быть недоступны в регионах, где создаются учетные записи пакетной службы. Чтобы убедиться, что размер доступен, перейдите на страницу [Доступность продуктов по регионам](https://azure.microsoft.com/regions/services/).

* **Квоты**. [Квота на ядра](batch-quota-limit.md#resource-quotas) на учетную запись пакетной службы может ограничить количество узлов определенного размера, которые можно добавить в пул пакетной службы. Сведения о запросе увеличения квоты см. в [этой статье](batch-quota-limit.md#increase-a-quota). 

* **Конфигурация пула**. Как правило, при создании пула в конфигурации виртуальной машины имеется больше вариантов размера виртуальной машины по сравнению с созданием пула в конфигурации облачной службы.

## <a name="next-steps"></a>Дальнейшие действия

* Исчерпывающий обзор пакетной службы см. в статье [Разработка решений для крупномасштабных параллельных вычислений с использованием пакетной службы](batch-api-basics.md).
* Дополнительные сведения об использовании размеров виртуальных машин для ресурсоемких вычислений см. в статье [Использование экземпляров с поддержкой RDMA или графического процессора (GPU) в пулах пакетной службы](batch-pool-compute-intensive-sizes.md).
