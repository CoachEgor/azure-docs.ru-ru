---
title: Копирование приложений и данных в узлы пула
description: Узнайте, как копировать приложения и данные в узлы пула.
ms.topic: article
ms.date: 02/17/2020
ms.openlocfilehash: 700e9b80f8420266c0300b47bdd30bc271f8421c
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "82115590"
---
# <a name="copying-applications-and-data-to-pool-nodes"></a>Копирование приложений и данных в узлы пула

Пакетная служба Azure поддерживает несколько способов получения данных и приложений на расчетные узлы, чтобы данные и приложения были доступны для использования задачами. Для выполнения всего задания могут потребоваться данные и приложения, поэтому их необходимо установить на каждом узле. Некоторые могут быть необходимы только для конкретной задачи или для задания, но не обязательно должны быть установлены на каждом узле. В пакетной службе есть средства для каждого из этих сценариев.

- **Файлы ресурсов задачи "начало пула**": для приложений или данных, которые необходимо установить на каждом узле в пуле. Используйте этот метод вместе с пакетом приложения или коллекцией файлов ресурсов задачи запуска, чтобы выполнить команду install.  

Примеры 
- Использование командной строки запуска задачи для перемещения или установки приложений

- Укажите список конкретных файлов или контейнеров в учетной записи хранения Azure. Дополнительные сведения см. [в разделе Добавление # ResourceFile в документации по RESTful](https://docs.microsoft.com/rest/api/batchservice/pool/add#resourcefile) .

- Каждое задание, выполняемое в пуле, запускает MyApplication. exe, который сначала необходимо установить с помощью MyApplication. msi. При использовании этого механизма необходимо установить значение **true**для свойства **Ожидание выполнения** задачи запуска. Дополнительные сведения см. в [документации по добавлению # starttask в RESTful](https://docs.microsoft.com/rest/api/batchservice/pool/add#starttask).

- **Ссылки на пакет приложения** в пуле: для приложений или данных, которые необходимо установить на каждом узле в пуле. Нет команды install, связанной с пакетом приложения, но для выполнения любой команды установки можно использовать задачу запуска. Если приложение не требует установки или состоит из большого числа файлов, можно использовать этот метод. Пакеты приложений хорошо подходят для большого количества файлов, так как они объединяют большое количество файловых ссылок в небольшие полезные данные. Если вы попытаетесь включить более 100 отдельных файлов ресурсов в одну задачу, пакетная служба может получить от внутренних системных ограничений для одной задачи. Кроме того, используйте пакеты приложений, если имеются строгие требования к системе управления версиями, в которых может быть несколько различных версий одного и того же приложения и необходимо выбрать один из них. Дополнительные сведения см. в статье [развертывание приложений на COMPUTE Nodes с пакетами приложений пакетной](https://docs.microsoft.com/azure/batch/batch-application-packages)службы.

- **Файлы ресурсов задачи подготовки задания**: для приложений или данных, которые должны быть установлены для запуска задания, но не нужно устанавливать во весь пул. Например, если в пуле имеется много различных типов заданий, и только одному из них требуется MyApplication. msi для запуска, имеет смысл разместить шаг установки в задаче подготовки задания. Дополнительные сведения о задачах подготовки заданий см. [в разделе Выполнение задач подготовки заданий и выработки заданий на пакетных вычислений](https://azure.microsoft.com/documentation/articles/batch-job-prep-release/).

- **Файлы ресурсов задачи**: для, если приложение или данные относятся только к отдельной задаче. Например, у вас есть пять задач, каждая из которых обрабатывает другой файл и затем записывает выходные данные в хранилище BLOB-объектов.  В этом случае входной файл должен быть указан в коллекции **файлов ресурсов Tasks** , так как каждая задача имеет собственный входной файл.

## <a name="determine-the-scope-required-of-a-file"></a>Определение области, необходимой для файла

Необходимо определить область файла — это файл, необходимый для пула, задания или задачи. Файлы, областью которых является пул, должны использовать пакеты приложений пула или задачи запуска. Файлы, областью которых является задание, должны использовать задачу подготовки задания. Хорошим примером файлов, областью действия которых является уровень пула или задания, являются приложения. Файлы, областью которых является задача, должны использовать файлы ресурсов задачи.

### <a name="other-ways-to-get-data-onto-batch-compute-nodes"></a>Другие способы получения данных на расчетные узлы пакетной службы

Существуют и другие способы получения данных на пакетные расчетные узлы, которые не интегрируются в пакетный REST API. Поскольку вы управляете узлами пакетной службы Azure и можете запускать пользовательские исполняемые файлы, вы можете извлекать данные из любого числа пользовательских источников, если узел пакетного доступа имеет подключение к целевому объекту и у вас есть учетные данные для этого источника на узле пакетной служба Azure. Ниже приведены некоторые распространенные примеры.

- Загрузка данных из SQL
- Загрузка данных из других веб-служб или пользовательских расположений
- Сопоставление общей сетевой папки

### <a name="azure-storage"></a>Хранилище Azure

Хранилище BLOB-объектов загрузило целевые показатели масштабируемости. Целевые показатели масштабируемости общей папки службы хранилища Azure одинаковы для одного большого двоичного объекта. Размер влияет на необходимое количество узлов и пулов.

