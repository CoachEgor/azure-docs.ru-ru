---
title: Копирование приложений и данных в узлы пула
description: Сведения о том, как копировать приложения и данные в узлы пула.
ms.topic: how-to
ms.date: 02/17/2020
ms.openlocfilehash: e21b8551fb62c4335910fd05bb9590eaf6f7e35a
ms.sourcegitcommit: 845a55e6c391c79d2c1585ac1625ea7dc953ea89
ms.contentlocale: ru-RU
ms.lasthandoff: 07/05/2020
ms.locfileid: "85954899"
---
# <a name="copy-applications-and-data-to-pool-nodes"></a>Копирование приложений и данных в узлы пула

Пакетная служба Azure поддерживает несколько способов получения данных и приложений на вычислительные узлы, где данные и приложения будут доступны для использования задачами. Данные и приложения могут потребоваться для всего задания, и тогда их придется установить на каждом узле. А иногда они используются только для конкретной задачи или должны быть установлены до запуска задания, но не обязательно на каждом узле. В пакетной службе доступны инструменты для любого из этих сценариев.

- **Файлы ресурсов для выполнения задач в пуле**. Это вариант для источников данных или приложений, которые нужно установить на каждом узле в пуле. Этот метод можно сочетать с пакетом приложения или коллекцией файлов ресурсов для задачи запуска, чтобы выполнить команду установки.  

Примеры: 
- Использование командной строки задачи запуска для перемещения или установки приложений.

- Укажите список конкретных файлов или контейнеров, размещенных в учетной записи хранения Azure. Дополнительные сведения см. в [документации по команде add#resourcefile в REST](/rest/api/batchservice/pool/add#resourcefile).

- Каждое выполняемое в пуле задание запускает файл MyApplication.exe, который для этого должен быть предварительно установлен с помощью MyApplication.msi. При использовании этого механизма задайте для свойства задачи запуска **Ожидать успешное выполнение** значение **true**. Дополнительные сведения см. в [документации по команде add#starttask в REST](/rest/api/batchservice/pool/add#starttask).

- **Ссылки на пакет приложения** в пуле. Это вариант для источников данных или приложений, которые нужно установить на каждом узле в пуле. Не существует команды установки, связанной с пакетом приложения, но задачу запуска можно применять для выполнения любой команды установки. Если приложение не требует установки или состоит из большого числа файлов, вам подойдет этот метод. Пакеты приложений хорошо подходят для большого количества файлов, так как они объединяют большое количество ссылок на файлы в небольшой набор полезных данных. Если вы попытаетесь включить в одну задачу более 100 отдельных файлов ресурсов, пакетная служба может столкнуться с внутренними ограничениями системы, установленными для одной задачи. Кроме того, пакеты приложений следует использовать при наличии строгих требований к управлению версиями, например если параллельно используется несколько разных версий одного приложения и вам нужно выбрать одну из них. Дополнительные сведения см. в статье [Развертывание приложений на вычислительных узлах с помощью пакетов приложений пакетной службы](./batch-application-packages.md).

- **Файлы ресурсов для задачи подготовки задания**. Это вариант для источников данных или приложений, которые должны быть установлены до запуска задания, но не обязательно во всем пуле. Например, если в пуле выполняется много заданий разных типов и для запуска одного из них требуется выполнение MyApplication.msi, лучше всего разместить этот шаг установки в задаче подготовки задания. Дополнительные сведения о задачах подготовки заданий см. в статье [Выполнение задач подготовки и завершения заданий на вычислительных узлах пакетной службы](./batch-job-prep-release.md).

- **Файлы ресурсов для задач**. Это вариант подходит для тех случаев, когда приложение или данные относятся только к отдельной задаче. Пример: У вас есть пять задач, каждая из которых обрабатывает разные файлы и записывает выходные данные в хранилище BLOB-объектов.  В этом сценарии входной файл должен быть указан в коллекции **файлов ресурсов для задач**, так как каждая задача использует собственный входной файл.

## <a name="determine-the-scope-required-of-a-file"></a>Определение требуемой области для файла

Вам важно правильно определить область файла — используется ли он для всего пула, задания или задачи. Файлы, для которых областью является пул, должны использовать пакеты приложений пула или задачи запуска. Файлы для отдельного задания должны использовать задачу подготовки задания. Хорошим примером файлов с областью действия на уровне пула или задания являются приложения. Файлы для отдельной задачи должны использовать файлы ресурсов для задачи.

### <a name="other-ways-to-get-data-onto-batch-compute-nodes"></a>Другие способы передачи данных на вычислительные узлы пакетной службы

Существуют и другие способы получить данные на вычислительных узлах пакетной службы, но они не включены официально в REST API пакетной службы. Имея полный контроль над узлами пакетной службы Azure и разрешения на запуск пользовательских исполняемых файлов, вы можете извлекать данные из любого числа пользовательских источников, если узел пакетной службы имеет подключение к целевому объекту и у вас есть учетные данные для доступа узла пакетной службы Azure к этому источнику. Вот несколько распространенных вариантов:

- скачивание данных из базы данных SQL;
- скачивание данных из других веб-служб или пользовательских расположений;
- сопоставление сетевой папки.

### <a name="azure-storage"></a>Хранилище Azure

Хранилище больших двоичных объектов устанавливает целевые показатели масштабируемости на скачивание. Целевые показатели масштабируемости для общей папки в службе хранилища Azure такие же, как для одного большого двоичного объекта. Необходимое количество узлов и пулов зависит от размера данных.

