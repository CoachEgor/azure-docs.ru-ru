---
title: Файлы и каталоги в пакетной службе Azure
description: Узнайте о файлах и каталогах, а также о том, как они используются в рабочем процессе пакетной службы Azure с точки зрения разработки.
ms.topic: conceptual
ms.date: 05/12/2020
ms.openlocfilehash: e7babb7e2cfdbbe78f61be766c549c1e80cacf98
ms.sourcegitcommit: a9784a3fd208f19c8814fe22da9e70fcf1da9c93
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/22/2020
ms.locfileid: "83790871"
---
# <a name="files-and-directories-in-azure-batch"></a>Файлы и каталоги в пакетной службе Azure

У каждой задачи пакетной службы есть рабочий каталог, в котором она может создавать дополнительные файлы и каталоги. Он может использоваться для хранения выполняемой программы, обрабатываемых данных и результатов обработки. Все файлы и каталоги задачи принадлежат пользователю задачи.

Пакетная служба предоставляет часть файловой системы на узле в качестве *корневого каталога*. Задачи могут обратиться к корневому каталогу с помощью ссылки на переменную среды `AZ_BATCH_NODE_ROOT_DIR`. Дополнительные сведения об использовании переменных среды см. в разделе [Параметры среды для задач](jobs-and-tasks.md#environment-settings-for-tasks).

Корневой каталог имеет следующую структуру каталогов.

! [Структура каталогов для вычислений на узле] [media\files-and-directories\node-folder-structure.png]

- **applications**: содержит сведения о пакетах приложений, установленных на кластерном узле. Задачи могут получить доступ к этому каталогу с помощью ссылки на переменную среды `AZ_BATCH_APP_PACKAGE` .

- **fsmounts**: каталог содержит все файловые системы, подключенные к кластерному узлу. Задачи могут получить доступ к этому каталогу с помощью ссылки на переменную среды `AZ_BATCH_NODE_MOUNTS_DIR` . Чтобы узнать больше, посетите страницу справки по [подключению виртуальных файловых систем в пуле пакетной службы](virtual-file-mount.md).

- **shared**: в этом каталоге *все* задачи, выполняемые на узле, имеют права чтения и записи. Любая задача, выполняемая на узле, может создавать, читать, обновлять и удалять файлы в этом каталоге. Задачи могут получить доступ к этому каталогу с помощью ссылки на переменную среды `AZ_BATCH_NODE_SHARED_DIR` .

- **startup**: этот каталог используется задачей запуска в качестве рабочего каталога. Здесь хранятся все файлы, скачанные на узел с помощью задачи запуска. Задача запуска может создавать, читать, обновлять и удалять файлы в данном каталоге. Задачи могут получить доступ к этому каталогу с помощью ссылки на переменную среды `AZ_BATCH_NODE_STARTUP_DIR` .

- **volatile**: этот каталог предназначен для внутренних целей. Нет никакой гарантии, что файлы в этом каталоге или сам каталог будут существовать в будущем.

- **workitems**: этот каталог содержит каталоги для заданий и их задач на кластерном узле.

    Каталог **Задачи** создается отдельно для каждой **задачи**, которая выполняется на узле. Задачи могут получить доступ к этому каталогу с помощью ссылки на `AZ_BATCH_TASK_DIR` переменную среды.
    
    В каждом **каталоге "Задачи"** пакетная служба создает рабочий каталог (`wd`), чей уникальный путь указывается в `AZ_BATCH_TASK_WORKING_DIR`переменной среды. Этот каталог предоставляет задаче доступ на чтение и запись. Задача может создавать, читать, обновлять и удалять файлы в данном каталоге. Время существования каталога определяется указанным для задачи ограничением *RetentionTime* .

    Файлы `stdout.txt` и `stderr.txt` сохраняются в **каталог "Задачи"** во время выполнения связанной задачи.

> [!IMPORTANT]
> При удалении узла из пула все файлы, хранящиеся на этом узле, удаляются.

## <a name="next-steps"></a>Дальнейшие действия

- Советы по [обработке и обнаружении ошибок](error-handling.md) в пакетной службе Azure.