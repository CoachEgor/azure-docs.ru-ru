---
title: Событие сбоя выполнения задачи пакетной службы Azure | Документы Майкрософт
description: Справочник по событию сбоя выполнения задачи пакетной службы.
services: batch
author: laurenhughes
manager: gwallace
ms.assetid: ''
ms.service: batch
ms.topic: article
ms.tgt_pltfrm: ''
ms.workload: big-compute
ms.date: 08/15/2019
ms.author: lahugh
ms.openlocfilehash: ea33153c1d231444205a30a09b338f1922641424
ms.sourcegitcommit: 267a9f62af9795698e1958a038feb7ff79e77909
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2019
ms.locfileid: "70258203"
---
# <a name="task-fail-event"></a>Событие сбоя выполнения задачи

 Это событие создается, когда задача завершается с ошибкой. Сейчас все ненулевые коды выхода считаются ошибками. Это событие создается *в дополнение к* событию завершения выполнения задачи и может использоваться для определения времени, когда произошел сбой задачи.


 Ниже приведен пример текста для события сбоя выполнения задачи.

```
{
    "jobId": "myJob",
    "id": "myTask",
    "taskType": "User",
    "systemTaskVersion": 0,
    "nodeInfo": {
        "poolId": "pool-001",
        "nodeId": "tvm-257509324_1-20160908t162728z"
    },
    "multiInstanceSettings": {
        "numberOfInstances": 1
    },
    "constraints": {
        "maxTaskRetryCount": 2
    },
    "executionInfo": {
        "startTime": "2016-09-08T16:32:23.799Z",
        "endTime": "2016-09-08T16:34:00.666Z",
        "exitCode": 1,
        "retryCount": 2,
        "requeueCount": 0
    }
}
```

|Имя элемента|Type|Примечания|
|------------------|----------|-----------|
|`jobId`|Строковое|Идентификатор задания, содержащего задачу.|
|`id`|Строковое|Идентификатор задачи.|
|`taskType`|Строковое|Тип задачи. Может быть установлено значение "JobManager", указывающее, что это задача диспетчера заданий, или значение "User", указывающее, что задача не относится к диспетчеру заданий. Это событие не создается для задач подготовки задания, задачи выпуска задания или задач запуска.|
|`systemTaskVersion`|Int32|Это внутренний счетчик повторных попыток для задачи. Пакетная служба может повторить попытку выполнения задачи для преодоления временных неполадок. В таким неполадкам относятся внутренние ошибки планирования и попытки восстановления из вычислительных узлов в неисправном состоянии.|
|[`nodeInfo`](#nodeInfo)|Комплексный тип|Содержит сведения о вычислительном узле, где выполнялась задача.|
|[`multiInstanceSettings`](#multiInstanceSettings)|Комплексный тип|Указывает, что задача включает в себя несколько экземпляров и требует несколько вычислительных узлов.  Дополнительные [`multiInstanceSettings`](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task) сведения см. в разделе.|
|[`constraints`](#constraints)|Комплексный тип|Ограничения выполнения, применяемые к этой задаче.|
|[`executionInfo`](#executionInfo)|Комплексный тип|Содержит сведения о выполнении задачи.|

###  <a name="nodeInfo"></a> nodeInfo

|Имя элемента|Тип|Примечания|
|------------------|----------|-----------|
|`poolId`|Строковое|Идентификатор пула, в котором выполнялась задача.|
|`nodeId`|Строковое|Идентификатор узла, на котором выполнялась задача.|

###  <a name="multiInstanceSettings"></a> multiInstanceSettings

|Имя элемента|Type|Примечания|
|------------------|----------|-----------|
|`numberOfInstances`|Int32|Число вычислительных узлов, необходимых задаче.|

###  <a name="constraints"></a> constraints

|Имя элемента|Type|Примечания|
|------------------|----------|-----------|
|`maxTaskRetryCount`|Int32|Максимальное количество повторных попыток для задачи. Пакетная служба пытается выполнить задачу повторно, если ее код выхода имеет ненулевое значение.<br /><br /> Обратите внимание, что это значение определяет количество повторных попыток. Пакетная служба попытается выполнить задачу один раз, а затем будет предпринимать повторные попытки вплоть до этого предела. Например, если максимальное число повторных попыток равно 3, пакетная служба пытается выполнить задачу до 4 раз (одна начальная попытка и 3 повторных).<br /><br /> Если максимальное число повторных попыток равно 0, пакетная служба не пытается выполнить задачи повторно.<br /><br /> Если максимальное число повторных попыток равно –1, пакетная служба может повторять попытки сколько угодно.<br /><br /> Значение по умолчанию — 0 (без повторных попыток).|


###  <a name="executionInfo"></a> executionInfo

|Имя элемента|Type|Примечания|
|------------------|----------|-----------|
|`startTime`|DateTime|Время, когда началось выполнение задачи. "Выполнение" соответствует состоянию **выполняется**. Поэтому если задача указывает файлы ресурсов или пакеты приложений, данное значение обозначает время, когда задача начала скачивать или развертывать их.  Если задача перезапускалась или предпринимались повторные попытки, это самое позднее время, когда задача запускалась.|
|`endTime`|DateTime|Время, когда задача была выполнена.|
|`exitCode`|Int32|Код выхода задачи.|
|`retryCount`|Int32|Число повторных попыток выполнения задачи пакетной службой. Повторная попытка выполнения задачи предпринимается в случае ненулевого кода выхода, вплоть до указанного предела MaxTaskRetryCount.|
|`requeueCount`|Int32|Число повторных постановок задачи в очередь пакетной службой в результате запроса пользователя.<br /><br /> Когда пользователь удаляет узлы из пула (путем его сжатия или изменения размера) или отключается задание, пользователь может указать, что запущенные на узлах задачи нужно повторно поставить в очередь для выполнения. Этот счетчик отслеживает, сколько раз задача была повторно поставлена в очередь в описанной ситуации.|
