---
title: Квоты и ограничения служб — пакетная служба Azure | Документация Майкрософт
description: Узнайте о квотах по умолчанию, лимитах и ограничениях пакетной службы Azure, а также о том, как запросить увеличение квоты.
services: batch
documentationcenter: ''
author: LauraBrenner
manager: evansma
editor: ''
ms.assetid: 28998df4-8693-431d-b6ad-974c2f8db5fb
ms.service: batch
ms.workload: big-compute
ms.tgt_pltfrm: na
ms.topic: article
ms.date: 08/13/2019
ms.author: labrenne
ms.custom: seodec18
ms.openlocfilehash: c8a78acfa1f3e7332cee337ae1a82ee365fe356a
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79248233"
---
# <a name="batch-service-quotas-and-limits"></a>Квоты и ограничения пакетной службы

Как и в других службах Azure, существуют ограничения на некоторые ресурсы, связанные с пакетной службой. Многие из этих ограничений являются квотами по умолчанию, которые Azure применяет на уровне подписки или учетной записи. В данной статье рассматриваются эти значения по умолчанию и то, как запросить увеличение квот.

Помните об этих квотах при разработке и увеличении масштаба рабочих нагрузок пакетной службы. Например, если в пуле не удается достичь указанного целевого числа вычислительных узлов, возможно, вы достигли основной квоты для учетной записи пакетной службы.

Можно запустить несколько рабочих нагрузок пакетной службы в одной учетной записи пакетной службы. Либо распределить рабочие нагрузки между учетными записями пакетной службы в рамках одной подписки, но в разных регионах Azure.

Если планируется выполнять рабочие нагрузки в производственной среде с использованием пакетной службы, имеет смысл увеличить одну или несколько квот по сравнению со значениями по умолчанию. Для увеличения квоты отправьте (бесплатно) [запрос в службу поддержки клиентов](#increase-a-quota) .

## <a name="resource-quotas"></a>Квоты ресурсов

Квота — это кредитный лимит, а не гарантия наличия ресурсов. Если вам нужны ресурсы в очень большом объеме, обратитесь в службу поддержки Azure.

Также обратите внимание, что квоты не являются гарантированными значениями. Квоты могут варьироваться в зависимости от изменений службы пакетов или запроса пользователя на изменение значения квоты.

[!INCLUDE [azure-batch-limits](../../includes/azure-batch-limits.md)]

### <a name="cores-quotas-in-user-subscription-mode"></a>Квоты на ядра в режиме пользовательской подписки

Если вы создали учетную запись пакетной службы, в которой для режима выделения пула задана **подписка пользователя**, квоты применяются по-другому. В этом режиме, виртуальные машины пакетной службы и другие ресурсы создаются непосредственно в подписке пользователя при создании пула. Квоты на ядра пакетной службы Azure не применяются к учетной записи, созданной в этом режиме. Вместо этого применяются региональные квоты на вычислительные ядра и другие ресурсы в подписке. Вы можете подробнее узнать об этих квотах в статье [Лимиты, квоты и ограничения подписки и обслуживания Azure](../azure-resource-manager/management/azure-subscription-service-limits.md).

## <a name="pool-size-limits"></a>Ограничения размера пула

Ограничения размера пула устанавливаются службой пакета. В отличие от [квот ресурсов,](#resource-quotas)эти значения не могут быть изменены. Только пулы с межузловой коммуникацией и пользовательскими изображениями имеют ограничения, отличаемые от стандартной квоты.

| **Ресурсов** | **Максимальный предел** |
| --- | --- |
| **Вычислительные узлы в [пуле с включенной связью между узлами](batch-mpi.md)**  ||
| Режим распределения пула "Пакетная служба" | 100 |
| Режим распределения пула "Пользовательская подписка" | 80 |
| **Вычислите узлы в [пуле, созданные с помощью управляемого ресурса изображений](batch-custom-images.md)**<sup>1</sup> ||
| Специальные узлы | 2000 |
| Низкоприоритетные узлы | 1000 |

<sup>1</sup> Пулы, для которых не включен обмен данными между узлами.

## <a name="other-limits"></a>Другие ограничения

Дополнительные ограничения, установленные службой Пакета. В отличие от [квот ресурсов,](#resource-quotas)эти значения не могут быть изменены.

| **Ресурсов** | **Максимальный предел** |
| --- | --- |
| [Количество параллельных задач](batch-parallel-node-tasks.md) на один вычислительный узел | В 4 раза больше, чем количество ядер в узле |
| [Количество приложений](batch-application-packages.md) на одну учетную запись пакетной службы | 20 |
| Пакеты приложения на приложение | 40 |
| Пакеты приложений на пул | 10 |
| Максимальное время существования задачи | 180 дней <sup>1</sup> |
| [Горы](virtual-file-mount.md) на вычислительный узлы | 10 |

<sup>1</sup> Максимальное время существования задачи от ее добавления к заданию до завершения составляет 180 дней. Выполненные задачи сохраняются в течение семи дней; данные для задач, не выполненных в течение максимального срока службы, недоступны.

## <a name="view-batch-quotas"></a>Просмотр квот пакетной службы

Просмотрите квоты своей учетной записи пакетной службы на [портале Azure][portal].

1. Щелкните **Уч. записи пакетной службы** на портале, затем выберите учетную запись пакетной службы, которая вас интересует.
1. Выберите **Свойства** в меню учетной записи пакетной службы.
1. Просмотрите текущие квоты для учетной записи пакетной службы.

    ![Квоты для учетной записи пакетной службы][account_quotas]

## <a name="increase-a-quota"></a>Увеличение квоты

Выполните следующие действия, чтобы запросить увеличение квоты для своей учетной записи или подписки на [портале Azure][portal]. Тип увеличения квоты зависит от режима выделения пула в вашей учетной записи пакетной службы. Чтобы запросить увеличение квоты, необходимо включить серию VM, на которые вы хотели бы увеличить квоту. При применении квоты оно применяется ко всем сериям ВМ.

### <a name="increase-cores-quota-in-batch"></a>Увеличение квоты ядер в пакете 

1. На панели мониторинга портала выберите элемент **Справка и поддержка** или щелкните вопросительный знак (**?**) в правом верхнем углу портала.
1. Выберите **новый запрос на** > поддержку**Основы**.
1. В разделе **Основные сведения**:
   
    а. **Issue Type** > Служба типов и**ограничения подписки (квоты)**
   
    b. Выберите свою подписку.
   
    c. **Quota type** > **Пакет** типа квоты
      
    Нажмите кнопку **Далее**.
    
1. В разделе **Подробные сведения** содержится следующая информация:
      
    а. В **сведениях Provide**укажите местоположение, тип квоты и учетную запись Batch.
    
    ![Увеличение пакетных квот][quota_increase]

    Типы квот включают:

    * **Счет на пакет**  
        Значения, относятся для одной учетной записи пакета, включая выделенные и низкоприоритетные ядра, а также количество заданий и пулов.
        
    * **В регионе**  
        Значения, которые применяются ко всем учетным записям Пакета в регионе и включают количество учетных записей Пакетов в регионе за подписку.

    Квота с низким приоритетом — это единое значение во всех сериях VM. Если вам нужны ограниченные SKUs, необходимо выбрать **ядра с низким приоритетом** и включить в запрос семейств VM.

    b. Выберите **Серьезность** в соответствии с [последствиями для организации][support_sev].

    Нажмите кнопку **Далее**.

1. В разделе **Контактные данные**:
   
    а. Выберите **Preferred contact method**(Предпочтительный способ связи).
   
    b. Проверьте и введите необходимые контактные данные.
   
    Выберите **Создать** для отправки запроса на поддержку.

После отправки запроса служба поддержки Azure свяжется с вами. Запросы на квоты могут быть заполнены в течение нескольких минут или до двух рабочих дней.

## <a name="related-quotas-for-vm-pools"></a>Связанные квоты для пулов виртуальных машин

В пулах пакетной службы в конфигурации виртуальной машины, развернутой в виртуальной сети Azure, дополнительные сетевые ресурсы Azure выделяются автоматически. На каждые 50 узлов пула в виртуальной сети требуются следующие ресурсы:

* Одна [группа сетевой безопасности](../virtual-network/security-overview.md#network-security-groups)
* Один [публичный IP-адрес](../virtual-network/virtual-network-ip-addresses-overview-arm.md)
* Один [балансоровостой нагрузки](../load-balancer/load-balancer-overview.md)

Эти ресурсы выделяются в подписке, которая содержит виртуальную сеть, предоставленную при создании пула пакетной службы. Эти ресурсы ограничены [квотами ресурсов](../azure-resource-manager/management/azure-subscription-service-limits.md) в подписке. Если вы планируете развертывать большие пулы в виртуальной сети, проверьте квоты в подписке для этих ресурсов. При необходимости запросите увеличение квоты на портале Azure, выбрав **Справка и поддержка**.


## <a name="related-topics"></a>Связанные разделы
* [Создание учетной записи Azure Batch с помощью портала Azure](batch-account-create-portal.md)
* [Обзор функций пакетной службы Azure](batch-api-basics.md)
* [Подписка Azure, границы, квоты и ограничения службы](../azure-resource-manager/management/azure-subscription-service-limits.md)

[portal]: https://portal.azure.com
[portal_classic_increase]: https://azure.microsoft.com/blog/2014/06/04/azure-limits-quotas-increase-requests/
[support_sev]: https://aka.ms/supportseverity

[account_quotas]: ./media/batch-quota-limit/accountquota_portal.png
[quota_increase]: ./media/batch-quota-limit/quota-increase.png
