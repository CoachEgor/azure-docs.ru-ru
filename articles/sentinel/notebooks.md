---
title: Поиск возможностей с помощью записных книжек в предварительной версии Sentinel Azure | Документация Майкрософт
description: В этой статье описывается, как использовать записные книжки с возможностями Azure Sentinel поможет при покупке.
services: sentinel
documentationcenter: na
author: rkarlin
manager: rkarlin
editor: ''
ms.assetid: 1721d0da-c91e-4c96-82de-5c7458df566b
ms.service: sentinel
ms.devlang: na
ms.topic: conceptual
ms.custom: mvc
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 2/28/2019
ms.author: rkarlin
ms.openlocfilehash: ffe3ae5b6aa26d154928a74e51864a0574b82c68
ms.sourcegitcommit: 2ce4f275bc45ef1fb061932634ac0cf04183f181
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2019
ms.locfileid: "65228635"
---
# <a name="use-jupyter-notebooks-to-hunt-for-security-threats"></a>Использование записных книжек Jupyter для слежения наличие угроз безопасности

> [!IMPORTANT]
> Сейчас Azure Sentinel предоставляется в общедоступной предварительной версии.
> Эта предварительная версия предоставляется без соглашения об уровне обслуживания и не рекомендована для использования рабочей среде. Некоторые функции могут не поддерживаться или их возможности могут быть ограничены.
> Дополнительные сведения см. в статье [Дополнительные условия использования предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/).

В основе Azure Sentinel лежит хранилище данных; оно объединяет в себе высокую производительность запросов, Динамическая схема и масштабируется для томов данных. На портале Azure Sentinel и все средства Azure Sentinel использовать общий API для доступа к это хранилище данных. Тот же API также доступна для внешних инструментов, таких как [Jupyter](https://jupyter.org/) записных книжек и Python. Хотя многие распространенные задачи могут быть выполнены на портале, Jupyter расширяет рамки что делать с этими данными. Оно объединяет полный программирования с огромной коллекции библиотеки для машины обучения, визуализацию и анализа данных. Эти атрибуты делают Jupyter привлекательным средством для исследования безопасности и поможет при покупке.

![Пример записной книжки](./media/notebooks/sentinel-nb-mapandtimeline.png)

Мы интегрировали в интерфейсе Jupyter на портал Azure Sentinel, упрощая создание и выполнение записные книжки для анализа данных. *Kqlmagic* библиотека предоставляет это связующий элемент позволяет принимать запросы от Azure Sentinel и выполнять их непосредственно в записной книжке. Запросы используют [язык запросов Kusto](https://kusto.azurewebsites.net/docs/query/index.html). Несколько записных книжек, ряд аналитиков по вопросам безопасности корпорации Майкрософт, разработанная упаковываются с помощью Azure Sentinel. Некоторые из этих записных книжек создаются для определенного сценария и могут служить-является. Другие предназначены как примеры для иллюстрации методик и функции, которые можно копировать или адаптировать для использования в собственных записных книжках. Другие записные книжки также могут быть импортированы из сообщества Azure Sentinel GitHub.

Интегрированный интерфейс Jupyter использует [записных книжек Azure](https://notebooks.azure.com/) для хранения, совместного использования и выполнение записных книжек. Можно также запустить эти записные книжки локально (если у вас есть среда Python и Jupyter на компьютере) или в других средах JupterHub, таких как Azure Databricks.

Записные книжки содержат два компонента:

- интерфейс браузера, где ввода и выполнения запросов и кода, и где отображаются результаты выполнения.
- *ядра* , отвечает за синтаксический разбор и выполнение сам код. 

В записных книжках Azure, это ядро выполняется в Azure *бесплатный облачных вычислений и хранения* по умолчанию. Если записных книжек включают сложных машинного обучения модели или визуализации можно использовать более мощными, выделенные вычислительные ресурсы такой как [виртуальные машины для обработки и анализа данных](https://azure.microsoft.com/services/virtual-machines/data-science-virtual-machines/) (DSVM). Располагаются закрытый записных книжек в вашей учетной записи, если вы решили использовать их совместно.

Записные книжки Azure Sentinel использовать многие популярные библиотеки Python pandas, matplotlib, боке и другим пользователям. Существует множество других пакетов Python на ваш выбор, охватывающие такие области, такие как:

- графики и визуализации
- Обработка и анализ данных
- Статистика и числовых вычислений
- машинного обучения и глубокого обучения

Мы также выпустили некоторые средства безопасности открытый Jupyter в пакете с именем [msticpy](https://github.com/Microsoft/msticpy/). Этот пакет используется во многих включены записных книжек. Инструменты Msticpy предназначены специально для того, которые помогут в создании записные книжки для поможет при покупке и исследования и мы активно работаем над новых функций и улучшений.

Начальная записные книжки содержат:

- **Интерактивное исследование — обработка оповещений**: Позволяет быстро рассмотрение оповещений путем анализа активности на затронутых узлах.
- **Интерактивный поиск работы - проводник Windows**: Позволяет исследовать действиям в учетной записи, выполнении процессов, сетевыми операциями и другими событиями на узле.  
- **Интерактивный поиск работы - изучение Office 365**: Слежения для подозрительных действий Office 365 в нескольких наборах данных Office 365.

[Репозитории GitHub для сообщества Azure Sentinel](https://github.com/Azure/Azure-Sentinel) расположение для любой будущих записных книжек Azure Sentinel разработанных корпорацией Microsoft или были получены из сообщества.

## <a name="run-a-notebook"></a>Запуск записной книжки

В следующем примере мы создадим проект записных книжек Azure на портале Azure Sentinel заполнение проекта с записными книжками. Прежде чем использовать эти записные книжки, рекомендуется сделать копию записной книжки и работать на копирование. Работать над копий позволяет безопасно обновить до будущих версий записных книжек без перезаписи данные.

1. На портале Azure Sentinel щелкните **записных книжек** в меню навигации. Чтобы создать новый проект записных книжек Azure, щелкните **записных книжек Sentinel Azure клона** или откройте существующий записные книжки проектов щелкните **перейти к записных книжек**.
  
   ![Выберите записных книжек](./media/notebooks/sentinel-az-notebooks-home.png)

2. Если вы выбрали **записных книжек Sentinel Azure клона** на предыдущем шаге, появится следующее диалоговое окно. Нажмите кнопку **импорта** клонировать репозиторий GitHub в проект записных книжек Azure. Если у вас нет существующей учетной записи записных книжек Azure, вам будет предложено создать его и войдите в систему.

   ![Импорт записной книжки](./media/notebooks/sentinel-nb-signin-and-clone.png)

3. При создании нового проекта, необходимо имя проекта: используйте имя по умолчанию или тип в другую. Не устанавливайте флажок **рекурсивно клона** - этот параметр относится к связанной репозиториев GitHub. Щелкнув **импорта** начинается клонирование содержимого GitHub, что может занять несколько минут.

   ![Импорт записной книжки](./media/notebooks/sentinel-create-nb-project.png)

4. Откройте **записных книжек** просмотрите записных книжек. Каждая записная книжка поможет выполнить шаги для выполнения слежения или исследования. Библиотеки и другие зависимости, необходимые записную книжку можно установить непосредственно в записной или с помощью процедуры простую конфигурацию. Конфигурацию, которая связывает проект записной книжки обратно к подписке Azure Sentinel автоматически подготавливается на предыдущих шагах. Записные книжки готовы выполнять к рабочей области Azure Sentinel Log Analytics.

   ![Импорт репозитория](./media/notebooks/sentinel-open-notebook1.png)

5. Откройте записную книжку. Свободных вычислительных ресурсов выбирается по умолчанию для выполнения записных книжек (выделено). Если вы уже настроили DSVM для использования (см. выше), выберите DSVM и пройти проверку подлинности, прежде чем Notebook Откроется первый. Щелкнуть записную книжку, чтобы открыть его.

   ![Выберите записной книжки](./media/notebooks/sentinel-open-notebook2.png)

6. Выбор версии Python. При первом открытии записной книжки, он может потребоваться выбрать версию ядра. В противном случае выберите ядро, которое используется следующим образом. Python 3.6 или более поздней должно быть выбранного ядра (в правом верхнем углу окна записной книжки).

   ![Выберите записной книжки](./media/notebooks/sentinel-select-kernel.png)

Краткое введение в запросы к данным в Azure Sentinel, см. на [GetStarted](https://github.com/Azure/Azure-Sentinel/blob/master/Notebooks/Get%20Started.ipynb) записной книжки в главной папке записных книжек. Дополнительные примеры записных книжек, которые можно найти в **примеров Notebook** во вложенную папку. Примеры записных книжек были сохранены с данными, так как это проще см. в разделе желаемые выходные данные (рекомендуется просматривать их в [nbviewer](https://nbviewer.jupyter.org/)). **Инструкций** папка содержит записные книжки, описания, например: параметр по умолчанию версию Python, Настройка DSVM, создание Azure Sentinel закладки из записной книжки и субъектами.

Эти записные книжки предназначены как оба полезные средства и в качестве иллюстрации и примеры кода, которые можно использовать при разработке собственных записных книжек.

Мы рады отзывам, ли предложений запросов для функций, влияющая записных книжек, отчеты об ошибках или улучшения и дополнения к существующей записных книжек. Перейдите к [Azure Sentinel сообщества на сайте GitHub](https://github.com/Azure/Azure-Sentinel) создать информацию о проблеме или вилки и загрузить публикацию.

## <a name="next-steps"></a>Дальнейшие действия

В этой статье вы узнали, как приступить к использованию записные книжки Jupyter в Azure Sentinel. Ознакомьтесь с дополнительными сведениями об Azure Sentinel в соответствующих статьях.

- [Заранее слежения для угроз](hunting.md)
- [С помощью закладок можно сохранить интересные сведения при поиск работы](bookmarks.md)