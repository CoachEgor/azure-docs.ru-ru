---
title: Службы данных с поддержкой дуги Azure — заметки о выпуске
description: Последние заметки о выпуске
author: twright-msft
ms.author: twright
ms.reviewer: mikeray
services: azure-arc
ms.service: azure-arc
ms.subservice: azure-arc-data
ms.date: 10/29/2020
ms.topic: conceptual
ms.openlocfilehash: 94074c2c5e11187252084832e5a20a197f6723fd
ms.sourcegitcommit: 6a902230296a78da21fbc68c365698709c579093
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/05/2020
ms.locfileid: "93359822"
---
# <a name="release-notes---azure-arc-enabled-data-services-preview"></a>Заметки о выпуске — службы данных с поддержкой ARC в Azure (Предварительная версия)

[!INCLUDE [azure-arc-data-preview](../../../includes/azure-arc-data-preview.md)]

## <a name="october-2020"></a>Октябрь 2020 г. 

Номер версии Azure Data CLI ( `azdata` ): 20.2.3. Скачайте по адресу [https://aka.ms/azdata](https://aka.ms/azdata) .

### <a name="breaking-changes"></a>Критические изменения

В этом выпуске представлены следующие критические изменения. 

* В определении настраиваемого ресурса PostgreSQL (CRD) термин `shards` переименовывается в `workers` . Этот термин ( `workers` ) соответствует имени параметра командной строки.

* `azdata arc postgres server delete` запрашивает подтверждение перед удалением экземпляра postgres.  Используйте `--force` , чтобы пропустить запрос.

### <a name="additional-changes"></a>Дополнительные изменения

* К вызову был добавлен новый необязательный параметр `azdata arc postgres server create` `--volume-claim mounts` . Значение представляет собой разделенный запятыми список подключений к подключениям к тому. Подключение с утверждением тома — это пара типов томов и ПОСТОЯННЫХ имен. В настоящее время поддерживается только тип тома `backup` .  В PostgreSQL, если тип тома — `backup` , PVC монтируется в `/mnt/db-backups` .  Это обеспечивает общий доступ к резервным копиям между экземплярами PostgresSQL, чтобы можно было восстановить резервную копию одного экземпляра PostgresSQL в другом экземпляре.

* Новые короткие имена для пользовательских определений ресурсов PostgresSQL: 

  * `pg11` 

  * `pg12`

* Передача данных телеметрии предоставляет пользователю одно из следующих действий:

   * Количество точек, отправленных в Azure

     or 

   * Если в Azure не были загружены данные, выводится приглашение повторить попытку.

* `azdata arc dc debug copy-logs` Теперь также считывает из `/var/opt/controller/log` папки и собирает журналы ядра PostgreSQL в Linux.

*   Отображать рабочий индикатор во время создания и восстановления резервной копии с помощью PostgreSQLного масштабирования.

* `azdata arc postrgres backup list` теперь содержит сведения о размере резервной копии.

* Свойство SQL Управляемый экземпляр Admin Name добавлено в столбец "правый" в колонке "Обзор" в портал Azure.

* Azure Data Studio поддерживает настройку количества рабочих узлов, виртуальное ядро и параметров памяти для PostgreSQLного масштабирования. 

* Предварительная версия поддерживает резервное копирование и восстановление для postgres версии 11 и 12.

## <a name="september-2020"></a>Сентябрь 2020 г.

Службы данных, включенные в службу Arc Azure, выпущены для общедоступной предварительной версии. Службы данных с поддержкой Arc позволяют управлять службами данных где угодно.

- Управляемый экземпляр SQL
- Гипермасштабирование PostgreSQL.

Инструкции см. в статье [что такое службы данных с поддержкой дуги Azure?](overview.md)

## <a name="known-limitations-and-issues"></a>Известные ограничения и проблемы

- Имена экземпляров не могут быть длиннее 13 символов
- Нет обновления на месте для контроллера данных ARC в Azure или экземпляров базы данных.
- Образы контейнеров служб данных с поддержкой Arc не подписаны.  Возможно, потребуется настроить узлы Kubernetes так, чтобы разрешить извлечь неподписанные образы контейнера.  Например, если в качестве среды выполнения контейнера используется DOCKER, можно задать переменную среды DOCKER_CONTENT_TRUST = 0 и перезапустить.  Другие среды выполнения контейнеров имеют аналогичные параметры, например в [OpenShift](https://docs.openshift.com/container-platform/4.5/openshift_images/image-configuration.html#images-configuration-file_image-configuration).
- Не удается создать на основе портал Azure службы "Дуга Azure", управляемые экземпляры SQL или группы серверов PostgreSQL.
- Пока вы используете NFS, `allowRunAsRoot` `true` перед созданием контроллера данных ARC в Azure необходимо задать в файле профиля развертывания.
- Только проверка подлинности входа SQL и PostgreSQL.  Отсутствует поддержка Azure Active Directory или Active Directory.
- Создание контроллера данных в OpenShift требует ослабления ограничений безопасности.  Дополнительные сведения см. в документации.
- Если вы используете ядро службы Kubernetes Azure (AKS Engine) в центре Azure Stack с контроллером данных Arc и экземплярами базы данных Azure, обновление до более новой версии Kubernetes не поддерживается. Удалите контроллер данных ARC в Azure и все экземпляры базы данных перед обновлением кластера Kubernetes.
- Служба Azure Kubernetes Service (AKS). в настоящее время кластеры, охватывающие [несколько зон доступности](../../aks/availability-zones.md) , не поддерживаются для служб данных с поддержкой службы "Дуга Azure". Чтобы избежать этой проблемы, при создании кластера AKS в портал Azure при выборе региона, в котором доступны зоны, удалите все зоны из элемента управления выбором. См. следующее изображение:

   :::image type="content" source="media/release-notes/aks-zone-selector.png" alt-text="Снимите флажки для каждой зоны, чтобы указать значение нет.":::


### <a name="known-issues-for-azure-arc-enabled-postgresql-hyperscale"></a>Известные проблемы с PostgreSQLами в службе "Дуга" с поддержкой дуги Azure   

- Предварительный просмотр не поддерживает резервное копирование и восстановление для модуля PostgreSQL версии 11. Он поддерживает только резервное копирование и восстановление для PostgreSQL версии 12.
- `azdata arc dc debug copy-logs` узлах не собираются журналы подсистемы PostgreSQL в Windows.
- Повторное создание группы серверов с именем только что удаленной группы серверов может привести к сбою или перестать отвечать на запросы. 
   - **Обходной путь** Не используйте повторно одно и то же имя при повторном создании группы серверов или при ожидании подсистемы балансировки нагрузки или внешней службы ранее удаленной группы серверов. Предполагая, что имя удаленной группы серверов `postgres01` и она была размещена в пространстве имен `arc` , перед повторной созданием группы серверов с тем же именем подождите, пока `postgres01-external-svc` не отобразится результат выполнения команды kubectl `kubectl get svc -n arc` .
 - Загрузка страницы обзора и страницы конфигурации вычислений и хранилища в Azure Data Studio выполняется очень долго. 



## <a name="next-steps"></a>Следующие шаги
  
> **Хотите попробовать?**  
> Быстро приступите к работе с [Azure Arc](https://github.com/microsoft/azure_arc#azure-arc-enabled-data-services) в службе Azure Kubernetes Service (AKS), AWS Elastic Kubernetes Service (EKS), Google Cloud Kubernetes Engine (GKE) или на виртуальной машине Azure.

[Установка клиентских средств](install-client-tools.md)

[Создание контроллера данных Azure Arc](create-data-controller.md) (сначала необходимо установить клиентские средства)

[Создание управляемого экземпляра SQL Azure в Azure Arc](create-sql-managed-instance.md) (сначала требуется создать контроллер данных Azure Arc)

[Создание группы серверов с уровнем "Гипермасштабирование" Базы данных Azure для PostgreSQL в Azure Arc ](create-postgresql-hyperscale-server-group.md) (сначала необходимо создать контроллер данных Azure Arc)
