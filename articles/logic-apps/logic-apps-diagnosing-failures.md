---
title: Устранение неполадок и диагностика сбоев рабочих процессов
description: Узнайте, как устранять неполадки, ошибки и сбои в рабочих процессах в Azure Logic Apps
services: logic-apps
ms.suite: integration
ms.reviewer: klam, logicappspm
ms.topic: article
ms.date: 10/15/2017
ms.openlocfilehash: 79cc9d1bf7aa9e8848197525646b0a3646a558d2
ms.sourcegitcommit: ff9688050000593146b509a5da18fbf64e24fbeb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/06/2020
ms.locfileid: "75666811"
---
# <a name="troubleshoot-and-diagnose-workflow-failures-in-azure-logic-apps"></a>Диагностика и устранение сбоев рабочих процессов в Azure Logic Apps

Приложение логики создает сведения, которые помогут вам диагностировать и отладить проблемы в приложении. Произвести диагностику приложения логики можно, просмотрев каждый шаг в рабочем процессе на портале Azure. Или можно добавить определенные шаги в рабочий процесс для отладки во время выполнения.

## <a name="review-trigger-history"></a>Просмотр журнала триггера

Каждое приложение логики запускается триггером. Если триггер не срабатывает, сначала проверьте журнал триггера. Этот журнал содержит все попытки активации, предпринятые приложением логики, а также сведения о входных и выходных данных для каждой попытки активации.

1. Чтобы проверить, активировался ли триггер, в меню приложения логики выберите **Обзор**. В разделе **Журнал триггеров** просмотрите состояние триггера.

   > [!TIP]
   > Если меню приложения логики не отображается, попробуйте вернуться к панели мониторинга Azure и повторно откройте приложение логики.

   ![Просмотр журнала триггера](./media/logic-apps-diagnosing-failures/logic-app-trigger-history-overview.png)

   > [!TIP]
   > * Если вы не нашли ожидаемые данные, попробуйте щелкнуть **Обновить** на панели инструментов.
   > * Если список содержит много попыток активации и вам не удается найти нужную запись, попытайтесь отфильтровать список.

   Ниже приведены возможные состояния для попытки активации.

   | Состояние | Description | 
   | ------ | ----------- | 
   | **Успешно** | Триггер проверил конечную точку и нашел доступные данные. Как правило, рядом с этим состоянием также отображается состояние "Срабатывания". Если это не так, возможно, определение триггера содержит какое-либо условие или команду `SplitOn`, которая не была выполнена. <p>Это состояние может применяться к запускаемому вручную триггеру, а также повторяющему или опрашивающему триггеру. Триггер может быть успешно запущен, но сам запуск по-прежнему может завершиться ошибкой, если действия порождают необработанные ошибки. | 
   | **Пропущено** | Триггер проверил конечную точку, но не нашел данные. | 
   | **Сбой** | Произошла ошибка. Чтобы просмотреть созданные сообщения об ошибках для триггера, завершившегося сбоем, выберите соответствующую попытку активации и щелкните **Выходные данные**. Например, вы можете обнаружить недопустимые входные данные. | 
   ||| 

   Возможно, в журнале окажется несколько записей активации с одинаковыми датой и временем. Это происходит, когда приложение логики находит несколько элементов. 
   При каждой активации триггера обработчик Logic Apps создает экземпляр приложения логики для выполнения рабочего процесса. По умолчанию все экземпляры выполняются параллельно, чтобы ни один рабочий процесс не ожидал запуска.

   > [!TIP]
   > Триггер можно проверить, не дожидаясь следующего повторения. На панели инструментов "Обзор" щелкните **Запустить триггер** и выберите триггер, который запускает проверку. Или щелкните **Запустить** на панели инструментов конструктора приложений логики.

3. Чтобы просмотреть сведения о попытке активации, в разделе **Журнал триггеров** выберите попытку активации. 

   ![Выбор попытки активации](./media/logic-apps-diagnosing-failures/logic-app-trigger-history.png)

4. Просмотрите входные данные и выходные данные, которые созданы триггером. В выходных данных триггера отображаются данные, которые поступают от триггера. Они помогут разобраться, все ли свойства возвращаются так, как требуется.

   > [!NOTE]
   > Если вы не понимаете какое-либо содержимое, узнайте, как Azure Logic Apps [обрабатывает разные типы содержимого](../logic-apps/logic-apps-content-type.md).

   ![Выходные данные триггера](./media/logic-apps-diagnosing-failures/trigger-outputs.png)

## <a name="review-run-history"></a>Просмотр журнала выполнения

Каждая активация триггера запускает выполнение рабочего процесса. Можно просмотреть, что произошло во время этого выполнения, включая состояние каждого шага в рабочем процессе, а также входные и выходные данные для каждого шага.

1. В меню приложения логики щелкните **Обзор**. В разделе **Журнал запусков** просмотрите сведения о выполнении для активированного триггера.

   > [!TIP]
   > Если меню приложения логики не отображается, попробуйте вернуться к панели мониторинга Azure и повторно откройте приложение логики.

   ![Просмотр журнала запусков](./media/logic-apps-diagnosing-failures/logic-app-runs-history-overview.png)

   > [!TIP]
   > * Если вы не нашли ожидаемые данные, попробуйте щелкнуть **Обновить** на панели инструментов.
   > * Если список содержит много выполнений и вам не удается найти нужную запись, попытайтесь отфильтровать список.

   Ниже приведены возможные состояния для выполнения.

   | Состояние | Description | 
   | ------ | ----------- | 
   | **Успешно** | Все действия выполнены успешно. <p>Если при выполнении определенного действия возникли какие-либо ошибки, следующее действие в рабочем процессе обработало их. | 
   | **Сбой** | Не удалось выполнить по крайней мере одно действие, и последующие действия в рабочем процессе были настроены для обработки ошибки. | 
   | **Отменено** | Рабочий процесс был запущен, но получил запрос на отмену. | 
   | **Выполнение** | Рабочий процесс выполняется в данный момент. <p>Это состояние может возникнуть в регулируемых рабочих процессах или в рамках текущего тарифного плана. Чтобы узнать больше, ознакомьтесь с [ограничениям действий на странице цен](https://azure.microsoft.com/pricing/details/logic-apps/). В случае настройки [журнала ведения диагностики](../logic-apps/logic-apps-monitor-your-logic-apps.md) можно также получить сведения о любых событиях регулирования, которые происходят. | 
   ||| 

2. Просмотрите сведения о каждом шаге определенного выполнения. В разделе **Журнал запусков** выберите выполнение, которое вы хотите проверить.

   ![Просмотр журнала запусков](./media/logic-apps-diagnosing-failures/logic-app-run-history.png)

   Вне зависимости от того, успешно или нет осуществлено выполнение, представление "Сведения о запуске" отображает каждый шаг и указывает, был ли он успешно выполнен или завершен сбоем.

   ![Просмотр сведений о выполнении приложения логики](./media/logic-apps-diagnosing-failures/logic-app-run-details.png)

3. Чтобы изучить входные данные, выходные данные и сообщения об ошибках для определенного шага, выберите этот шаг, чтобы фигура развернулась и отобразила подробные сведения. Пример.

   ![Просмотр сведений о действии](./media/logic-apps-diagnosing-failures/logic-app-run-details-expanded.png)

## <a name="perform-runtime-debugging"></a>Отладка времени выполнения

Чтобы упростить отладку, можно добавить диагностические шаги в рабочий процесс, а также просмотреть журнал триггера и журнал запусков. Например, можно добавить шаги, использующие службу [Webhook Tester](https://webhook.site/), чтобы можно было проверять HTTP-запросы и определять их точный размер, форму и формат.

1. Посетите сайт [Webhook Tester](https://webhook.site/) и скопируйте созданный уникальный URL-адрес.

2. Добавьте в приложение логики действие HTTP POST с текстом запроса, который необходимо протестировать (например, выражение, выходные данные другого шага и т. д.).

3. Вставьте URL-адрес для службы Webhook Tester в действие HTTP POST.

4. Выполните приложение логики и обновите Webhook Tester, чтобы увидеть, как обработчик Logic Apps создавал запрос.

## <a name="next-steps"></a>Дальнейшие действия

[Мониторинг приложения логики](../logic-apps/logic-apps-monitor-your-logic-apps.md)
