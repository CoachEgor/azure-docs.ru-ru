---
title: Создание автоматизированного рабочего процесса интеграции
description: Краткое руководство. Создание первого автоматизированного рабочего процесса с помощью Azure Logic Apps для решений интеграции систем и корпоративных приложений (EAI)
services: logic-apps
ms.suite: integration
ms.reviewer: logicappspm
ms.topic: quickstart
ms.custom: mvc
ms.date: 07/23/2020
ms.openlocfilehash: 980e3e036257bbf5aa9743025bbfb55065176a39
ms.sourcegitcommit: 0e8a4671aa3f5a9a54231fea48bcfb432a1e528c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/24/2020
ms.locfileid: "87133305"
---
# <a name="quickstart-create-your-first-automated-integration-workflow-by-using-azure-logic-apps---azure-portal"></a>Краткое руководство. Создание первого автоматизированного рабочего процесса интеграции с помощью Azure Logic Apps — портал Azure

В этом кратком руководстве рассматриваются основные принципы создания первого рабочего процесса с помощью [Azure Logic Apps](logic-apps-overview.md), например создание пустого приложения логики, добавление триггера и действия и последующее тестирование приложения логики. Здесь рассказывается о том, как создать приложение логики, которое регулярно проверяет RSS-канал веб-сайта на наличие новых элементов. Если они есть, приложение логики отправляет сообщение электронной почты для каждого из них. По завершении приложение логики будет выглядеть как этот высокоуровневый рабочий процесс:

![Концептуальное изображение, на котором показан пример рабочего процесса приложения логики в целом](./media/quickstart-create-first-logic-app-workflow/quickstart-workflow-overview.png)

Для выполнения данного сценария необходима подписка Azure (вы можете [зарегистрироваться для получения бесплатной учетной записи Azure](https://azure.microsoft.com/free/?WT.mc_id=A261C142F)), учетная запись электронной почты в службе, поддерживаемой Azure Logic Apps, например Office 365 Outlook, Outlook.com или Gmail. Сведения о других поддерживаемых службах электронной почты см. в [приведенном здесь списке соединителей](/connectors/). В этом примере приложение логики использует учетную запись Office 365 Outlook. Если вы используете другую службу электронной почты, действия в целом будут теми же, но пользовательский интерфейс может немного отличаться.

> [!IMPORTANT]
> Только учетные записи для бизнеса G-Suite могут использовать соединитель Gmail без ограничений в приложениях логики. Если у вас есть учетная запись потребителя Gmail, вы можете использовать этот соединитель только с определенными утвержденными Google службами. Кроме того, вы можете [создать клиентское приложение Google, которое будет использоваться для проверки подлинности в соединителе Gmail](/connectors/gmail/#authentication-and-bring-your-own-application). Дополнительные сведения см. в статье [Политики безопасности и конфиденциальности данных для соединителей Google в Azure Logic Apps](../connectors/connectors-google-data-security-privacy-policy.md).

## <a name="create-your-logic-app"></a>Создание приложения логики

1. Войдите на [портал Azure](https://portal.azure.com) с помощью учетных данных учетной записи Azure.

1. В поле поиска на портале Azure введите строку `logic apps` и выберите **Logic Apps**.

   ![Снимок экрана, на котором показано поле поиска на портале Azure, в котором в качестве условия поиска введено "logic apps", а в качестве результата поиска выделен пункт "Logic Apps".](./media/quickstart-create-first-logic-app-workflow/find-select-logic-apps.png)

1. На странице **Logic Apps** нажмите **Добавить**.

   ![Снимок экрана, на котором показан список приложений логики и выделена кнопка "Добавить".](./media/quickstart-create-first-logic-app-workflow/add-new-logic-app.png)

1. В области **Приложение логики** предоставьте сведения о приложении логики, как показано ниже.

   ![Снимок экрана, на котором показана область создания приложения логики с подробными сведениями о нем.](./media/quickstart-create-first-logic-app-workflow/create-logic-app-settings.png)

   | Свойство | Значение | Описание |
   |----------|-------|-------------|
   | **имя**; | <*logic-app-name*> | Имя приложения логики, которое должно быть уникальным во всех регионах и может содержать только буквы, цифры, дефисы (`-`), символы подчеркивания (`_`), круглые скобки (`(`, `)`) и точки (`.`). В этом примере используется имя My-First-Logic-App. |
   | **Подписка** | <*Azure-subscription-name*> | Имя подписки Azure. |
   | **Группа ресурсов** | <*имя_группы_ресурсов_Azure*> | Имя [группы ресурсов Azure](../azure-resource-manager/management/overview.md), которое должно быть уникальным во всех регионах и используется для упорядочения связанных ресурсов. В этом примере используется имя My-First-LA-RG. |
   | **Расположение** | <*Azure-region*> | Регион для хранения данных приложения логики. В этом примере используется регион "Западная часть США". |
   | **Служба Log Analytics** | Выкл. | Сохраните параметр **Выкл.** для журнала ведения диагностики. |
   ||||

1. Когда все будет готово, выберите **Просмотр и создание**. Подтвердите указанные сведения и выберите **Создать**.

1. После успешного развертывания приложения Azure выберите **Перейти к ресурсу**.

   ![Снимок экрана со страницей развертывания ресурсов и выделенной кнопкой "Перейти к ресурсу"](./media/quickstart-create-first-logic-app-workflow/go-to-new-logic-app-resource.png)

   Вы также можете найти и выбрать приложение логики, введя его имя в поле поиска.

   Открывается конструктор Logic Apps и отображается страница с вводным видео и часто используемыми триггерами. В разделе **Шаблоны** выберите **Пустое приложение логики**.

   ![Снимок экрана, на котором показана коллекция шаблонов конструктора Logic Apps и выделен шаблон "Пустое приложение логики"](./media/quickstart-create-first-logic-app-workflow/choose-logic-app-template.png)

Затем добавьте [триггер](../logic-apps/logic-apps-overview.md#logic-app-concepts), который срабатывает при появлении нового элемента RSS-канала. Каждое приложение логики должно запускаться по триггеру, который активируется, когда происходит определенное событие или если выполняются заданные условия. При каждом срабатывании триггера обработчик Azure Logic Apps создает экземпляр приложения логики, запускающий и выполняющий рабочий процесс.

<a name="add-rss-trigger"></a>

## <a name="add-the-rss-trigger"></a>Добавление триггера RSS

1. В **конструкторе приложений логики** под полем поиска выберите **Все**.

1. Чтобы найти соединитель RSS, в поле поиска введите `rss`. В списке триггеров выберите триггер RSS **При публикации элемента веб-канала**.

   ![Снимок экрана, на котором показан конструктор Logic Apps с "rss" в поле поиска и выделенным триггером "При публикации элемента веб-канала".](./media/quickstart-create-first-logic-app-workflow/add-rss-trigger-new-feed-item.png)

1. Укажите следующие сведения:

   ![Снимок экрана, на котором показан конструктор Logic Apps с параметрами триггера RSS, в том числе URL-адресом RSS, частотой и интервалом](./media/quickstart-create-first-logic-app-workflow/add-rss-trigger-settings.png)

   | Свойство | Значение | Описание |
   |----------|-------|-------------|
   | **URL-адрес RSS-канала** | <*RSS-feed-URL*> | Ссылка для RSS-канала, который вы хотите отслеживать. В этом примере используется RSS-канал Wall Street Journal с адресом `https://feeds.a.dj.com/rss/RSSMarketsMain.xml`, но при необходимости вы можете использовать URL-адрес собственного RSS-канала. |
   | **Интервал** | 1 | Количество интервалов ожидания между проверками. |
   | **Частота** | Минута | Единица измерения времени для каждого интервала между проверками |
   ||||

   Совместно интервал и частота определяют расписание для триггера приложения логики. Это приложение логики проверяет веб-канал каждую минуту.

1. Чтобы свернуть сведения о триггере, щелкните внутри заголовка окна триггера.

   ![Снимок экрана, на котором показан конструктор Logic Apps со свернутой фигурой приложения логики](./media/quickstart-create-first-logic-app-workflow/collapse-trigger-shape.png)

1. Сохраните приложение логики. На панели инструментов конструктора щелкните **Сохранить**.

Теперь приложение логики активно, но оно только проверяет RSS-канал. Итак, добавим действие, отвечающее при срабатывании триггера.

## <a name="add-the-send-email-action"></a>Добавление действия "отправить сообщение"

Теперь добавьте [действие](../logic-apps/logic-apps-overview.md#logic-app-concepts), которое отправляет сообщение электронной почты, когда в RSS-канале появляется новый элемент.

1. В разделе триггера **При публикации элемента веб-канала** выберите **Новый шаг**.

   ![Снимок экрана, на котором показан конструктор Logic Apps с кнопкой "Новый шаг"](./media/quickstart-create-first-logic-app-workflow/add-new-step-under-trigger.png)

1. В разделе **Выберите действие** под полем поиска выберите **Все**.

1. В поле поиска введите `send an email`, чтобы найти соединители, которые предлагают это действие. Чтобы отфильтровать список действий для определенного приложения или службы, можно сначала выбрать это приложение или службу.

   Например, если вы используете рабочую или учебную учетную запись Майкрософт и хотите использовать Office 365 Outlook, выберите **Office 365 Outlook**. Если вы используете личную учетную запись Майкрософт, можно выбрать Outlook.com. Далее в этом примере используется Office 365 Outlook.

   ![Снимок экрана, на котором показан конструктор Logic Apps и выбран соединитель Office 365 Outlook](./media/quickstart-create-first-logic-app-workflow/select-connector.png)

   Теперь можно легко найти и выбрать требуемое действие, например `send an email`.

   ![Снимок экрана, на котором показан конструктор Logic Apps и список с отфильтрованными действиями](./media/quickstart-create-first-logic-app-workflow/filtered-actions-list.png)

1. Если выбранный соединитель электронной почты запрашивает аутентификацию удостоверения, выполните этот шаг сейчас, чтобы создать подключение между приложением логики и службой электронной почты.

   > [!NOTE]
   > В этом конкретном примере предполагается, что вы вручную выполните аутентификацию удостоверения. Однако соединители, требующие аутентификации, поддерживают различные ее типы. Кроме того, вы можете настроить способ, которым требуется выполнять аутентификацию. Например, при использовании шаблонов Azure Resource Manager для развертывания можно параметризовать и улучшить защиту входных данных, если их требуется часто или легко изменять, например сведения о соединении. Дополнительные сведения см. в следующих статьях:
   >
   > * [Параметры шаблона для развертывания](../logic-apps/logic-apps-azure-resource-manager-templates-overview.md#template-parameters)
   > * [Авторизация подключений OAuth](../logic-apps/logic-apps-deploy-azure-resource-manager-templates.md#authorize-oauth-connections)
   > * [Аутентификация для доступа на основе управляемых удостоверений](../logic-apps/create-managed-service-identity.md)
   > * [Аутентификация для подключения при развертывании приложения логики](../logic-apps/logic-apps-azure-resource-manager-templates-overview.md#authenticate-connections)

1. На странице действия **Отправить сообщение электронной почты** укажите сведения, которые нужно добавить в электронное письмо.

   1. В поле **Кому** введите адрес электронной почты получателя. Для тестировании можно использовать свой адрес.

      Пока проигнорируйте появившийся список **Add dynamic content** (Добавить динамическое содержимое). Если щелкнуть внутри некоторых текстовых полей, появится список доступных результатов выполнения предыдущего шага, которые можно включить в качестве входных данных для текущего действия.

   1. В поле **Тема** введите следующий текст с пробелом: `New RSS item: `.

      ![Снимок экрана, на котором показан конструктор Logic Apps с действием "Отправить сообщение электронной почты" и курсором в поле свойства "Тема".](./media/quickstart-create-first-logic-app-workflow/send-email-subject.png)

   1. В списке **Добавить динамическое содержимое** выберите элемент **Название веб-канала**, являющийся выходными данными триггера "При публикации элемента веб-канала", который предоставляет название элемента RSS.

      ![Снимок экрана, на котором показан конструктор Logic Apps с действием "Отправить сообщение электронной почты", курсором в поле свойства "Тема", открытым динамическим списком содержимого и выбранным результатом "Название веб-канала".](./media/quickstart-create-first-logic-app-workflow/send-email-subject-dynamic-content.png)

      > [!TIP]
      > Если в списке динамического содержимого рядом с названием действия не отображаются выходные данные триггера "При публикации элемента веб-канала", выберите **Подробнее**.
      > 
      > ![Снимок экрана, на котором показан конструктор Logic Apps с открытым списком динамического содержимого и выделенным элементом "Подробнее" рядом с триггером](./media/quickstart-create-first-logic-app-workflow/dynamic-content-list-see-more-actions.png)

      В конечном итоге тема сообщения будет выглядеть примерно так:

      ![Снимок экрана, на котором показан конструктор Logic Apps с действием "Отправить сообщение электронной почты" и примером темы электронного сообщения, содержащей свойство "Название веб-канала"](./media/quickstart-create-first-logic-app-workflow/send-email-feed-title.png)

      Если в конструкторе появляется цикл "For each", выберите маркер, содержащий массив, например маркер **categories-Item**. Для этих типов маркеров конструктор автоматически добавляет цикл к действию, которое ссылается на конкретный маркер. Таким образом приложение логики будет выполнять это действие для каждого элемента массива. Чтобы удалить цикл, нажмите кнопку с **многоточием** ( **...** ) на панели заголовка цикла, а затем выберите **Удалить**.

   1. В поле **Тело** введите текст и выберите необходимые маркеры для тела сообщения электронной почты. Чтобы добавить пустые строки в поле редактирования, нажмите Shift + ВВОД.

      ![Снимок экрана, на котором показан конструктор Logic Apps с действием "Отправить сообщение электронной почты" и выбранными свойствами в поле "Body"](./media/quickstart-create-first-logic-app-workflow/send-email-body.png)

      | Свойство | Описание |
      |----------|-------------|
      | **Название веб-канала** | Заголовок элемента |
      | **Веб-канал опубликован** | Время и дата публикации элемента |
      | **Ссылка основного веб-канала** | URL-адрес для элемента |
      |||

1. Сохраните приложение логики.

Затем проверьте приложение логики.

## <a name="run-your-logic-app"></a>Запуск приложения логики

Чтобы вручную запустить приложение логики, на панели инструментов конструктора щелкните **Запустить**. Или дождитесь, пока приложение логики проверит веб-канал RSS по указанному расписанию (каждую минуту).

![Снимок экрана, на котором показан конструктор Logic Apps с кнопкой "Выполнить", выделенной на его панели инструментов](./media/quickstart-create-first-logic-app-workflow/run-logic-app-test.png)

Если в RSS-канале есть новые элементы, приложение логики отправляет сообщение электронной почты для каждого нового элемента. В противном случае приложение логики ожидает до следующего интервала перед повторной проверкой. Если сообщения электронной почты не приходят, проверьте папку нежелательной почты.

Например, ниже приведен образец сообщения электронной почты, которое отправляет это приложение логики.

![Снимок экрана с образцом сообщения электронной почты, полученным при появлении нового элемента "RSS-канал"](./media/quickstart-create-first-logic-app-workflow/monitor-rss-feed-email.png)

Технически, когда триггер проверяет RSS-канал и находит новые элементы, он срабатывает, и подсистема Azure Logic Apps создает для приложения логики экземпляр рабочего процесса, в котором выполняются действия. Если триггер не находит новые элементы, он не срабатывает и "пропускает" создание экземпляра рабочего процесса.

Поздравляем, вы успешно создали и запустили свое первое приложение логики с помощью портала Azure.

## <a name="clean-up-resources"></a>Очистка ресурсов

Если этот образец больше не нужен, удалите группу ресурсов, содержащую приложение логики и связанные ресурсы.

1. В поле поиска Azure введите `resource groups`, а затем выберите **Группы ресурсов**.

   ![Снимок экрана, на котором показано поле поиска портала Azure с условием поиска "группы ресурсов".](./media/quickstart-create-first-logic-app-workflow/find-resource-groups.png)

1. Найдите и выберите группу ресурсов приложения логики. На вкладке **Обзор** выберите **Удалить группу ресурсов**.

   ![Снимок экрана, на котором показан портал Azure с выделенной группой ресурсов и кнопкой "Удалить группу ресурсов"](./media/quickstart-create-first-logic-app-workflow/delete-resource-group.png)

1. Когда отобразится панель подтверждения, введите имя группы ресурсов и выберите **Удалить**.

   ![Снимок экрана, на котором показан портал Azure с областью подтверждения и введенным именем удаляемой группы ресурсов](./media/quickstart-create-first-logic-app-workflow/delete-resource-group-2.png)

> [!NOTE]
> При удалении приложения логики новые экземпляры запуска не создаются. Всех выполняющиеся и ожидающие выполнения запуски будут отменены. При наличии тысяч операций запуска отмена может занять значительное время.

## <a name="next-steps"></a>Дальнейшие действия

В этом кратком руководстве вы создали свое первое приложение логики, которое проверяет наличие обновлений RSS на основе заданного расписания (каждую минуту) и выполняет действие (отправляет электронные сообщения) при наличии обновлений. Для получения дополнительных сведений продолжите роботу с указанным ниже руководством по созданию более сложных рабочих процессов, которые выполняются по расписанию.

> [!div class="nextstepaction"]
> [Проверка загрузки дорог при помощи приложения логики на основе планировщика](../logic-apps/tutorial-build-schedule-recurring-logic-app-workflow.md)
