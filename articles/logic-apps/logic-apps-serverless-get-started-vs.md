---
title: Создавайте бессерверные приложения с помощью Azure Logic Apps и функции Azure в Visual Studio
description: Создавать, развертывать и управлять первое бессерверное приложение с помощью Azure Logic Apps и функции Azure в Visual Studio
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ecfan
ms.author: estfan
ms.reviewer: klam, LADocs
ms.custom: vs-azure
ms.topic: article
ms.date: 06/20/2019
ms.openlocfilehash: b7af4fc731d01bb666165655baa2f1d6c64d4071
ms.sourcegitcommit: f56b267b11f23ac8f6284bb662b38c7a8336e99b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/28/2019
ms.locfileid: "67444866"
---
# <a name="build-your-first-serverless-app-by-using-azure-logic-apps-and-azure-functions-in-visual-studio"></a>Создайте свое первое бессерверное приложение с помощью Azure Logic Apps и функции Azure в Visual Studio

Вы можно быстро разрабатывать и развертывать облачные приложения с помощью беcсерверные средства и возможности в Azure, такие как [Azure Logic Apps](../logic-apps/logic-apps-overview.md) и ["функции Azure"](../azure-functions/functions-overview.md). В этой статье показано, как в Visual Studio приступить к созданию бессерверного приложения на основе приложения логики, которое вызывает функцию Azure. Дополнительные сведения о бессерверных решениях в Azure см. в статье [Обзор бессерверных компонентов Azure с функциями и Logic Apps](../logic-apps/logic-apps-serverless-overview.md).

## <a name="prerequisites"></a>Технические условия

Чтобы Создание бессерверного приложения в Visual Studio, вам потребуется:

* Подписка Azure. Если у вас еще нет подписки Azure, [зарегистрируйтесь для получения бесплатной учетной записи Azure](https://azure.microsoft.com/free/).

* Следующие средства. Если у вас их еще нет, загрузите и установите их.

  * [Visual Studio 2019 г., 2017 или 2015 (Community или другой выпуск)](https://aka.ms/download-visual-studio). 
  В этом кратком руководстве используется бесплатная версия Visual Studio Community 2017.

    > [!IMPORTANT]
    > При установке Visual Studio 2019 или 2017 обязательно выберите рабочую нагрузку **разработки Azure**.

  * [Microsoft Azure SDK для .NET (версия 2.9.1 или более поздней версии)](https://azure.microsoft.com/downloads/). 
  Дополнительные сведения о [пакете Azure SDK для .NET](https://docs.microsoft.com/dotnet/azure/dotnet-tools?view=azure-dotnet).

  * [Azure PowerShell](https://github.com/Azure/azure-powershell#installation).

  * Средства Azure Logic Apps для необходимой версии Visual Studio:

    * [Visual Studio 2019](https://aka.ms/download-azure-logic-apps-tools-visual-studio-2019)

    * [Visual Studio 2017](https://aka.ms/download-azure-logic-apps-tools-visual-studio-2017)

    * [Visual Studio 2015](https://aka.ms/download-azure-logic-apps-tools-visual-studio-2015)
  
    Вы можете скачать и установить средства Azure Logic Apps напрямую из Visual Studio Marketplace или узнать, [как установить это расширение из Visual Studio](https://docs.microsoft.com/visualstudio/ide/finding-and-using-visual-studio-extensions). 
    После завершения установки перезагрузите Visual Studio.

  * [Основные инструменты службы функции Azure](https://www.npmjs.com/package/azure-functions-core-tools) для локальной отладки функций.

* Доступ к Интернету при использовании встроенного конструктора приложений логики.

  Конструктору требуется подключение к Интернету, чтобы создать ресурсы в Azure и считать свойства и данные из соединителей в приложении логики. 
  Например, если вы используете соединитель Dynamics CRM Online, конструктор проверяет экземпляр CRM и получает информацию для отображения доступных свойств по умолчанию и пользовательских свойств.

## <a name="create-a-resource-group-project"></a>Создание проекта группы ресурсов

Чтобы начать работу, создайте для бессерверного приложения [проект группы ресурсов Azure](../azure-resource-manager/vs-azure-tools-resource-groups-deployment-projects-create-deploy.md). В Azure, создавать ресурсы в *группы ресурсов*, который — это логическая коллекция, используйте для организации, управления и развертывания ресурсов для всего приложения, как единый ресурс. Группа ресурсов для бессерверного приложения в Azure содержит ресурсы для Azure Logic Apps и службы "Функции Azure". Узнайте больше о [группах ресурсов Azure и ресурсах](../azure-resource-manager/resource-group-overview.md).

1. Запустите Visual Studio и войдите, используя учетную запись Azure.

1. В меню **Файл** выберите **Создать** > **Проект**.

   ![Создание проекта в Visual Studio](./media/logic-apps-serverless-get-started-vs/create-new-project-visual-studio.png)

1. В разделе **Установленные** выберите **Visual C#** или **Visual Basic**. Выберите **Cloud** > **группы ресурсов Azure**.

   > [!NOTE]
   > Если **Cloud** категории или **группы ресурсов Azure** проекта не существует, убедитесь, что вы установили пакет Azure SDK для Visual Studio.

   Если вы используете Visual Studio 2019, сделайте следующее:

   1. В **создайте новый проект** выберите **группы ресурсов Azure** шаблон проекта для любого визуального C# или Visual Basic, а затем выберите **Далее**.

   1. Укажите имя и другие сведения о проекте, который вы хотите использовать для группы ресурсов Azure. Когда все будет готово, выберите **Создать**.

1. Присвойте проекту имя и расположение, а затем выберите **ОК**.

   Visual Studio предложит выбрать шаблон из списка шаблонов. 
   В этом примере используется шаблон быстрого запуска Azure, таким образом, чтобы можно было создать бессерверное приложение, которое включает в себя приложение логики и вызова функции Azure.

   > [!TIP]
   > В сценариях, где вы не хотите заранее развертывать решения в группе ресурсов Azure, можно использовать пустую **приложение логики** шаблона, который просто создает пустое приложение логики.

1. Из **Показать шаблоны из этого расположения** выберите **быстрого запуска Azure (github.com/Azure/azure-quickstart-templates)** .

1. В поле поиска введите «приложение логики» в качестве фильтра. В результатах выберите **101-logic-app-and-function-app** шаблона.

   ![Выберите шаблон быстрого запуска Azure](./media/logic-apps-serverless-get-started-vs/select-template.png)

   Visual Studio создаст и откроет решение для проекта группы ресурсов. 
   Выбранный шаблон быстрого запуска Azure создает шаблон развертывания, с именем azuredeploy.json внутри проекта группы ресурсов. Этот шаблон развертывания включает определение простое приложение логики запускается с помощью запроса HTTP, вызывает функцию Azure и возвращает результат в виде HTTP-ответа.

   ![Новое бессерверное решение](./media/logic-apps-serverless-get-started-vs/create-serverless-solution.png)

1. Затем можно разверните решение в Azure. Это необходимо сделать до можно открыть шаблон развертывания и ознакомьтесь с ресурсами для вашего бессерверного приложения.

## <a name="deploy-your-solution"></a>Развертывание решения

Прежде чем открыть приложения логики в конструкторе приложений логики в Visual Studio, необходимо иметь группу ресурсов Azure, которая уже развернута в Azure. Это позволит конструктору создавать подключения к ресурсам и службам из приложения логики. Для выполнения этой задачи выполните следующие действия для развертывания решения в Visual Studio на портал Azure.

1. В обозревателе решений щелкните проект ресурсов контекстном меню выберите **развернуть** > **New**.

   ![Создание развертывания для группы ресурсов](./media/logic-apps-serverless-get-started-vs/deploy.png)

1. Если они еще не выделены, выберите свою подписку Azure и группы ресурсов, к которому вы хотите развернуть. Выберите **развернуть**.

   ![Параметры развертывания](./media/logic-apps-serverless-get-started-vs/deploy-to-resource-group.png)

1. Если **изменить параметры** появится поле, укажите имена ресурсов для приложения логики и приложения-функции Azure во время развертывания, а затем сохраните параметры. Используйте для приложения-функции глобально уникальное имя.

   ![Ввод имен для приложения логики и приложения-функции](./media/logic-apps-serverless-get-started-vs/logic-function-app-name-parameters.png)

   Когда Visual Studio запускает развертывание решения в указанной группе ресурсов, состояние этого развертывания отображается в **окне вывода** Visual Studio. 
   После завершения развертывания приложение логики активируется на портале Azure.

## <a name="edit-your-logic-app-in-visual-studio"></a>Изменение приложения логики в Visual Studio

Чтобы изменить приложение логики после развертывания, откройте приложение логики с помощью конструктора приложений логики в Visual Studio.

1. В обозревателе решений в контекстном меню файла azuredeploy.json, выберите **открыть с помощью конструктора приложений логики**.

   ![Откройте файл azuredeploy.json в конструкторе приложений логики](./media/logic-apps-serverless-get-started-vs/open-logic-app-designer.png)

   > [!TIP]
   > Если у вас нет этой команды в Visual Studio 2019 г., проверьте, что установлены последние обновления для Visual Studio.

1. После **свойства приложения логики** появится окно, в разделе **подписки**, выберите свою подписку Azure, если он еще не установлен. В разделе **группы ресурсов**, выберите группу ресурсов и расположение, в котором развертывается решение, а затем выберите **ОК**.

   ![Свойства приложения логики](./media/logic-apps-serverless-get-started-vs/logic-app-properties.png)

   В открывшемся окне конструктора приложений логики вы можете добавить новые действия или изменить рабочий процесс, а затем сохранить изменения.

   ![Открытое приложение логики в конструкторе приложений логики](./media/logic-apps-serverless-get-started-vs/opened-logic-app.png)

## <a name="create-your-azure-functions-project"></a>Создание проекта функций Azure

Чтобы создать проект функции и функции с помощью JavaScript, Python, F#, PowerShell, пакет или Bash, выполните действия, описанные в [работать с основных инструментов функций Azure](../azure-functions/functions-run-local.md). Для разработки функции Azure с помощью C# внутри решения, используйте C# библиотеки классов, выполнив действия, описанные в [публикации библиотеку классов .NET в качестве приложения-функции](https://blogs.msdn.microsoft.com/appserviceteam/2017/03/16/publishing-a-net-class-library-as-a-function-app/).

## <a name="deploy-functions-from-visual-studio"></a>Развертывание функций из Visual Studio

Шаблон развертывания развертывает все функции Azure, которые имеются в решении из репозитория Git, который задается параметром переменных в файле azuredeploy.json. Если вы создаете и Создание проекта функций в вашем решении, можно проверить этот проект в систему управления версиями Git (например, GitHub или DevOps в Azure) и обновите `repo` переменной, таким образом, чтобы этот шаблон развертывает функции Azure.

## <a name="manage-logic-apps-and-view-run-history"></a>Управление приложениями логики и просмотр журнала выполнения

Для приложений логики, развернутые в Azure по-прежнему можно изменить, управление, просмотреть журнал выполнения для и отключите эти приложения из Visual Studio.

1. Откройте меню **Представление** в Visual Studio и выберите **Cloud Explorer**.

1. В разделе **все подписки**, выберите подписку Azure, связанные с приложениями логики, которые вы хотите управлять, а затем выберите **применить**.

1. В разделе **Приложения логики** выберите это приложение логики. В контекстном меню для приложения логики выберите **Open with Logic App Editor** (Открыть в редакторе приложений логики).

   > [!TIP]
   > Если у вас нет этой команды в Visual Studio 2019 г., проверьте, что установлены последние обновления для Visual Studio.

Теперь опубликованное приложение логики можно скачать в проект группы ресурсов. Таким образом несмотря на то, что возможно, вы запустили приложение логики на портале Azure, можно по-прежнему импортировать и управлять этого приложения в Visual Studio. Дополнительные сведения см. в статье [Управление приложениями логики в Visual Studio](../logic-apps/manage-logic-apps-with-visual-studio.md).

## <a name="next-steps"></a>Дальнейшие действия

* [Управление приложениями логики в Visual Studio](manage-logic-apps-with-visual-studio.md)
