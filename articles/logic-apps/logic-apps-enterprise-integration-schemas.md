---
title: Проверка XML со схемами в Azure Logic Apps | Документация Майкрософт
description: Добавление схем, которые проверяют документы XML в Azure Logic Apps с помощью Пакета интеграции Enterprise
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: divyaswarnkar
ms.author: divswa
ms.reviewer: jonfan, estfan, LADocs
ms.topic: article
ms.assetid: 56c5846c-5d8c-4ad4-9652-60b07aa8fc3b
ms.date: 02/06/2019
ms.openlocfilehash: 3cca995b353b88cc481cbda68df4211a724f7f09
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60846371"
---
# <a name="validate-xml-with-schemas-in-azure-logic-apps-with-enterprise-integration-pack"></a>Проверка XML с помощью схем в Azure Logic Apps с помощью Пакета интеграции Enterprise

Чтобы убедиться, что документы используют допустимый язык XML и содержат ожидаемые данные в предопределенном формате для сценариев интеграции с предприятием в Azure Logic Apps, ваше приложение логики может использовать схемы. Схема также может проверить сообщения, которыми приложение логики обменивается в сценариях совместной работы B2B.

Сведения об ограничениях, связанных с учетными записями и артефактами, такими как схемы, см. в разделе [Ограничения учетной записи интеграции](../logic-apps/logic-apps-limits-and-config.md#integration-account-limits).

## <a name="prerequisites"></a>Технические условия

* Подписка Azure. Если у вас нет ее, вы можете <a href="https://azure.microsoft.com/free/" target="_blank">зарегистрироваться для получения бесплатной учетной записи Azure</a>.

* [Учетная запись интеграции](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md), в которой хранятся ваши схемы и другие артефакты для интеграции предприятия и решений совместной работы B2B. 

  Если схема размером [2 МБ или меньше](#smaller-schema), вы можете добавить ее в учетную запись интеграции непосредственно с портала Azure. Тем не менее если схема больше 2 МБ, но не больше чем [ограничение размера схемы](../logic-apps/logic-apps-limits-and-config.md#artifact-capacity-limits), вы можете отправить свою схему в учетную запись хранения Azure. 
  Чтобы добавить эту схему в учетную запись интеграции, свяжите учетную запись хранения с учетной записью интеграции. 
  Для выполнения этой задачи вам понадобится следующее: 

  * [Учетная запись хранения](../storage/common/storage-account-overview.md), в которой создается учетная запись контейнера для схемы. Узнайте, как [создать учетную запись хранения](../storage/common/storage-quickstart-create-account.md). 

  * Контейнер больших двоичных объектов для хранения схемы. Узнайте, как [создать контейнер больших двоичных объектов](../storage/blobs/storage-quickstart-blobs-portal.md). 
  Универсальный код ресурса (URI) содержимого контейнера понадобится позже, во время добавления схемы в учетную запись интеграции.

  * [Обозреватель службы хранилища Azure](../vs-azure-tools-storage-manage-with-storage-explorer.md), который можно использовать для управления учетными записями хранения и контейнерами больших двоичных объектов. 
  Чтобы использовать Обозреватель службы хранилища, выберите один из следующих вариантов:
  
    * На портале Azure найдите и выберите свою учетную запись хранения. 
    В меню учетной записи хранения выберите **Обозреватель службы хранилища**.

    * [Скачайте и установите версию Azure Storage Explorer](https://www.storageexplorer.com/) для рабочего стола. 
    Затем подключите Обозреватель службы хранилища к учетной записи хранения, следуя шагам из статьи [Начало работы с Обозревателем службы хранилища](../vs-azure-tools-storage-manage-with-storage-explorer.md). 
    Дополнительные сведения см. в статье [ Краткое руководство. Использование Обозревателя службы хранилища Azure для создания большого двоичного объекта в хранилище объекта](../storage/blobs/storage-quickstart-blobs-storage-explorer.md).

Приложение логики при создании и добавлении схем не требуется. Чтобы использовать схему, приложению логики необходимо связаться с учетной записью интеграции, в которой хранится эта схема. Узнайте, как [связать приложения логики с учетными записями интеграции](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md#link-account). Если у вас еще нет приложения логики, узнайте, как [его создать](../logic-apps/quickstart-create-first-logic-app-workflow.md).

## <a name="add-schemas"></a>Добавление схем

1. Войдите на <a href="https://portal.azure.com" target="_blank">портал Azure</a> с помощью учетных данных учетной записи Azure.

1. Чтобы найти и открыть учетную запись интеграции, в главном меню Azure выберите **Все службы**. В поле поиска введите "учетная запись интеграции". Щелкните **Учетные записи интеграции**.

   ![Поиск учетной записи интеграции](./media/logic-apps-enterprise-integration-schemas/find-integration-account.png)

1. Выберите учетную запись интеграции, в которую нужно добавить в схему, например:

   ![Выбор учетной записи интеграции](./media/logic-apps-enterprise-integration-schemas/select-integration-account.png)

1. На странице **Обзор** учетной записи интеграции в разделе **Компоненты** выберите плитку **Схемы**.

   ![Выберите "Схемы"](./media/logic-apps-enterprise-integration-schemas/select-schemas.png)

1. Когда откроется страница **Схемы**, нажмите кнопку **Добавить**.

   ![Кнопка "Добавить"](./media/logic-apps-enterprise-integration-schemas/add-schema.png)

Основываясь на размере файла схемы (XSD), выполните шаги по отправке схемы размером [до 2 МБ](#smaller-schema) или [более 2 МБ, до 8 МБ](#larger-schema).

<a name="smaller-schema"></a>

### <a name="add-schemas-up-to-2-mb"></a>Добавление схем до 2 МБ

1. В разделе **Добавление схемы** введите имя своей схемы. 
   Оставьте выбранным параметр **Мелкий файл**. Выберите значок папки рядом с полем **Схема**. Найдите и выберите схему, которую вы отправляете, например:

   ![Отправка схемы меньшего размера](./media/logic-apps-enterprise-integration-schemas/upload-smaller-schema-file.png)

1. Когда вы будете готовы, выберите **ОК**.

   После отправки схема появляется в списке **Схемы**.

<a name="larger-schema"></a>

### <a name="add-schemas-more-than-2-mb"></a>Добавление схем более 2 МБ

Чтобы добавить объемные схемы, отправьте свою схему в контейнер больших двоичных объектов в учетной записи хранения Azure. Ваши действия по добавлению схемы зависят от ли контейнер больших двоичных объектов имеет общий доступ на чтение. Поэтому сначала проверьте, имеет ли контейнер больших двоичных объектов общий доступ на чтение, сделав следующее: [Настройка уровня общего доступа для контейнера больших двоичных объектов](../vs-azure-tools-storage-explorer-blobs.md#set-the-public-access-level-for-a-blob-container)

#### <a name="check-container-access-level"></a>Проверка уровня доступа к контейнеру

1. Откройте обозреватель службы хранилища Azure. В окне Обозревателя службы хранилища разверните свою подписку Azure, если она еще не развернута.

1. Разверните узлы **Учетные записи хранения** > {*ваша учетная запись хранения*} > **Контейнеры больших двоичных объектов**. Выберите свой контейнер больших двоичных объектов.

1. В контекстном меню контейнера больших двоичных объектов выберите **Set Public Access Level** (Настроить уровень общего доступа).

   * Если контейнер больших двоичных объектов имеет по крайней мере общий доступ, выберите **Отменить** и выполните указанные ниже на странице шаги: [Отправка в контейнеры с общим доступом](#public-access)

     ![Открытый доступ](media/logic-apps-enterprise-integration-schemas/azure-blob-container-public-access.png)

   * Если в контейнере больших двоичных объектов нет общего доступа, щелкните **Отменить** и следуйте указанным шагам на этой странице: [Отправка в контейнеры без общего доступа](#public-access)

     ![Без открытого доступа](media/logic-apps-enterprise-integration-schemas/azure-blob-container-no-public-access.png)

<a name="public-access"></a>

#### <a name="upload-to-containers-with-public-access"></a>Отправка в контейнеры с общим доступом

1. Передайте схему в учетную запись хранения. 
   В окне справа выберите **Отправить**.

1. После завершения отправки выберите отправленную схему. На панели инструментов выберите **Копировать URL-адрес**, чтобы скопировать URL-адрес схемы.

1. Вернитесь на портал Azure, где открыта панель **Добавление схемы**. 
   Введите имя сборки. 
   Выберите **Large file (larger than 2 MB)** (Большой файл (более 2 МБ)). 

   Теперь отображается окно **URI содержимого**, а не **Схема**.

1. В окне **URI содержимого** вставьте URL-адрес своей схемы. 
   Завершите добавление своей схемы.

После отправки схема появляется в списке **Схемы**. На странице **Обзор** учетной записи интеграции в разделе **Компоненты** плитка **Схемы** теперь показывает число отправленных схем.

<a name="no-public-access"></a>

#### <a name="upload-to-containers-without-public-access"></a>Отправка в контейнеры без общего доступа

1. Передайте схему в учетную запись хранения. 
   В окне справа выберите **Отправить**.

1. После отправки создайте подписанный URL-адрес схемы. 
   В контекстном меню схемы выберите **Get Shared Access Signature** (Получение подписанного URL-адреса).

1. В области **Подписанный URL-адрес** выберите **Generate container-level shared access signature URI** (Создание URI подписанного URL-адреса уровня контейнера) > **Создать**. 
   После создания подписанного URL-адреса возле поля **URL-адрес** щелкните **Копировать**.

1. Вернитесь на портал Azure, где открыта панель **Добавление схемы**. Выберите **Большой файл**.

   Теперь отображается окно **URI содержимого**, а не **Схема**.

1. В поле **URI содержимого** вставьте созданный ранее URI подписанного URL-адреса. Завершите добавление своей схемы.

После отправки схема появляется в списке **Схемы**. На странице **Обзор** учетной записи интеграции в разделе **Компоненты** плитка **Схемы** теперь показывает число отправленных схем.

## <a name="edit-schemas"></a>Изменение схем

Чтобы обновить имеющуюся схему, необходимо отправить новый файл схемы с необходимыми изменениями. Однако сначала вы можете скачать имеющуюся схему для редактирования.

1. На <a href="https://portal.azure.com" target="_blank">портале Azure</a> найдите и выберите свою учетную запись интеграции, если она еще не открыта.

1. В главном меню Azure выберите **Все службы**. 
   В поле поиска введите "учетная запись интеграции". 
   Выберите **Учетные записи интеграции**.

1. Выберите учетную запись интеграции, в которую необходимо обновить схему.

1. На странице **Обзор** учетной записи интеграции в разделе **Компоненты** выберите плитку **Схемы**.

1. После открытия страницы **Схемы** выберите свою схему. 
   Чтобы скачать и изменить схему, выберите **Скачать** и сохраните схему.

1. Когда все будет готово для отправки обновленной схемы, на странице **Схемы** выберите схему, которую необходимо обновить, и щелкните **Обновление**.

1. Найдите и выберите обновленную схему, которую требуется передать. 
   После отправки файла схемы обновленная схема появляется в списке **Схемы**.

## <a name="delete-schemas"></a>Удаление схем

1. На <a href="https://portal.azure.com" target="_blank">портале Azure</a> найдите и выберите свою учетную запись интеграции, если она еще не открыта.

1. В главном меню Azure выберите **Все службы**. 
   В поле поиска введите "учетная запись интеграции". 
   Выберите **Учетные записи интеграции**.

1. Выберите учетную запись интеграции, в которой необходимо удалить схему.

1. На странице **Обзор** учетной записи интеграции в разделе **Компоненты** выберите плитку **Схемы**.

1. После открытия страницы **Схемы** выберите свою схему, а затем — **Удалить**.

1. Выберите **Да**, чтобы подтвердить удаление схемы.

## <a name="next-steps"></a>Дальнейшие действия

* [Дополнительные сведения о Пакете интеграции Enterprise](logic-apps-enterprise-integration-overview.md)
* [Дополнительные сведения о сопоставлениях](../logic-apps/logic-apps-enterprise-integration-maps.md)
* [Дополнительные сведения о преобразованиях](../logic-apps/logic-apps-enterprise-integration-transform.md)
