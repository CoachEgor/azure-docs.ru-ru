---
title: Доступ к виртуальным сетям Azure — Azure Logic Apps
description: Общие сведения о том, как среды службы Integration Services (Исес) помогают приложениям логики получать доступ к виртуальным сетям Azure (виртуальных сетей)
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ecfan
ms.author: estfan
ms.reviewer: klam, LADocs
ms.topic: article
ms.date: 11/08/2019
ms.openlocfilehash: da68cfe504332ed6641c52322f0df0d2efd95997
ms.sourcegitcommit: ac56ef07d86328c40fed5b5792a6a02698926c2d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/08/2019
ms.locfileid: "73820671"
---
# <a name="access-to-azure-virtual-network-resources-from-azure-logic-apps-by-using-integration-service-environments-ises"></a>Доступ к ресурсам виртуальных сетей Azure из Azure Logic Apps с использованием сред службы интеграции (ISE)

Иногда приложениям логики и учетным записям интеграции требуется доступ к защищенным ресурсам, таким как виртуальные машины (ВМ) и другие системы или службы, которые находятся внутри [виртуальной сети Azure](../virtual-network/virtual-networks-overview.md). Чтобы настроить этот доступ, можно [создать *среду службы интеграции* (ISE)](../logic-apps/connect-virtual-network-vnet-isolated-environment.md) , в которой можно запускать приложения логики и создавать учетные записи интеграции.

При создании интегрированной среды сценариев Azure *внедряет* интегрированную среду сценариев в виртуальную сеть Azure, которая затем развертывает закрытый и изолированный экземпляр службы Logic Apps в виртуальной сети Azure. Частный экземпляр использует выделенные ресурсы, такие как служба хранилища, и выполняется отдельно от общедоступной глобальной службы Logic Apps. Отделение изолированного закрытого экземпляра от общедоступного глобального экземпляра также помогает снизить влияние других клиентов Azure на производительность приложений, которая также называется [эффектом "бесшумного" соседей](https://en.wikipedia.org/wiki/Cloud_computing_issues#Performance_interference_and_noisy_neighbors).

После создания интегрированной среды сценариев, когда вы переходите к созданию приложения логики или учетной записи интеграции, вы можете выбрать интегрированную среду сценариев в качестве расположения для приложения логики или учетной записи интеграции:

![Выбор среды службы интеграции](./media/connect-virtual-network-vnet-isolated-environment-overview/select-logic-app-integration-service-environment.png)

Теперь приложение логики может напрямую обращаться к системам, которые находятся в виртуальной сети или подключены к ней, с помощью следующих элементов:

* Соединитель с меткой **ISE**для этой системы
* Встроенный триггер или действие, помеченные **ядром**, такие как триггер HTTP или действие.
* Настраиваемый соединитель

В этом обзоре приводятся дополнительные сведения о том, как интегрированная среда сценариев предоставляет приложения логики, а учетные записи интеграции — прямой доступ к виртуальной сети Azure и сравниваются различия между ISE и глобальной службой Logic Apps.

> [!IMPORTANT]
> Приложения логики, встроенные триггеры, встроенные действия и соединители, работающие в интегрированной среде сценариев, используют тарифный план, отличающийся от плана ценообразования на основе потребления. Чтобы узнать, как цены и данные о выставлении счетов для Исес, см. [Logic Apps модель ценообразования](../logic-apps/logic-apps-pricing.md#fixed-pricing). Цены см. на странице [цен на Logic Apps](../logic-apps/logic-apps-pricing.md).
>
> Интегрированная среда сценариев также имеет повышенные ограничения на длительность выполнения, срок хранения, пропускную способность, время ожидания HTTP-запросов и ответов, размер сообщений и запросы пользовательского соединителя. 
> Дополнительные сведения см. в разделе [ограничения и настройка для Azure Logic Apps](logic-apps-limits-and-config.md).

<a name="difference"></a>

## <a name="isolated-versus-global"></a>Изолированная и глобальная среды

При создании интегрированной среды служб (ISE) в Azure можно выбрать виртуальную сеть Azure, в которую вы хотите *внедрить* интегрированную среду разработки. Затем Azure внедряет или развертывает частный экземпляр службы Logic Apps в виртуальной сети. Это действие создает изолированную среду, в которой можно создавать и выполнять приложения логики на выделенных ресурсах. При создании приложения логики в качестве расположения приложения выбирается интегрированная среда сценариев, которая предоставляет приложению логики прямой доступ к виртуальной сети и ресурсам в этой сети.

Приложения логики в среде ISE имеют тот же пользовательский интерфейс и аналогичные возможности, что и глобальная служба Logic Apps. Можно не только использовать те же встроенные триггеры, встроенные действия и соединители из глобальной службы Logic Apps, но также можно использовать соединители, относящиеся к интегрированной среде сценариев. Например, вот некоторые стандартные соединители, которые предлагают версии, выполняемые в интегрированной среде сценариев:

* Хранилище BLOB-объектов, хранилище файлов и хранилище таблиц Azure
* Очереди Azure, Служебная шина Azure, Центры событий Azure и IBM MQ
* FTP и SFTP-SSH
* SQL Server, хранилище данных SQL Azure Azure Cosmos DB
* AS2, X12 и EDIFACT

Различие между соединителями среды ISE и другими соединителями заключается в местах, где запускаются триггеры и действия.

* В интегрированной среде сценариев встроенные триггеры и действия, такие как HTTP, всегда выполняются в той же интегрированной среде сценариев, что и приложение логики, и отображаются **основные** метки.

  ![Выбор встроенных триггеров и действий "Core"](./media/connect-virtual-network-vnet-isolated-environment-overview/select-core-built-in-actions-triggers.png)

* Соединители, работающие в интегрированной среде сценариев, имеют общедоступные размещенные версии, доступные в глобальной службе Logic Apps. Для соединителей, которые предлагают две версии, соединители с меткой **ISE** всегда выполняются в той же интегрированной среде сценариев, что и приложение логики. Соединители без надписи **ISE** выполняются в глобальной службе Logic Apps.

  ![Выбор соединителей ISE](./media/connect-virtual-network-vnet-isolated-environment-overview/select-ise-connectors.png)

Интегрированная среда сценариев также обеспечивает повышенные ограничения продолжительности выполнения, хранения, пропускной способности, HTTP-запросов и времени ожидания ответа, размеров сообщений и пользовательских запросов соединителей. Дополнительные сведения см. в разделе [ограничения и настройка для Azure Logic Apps](logic-apps-limits-and-config.md).

<a name="ise-level"></a>

## <a name="ise-skus"></a>Номера SKU интегрированной среды сценариев

При создании ИНТЕГРИРОВАНной среды разработки можно выбрать SKU для разработчиков или SKU Premium. Ниже приведены различия между этими номерами SKU.

* **Developer**

  Предоставляет интегрированную среду с более низкими затратами, которую можно использовать для экспериментов, разработки и тестирования, но не для тестирования в рабочей среде или тестировании производительности. SKU для разработчиков включают встроенные триггеры и действия, стандартные соединители, соединители предприятия и учетную запись интеграции с одним [свободным уровнем](../logic-apps/logic-apps-limits-and-config.md#artifact-number-limits) для фиксированной ежемесячной цены. Однако этот номер SKU не включает соглашения об уровне обслуживания (SLA), параметры масштабирования емкости или избыточность во время повторного запуска. Это означает, что могут возникнуть задержки или простои.

* **Премиальный**

  Предоставляет интегрированную среду сценариев, которую можно использовать для рабочей среды и включает поддержку соглашения об уровне обслуживания, встроенные триггеры и действия, стандартные соединители, соединители предприятия, единую учетную запись интеграции [уровня Standard](../logic-apps/logic-apps-limits-and-config.md#artifact-number-limits) , параметры масштабирования емкости и избыточность во время повторное использование для фиксированной месячной цены.

> [!IMPORTANT]
> Параметр SKU доступен только при создании ИНТЕГРИРОВАНной среды разработки и не может быть изменен позже.

Цены см. на странице [цен на Logic Apps](https://azure.microsoft.com/pricing/details/logic-apps/). Чтобы узнать, как цены и данные о выставлении счетов для Исес, см. [Logic Apps модель ценообразования](../logic-apps/logic-apps-pricing.md#fixed-pricing).

<a name="endpoint-access"></a>

## <a name="ise-endpoint-access"></a>Доступ к конечной точке интегрированной среды сценариев

При создании интегрированной среды сценариев можно выбрать использование внутренних или внешних конечных точек доступа. Эти конечные точки определяют, могут ли триггеры запроса или веб-перехватчика в интегрированной среде сценариев получать вызовы извне вашей виртуальной сети. Эти конечные точки также влияют на доступ к входным и выходным данным в журнале выполнения приложения логики.

* **Внутренняя**: частные конечные точки, которые позволяют вызывать приложения логики в интегрированной среде сценариев, а также получать доступ к входным и выходным данным в журнале выполнения только *из виртуальной сети* .

* **Внешние**: общедоступные конечные точки, которые позволяют вызывать приложения логики в интегрированной среде сценариев, а также получать доступ к входным и выходным данным в журнале выполнения *извне виртуальной сети* .

> [!IMPORTANT]
> Параметр доступа к конечной точке доступен только при создании ИНТЕГРИРОВАНной среды разработки и не может быть изменен позже.

<a name="on-premises"></a>

## <a name="access-to-on-premises-data-sources"></a>Доступ к локальным источникам данных

Для локальных систем, подключенных к виртуальной сети Azure, вставьте интегрированную среду сценариев в эту сеть, чтобы приложения логики могли напрямую обращаться к этим системам с помощью следующих элементов:

* Действие HTTP

* Соединитель с меткой ISE для этой системы

  > [!NOTE]
  > Чтобы использовать проверку подлинности Windows с соединителем SQL Server в [среде службы интеграции (ISE)](../logic-apps/connect-virtual-network-vnet-isolated-environment-overview.md), используйте неинтегрированную версию соединителя с [локальным шлюзом данных](../logic-apps/logic-apps-gateway-install.md). Версия ISE с меткой не поддерживает проверку подлинности Windows.

* Настраиваемый соединитель

  * Если у вас есть пользовательские соединители, для которых требуется локальный шлюз данных, и вы создали эти соединители за пределами интегрированной среды сценариев, то приложения логики в интегрированной среде сценариев также могут использовать эти соединители.
  
  * Настраиваемые соединители, созданные в интегрированной среде сценариев, не работают с локальным шлюзом данных. Однако эти соединители могут напрямую обращаться к локальным источникам данных, подключенным к виртуальной сети, в которой размещается интегрированная среда сценариев. Таким образом, приложения логики в интегрированной среде сценариев, скорее всего, не нуждаются в шлюзе данных при взаимодействии с этими ресурсами.

Для локальных систем, которые не подключены к виртуальной сети или не имеют соединителей ISE, сначала необходимо [настроить локальный шлюз данных](../logic-apps/logic-apps-gateway-install.md) , прежде чем приложения логики смогут подключаться к этим системам.

<a name="create-integration-account-environment"></a>

## <a name="integration-accounts-with-ise"></a>Учетные записи интеграции в ISE

Учетные записи интеграции с приложениями логики можно использовать в среде службы интеграции. Тем не менее эти учетные записи интеграции должны использовать *ту же ISE*, что и связанные приложения логики. Приложения логики в среде ISE могут ссылаться только на те учетные записи интеграции, которые находятся в одной с ними среде ISE. При создании учетной записи интеграции можно выбрать среду ISE в качестве расположения учетной записи интеграции. Чтобы узнать, как цены и данные о выставлении счетов для учетных записей интеграции с интегрированной средой ISE, см. [Logic Appsную модель ценообразования](../logic-apps/logic-apps-pricing.md#fixed-pricing). Цены см. на странице [цен на Logic Apps](https://azure.microsoft.com/pricing/details/logic-apps/).

## <a name="next-steps"></a>Дальнейшие действия

* [Подключение к виртуальным сетям Azure из изолированных приложений логики](../logic-apps/connect-virtual-network-vnet-isolated-environment.md)
* [Добавление артефактов в среды службы интеграции](../logic-apps/add-artifacts-integration-service-environment-ise.md)
* [Управление средами службы интеграции](../logic-apps/ise-manage-integration-service-environment.md)
* Узнайте больше о [виртуальной сети Azure](../virtual-network/virtual-networks-overview.md).
* Узнайте об [интеграции виртуальной сети для служб Azure](../virtual-network/virtual-network-for-azure-services.md).
