---
title: Доступ к виртуальным сетям Azure
description: Общие сведения о том, как среды службы Integration Services (Исес) помогают приложениям логики получать доступ к виртуальным сетям Azure (виртуальных сетей)
services: logic-apps
ms.suite: integration
ms.reviewer: jonfan, logicappspm
ms.topic: conceptual
ms.date: 05/01/2020
ms.openlocfilehash: d74303df74a1e877645b333fa0726a68055c819b
ms.sourcegitcommit: 4499035f03e7a8fb40f5cff616eb01753b986278
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2020
ms.locfileid: "82734928"
---
# <a name="access-to-azure-virtual-network-resources-from-azure-logic-apps-by-using-integration-service-environments-ises"></a>Доступ к ресурсам виртуальных сетей Azure из Azure Logic Apps с использованием сред службы интеграции (ISE)

Иногда приложениям логики требуется доступ к защищенным ресурсам, таким как виртуальные машины (VM) и другие системы или службы, которые находятся внутри [виртуальной сети Azure](../virtual-network/virtual-networks-overview.md). Чтобы настроить этот доступ, можно [создать *среду службы интеграции* (ISE)](../logic-apps/connect-virtual-network-vnet-isolated-environment.md). Интегрированная среда сценариев — это изолированный экземпляр службы Logic Apps, использующий выделенные ресурсы и выполняемый отдельно от "глобальной" многоклиентской Logic Apps службы.

Запуск приложений логики в отдельном изолированном экземпляре помогает снизить влияние других клиентов Azure на производительность приложений, также называемую [эффектом "шум"](https://en.wikipedia.org/wiki/Cloud_computing_issues#Performance_interference_and_noisy_neighbors). Интегрированная среда сценариев также предоставляет следующие преимущества:

* Собственные статические IP-адреса, которые отделены от статических IP-адресов, совместно используемых приложениями логики в многоклиентской службе. Для связи с конечными системами можно также настроить один открытый, статический и прогнозируемый исходящий IP-адрес. Таким образом, вам не придется настраивать дополнительные пути брандмауэра в конечных системах для каждой интегрированной среды сценариев.

* Повышенные ограничения длительности выполнения, хранения, пропускной способности, HTTP-запросов и времени ожидания ответа, размеров сообщений и пользовательских запросов соединителей. Дополнительные сведения см. в разделе [ограничения и настройка для Azure Logic Apps](logic-apps-limits-and-config.md).

> [!NOTE]
> Некоторые виртуальные сети Azure используют частные конечные точки ([частные ссылки Azure](../private-link/private-link-overview.md)) для предоставления доступа к службам Azure PaaS, таким как служба хранилища azure, Azure Cosmos DB или база данных SQL Azure, партнерские службы или службы клиентов, размещенные в Azure. Если приложениям логики требуется доступ к виртуальным сетям, использующим частные конечные точки, необходимо создать, развернуть и запустить эти приложения логики в интегрированной среде сценариев.

При создании интегрированной среды сценариев Azure *внедряет* или развертывает эту интегрированную среду сценариев в виртуальной сети Azure. Затем эту интегрированную среду сценариев можно использовать в качестве расположения для приложений логики и учетных записей интеграции, которым требуется доступ.

![Выбор среды службы интеграции](./media/connect-virtual-network-vnet-isolated-environment-overview/select-logic-app-integration-service-environment.png)

Приложения логики могут обращаться к ресурсам, которые находятся внутри виртуальной сети или подключены к ней, с помощью этих элементов, которые выполняются в той же интегрированной среде сценариев, что и приложения логики:

* Встроенный триггер или действие, помеченные **ядром**, такие как триггер HTTP или действие.
* Соединитель с меткой **ISE**для этой системы или службы
* настраиваемый соединитель;

Вы также можете использовать соединители без метки **Core** или **ISE** с приложениями логики в интегрированной среде сценариев. Эти соединители выполняются в многоклиентской Logic Apps службе. Дополнительные сведения см. в следующих разделах:

* [Изолированное сравнение с несколькими клиентами](#difference)
* [Подключение из среды службы интеграции](../connectors/apis-list.md#integration-service-environment)
* [Соединители ISE](../connectors/apis-list.md#ise-connectors)

> [!IMPORTANT]
> Приложения логики, встроенные триггеры, встроенные действия и соединители, работающие в интегрированной среде сценариев, используют тарифный план, отличающийся от плана ценообразования на основе потребления. Дополнительные сведения см. в разделе [модель ценообразования Logic Apps](../logic-apps/logic-apps-pricing.md#fixed-pricing). Сведения о ценах см. на странице [цен на Logic Apps](../logic-apps/logic-apps-pricing.md).

В этом обзоре описаны дополнительные сведения о том, как интегрированная среда сценариев предоставляет приложениям логики прямой доступ к виртуальной сети Azure и сравнивает различия между средой ISE и многоклиентской Logic Apps службой.

<a name="difference"></a>

## <a name="isolated-versus-multi-tenant"></a>Изолированное сравнение с несколькими клиентами

При создании и запуске приложений логики в интегрированной среде сценариев вы получаете те же интерфейсы пользователя и аналогичные возможности, что и многоклиентская служба Logic Apps. Вы можете использовать все те же встроенные триггеры, действия и управляемые соединители, доступные в многоклиентской Logic Apps службе. Некоторые управляемые соединители предлагают дополнительные версии ISE. Разница между соединителями ISE и соединителями, отличными от ISE, существует в том месте, где они выполняются, а метки, которые они имели в конструкторе приложений логики, при работе в интегрированной среде сценариев.

![Соединители с метками и без них в интегрированной среде сценариев](./media/connect-virtual-network-vnet-isolated-environment-overview/labeled-trigger-actions-integration-service-environment.png)

* Встроенные триггеры и действия отображают **основную** метку. Они всегда выполняются в той же интегрированной среде сценариев, что и приложение логики. Управляемые соединители, отображающие метку **ISE** , также выполняются в той же интегрированной среде сценариев, что и приложение логики.

  Например, вот несколько соединителей, предлагающих версии ISE:

  * Хранилище BLOB-объектов, хранилище файлов и хранилище таблиц Azure
  * Очереди Azure, Служебная шина Azure, Центры событий Azure и IBM MQ
  * FTP и SFTP-SSH
  * SQL Server, хранилище данных SQL Azure Azure Cosmos DB
  * AS2, X12 и EDIFACT

* Управляемые соединители, которые не отображают дополнительные метки, всегда выполняются в многоклиентской Logic Apps службе, но вы по-прежнему можете использовать эти соединители в приложении логики, размещенном в интегрированной среде сценариев.

<a name="on-premises"></a>

### <a name="access-to-on-premises-systems"></a>Доступ к локальным системам

Для доступа к локальным системам или источникам данных, подключенным к виртуальной сети Azure, приложения логики в интегрированной среде сценариев могут использовать следующие элементы:

* Действие HTTP

* Соединитель с меткой ISE для этой системы

  > [!NOTE]
  > Чтобы использовать проверку подлинности Windows с соединителем SQL Server в [среде службы интеграции (ISE)](../logic-apps/connect-virtual-network-vnet-isolated-environment-overview.md), используйте неинтегрированную версию соединителя с [локальным шлюзом данных](../logic-apps/logic-apps-gateway-install.md). Версия ISE с меткой не поддерживает проверку подлинности Windows.

* Настраиваемый соединитель

  * Если у вас есть пользовательские соединители, для которых требуется локальный шлюз данных, и вы создали эти соединители за пределами интегрированной среды сценариев, то приложения логики в интегрированной среде сценариев также могут использовать эти соединители.

  * Настраиваемые соединители, созданные в интегрированной среде сценариев, не работают с локальным шлюзом данных. Однако эти соединители могут напрямую обращаться к локальным источникам данных, подключенным к виртуальной сети, в которой размещается интегрированная среда сценариев. Таким образом, приложения логики в интегрированной среде сценариев, скорее всего, не нуждаются в шлюзе данных при взаимодействии с этими ресурсами.

Для локальных систем, которые не подключены к виртуальной сети или не имеют соединителей с меткой ISE, сначала необходимо [настроить локальный шлюз данных](../logic-apps/logic-apps-gateway-install.md) , прежде чем приложения логики смогут подключаться к этим системам.

<a name="ise-level"></a>

## <a name="ise-skus"></a>Номера SKU интегрированной среды сценариев

При создании ИНТЕГРИРОВАНной среды разработки можно выбрать SKU для разработчиков или SKU Premium. Ниже приведены различия между этими номерами SKU.

* **Разработчик**

  Предоставляет интегрированную среду с более низкими затратами, которую можно использовать для экспериментов, разработки и тестирования, но не для тестирования в рабочей среде или тестировании производительности. SKU для разработчиков включают встроенные триггеры и действия, стандартные соединители, соединители предприятия и учетную запись интеграции с одним [свободным уровнем](../logic-apps/logic-apps-limits-and-config.md#artifact-number-limits) для фиксированной ежемесячной цены. Однако этот номер SKU не включает соглашения об уровне обслуживания (SLA), параметры масштабирования емкости или избыточность во время повторного запуска. Это означает, что могут возникнуть задержки или простои.

* **Premium**

  Предоставляет интегрированную среду сценариев, которую можно использовать для рабочей среды и включает поддержку соглашения об уровне обслуживания, встроенные триггеры и действия, стандартные соединители, соединители предприятия, единую учетную запись интеграции [уровня Standard](../logic-apps/logic-apps-limits-and-config.md#artifact-number-limits) , варианты масштабирования емкости и избыточность при повторном использовании по фиксированной месячной цене.

> [!IMPORTANT]
> Параметр SKU доступен только при создании ИНТЕГРИРОВАНной среды разработки и не может быть изменен позже.

Цены см. на странице [цен на Logic Apps](https://azure.microsoft.com/pricing/details/logic-apps/). Чтобы узнать, как цены и данные о выставлении счетов для Исес, см. [Logic Apps модель ценообразования](../logic-apps/logic-apps-pricing.md#fixed-pricing).

<a name="endpoint-access"></a>

## <a name="ise-endpoint-access"></a>Доступ к конечной точке интегрированной среды сценариев

При создании интегрированной среды сценариев можно выбрать использование внутренних или внешних конечных точек доступа. Выбор определяет, могут ли триггеры запроса или веб-перехватчика в интегрированной среде сценариев получать вызовы извне вашей виртуальной сети. Эти конечные точки также влияют на способ доступа к входным и выходным данным из журнала выполнения приложений логики.

> [!IMPORTANT]
> Вы можете выбрать конечную точку доступа только во время создания ИНТЕГРИРОВАНной среды разработки и изменить этот параметр позже.

* **Внутренняя**: частные конечные точки разрешается вызывать приложения логики в интегрированной среде сценариев, где можно просматривать входные и выходные данные из приложений логики и получать к ним доступ *только из виртуальной сети*. Убедитесь в наличии сетевого подключения между частными конечными точками и компьютером, с которого необходимо получить доступ к журналу запусков. Например, клиентский компьютер может находиться в виртуальной сети ISE или в виртуальной сети, подключенной к виртуальной сети ISE, например через пиринг или виртуальную частную сеть.

* **Внешние**: общедоступные конечные точки позволяют вызывать приложения логики в интегрированной среде сценариев, где можно просматривать входные и выходные данные из приложений логики, а также получать доступ к ним из *виртуальной сети*. Если вы используете группы безопасности сети (группы безопасности сети), убедитесь, что они настроены с помощью правил входящего трафика, чтобы разрешить доступ к входным и выходным данным журнала выполнения. Дополнительные сведения см. в разделе [Включение доступа для интегрированной среды сценариев](../logic-apps/connect-virtual-network-vnet-isolated-environment.md#enable-access).

Чтобы определить, используется ли в интегрированной среде сценариев внутренняя или внешняя конечная точка доступа, в меню интегрированной среды сценариев в разделе **Параметры**выберите **свойства**и найдите свойство **Конечная точка доступа** .

![Поиск конечной точки доступа ISE](./media/connect-virtual-network-vnet-isolated-environment-overview/find-ise-access-endpoint.png)

<a name="create-integration-account-environment"></a>

## <a name="integration-accounts-with-ise"></a>Учетные записи интеграции в ISE

Учетные записи интеграции с приложениями логики можно использовать в среде службы интеграции. Тем не менее эти учетные записи интеграции должны использовать *ту же ISE*, что и связанные приложения логики. Приложения логики в среде ISE могут ссылаться только на те учетные записи интеграции, которые находятся в одной с ними среде ISE. При создании учетной записи интеграции можно выбрать среду ISE в качестве расположения учетной записи интеграции. Чтобы узнать, как цены и данные о выставлении счетов для учетных записей интеграции с интегрированной средой ISE, см. [Logic Appsную модель ценообразования](../logic-apps/logic-apps-pricing.md#fixed-pricing). Цены см. на странице [цен на Logic Apps](https://azure.microsoft.com/pricing/details/logic-apps/).

## <a name="next-steps"></a>Дальнейшие действия

* [Подключение к виртуальным сетям Azure из Azure Logic Apps](../logic-apps/connect-virtual-network-vnet-isolated-environment.md)
* Дополнительные сведения о [виртуальной сети Azure](../virtual-network/virtual-networks-overview.md)
* Узнайте об [интеграции виртуальной сети для служб Azure](../virtual-network/virtual-network-for-azure-services.md).
