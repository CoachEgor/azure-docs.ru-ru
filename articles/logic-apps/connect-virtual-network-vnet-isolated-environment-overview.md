---
title: Доступ к виртуальным сетям Azure
description: Обзор того, как среды интеграционных служб (ISEs) помогают логическим приложениям получить доступ к виртуальным сетям Azure (VNETs)
services: logic-apps
ms.suite: integration
ms.reviewer: klam, logicappspm
ms.topic: article
ms.date: 03/12/2020
ms.openlocfilehash: 9d5e0c088fe773f16e1fc57f292ca812906aa09c
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79127248"
---
# <a name="access-to-azure-virtual-network-resources-from-azure-logic-apps-by-using-integration-service-environments-ises"></a>Доступ к ресурсам виртуальных сетей Azure из Azure Logic Apps с использованием сред службы интеграции (ISE)

Иногда вашим логическим приложениям требуется доступ к защищенным ресурсам, таким как виртуальные машины (Виртуальные технологии) и другие системы или службы, которые находятся внутри [виртуальной сети Azure.](../virtual-network/virtual-networks-overview.md) Чтобы настроить этот доступ, можно [создать *среду службы интеграции* (ISE).](../logic-apps/connect-virtual-network-vnet-isolated-environment.md) ISE — это изолированный экземпляр службы Logic Apps, которая использует выделенные ресурсы и работает отдельно от «глобального» мультитенантного сервиса Logic Apps.

Запуск логических приложений в отдельном изолированном экземпляре помогает уменьшить влияние, которое другие арендаторы Azure могут оказать на производительность ваших приложений, также известный как [эффект «шумных соседей».](https://en.wikipedia.org/wiki/Cloud_computing_issues#Performance_interference_and_noisy_neighbors) ISE также предоставляет следующие преимущества:

* Ваши собственные статические IP-адреса, которые отделены от статических IP-адресов, которые используются логическими приложениями в мультитенантной службе. Можно также настроить единый общедоступный, статический и предсказуемый исходящий IP-адрес для связи с системами назначения. Таким образом, вам не нужно устанавливать дополнительные брандмауэры в этих системах назначения для каждого ISE.

* Увеличенные ограничения на продолжительность выполнения, хранение, пропускную связь, время отсеивания запросов и ответов HTTP, размеры сообщений и пользовательские запросы разъема. Для получения дополнительной [информации см.](logic-apps-limits-and-config.md)

> [!NOTE]
> Некоторые виртуальные сети Azure используют частные конечные точки[(Azure Private Link)](../private-link/private-link-overview.md)для обеспечения доступа к службам Azure PaaS, таким как Azure Storage, Azure Cosmos DB или база данных партнеров Azure, партнерские службы или службы клиентов, размещенные в Azure. Если вашим логическим приложениям необходим доступ к виртуальным сетям, которые используют частные конечные точки, необходимо создавать, развертывать и запускать эти логические приложения внутри ISE.

При создании ISE Azure *вводит* или развертывает ISE в виртуальную сеть Azure. Затем вы можете использовать этот ISE в качестве местоположения для логических приложений и учетных записей интеграции, которые нуждаются в доступе.

![Выбор среды службы интеграции](./media/connect-virtual-network-vnet-isolated-environment-overview/select-logic-app-integration-service-environment.png)

Логические приложения могут получать доступ к ресурсам, которые находятся внутри или подключены к вашей виртуальной сети, используя эти элементы, которые работают в том же ISE, что и ваши логические приложения:

* Встроенный триггер или действие **CORE,** например триггер или действие HTTP
* Разъем с маркировкой **ISE**для этой системы или службы
* настраиваемый соединитель;

Вы все еще можете использовать разъемы, которые не имеют ярлыка **CORE** или **ISE** с логическими приложениями в вашем ISE. Эти разъемы работают в мультитенантном сервисе Logic Apps. Для получения дополнительной информации смотрите следующие разделы:

* [Изолированные против мультитенантных](#difference)
* [Подключение из среды служб интеграции](../connectors/apis-list.md#integration-service-environment)
* [Разъемы ISE](../connectors/apis-list.md#ise-connectors)

> [!IMPORTANT]
> Логические приложения, встроенные триггеры, встроенные действия и разъемы, которые работают в ISE, используют план ценообразования, который отличается от плана ценообразования на основе потребления. Для получения дополнительной информации [см.](../logic-apps/logic-apps-pricing.md#fixed-pricing) Для получения подробной информации о ценах [см.](../logic-apps/logic-apps-pricing.md)

В этом обзоре описывается дополнительная информация о том, как ISE предоставляет вашим логическим приложениям прямой доступ к виртуальной сети Azure, и сравнивается различия между ISE и мультитенантным сервисом Logic Apps.

<a name="difference"></a>

## <a name="isolated-versus-multi-tenant"></a>Изолированные против мультитенантных

При создании и запуске логических приложений в ISE вы получаете те же пользовательские и аналогичные возможности, что и многотенантный сервис Logic Apps. Вы можете использовать все те же встроенные триггеры, действия и управляемые разъемы, которые доступны в мультитенантной службе Logic Apps. Некоторые управляемые разъемы предлагают дополнительные версии ISE. Разница между разъемами ISE и разъемыми, не относясь к ISE, существует в том, где они работают, и этикетками, которые они имеют в Logic App Designer, когда вы работаете в ISE.

![Соединения с этикетками и без нее в ISE](./media/connect-virtual-network-vnet-isolated-environment-overview/labeled-trigger-actions-integration-service-environment.png)

* Встроенные триггеры и действия отображают метку **CORE.** Они всегда работают в том же ISE, как ваше приложение логики. Управляемые разъемы, отображающие метку **ISE,** также работают в том же ISE, что и ваше приложение логики.

  Например, вот некоторые разъемы, которые предлагают версии ISE:

  * Хранилище BLOB-объектов, хранилище файлов и хранилище таблиц Azure
  * Очереди Azure, Служебная шина Azure, Центры событий Azure и IBM MQ
  * FTP и SFTP-SSH
  * Сервер S'L, Хранилище данных Azure S'L, Azure Cosmos DB
  * AS2, X12 и EDIFACT

* Управляемые разъемы, которые не отображают дополнительные метки, всегда работают в мультитенантном сервисе Logic Apps, но эти разъемы все равно можно использовать в приложении логики, размещенном на ISE.

<a name="on-premises"></a>

### <a name="access-to-on-premises-systems"></a>Доступ к системам для непредпосмяно

Для доступа к сетевым системам или источникам данных, подключенным к виртуальной сети Azure, логические приложения в ISE могут использовать следующие элементы:

* Действие HTTP

* Разъем с маркировкой ISE для этой системы

  > [!NOTE]
  > Для использования аутентификации Windows с разъемом сервера S'L в [среде службы интеграции (ISE)](../logic-apps/connect-virtual-network-vnet-isolated-environment-overview.md)используйте версию разъема, не являющийся ISE, с [шлюзом данных.](../logic-apps/logic-apps-gateway-install.md) Версия с маркировкой ISE не поддерживает аутентификацию Windows.

* Настраиваемый соединитель

  * Если у вас есть пользовательские разъемы, которые требуют предварительного шлюза данных, и вы создали эти разъемы за пределами ISE, логические приложения в ISE также могут использовать эти разъемы.

  * Пользовательские разъемы, созданные в ISE, не работают с шлюзом данных. Тем не менее, эти разъемы могут напрямую получить доступ к наемным источникам данных, которые подключены к виртуальной сети, худеяря ISE. Таким образом, логические приложения в ISE, скорее всего, не нуждаются в шлюзе данных при общении с этими ресурсами.

Для систем, не подключенных к виртуальной сети или не наделенных разъемами с маркировкой ISE, необходимо сначала [настроить шлюз данных,](../logic-apps/logic-apps-gateway-install.md) прежде чем ваши логические приложения смогут подключиться к этим системам.

<a name="ise-level"></a>

## <a name="ise-skus"></a>ISE SKUs

При создании ISE можно выбрать SKU-разработчика или Premium SKU. Вот различия между этими SkUs:

* **Разработчик**

  Обеспечивает более дешевый ISE, который можно использовать для экспериментов, разработки и тестирования, но не для тестирования производства или производительности. Разработчик SKU включает в себя встроенные триггеры и действия, стандартные разъемы, разъемы Enterprise и единую интеграцию [свободного уровня,](../logic-apps/logic-apps-limits-and-config.md#artifact-number-limits) учитывая фиксированную ежемесячную цену. Тем не менее, этот SKU не включает в себя какое-либо соглашение об уровне обслуживания (SLA), варианты увеличения емкости или избыточности во время рециркуляции, что означает, что вы можете испытывать задержки или простои.

* **Премиум**

  Обеспечивает ISE, который можно использовать для производства и включает поддержку SLA, встроенные триггеры и действия, стандартные разъемы, разъемы Enterprise, единый интеграционный счет [стандартного уровня,](../logic-apps/logic-apps-limits-and-config.md#artifact-number-limits) варианты увеличения емкости и избыточность во время переработки по фиксированной месячной цене.

> [!IMPORTANT]
> Опция SKU доступна только при создании ISE и не может быть изменена позже.

Для ценообразования цены, см [Логика Apps ценообразования](https://azure.microsoft.com/pricing/details/logic-apps/). Чтобы узнать, как ценообразование и выставление счетов для ISEs, [см.](../logic-apps/logic-apps-pricing.md#fixed-pricing)

<a name="endpoint-access"></a>

## <a name="ise-endpoint-access"></a>Доступ к конечным точкам ISE

При создании ISE можно использовать внутренние или внешние конечные точки доступа. Ваш выбор определяет, могут ли триггеры запроса или веб-крючка на логических приложениях в вашем ISE принимать звонки из-за пределов вашей виртуальной сети.

Эти конечные точки также влияют на способ доступа к входным данным и выводам в истории выполнения ваших логических приложений.

* **Внутренние**: Частные конечные точки, позволяющие звонить в логические приложения в вашем ISE, где вы можете просматривать и получать доступ к входным данным и выходам ваших логических приложений в истории выполнения *только из вашей виртуальной сети*

* **Внешние**: Публичные конечные точки, позволяющие звонить в логические приложения в вашем ISE, где вы можете просматривать и получать доступ к входным данным и выходам ваших логических приложений в истории запуска *из-за пределов виртуальной сети.* Если вы используете группы сетевой безопасности (НСГ), убедитесь, что они настроены с входящими правилами, чтобы обеспечить доступ к входным данным и выводам истории выполнения. Для получения дополнительной информации [см.](../logic-apps/connect-virtual-network-vnet-isolated-environment.md#enable-access)

> [!IMPORTANT]
> Опция конечных точек доступа доступна только при создании ISE и не может быть изменена позже.

<a name="create-integration-account-environment"></a>

## <a name="integration-accounts-with-ise"></a>Учетные записи интеграции в ISE

Учетные записи интеграции с приложениями логики можно использовать в среде службы интеграции. Тем не менее эти учетные записи интеграции должны использовать *ту же ISE*, что и связанные приложения логики. Приложения логики в среде ISE могут ссылаться только на те учетные записи интеграции, которые находятся в одной с ними среде ISE. При создании учетной записи интеграции можно выбрать среду ISE в качестве расположения учетной записи интеграции. Чтобы узнать, как ценообразование и выставление счетов для интеграционных учетных записей с ISE, [см.](../logic-apps/logic-apps-pricing.md#fixed-pricing) Для ценообразования цены, см [Логика Apps ценообразования](https://azure.microsoft.com/pricing/details/logic-apps/).

## <a name="next-steps"></a>Дальнейшие действия

* [Подключение к виртуальным сетям Azure из Azure Logic Apps](../logic-apps/connect-virtual-network-vnet-isolated-environment.md)
* Узнайте больше о [виртуальной сети Azure](../virtual-network/virtual-networks-overview.md)
* Узнайте об [интеграции виртуальной сети для служб Azure](../virtual-network/virtual-network-for-azure-services.md).
