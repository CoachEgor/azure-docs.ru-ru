---
title: Получение дополнительных элементов или записей с разбивкой на страницы
description: Настройте разбивку на страницы для превышения предельного размера страницы по умолчанию для действий соединителя в Azure Logic Apps
services: logic-apps
ms.suite: integration
ms.reviewer: klam, logicappspm
ms.topic: article
ms.date: 04/11/2019
ms.openlocfilehash: 75d9660eb35b5d7ddc644d177c11ae489e2853dc
ms.sourcegitcommit: 76b48a22257a2244024f05eb9fe8aa6182daf7e2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/03/2019
ms.locfileid: "74792110"
---
# <a name="get-more-data-items-or-records-by-using-pagination-in-azure-logic-apps"></a>Получение дополнительных данных, элементов или записей с помощью разбиения на страницы в Azure Logic Apps

При извлечении данных, элементов или записей с помощью действия соединителя в [Azure Logic Apps](../logic-apps/logic-apps-overview.md)вы можете получить результирующие наборы так, чтобы они не возвращали все результаты одновременно. При некоторых действиях количество результатов может превышать размер страницы по умолчанию для соединителя. В этом случае действие возвращает только первую страницу результатов. Например, размер страницы по умолчанию для действия **получения строк** соединителя SQL Server равен 2048, но может отличаться в зависимости от других параметров.

Некоторые действия позволяют включить параметр *разбивки на страницы* , чтобы приложение логики получало больше результатов до предела разбивки на страницы, но вернуть результаты в виде одного сообщения после завершения действия. При использовании разбивки на страницы необходимо указать *пороговое* значение, которое является целевым числом результатов, возвращаемых действием. Действие получает результаты, пока не достигнет указанного порогового значения. Если общее число элементов меньше заданного порогового значения, действие извлекает все результаты.

Включение параметра разбивки на страницы приводит к извлечению страниц результатов на основе размера страницы соединителя. Такое поведение означает, что иногда может получиться больше результатов, чем заданное пороговое значение. Например, при использовании действия SQL Server **Получение строк** , которое поддерживает настройку разбивки на страницы:

* Размер страницы по умолчанию для этого действия составляет 2048 записей на страницу.
* Предположим, что у вас есть 10 000 записей и в качестве минимального количества записей указано 5000.
* Разбиение на страницы — получение страниц записей, поэтому для получения хотя бы указанного минимума действие возвращает 6144 записей (3 страницы x 2048 записей), а не 5000 записей.

Ниже приведен список, содержащий только некоторые соединители, в которых можно превысить размер страницы по умолчанию для определенных действий.

* [Хранилище BLOB-объектов Azure](https://docs.microsoft.com/connectors/azureblob/)
* [Dynamics 365](https://docs.microsoft.com/connectors/dynamicscrmonline/)
* [Excel](https://docs.microsoft.com/connectors/excel/)
* [HTTP](https://docs.microsoft.com/azure/connectors/connectors-native-http)
* [IBM DB2](https://docs.microsoft.com/connectors/db2/)
* [Microsoft Teams](https://docs.microsoft.com/connectors/teams/)
* [База данных Oracle](https://docs.microsoft.com/connectors/oracle/)
* [Salesforce](https://docs.microsoft.com/connectors/salesforce/)
* [SharePoint](https://docs.microsoft.com/connectors/sharepointonline/)
* [SQL Server](https://docs.microsoft.com/connectors/sql/)

## <a name="prerequisites"></a>Технические условия

* Подписка Azure. Если у вас еще нет подписки Azure, [зарегистрируйтесь для получения бесплатной учетной записи Azure](https://azure.microsoft.com/free/).

* Приложение логики и действие, в котором необходимо включить разбивку на страницы. Если у вас нет приложения логики, см. раздел [Краткое руководство. Создание первого приложения логики](../logic-apps/quickstart-create-first-logic-app-workflow.md).

## <a name="turn-on-pagination"></a>Включить разбивку на страницы

Чтобы определить, поддерживает ли действие разбиение на страницы в конструкторе приложений логики, проверьте параметры для параметра **разбивки на страницы** . В этом примере показано, как включить разбивку на страницы в действии SQL Server **Получение строк** .

1. В правом верхнем углу действия нажмите кнопку с многоточием ( **...** ) и выберите **Параметры**.

   ![Открытие параметров действия](./media/logic-apps-exceed-default-page-size-with-pagination/sql-action-settings.png)

   Если действие поддерживает разбивку на страницы, действие отображает параметр **разбивки на страницы** .

1. Измените значение параметра **разбивка на страницы** **с** **на вкл**. В свойстве **threshold** укажите целочисленное значение для целевого количества результатов, которое должно быть возвращено действием.

   ![Укажите Минимальное число возвращаемых результатов](./media/logic-apps-exceed-default-page-size-with-pagination/sql-action-settings-pagination.png)

1. Когда вы будете готовы, нажмите кнопку **Готово**.

## <a name="workflow-definition---pagination"></a>Определение рабочего процесса — разбивка на страницы

При включении разбивки на страницы для действия, которое поддерживает эту возможность, определение рабочего процесса приложения логики включает свойство `"paginationPolicy"` вместе со свойством `"minimumItemCount"` в свойстве `"runtimeConfiguration"` этого действия, например:

```json
"actions": {
   "HTTP": {
      "inputs": {
         "method": "GET",
         "uri": "https://www.testuri.com"
      },
      "runAfter": {},
      "runtimeConfiguration": {
         "paginationPolicy": {
            "minimumItemCount": 1000
         }
      },
      "type": "Http"
   }
},
```

## <a name="get-support"></a>Получение поддержки

Если у вас возникли вопросы, то посетите [форум Azure Logic Apps](https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurelogicapps).
