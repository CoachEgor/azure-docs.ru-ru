---
title: Мониторинг приложений логики с помощью Azure Monitor Azure Logic Apps
description: Получение ценных сведений и отладка данных для устранения неполадок и диагностики запуска приложений логики с помощью журналов Azure Monitor
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ecfan
ms.author: estfan
ms.reviewer: divswa, LADocs
ms.topic: article
ms.date: 08/16/2019
ms.openlocfilehash: 2f82bd9c0bcacf2c552df84cdd4f8f2cd6a68c8a
ms.sourcegitcommit: 0c906f8624ff1434eb3d3a8c5e9e358fcbc1d13b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/16/2019
ms.locfileid: "69543233"
---
# <a name="get-insights-and-debugging-data-for-logic-apps-by-using-azure-monitor-logs"></a>Получение ценных сведений и отладка для приложений логики с помощью журналов Azure Monitor

Чтобы отслеживать и получать более подробные сведения об отладке приложений логики, включите [журналы Azure Monitor](../log-analytics/log-analytics-overview.md) при создании приложения логики. Журналы Azure Monitor обеспечивают ведение журнала диагностики и мониторинг для приложений логики при установке решения по управлению Logic Apps в портал Azure. Это решение также предоставляет статистические данные для выполнений приложений логики с конкретными сведениями, такими как состояние, время выполнения, состояние повторной отправки и идентификаторы корреляции. В этой статье показано, как включить журналы Azure Monitor, чтобы можно было просматривать события и данные времени выполнения для приложений логики.

В этом разделе показано, как настроить журналы Azure Monitor при создании приложения логики. Чтобы включить журналы Azure Monitor для существующих приложений логики, выполните следующие действия, чтобы [включить ведение журнала диагностики и отправить данные среды выполнения приложения логики в журналы Azure Monitor](../logic-apps/logic-apps-monitor-your-logic-apps.md#azure-diagnostics).

> [!NOTE]
> На этой странице ранее были описаны действия по выполнению этих задач с помощью Microsoft Operations Management Suite (OMS), которые были [прекращены в январе 2019](../azure-monitor/platform/oms-portal-transition.md), и эти действия заменяются [Azure Monitor журналами](../azure-monitor/platform/data-platform-logs.md), замененными термином log Analytics. Данные журнала по-прежнему хранятся в рабочей области Log Analytics, собираются и анализируются той же службой Log Analytics. Дополнительные сведения см. в разделе [Azure Monitor изменения терминологии](../azure-monitor/terminology.md).

## <a name="prerequisites"></a>Предварительные требования

Чтобы начать работу, вам потребуется рабочая область Log Analytics. Узнайте, [как создать рабочую область Log Analytics](../azure-monitor/learn/quick-create-workspace.md).

## <a name="turn-on-logging-for-new-logic-apps"></a>Включение ведения журнала для новых приложений логики

1. В [портал Azure](https://portal.azure.com)Создайте приложение логики. В главном меню на портале Azure последовательно выберите **Создать ресурс** > **Интеграция** > **Приложение логики**.

   ![Создание нового приложения логики](media/logic-apps-monitor-your-logic-apps-oms/create-new-logic-app.png)

1. В разделе **приложение логики**выполните следующие действия.

   1. Введите имя приложения логики и выберите подписку Azure.

   1. Создайте или выберите существующую группу ресурсов Azure. Выберите расположение для приложения логики.

   1. В разделе **log Analytics**выберите **вкл**.

   1. В списке **Рабочая область log Analytics** выберите рабочую область, в которой нужно отправить данные из приложения логики.

      ![Предоставление сведений о приложении логики](./media/logic-apps-monitor-your-logic-apps-oms/create-logic-app-details.png)

      По завершении этого шага Azure создает приложение логики, которое теперь связано с рабочей областью Log Analytics. Кроме того, этот шаг автоматически устанавливает решение по управлению Logic Apps в рабочей области.

   1. Когда все будет готово, выберите **Создать**.

1. Чтобы просмотреть сведения о запусках приложений логики, [выполните описанные здесь действия](#view-logic-app-runs-oms).

## <a name="install-logic-apps-management-solution"></a>Установка решения Logic Apps Management

Если вы уже включили Azure Monitor журналы при создании приложения логики, пропустите этот шаг. Решение по управлению Logic Apps уже установлено.

1. На [портале Azure](https://portal.azure.com) выберите **Все службы**. В поле поиска найдите "рабочие области log Analytics" и выберите **log Analytics рабочие области**.

   ![Выберите "Log Analytics рабочие области".](./media/logic-apps-monitor-your-logic-apps-oms/find-log-analytics.png)

1. В разделе **log Analytics рабочие области**выберите рабочую область.

   ![Выбор рабочей области Log Analytics](./media/logic-apps-monitor-your-logic-apps-oms/select-log-analytics-workspace.png)

1. В области Обзор в разделе Начало **работы с log Analytics** > **настроить решения мониторинга**выберите пункт **Просмотреть решения**.

   ![Выберите "Просмотр решений".](media/logic-apps-monitor-your-logic-apps-oms/log-analytics-workspace.png)

1. В разделе **Обзор**выберите **Добавить**.

   ![Выберите "Добавить".](./media/logic-apps-monitor-your-logic-apps-oms/add-logic-apps-management-solution.png)

1. После открытия **Marketplace** в поле поиска введите "Управление логическими приложениями" и выберите **Управление Logic Apps**.

   ![Выбор "Logic Apps Management"](./media/logic-apps-monitor-your-logic-apps-oms/select-logic-apps-management.png)

1. В области описание решения выберите **создать**.

   ![Выберите "создать" для "управления Logic Apps".](./media/logic-apps-monitor-your-logic-apps-oms/create-logic-apps-management-solution.png)

1. Проверьте и подтвердите Log Analytics рабочей области, в которую нужно установить решение, и нажмите кнопку **создать** еще раз.

   ![Выберите "создать" для "управления Logic Apps".](./media/logic-apps-monitor-your-logic-apps-oms/confirm-log-analytics-workspace.png)

   После того, как Azure развернет решение в группу ресурсов Azure, содержащую рабочую область Log Analytics, решение появится в области сводки вашей рабочей области.

   ![Панель сводки по рабочей области](./media/logic-apps-monitor-your-logic-apps-oms/workspace-summary-pane-logic-apps-management.png)

<a name="view-logic-app-runs-oms"></a>

## <a name="view-logic-app-run-information"></a>Просмотр сведений о выполнении приложения логики

Когда приложение логики завершит работу, состояние и количество выполнений можно просмотреть на плитке **Logic Apps Management**.

1. Перейдите в рабочую область log Analytics и выберите **рабочую область Сводка по** > **Logic Apps управление**.

   ![Состояние выполнения приложения логики и счетчик](media/logic-apps-monitor-your-logic-apps-oms/logic-app-runs-summary.png)

   Здесь сведения о выполнении приложений логики группируются по имени или по состоянию выполнения. Кроме того, можно просмотреть сведения о сбоях в действиях или триггерах для выполнений приложения логики.

   ![Сводные данные о состоянии выполнения приложений логики](media/logic-apps-monitor-your-logic-apps-oms/logic-app-runs-summary-details.png)

1. Чтобы просмотреть все сведения о выполнении конкретного приложения логики или о конкретном состоянии, выберите строку с соответствующим приложением логики или состоянием.

   Ниже приведен пример, в котором показаны все сведения о выполнении конкретного приложения логики.

   ![Просмотр сведений о выполнении по приложению логики или по состоянию](media/logic-apps-monitor-your-logic-apps-oms/logic-app-run-details.png)

   Эта страница содержит следующие дополнительные параметры.

   * **Отслеживаемые свойства**.

     В этом столбце отображаются отслеживаемые свойства для приложения логики, которые группируются по действиям. Чтобы просмотреть отслеживание свойств, выберите **вид**. Для поиска отслеживаемых свойств можно использовать фильтр столбцов.

     ![Просмотр отслеживаемых свойств для приложения логики](media/logic-apps-monitor-your-logic-apps-oms/logic-app-tracked-properties.png)

     Прежде чем любое новое добавленное отслеживаемое свойство появится впервые, может пройти 10–15 минут. Узнайте, [как добавить отслеживаемые свойства в приложение логики](logic-apps-monitor-your-logic-apps.md#azure-diagnostics-event-settings-and-details).

   * **Отправить повторно**. Можно повторно отправить одну или несколько операций приложения логики, завершившихся сбоем, выполненных успешно или все еще выполняемых. Установите флажки для тех запусков, которые необходимо отправить повторно, и щелкните **Отправить повторно**.

     ![Повторная отправка выполнений приложения логики](media/logic-apps-monitor-your-logic-apps-oms/logic-app-resubmit.png)

1. Чтобы отфильтровать эти результаты, можно применить фильтр как на стороне клиента, так и на стороне сервера.

   * **Клиентский фильтр**. Для каждого столбца выберите нужные фильтры, например:

     ![Пример фильтров столбцов](media/logic-apps-monitor-your-logic-apps-oms/filters.png)

   * **Серверный фильтр**. Чтобы выбрать конкретное временное окно или ограничить число отображаемых запусков, используйте элемент управления областью в верхней части страницы. По умолчанию за раз отображается только 1000 записей.

     ![Изменение временного окна](media/logic-apps-monitor-your-logic-apps-oms/change-interval.png)

1. Чтобы просмотреть все действия и сведения о них для определенного выполнения приложения логики, выберите его строку.

   Ниже приведен пример, в котором показаны все действия при определенном выполнении приложения логики.

   ![Просмотр действий для выполнения приложения логики](media/logic-apps-monitor-your-logic-apps-oms/logic-app-action-details.png)

1. На любой странице результатов, чтобы просмотреть запрос за результатами или просмотреть все результаты, выберите **Просмотреть все**, после чего откроется страница поиска по журналам.

   ![Элемент "Показать все" на странице "Результаты"](media/logic-apps-monitor-your-logic-apps-oms/logic-app-seeall.png)

   На странице поиска по журналам можно выбрать следующие параметры.

   * Чтобы просмотреть результаты запроса в таблице, выберите **Таблица**.

   * Чтобы изменить запрос, отредактируйте строку запроса на панели поиска. Для лучшего удобства выберите Расширенная **аналитика**.

     ![Просмотр действий и сведений о них для выполнения приложения логики](media/logic-apps-monitor-your-logic-apps-oms/log-search-page.png)

     На странице log Analytics можно обновлять запросы и просматривать результаты из таблицы. В этом запросе используется [язык запросов Kusto](https://aka.ms/LogAnalyticsLanguageReference), который можно изменять, если требуется просмотреть другие результаты.

     ![Log Analytics-представление запроса](media/logic-apps-monitor-your-logic-apps-oms/query.png)

## <a name="next-steps"></a>Следующие шаги

* [Мониторинг сообщений B2B](../logic-apps/logic-apps-monitor-b2b-message.md)