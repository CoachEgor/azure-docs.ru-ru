---
title: Экспорт перетекает из Power Automate в приложения логики Azure
description: Переход потоков из Power Automate в приложения логики Azure, экспортируя в качестве шаблонов менеджера ресурсов Azure
services: logic-apps
ms.suite: integration
ms.reviewer: klam, logicappspm
ms.topic: conceptual
ms.date: 07/10/2019
ms.openlocfilehash: 616f10b32d0a9c1a05d759a0e27550cd2808808b
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "75428880"
---
# <a name="export-flows-from-power-automate-and-deploy-to-azure-logic-apps"></a>Экспорт потоков из Power Automate и их развертывание в Azure Logic Apps

Чтобы расширить и расширить возможности потока, можно перенести этот поток из [Power Automate](https://flow.microsoft.com) в [приложения логики Azure.](../logic-apps/logic-apps-overview.md) Вы можете экспортировать свой поток в шаблон Azure Resource Manager для приложения логики, развернуть шаблон приложения логики в группу ресурсов Azure, а затем открыть это приложение логики в Logic App Designer.

> [!NOTE]
> Не все разъемы Power Automate доступны в приложениях Azure Logic Apps. Можно импортировать потоки, которые имеют [эквивалентные разъемы](../connectors/apis-list.md) в приложениях Логики Azure. Например, триггер кнопки, разъем утверждения и разъем уведомлений специфичны для Power Automate.
>
> Потоки на основе OpenAPI, экспортируемые из Power Automate, в настоящее время не поддерживаются для развертывания в качестве шаблонов логических приложений. 

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Если у вас еще нет подписки Azure, [зарегистрируйтесь для получения бесплатной учетной записи Azure](https://azure.microsoft.com/free/).

* Поток, который вы хотите экспортировать из Power Automate

## <a name="export-a-flow"></a>Экспорт потока

1. Вопийте в [Power Automate](https://flow.microsoft.com)и выберите **Мои потоки.** Найдите и выберите свой поток. На панели инструментов выберите эллипсы **(...**) кнопку. Выберите шаблон **Экспортные** > **Логические Приложения (.json)**.

   ![Экспорт потока](./media/export-from-microsoft-flow-logic-app-template/export-flow.png)

1. Сохраните шаблон в нужном месте.

Для получения дополнительной информации [см.](https://flow.microsoft.com/blog/grow-up-to-logic-apps/)

## <a name="deploy-template-by-using-the-azure-portal"></a>Развертывание шаблона с помощью портала Azure

1. Подпишитесь на [портал Azure](https://portal.azure.com) с помощью учетной записи Azure.

1. В главном меню Azure выберите команду **Создать ресурс**. В поле поиска введите "шаблон развертывания". Выберите **развертывание шаблонов (развертывание с помощью пользовательских шаблонов),** а затем выберите **Создать.**

   ![Выберите "Развертывание шаблонов"](./media/export-from-microsoft-flow-logic-app-template/select-template-deployment.png)

1. При **пользовательском развертывании**выберите **свой шаблон в редакторе.**

   ![Выберите "Создайте свой собственный шаблон в редакторе"](./media/export-from-microsoft-flow-logic-app-template/build-template-in-editor.png)

1. Из панели инструментов **шаблона Edit** выберите **файл Load.** Найдите и выберите шаблон JSON, экспортированный из Power Automate, и выберите **Open.**

   ![Выберите "Файл загрузки"](./media/export-from-microsoft-flow-logic-app-template/load-file.png)

1. После того, как редактор показывает JSON, параметры и ресурсы в шаблоне, выберите **Сохранить**.
  
   ![Сохранение шаблона](./media/export-from-microsoft-flow-logic-app-template/save-template.png)

1. Теперь укажите эти параметры ввода для шаблона:

   * Подписка Azure для использования для выставления счетов
   * Группа ресурсов Azure
   * Расположение группы ресурсов Azure
   * Имя для ресурса приложения логики
   * Расположение ресурса приложения логики, если отличается от группы ресурсов Azure
   * Имя для любых ранее созданных соединений, которые приложение логики может повторно использовать

      Если вы создаете свое первое логическое приложение, все соединения создаются как новые, так что вы можете принимать имена по умолчанию. В противном случае можно указать имена для ранее созданных соединений, которые можно использовать в нескольких логических приложениях.

   После предоставления этой информации для шаблона просмотрите и сопримитесь с условиями и условиями Azure Marketplace для создания необходимых ресурсов Azure и выставления счета за подписку Azure соответственно, а затем выберите **Purchase.**
  
   ![Указать параметры ввода для шаблона](./media/export-from-microsoft-flow-logic-app-template/template-input-parameters.png)

   Azure развертывает шаблон как логическое приложение для указанной группы ресурсов. Все логические приложения, которые вы мигрируете из Power Automate, развернуты в отключенном состоянии.

1. Прежде чем активировать приложение логики, авторизуйте новые соединения, выдыхая следующие следующие действия:

   1. Откройте созданное приложение логики. В меню приложения логики выберите **дизайнера приложения Logic.**

      Каждое соединение, требующее авторизации, показывает значок предупреждения:

      ![Значок предупреждения](./media/export-from-microsoft-flow-logic-app-template/authorize-connections.png)

   1. Для каждого шага, требующего авторизованного соединения, расширьте этот шаг и выберите **Добавить новый**.

      ![Добавить новое подключение](./media/export-from-microsoft-flow-logic-app-template/add-new-connection.png)

   1. Вопием в каждой службе или предоставьте необходимые учетные данные для авторизации соединения.

1. Сохраните приложение логики. Когда вы будете готовы активировать приложение логики, в меню приложения логики, выберите **Обзор,** а затем выберите **Включить**.

   ![Включить приложение логики](./media/export-from-microsoft-flow-logic-app-template/enable-logic-app.png)

1. Чтобы избежать дублирования рабочих процессов, убедитесь, что вы деактивируете или удаляете исходный поток.

## <a name="deploy-template-by-using-visual-studio"></a>Развертывание шаблона с помощью Visual Studio

Если вы создали Visual Studio с предпосылками для создания [логических](../logic-apps/quickstart-create-logic-apps-with-visual-studio.md#prerequisites) приложений, можно развернуть экспортированный шаблон из Visual Studio в Azure Logic Apps.

1. В Visual Studio откройте файл шаблона, который вы экспортировали из Power Automate.

1. В Visual Studio создайте проект Группы ресурсов Azure и выберите шаблон **Logic App,** выполнив следующие шаги в [квикстарте: Создание автоматизированных задач, процессов и рабочих процессов с azure Logic Apps - Visual Studio,](../logic-apps/quickstart-create-logic-apps-with-visual-studio.md)например:

   ![Создание проекта группы ресурсов Azure](./media/export-from-microsoft-flow-logic-app-template/create-azure-resource-group-project.png)

1. От Solution Explorer откройте файл **LogicApp.json,** если файл еще не открыт.

1. Копируйте содержимое из экспортируемого шаблона и перезаписывайте содержимое в **файлlogicApp.json.**

1. Перед развертыванием приложения логики авторизируйте новые соединения, выдвивая следующие действия:

   1. Откройте **меню shortcut LogicApp.json,** а затем выберите **Open With Logic App Designer.**

      ![Открытый шаблон с дизайнером приложений логики](./media/export-from-microsoft-flow-logic-app-template/open-logic-app-designer.png)

   1. При запросе выберите группу подписки azure и ресурсы, которые необходимо использовать для развертывания приложения логики.

      ![Выберите группу подписки и ресурсов Azure](./media/export-from-microsoft-flow-logic-app-template/select-azure-subscription-resource-group-deployment.png)

      После того, как приложение логики появится в конструкторе, любые соединения, требующие значков предупреждения авторизации:

      ![Соединения с значками предупреждений](./media/export-from-microsoft-flow-logic-app-template/authorize-connections-vs.png)

   1. Для каждого шага, требующего авторизованного соединения, расширьте этот шаг и выберите **Добавить новый**.

      ![Добавить новое подключение](./media/export-from-microsoft-flow-logic-app-template/add-new-connection-vs.png)

   1. Вопием в каждой службе или предоставьте необходимые учетные данные для авторизации соединения.

   1. Сохраните решение перед развертыванием приложения логики.

1. В Solution Explorer откройте меню ярлыков проекта и выберите **Развертывание** > **нового**. Если отобразится запрос на вход в учетную запись Azure, выполните его.

1. При запросе подтвердите подписку Azure, группу ресурсов Azure и любые другие параметры, которые необходимо использовать для развертывания, например [файл параметров](../azure-resource-manager/templates/parameter-files.md) для использования для прохождения значений параметров шаблона, а затем выберите **развертывание.**

   ![Подтверждение настроек развертывания](./media/export-from-microsoft-flow-logic-app-template/confirm-azure-subscription-resource-group-deployment.png)

1. При отображевом поле **Параметры отсечения** укажите имя ресурса приложения логики в Azure и выберите **Сохранить**—  

   ![Оторитепараметры развертывания](./media/export-from-microsoft-flow-logic-app-template/edit-parameters-deployment.png)

   При запуске развертывания его состояние отобразится в окне **Выходные данные** Visual Studio. Если состояние не отображается, откройте список **Показать вывод из** и выберите свою группу ресурсов Azure. Пример:

   ![Окно вывода](./media/export-from-microsoft-flow-logic-app-template/output-window.png)

   Если какие-либо соединения в вашем приложении логики нуждаются в входе от вас, окно PowerShell открывается в фоновом режиме и подсказывает для любых необходимых паролей или секретных ключей. После ввода этих сведений развертывание продолжится.

   ![Аутентификативные соединения](./media/export-from-microsoft-flow-logic-app-template/logic-apps-powershell-window.png)

   После завершения развертывания приложение логики публикуется, но не активируется на портале Azure.

1. Когда вы будете готовы активировать приложение логики на портале Azure, найдите и откройте свое логическое приложение в Logic App Designer. В меню приложения логики выберите **Обзор,** а затем выберите **Включить**.

1. Чтобы избежать дублирования рабочих процессов, убедитесь, что вы деактивируете или удаляете исходный поток.

Для получения дополнительной информации об этих шагах развертывания [см.](../logic-apps/quickstart-create-logic-apps-with-visual-studio.md#deploy-to-Azure)

## <a name="next-steps"></a>Дальнейшие действия

* Узнайте больше о [разъемах для приложений логики Azure](../connectors/apis-list.md)
* Узнайте больше о [приложениях для логики Azure](../logic-apps/logic-apps-overview.md)
