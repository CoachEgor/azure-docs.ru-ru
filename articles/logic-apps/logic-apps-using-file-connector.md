---
title: Подключение к файловым системам в помещениях
description: Автоматизация задач и рабочих процессов, которые подключаются к локальным файловым системам, используя соединитель файловой системы, через локальный шлюз данных в Azure Logic Apps.
services: logic-apps
ms.suite: integration
author: derek1ee
ms.author: deli
ms.reviewer: klam, estfan, logicappspm
ms.topic: article
ms.date: 01/13/2019
ms.openlocfilehash: 2a00405a2100c3e565ca4f8ea4149540a5199b43
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77651412"
---
# <a name="connect-to-on-premises-file-systems-with-azure-logic-apps"></a>Подключение к локальной файловой системе с помощью Azure Logic Apps

С помощью приложений Azure Logic Apps и разъема файловой системы можно создавать автоматизированные задачи и рабочие процессы, которые создают и управляют файлами на основе раздела файлов, например:

- создание, получение, добавление, обновление и удаление файлов;
- создание списка файлов в папках или корневых папках;
- получение содержимого и метаданных файлов;

В этой статье на примере сценария показано, как подключиться к локальной файловой системе: копирование файла, переданного в Dropbox, в файловый ресурс, а затем отправка сообщения. Для безопасного подключения и доступа к локальным системам в приложениях логики используется [локальный шлюз данных](../logic-apps/logic-apps-gateway-connection.md). Если вы новичок в логических приложениях, просмотрите [Что такое Azure Logic Apps?](../logic-apps/logic-apps-overview.md). Для получения технической информации [File System connector reference](/connectors/filesystem/)о разъеме см.

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Если у вас еще нет подписки Azure, [зарегистрируйтесь для получения бесплатной учетной записи Azure](https://azure.microsoft.com/free/).

* Прежде чем подключать приложения логики к таким локальным системам, как сервер файловой системы, нужно [установить и настроить локальный шлюз данных](../logic-apps/logic-apps-gateway-install.md). Таким образом, вы можете настроить использование установки шлюза при создании подключения к файловой системе из вашего приложения логики.

* [Учетная запись Dropbox,](https://www.dropbox.com/)которую вы можете зарегистрироваться бесплатно. Учетные данные вашей учетной записи необходимы для создания связи между приложением логики и учетной записью Dropbox.

* Доступ к компьютеру с файловой системой, которую вы хотите использовать. Например, если вы установите шлюз данных на том же компьютере, что и файловая система, вам нужны учетные данные для этого компьютера.

* Учетная запись электронной почты поставщика, поддерживаемого Logic Apps (например, Office 365 Outlook, Outlook.com или Gmail). Сведения о дополнительных поставщиках см. в [списке соединителей](https://docs.microsoft.com/connectors/). Это приложение логики использует учетную запись Office 365 Outlook. Если вы используете другую учетную запись электронной почты, общие шаги те же, но пользовательский интерфейс может немного отличаться.

* Базовые знания о [создании приложений логики](../logic-apps/quickstart-create-first-logic-app-workflow.md). Для этого примера требуется пустое приложение логики.

## <a name="add-trigger"></a>Добавление триггера

[!INCLUDE [Create connection general intro](../../includes/connectors-create-connection-general-intro.md)]

1. Войдите на [портал Azure](https://portal.azure.com) и откройте свое приложение логики в конструкторе приложений логики, если оно еще не открыто.

1. В поле поиска введите слово dropbox в качестве фильтра. В списке триггеров выберите этот триггер: **When a file is created** (При создании файла)

   ![Выбор триггера Dropbox](media/logic-apps-using-file-connector/select-dropbox-trigger.png)

1. Войдите с учетными данными учетной записи Dropbox и авторизуйте доступ к данным Dropbox для Azure Logic Apps.

1. Укажите необходимые сведения для триггера.

   ![Триггер Dropbox](media/logic-apps-using-file-connector/dropbox-trigger.png)

## <a name="add-actions"></a>Добавление действий

1. В разделе триггера выберите **Следующий шаг**. В поле поиска введите "файловая система" в качестве фильтра. Из списка действий выберите это действие: **Создание файла**

   ![Поиск соединителя файловой системы](media/logic-apps-using-file-connector/find-file-system-action.png)

1. Если у вас еще нет подключения к файловой системе, то вам будет предложено создать такое подключение.

   ![Создание подключения](media/logic-apps-using-file-connector/file-system-connection.png)

   | Свойство | Обязательно | Значение | Описание |
   | -------- | -------- | ----- | ----------- |
   | **Имя подключения** | Да | <*имя соединения*> | Имя, которое нужно использовать для подключения. |
   | **Корневая папка** | Да | <*корневая папка-имя*> | Корневая папка для вашей файловой системы, если вы установили локальный шлюз данных (например, локальная папка на компьютере, где установлен локальный шлюз данных), или папка для сетевой папки, доступ к которой может получить компьютер. <p>Например: `\\PublicShare\\DropboxFiles` <p>Корневая папка является основной родительской папкой, которая используется для относительных путей всех действий с файлами. |
   | **Тип проверки подлинности** | нет | <*auth-тип*> | Тип проверки подлинности, который используется файловой системой, например **Windows**. |
   | **Пользователя** | Да | <*domain*>\\<*имя пользователя* домена> | Имя пользователя для компьютера, на котором есть файловая система. |
   | **Пароль** | Да | <*ваш пароль*> | Пароль для компьютера, на котором есть файловая система. |
   | **Шлюза** | Да | <*установленное имя шлюза*> | Имя вашего ранее установленного шлюза. |
   |||||

1. Когда все будет готово, выберите **Создать**.

   Logic Apps настраивает и проверяет подключение, гарантируя, что оно работает правильно. Если подключение настроено правильно, то отобразятся параметры для действия, выбранного ранее.

1. В действии **Создать файл** предоставьте необходимые сведения для копирования файлов из Dropbox в корневую папку вашего локального файлового ресурса. Чтобы добавить выходные данные из предыдущих шагов, щелкните внутри полей и выберите одно из доступных, когда появится список динамического содержимого.

   ![Действие для создания файла](media/logic-apps-using-file-connector/create-file-filled.png)

1. Теперь добавьте действие Outlook, которое отправляет сообщение, извещающее соответствующих пользователей о новом файле. Укажите адреса получателей, тему и текст сообщения. Для тестирования можете использовать свой собственный адрес электронной почты.

   ![Действие для отправки электронного сообщения](media/logic-apps-using-file-connector/send-email.png)

1. Сохраните приложение логики. Тестирование приложения путем загрузки файла в Dropbox.

   Приложение логики скопирует файл в локальный общий файловый ресурс и отправит получателям сообщение о том, что файл скопирован.

## <a name="connector-reference"></a>Справочник по соединителям

Для получения более подробной информации об этом разъеме, таких как триггеры, действия и ограничения, описанные в файле Swagger разъема, смотрите [страницу ссылки разъема.](https://docs.microsoft.com/connectors/fileconnector/)

> [!NOTE]
> Для логических приложений в [среде служб интеграции (ISE)](../logic-apps/connect-virtual-network-vnet-isolated-environment-overview.md)эта версия с маркировкой ISE разъема использует вместо этого [ограничения сообщений ISE.](../logic-apps/logic-apps-limits-and-config.md#message-size-limits)

## <a name="next-steps"></a>Дальнейшие действия

* Узнайте, как [подключиться к локальным данным](../logic-apps/logic-apps-gateway-connection.md). 
* См. дополнительные сведения о других [соединителях Logic Apps](../connectors/apis-list.md).
