---
title: Перемещение приложений логики между подписками, группами ресурсов или регионами — Azure Logic Apps
description: Миграция приложений логики или учетных записей интеграции в другие подписки Azure, группы ресурсов или расположения (регионы)
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ecfan
ms.author: estfan
ms.reviewer: klam, LADocs
ms.topic: conceptual
ms.date: 07/31/2019
ms.openlocfilehash: 8c3bad32943b83cbfe4c96087f3fef1c51f64bb1
ms.sourcegitcommit: d37991ce965b3ee3c4c7f685871f8bae5b56adfa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/21/2019
ms.locfileid: "72679114"
---
# <a name="move-logic-app-resources-to-other-azure-subscriptions-resource-groups-or-regions"></a>Перемещение ресурсов приложения логики в другие подписки Azure, группы ресурсов или регионы

Чтобы переместить приложение логики или связанные ресурсы в другую подписку Azure, группу ресурсов или регион, можно выполнить различные способы выполнения таких задач, как портал Azure, Azure PowerShell, Azure CLI и REST API. Прежде чем перемещать ресурсы, ознакомьтесь со следующими соображениями. 

* Вы можете перемещать только [определенные типы ресурсов приложения логики](../azure-resource-manager/move-support-resources.md#microsoftlogic) между группами ресурсов или подписками Azure.

* Проверьте [ограничения](../logic-apps/logic-apps-limits-and-config.md) на количество ресурсов приложения логики, которые можно использовать в подписке Azure и в каждом регионе Azure. Эти ограничения влияют на то, можно ли перемещать определенные типы ресурсов, когда регион остается неизменным для всех подписок или групп ресурсов. Например, у вас может быть только одна учетная запись интеграции уровня Free для каждого региона Azure в каждой подписке Azure.

* При перемещении ресурсов Azure создает новые идентификаторы ресурсов. Убедитесь, что вместо этого вы используете новые идентификаторы, и обновите все сценарии или средства, связанные с перемещенными ресурсами. После перемещения приложений логики между подписками, группами ресурсов или регионами необходимо заново создать или повторно авторизовать любые подключения на основе OAuth.

## <a name="prerequisites"></a>Технические условия

* Та же подписка Azure, которая использовалась для создания приложения логики или учетной записи интеграции, которую вы хотите переместить.

* Права владельца ресурса для перемещения и настройки нужных ресурсов. Дополнительные сведения об [управлении доступом на основе ролей (RBAC)](../role-based-access-control/built-in-roles.md#owner).

<a name="move-subscription"></a>

## <a name="move-resources-between-subscriptions"></a>Перемещение ресурсов между подписками

Чтобы переместить ресурс, например приложение логики или учетную запись интеграции, в другую подписку Azure, можно использовать портал Azure, Azure PowerShell, Azure CLI или REST API. Эти действия охватывают портал Azure, которые можно использовать, когда регион ресурса остается неизменным. Другие шаги и общие сведения о подготовке см. в статье [Перемещение ресурсов в новую группу ресурсов или подписку](../azure-resource-manager/resource-group-move-resources.md).

1. В [портал Azure](https://portal.azure.com)найдите и выберите ресурс приложения логики, который требуется переместить.

1. На странице **Обзор** ресурса рядом с полем **Подписка**выберите ссылку **изменить** .

1. На странице **Перемещение ресурсов** выберите ресурс приложения логики и все связанные ресурсы, которые требуется переместить.

1. В списке **Подписка** выберите целевую подписку.

1. В списке **Группа ресурсов** выберите целевую группу ресурсов. Чтобы создать другую группу ресурсов, выберите **создать новую группу**.

1. Чтобы убедиться в том, что любые сценарии или инструменты, связанные с перемещенными ресурсами, не будут работать, пока вы не обновите их новыми идентификаторами ресурсов, установите флажок подтверждения и нажмите кнопку **ОК**.

<a name="move-resource-group"></a>

## <a name="move-resources-between-resource-groups"></a>Перемещение ресурсов между группами ресурсов

Чтобы переместить ресурс, например приложение логики или учетную запись интеграции, в другую группу ресурсов Azure, можно использовать портал Azure, Azure PowerShell, Azure CLI или REST API. Эти действия охватывают портал Azure, которые можно использовать, когда регион ресурса остается неизменным. Другие шаги и общие сведения о подготовке см. в статье [Перемещение ресурсов в новую группу ресурсов или подписку](../azure-resource-manager/resource-group-move-resources.md).

Перед фактическим перемещением ресурсов между группами можно проверить, можно ли успешно переместить ресурс в другую группу. Дополнительные сведения см. [в разделе Проверка перемещения](../azure-resource-manager/resource-group-move-resources.md#validate-move).

1. В [портал Azure](https://portal.azure.com)найдите и выберите ресурс приложения логики, который требуется переместить.

1. На странице **Обзор** ресурса рядом с **группой ресурсов**выберите ссылку **изменить** .

1. На странице **Перемещение ресурсов** выберите ресурс приложения логики и все связанные ресурсы, которые требуется переместить.

1. В списке **Группа ресурсов** выберите целевую группу ресурсов. Чтобы создать другую группу ресурсов, выберите **создать новую группу**.

1. Чтобы убедиться в том, что любые сценарии или инструменты, связанные с перемещенными ресурсами, не будут работать, пока вы не обновите их новыми идентификаторами ресурсов, установите флажок подтверждения и нажмите кнопку **ОК**.

<a name="move-location"></a>

## <a name="move-resources-between-regions"></a>Перемещение ресурсов между регионами

Если вы хотите переместить приложение логики в другой регион, параметры зависят от способа создания приложения логики. В зависимости от выбранного варианта необходимо заново создать или повторно авторизовать подключения в приложении логики.

* В портал Azure повторно создайте приложение логики в новом регионе и перенастройте параметры рабочего процесса. Чтобы сэкономить время, можно скопировать базовое определение рабочего процесса и подключения из исходного приложения в целевое приложение. Чтобы просмотреть код, лежащий в основе приложения логики, на панели инструментов конструктора приложений логики выберите **представление кода**.

* С помощью Visual Studio и средств Azure Logic Apps для Visual Studio можно [Открыть и скачать приложение логики](../logic-apps/manage-logic-apps-with-visual-studio.md) из портал Azure как [шаблон Azure Resource Manager](../logic-apps/logic-apps-azure-resource-manager-templates-overview.md). Этот шаблон в основном готов к развертыванию и включает определения ресурсов для приложения логики, включая сам рабочий процесс и подключения. Шаблон также объявляет параметры для значений, используемых при развертывании. Таким образом, можно легко изменить место и способ развертывания приложения логики в зависимости от ваших потребностей. Чтобы указать расположение и другие необходимые сведения для развертывания, можно использовать отдельный файл параметров.

* Если вы создали и развернули приложение логики с помощью средств непрерывной интеграции (CI) и непрерывной поставки (CD), таких как Azure Pipelines в Azure DevOps, вы можете развернуть приложение в другом регионе, используя эти средства.

Дополнительные сведения о шаблонах развертывания для приложений логики см. в следующих разделах:

* [Обзор: Автоматизация развертывания для Azure Logic Apps с помощью шаблонов Azure Resource Manager](../logic-apps/logic-apps-azure-resource-manager-templates-overview.md)
* [Поиск, открытие и скачивание приложения логики из портал Azure в Visual Studio](../logic-apps/manage-logic-apps-with-visual-studio.md)
* [Создание шаблонов Azure Resource Manager для Azure Logic Apps](../logic-apps/logic-apps-create-azure-resource-manager-templates.md)
* [Развертывание шаблонов Azure Resource Manager для Azure Logic Apps](../logic-apps/logic-apps-deploy-azure-resource-manager-templates.md)

### <a name="related-resources"></a>Связанные ресурсы

Некоторые ресурсы Azure, такие как локальные ресурсы шлюза данных в Azure, могут существовать в регионе, который отличается от приложений логики, использующих эти ресурсы. Однако другие ресурсы Azure, такие как связанные учетные записи интеграции, должны находиться в том же регионе, что и приложения логики. На основе вашего сценария убедитесь, что приложения логики могут получать доступ к ресурсам, которые ваши приложения должны иметь в одном регионе.

Например, чтобы связать приложение логики с учетной записью интеграции, оба ресурса должны находиться в одном регионе. В таких сценариях, как аварийное восстановление, обычно требуются учетные записи интеграции с одинаковой конфигурацией и артефактами. В других сценариях могут потребоваться учетные записи интеграции с различными конфигурациями и артефактами.

Пользовательские соединители в Azure Logic Apps видимы для авторов и пользователей, имеющих одну и ту же подписку Azure и один и тот же клиент Azure Active Directory. Эти соединители доступны в том же регионе, где развернуты приложения логики. Дополнительные сведения см. в статье о [совместном применении пользовательских соединителей в организации](https://docs.microsoft.com/connectors/custom-connectors/share).

Шаблон, получаемый из Visual Studio, включает только определения ресурсов для приложения логики и его подключений. Таким образом, если приложение логики использует другие ресурсы, например учетную запись интеграции и артефакты B2B, такие как партнеры, соглашения и схемы, необходимо экспортировать шаблон учетной записи интеграции с помощью портал Azure. Этот шаблон включает определения ресурсов для учетной записи интеграции и артефактов. Однако шаблон не является полностью параметризованным. Поэтому необходимо вручную параметризовать значения, которые будут использоваться для развертывания.

### <a name="export-templates-for-integration-accounts"></a>Экспорт шаблонов для учетных записей интеграции

1. В [портал Azure](https://portal.azure.com)найдите и откройте учетную запись интеграции.

1. В меню учетной записи интеграции в разделе **Параметры**выберите **Экспорт шаблона**.

1. На панели инструментов нажмите кнопку **скачать**и сохраните шаблон.

1. Откройте и измените шаблон, чтобы параметризовать необходимые значения для развертывания.

## <a name="next-steps"></a>Дальнейшие действия

[Перемещение ресурсов Azure в новые группы ресурсов или подписки](../azure-resource-manager/resource-group-move-resources.md)