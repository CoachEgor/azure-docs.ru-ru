---
title: Мигрировать логические приложения по подпискам, группам ресурсов или регионам
description: Перенос логических приложений или учетных записей интеграции в другие подписи Azure, группы ресурсов или местоположения (регионы)
services: logic-apps
ms.suite: integration
ms.reviewer: klam, logicappspm
ms.topic: conceptual
ms.date: 07/31/2019
ms.openlocfilehash: f5944accb185f1311c811cf65a8ea8348fd569db
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77605607"
---
# <a name="move-logic-app-resources-to-other-azure-subscriptions-resource-groups-or-regions"></a>Перемещение ресурсов логических приложений в другие подписи Azure, группы ресурсов или регионы

Для переноса приложения логики или связанных с ними ресурсов в другую подписку Azure, группу ресурсов или область у вас есть различные способы выполнения этих задач, такие как портал Azure, Azure PowerShell, Azure CLI и REST API. Перед перемещением ресурсов просмотрите следующие соображения: 

* Можно перемещать только [определенные типы ресурсов логических приложений](../azure-resource-manager/management/move-support-resources.md#microsoftlogic) между группами ресурсов Azure или подписками.

* Проверьте [ограничения](../logic-apps/logic-apps-limits-and-config.md) на количество ресурсов логических приложений, которые можно иметь в подписке Azure и в каждом регионе Azure. Эти ограничения влияют на то, можно ли перемещать определенные типы ресурсов, когда регион остается неизменным между подписками или группами ресурсов. Например, в каждой подписке Azure может быть только одна учетная запись интеграции свободного уровня для каждого региона Azure.

* После переноса логических приложений между подписками, группами ресурсов или областями необходимо воссоздать или повторно авторизовать любые соединения, требующие открытой аутентификации (OAuth).

* Всякий раз, когда вы перемещаете ресурсы, Azure создает новые иди кто-то из ресурсов. Таким образом, убедитесь, что вы используете новые идентионные данные вместо этого и обновить любые скрипты или инструменты, которые связаны с перемещенными ресурсами.

## <a name="prerequisites"></a>Предварительные требования

* Та же подписка Azure, которая использовалась для создания приложения логики или учетной записи интеграции, которую вы хотите переместить

* Владелец ресурсов разрешает перемещать и настраивать ресурсы, которые вы хотите. Подробнее о [элементе управления доступом на основе ролей (RBAC).](../role-based-access-control/built-in-roles.md#owner)

<a name="move-subscription"></a>

## <a name="move-resources-between-subscriptions"></a>Перемещение ресурсов между подписками

Для перемещения ресурса, например приложения логики или учетной записи интеграции, в другую подписку Azure можно использовать портал Azure, Azure PowerShell, Azure CLI или REST API. Эти шаги охватывают портал Azure, который можно использовать при том, что область ресурса остается прежней. Для других шагов и общей подготовки [см. Перемещение ресурсов в новую группу ресурсов или подписку.](../azure-resource-manager/management/move-resource-group-and-subscription.md)

1. На [портале Azure](https://portal.azure.com)найдите и выберите ресурс приложения логики, который вы хотите переместить.

1. На странице **обзора** ресурса, рядом с **подпиской,** выберите ссылку **на изменение.**

1. На странице **ресурсов Move** выберите ресурс приложения логики и любые связанные ресурсы, которые вы хотите переместить.

1. Из списка **подписки** выберите подписку на пункт назначения.

1. Из списка **группы ресурсов** выберите группу ресурсов назначения. Или, чтобы создать другую группу ресурсов, выберите **Создать новую группу.**

1. Чтобы подтвердить ваше понимание того, что любые скрипты или инструменты, связанные с перемещенными ресурсами, не будут работать до тех пор, пока вы не обновите их с помощью новых идентимативных идентимативных данных, выберите окно подтверждения, а затем выберите **OK.**

<a name="move-resource-group"></a>

## <a name="move-resources-between-resource-groups"></a>Перемещение ресурсов между группами ресурсов

Для перемещения ресурса, например приложения логики или учетной записи интеграции, в другую группу ресурсов Azure можно использовать портал Azure, Azure PowerShell, Azure CLI или REST API. Эти шаги охватывают портал Azure, который можно использовать при том, что область ресурса остается прежней. Для других шагов и общей подготовки [см. Перемещение ресурсов в новую группу ресурсов или подписку.](../azure-resource-manager/management/move-resource-group-and-subscription.md)

Прежде чем фактически перемещать ресурсы между группами, можно проверить, можно ли успешно переместить ресурс в другую группу. Для получения дополнительной информации [см.](../azure-resource-manager/management/move-resource-group-and-subscription.md#validate-move)

1. На [портале Azure](https://portal.azure.com)найдите и выберите ресурс приложения логики, который вы хотите переместить.

1. На странице **обзора** ресурса, рядом с **группой ресурсов,** выберите ссылку **на изменение.**

1. На странице **ресурсов Move** выберите ресурс приложения логики и любые связанные ресурсы, которые вы хотите переместить.

1. Из списка **группы ресурсов** выберите группу ресурсов назначения. Или, чтобы создать другую группу ресурсов, выберите **Создать новую группу.**

1. Чтобы подтвердить ваше понимание того, что любые скрипты или инструменты, связанные с перемещенными ресурсами, не будут работать до тех пор, пока вы не обновите их с помощью новых идентимативных идентимативных данных, выберите окно подтверждения, а затем выберите **OK.**

<a name="move-location"></a>

## <a name="move-resources-between-regions"></a>Перемещение ресурсов между регионами

Если вы хотите переместить приложение логики в другой регион, ваши варианты зависят от способа создания приложения логики. Основываясь на выбранной вами опции, необходимо воссоздать или повторно авторизовать соединения в приложении логики.

* На портале Azure воссоздайте логическое приложение в новом регионе и перенастроить настройки рабочего процесса. Чтобы сэкономить время, можно скопировать базовое определение рабочего процесса и соединения из исходного приложения в приложение назначения. Для просмотра "кода" за логическим приложением на панели инструментов Logic App Designer выберите **представление кода.**

* Используя Visual Studio и инструменты Azure Logic Apps Tools для Visual Studio, вы можете [открыть и загрузить логическое приложение](../logic-apps/manage-logic-apps-with-visual-studio.md) с портала Azure в качестве [шаблона Azure Resource Manager.](../logic-apps/logic-apps-azure-resource-manager-templates-overview.md) Этот шаблон в основном готов к развертыванию и включает определения ресурсов для приложения логики, включая сам рабочий процесс и соединения. Шаблон также декларирует параметры значений для использования при развертывании. Таким образом, вы можете легко изменить, где и как вы развертываете логическое приложение, основываясь на ваших потребностях. Чтобы указать местоположение и другую необходимую информацию для развертывания, можно использовать отдельный файл параметров.

* Если вы создали и развернули логическое приложение с помощью инструментов непрерывной интеграции (CI) и непрерывной доставки (CD), таких как Azure Pipelines в Azure DevOps, можно развернуть приложение в другой регион, используя эти инструменты.

Для получения дополнительной информации о шаблонах развертывания для логических приложений, см.

* [Обзор: Автоматизация развертывания для приложений логики Azure с помощью шаблонов управления ресурсами Azure](../logic-apps/logic-apps-azure-resource-manager-templates-overview.md)
* [Найти, открыть и загрузить логическое приложение с портала Azure в Visual Studio](../logic-apps/manage-logic-apps-with-visual-studio.md)
* [Создание шаблонов управления ресурсами Azure для логических приложений Azure](../logic-apps/logic-apps-create-azure-resource-manager-templates.md)
* [Развертывание шаблонов диспетчера ресурсов Azure для логических приложений Azure](../logic-apps/logic-apps-deploy-azure-resource-manager-templates.md)

### <a name="related-resources"></a>Связанные ресурсы

Некоторые ресурсы Azure, такие как ресурсы шлюза данных в Azure, могут существовать в регионе, который отличается от логических приложений, которые используют эти ресурсы. Однако другие ресурсы Azure, такие как связанные учетные записи интеграции, должны существовать в том же регионе, что и логические приложения. Основываясь на сценарии, убедитесь, что ваши логические приложения могут получить доступ к ресурсам, которые ваши приложения ожидают существовать в том же регионе.

Например, чтобы связать приложение логики с интеграционной учетной записью, оба ресурса должны существовать в одном регионе. В таких сценариях, как аварийное восстановление, обычно нужны учетные записи интеграции с одинаковой конфигурацией и артефактами. В других сценариях могут потребоваться учетные записи интеграции с различными конфигурациями и артефактами.

Пользовательские разъемы в приложениях Azure Logic Apps видны авторам разъемов и пользователям, имеющим ту же подписку Azure и тому же арендатору Active Directory Azure. Эти разъемы доступны в том же регионе, где развернуты логические приложения. Дополнительные сведения см. в статье о [совместном применении пользовательских соединителей в организации](https://docs.microsoft.com/connectors/custom-connectors/share).

Шаблон, который вы получаете от Visual Studio, включает в себя только определения ресурсов для приложения логики и его соединения. Таким образом, если приложение логики использует другие ресурсы, например, учетную запись интеграции и артефакты B2B, такие как партнеры, соглашения и схемы, необходимо экспортировать шаблон этой учетной записи интеграции с помощью портала Azure. Этот шаблон включает определения ресурсов как для учетной записи интеграции, так и для артефактов. Тем не менее, шаблон не полностью параметризирован. Таким образом, необходимо вручную параметризировать значения, которые необходимо использовать для развертывания.

### <a name="export-templates-for-integration-accounts"></a>Шаблоны экспорта для интеграционных учетных записей

1. На [портале Azure](https://portal.azure.com)найдите и откройте свой интеграционный счет.

1. В меню интеграционного аккаунта в **настройках**выберите **шаблон Export.**

1. На панели инструментов выберите **Download**и сохраните шаблон.

1. Откройте и отспособите шаблон для параметры необходимых значений для развертывания.

## <a name="next-steps"></a>Дальнейшие действия

[Перемещение ресурсов Azure в новые группы ресурсов или подписки](../azure-resource-manager/management/move-resource-group-and-subscription.md)
