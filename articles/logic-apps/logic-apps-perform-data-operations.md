---
title: Выполнение операций на данных
description: Преобразование, управление и работа с выводами и форматами данных в Azure Logic Apps
services: logic-apps
ms.suite: integration
ms.reviewer: klam, logicappspm
ms.topic: article
ms.date: 09/20/2019
ms.openlocfilehash: baa6e5732221d120ff71217a3a86a942794c53f4
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79283944"
---
# <a name="perform-data-operations-in-azure-logic-apps"></a>Выполнение операций с данными в Azure Logic Apps

В этой статье описано работу с данными в приложениях логики, добавляя действия для этих задач, и многое другое.

* Создание таблиц из массивов.
* Создание массивов из других массивов на основе условия.
* Создание удобного маркера безопасности из свойств объекта нотации объектов JavaScript (JSON), чтобы можно было легко использовать эти свойства в рабочем процессе.

Если вы не нашли нужное действие, попробуйте просмотреть множество различных [функций манипуляции данными,](../logic-apps/workflow-definition-language-functions-reference.md) которые предоставляет Azure Logic Apps.

Эти таблицы суммируют операции с данными, которые можно использовать. Они организованы на основе исходных типов данных, над которыми работают операции, но каждое описание отображается в алфавитном порядке.

**Действия массива** 

Эти действия помогают работать с массивами данных.

| Действие | Описание |
|--------|-------------|
| [**Создать таблицу CSV**](#create-csv-table-action) | Создание таблицы значений с разделителями-запятыми (CSV) из массива. |
| [**Создание HTML-таблицы**](#create-html-table-action) | Создание таблицы HTML из массива. |
| [**Фильтрация массива**](#filter-array-action) | Создание подмножества массива из массива на основе указанного фильтра или условия. |
| [**Join**](#join-action) | Создание строки из всех элементов массива и разделение этих элементов указанным разделителем. |
| [**Выберите**](#select-action) | Создание массива из указанных свойств для всех элементов в другом массиве. |
||| 

**Действия JSON**

Эти действия помогают работать с данными в формате нотации объектов JavaScript (JSON).

| Действие | Описание |
|--------|-------------|
| [**Создать**](#compose-action) | Создание сообщения или строки из нескольких наборов входных данных, которые могут иметь разные типы данных. Затем можно использовать эту строку как единый ввод данных, а не повторно вводить одни и те же данные. Например, можно создать одно сообщение JSON с разных входных данных. |
| [**Анализ JSON**](#parse-json-action) | Создание удобных маркеров данных для свойств в содержимом JSON, чтобы можно было более легко использовать свойства в приложениях логики. |
|||

Чтобы создать более сложные преобразования JSON, см. раздел [Выполнение сложных преобразований JSON с помощью шаблона Liquid](../logic-apps/logic-apps-enterprise-integration-liquid-transform.md).

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Если у вас нет ее, вы можете [зарегистрироваться для получения бесплатной учетной записи Azure](https://azure.microsoft.com/free/).

* Приложение логики, в котором будет проводиться операция работы с данными

  Если вы новичок в логических приложениях, просмотрите [Что такое приложения логики Azure?](../logic-apps/logic-apps-overview.md) и [quickstart: Создайте свое первое логическое приложение.](../logic-apps/quickstart-create-first-logic-app-workflow.md)

* [Триггер](../logic-apps/logic-apps-overview.md#logic-app-concepts) в качестве первого шага приложения логики 

  Операции с данными доступны только как действия, поэтому, прежде чем использовать эти действия, запустите приложение логики с помощью триггера и включите любые другие действия, необходимые для создания желаемых результатов.

<a name="compose-action"></a>

## <a name="compose-action"></a>Действие compose

Чтобы построить один вывод, такой как объект JSON, из нескольких входов можно использовать действие **Compose.** Входные данные могут иметь различные типы, такие как целые числа, логические значения, массивы, объекты JSON и любой другой собственный тип, поддерживаемый Azure Logic Apps, например двоичный и XML. Затем можно использовать выходные данные в следующих действиях после действия **Создать**. Действие **Создать** также может спасти вас от повторного ввода одних и тех же данных при создании рабочего процесса приложения логики.

Например, можно создать сообщение JSON из нескольких переменных, таких как строковые переменные, в которых хранятся имена и фамилии людей, и целочисленной переменной, которая хранит возраст людей. Здесь действие **Создать** принимает следующие входные данные.

`{ "age": <ageVar>, "fullName": "<lastNameVar>, <firstNameVar>" }`

И создает выходные данные.

`{"age":35,"fullName":"Owens,Sophie"}`

Чтобы выполнить пример, следующие шаги делайте с помощью конструктора приложений логики. Если же вы предпочитаете работать в редакторе просмотра кода, можно скопировать пример определений **Создать** и действия **Инициализировать переменную** из этой статьи в определение рабочего процесса вашего собственного приложения логики. [Примеры кода операций данных — Действие "Создать"](../logic-apps/logic-apps-data-operations-code-samples.md#compose-action-example) 

1. На [портале Azure](https://portal.azure.com) или в Visual Studio откройте приложение логики в конструкторе приложений логики.

   В этом примере используется портал Azure и приложение логики с триггером **Повторение** и несколькими действиями **Инициализировать переменную**. Эти действия настроены для создания двух строковых и целочисленной переменных. Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск приложения логики образца для действия "Compose"](./media/logic-apps-perform-data-operations/sample-starting-logic-app-compose-action.png)

1. В приложении логики, где необходимо создать выходные данные, выполните один из следующих шагов. 

   * Чтобы добавить действие под последним шагом, выберите **Новый шаг.**

     ![Выберите "Новый шаг" для акции "Compose"](./media/logic-apps-perform-data-operations/add-compose-operation-action.png)

   * Чтобы добавить действие между шагами, переместите мышь**+** по подключающейстрельной стрелке, чтобы появился знак плюс () Выберите знак плюс, а затем выберите **Добавить действие.**

1. В разделе **Выберите действие** введите фильтр `compose` в поле поиска. Из списка действий выберите действие **«Сочините».**

   ![Выбор действия "Создать"](./media/logic-apps-perform-data-operations/select-compose-action.png)

1. В поле **Входные данные** укажите входные данные, необходимые для создания вывода.

   Если щелкнуть в этом примере поле **Входные данные**, появится список динамического содержимого, поэтому можно выбрать ранее созданные переменные.

   ![Выбор входных данных для использования для действия "Compose"](./media/logic-apps-perform-data-operations/configure-compose-action.png)

   Ниже приведен готовый пример действия **Создать**. 

   ![Готовый пример для действия "Compose"](./media/logic-apps-perform-data-operations/finished-compose-action.png)

1. Сохраните приложение логики. На панели инструментов конструктора щелкните **Сохранить**.

Дополнительные сведения об этом действии в определении базового процесса см. в разделе [Действие "Создать"](../logic-apps/logic-apps-workflow-actions-triggers.md#compose-action).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Создать** создает ожидаемые результаты, отправьте уведомление, которое включает выходные данные действия **Создать**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Создать**.

1. В этом действии щелкните в любом месте, чтобы отобразились результаты. Когда откроется список динамического содержимого, в действии **Создать** выберите **Выходные данные**.

   В этом примере используется действие **«Отправить письмо»** и включает поля **выхода** в теле и объекте электронной почты:

   ![Поля «Выход» для акции «Составить»](./media/logic-apps-perform-data-operations/send-email-compose-action.png)

1. Теперь вручную запустите приложение логики. На панели инструментов дизайнера выберите **Run**.

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Создать"](./media/logic-apps-perform-data-operations/compose-email-results.png)

<a name="create-csv-table-action"></a>

## <a name="create-csv-table-action"></a>Действие "Создать таблицу CSV"

Для создания таблицы, разделенной на запятое значение (CSV), которая имеет свойства и значения объектов JavaScript Object Notation (JSON) в массиве, используйте действие **таблицы Create CSV.** Затем можно использовать итоговую таблицу в действиях, которые следуют за действием **Создать таблицу CSV**.

Если же вы предпочитаете работать в редакторе просмотра кода, можно скопировать пример определений **Создать таблицу CSV** и **инициализировать переменные** из этой статьи в определение рабочего процесса вашего собственного приложения логики. [Примеры кода операций данных — Действие "Создать таблицу CSV"](../logic-apps/logic-apps-data-operations-code-samples.md#create-csv-table-action-example)

1. На [портале Azure](https://portal.azure.com) или в Visual Studio откройте приложение логики в конструкторе приложений логики.

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. Действие настроено для создания переменной, начальным значением которой является массив, который имеет некоторые свойства и значения в формате JSON. Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск приложения логики образца для действий "Создать таблицу CSV"](./media/logic-apps-perform-data-operations/sample-starting-logic-app-create-table-action.png)

1. В приложении логики, где необходимо создать таблицу CSV, выполните один из следующих шагов. 

   * Чтобы добавить действие под последним шагом, выберите **Новый шаг.**

     ![Выберите "Новый шаг" для действий "Создать таблицу CSV"](./media/logic-apps-perform-data-operations/add-create-table-action.png)

   * Чтобы добавить действие между шагами, переместите мышь**+** по подключающейстрельной стрелке, чтобы появился знак плюс () Выберите знак плюс, а затем выберите **Добавить действие.**

1. В разделе **Выберите действие** введите фильтр `create csv table` в поле поиска. Из списка действий выберите действие **таблицы «Создание CSV».**

   ![Выбор действия "Создать таблицу CSV"](./media/logic-apps-perform-data-operations/select-create-csv-table-action.png)

1. В поле **From** (От) укажите массив или выражение для создания таблицы.

   Если щелкнуть в этом примере поле **From** (От), появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.

   ![Выбор массива выходных данных для создания таблицы CSV](./media/logic-apps-perform-data-operations/configure-create-csv-table-action.png)

   > [!TIP]
   > Чтобы создать удобные токены для свойств в объектах JSON, можно выбрать эти свойства в качестве входных данных, используя [Анализ JSON](#parse-json-action) перед вызовом действия **Создать таблицу CSV**.

   Ниже приведен готовый пример действия **Создать таблицу CSV**. 

   ![Готовый пример для действия "Создать таблицу CSV"](./media/logic-apps-perform-data-operations/finished-create-csv-table-action.png)

1. Сохраните приложение логики. На панели инструментов конструктора щелкните **Сохранить**.

### <a name="customize-table-format"></a>Настройка формата таблицы

По умолчанию свойство **столбцов** автоматически создает столбцы таблицы на основе элементов массива. Чтобы указать пользовательские заголовки и значения, выполните следующие действия:

1. Откройте список **столбцов** и выберите **Custom.**

1. В свойстве **заголовка** укажите пользовательский текст заголовка для использования вместо него.

1. В свойстве **Значения** укажите пользовательское значение для использования.

Чтобы вернуть значения из массива, можно использовать [ `item()` функцию](../logic-apps/workflow-definition-language-functions-reference.md#item) с действием **таблицы Create.** В `For_each` цикле можно использовать [ `items()` функцию.](../logic-apps/workflow-definition-language-functions-reference.md#items)

Например, предположим, что вам нужны столбцы таблиц, которые имеют только значения свойств, а не имена свойств из массива. Чтобы вернуть только эти значения, выполните следующие действия для работы в представлении конструктора или в представлении кода. Вот результат, который этот пример возвращается:

```text
Apples,1
Oranges,2
```

#### <a name="work-in-designer-view"></a>Работа в представлении дизайнера

В действии держите столбец **заголовка** пустым. На каждой строке столбца **Значение** отосваивай каждое свойство массива, которое требуется. Каждая строка под **значением** возвращает все значения для указанного свойства массива и становится столбцом в таблице.

1. Под **значением**, на каждой строке, что вы хотите, нажмите внутри окна отсеивания так, чтобы динамический список содержимого появляется.

1. В списке динамического содержимого выберите **Выражение**.

1. В редактор выражения введите это выражение, которое определяет значение свойства массива, которое необходимо, и выберите **OK.**

   `item()?['<array-property-name>']`

   Пример:

   * `item()?['Description']`
   * `item()?['Product_ID']`

   ![Dereference "Описание" для "Создать таблицу CSV"](./media/logic-apps-perform-data-operations/csv-table-expression.png)

1. Повторите предыдущие шаги для каждого свойства массива, которое вы хотите. Когда вы закончите, ваше действие выглядит следующим образом:

   ![функция "пункт()" в таблице "Создать CSV"](./media/logic-apps-perform-data-operations/finished-csv-expression.png)

1. Чтобы разрешить выражения в более описательные версии, переключитесь на представление кода и обратно в представление конструктора, а затем вновь откройте рухнувшие действие:

   Таблица **Создания CSV** теперь отображается следующим образом:

   !["Создать таблицу CSV" - разрешенные выражения, без заголовков](./media/logic-apps-perform-data-operations/resolved-csv-expression.png)

#### <a name="work-in-code-view"></a>Работа в представлении кода

В определении JSON действия в `columns` массиве `header` установите свойство на пустую строку. Для `value` каждого свойства отодвинете каждое свойство массива, которое вы хотите.

1. На панели инструментов конструктора выберите **вид кода.**

1. В редакторе кода в `columns` массиве действия добавьте пустое `header` свойство и это `value` выражение для каждого столбца значений массива, которые вы хотите:

   ```json
   {
      "header": "",
      "value": "@item()?['<array-property-name>']"
   }
   ```

   Пример:

   ```json
   "Create_CSV_table": {
      "inputs": {
         "columns": [
            { 
               "header": "",
               "value": "@item()?['Description']"
            },
            { 
               "header": "",
               "value": "@item()?['Product_ID']"
            }
         ],
         "format": "CSV",
         "from": "@variables('myJSONArray')"
      }
   }
   ```

1. Переключитесь обратно на представление дизайнера и вновь откройте рухнувшему действию.

   Теперь действие **таблицы Create CSV** выглядит как этот пример, и выражения решили с более описательными версиями:

   !["Создать таблицу CSV" - разрешенные выражения и отсутствие заголовков](./media/logic-apps-perform-data-operations/resolved-csv-expression.png)

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Действие таблицы](../logic-apps/logic-apps-workflow-actions-triggers.md#table-action).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Создать таблицу CSV** создает ожидаемые результаты, отправьте уведомление, которое включает в себя выходные данные действия **Создать таблицу CSV**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Создать таблицу CSV**.

1. В этом действии щелкните в любом месте, чтобы отобразились результаты. Когда откроется список динамического содержимого, в действии **Создать таблицу CSV** выберите **Выходные данные**. 

   В этом примере используется Office 365 Outlook **Send an email** и включает поле **вывода** в теле электронной почты:

   ![Поля "Выход" для действия "Создать таблицу CSV"](./media/logic-apps-perform-data-operations/send-email-create-csv-table-action.png)

1. Теперь вручную запустите приложение логики. На панели инструментов дизайнера выберите **Run**.

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Создать таблицу CSV"](./media/logic-apps-perform-data-operations/create-csv-table-email-results.png)

<a name="create-html-table-action"></a>

## <a name="create-html-table-action"></a>Действие "Создать таблицу HTML"

Для создания HTML-таблицы с свойствами и значениями объектов JavaScript Object Notation (JSON) в массиве используйте действие **таблицы Create HTML.** Затем можно использовать итоговую таблицу в действиях, которые следуют за действием **Создать таблицу HTML**.

Если же вы предпочитаете работать в редакторе просмотра кода, можно скопировать пример определений **Создать таблицу HTML** и **инициализировать переменные** из этой статьи в определение рабочего процесса вашего собственного приложения логики. [Примеры кода операций данных — действие "Создать таблицу HTML"](../logic-apps/logic-apps-data-operations-code-samples.md#create-html-table-action-example) 

1. На [портале Azure](https://portal.azure.com) или в Visual Studio откройте приложение логики в конструкторе приложений логики.

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. Действие настроено для создания переменной, начальным значением которой является массив, который имеет некоторые свойства и значения в формате JSON. Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск приложения логики образца для "Создать таблицу HTML"](./media/logic-apps-perform-data-operations/sample-starting-logic-app-create-table-action.png)

1. В приложении логики, где необходимо создать таблицу HTML, выполните один из следующих шагов.

   * Чтобы добавить действие под последним шагом, выберите **Новый шаг.**

     ![Выберите "Новый шаг" для действий "Создать таблицу HTML"](./media/logic-apps-perform-data-operations/add-create-table-action.png)

   * Чтобы добавить действие между шагами, переместите мышь**+** по подключающейстрельной стрелке, чтобы появился знак плюс () Выберите знак плюс, а затем выберите **Добавить действие.**

1. В разделе **Выберите действие** введите фильтр `create html table` в поле поиска. Из списка действий выберите действие **таблицы Create HTML.**

   ![Выбор действия "Создать таблицу HTML"](./media/logic-apps-perform-data-operations/select-create-html-table-action.png)

1. В поле **From** (От) укажите массив или выражение для создания таблицы.

   Если щелкнуть в этом примере поле **From** (От), появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.

   ![Выбор массива выходных данных для создания таблицы HTML](./media/logic-apps-perform-data-operations/configure-create-html-table-action.png)

   > [!TIP]
   > Чтобы создать удобные токены для свойств в объектах JSON, можно выбрать эти свойства в качестве входных данных, используя [Анализ JSON](#parse-json-action) перед вызовом **Создать таблицу HTML**.

   Ниже приведен готовый пример действия **Создать таблицу HTML**.

   ![Готовый пример для таблицы HTML](./media/logic-apps-perform-data-operations/finished-create-html-table-action.png)

1. Сохраните приложение логики. На панели инструментов конструктора щелкните **Сохранить**.

### <a name="customize-table-format"></a>Настройка формата таблицы

По умолчанию свойство **столбцов** автоматически создает столбцы таблицы на основе элементов массива. Чтобы указать пользовательские заголовки и значения, выполните следующие действия:

1. Откройте список **столбцов** и выберите **Custom.**

1. В свойстве **заголовка** укажите пользовательский текст заголовка для использования вместо него.

1. В свойстве **Значения** укажите пользовательское значение для использования.

Чтобы вернуть значения из массива, можно использовать [ `item()` функцию](../logic-apps/workflow-definition-language-functions-reference.md#item) с действием **таблицы Create HTML.** В `For_each` цикле можно использовать [ `items()` функцию.](../logic-apps/workflow-definition-language-functions-reference.md#items)

Например, предположим, что вам нужны столбцы таблиц, которые имеют только значения свойств, а не имена свойств из массива. Чтобы вернуть только эти значения, выполните следующие действия для работы в представлении конструктора или в представлении кода. Вот результат, который этот пример возвращается:

```text
Apples,1
Oranges,2
```

#### <a name="work-in-designer-view"></a>Работа в представлении дизайнера

В действии держите столбец **заголовка** пустым. На каждой строке столбца **Значение** отосваивай каждое свойство массива, которое требуется. Каждая строка под **значением** возвращает все значения для указанного свойства и становится столбцом в таблице.

1. Под **значением**, на каждой строке, что вы хотите, нажмите внутри окна отсеивания так, чтобы динамический список содержимого появляется.

1. В списке динамического содержимого выберите **Выражение**.

1. В редактор выражения введите это выражение, которое определяет значение свойства массива, которое необходимо, и выберите **OK.**

   `item()?['<array-property-name>']`

   Пример:

   * `item()?['Description']`
   * `item()?['Product_ID']`

   ![Ссылка на свойство в действии "Создать таблицу HTML"](./media/logic-apps-perform-data-operations/html-table-expression.png)

1. Повторите предыдущие шаги для каждого свойства массива, которое вы хотите. Когда вы закончите, ваше действие выглядит следующим образом:

   ![Функция "пункт()" в таблице HTML"](./media/logic-apps-perform-data-operations/finished-html-expression.png)

1. Чтобы разрешить выражения в более описательные версии, переключитесь на представление кода и обратно в представление конструктора, а затем вновь откройте рухнувшие действие:

   Действие **таблицы HTML** теперь выглядит следующим образом:

   !["Создать таблицу HTML" - разрешенные выражения, без заголовков](./media/logic-apps-perform-data-operations/resolved-html-expression.png)

#### <a name="work-in-code-view"></a>Работа в представлении кода

В определении JSON действия в `columns` массиве `header` установите свойство на пустую строку. Для `value` каждого свойства отодвинете каждое свойство массива, которое вы хотите.

1. На панели инструментов конструктора выберите **вид кода.**

1. В редакторе кода в `columns` массиве действия добавьте пустое `header` свойство и это `value` выражение для каждого столбца значений массива, которые вы хотите:

   ```json
   {
      "header": "",
      "value": "@item()?['<array-property-name>']"
   }
   ```

   Пример:

   ```json
   "Create_HTML_table": {
      "inputs": {
         "columns": [
            { 
               "header": "",
               "value": "@item()?['Description']"
            },
            { 
               "header": "",
               "value": "@item()?['Product_ID']"
            }
         ],
         "format": "HTML",
         "from": "@variables('myJSONArray')"
      }
   }
   ```

1. Переключитесь обратно на представление дизайнера и вновь откройте рухнувшему действию.

   Теперь действие **таблицы Create HTML** выглядит как этот пример, и выражения решили с более описательными версиями:

   !["Создать таблицу HTML" - разрешенные выражения и отсутствие заголовков](./media/logic-apps-perform-data-operations/resolved-html-expression.png)

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Действие таблицы](../logic-apps/logic-apps-workflow-actions-triggers.md#table-action).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Создать таблицу HTML** создает ожидаемые результаты, отправьте уведомление, которое включает выходные данные из действия **Создать таблицу HTML**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Создать таблицу HTML**.

1. В этом действии щелкните в любом месте, чтобы отобразились результаты. Когда откроется список динамического содержимого, в действии **Создать таблицу HTML** выберите **Выходные данные**. 

   В этом примере используется Office 365 Outlook **Send an email** и включает поле **вывода** в теле электронной почты:

   ![Поля "Выход" для "Создать таблицу HTML"](./media/logic-apps-perform-data-operations/send-email-create-html-table-action.png)

   > [!NOTE]
   > При включении выходных данных таблицы HTML в действие электронной почты убедитесь, что установлено свойству **Is HTML** (Является HTML) значение **Да** в расширенных параметрах действия электронной почты. Таким образом, действие электронной почты правильно форматирует таблицу HTML.

1. Теперь вручную запустите приложение логики. На панели инструментов дизайнера выберите **Run**.

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами «Создать таблицу HTML»](./media/logic-apps-perform-data-operations/create-html-table-email-results.png)

<a name="filter-array-action"></a>

## <a name="filter-array-action"></a>Действие "Фильтр массива"

Для создания меньшего массива с элементами, отвечающими определенным критериям, из существующего массива используйте действие **массива фильтра.** Затем можно использовать отфильтрованный массив в действиях, следующих за действием **Фильтр массива**.

> [!NOTE]
> Любой текст фильтра, используемый в условии, чувствителен к регистру. Кроме того, действие не может изменить формат или компоненты элементов в массиве. 
> 
> Действия использования выходного массива, полученного из действия **Фильтр массива**, должны принимать эти массивы как входные данные, либо придется преобразовать выходной массив в другой совместимый формат.
> 
> Если вы называете конечную точку HTTP и получаете ответ JSON, используйте действие **Parse JSON** для обработки ответа JSON. 
> В противном случае действие **массива фильтра** может считывать только тело ответа, а не структуру полезной нагрузки JSON.

Если же вы предпочитаете работать в редакторе просмотра кода, можно скопировать пример определений **Фильтр массива** и **инициализировать переменные** из этой статьи в определение рабочего процесса вашего собственного приложения логики. [Примеры кода операций данных — действие "Фильтр массива"](../logic-apps/logic-apps-data-operations-code-samples.md#filter-array-action-example)

1. На [портале Azure](https://portal.azure.com) или в Visual Studio откройте приложение логики в конструкторе приложений логики.

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. Действие настроено для создания переменной, начальным значением которой является массив, который имеет некоторые образцы целых чисел. Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   > [!NOTE]
   > Хотя в этом примере используется простой целочисленный массив, это действие особенно полезно для массивов объектов JSON, где можно фильтровать на основе свойств и значений объектов.

   ![Запуск приложения логики образца для действий "Фильтр массива"](./media/logic-apps-perform-data-operations/sample-starting-logic-app-filter-array-action.png)

1. В приложении логики, где необходимо создать отфильтрованный массив, выполните один из следующих шагов. 

   * Чтобы добавить действие под последним шагом, выберите **Новый шаг.**

     ![Выберите "Новый шаг" для действий "Фильтр-массив"](./media/logic-apps-perform-data-operations/add-filter-array-action.png)

   * Чтобы добавить действие между шагами, переместите мышь**+** по подключающейстрельной стрелке, чтобы появился знак плюс () Выберите знак плюс, а затем выберите **Добавить действие.**

1. В поле поиска введите `filter array` в качестве фильтра. Из списка действий выберите действие **массива фильтра.**

   ![Выбор действия "Фильтр массива"](./media/logic-apps-perform-data-operations/select-filter-array-action.png)

1. В поле **From** (От) укажите массив или выражение для фильтра.

   Если щелкнуть в этом примере поле **From** (От), появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.

   ![Выбор массива выходных данных для создания отфильтрованного массива](./media/logic-apps-perform-data-operations/configure-filter-array-action.png)

1. Для создания условия укажите элементы массива для сравнения, выберите оператор сравнения и укажите значение для сравнения.

   В этом `item()` примере используется функция для доступа к каждому элементу в массиве, в то время как действие **массива фильтра** ищет элементы массива, значение которых превышает один:

   ![Готовый пример для действия "Фильтр-массив"](./media/logic-apps-perform-data-operations/finished-filter-array-action.png)

1. Сохраните приложение логики. На панели инструментов конструктора щелкните **Сохранить**.

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Действие запроса](../logic-apps/logic-apps-workflow-actions-triggers.md#query-action).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Фильтр массива** создает ожидаемые результаты, отправьте уведомление, которое включает в себя выходные данные из действия **Фильтр массива**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Фильтр массива**.

1. В этом действии щелкните в любом месте, чтобы отобразились результаты. При открытии списка динамического содержимого выберите **Expression.** Чтобы получить выходные данные массива из действия **Фильтр массива**, введите выражение, которое включает имя действия **Фильтр массива**.

   `@actionBody('Filter_array')`

   В этом примере используется Office 365 Outlook **Send an email** и включает выходы из выражения **actionBody ('Filter_array')** в теле электронной почты:

   ![Выводы действий из действия "Фильтр массива"](./media/logic-apps-perform-data-operations/send-email-filter-array-action.png)

1. Теперь вручную запустите приложение логики. На панели инструментов дизайнера выберите **Run**.

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Фильтр массива"](./media/logic-apps-perform-data-operations/filter-array-email-results.png)

<a name="join-action"></a>

## <a name="join-action"></a>Действие "Соединить"

Чтобы создать строку, которая имеет все элементы из массива и отделить эти элементы с определенным символом делимитема, используйте действие **Join.** Затем можно использовать выходные данные в следующих действиях после действия **Соединить**.

Если же вы предпочитаете работать в редакторе просмотра кода, можно скопировать пример определений **Соединить** и действие **Инициализация переменной** из этой статьи в определение рабочего процесса вашего собственного приложения логики. [Примеры кода операций данных — действие "Соединить"](../logic-apps/logic-apps-data-operations-code-samples.md#join-action-example)

1. На [портале Azure](https://portal.azure.com) или в Visual Studio откройте приложение логики в конструкторе приложений логики.

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. Это действие настроено для создания переменной, начальным значением которой является массив, который имеет некоторые образцы целых чисел. Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск приложения логики образца для действий "Присоединиться"](./media/logic-apps-perform-data-operations/sample-starting-logic-app-join-action.png)

1. В приложении логики, где необходимо создать строку из массива, выполните один из следующих шагов.

   * Чтобы добавить действие под последним шагом, выберите **Новый шаг.**

     ![SSelect "Новый шаг" для акции "Присоединиться"](./media/logic-apps-perform-data-operations/new-step-add-join-action.png)

   * Чтобы добавить действие между шагами, переместите мышь**+** по подключающейстрельной стрелке, чтобы появился знак плюс () Выберите знак плюс, а затем выберите **Добавить действие.**

1. В поле поиска введите `join` в качестве фильтра. В списке действий выберите действие **Соединить**.

   ![Выберите действие "Присоединиться"](./media/logic-apps-perform-data-operations/select-join-operation-action.png)

1. В поле **From** (От) укажите массив, в котором есть элементы, которые необходимо присоединить к строке.

   Если щелкнуть в этом примере поле **From** (От), появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.  

   ![Выбор массива выходных данных для создания строки](./media/logic-apps-perform-data-operations/configure-join-action.png)

1. В поле **Присоединить к** введите символ, который необходимо использовать для разделения каждого элемента массива. 

   В этом примере как разделитель используется двоеточие (:).

   ![Указание знака разделителя](./media/logic-apps-perform-data-operations/finished-join-action.png)

1. Сохраните приложение логики. На панели инструментов конструктора щелкните **Сохранить**.

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Действие "Соединить"](../logic-apps/logic-apps-workflow-actions-triggers.md#join-action).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Соединить** создает ожидаемые результаты, отправьте уведомление, которое включает выходные данные из действия **Соединить**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Соединить**.

1. В этом действии щелкните в любом месте, чтобы отобразились результаты. Когда откроется список динамического содержимого, в действии **Соединить** выберите **Выходные данные**. 

   В этом примере используется Office 365 Outlook **Send an email** и включает поле **вывода** в теле электронной почты:

   ![Поля "Выход" для акции "Присоединиться"](./media/logic-apps-perform-data-operations/send-email-join-action.png)

1. Теперь вручную запустите приложение логики. На панели инструментов дизайнера выберите **Run**.

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Соединить"](./media/logic-apps-perform-data-operations/join-send-email-results.png)

<a name="parse-json-action"></a>

## <a name="parse-json-action"></a>Действие "Анализ JSON"

Для ссылки или доступа к свойствам в содержимом JavaScript Object Notation (JSON) можно создать удобные поля или маркеры для этих свойств с помощью действия **Parse JSON.** Таким образом, можно выбрать свойства из списка динамического содержимого при указании входных данных приложения логики. Для этого действия можно либо предоставить схему JSON, либо создать схему JSON из образца содержимого JSON или полезных данных.

Если же вы предпочитаете работать в редакторе просмотра кода, можно скопировать пример определений **Анализ JSON** и действие **Инициализация переменной** из этой статьи в определение рабочего процесса вашего собственного приложения логики. [Примеры кода операций данных — действие "Анализ JSON"](../logic-apps/logic-apps-data-operations-code-samples.md#parse-json-action-example)

1. На [портале Azure](https://portal.azure.com) или в Visual Studio откройте приложение логики в конструкторе приложений логики.

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. Действие настроено для создания переменной, начальным значением которой является объект JSON, который имеет свойства и значения. Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск примера логики приложение для "Parse JSON" действий](./media/logic-apps-perform-data-operations/sample-starting-logic-app-parse-json-action.png)

1. В приложении логики, где необходимо анализировать содержимое JSON, выполните один из следующих шагов.

   * Чтобы добавить действие под последним шагом, выберите **Новый шаг.**

     ![Выберите "Новый шаг" для акции "Parse JSON"](./media/logic-apps-perform-data-operations/add-parse-json-action.png)

   * Чтобы добавить действие между шагами, переместите мышь**+** по подключающейстрельной стрелке, чтобы появился знак плюс () Выберите знак плюс, а затем выберите **Добавить действие.**

1. В поле поиска введите `parse json` в качестве фильтра. Из списка действий выберите действие **Parse JSON.**

   ![Выбор действия "Анализ JSON"](./media/logic-apps-perform-data-operations/select-parse-json-action.png)

1. В поле **Содержимое** укажите содержимое JSON, которое нужно проанализировать.

   Если щелкнуть в этом примере поле **Содержимое**, появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.

   ![Выбор объекта JSON для действия "Анализ JSON"](./media/logic-apps-perform-data-operations/configure-parse-json-action.png)

1. Укажите схему JSON, которая описывает анализируемое содержимое JSON.

   Например, схема JSON.

   ![Предоставление схемы JSON для объекта JSON, который нужно проанализировать](./media/logic-apps-perform-data-operations/provide-schema-parse-json-action.png)

   Если у вас нет схемы, ее можно создать из содержимого JSON или из *полезных данных*, которые анализируются. 
   
   1. В действии **Анализ JSON** выберите **Использовать образец полезных данных для создания схемы**.

   1. Под **Введите или вставьте образец полезной нагрузки JSON,** предоставьте содержимое JSON, а затем выберите **Done**.

      ![Ввод содержимого JSON для создания схемы](./media/logic-apps-perform-data-operations/generate-schema-parse-json-action.png)

1. Сохраните приложение логики. На панели инструментов конструктора щелкните **Сохранить**.

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Действие "Анализ JSON"](../logic-apps/logic-apps-workflow-actions-triggers.md).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Анализ JSON** создает ожидаемые результаты, отправьте уведомление, которое включает выходные данные из действия **Анализ JSON**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Анализ JSON**.

1. В этом действии щелкните в любом месте, чтобы отобразились результаты. При открытии списка динамического содержимого в действии **Анализ JSON** можно выбрать свойства из проанализированного содержимого JSON.

   В этом примере используется Office 365 Outlook **Send an email** и включает поля **FirstName,** **LastName**и **email** в теле электронной почты:

   ![Свойства JSON в действии "Отправить электронное письмо"](./media/logic-apps-perform-data-operations/send-email-parse-json-action.png)

   Выполненное действие электронной почты.

   ![Готовый пример для действий по электронной почте](./media/logic-apps-perform-data-operations/send-email-parse-json-action-2.png)

1. Теперь вручную запустите приложение логики. На панели инструментов дизайнера выберите **Run**. 

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с "Parse JSON" результаты действий](./media/logic-apps-perform-data-operations/parse-json-email-results.png)

<a name="select-action"></a>

## <a name="select-action"></a>Выбор действия

Для создания массива с объектами JSON, построенными из значений в существующем массиве, используйте действие **Select.** Например, можно создать объект JSON для каждого значения в целочисленном массиве, указав свойства, которые должен иметь каждый объект JSON, и сопоставить значения в исходном массиве с этими свойствами. И хотя можно изменять компоненты в объектах JSON, выходной массив всегда имеет такое же количество элементов, что и исходный массив.

> [!NOTE]
> Действия использования выходного массива, полученного из действия **Выбрать**, должны принимать эти массивы как входные данные, либо придется преобразовать выходной массив в другой совместимый формат. 

Если же вы предпочитаете работать в редакторе просмотра кода, можно скопировать пример определений **Выбрать** действия и действие **инициализации переменной** из этой статьи в определение рабочего процесса вашего собственного приложения логики. [Примеры кода операций данных — действие "Выбрать"](../logic-apps/logic-apps-data-operations-code-samples.md#select-action-example) 

1. На [портале Azure](https://portal.azure.com) или в Visual Studio откройте приложение логики в конструкторе приложений логики.

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. Действие настроено для создания переменной, начальным значением которой является массив, который имеет некоторые образцы целых чисел. Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск приложения логики образца для действий "Выбрать"](./media/logic-apps-perform-data-operations/sample-starting-logic-app-select-action.png)

1. В приложении логики, где необходимо создать массив, выполните один из следующих шагов. 

   * Чтобы добавить действие под последним шагом, выберите **Новый шаг.**

     ![Выберите "Новый шаг" для действий "Выбрать"](./media/logic-apps-perform-data-operations/add-select-operation-action.png)

   * Чтобы добавить действие между шагами, переместите мышь**+** по подключающейстрельной стрелке, чтобы появился знак плюс () Выберите знак плюс, а затем выберите **Добавить действие.**

1. В разделе **Выберите действие** выберите **Встроенный**. В поле поиска введите `select` в качестве фильтра. Из списка действий выберите действие **Select.**

   ![Выбор действия "Выбрать"](./media/logic-apps-perform-data-operations/select-select-action.png)

1. В поле **From** (От) укажите нужный исходный массив.

   Если щелкнуть в этом примере поле **From** (От), появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.

   ![Выбор исходного массива для действия "Выбрать"](./media/logic-apps-perform-data-operations/configure-select-action.png)

1. В левом столбце окна **Сопоставить** укажите имя свойства, которое нужно присвоить каждому значению в исходном массиве. В правом столбце укажите выражение, представляющее значение, которое нужно присвоить свойству.

   В этом примере указывается "Product_ID" как имя свойства для присвоения каждого `item()` значения в массиве целых, используя функцию в выражении, которое получает доступ к каждому элементу массива. 

   ![Указать свойство и значения объекта JSON для создания массива](./media/logic-apps-perform-data-operations/configure-select-action-2.png)

   Выполненное действие.

   ![Готовый пример для действия "Выбрать"](./media/logic-apps-perform-data-operations/finished-select-action.png)

1. Сохраните приложение логики. На панели инструментов конструктора щелкните **Сохранить**.

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Выбор действия](../logic-apps/logic-apps-workflow-actions-triggers.md).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Выбрать** создает ожидаемые результаты, отправьте уведомление, которое включает выходные данные из действия **Выбрать**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Выбрать**.

1. В этом действии щелкните в любом месте, чтобы отобразились результаты. При открытии списка динамического содержимого выберите **Expression.** Чтобы получить выходные данные массива из действия **Выбрать**, введите выражение, которое включает имя действия **Выбрать**.

   `@actionBody('Select')`

   В этом примере используется Office 365 Outlook Send an `@actionBody('Select')` **email** и включает выходы из выражения в теле электронной почты:

   ![Выводы действий из действия "Выбрать"](./media/logic-apps-perform-data-operations/send-email-select-action.png)

1. Теперь вручную запустите приложение логики. На панели инструментов дизайнера выберите **Run**.

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Выбрать"](./media/logic-apps-perform-data-operations/select-email-results.png)

## <a name="next-steps"></a>Дальнейшие действия

* См. дополнительные сведения о [соединителях Logic Apps](../connectors/apis-list.md).
