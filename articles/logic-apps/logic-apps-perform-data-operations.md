---
title: Выполнение операций с данными в Azure Logic Apps | Документация Майкрософт
description: Преобразование, управление и работа с выводами и форматами данных в Azure Logic Apps
services: logic-apps
ms.service: logic-apps
author: ecfan
ms.author: estfan
manager: jeconnoc
ms.topic: article
ms.date: 07/30/2018
ms.reviewer: klam, LADocs
ms.suite: integration
ms.openlocfilehash: 93c24f88fcd6a002493933ef71c5c80bd2ff8c10
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "62120185"
---
# <a name="perform-data-operations-in-azure-logic-apps"></a>Выполнение операций с данными в Azure Logic Apps

В этой статье описано работу с данными в приложениях логики, добавляя действия для этих задач, и многое другое.

* Создание таблиц из массивов.
* Создание массивов из других массивов на основе условия.
* Создание удобного маркера безопасности из свойств объекта нотации объектов JavaScript (JSON), чтобы можно было легко использовать эти свойства в рабочем процессе.

Если вы не найдете нужное действие, просмотрите множество различных [функций обработки данных](../logic-apps/workflow-definition-language-functions-reference.md), которые предоставляет служба Logic Apps. 

Эти таблицы суммируют операции с данными, которые можно использовать. Они организованы на основе исходных типов данных, над которыми работают операции, но каждое описание отображается в алфавитном порядке.

**Действия массива** 

Эти действия помогают работать с массивами данных.

| Действие | Описание | 
|--------|-------------| 
| [**Создать таблицу CSV**](#create-csv-table-action) | Создание таблицы значений с разделителями-запятыми (CSV) из массива. | 
| [**Создать таблицу HTML**](#create-html-table-action) | Создание таблицы HTML из массива. | 
| [**Фильтр массива**](#filter-array-action) | Создание подмножества массива из массива на основе указанного фильтра или условия. | 
| [**Соединить**](#join-action) | Создание строки из всех элементов массива и разделение этих элементов указанным разделителем. | 
| [**Выбрать**](#select-action) | Создание массива из указанных свойств для всех элементов в другом массиве. | 
||| 

**Действия JSON**

Эти действия помогают работать с данными в формате нотации объектов JavaScript (JSON).

| Действие | Описание | 
|--------|-------------| 
| [**Создать**](#compose-action) | Создание сообщения или строки из нескольких наборов входных данных, которые могут иметь разные типы данных. Затем можно использовать эту строку как единый ввод данных, а не повторно вводить одни и те же данные. Например, можно создать одно сообщение JSON с разных входных данных. | 
| [**Анализ JSON**](#parse-json-action) | Создание удобных маркеров данных для свойств в содержимом JSON, чтобы можно было более легко использовать свойства в приложениях логики. | 
||| 

Чтобы создать более сложные преобразования JSON, см. раздел [Выполнение сложных преобразований JSON с помощью шаблона Liquid](../logic-apps/logic-apps-enterprise-integration-liquid-transform.md).

## <a name="prerequisites"></a>Технические условия

Чтобы выполнить примеры в этой статье, потребуется следующее.

* Подписка Azure. Если у вас еще нет подписки Azure, <a href="https://azure.microsoft.com/free/" target="_blank">получите бесплатную учетную запись Azure</a>.

* Приложение логики, в котором будет проводиться операция работы с данными 

  Если вы не знакомы с приложениями логики, ознакомьтесь со статьями [Что такое Azure Logic Apps](../logic-apps/logic-apps-overview.md) и [Краткое руководство. Создание первого автоматизированного рабочего процесса с помощью Azure Logic Apps на портале Azure](../logic-apps/quickstart-create-first-logic-app-workflow.md).

* [Триггер](../logic-apps/logic-apps-overview.md#logic-app-concepts) в качестве первого шага приложения логики 

  Операции с данными доступны только как действия, поэтому, прежде чем использовать эти действия, запустите приложение логики с помощью триггера и включите любые другие действия, необходимые для создания желаемых результатов.

<a name="compose-action"></a>

## <a name="compose-action"></a>Действие compose

Чтобы создать один выход, такой как объект JSON из нескольких входных данных, используйте **действие "Создать" операций с данными**. Входные данные могут иметь различные типы, такие как целые числа, логические значения, массивы, объекты JSON и любой другой собственный тип, поддерживаемый Azure Logic Apps, например двоичный и XML. Затем можно использовать выходные данные в следующих действиях после действия **Создать**. Действие **Создать** также может спасти вас от повторного ввода одних и тех же данных при создании рабочего процесса приложения логики. 

Например, можно создать сообщение JSON из нескольких переменных, таких как строковые переменные, в которых хранятся имена и фамилии людей, и целочисленной переменной, которая хранит возраст людей. Здесь действие **Создать** принимает следующие входные данные.

`{ "age": <ageVar>, "fullName": "<lastNameVar>, <firstNameVar>" }`

И создает выходные данные.

`{"age":35,"fullName":"Owens,Sophie"}`

Чтобы выполнить пример, следующие шаги делайте с помощью конструктора приложений логики. Или, если вы предпочитаете работать в редакторе представления кода, вы можете скопировать пример **Compose** и **инициализировать переменную** определения действия из этой статьи, в приложении логики основного рабочего процесса Определение: [Данные примеры код операции - Compose](../logic-apps/logic-apps-data-operations-code-samples.md#compose-action-example) 

1. На <a href="https://portal.azure.com" target="_blank">портале Azure</a> или в Visual Studio откройте приложение логики в конструкторе приложений логики. 

   В этом примере используется портал Azure и приложение логики с триггером **Повторение** и несколькими действиями **Инициализировать переменную**. 
   Эти действия настроены для создания двух строковых и целочисленной переменных. Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск примера приложения логики](./media/logic-apps-perform-data-operations/sample-starting-logic-app-compose-action.png)

2. В приложении логики, где необходимо создать выходные данные, выполните один из следующих шагов. 

   * Чтобы добавить действие на последнем шаге, выберите команды **Новый шаг** > **Добавить действие**.

     ![Добавление действия](./media/logic-apps-perform-data-operations/add-compose-action.png)

   * Чтобы добавить действие между шагами, наведите указатель мыши на соединяющую стрелку. Появится знак "плюс" (+). 
   Щелкните знак "плюс", а затем выберите **Добавить действие**.

3. В поле поиска в качестве фильтра введите слово "compose" (создать). В списке действий выберите действие **Действие создания**

   ![Выбор действия "Создать"](./media/logic-apps-perform-data-operations/select-compose-action.png)

4. В поле **Входные данные** укажите входные данные, необходимые для создания вывода. 

   Если щелкнуть в этом примере поле **Входные данные**, появится список динамического содержимого, поэтому можно выбрать ранее созданные переменные.

   ![Выбор входных данных для создания](./media/logic-apps-perform-data-operations/configure-compose-action.png)

   Ниже приведен готовый пример действия **Создать**. 

   ![Действие "Создать" выполнено](./media/logic-apps-perform-data-operations/finished-compose-action.png)

5. Сохраните приложение логики. На панели инструментов конструктора нажмите кнопку **Сохранить**.

Дополнительные сведения об этом действии в определении базового процесса см. в разделе [Действие "Создать"](../logic-apps/logic-apps-workflow-actions-triggers.md#compose-action). 

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Создать** создает ожидаемые результаты, отправьте уведомление, которое включает выходные данные действия **Создать**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Создать**.

2. В этом действии щелкните в любом месте, чтобы отобразились результаты. Когда откроется список динамического содержимого, в действии **Создать** выберите **Выходные данные**. 

   В этом примере используется действие **Office 365 Outlook — Отправить электронное письмо** , которое включает поля **Выходные данные** в текст и тему письма.

   ![Поля "Выходные данные" в действии "Отправить электронное письмо"](./media/logic-apps-perform-data-operations/send-email-compose-action.png)

3. Теперь вручную запустите приложение логики. На панели инструментов конструктора нажмите кнопку **Запустить**. 

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Создать"](./media/logic-apps-perform-data-operations/compose-email-results.png)

<a name="create-csv-table-action"></a>

## <a name="create-csv-table-action"></a>Действие "Создать таблицу CSV"

Чтобы создать таблицу значений с разделителями-запятыми (CSV), которая имеет свойства и значения объектов из объектов нотации JavaScript (JSON) в массиве, используйте **действие "Создать таблицу CSV" операций с данными**. Затем можно использовать итоговую таблицу в действиях, которые следуют за действием **Создать таблицу CSV**. 

Если вы предпочитаете работать в редакторе представления кода, вы можете скопировать пример **создание таблицы CSV** и **инициализировать переменную** определения действия из этой статьи, в приложении логики основного рабочего процесса Определение: [Примеры кода операции данных — создание таблицы CSV](../logic-apps/logic-apps-data-operations-code-samples.md#create-csv-table-action-example) 

1. На <a href="https://portal.azure.com" target="_blank">портале Azure</a> или в Visual Studio откройте приложение логики в конструкторе приложений логики. 

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. 
   Действие настроено для создания переменной, начальным значением которой является массив, который имеет некоторые свойства и значения в формате JSON. 
   Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск примера приложения логики](./media/logic-apps-perform-data-operations/sample-starting-logic-app-create-table-action.png)

2. В приложении логики, где необходимо создать таблицу CSV, выполните один из следующих шагов. 

   * Чтобы добавить действие на последнем шаге, выберите команды **Новый шаг** > **Добавить действие**.

     ![Добавление действия](./media/logic-apps-perform-data-operations/add-create-table-action.png)

   * Чтобы добавить действие между шагами, наведите указатель мыши на соединяющую стрелку. Появится знак "плюс" (+). 
   Щелкните знак "плюс", а затем выберите **Добавить действие**.

3. В поле поиска введите фильтр "create csv table" (создать таблицу csv). В списке действий выберите действие **Создание таблицы CSV**

   ![Выбор действия "Создать таблицу CSV"](./media/logic-apps-perform-data-operations/select-create-csv-table-action.png)

4. В поле **From** (От) укажите массив или выражение для создания таблицы. 

   Если щелкнуть в этом примере поле **From** (От), появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.

   ![Выбор массива выходных данных для создания таблицы CSV](./media/logic-apps-perform-data-operations/configure-create-csv-table-action.png)

   Ниже приведен готовый пример действия **Создать таблицу CSV**. 

   ![Действие "Создать таблицу CSV" выполнено](./media/logic-apps-perform-data-operations/finished-create-csv-table-action.png)

   Это действие по умолчанию автоматически создает столбцы на основе элементов массива. 
   Чтобы вручную создать заголовки столбцов и значения, выберите **Показать расширенные параметры**. 
   Чтобы указать только пользовательские значения, измените **Столбцы** на **Custom** (Пользовательский). 
   Чтобы создать собственные заголовки столбцов, измените **Включить заголовки** на **Да**. 

   > [!TIP]
   > Чтобы создать удобные токены для свойств в объектах JSON, можно выбрать эти свойства в качестве входных данных, используя [Анализ JSON](#parse-json-action) перед вызовом действия **Создать таблицу CSV**.

5. Сохраните приложение логики. На панели инструментов конструктора нажмите кнопку **Сохранить**.

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Действие таблицы](../logic-apps/logic-apps-workflow-actions-triggers.md#table-action).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Создать таблицу CSV** создает ожидаемые результаты, отправьте уведомление, которое включает в себя выходные данные действия **Создать таблицу CSV**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Создать таблицу CSV**.

2. В этом действии щелкните в любом месте, чтобы отобразились результаты. Когда откроется список динамического содержимого, в действии **Создать таблицу CSV** выберите **Выходные данные**. 

   В этом примере используется действие **Office 365 Outlook — Отправить электронное письмо** , которое включает поле **Выходные данные** в тексте письма.

   ![Поля "Выходные данные" в действии "Отправить электронное письмо"](./media/logic-apps-perform-data-operations/send-email-create-csv-table-action.png)

3. Теперь вручную запустите приложение логики. На панели инструментов конструктора нажмите кнопку **Запустить**. 

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Создать таблицу CSV"](./media/logic-apps-perform-data-operations/create-csv-table-email-results.png)

<a name="create-html-table-action"></a>

## <a name="create-html-table-action"></a>Действие "Создать таблицу HTML"

Чтобы создать таблицу HTML, которая имеет свойства и значения из объектов нотации объектов JavaScript (JSON) в массиве, используйте **действие "Создать таблицу HTML" операций с данными**. Затем можно использовать итоговую таблицу в действиях, которые следуют за действием **Создать таблицу HTML**.

Если вы предпочитаете работать в редакторе представления кода, вы можете скопировать пример **создание таблицы HTML** и **инициализировать переменную** определения действия из этой статьи, в приложении логики основного рабочего процесса Определение: [Примеры кода операции данных — создание таблицы HTML](../logic-apps/logic-apps-data-operations-code-samples.md#create-html-table-action-example) 

1. На <a href="https://portal.azure.com" target="_blank">портале Azure</a> или в Visual Studio откройте приложение логики в конструкторе приложений логики. 

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. 
   Действие настроено для создания переменной, начальным значением которой является массив, который имеет некоторые свойства и значения в формате JSON. 
   Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск примера приложения логики](./media/logic-apps-perform-data-operations/sample-starting-logic-app-create-table-action.png)

2. В приложении логики, где необходимо создать таблицу HTML, выполните один из следующих шагов. 

   * Чтобы добавить действие на последнем шаге, выберите команды **Новый шаг** > **Добавить действие**.

     ![Добавление действия](./media/logic-apps-perform-data-operations/add-create-table-action.png)

   * Чтобы добавить действие между шагами, наведите указатель мыши на соединяющую стрелку. Появится знак "плюс" (+). 
   Щелкните знак "плюс", а затем выберите **Добавить действие**.

3. В поле поиска введите фильтр "create html table" (создать таблицу html). В списке действий выберите действие **Создание таблицы HTML**

   ![Выбор действия "Создать таблицу HTML"](./media/logic-apps-perform-data-operations/select-create-html-table-action.png)

4. В поле **From** (От) укажите массив или выражение для создания таблицы. 

   Если щелкнуть в этом примере поле **From** (От), появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.

   ![Выбор массива выходных данных для создания таблицы HTML](./media/logic-apps-perform-data-operations/configure-create-html-table-action.png)

   Ниже приведен готовый пример действия **Создать таблицу HTML**. 

   ![Действие "Создание таблицы HTML" выполнено](./media/logic-apps-perform-data-operations/finished-create-html-table-action.png)

   Это действие по умолчанию автоматически создает столбцы на основе элементов массива. 
   Чтобы вручную создать заголовки столбцов и значения, выберите **Показать расширенные параметры**. 
   Чтобы указать только пользовательские значения, измените **Столбцы** на **Custom** (Пользовательский). 
   Чтобы создать собственные заголовки столбцов, измените **Включить заголовки** на **Да**. 

   > [!TIP]
   > Чтобы создать удобные токены для свойств в объектах JSON, можно выбрать эти свойства в качестве входных данных, используя [Анализ JSON](#parse-json-action) перед вызовом **Создать таблицу HTML**.

5. Сохраните приложение логики. На панели инструментов конструктора нажмите кнопку **Сохранить**.

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Действие таблицы](../logic-apps/logic-apps-workflow-actions-triggers.md#table-action).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Создать таблицу HTML** создает ожидаемые результаты, отправьте уведомление, которое включает выходные данные из действия **Создать таблицу HTML**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Создать таблицу HTML**.

2. В этом действии щелкните в любом месте, чтобы отобразились результаты. Когда откроется список динамического содержимого, в действии **Создать таблицу HTML** выберите **Выходные данные**. 

   В этом примере используется действие **Office 365 Outlook — Отправить электронное письмо** , которое включает поле **Выходные данные** в тексте письма.

   ![Поля "Выходные данные" в действии "Отправить электронное письмо"](./media/logic-apps-perform-data-operations/send-email-create-html-table-action.png)
   
   > [!NOTE]
   > При включении выходных данных таблицы HTML в действие электронной почты убедитесь, что установлено свойству **Is HTML** (Является HTML) значение **Да** в расширенных параметрах действия электронной почты. Таким образом, действие электронной почты правильно форматирует таблицу HTML.

3. Теперь вручную запустите приложение логики. На панели инструментов конструктора нажмите кнопку **Запустить**. 

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Создать таблицу HTML"](./media/logic-apps-perform-data-operations/create-html-table-email-results.png)

<a name="filter-array-action"></a>

## <a name="filter-array-action"></a>Действие "Фильтр массива"

Чтобы создать меньший массив, который имеет элементы, соответствующие определенным критериям, из существующего массива, используйте **действие "Фильтр массива" операций с данными**. Затем можно использовать отфильтрованный массив в действиях, следующих за действием **Фильтр массива**. 

> [!NOTE]
> Любой текст фильтра, используемый в условии, чувствителен к регистру. Кроме того, действие не может изменить формат или компоненты элементов в массиве. 
> 
> Действия использования выходного массива, полученного из действия **Фильтр массива**, должны принимать эти массивы как входные данные, либо придется преобразовать выходной массив в другой совместимый формат. 

Если вы предпочитаете работать в редакторе представления кода, вы можете скопировать пример **фильтрация массива** и **инициализировать переменную** определения действия из этой статьи, в приложении логики основного рабочего процесса Определение: [Примеры кода операции данных — фильтрация массива](../logic-apps/logic-apps-data-operations-code-samples.md#filter-array-action-example) 

1. На <a href="https://portal.azure.com" target="_blank">портале Azure</a> или в Visual Studio откройте приложение логики в конструкторе приложений логики. 

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. 
   Действие настроено для создания переменной, начальным значением которой является массив, который имеет некоторые образцы целых чисел. Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   > [!NOTE]
   > Хотя в этом примере используется простой целочисленный массив, это действие особенно полезно для массивов объектов JSON, где можно фильтровать на основе свойств и значений объектов.

   ![Запуск примера приложения логики](./media/logic-apps-perform-data-operations/sample-starting-logic-app-filter-array-action.png)

2. В приложении логики, где необходимо создать отфильтрованный массив, выполните один из следующих шагов. 

   * Чтобы добавить действие на последнем шаге, выберите команды **Новый шаг** > **Добавить действие**.

     ![Добавление действия](./media/logic-apps-perform-data-operations/add-filter-array-action.png)

   * Чтобы добавить действие между шагами, наведите указатель мыши на соединяющую стрелку. Появится знак "плюс" (+). 
   Щелкните знак "плюс", а затем выберите **Добавить действие**.

3. В поле поиска введите фильтр "filter array" (фильтровать массив). В списке действий выберите действие **Фильтрация массива**

   ![Выбор действия "Фильтр массива"](./media/logic-apps-perform-data-operations/select-filter-array-action.png)

4. В поле **From** (От) укажите массив или выражение для фильтра. 

   Если щелкнуть в этом примере поле **From** (От), появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.

   ![Выбор массива выходных данных для создания отфильтрованного массива](./media/logic-apps-perform-data-operations/configure-filter-array-action.png)

5. Для создания условия укажите элементы массива для сравнения, выберите оператор сравнения и укажите значение для сравнения.

   В этом примере используется функция **item()** для доступа к каждому элементу массива, в то время как действие **Фильтр массива** выполняет поиск элементов массива, значение которого больше 1:
   
   ![Действие "Фильтр массива" выполнено](./media/logic-apps-perform-data-operations/finished-filter-array-action.png)

6. Сохраните приложение логики. На панели инструментов конструктора нажмите кнопку **Сохранить**.

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Действие запроса](../logic-apps/logic-apps-workflow-actions-triggers.md#query-action).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Фильтр массива** создает ожидаемые результаты, отправьте уведомление, которое включает в себя выходные данные из действия **Фильтр массива**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Фильтр массива**.

2. В этом действии щелкните в любом месте, чтобы отобразились результаты. Когда отобразится список динамического содержимого, выберите **Выражение**. Чтобы получить выходные данные массива из действия **Фильтр массива**, введите выражение, которое включает имя действия **Фильтр массива**.

   ```
   @actionBody('Filter_array')
   ```

   В этом примере используется действие **Office 365 Outlook — Отправить электронное письмо** , которое включает выходные данные из выражения **actionBody('Filter_array')** в тексте письма.

   ![Выходные данные действия в действии "Отправить электронное письмо"](./media/logic-apps-perform-data-operations/send-email-filter-array-action.png)

3. Теперь вручную запустите приложение логики. На панели инструментов конструктора нажмите кнопку **Запустить**. 

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Фильтр массива"](./media/logic-apps-perform-data-operations/filter-array-email-results.png)

<a name="join-action"></a>

## <a name="join-action"></a>Действие "Соединить"

Чтобы создать строку, содержащую все элементы из массива, и разделить эти элементы определенным символом разделителя, используйте **действие "Соединить" операций с данными**. Затем можно использовать выходные данные в следующих действиях после действия **Соединить**.

Если вы предпочитаете работать в редакторе представления кода, вы можете скопировать пример **Join** и **инициализировать переменную** определения действия из этой статьи, в приложении логики основного определения рабочего процесса: [Данные примеры код операции — соединения](../logic-apps/logic-apps-data-operations-code-samples.md#join-action-example) 

1. На <a href="https://portal.azure.com" target="_blank">портале Azure</a> или в Visual Studio откройте приложение логики в конструкторе приложений логики. 

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. 
   Это действие настроено для создания переменной, начальным значением которой является массив, который имеет некоторые образцы целых чисел. 
   Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск примера приложения логики](./media/logic-apps-perform-data-operations/sample-starting-logic-app-join-action.png)

2. В приложении логики, где необходимо создать строку из массива, выполните один из следующих шагов. 

   * Чтобы добавить действие на последнем шаге, выберите команды **Новый шаг** > **Добавить действие**.

     ![Добавление действия](./media/logic-apps-perform-data-operations/add-join-action.png)

   * Чтобы добавить действие между шагами, наведите указатель мыши на соединяющую стрелку. Появится знак "плюс" (+). 
   Щелкните знак "плюс", а затем выберите **Добавить действие**.

3. В поле поиска введите фильтр "join" (соединить). В списке действий выберите действие **Join**

   ![Выбор действия "Соединить" операций с данными](./media/logic-apps-perform-data-operations/select-join-action.png)

4. В поле **From** (От) укажите массив, в котором есть элементы, которые необходимо присоединить к строке. 

   Если щелкнуть в этом примере поле **From** (От), появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.  

   ![Выбор массива выходных данных для создания строки](./media/logic-apps-perform-data-operations/configure-join-action.png)

5. В поле **Присоединить к** введите символ, который необходимо использовать для разделения каждого элемента массива. 

   В этом примере как разделитель используется двоеточие (:).

   ![Указание знака разделителя](./media/logic-apps-perform-data-operations/finished-join-action.png)

6. Сохраните приложение логики. На панели инструментов конструктора нажмите кнопку **Сохранить**.

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Действие "Соединить"](../logic-apps/logic-apps-workflow-actions-triggers.md#join-action).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Соединить** создает ожидаемые результаты, отправьте уведомление, которое включает выходные данные из действия **Соединить**. 

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Соединить**.

2. В этом действии щелкните в любом месте, чтобы отобразились результаты. Когда откроется список динамического содержимого, в действии **Соединить** выберите **Выходные данные**. 

   В этом примере используется действие **Office 365 Outlook — Отправить электронное письмо** , которое включает поле **Выходные данные** в тексте письма.

   ![Поля "Выходные данные" в действии "Отправить электронное письмо"](./media/logic-apps-perform-data-operations/send-email-join-action.png)

3. Теперь вручную запустите приложение логики. На панели инструментов конструктора нажмите кнопку **Запустить**. 

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Соединить"](./media/logic-apps-perform-data-operations/join-email-results.png)

<a name="parse-json-action"></a>

## <a name="parse-json-action"></a>Действие "Анализ JSON"

Чтобы ссылаться или получать доступ к свойствам в объекте нотации объектов JavaScript (JSON), можно создавать удобные для пользователя поля или токены для этих свойств, используя **действие "Анализ JSON" операций с данными**.
Таким образом, можно выбрать свойства из списка динамического содержимого при указании входных данных приложения логики. Для этого действия можно либо предоставить схему JSON, либо создать схему JSON из образца содержимого JSON или полезных данных.

Если вы предпочитаете работать в редакторе представления кода, вы можете скопировать пример **анализ JSON** и **инициализировать переменную** определения действия из этой статьи, в приложении логики основного определения рабочего процесса : [Примеры кода операции данных — анализ JSON](../logic-apps/logic-apps-data-operations-code-samples.md#parse-json-action-example) 

1. На <a href="https://portal.azure.com" target="_blank">портале Azure</a> или в Visual Studio откройте приложение логики в конструкторе приложений логики. 

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. 
   Действие настроено для создания переменной, начальным значением которой является объект JSON, который имеет свойства и значения. 
   Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск примера приложения логики](./media/logic-apps-perform-data-operations/sample-starting-logic-app-parse-json-action.png)

2. В приложении логики, где необходимо анализировать содержимое JSON, выполните один из следующих шагов. 

   * Чтобы добавить действие на последнем шаге, выберите команды **Новый шаг** > **Добавить действие**.

     ![Добавление действия](./media/logic-apps-perform-data-operations/add-parse-json-action.png)

   * Чтобы добавить действие между шагами, наведите указатель мыши на соединяющую стрелку. Появится знак "плюс" (+). 
   Щелкните знак "плюс", а затем выберите **Добавить действие**.

3. В поле поиска введите фильтр "parse json" (анализ json). В списке действий выберите действие **Анализ JSON**

   ![Выбор действия "Анализ JSON"](./media/logic-apps-perform-data-operations/select-parse-json-action.png)

4. В поле **Содержимое** укажите содержимое JSON, которое нужно проанализировать. 

   Если щелкнуть в этом примере поле **Содержимое**, появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.

   ![Выбор объекта JSON для действия "Анализ JSON"](./media/logic-apps-perform-data-operations/configure-parse-json-action.png)

5. Укажите схему JSON, которая описывает анализируемое содержимое JSON. 

   Например, схема JSON.

   ![Предоставление схемы JSON для объекта JSON, который нужно проанализировать](./media/logic-apps-perform-data-operations/provide-schema-parse-json-action.png)

   Если у вас нет схемы, ее можно создать из содержимого JSON или из *полезных данных*, которые анализируются. 
   
   1. В действии **Анализ JSON** выберите **Использовать образец полезных данных для создания схемы**.

   2. В разделе **Ввести или вставить образец полезных данных JSON** предоставьте пример содержимого JSON, а затем выберите **Готово**.

      ![Ввод содержимого JSON для создания схемы](./media/logic-apps-perform-data-operations/generate-schema-parse-json-action.png)

6. Сохраните приложение логики. На панели инструментов конструктора нажмите кнопку **Сохранить**.

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Действие "Анализ JSON"](../logic-apps/logic-apps-workflow-actions-triggers.md).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Анализ JSON** создает ожидаемые результаты, отправьте уведомление, которое включает выходные данные из действия **Анализ JSON**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Анализ JSON**.

2. В этом действии щелкните в любом месте, чтобы отобразились результаты. При открытии списка динамического содержимого в действии **Анализ JSON** можно выбрать свойства из проанализированного содержимого JSON.

   В этом примере используется действие **Office 365 Outlook — Отправить электронное письмо** , которое включает поле **Имя**, **Фамилия** и **Электронная почта** в тексте письма.

   ![Свойства JSON в действии "Отправить электронное письмо"](./media/logic-apps-perform-data-operations/send-email-parse-json-action.png)

   Выполненное действие электронной почты.

   ![Действие электронной почты выполнено](./media/logic-apps-perform-data-operations/send-email-parse-json-action-2.png)

3. Теперь вручную запустите приложение логики. На панели инструментов конструктора нажмите кнопку **Запустить**. 

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Соединить"](./media/logic-apps-perform-data-operations/parse-json-email-results.png)

<a name="select-action"></a>

## <a name="select-action"></a>Выбор действия

Чтобы создать массив с объектами JSON, построенный из значений в существующем массиве, используйте **действие "Выбрать" операций с данными**. Например, можно создать объект JSON для каждого значения в целочисленном массиве, указав свойства, которые должен иметь каждый объект JSON, и сопоставить значения в исходном массиве с этими свойствами. И хотя можно изменять компоненты в объектах JSON, выходной массив всегда имеет такое же количество элементов, что и исходный массив.

> [!NOTE]
> Действия использования выходного массива, полученного из действия **Выбрать**, должны принимать эти массивы как входные данные, либо придется преобразовать выходной массив в другой совместимый формат. 

Если вы предпочитаете работать в редакторе представления кода, вы можете скопировать пример **выберите** и **инициализировать переменную** определения действия из этой статьи, в приложении логики основного определения рабочего процесса: [Выберите примеры данных код операции —](../logic-apps/logic-apps-data-operations-code-samples.md#select-action-example) 

1. На <a href="https://portal.azure.com" target="_blank">портале Azure</a> или в Visual Studio откройте приложение логики в конструкторе приложений логики. 

   В этом примере используется портал Azure и логическое приложение с триггером **Повторение** и действием **Инициализация переменной**. 
   Действие настроено для создания переменной, начальным значением которой является массив, который имеет некоторые образцы целых чисел. 
   Если протестировать приложение логики позже, можно запустить приложение вручную, не дожидаясь запуска триггера.

   ![Запуск примера приложения логики](./media/logic-apps-perform-data-operations/sample-starting-logic-app-select-action.png)

2. В приложении логики, где необходимо создать массив, выполните один из следующих шагов. 

   * Чтобы добавить действие на последнем шаге, выберите команды **Новый шаг** > **Добавить действие**.

     ![Добавление действия](./media/logic-apps-perform-data-operations/add-select-action.png)

   * Чтобы добавить действие между шагами, наведите указатель мыши на соединяющую стрелку. Появится знак "плюс" (+). 
   Щелкните знак "плюс", а затем выберите **Добавить действие**.

3. В поле поиска введите фильтр "выбор" (Выбрать). В списке действий выберите действие **Select**

   ![Выбор действия "Выбрать"](./media/logic-apps-perform-data-operations/select-select-action.png)

4. В поле **From** (От) укажите нужный исходный массив.

   Если щелкнуть в этом примере поле **From** (От), появится список динамического содержимого, поэтому можно выбрать ранее созданную переменную.

   ![Выбор исходного массива для действия "Выбрать"](./media/logic-apps-perform-data-operations/configure-select-action.png)

5. В левом столбце окна **Сопоставить** укажите имя свойства, которое нужно присвоить каждому значению в исходном массиве. В правом столбце укажите выражение, представляющее значение, которое нужно присвоить свойству.

   Этот пример указывает значение Product_ID в качестве имени свойства для назначения каждого значения в целочисленном массиве с помощью функции **item()** в выражении, которое обращается к каждому элементу массива. 

   ![Указание свойства объекта JSON и значения для массива, который нужно создать](./media/logic-apps-perform-data-operations/configure-select-action-2.png)

   Выполненное действие.

   ![Действие "Выбрать" выполнено](./media/logic-apps-perform-data-operations/finished-select-action.png)

6. Сохраните приложение логики. На панели инструментов конструктора нажмите кнопку **Сохранить**.

Дополнительную информацию об этом действии в определении базового процесса см. в разделе [Выбор действия](../logic-apps/logic-apps-workflow-actions-triggers.md).

### <a name="test-your-logic-app"></a>Тестирование приложения логики

Чтобы подтвердить, что действие **Выбрать** создает ожидаемые результаты, отправьте уведомление, которое включает выходные данные из действия **Выбрать**.

1. В приложении логики добавьте действие, которое может отправить результаты из действия **Выбрать**.

2. В этом действии щелкните в любом месте, чтобы отобразились результаты. Когда отобразится список динамического содержимого, выберите **Выражение**. Чтобы получить выходные данные массива из действия **Выбрать**, введите выражение, которое включает имя действия **Выбрать**.

   ```
   @actionBody('Select')
   ```

   В этом примере используется действие **Office 365 Outlook — Отправить электронное письмо** , которое включает выходные данные из выражения **actionBody('Select')** в тексте письма.

   ![Выходные данные действия в действии "Отправить электронное письмо"](./media/logic-apps-perform-data-operations/send-email-select-action.png)

3. Теперь вручную запустите приложение логики. На панели инструментов конструктора нажмите кнопку **Запустить**. 

   Ниже приведены результаты, основанные на используемом соединителе электронной почты.

   ![Электронная почта с результатами действия "Выбрать"](./media/logic-apps-perform-data-operations/select-email-results.png)

## <a name="get-support"></a>Получение поддержки

* Если у вас возникли вопросы, то посетите [форум Azure Logic Apps](https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurelogicapps).
* Отправить идею по поводу возможности или проголосовать за нее вы можете на [сайте отзывов пользователей Logic Apps](https://aka.ms/logicapps-wish).

## <a name="next-steps"></a>Дальнейшие действия

* См. дополнительные сведения о [соединителях Logic Apps](../connectors/apis-list.md).
