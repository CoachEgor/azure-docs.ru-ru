---
title: Сообщений RosettaNet для интеграции с предприятием B2B — Azure Logic Apps
description: Обмен сообщениями RosettaNet в Azure Logic Apps с помощью пакета интеграции Enterprise
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: divyaswarnkar
ms.author: divswa
ms.reviewer: jonfan, estfan, LADocs
ms.topic: article
ms.date: 06/22/2019
ms.openlocfilehash: 88e02f3fbbca8007fdf479bb973f50c42a878d6e
ms.sourcegitcommit: 08138eab740c12bf68c787062b101a4333292075
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/22/2019
ms.locfileid: "67333040"
---
# <a name="exchange-rosettanet-messages-for-b2b-enterprise-integration-in-azure-logic-apps"></a>Обмен сообщениями RosettaNet для интеграции с предприятием B2B в Azure Logic Apps 

[RosettaNet](https://resources.gs1us.org) — это некоммерческая консорциумом, который установил стандартных процессов для совместного использования бизнес-информации. Эти стандарты обычно используются для процессов цепочки поставок и распространена на отраслей полупроводников, электроники и логистики. Консорциум RosettaNet создает и обслуживает процессы интерфейс партнера (PIP-адресами), обеспечивающий общие определения бизнес-процессов для обмен сообщениями RosettaNet. RosettaNet основан на XML и определяет правила сообщений, интерфейсы для бизнес-процессов и реализации платформы для обмена данными между компаниями.

В [Azure Logic Apps](../logic-apps/logic-apps-overview.md), RosettaNet соединитель поможет вам создавать решения для интеграции, которые поддерживают стандартам RosettaNet. Соединитель основан на реализации Framework RosettaNet (RNIF) версии 2.0.01. RNIF — это открытая сеть исполняющая, позволяет деловым партнерам выполнять совместно RosettaNet PIP-адресами. Эта платформа определяет структуру сообщения, о необходимости уведомления о доставке, кодирование Multipurpose Internet Mail Extensions (MIME) и цифровой подписи.

В частности соединитель предоставляет следующие возможности:

* Закодировать или получения сообщений RosettaNet.
* Отправка сообщений RosettaNet и декодирования.
* Дождитесь ответа и создания уведомлений сбоя.

Для этих возможностей соединитель будет поддерживать все PIP-адресами, которые определяются RNIF 2.0.01. Связь с участником может быть синхронным или асинхронным.

## <a name="rosettanet-concepts"></a>Основные понятия RosettaNet

Ниже приведены некоторые основные понятия и термины, которые должны быть уникальными в спецификации RosettaNet и важны при построении основе RosettaNet интеграции.

* **PIP**

  RosettaNet организация создает и обслуживает процессы интерфейс партнера (PIP-адресами), обеспечивающий общие определения бизнес-процессов для обмен сообщениями RosettaNet. Каждая спецификация PIP предоставляет файл определения DTD типа документа и документа рекомендации сообщения. DTD-файл определяет структуру сообщения содержимое веб-службы. Документ рекомендация сообщения, который представляет собой удобное для восприятия файл HTML, задает ограничения на уровне элемента. Вместе эти файлы обеспечивают полное определение бизнес-процесса.

   PIP-адресами, распределяются по высокого уровня бизнес-функции, или кластера и подфункции или сегмента. Например «3A4» — это общедоступный IP-адрес для заказа на покупку, при «3» — это функция управления заказами и «3A» является подфункции кавычка & ввода заказов. Дополнительные сведения см. в разделе [сайта RosettaNet](https://resources.gs1us.org).

* **Действие**

  Часть из PIP-адрес, действие сообщения являются бизнеса, которые передаются между партнерами.

* **сигнал**

   Часть сообщения сигнала PIP-адрес, являются подтверждений, передаваемых в ответ на действие сообщения.

* **Одно действие и действие double**

  Для одного действия PIP только ответ является подтверждающее сообщение сигнала. Для действия двойной PIP-адрес инициатор получает ответное сообщение и отправляет ответ с подтверждением помимо потока обработки сообщений для одного действия.

## <a name="prerequisites"></a>Технические условия

* Подписка Azure. Если у вас еще нет подписки Azure, [получите бесплатную учетную запись Azure](https://azure.microsoft.com/free/).

* [Учетной записи интеграции](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md) для хранения соглашения и другие артефакты B2B. Эта учетная запись интеграции, необходимо связать с вашей подпиской Azure.

* По крайней мере два [партнеров](../logic-apps/logic-apps-enterprise-integration-partners.md) , определенные в учетной записи интеграции и настроенные с квалификатором «DUNS» в разделе **бизнес-идентификаторы**

* Конфигурация процесса PIP, который необходим для отправки и получения сообщений RosettaNet в учетной записи интеграции. Конфигурация процесса хранит все характеристики конфигурации PIP. Затем эту конфигурацию можно ссылаться при создании соглашения с участником. Чтобы создать конфигурацию процесса PIP в учетной записи интеграции, см. в разделе [конфигурации процесса добавления PIP](#add-pip).

* Необязательный [сертификаты](../logic-apps/logic-apps-enterprise-integration-certificates.md) для шифрования, расшифровки или подписи сообщения, которые передаются в учетную запись интеграции. Сертификаты необходимы только в том случае, если вы являетесь использования подписи или шифрования.

<a name="add-pip"></a>

## <a name="add-pip-process-configuration"></a>Добавление PIP конфигурации процесса

Добавление конфигурации процесса PIP в учетную запись интеграции, выполните следующие действия.

1. В [портала Azure](https://portal.azure.com)найдите и откройте учетную запись интеграции.

1. На **Обзор** области выберите **RosettaNet PIP** плитку.

   ![Выберите плитку RosettaNet](media/logic-apps-enterprise-integration-rosettanet/select-rosettanet-tile.png)

1. В разделе **RosettaNet PIP**, выберите **добавить**. Укажите сведения о PIP.

   ![Добавление сведений о RosettaNet PIP](media/logic-apps-enterprise-integration-rosettanet/add-rosettanet-pip.png)

   | Свойство | Обязательно для заполнения | Описание |
   |----------|----------|-------------|
   | **Имя** | Да | Имя PIP |
   | **Код PIP** | Да | Трехзначный цифровой код PIP. Дополнительные сведения см. в разделе [RosettaNet PIP-адресами](https://docs.microsoft.com/biztalk/adapters-and-accelerators/accelerator-rosettanet/rosettanet-pips). |
   | **Версия PIP** | Да | Номер версии PIP, который доступен на основании выбранного кода PIP |
   ||||

   Дополнительные сведения об этих свойствах PIP [RosettaNet веб-сайт](https://resources.gs1us.org/RosettaNet-Standards/Standards-Library/PIP-Directory#1043208-pipsreg).

1. Когда все будет готово, выберите **ОК**, который создает конфигурацию PIP.

1. Чтобы просмотреть или изменить конфигурацию процесса, выберите общедоступный IP-адрес и выберите **редактирование в качестве JSON**.

   Конфигурации, параметры поставляются из спецификаций PIP всех процессов. Логика приложения заполняет большинство параметров со значениями по умолчанию, которые являются наиболее часто используются значения этих свойств.

   ![Изменение конфигурации RosettaNet PIP](media/logic-apps-enterprise-integration-rosettanet/edit-rosettanet-pip.png)

1. Убедитесь, что параметры соответствуют значениям в соответствующие спецификации PIP и потребностям вашего бизнеса. При необходимости обновите значения в формате JSON и сохранить эти изменения.

## <a name="create-rosettanet-agreement"></a>Создание соглашения RosettaNet

1. На [портале Azure](https://portal.azure.com) найдите и выберите свою учетную запись интеграции, если она еще не открыта.

1. На **Обзор** области выберите **соглашения** плитку.

   ![Выбор плитки соглашения](media/logic-apps-enterprise-integration-rosettanet/select-agreement-tile.png)

1. В разделе **Соглашения** щелкните **Добавить**. Укажите сведения о соглашении.

   ![Добавить сведения о соглашении](media/logic-apps-enterprise-integration-rosettanet/add-agreement-details.png)

   | Свойство | Обязательно для заполнения | Описание |
   |----------|----------|-------------|
   | **Имя** | Да | Имя соглашения |
   | **Тип соглашения** | Да | Выберите **RosettaNet**. |
   | **Главный партнер** | Да | Для соглашения нужно указать главного партнера и гостевого партнера. Главный партнер представляет организацию, которая настраивает соглашение. |
   | **Главный идентификатор** | Да | Идентификатор главного партнера. |
   | **Гостевой партнер** | Да | Для соглашения нужно указать главного партнера и гостевого партнера. Партнер-гость представляет организацию, которая имеет деловые отношения с главным партнером. |
   | **Гостевой идентификатор** | Да | Идентификатор гостевого партнера |
   | **Параметры получения** | Varies | Эти свойства применяются ко всем сообщениям, получаемым главным партнером |
   | **Параметры отправки** | Varies | Эти свойства применяются ко всем сообщениям, отправленные главный партнер |  
   | **RosettaNet PIP ссылки** | Да | Таблица ссылок PIP для соглашения. Все сообщения RosettaNet требуют PIP конфигураций. |
   ||||

1. Для настройки соглашения для получения входящих сообщений от гостевого партнера, выбрать **параметры получения**.

   ![Параметры получения](media/logic-apps-enterprise-integration-rosettanet/add-agreement-receive-details.png)

   1. Чтобы включить подписывание или шифрование для входящих сообщений в разделе **сообщений**выберите **сообщение должно быть подписано** или **сообщение должно быть зашифровано** соответственно.

      | Свойство | Обязательно для заполнения | Описание |
      |----------|----------|-------------|
      | **Сообщение должно быть подписано** | Нет | Подписи входящих сообщений с помощью выбранного сертификата. |
      | **Certificate** | Да, если станет доступна процедура подписи | Сертификат, используемый для подписи |
      | **Включить шифрование сообщений** | Нет | Шифрование сообщений с помощью выбранного сертификата. |
      | **Certificate** | Да, если шифрование включено | Сертификат, используемый для шифрования |
      ||||

   1. Выбранные параметры, установите соответствующие [сертификат](./logic-apps-enterprise-integration-certificates.md), который вы ранее добавили в учетную запись интеграции, используемый для подписания или шифрования.

1. Для настройки соглашения для отправки сообщений гостевому партнеру, выбрать **параметры отправки**.

   ![Параметры отправки](media/logic-apps-enterprise-integration-rosettanet/add-agreement-send-details.png)

   1. Чтобы включить подписывание или шифрование для исходящих сообщений в разделе **сообщений**выберите **включить подпись сообщений** или **включить шифрование сообщений** соответственно. Установите соответствующие алгоритм каждого выбора и [сертификат](./logic-apps-enterprise-integration-certificates.md), которого вы ранее добавили в учетную запись интеграции, используемый для подписания или шифрования.

      | Свойство | Обязательно для заполнения | Описание |
      |----------|----------|-------------|
      | **Включить подпись сообщений** | Нет | Подписывать исходящие сообщения с помощью выбранного алгоритма подписи и сертификатов. |
      | **Алгоритм подписи** | Да, если станет доступна процедура подписи | Алгоритм подписи для использования, на основании выбранного сертификата |
      | **Certificate** | Да, если станет доступна процедура подписи | Сертификат, используемый для подписи |
      | **Включить шифрование сообщений** | Нет | Шифрование, исходящих с помощью выбранного алгоритма шифрования и сертификат. |
      | **Алгоритм шифрования** | Да, если шифрование включено | Алгоритм шифрования, используемый, в зависимости от выбранного сертификата |
      | **Certificate** | Да, если шифрование включено | Сертификат, используемый для шифрования |
      ||||

   1. В разделе **конечные точки**, укажите необходимые URL-адреса для отправки сообщений о действиях и уведомления о доставке.

      | Свойство | Обязательно для заполнения | Описание |
      |----------|----------|-------------|
      | **URL-адреса действия** |  Да | URL-адрес, используемый для отправки сообщений о действиях. URL-адрес поле является обязательным для синхронных и асинхронных сообщений. |
      | **Подтверждение URL-адрес** | Да | URL-адрес, используемый для отправки сообщений подтверждения. URL-адрес поле является обязательным для асинхронных сообщений. |
      ||||

1. Чтобы настроить вашим соглашением с RosettaNet PIP ссылки для партнеров, выберите **ссылается на RosettaNet PIP**. В разделе **имя PIP**, выберите имя для вашего ранее созданный PIP.

   ![PIP ссылки](media/logic-apps-enterprise-integration-rosettanet/add-agreement-pip-details.png)

   Выбор заполняет оставшиеся свойства, которые основаны на общедоступный IP-адрес, в свою учетную запись интеграции. При необходимости можно изменить **роли PIP**.

   ![Выбранный PIP](media/logic-apps-enterprise-integration-rosettanet/add-agreement-selected-pip.png)

После выполнения этих действий вы готовы для отправки и получения сообщений RosettaNet.

## <a name="rosettanet-templates"></a>Шаблоны RosettaNet

Чтобы ускорить разработку и рекомендуем шаблоны интеграции, можно использовать шаблоны приложений логики для декодирования и кодирования сообщений RosettaNet. При создании приложения логики, можно выбрать из коллекции шаблонов в конструкторе приложений логики. Вы также эти шаблоны можно найти в [репозиторий GitHub для Azure Logic Apps](https://github.com/Azure/logicapps).

![Шаблоны RosettaNet](media/logic-apps-enterprise-integration-rosettanet/decode-encode-rosettanet-templates.png)

## <a name="receive-or-decode-rosettanet-messages"></a>Получение и декодирование сообщений RosettaNet

1. [Создание пустого приложения логики](quickstart-create-first-logic-app-workflow.md).

1. [Свяжите учетную запись интеграции](logic-apps-enterprise-integration-create-integration-account.md#link-account) в приложение логики.

1. Прежде чем можно добавить действие для декодирования сообщений RosettaNet, придется добавить триггер для запуска приложения логики, например триггер запроса.

1. После добавления триггера нажмите **новый шаг**.

   ![Добавьте триггер запроса](media/logic-apps-enterprise-integration-rosettanet/request-trigger.png)

1. В поле поиска введите «rosettanet» и выберите действие: **Декодирование RosettaNet**

   ![Найдите и выберите действие «Дешифрирование RosettaNet»](media/logic-apps-enterprise-integration-rosettanet/select-decode-rosettanet-action.png)

1. Укажите сведения для свойства действия.

   ![Укажите сведения о действии](media/logic-apps-enterprise-integration-rosettanet/decode-action-details.png)

   | Свойство | Обязательно для заполнения | Описание |
   |----------|----------|-------------|
   | **Сообщение** | Да | Декодируемое сообщение RosettaNet  |
   | **Заголовки** | Да | Заголовки HTTP, укажите значения для версии, которая является версией RNIF, и тип ответа, который указывает тип связи между партнерами и могут быть синхронными или асинхронными |
   | **Роль** | Да | Роль участника узла в общедоступный IP-адрес |
   ||||

   Из действие декодирования RosettaNet, включает выходные данные, а также другие свойства, **исходящего сигнала**, который вы можете выполнить кодирование, вернуться к партнеру или выполнять другие действия на эти выходные данные.

## <a name="send-or-encode-rosettanet-messages"></a>Отправка или кодирования сообщений RosettaNet

1. [Создание пустого приложения логики](quickstart-create-first-logic-app-workflow.md).

1. [Свяжите учетную запись интеграции](logic-apps-enterprise-integration-create-integration-account.md#link-account) в приложение логики.

1. Перед добавлением действия для кодирования сообщений RosettaNet, придется добавить триггер для запуска приложения логики, например триггер запроса.

1. После добавления триггера нажмите **новый шаг**.

   ![Добавьте триггер запроса](media/logic-apps-enterprise-integration-rosettanet/request-trigger.png)

1. В поле поиска введите «rosettanet» и выберите действие: **Кодирование RosettaNet**

   ![Поиск и Выбор действия «Шифрование RosettaNet»](media/logic-apps-enterprise-integration-rosettanet/select-encode-rosettanet-action.png)

1. Укажите сведения для свойства действия.

   ![Укажите сведения о действии](media/logic-apps-enterprise-integration-rosettanet/encode-action-details.png)

   | Свойство | Обязательно для заполнения | Описание |
   |----------|----------|-------------|
   | **Сообщение** | Да | Сообщение RosettaNet для кодирования.  |
   | **Главный партнер** | Да | Имя участника узла |
   | **Гостевой партнер** | Да | Имя гостевого партнера |
   | **Код PIP** | Да | Код PIP |
   | **Версия PIP** | Да | Версия PIP |  
   | **Удостоверение экземпляра PIP** | Да | Уникальный идентификатор для данного сообщения PIP |  
   | **Тип сообщения** | Да | Тип сообщения для кодирования |  
   | **Роль** | Да | Роль участника узла |
   ||||

   Закодированное сообщение теперь готов к отправке партнеру.

1. Чтобы отправить закодированное сообщение, в этом примере используется **HTTP** действие, являющееся переименован «HTTP - сообщения в кодировке отправки партнеру».

   ![Действия HTTP для отправки сообщений RosettaNet](media/logic-apps-enterprise-integration-rosettanet/send-rosettanet-message-to-partner.png)

   По стандартам RosettaNet бизнес-транзакций, считаются полный только в том случае, когда завершены все действия, определяемые общедоступный IP-адрес.

1. После узел отправляет закодированное сообщение партнера, узел ожидает сигнала и подтверждением. Чтобы выполнить эту задачу, добавьте **RosettaNet ожидания для ответа** действие.

   ![Добавление действия «RosettaNet ожидания для ответа»](media/logic-apps-enterprise-integration-rosettanet/rosettanet-wait-for-response-action.png)

   Длительность ожидания и число повторных попыток основаны на конфигурации PIP в учетной записи интеграции. Если ответ не поступает, это действие создает уведомление сбоя. Чтобы обрабатывать повторные попытки, следует всегда помещать **Encode** и **Ожидание ответа** действия в **до** цикла.

   ![Цикл с действиями RosettaNet Until](media/logic-apps-enterprise-integration-rosettanet/rosettanet-loop.png)

## <a name="next-steps"></a>Дальнейшие действия

* Сведения о проверке, преобразовании и других операциях с сообщениями, выполняемых с помощью [пакета интеграции Enterprise](../logic-apps/logic-apps-enterprise-integration-overview.md).
* См. дополнительные сведения о других [соединителях Logic Apps](../connectors/apis-list.md).
