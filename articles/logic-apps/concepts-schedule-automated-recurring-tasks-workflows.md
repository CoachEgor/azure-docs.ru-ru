---
title: Планирование повторяющихся задач и рабочих процессов в Azure Logic Apps
description: Общие сведения о планировании повторяющихся автоматизированных задач, процессы и рабочие процессы с помощью Azure Logic Apps
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ecfan
ms.author: estfan
ms.reviewer: deli, klam, LADocs
ms.topic: conceptual
ms.date: 05/25/2019
ms.openlocfilehash: 7f15dc5b28a44dc8405e2f0524913e6012ebe380
ms.sourcegitcommit: 8e76be591034b618f5c11f4e66668f48c090ddfd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/29/2019
ms.locfileid: "66356048"
---
# <a name="schedule-and-run-recurring-automated-tasks-processes-and-workflows-with-azure-logic-apps"></a>Планирование и выполнение повторяющихся автоматизированных задач, процессы и рабочие процессы с помощью Azure Logic Apps

Служба Logic Apps помогает создавать и выполнять автоматические повторяющиеся задачи и процессы по расписанию. Путем создания рабочего процесса приложения логики, который начинается с встроенной повторения или скользящее окно триггера, которые входят в триггерах типа расписания, можно выполнять задачи, немедленно, в дальнейшем, или в соответствии с интервалом повторения. Вызывают службы внутри и вне Azure, такие как конечные точки HTTP или HTTPS, отправлять сообщения в Azure службы, такие как служба хранилища Azure и служебной шины Azure или получить файлы, переданные в общую папку. С помощью триггера повторения, можно также настроить сложных расписаний и расширенного повторения для выполнения задач. Дополнительные сведения о встроенных расписание триггеры и действия, см. в разделе [расписание и повторяющиеся автоматического запуска, задачи и рабочие процессы с помощью Azure Logic Apps](../logic-apps/concepts-schedule-automated-recurring-tasks-workflows.md).

Ниже приведены некоторые примеры, показывающие с видами задач, которые могут выполняться.

* Получение внутренних данных, например запуска хранимой процедуры SQL каждый день.

* Получение внешних данных, например о погоде по запросу от NOAA каждые 15 минут.

* Отправьте данные отчетов, например по электронной почте сводки всех заказов, больше, чем определенную сумму за последнюю неделю.

* Обработки данных, таких как сегодня сжатие переданных изображений каждый рабочий день в часы наименьшей нагрузки.

* Очистка данных, таких как удаление всех твитов старше трех месяцев.

* Архивация данных, таких как счета принудительной ежемесячное Создание резервной копии в 1:00 каждый день в течение следующих девяти месяцев.

Также можно использовать встроенные действия расписания для приостановки рабочего процесса, перед выполнением следующего действия, например:

* ожидание буднего дня, чтобы отправить обновление состояния по почте;

* задержка рабочего процесса до завершения вызова HTTP, прежде чем возобновить работу и получить результат.

В этой статье описываются возможности, расписание встроенных триггеров и действий.

## <a name="schedule-triggers"></a>Триггеры расписание

Рабочий процесс приложения логики можно запустить с помощью триггера повторения или триггер скользящего окна, который не связаны с определенной службы или системы, например, Office 365 Outlook или SQL Server. Эти триггеры запуска и выполнения рабочего процесса, в зависимости от вашей повторения, в котором выбрать интервал и частоту, такие как количество секунд, минут и часов и триггеры, или число дней, недель или месяцев для триггера повторения. Можно также задать начальную дату и время, а также часовой пояс. Каждый раз, когда срабатывает триггер, Logic Apps создает и запускает новый экземпляр рабочего процесса для приложения логики.

Ниже приведены различия между эти триггеры.

* **Повторение**: Запускает рабочий процесс через регулярные интервалы времени на основе по указанному расписанию. Если повторения будут отсутствовать, не обрабатывает пропущенных повторения триггера повторения, но перезапускает повторения с помощью следующей запланированной. Можно указать начальную дату и время, а также часовой пояс. Если выбрать «Day», можно указать часы и минуты часа, например, каждый день в 2:30. Если вы выбрали значение «Неделя», можно также выбрать дни недели, например среду и субботу. Дополнительные сведения см. в разделе [Create, расписание и выполнения повторяющиеся задачи и рабочие процессы с триггером повторения](../connectors/connectors-native-recurrence.md).

* **Скользящее окно**: Запускает рабочий процесс через регулярные интервалы времени, которые обрабатывают данные блоками непрерывной. Если отсутствуют повторения, триггер скользящее окно возвращается процессов и пропущенных повторов. Можно указать начальную дату и время, часовой пояс и длительность задержки каждого повторения в рабочем процессе. Этот триггер не имеет параметры для указания дней, недель и месяцев, часы, минуты часа, а дни недели. Дополнительные сведения см. в разделе [Create, расписание и выполнения повторяющихся задач и рабочих процессов с помощью триггера скользящее окно](../connectors/connectors-native-sliding-window.md).

## <a name="schedule-actions"></a>Действия по расписанию

После выполнения любого действия в рабочем процессе приложения логики можно использовать действия задержки и Задержка до ожидания до выполнения следующего действия рабочий процесс.

* **Задержка**: Подождите, чтобы выполнить следующее действие, указанное число единиц времени, например секунд, минут, часов, дней, недель или месяцев. Дополнительные сведения см. в разделе [отложить следующее действие в рабочих процессах](../connectors/connectors-native-delay.md).

* **Задержка до**: Для выполнения следующего действия до указанной даты и времени ожидания. Дополнительные сведения см. в разделе [отложить следующее действие в рабочих процессах](../connectors/connectors-native-delay.md).

## <a name="patterns-for-start-date-and-time"></a>Дата и время начала шаблоны для

<a name="start-time"></a>

Ниже приведены некоторые шаблоны, показывающие, как можно управлять повторением, используя дату и время начала, и как службы Logic Apps выполняет эти повторения.

| Время начала | Повторение без расписания | Повторение с расписанием (только для триггера повторения) |
|------------|-----------------------------|----------------------------------------------------|
| {нет} | Выполняет первую рабочую нагрузку мгновенно. <p>Выполняет будущие рабочие нагрузки на основе последнего времени выполнения. | Выполняет первую рабочую нагрузку мгновенно. <p>Выполняет будущие рабочие нагрузки по указанному расписанию. |
| Время начала в прошлом | **Повторение** триггера: Вычисляет время выполнения на основе указанного времени начала и отклоняет время выполнения в прошлом. Выполняет первую рабочую нагрузку при последующем времени выполнения. <p>Выполняет будущие рабочие нагрузки на основе вычисления последнего времени выполнения. <p><p>**Скользящее окно** триггера: Вычисляет время выполнения, на основе указанного времени начала и времени учитывает последние запуска. <p>Выполняет будущие рабочие нагрузки, на основе вычисления указанное время начала. <p><p>Чтобы получить дополнительные сведения, ознакомьтесь с примерами под этой таблицей. | Выполняет первую рабочую нагрузку *не раньше* времени начала на основе расписания, которое отсчитывается от времени начала. <p>Выполняет будущие рабочие нагрузки по указанному расписанию. <p>**Примечание.** Если указать повторение с расписанием, но не указать часы или минуты расписания, то будущее время выполнения вычисляется с помощью часов или минут первого времени выполнения соответственно. |
| Текущее или будущее время выполнения | Выполняет первую рабочую нагрузку в указанное время начала. <p>Выполняет будущие рабочие нагрузки на основе вычисления последнего времени выполнения. | Выполняет первую рабочую нагрузку *не раньше* времени начала на основе расписания, которое отсчитывается от времени начала. <p>Выполняет будущие рабочие нагрузки по указанному расписанию. <p>**Примечание.** Если указать повторение с расписанием, но не указать часы или минуты расписания, то будущее время выполнения вычисляется с помощью часов или минут первого времени выполнения соответственно. |
||||

*Пример для последних время начала и повторения, но без расписания*

Предположим, что текущая дата и время — 8 сентября 2017 г. в 13:00. Укажите дату начала и время как 7 сентября 2017 г. в 14:00, которое находится в прошлом и повторения, который выполняется каждые 2 дня.

| Время начала | Текущее время | Периодичность | Расписание |
|------------|--------------|------------|----------|
| 2017-09-**07**T14:00:00Z <br>(2017-09 -**07** в 14:00) | 2017-09-**08**T13:00:00Z <br>(2017-09 -**08** в 13:00) | Каждые 2 дня | {нет} |
|||||

Для триггера повторения обработчик Logic Apps вычисляет запусков на основе времени начала, отклоняет за время выполнения, использует последующее время начала для первого запуска и вычисляет будущее выполняется на основе последнего времени выполнения.

Вот как выглядит это повторение:

| Время начала | Первое время выполнения | Последующее время выполнения |
|------------|----------------|------------------|
| 2017-09-**07** в 14:00 | 2017-09-**09** в 14:00 | 2017-09-**11** в 14:00 </br>2017-09-**13** в 14:00 </br>2017-09-**15** в 14:00 </br>и т. д. |
||||

Таким образом, независимо от того как далеко в прошлом вы указали время начала, к примеру, 2017-09 -**05** в 14:00 или 2017-09 -**01** в 14:00:00 первого выполнения всегда использует, последующее время начала.

Для скользящего окна триггера обработчик Logic Apps вычисляет запусков на основе времени начала, учитывает прошлых запусков, использует время начала для первого выполнения и вычисляет последующих запусках, на основе времени начала.

Вот как выглядит это повторение:

| Время начала | Первое время выполнения | Последующее время выполнения |
|------------|----------------|------------------|
| 2017-09-**07** в 14:00 | 2017-09-**07** в 14:00 | 2017-09-**09** в 14:00 </br>2017-09-**11** в 14:00 </br>2017-09-**13** в 14:00 </br>2017-09-**15** в 14:00 </br>и т. д. |
||||

Таким образом, независимо от того как далеко в прошлом вы указали время начала, к примеру, 2017-09 -**05** в 14:00 или 2017-09 -**01** в 14:00:00 первого выполнения всегда использует указанного времени начала.

<a name="example-recurrences"></a>

## <a name="example-recurrences"></a>Пример повторения

Ниже приведены различные пример повторения можно настроить для триггеров, которые поддерживают параметры.

| Триггер | Периодичность | Interval | Frequency | Время начала | В эти дни | В эти часы | В эти минуты | Примечание |
|---------|------------|----------|-----------|------------|---------------|----------------|------------------|------|
| Повторение <br>Скользящее окно | Выполняется каждые 15 минут (нет даты и времени начала) | 15 | Минута | {нет} | {недоступно} | {нет} | {нет} | Это расписание начинается немедленно, а затем вычисляются будущие повторения на основе последнего времени выполнения. |
| Повторение <br>Скользящее окно | Выполняется каждые 15 минут (с датой и временем начала) | 15 | Минута | *startDate*T*startTime*Z | {недоступно} | {нет} | {нет} | Выполнение расписания начнется *не раньше*, чем наступит дата и время начала. Затем будут вычислены будущие повторения на основе последнего времени выполнения. |
| Повторение <br>Скользящее окно | Выполняется с наступлением каждого часа (с датой и временем начала) | 1 | Час | *startDate*Thh:00:00Z | {недоступно} | {нет} | {нет} | Выполнение расписания начнется *не раньше*, чем наступит дата и время начала. Будущие повторения выполняются каждый час на отметке «00» минуты, который вычисляется по времени начала. <p>Если для частоты задано "Неделя" или "Месяц", это расписание соответственно выполняется один раз в неделю или в месяц. |
| Повторение <br>Скользящее окно | Выполняется каждый час, каждый день (нет даты и времени начала) | 1 | Час | {нет} | {недоступно} | {нет} | {нет} | Это расписание начинается немедленно, а затем вычисляются будущие повторения на основе последнего времени выполнения. <p>Если для частоты задано "Неделя" или "Месяц", это расписание соответственно выполняется один раз в неделю или в месяц. |
| Повторение <br>Скользящее окно | Выполняется каждый час, каждый день (с датой и временем начала) | 1 | Час | *startDate*T*startTime*Z | {недоступно} | {нет} | {нет} | Выполнение расписания начнется *не раньше*, чем наступит дата и время начала. Затем будут вычислены будущие повторения на основе последнего времени выполнения. <p>Если для частоты задано "Неделя" или "Месяц", это расписание соответственно выполняется один раз в неделю или в месяц. |
| Повторение <br>Скользящее окно | Выполняется через 15 минут после наступления каждого часа (с датой и временем начала) | 1 | Час | *startDate*T00:15:00Z | {недоступно} | {нет} | {нет} | Выполнение расписания начнется *не раньше*, чем наступит дата и время начала. Будущие повторения, запустите на «15» минуты метке, которая рассчитывается с самого начала, время, поэтому в 00:15, 01:15:00, 2:15 AM и так далее. |
| Периодичность | Выполняется через 15 минут после наступления каждого часа (нет даты и времени начала) | 1 | День | {нет} | {недоступно} | 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23 | 15 | Расписание выполняется в 00:15, 1:15, 2:15 и т. д. Кроме того, это расписание эквивалентно частоте "Час" и времени начала 15 минут. |
| Периодичность | Выполняется каждые 15 минут в указанной метки минут (нет даты начала и время). | 1 | День | {нет} | {недоступно} | 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23 | 0, 15, 30, 45 | Выполнение расписания начнется не раньше следующей указанной метки времени 15 минут. |
| Периодичность | Выполняется в 8:00 каждый день (нет даты и времени начала) | 1 | День | {нет} | {недоступно} | 8 | {нет} | Расписание выполняется в 8:00 каждый день по указанному расписанию. |
| Периодичность | Выполняется в 8:00 каждый день (с датой и временем начала) | 1 | День | *startDate*T08:00:00Z | {недоступно} | {нет} | {нет} | Расписание выполняется в 8:00 каждый день в указанное время начала. | 
| Периодичность | Выполняется в 8:30 каждый день (нет даты и времени начала) | 1 | День | {нет} | {недоступно} | 8 | 30 | Расписание выполняется в 8:30 каждый день по указанному расписанию. |
| Периодичность | Выполняется в 8:30 каждый день (с датой и временем начала) | 1 | День | *startDate*T08:30:00Z | {недоступно} | {нет} | {нет} | Выполнение расписания начинается в указанную дату начала в 8:30. |
| Периодичность | Выполняется каждый день в 8:30 и 16:30. | 1 | День | {нет} | {недоступно} | 8, 16 | 30 | |
| Периодичность | Выполняется каждый день в 8:30, 8:45, 16:30 и 16:45. | 1 | День | {нет} | {недоступно} | 8, 16 | 30, 45 | |
| Периодичность | Выполняется каждую субботу в 17:00 (нет даты и времени начала) | 1 | Неделя | {нет} | Суббота | 17 | 00 | Расписание выполняется каждую субботу в 17:00. |
| Периодичность | Выполняется каждую субботу в 17: 00 (с датой и временем начала) | 1 | Неделя | *startDate*T17:00:00Z | Суббота | {нет} | {нет} | Выполнение расписания начнется *не раньше*, чем наступит дата и время начала. В этом случае 9 сентября 2017 г. в 17:00. Будущие повторения выполняются каждую субботу в 17:00. |
| Периодичность | Выполняется каждый вторник и четверг в 17:00 | 1 | Неделя | {нет} | Вторник, четверг | 17 | {нет} | Расписание выполняется каждый вторник и четверг в 17:00. |
| Периодичность | Выполнять каждый час в рабочее время | 1 | Неделя | {нет} | Выберите все дни, кроме субботы и воскресенья. | Выберите необходимые часы дня. | Выберите необходимое минуты часа. | Например, если ваше рабочее время с 8:00 до 17:00, выберите 8, 9, 10, 11, 12, 13, 14, 15, 16, 17 в качестве часов дня. <p>Если ваше рабочее время с 8:30 до 17:30, выберите предыдущие часы дня и добавьте 30 в качестве минут часа. |
| Периодичность | Выполняется один раз в день в выходные дни | 1 | Неделя | {нет} | Суббота, воскресенье | Выберите необходимые часы дня. | Выберите необходимые минуты часа. | Расписание выполняется каждую субботу и воскресенье по указанной схеме. |
| Периодичность | Выполняется каждые 15 минут, каждые две недели только по понедельникам | 2 | Неделя | {нет} | Понедельник | 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23 | 0, 15, 30, 45 | Это расписание выполняется каждый второй понедельник каждые 15 минут. |
| Периодичность | Выполнения каждого месяца | 1 | Месяц | *startDate*T*startTime*Z | {недоступно} | {недоступно} | {недоступно} | Расписания начнется *не раньше* чем указанные Дата и время начала и вычисляются будущие повторения на дату и время начала. Если не указать дату и время начала, это расписание использует дату и время создания. |
| Периодичность | Выполнять каждый час один день в месяц | 1 | Месяц | {см. примечание} | {недоступно} | 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23 | {см. примечание} | Если не указать дату и время начала, это расписание использует дату и время создания. Чтобы контролировать минуты расписания повторения, укажите минуты часа, время начала или используйте время создания. Например, если время начала или создания — 8:25, расписание выполняется в 8:25, 9:25, 10:25 и т. д. |
|||||||||

<a name="run-once"></a>

## <a name="run-one-time-only"></a>Запустить только один раз

Если вы хотите запустить приложение логики только за один раз в будущем, можно использовать **планировщика: Run once jobs** (Планировщик: одноразовые задания). После создания нового приложения логики, но перед открытием конструктора Logic Apps, в разделе **шаблоны** разделе из **категории** выберите **расписание**, а затем выберите Этот шаблон:

![Выбор шаблона "Scheduler: Run once jobs" (Планировщик: одноразовые задания).](./media/concepts-schedule-automated-recurring-tasks-workflows/choose-run-once-template.png)

Или, при запуске приложения логики с помощью **поступает запрос при HTTP - запроса** триггера и передать в качестве параметра для триггера времени начала. Первое действие, используйте **задержка до — планирование** действие и укажите время, при запуске следующего действия.

## <a name="next-steps"></a>Дальнейшие действия

* [Создавать, планировать и выполнять повторяющиеся задачи и рабочие процессы с триггером повторения](../connectors/connectors-native-recurrence.md)
* [Создавать, планировать и выполнять повторяющиеся задачи и рабочие процессы с триггером скользящего окна](../connectors/connectors-native-sliding-window.md)
* [Приостановка рабочих процессов с помощью действий задержки](../connectors/connectors-native-delay.md)