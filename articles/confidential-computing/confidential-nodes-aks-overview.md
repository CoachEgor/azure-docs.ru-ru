---
title: Узлы конфиденциальных вычислений для Службы Azure Kubernetes (AKS) (общедоступная предварительная версия)
description: Узлы конфиденциальных вычислений в AKS
services: virtual-machines
author: agowdamsft
ms.service: container-service
ms.topic: overview
ms.date: 9/22/2020
ms.author: amgowda
ms.openlocfilehash: ae3090689f9999c9ea6aa65447dadbdd7b0b2026
ms.sourcegitcommit: eb6bef1274b9e6390c7a77ff69bf6a3b94e827fc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/05/2020
ms.locfileid: "90998543"
---
# <a name="confidential-computing-nodes-on-azure-kubernetes-service-public-preview"></a>Узлы конфиденциальных вычислений для Службы Azure Kubernetes (общедоступная предварительная версия)

[Конфиденциальные вычисления в Azure](overview.md) позволяют защитить конфиденциальные данные во время их использования. Базовые инфраструктуры защищают эти данные от других приложений, администраторов и поставщиков облачных служб. 

## <a name="overview"></a>Обзор

Служба Azure Kubernetes Service (AKS) поддерживает добавление [конфиденциальных вычислительных узлов DCsv2](confidential-computing-enclaves.md) на Intel SGX. Эти узлы выполняют конфиденциальные рабочие нагрузки в доверенной среде выполнения (TEE) с аппаратной поддержкой, позволяя коду уровня пользователя выделять конфиденциальные области памяти. Такие конфиденциальные области памяти называются анклавами. Анклавы разработаны для защиты кода и данных от процессов, выполняющихся с более высоким уровнем привилегий. Модель выполнения SGX устраняет промежуточные уровни гостевой ОС и гипервизора. Это позволяет выполнять контейнерные приложения непосредственно в ЦП, сохраняя специальный зашифрованный блок памяти. 


![Обзор узла SGX](./media/confidential-nodes-aks-overview/sgxaksnode.jpg)

## <a name="aks-confidential-nodes-features"></a>Возможности узлов конфиденциальных вычислений AKS

- Изоляция контейнеров на основе оборудования и на уровне процессов с использованием доверенной среды выполнения (TEE) SGX 
- Кластеры разнородных пулов узлов (сочетание конфиденциальных и неконфиденциальных пулов узлов)
- Планирование развертывания pod на основе памяти для EPC (кэш зашифрованных страниц)
- Предварительно установленный драйвер SGX DCAP
- Предварительно установленное исправление Intel FSGS
- Поддержка горизонтального автомасштабирования pod и автомасштабирования кластера на основе используемых ресурсов ЦП
- Вспомогательная функция внепроцессной аттестации с использованием набора управляющих программ AKS
- Поддержка контейнеров Linux на рабочих узлах виртуальной машины Ubuntu 18.04 2-го поколения

## <a name="aks-provided-daemon-sets"></a>Наборы управляющих программ, предоставленные AKS

#### <a name="sgx-device-plugin"></a>Подключаемый модуль устройства SGX <a id="sgx-plugin"></a>

Подключаемый модуль устройства SGX реализует интерфейс подключаемого модуля устройства Kubernetes для памяти EPC. Фактически этот подключаемый модуль предоставляет память EPC как дополнительный тип ресурса в Kubernetes. Пользователи могут указать для этого ресурса ограничения так же, как для любых других ресурсов. Помимо функции планирования, подключаемый модуль устройства помогает назначить разрешения драйвера устройства SGX для конфиденциальных контейнеров рабочей нагрузки. Пример реализации развертывания на основе памяти EPC (`kubernetes.azure.com/sgx_epc_mem_in_MiB`) вы можете изучить [здесь](https://github.com/azure-samples/confidential-computing/blob/main/containersamples/helloworld/helloworld.yaml).

#### <a name="sgx-quote-helper-service"></a>Вспомогательная служба цитирования SGX <a id="sgx-quote"></a>

Приложения с поддержкой анклавов, которые выполняют удаленную аттестацию, требуют создания цитат (QUOTE). Цитата предоставляет криптографическое подтверждение идентификации и состояния приложения, а также среды, в которой выполняется анклав. Создание цитат основывается на определенных доверенных программных компонентах корпорации Intel, которые являются частью программных компонентов платформы SGX (PSW/DCAP). Этот PSW упаковывается как набор управляющих программ, которые выполняются на каждом узле. Он может использоваться при запросе цитаты для аттестации из приложений с поддержкой анклавов. Использование предоставляемой AKS службы поможет лучше поддерживать совместимость между PSW и другими компонентами программного обеспечения на узле. Дополнительные сведения об использовании и возможностях пакета см. [здесь](confidential-nodes-out-of-proc-attestation.md).

## <a name="programming--application-models"></a>Программирование и модели приложения

### <a name="confidential-containers"></a>Конфиденциальные контейнеры

[Конфиденциальные контейнеры](confidential-containers.md) выполняют существующие программы и поддерживают среды выполнения для **самых распространенных языков программирования** (Python, Node, Java и т. д.), а также любые существующие зависимости библиотек, не требуя изменения или перекомпиляции исходного кода. Эта модель быстрее всего обеспечит конфиденциальность с помощью проектов с открытым кодом и партнеров Azure. Предоставляемые образы контейнеров создаются готовыми для запуска в защищенных анклавах и условно именуются конфиденциальными контейнерами.

### <a name="enclave-aware-containers"></a>Контейнеры с поддержкой анклавов

AKS поддерживает приложения, запрограммированные для работы на конфиденциальных узлах и использования **специального набора инструкций**, предоставляемого в пакетах SDK и на платформах. Эта модель приложения предоставляет максимальные возможности управления приложениями с самым низким уровнем доверенной вычислительная база (TCB). Дополнительные сведения о контейнерах с поддержкой анклава см. [здесь](enclave-aware-containers.md).

## <a name="next-steps"></a>Next Steps

[Развертывание кластера AKS с конфиденциальными вычислительными узлами](./confidential-nodes-aks-get-started.md)

[Примеры для быстрого начала работы с конфиденциальными контейнерами](https://github.com/Azure-Samples/confidential-container-samples)

[Список SKU DCsv2](https://docs.microsoft.com/azure/virtual-machines/dcv2-series)

<!-- LINKS - external -->
[Azure Attestation]: https://docs.microsoft.com/en-us/azure/attestation/


<!-- LINKS - internal -->
[DC Virtual Machine]: /confidential-computing/virtual-machine-solutions