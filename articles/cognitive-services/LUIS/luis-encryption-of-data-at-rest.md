---
title: Служба понимания языка шифрования данных в состоянии покоя
titleSuffix: Azure Cognitive Services
description: Служба понимания языка шифрования данных в состоянии покоя.
author: erindormier
manager: venkyv
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: conceptual
ms.date: 03/13/2020
ms.author: egeaney
ms.openlocfilehash: 59e066974f690bda2384504cc27af5aa94b7b75b
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79372340"
---
# <a name="language-understanding-service-encryption-of-data-at-rest"></a>Служба понимания языка шифрования данных в состоянии покоя

Служба понимания языка автоматически шифрует ваши данные, когда они сохраняются в облаке. Шифрование службы Language Understanding защищает ваши данные и помогает выполнять свои организационные обязательства по обеспечению безопасности и соответствию требованиям.

## <a name="about-cognitive-services-encryption"></a>О шифровании когнитивных служб

Данные шифруются и расшифровываются с помощью [256-битного](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard) шифрования [AES FIPS 140-2.](https://en.wikipedia.org/wiki/FIPS_140-2) Шифрование и расшифровка прозрачны, то есть шифрование и доступ управляются для вас. Ваши данные защищены по умолчанию, и вам не нужно изменять код или приложения, чтобы воспользоваться преимуществами шифрования.

## <a name="about-encryption-key-management"></a>Об управлении ключами шифрования

По умолчанию в вашей подписке используются ключи шифрования, управляемые корпорацией Майкрософт. Существует также возможность управлять подпиской с вашими собственными ключами. Управляемые клиентами ключи (CMK) обеспечивают большую гибкость для создания, вращения, отключания и отзыва элементов управления доступом. Вы также можете провести аудит ключей шифрования, используемых для защиты ваших данных.

## <a name="customer-managed-keys-with-azure-key-vault"></a>Ключи, управляемые клиентами с помощью Azure Key Vault

Существует также возможность управлять подпиской с вашими собственными ключами. Управляемые клиентами ключи (CMK), также известные как Bring your own key (BYOK), обеспечивают большую гибкость для создания, вращения, отключания и отзыва элементов доступа. Вы также можете провести аудит ключей шифрования, используемых для защиты ваших данных.

Для хранения ключей, управляемых клиентом, необходимо использовать Azure Key Vault. Вы можете создать свои собственные ключи и хранить их в хранилище ключей, либо использовать AA-иносы Azure Key Vault для генерации ключей. Ресурс Когнитивных Служб и хранилище ключей должны находиться в одном регионе и в том же клиенте Azure Active Directory (Azure AD), но они могут быть в разных подписках. Для получения дополнительной информации о [What is Azure Key Vault?](https://docs.microsoft.com/azure/key-vault/key-vault-overview)Убежище ключей Azure см.

### <a name="customer-managed-keys-for-language-understanding"></a>Управляемые клиентом ключи для понимания языка

Чтобы запросить возможность использования ключей, управляемых клиентом, заполните и отправьте [форму ключевого запроса, управляемую клиентами службы LUIS.](https://aka.ms/cogsvc-cmk) Это займет около 3-5 рабочих дней, чтобы услышать о статусе вашего запроса. В зависимости от спроса, вы можете быть помещены в очередь и утверждены по мере поступления пространства. Получив разрешение на использование CMK с LUIS, необходимо создать новый ресурс для понимания языка с портала Azure и выбрать E0 в качестве уровня ценообразования. Новый SKU будет функционировать так же, как F0 SKU, который уже доступен, за исключением CMK. Пользователи не смогут перейти с F0 на новый E0 SKU.

Ресурсы E0 доступны только для службы авторов, и что уровень E0 первоначально будет поддерживаться только в регионе Западного США.

![Image caption LUIS](../media/cognitive-services-encryption/luis-subscription.png)

### <a name="regional-availability"></a>Доступность по регионам

Ключи, управляемые клиентами, в настоящее время доступны в **регионе Западной США.**

### <a name="limitations"></a>Ограничения

Есть некоторые ограничения при использовании уровня E0 с существующими/ранее созданными приложениями:

* Миграция на ресурс E0 будет заблокирована. Пользователи смогут переносить свои приложения только на ресурсы F0. После того как вы перенесли существующий ресурс на F0, можно создать новый ресурс на уровне E0. Узнайте больше о [миграции здесь](https://docs.microsoft.com/azure/cognitive-services/luis/luis-migration-authoring).  
* Перемещение приложений на ресурс E0 или с его стороны будет заблокировано. Для этого ограничения необходимо экспортировать существующее приложение и импортировать его в качестве ресурса E0.
* Функция проверки орфографии Bing не поддерживается.
* Регистрация трафика конечных пользователей отключена, если приложение E0.
* Возможность применительной к речи от службы Azure Bot не поддерживается для приложений на уровне E0. Эта функция доступна через службу Azure Bot, которая не поддерживает CMK.
* Возможность речи грунтовки с портала требует Azure Blob хранения. Для получения дополнительной информации, [смотрите принести свой собственный хранения](../Speech-Service/speech-encryption-of-data-at-rest.md#bring-your-own-storage-byos-for-customization-and-logging).

### <a name="enable-customer-managed-keys"></a>Включить ключи, управляемые клиентом

Новый ресурс Cognitive Services всегда шифруется с помощью ключей, управляемых корпорацией Майкрософт. Включить управляемые клиентами ключи на момент создания ресурса невозможно. Управляемые клиентом ключи хранятся в Хранилище ключей Azure, и хранилище ключей должно быть подготовлено с помощью политик доступа, которые предоставляют ключевые разрешения управляемому идентификатору, связанного с ресурсом Cognitive Services. Управляемая идентификация доступна только после создания ресурса с использованием уровня ценообразования для CMK.

Чтобы узнать, как использовать управляемые клиентами ключи с помощью Azure Key Vault для шифрования когнитивных служб, см.:

- [Настройка ключей, управляемых клиентами, с помощью шифрования Key Vault для когнитивных услуг с портала Azure](../Encryption/cognitive-services-encryption-keys-portal.md)

Включение управляемых ключей клиента также позволит системе, назначенной управляемой идентификации, особенность Azure AD. После включения системы, назначенной управляемой идентификацией, этот ресурс будет зарегистрирован в каталоге Azure Active. После регистрации управляемому удостоверению будет предоставлен доступ к выбранной Key Vault во время установки ключей, управляемой клиентом. Вы можете узнать больше о [управляемых идентификационных данных](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview).

> [!IMPORTANT]
> Если вы отключите систему, назначенную управляемые идентификаторы, доступ к хранилищу ключей будет удален, а любые данные, зашифрованные ключами клиента, больше не будут доступны. Любые функции, зависят от этих данных, перестанут работать.

> [!IMPORTANT]
> Сейчас управляемые удостоверения не поддерживаются в сценариях работы с разными каталогами. При настройке ключей, управляемых клиентом, на портале Azure автоматически присваивается управляемый итог под крышками. Если впоследствии вы переведете подписку, группу ресурсов или ресурс из одного каталога Azure AD в другой, управляемая идентификация, связанная с ресурсом, не передается новому арендатору, поэтому ключи, управляемые клиентом, могут больше не работать. Для получения дополнительной информации см. **Передача подписки между каталогами Azure AD** в [часто задаваемых вопросах и известными проблемами с управляемыми идентификаторами для ресурсов Azure.](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/known-issues#transferring-a-subscription-between-azure-ad-directories)  

### <a name="store-customer-managed-keys-in-azure-key-vault"></a>Храните ключи, управляемые клиентами в Хранилище ключей Azure

Для включения ключей, управляемых клиентом, необходимо использовать Хранилище ключей Azure для хранения ключей. Вы должны включить свойства **Soft Delete** и Do **Not Purge** на хранилище ключей.

Только rsA-ключи размера 2048 поддерживаются шифрованием Cognitive Services. Для получения дополнительной информации о ключах смотрите **ключи Убежища ключей** в [о клавишах, секретах и сертификатах Azure Key Vault.](https://docs.microsoft.com/azure/key-vault/about-keys-secrets-and-certificates#key-vault-keys)

### <a name="rotate-customer-managed-keys"></a>Поверните клавиши, управляемые клиентом

Вы можете повернуть ключ, управляемый клиентом, в Azure Key Vault в соответствии с вашими политиками соответствия. При повороте ключа необходимо обновить ресурс Cognitive Services, чтобы использовать новый ключ URI. Чтобы узнать, как обновить ресурс, чтобы использовать новую версию ключа на портале Azure, смотрите раздел под названием **Обновление ключевой версии** в [Настройка клиентоуправляемых ключей для когнитивных услуг с помощью портала Azure](../Encryption/cognitive-services-encryption-keys-portal.md).

Вращение ключа не вызывает повторного шифрования данных в ресурсе. От пользователя не требуется никаких дальнейших действий.

### <a name="revoke-access-to-customer-managed-keys"></a>Отмена доступа к ключам, управляемым клиентами

Чтобы отозвать доступ к ключам, управляемым клиентами, используйте PowerShell или Azure CLI. Для получения дополнительной информации смотрите [ВAzure Key Vault PowerShell](https://docs.microsoft.com/powershell/module/az.keyvault//) или [Azure Key Vault CLI.](https://docs.microsoft.com/cli/azure/keyvault) Отмена доступа фактически блокирует доступ ко всем данным на ресурсе Cognitive Services, так как ключ шифрования недоступен Cognitive Services.

## <a name="next-steps"></a>Дальнейшие действия

* [Форма ключевого запроса, управляемая клиентами службы LUIS Service](https://aka.ms/cogsvc-cmk)
* [Узнайте больше о Убежище ключей Azure](https://docs.microsoft.com/azure/key-vault/key-vault-overview)
