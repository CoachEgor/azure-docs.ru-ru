---
title: Мигрировать на ресурс Azure для авторизации
titleSuffix: Azure Cognitive Services
description: Миграция в ключ ресурса, наключающий ресурс Azure.
services: cognitive-services
author: diberry
manager: nitinme
ms.custom: seodec18
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: conceptual
ms.date: 02/28/2020
ms.author: diberry
ms.openlocfilehash: ec6f9592a4c149be382fab66cca27d929644d988
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "78194515"
---
# <a name="migrate-to-an-azure-resource-authoring-key"></a>Переход на ключ авторизации ресурса Azure

Автор проверки подлинности Language Understanding (LUIS) изменен с учетной записи электронной почты на ресурс Azure. Хотя в настоящее время он не требуется, переход на ресурс Azure будет осуществляться в будущем.

## <a name="why-migrate"></a>Для чего нужна миграция

Использование ресурса Azure для авторизации позволяет, как владельцу ресурса, контролировать доступ к авторизации. Можно создавать и называть авторские ресурсы для управления различными группами авторов.

Например, вы являетесь владельцем 2 приложений LUIS, и у вас есть разные члены, которые являются сотрудниками каждого приложения. Можно создать два разных авторских ресурса и назначить каждое приложение каждому отдельному ресурсу. Затем назначайте каждого участника в качестве участника соответствующего авторского ресурса в зависимости от того, над каким приложением они сотрудничают. Ресурс автора Azure контролирует авторацию.

> [!Note]
> До миграции соавторы известны как _соавторы_ на уровне приложения LUIS. После миграции роль _ресурса_ Azure используется для той же функциональности, но на уровне ресурсов Azure.

## <a name="what-is-migrating"></a>Что такое миграция?

Миграция включает в себя:

* Все пользователи LUIS, владельцы и участники.
* **Все** приложения.
* Миграция **в один путь.**

Владелец не может выбрать подмножество приложений для миграции, и процесс не является обратимым.

Миграция не является:

* Процесс, который собирает сотрудников и автоматически перемещает или добавляет в ресурс авторов Azure. Вы, как владелец приложения, должны завершить этот шаг. Этот шаг требует разрешений на соответствующий ресурс.
* Процесс создания и присвоения ресурса времени выполнения прогноза. Если вам нужен ресурс времени выполнения прогноза, это [отдельный процесс](luis-how-to-azure-subscription.md#create-resources-in-the-azure-portal) и остается неизменным.

## <a name="how-are-the-apps-migrating"></a>Как мигрируют приложения?

[Портал LUIS](https://www.luis.ai) предоставляет процесс миграции.

Вам будет предложено мигрировать, если:

* У вас есть приложения в системе аутентификации электронной почты для авторизации.
* И вы являетесь владельцем приложения.

Процесс миграции можно отложить, отменив из окна. Периодически вас просят мигрировать до тех пор, пока вы не перебудете или не будет пройден срок миграции. Процесс миграции можно запустить с значка блокировки верхней панели навигации.

## <a name="migration-for-the-app-owner"></a>Миграция для владельца приложения

### <a name="before-you-migrate"></a>Перед миграцией

* **Требуется,** вы должны иметь [подписку Azure](https://azure.microsoft.com/free/). Часть процесса подписки требует платежной информации. Тем не менее, вы`F0`можете использовать бесплатный () ценовой уровень при использовании LUIS.
* **Дополнительно,** резервное копирование приложений из списка приложений портала LUIS, экспортируя каждое приложение или используйте [экспортный API.](https://westus.dev.cognitive.microsoft.com/docs/services/5890b47c39e2bb17b84a55ff/operations/5890b47c39e2bb052c5b9c40)
* **Дополнительно**сохраните список сотрудников каждого приложения. Этот список адресов электронной почты предоставляется в рамках процесса миграции.


**Авторство приложения LUIS бесплатно,** указанное уровнем. `F0` Подробнее [о тарифных уровнях.](luis-boundaries.md#key-limits)

Если у вас нет подписки На Azure, [зарегистрируйтесь.](https://azure.microsoft.com/free/)

### <a name="migration-steps"></a>Этапы миграции

Следуйте [этим шагам миграции.](luis-migration-authoring-steps.md)

### <a name="after-you-migrate"></a>После миграции

После процесса миграции все приложения LUIS теперь назначены одному авторскому ресурсу LUIS.

Можно создать больше ресурсов-авторов и назначить со страницы **ресурсов Управления-> Azure** на _портале LUIS._

Вы можете добавить авторов в ресурс-автор из _портала Azure_на странице **управления доступом (IAM)** для этого ресурса. Для получения дополнительной информации [см.](luis-migration-authoring-steps.md#after-the-migration-process-add-contributors-to-your-authoring-resource)

|Портал|Назначение|
|--|--|
|[Azure](https://azure.microsoft.com/free/)|Создавайте ресурсы прогнозирования и авторизации.<br>Назначаем вкладчиков.|
|[Луис](https://www.luis.ai)|- Переход на новые авторские ресурсы.<br>Назначить или отменить прогнозирование и авторство ресурсов для приложений со **страницы ресурсов Manage-> Azure.**|

## <a name="migration-for-the-app-contributor"></a>Миграция для вкладчика приложения

Каждый пользователь LUIS должен мигрировать, включая сотрудников/участников. Сотрудник должен мигрировать, чтобы иметь доступ к приложению.

> [!Note]
> Если владелец приложения LUIS мигрировал и добавил сотрудника в качестве участника на ресурсе Azure, у автора по-прежнему не будет доступа к приложению, если он также не мигрирует.

### <a name="before-the-app-is-migrated"></a>До того, как приложение будет перенесено

Вы можете экспортировать приложение, на который вы являетесь сотрудником, а затем импортировать приложение обратно в LUIS. Процесс импорта создает новое приложение с новым идентификатором приложения, владельцем которого вы являетесь.

### <a name="after-the-app-is-migrated"></a>После того, как приложение мигрирует

Владельцу приложения необходимо [добавить электронную почту в авторский ресурс Azure в качестве сотрудника.](luis-how-to-collaborate.md#add-contributor-to-azure-authoring-resource)

После процесса миграции все приложения, которые у вас есть, доступны на странице **My Apps** портала LUIS.

## <a name="troubleshooting-the-migration-process-for-luis-authoring"></a>Устранение проблем в процессе миграции для авторов LUIS

* Авторские ключи LUIS видны только на портале LUIS только после завершения процесса миграции. При создании ключей-авторов, например, с помощью LUIS CLI, пользователю все равно необходимо завершить процесс миграции на портале LUIS.
* Если мигрированный пользователь добавляет немигрифицированный пользователь в качестве участника на ресурсе azure, немитрайированный пользователь не будет иметь доступа к приложениям, если они не мигрируют.
* Если пользователь, не являющийся мигрированным, не является владельцем каких-либо приложений, а является сотрудником других приложений, принадлежащих другим приложениям, и владельцы прошли процесс миграции, этот пользователь должен будет мигрировать, чтобы иметь доступ к приложениям.
* Если немидированный пользователь добавил в свое приложение другого мигрировавший пользователь в качестве сотрудника, произойдет ошибка, поскольку вы не сможете добавить в приложение перемотавший сям в качестве сотрудника. Затем пользователю, не мигнущему, придется пройти процесс миграции, создать лазурный ресурс и добавить мигрировавший пользователь в качестве вкладчика в этот ресурс.

Вы получаете ошибку во время процесса миграции, если:
* Подписка не разрешает создавать ресурсы Cognitive Services
* Миграция негативно влияет на время выполнения любых приложений. При миграции все сотрудники удаляются из ваших приложений, а вы — сотрудники из других приложений. Этот процесс означает, что ключи, которые вы назначили, также удаляются. Миграция блокируется, если в других приложениях назначены ключи. Удалите ключ, который вы безопасно назначили перед миграцией. Если вы знаете, что ключ, назначенный не используется во время выполнения, необходимо удалить его, чтобы иметь возможность прогрессировать в миграции.

Доступ к списку ресурсов Azure вашего приложения, используя следующий формат URL:

`https://www.luis.ai/applications/REPLACE-WITH-YOUR-APP-ID/versions/REPLACE-WITH-YOUR-VERSION-ID/manage/resources`

## <a name="next-steps"></a>Дальнейшие действия

* [Как перенести приложение на ресурс авторов](luis-migration-authoring-steps.md)
