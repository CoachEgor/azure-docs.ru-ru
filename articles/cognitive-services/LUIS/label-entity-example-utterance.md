---
title: Добавление метки к сущности в речевом фрагменте
description: Узнайте, как добавить метку к сущности с подкомпонентами, по которой выполнено машинное обучение, в примере речевого фрагмента на странице сведений о намерениях на портале LUIS.
ms.topic: conceptual
ms.date: 04/14/2020
ms.openlocfilehash: ea5fbea902c9694d9a8a6a8a5bffcf5e7234bbbd
ms.sourcegitcommit: 58faa9fcbd62f3ac37ff0a65ab9357a01051a64f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2020
ms.locfileid: "81382404"
---
# <a name="label-machine-learned-entity-in-an-example-utterance"></a>Добавление метки к сущности, по которой выполнено машинное обучение, в примере речевого фрагмента

Добавляя метку к сущности в примере речевого фрагмента, мы демонстрируем LUIS пример сущности и расположение, где она может появиться в примере речевого фрагмента.

## <a name="labeling-machine-learned-entity"></a>Добавление метки к сущности, по которой выполнено машинное обучение

Мы возьмем фразу `hi, please I want a cheese pizza in 20 minutes`.

1. Выберите нужный текст с левого края, а затем с правого края сущности, после этого выберите сущность для добавления метки (в данном случае — "Полный заказ"). На следующем рисунке помечен _полный заказ_.

    > [!div class="mx-imgBorder"]
    > ![Добавление метки к сущности, по которой выполнено машинное обучение](media/label-utterances/example-1-label-machine-learned-entity-complete-order.png)

1. Выберите сущность во всплывающем окне. Помеченная сущность полного заказа пиццы содержит все слова (слева направо на английском языке), которые помечены.

## <a name="review-labeled-text"></a>Проверка помеченного текста

После добавления метки проверьте пример речевого фрагмента и убедитесь, что выбранный фрагмент текста был подчеркнут с указанием выбранной сущности. Сплошная линия указывает, что текст помечен.

> [!div class="mx-imgBorder"]
> ![Помеченная полная сущность, по которой выполнено машинное обучение](media/label-utterances/example-1-label-machine-learned-entity-complete-order-labeled.png)

## <a name="confirm-predicted-entity"></a>Подтверждение спрогнозированной сущности

Если вокруг фрагмента текста имеется пунктирная рамка, а имя сущности указано над речевым фрагментом, это означает, что текст прогнозируется, но _еще не помечен_. Чтобы преобразовать прогноз в метку, выберите запись речевого фрагмента и щелкните **Confirm entity predictions** (Подтвердить прогнозирование сущности).

> [!div class="mx-imgBorder"]
> ![Прогнозирование метки полной сущности, по которой выполнено машинное обучение](media/label-utterances/example-1-label-machine-learned-entity-complete-order-predicted.png)

Кроме того, можно выбрать имя сущности над текстом, а затем — команду **Confirm Prediction** (Подтвердить прогнозирование) в появившемся меню.

> [!div class="mx-imgBorder"]
> ![Прогнозирование метки полной сущности, по которой выполнено машинное обучение, с помощью меню](media/label-utterances/example-1-label-machine-learned-entity-complete-order-predicted-menu.png)

## <a name="label-entity-by-painting-with-entity-palette-cursor"></a>Добавление метки к сущности путем рисования с помощью курсора палитры сущностей

Палитра сущностей предлагает альтернативу предыдущему интерфейсу добавления меток. Она позволяет использовать функцию "Кисть" для текста, чтобы мгновенно добавить метку к сущности.

1. Откройте палитру сущностей, щелкнув значок выделения в правом верхнем углу таблицы речевых фрагментов.

    > [!div class="mx-imgBorder"]
    > ![Палитра сущностей для сущности, по которой выполнено машинное обучение](media/label-utterances/example-1-label-machine-learned-entity-palette.png)

2. Выберите компонент сущности. Это действие визуально обозначается новым курсором. Курсор следует за указателем мыши при перемещении на портале.

    > [!div class="mx-imgBorder"]
    > ![Палитра сущностей для сущности, по которой выполнено машинное обучение](media/label-utterances/example-1-label-machine-learned-entity-palette-menu.png)

3. В примере речевого фрагмента _нарисуйте_ сущность с помощью курсора.

    > [!div class="mx-imgBorder"]
    > ![Палитра сущностей для сущности, по которой выполнено машинное обучение](media/label-utterances/example-1-label-machine-learned-entity-palette-label-action.png)

## <a name="labeling-subcomponents-of-a-machine-learned-entity"></a>Добавление меток для подкомпонентов сущности, по которой выполнено машинное обучение

К подкомпонентам в сущностях добавляется метка точно так же, как и для сущностей верхнего уровня. При выборе текста сущности, доступные во всплывающем окне, относятся к контексту, в котором отображается текст. Например, если у вас есть 5-уровневая сущность, по которой выполнено машинное обучение, и вы выбираете текст, помеченный на первом и втором уровнях (обозначено именем сущности с меткой в примере речевого фрагмента), сущности, доступные во всплывающем окне, ограничиваются контекстом компонентов третьего уровня. Чтобы пометить текст другими сущностями, выберите параметр **Label as another entity** (Пометить в качестве другой сущности).

> [!div class="mx-imgBorder"]
> ![Палитра сущностей для сущности, по которой выполнено машинное обучение](media/label-utterances/example-1-label-machine-learned-entity-subcomponent.png)

Подкомпоненты могут быть помечены, только если родительский элемент также имеет метку.

## <a name="labeling-entity-roles"></a>Пометка ролей сущности

Роли сущности можно пометить с помощью палитры сущностей.

1. На странице сведений о намерениях выберите **палитру сущностей** на контекстной панели инструментов.
1. После открытия палитры сущностей выберите сущность из списка.
1. Перейдите в **инспектор сущностей** и либо выберите существующую роль, либо создайте новую роль.
1. В примере текста речевого фрагмента пометьте текст с помощью роли сущности.

## <a name="labeling-for-punctuation"></a>Добавление меток для пунктуации

Вам не нужно помечать знаки препинания. Используйте [Параметры приложения](luis-reference-application-settings.md) , чтобы контролировать, влияют ли знаки пунктуации на utterance прогнозы.

## <a name="unlabel-entities"></a>Отмена меток сущностей

Чтобы отменить метку сущности, выберите имя сущности под текстом и щелкните **Unlabel** (Отмена метки). Если сущность, для которой вы пытаетесь отменить метку, имеет метки подкомпонентов, то необходимо сначала отменить метки подкомпонентов.

## <a name="editing-labels-using-the-entity-palette"></a>Редактирование меток с помощью палитры сущностей

Если во время добавления меток допущена ошибка, палитра сущностей — это простое средство для быстрого редактирования. Например, если метка сущности охватывает дополнительное слово по ошибке и в ней уже есть помеченные подкомпоненты, можно использовать функцию "Кисть" на палитре сущностей для редактирования охвата слов.

Пример:

1. Подкомпонент типа пиццы "пицца с сыром и" содержит дополнительный неверный элемент "и".

    > [!div class="mx-imgBorder"]
    > ![Палитра сущностей для сущности, по которой выполнено машинное обучение](media/label-utterances/edit-label-with-palette-1.png)

2. Используйте палитру сущностей, чтобы выбрать тип пиццы и с помощью функции "Кисть" изменить охват на "пицца с сыром". В результате только "пицца с сыром" будет помечена в качестве типа пиццы.

    > [!div class="mx-imgBorder"]
    > ![Палитра сущностей для сущности, по которой выполнено машинное обучение](media/label-utterances/edit-label-with-palette-2.png)

## <a name="labels-for-matching-text-entities"></a>Метки для сущностей с аналогичным текстом

Сущности с аналогичным текстом включают в себя предварительно созданные сущности, сущности регулярных выражений, сущности списков и сущности pattern.any. Они автоматически помечаются с помощью LUIS, поэтому пользователям не нужно помечать их вручную.

## <a name="entity-prediction-errors"></a>Ошибки прогнозирования сущностей

Ошибки прогнозирования сущностей указывают на то, что прогнозируемая сущность не совпадает с помеченной сущностью. Это визуализируется с помощью индикатора предупреждения рядом с речевым фрагментом.

> [!div class="mx-imgBorder"]
> ![Палитра сущностей для сущности, по которой выполнено машинное обучение](media/label-utterances/example-utterance-indicates-prediction-error.png)

## <a name="next-steps"></a>Следующие шаги

Чтобы повысить качество прогнозирования в приложении, используйте [панель мониторинга](luis-how-to-use-dashboard.md) и [просматривайте речевые фрагменты конечной точки](luis-how-to-review-endpoint-utterances.md).