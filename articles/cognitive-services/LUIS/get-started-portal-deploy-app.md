---
title: Краткое руководство. Развертывание приложения на портале LUIS
titleSuffix: Azure Cognitive Services
description: Сведения о развертывании приложения LUIS в конечной точке прогнозирования после того, как оно будет готово возвращать прогнозы касательно речевых фрагментов в клиентское приложение, например в чат-бот. В рамках этого краткого руководства вы узнаете, как развернуть приложение путем создания ресурса конечной точки прогнозирования, назначения ресурса для приложения, обучения и публикации приложения.
services: cognitive-services
author: diberry
manager: nitinme
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: quickstart
ms.date: 10/17/2019
ms.author: diberry
ms.openlocfilehash: ecae5c7db02436fe34fec19989f174504fd1e03a
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73488710"
---
# <a name="quickstart-deploy-an-app-in-the-luis-portal"></a>Краткое руководство. Развертывание приложения на портале LUIS

[!INCLUDE [Waiting for LUIS portal refresh](./includes/wait-v3-upgrade.md)]


Когда приложение LUIS будет готово возвращать прогнозы касательно речевых фрагментов в клиентское приложение (например, в чат-бот), его необходимо развернуть в конечной точке прогнозирования.

В рамках этого краткого руководства вы узнаете, как развернуть приложение. Вы создадите ресурс конечной точки прогнозирования, назначите его приложению, обучите и опубликуете это приложение.

## <a name="prerequisites"></a>Предварительные требования

* Оформите [подписку Azure](https://azure.microsoft.com/free).
* Выполните указания из [предыдущего краткого руководства по порталу](get-started-portal-build-app.md) или [скачайте и импортируйте приложение](https://github.com/Azure-Samples/cognitive-services-language-understanding/blob/master/documentation-samples/quickstarts/in-portal/build-portal-app.json).

## <a name="create-the-endpoint-resource"></a>Создание ресурса конечной точки

Ресурс конечной точки прогнозирования создается на портале Azure. Этот ресурс следует использовать только для запросов прогнозирования конечной точки. Не используйте этот ресурс для внесения изменений в приложение.

1. Войдите на [портале Azure](https://ms.portal.azure.com/).

1. Щелкните зеленый знак **+** на верхней панели слева. Выполните поиск по `Cognitive Services` в Marketplace, а затем выберите соответствующую строку.

1. Настройте для подписки следующие параметры:

   |Параметр|Значение|Назначение|
   |--|--|--|
   |ИМЯ|`my-cognitive-service-resource`|Имя ресурса Azure. Это имя понадобится при назначении ресурса для приложения на портале LUIS.|
   |Subscription|Ваша подписка|Выберите одну из подписок, связанных с вашей учетной записью.|
   |Location|**Западная часть США**|Регион Azure для ресурса.|
   |Ценовая категория|**S0**|Ценовая категория по умолчанию для этого ресурса.|
   |группа ресурсов.|`my-cognitive-service-resource-group`|Создайте группу ресурсов для всех ресурсов Cognitive Services. Выполнив все необходимые действия с ресурсами, вы можете удалить группу ресурсов, чтобы очистить подписку. |
   | | | |

   ![Выбор API Azure](./media/get-started-portal-deploy-app/create-cognitive-services-resource.png)

1. Выберите **Создать**, чтобы создать ресурс Azure.

   В следующем разделе вы узнаете, как подключить этот ресурс к приложению LUIS на портале LUIS.

## <a name="assign-the-resource-key-to-the-luis-app-in-the-luis-portal"></a>Назначение ключа ресурса для приложения LUIS на портале LUIS

Каждый раз при создании ресурса для LUIS необходимо назначать его для приложения LUIS. После этого вам не нужно будет еще раз выполнять этот шаг до создания следующего ресурса. Вы можете создать ресурс для расширения регионов приложения или для поддержки большего количества запросов прогнозирования.

1. Войдите на [портал LUIS](https://www.luis.ai) и выберите приложение **myEnglishApp** из списка приложений.

1. В верхнем правом меню выберите **Manage** (Управление), **Azure Resources** (Ресурсы Azure).

1. Чтобы добавить LUIS, выберите **Add prediction resource** (Добавить ресурс прогнозирования).

    <!-- TBD: get screenshot-->

1. Выберите клиент, подписку и группу ресурсов. Выберите **Assign resource** (Присвоить ресурс).

   ![Присвоение ресурса приложению](./media/get-started-portal-deploy-app/assign-resource.png)

1. Найдите в таблице новую строку и скопируйте URL-адрес конечной точки. Он построен правильно для того, чтобы отправлять запрос `HTTP GET` в конечную точку API LUIS для прогнозирования.

## <a name="train-and-publish-the-app"></a>Обучение и публикация приложения

Обучение следует выполнять, когда вы будете готовы протестировать приложение. Публикуйте приложение, когда требуется, чтобы текущая обученная версия была доступна для клиентских приложений из среды выполнения конечной точки прогнозирования запроса.

1. Если приложение не обучено, щелкните **Обучить** в верхнем меню справа.

1. Выберите **Опубликовать** в верхнем меню. Выберите слот Production (Рабочий) и нажмите кнопку Publish (Опубликовать).

1. Если появится панель уведомлений, значит публикация завершена.

1. На странице **Ресурсы Azure** раздела "Управление" найдите список назначенных ресурсов и соответствующих URL-адресов конечных точек.

1. Скопируйте пример запроса в окно браузера и добавьте речевой фрагмент пользователя в качестве параметра `query`.

## <a name="prediction-endpoint-request"></a>Запрос конечной точки прогнозирования

`query=` в конце URL-адреса — это сокращение от **query** (запрос). Здесь речевой фрагмент пользователя добавляется в запрос GET. После `query=` введите речевой фрагмент пользователя, используемый в конце предыдущего краткого руководства:

```Is there a form named hrf-234098```

Убедитесь, что строка запроса содержит следующие пары:

* `show-all-intents=true`
* `verbose=true`

В браузере отобразится ответ:

```JSON
{
    "query": "Is there a form named hrf-234098",
    "prediction": {
        "topIntent": "FindForm",
        "intents": {
            "FindForm": {
                "score": 0.9768753
            },
            "None": {
                "score": 0.0216071177
            }
        },
        "entities": {
            "Human Resources Form Number": [
                "hrf-234098"
            ],
            "$instance": {
                "Human Resources Form Number": [
                    {
                        "type": "Human Resources Form Number",
                        "text": "hrf-234098",
                        "startIndex": 22,
                        "length": 10,
                        "modelTypeId": 8,
                        "modelType": "Regex Entity Extractor",
                        "recognitionSources": [
                            "model"
                        ]
                    }
                ]
            }
        }
    }
}
```

Чтобы просмотреть на панели проверки сведения такого же уровня, необходимо выполнить публикацию приложения. После этого на панели проверки выберите **Compare with published** (Сравнить с опубликованным). На панели проверки опубликованного приложения щелкните **Show JSON view** (Просмотреть представление JSON), чтобы просмотреть данные JSON, отображаемые при выполнении предыдущего шага. Таким образом вы сможете сравнить текущее приложение, над которым вы работаете, и приложение, опубликованное в конечной точке.

[![Сравнение текущего приложения, в которое вносятся изменения, и опубликованной версии приложения](./media/get-started-portal-deploy-app/compare-test-pane.png)](./media/get-started-portal-deploy-app/compare-test-pane.png#lightbox)

## <a name="clean-up-resources"></a>Очистка ресурсов

Изучив это краткое руководство, щелкните **Мои приложения** в меню навигации вверху. Установите флажок возле имени приложения в списке, а затем щелкните **Удалить** в контекстном меню над списком.

[![Удаление приложения из списка "Мои приложения"](./media/get-started-portal-build-app/delete-app.png)](./media/get-started-portal-build-app/delete-app.png#lightbox)

## <a name="next-steps"></a>Дополнительная информация

> [!div class="nextstepaction"]
> [Определение общих намерений и сущностей](luis-tutorial-prebuilt-intents-entities.md)
