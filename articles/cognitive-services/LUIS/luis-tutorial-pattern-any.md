---
title: Сущность Pattern.any — LUIS
titleSuffix: Azure Cognitive Services
description: Сущность pattern.any следует использовать для извлечения данных из высказываний, где они хорошо отформатированы и где конец данных можно легко спутать с остальными словами высказывания.
services: cognitive-services
ms.custom: seodec18
author: diberry
manager: nitinme
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: tutorial
ms.date: 06/12/2019
ms.author: diberry
ms.openlocfilehash: 165163d0a889e0bd5f1faef8d7f6a17d28c2b4f7
ms.sourcegitcommit: 7c4de3e22b8e9d71c579f31cbfcea9f22d43721a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/26/2019
ms.locfileid: "68563267"
---
# <a name="tutorial-extract-free-form-data-with-patternany-entity"></a>Руководство по Извлечение неструктурированных данных с использованием сущности Pattern.any

В этом руководстве сущность pattern.any следует использовать для извлечения данных из высказываний, где они хорошо отформатированы и где конец данных можно легко спутать с остальными словами высказывания. 

**В этом руководстве рассмотрено, как выполнять следующие задачи.**

> [!div class="checklist"]
> * Импортировать пример приложения
> * Добавление примеров высказываний в существующую сущность
> * Создание сущности Pattern.any
> * Создание шаблона
> * Обучение
> * Тестирование нового шаблона

[!INCLUDE [LUIS Free account](../../../includes/cognitive-services-luis-free-key-short.md)]

## <a name="using-patternany-entity"></a>Использование сущности Pattern.any

Сущность Pattern.any позволяет найти данные произвольной формы, в которых формулировка сущности затрудняет определение ее окончание из остальной части высказывания. 

Приложение управления персоналом помогает сотрудникам находить формы организаций. 

|Фраза|
|--|
|Где находится **HRF-123456**?|
|Кто написал **HRF-123234**?|
|Было ли **HRF-456098** опубликовано на французском языке?|

Тем не менее в каждой из форм присутствует как форматированное имя, используемое в предыдущей таблице, так и такое понятное имя, как `Request relocation from employee new to the company 2018 version 5`. 

Фразы с понятным названием формы выглядят следующим образом.

|Фраза|
|--|
|Где находится **Request relocation from employee new to the company 2018 version 5**?|
|Кто написал **Request relocation from employee new to the company 2018 version 5**?|
|Был ли **Request relocation from employee new to the company 2018 version 5** опубликован во Франции?|

Заголовки переменной длины включают машинные слова, из-за которых LUIS может неправильно определить окончание сущности. С помощью шаблонной сущности Pattern.any можно указать начало и конец названия формы, что позволит LUIS правильно извлекать ее имя.

|Пример шаблона высказывания|
|--|
|Где находится {FormName} [?]|
|Кто создатель {FormName} [?]|
|Было ли {FormName} опубликовано на французском языке[?]|

## <a name="import-example-app"></a>Импортировать пример приложения

1. Загрузите и сохраните [JSON-файл приложения](https://github.com/Azure-Samples/cognitive-services-language-understanding/blob/master/documentation-samples/tutorials/custom-domain-pattern-roles-HumanResources.json).

1. На [портале LUIS](https://www.luis.ai) на странице **My apps** (Мои приложения) импортируйте JSON-файл в новое приложение.

1. Из раздела **Управление** на вкладке **Версии** скопируйте версию и назовите ее `patt-any`. Клонирование — это отличный способ поэкспериментировать с различными функциями LUIS без влияния на исходную версию. Так как имя версии используется в маршруте URL-адреса, оно не может содержать символы, которые недопустимы в URL-адресе.

## <a name="add-example-utterances"></a>Добавление примеров высказываний 

1. В верхней панели навигации выберите **Сборка**, а затем выберите **Intents** (Намерения) из левой панели навигации.

1. Из списка намерений выберите **FindForm**.

1. Добавьте некоторые примеры фраз.

    |Пример фразы|
    |--|
    |Где находится форма **What to do when a fire breaks out in the Lab** и кто должен подписать ее после прочтения?|
    |Где находится **Request relocation from employee new to the company** на сервере?|
    |Кто создал **Health and wellness requests on the main campus** и какая ее текущая версия?|
    |Я ищу форму с именем **Office move request including physical assets**. |

    Если не используется сущность Pattern.any, LUIS будет трудно понять, где заканчивается название формы. Так происходит из-за множества вариантов имени формы.

## <a name="create-a-patternany-entity"></a>Создание сущности Pattern.any
Сущность Pattern.any извлекает сущности переменной длины. Эта сущность работает только в шаблоне, так как шаблон отмечает начало и окончание сущности.  

1. Выберите **Сущности** в меню навигации слева.

1. Выберите **Создать сущность**, введите имя `FormName` и в качестве типа выберите **Pattern.any**. Нажмите кнопку **Готово**. 

    Сущность невозможно пометить в примерах речевых фрагментов намерения, так как Pattern.any действительна только в шаблоне. 

    Если необходимо, чтобы извлеченные данные включали другие сущности, например, число или datetimeV2, необходимо создать составную сущность, которая включает в себя Pattern.any, а также число и datetimeV2.

## <a name="add-a-pattern-that-uses-the-patternany"></a>Добавление шаблона, который использует сущность Pattern.any

1. Выберите **Шаблоны** в меню навигации слева.

1. Выберите намерение **FindForm**.

1. Введите следующие высказывания шаблона, использующие новую сущность.

    |Высказывания шаблона|
    |--|
    |Где находится форма ["]{FormName}["] и кто должен подписать ее после прочтения[?]|
    |Где находится форма ["]{FormName}["] на сервере[?]|
    |Кто создал ["]{FormName}["] и какая ее текущая версия [?]|
    |Я ищу форму с именем ["]{FormName}["][.]|

    Если необходимо учитывать вариации формы, например, одинарные кавычки вместо двойных кавычек или точка вместо вопросительного знака, тогда для каждого из вариантов требуется создать новый шаблон.

## <a name="train-the-luis-app"></a>Обучение приложения LUIS

[!INCLUDE [LUIS How to Train steps](../../../includes/cognitive-services-luis-tutorial-how-to-train.md)]

## <a name="test-the-new-pattern-for-free-form-data-extraction"></a>Проверка извлечения произвольных данных для нового шаблона
1. Выберите **Тестирование** на верхней панели навигации, чтобы открыть панель тестирования. 

1. Введите следующую фразу. 

    `Where is the form Understand your responsibilities as a member of the community and who needs to sign it after I read it?`

1. Выберите **Просмотр** под результатом для просмотра результатов теста для сущности и намерения.

    Сначала обнаруживается сущность `FormName`, затем шаблон, определяющий намерение. Если в результате вашего теста не удалось обнаружить сущности и, следовательно, определить шаблон, необходимо добавить дополнительные примеры высказываний в намерение (не в шаблон).

1. Закройте панель "Тестирование", нажав кнопку **Тестирование** на верхней панели навигации.

## <a name="using-an-explicit-list"></a>Использование явного списка

Если ваш шаблон, который включает сущность Pattern.any, извлекает сущности неправильно, используйте [явный список](luis-concept-patterns.md#explicit-lists), чтобы решить эту проблему.


## <a name="clean-up-resources"></a>Очистка ресурсов

[!INCLUDE [LUIS How to clean up resources](../../../includes/cognitive-services-luis-tutorial-how-to-clean-up-resources.md)]

## <a name="next-steps"></a>Дополнительная информация

В этом руководстве добавлены примеры высказываний к существующему намерению, после чего был создана новая сущность Pattern.any для имени формы. Затем в руководстве был создал шаблон для существующего намерения с новыми примерами высказываний и сущностей. Интерактивное тестирование показало, что шаблон и его намерение были спрогнозированы, поскольку объект был найден. 

> [!div class="nextstepaction"]
> [Tutorial: Improve app with pattern roles](luis-tutorial-pattern-roles.md) (Руководство. Улучшение приложения с помощью ролей шаблонов)
