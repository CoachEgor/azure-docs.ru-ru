---
title: Добавьте пример фразы продолжительностью-LUIS
titleSuffix: Azure Cognitive Services
description: Примеры высказываний являются примерами текста пользовательских вопросов или команд. Для обучения службы "Распознавание речи" (LUIS) необходимо добавить примеры высказываний в намерение.
services: cognitive-services
author: diberry
manager: nitinme
ms.custom: seodec18
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: article
ms.date: 07/29/2019
ms.author: diberry
ms.openlocfilehash: 04f0944173df59989745ee9167984b493f202b14
ms.sourcegitcommit: 3877b77e7daae26a5b367a5097b19934eb136350
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2019
ms.locfileid: "68638217"
---
# <a name="add-an-entity-to-example-utterances"></a>Добавление сущности к примерам высказываний 

Примеры высказываний являются примерами текста пользовательских вопросов или команд. Для обучения службы "Распознавание речи"(LUIS) необходимо добавить [примеры фрагментов речи](luis-concept-utterance.md) в [намерение](luis-concept-intent.md).

Как правило, сначала добавляется пример utterance, а затем создаются сущности и метки фразы продолжительностью **на странице «** цели». Если вам нужно сначала создать сущности, см. [этот](luis-how-to-add-entities.md) раздел.

## <a name="marking-entities-in-example-utterances"></a>Маркировка сущностей в примерах высказываний

При выборе текста в примере высказываний для маркировки сущности появится контекстное меню на месте. Используйте это меню для создания или выбора сущности. 

Некоторые типы сущностей, например предварительно созданные сущности и сущности регулярного выражения, невозможно отметить в примере высказываний, так как они отмечены автоматически. 

## <a name="add-a-simple-entity"></a>Добавление простой сущности

В следующей процедуре вы создадите и пометьте пользовательскую сущность в следующем utterance **на странице "** действия":

```text
Are there any SQL server jobs?
```

1. Выберите `SQL server` в высказывании, чтобы отметить его как простую сущность. В окне раскрывающего списка сущностей можно выбрать имеющийся объект или добавить новую сущность. Чтобы добавить новую сущность, введите ее имя `Job` в текстовое поле, а затем выберите **создать новую сущность**.

    ![Снимок экрана ввода имени сущности](./media/luis-how-to-add-example-utterances/create-simple-entity.png)

    > [!NOTE]
    > Во время выбора слов, которые нужно отметить в качестве сущностей, выполните следующие действия.
    > * Если это одно слово — просто выберите его. 
    > * Для набора из двух или более слов выберите первое слово, а затем окончательное слово.

1. Во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?) проверьте имя сущности, выберите **Простой** тип сущности и щелкните **Done** (Готово).

    Обычно [список фраз](luis-concept-feature.md) используют для усиления сигнала простой сущности.

## <a name="add-a-list-entity"></a>Добавление сущности списка

Список сущностей представляет собой набор точных совпадений текста связанных слов в системе. 

Для списка отделов компании у вас могут быть обыкновенные значения: `Accounting` и `Human Resources`. Каждое нормализованное название имеет синонимы. Для отдела эти синонимы могут включать любые аббревиатуры, числа и сленговые выражения отдела. При создании сущности не нужно знать все значения. Вы можете добавить больше значений после просмотра высказываний реального пользователя с синонимами.

1. В примере utterance **на странице «** смысл» выберите нужное слово или фразу в новом списке. Когда появится раскрывающийся список сущность, введите имя новой сущности List в верхнем текстовом поле, а затем выберите **создать сущность**.   

1. Во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?) выберите **Список** в качестве типа. Добавьте синонимы данного элемента списка, а затем выберите **Done** (Готово). 

    ![Снимок экрана ввода синонимов сущности списка](./media/luis-how-to-add-example-utterances/hr-create-list-2.png)

    Вы можете добавить дополнительные элементы списка или синонимы элемента, отметив другие высказывания или изменив сущность на панели навигации **Сущности** слева. [Редактирование](luis-how-to-add-entities.md#add-list-entities) сущностей предоставляет варианты ввода дополнительных элементов с соответствующими синонимами или импорта списка. 

## <a name="add-a-composite-entity"></a>Добавление составной сущности

Составные сущности создаются из существующих **сущностей** для формирования родительской сущности. 

При условии, `Does John Smith work in Seattle?`что utterance, составной utterance может вернуть сведения о сущности для `John Smith`имени сотрудника и `Seattle` расположение в составной сущности. Дочерние сущности должны уже существовать в приложении и быть помечены в примере utterance перед созданием составной сущности.

1. Чтобы поместить дочерние сущности в составную сущность, выберите **первую** сущность с меткой (слева) в utterance для составной сущности. Появится раскрывающийся список, в котором отображаются варианты выбора.

1. В раскрывающемся списке выберите параметр **переносить в составной сущности** . 

1. Выберите последнее слово составной сущности (крайнее справа). Обратите внимание, что зеленая линия следует за составной сущностью. Это визуальный индикатор для составной сущности, который должен находиться под всеми словами в составной сущности от самой левой дочерней сущности до правой самой дочерней сущности.

1. Введите название составной сущности в раскрывающем списке.

    Если правильно создать программу-оболочку сущности, зеленая линия находится под всей этой фразой.

1. Проверьте сведения о составной сущности во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?), затем выберите **Done** (Готово).

    ![Снимок экрана сведений о сущности во всплывающем окне](./media/luis-how-to-add-example-utterances/hr-create-composite-3.png)

1. Составная сущность отображается с помощью синей подсветки для отдельных сущностей и зеленой линии для всей составной сущности. 

    ![Снимок экрана страницы сведений о намерении с составной сущностью](./media/luis-how-to-add-example-utterances/hr-create-composite-4.png)

## <a name="add-entitys-role-to-utterance"></a>Добавление роли сущности в utterance

Роль — это именованный подтип сущности, определяемый контекстом utterance. Вы можете пометить сущность в utterance как сущность или выбрать роль в этой сущности. Любая сущность может иметь роли, включая пользовательские сущности, которые изучены компьютером (простые сущности и составные сущности), не изучены компьютером (предварительно созданные сущности, сущности регулярных выражений, список сущностей). 

Узнайте, [как пометить utterance с ролями сущности](tutorial-entity-roles.md) с помощью практического руководства. 

## <a name="entity-status-predictions"></a>Прогнозирование состояния сущности

При вводе нового фрагмента речи на портале LUIS для него возможны ошибки прогнозирования сущности. Ошибка прогноза — это различие между тем, как сущность помечается, и прогнозом LUIS для нее. 

Такое различие визуально представлено на портале LUIS с помощью красного подчеркивания во фрагменте речи. Красное подчеркивание может отображаться в квадратных скобках сущности или за их пределами. 

![Снимок экрана с несоответствием прогноза состояния сущности](./media/luis-how-to-add-example-utterances/entity-prediction-error.png)

Выберите слова, подчеркнутые красным цветом во фрагменте речи. 

При наличии несоответствия прогноза в поле сущности отображается **Состояние сущности** с красным восклицательным знаком. Чтобы просмотреть состояние сущности с информацией о различиях между помеченной и спрогнозированной сущностями, выберите **Состояние сущности**, а затем элемент справа.

![Снимок экрана: Выбор состояния сущности](./media/luis-how-to-add-example-utterances/entity-prediction-error-correction.png)

Красная линия может отображаться в любом из следующих случаев:

   * При вводе фрагмента речи, но перед пометкой сущности
   * При применении метки сущности
   * При удалении метки сущности
   * При прогнозировании более одной метки сущности для этого текста 

Следующие решения помогают устранить расхождение прогнозов сущностей:

|Сущность|Визуальный индикатор|Прогнозирование|Решение|
|--|--|--|--|
|Фрагмент речи введен, сущность еще не помечена.|красное подчеркивание|Прогноз верен.|Пометка сущности прогнозированным значением.|
|Текст без метки|красное подчеркивание|Неправильный прогноз|Текущие фрагменты речи, использующие эту неверную сущность, нужно проверить для всех намерений. Текущие фрагменты речи имеют неправильно обученную LUIS, так что этот текст представляет собой спрогнозированную сущность.
|Правильно помеченный текст|выделение сущности синим цветом, красное подчеркивание|Неправильный прогноз|Укажите дополнительные фрагменты речи с правильно помеченной сущностью для различных мест и вариантов использования. Текущих фрагментов речи недостаточно для обучения LUIS тому, что это — сущность, либо похожие сущности отображаются в том же контексте. Аналогичные сущности следует объединить в одну сущность, чтобы не вносить в LUIS путаницу. Другим решением является добавление списка фраз для повышения значимости слов. |
|Неправильно помеченный текст|выделение сущности синим цветом, красное подчеркивание|Правильный прогноз| Укажите дополнительные фрагменты речи с правильно помеченной сущностью для различных мест и вариантов использования. 

## <a name="other-actions"></a>Другие действия

Можно выполнять действия на примерах высказываний в качестве выбранной группы и отдельного элемента. Группы выбранных примеров высказываний меняют контекстные меню над списком. Для одиночных элементов можно использовать и контекстные меню над списком, и отдельное контекстное многоточие в конце каждой строки высказываний. 

### <a name="remove-entity-labels-from-utterances"></a>Удаление меток сущности из высказываний

Вы можете удалить метки сущностей, полученные на компьютере, из utterance на странице "намерения". Если сущность не прошла машинное обучение, ее нельзя удалить из высказывания. Если необходимо удалить сущность, которая не прошла машинное обучение, необходимо удалить ее из всего приложения. 

Чтобы удалить из высказывания метку сущности, прошедшей машинное обучение, выберите необходимую сущность в высказывании. Затем выберите **Remove Label** (Удалить метку) в появившемся поле раскрывающегося списка сущностей.

### <a name="add-a-prebuilt-entity-label"></a>Добавление предварительно созданной метки сущности

При добавлении предварительно созданных сущностей в приложение LUIS не нужно отмечать высказывания этими сущностями. Дополнительные сведения о предварительно созданных сущностях и их добавлении см. в [этом разделе](luis-how-to-add-entities.md#add-a-prebuilt-entity-to-your-app).

### <a name="add-a-regular-expression-entity-label"></a>Добавление метки сущности регулярного выражения

При добавлении сущностей регулярного выражения в приложение LUIS не нужно отмечать высказывания этими сущностями. Дополнительные сведения о сущностях регулярного высказывания и их добавлении см. в [этом разделе](luis-how-to-add-entities.md#add-regular-expression-entities-for-highly-structured-concepts).


### <a name="create-a-pattern-from-an-utterance"></a>Создание шаблона на основе высказывания

Дополнительные сведения см. в разделе [Добавление шаблона на основе существующего фрагмента речи на странице сущности или намерения](luis-how-to-model-intent-pattern.md#add-pattern-from-existing-utterance-on-intent-or-entity-page).


### <a name="add-a-patternany-entity"></a>Добавление шаблона. любая сущность

При добавлении сущностей pattern.any в приложение LUIS невозможно отметить высказывания этими сущностями. Они действительны только в шаблонах. Дополнительные сведения о сущностях pattern.any и их добавлении см. в [этом разделе](luis-how-to-add-entities.md#add-patternany-entities-to-capture-free-form-entities).

## <a name="train-your-app-after-changing-model-with-utterances"></a>Обучение приложения после изменения модели с высказываниями

После добавления, изменения и удаления высказываний выполните [обучение](luis-how-to-train.md) и [публикацию](luis-how-to-publish-app.md) приложения, чтобы применить изменения к запросам конечной точки. 

## <a name="next-steps"></a>Следующие шаги

После добавления метки в фразы продолжительностью можносоздать [составную сущность](luis-how-to-add-entities.md).
