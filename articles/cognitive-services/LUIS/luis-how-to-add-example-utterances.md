---
title: Добавление примеров высказываний
titleSuffix: Language Understanding - Azure Cognitive Services
description: Примеры высказываний являются примерами текста пользовательских вопросов или команд. Для обучения службы "Распознавание речи" (LUIS) необходимо добавить примеры высказываний в намерение.
services: cognitive-services
author: diberry
manager: nitinme
ms.custom: seodec18
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: article
ms.date: 04/01/2019
ms.author: diberry
ms.openlocfilehash: 0d3123b1e0238a1907b5ad3d487b92a7919ff181
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60198017"
---
# <a name="add-an-entity-to-example-utterances"></a>Добавление сущности к примерам высказываний 

Примеры высказываний являются примерами текста пользовательских вопросов или команд. Для обучения службы "Распознавание речи"(LUIS) необходимо добавить [примеры фрагментов речи](luis-concept-utterance.md) в [намерение](luis-concept-intent.md).

Как правило, сначала следует добавить пример высказывания в намерение, а затем создать сущности и помеченные высказывания на странице намерений. Если вам нужно сначала создать сущности, см. [этот](luis-how-to-add-entities.md) раздел.

## <a name="marking-entities-in-example-utterances"></a>Маркировка сущностей в примерах высказываний

При выборе текста в примере высказываний для маркировки сущности появится контекстное меню на месте. Используйте это меню для создания или выбора сущности. 

Некоторые типы сущностей, например предварительно созданные сущности и сущности регулярного выражения, невозможно отметить в примере высказываний, так как они отмечены автоматически. 

## <a name="add-a-simple-entity"></a>Добавление простой сущности

В следующей процедуре создайте и отметьте настраиваемую сущность для следующего высказывания на странице намерений.

```text
Are there any SQL server jobs?
```

1. Выберите `SQL server` в высказывании, чтобы отметить его как простую сущность. В окне раскрывающего списка сущностей можно выбрать имеющийся объект или добавить новую сущность. Чтобы добавить новую сущность, введите его имя `Job` в текстовое поле, а затем выберите **создать новую сущность**.

    ![Снимок экрана ввода имени сущности](./media/luis-how-to-add-example-utterances/create-simple-entity.png)

    > [!NOTE]
    > Во время выбора слов, которые нужно отметить в качестве сущностей, выполните следующие действия.
    > * Если это одно слово — просто выберите его. 
    > * Если это словосочетание — выделите всю фразу от начала до конца.

1. Во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?) проверьте имя сущности, выберите **Простой** тип сущности и щелкните **Done** (Готово).

    Обычно [список фраз](luis-concept-feature.md) используют для усиления сигнала простой сущности.

## <a name="add-a-list-entity"></a>Добавление сущности списка

Список сущностей представляют набор совпадений точный текст связанных слов в вашей системе. 

Для списка отделов компании у вас могут быть обыкновенные значения: `Accounting` и `Human Resources`. Каждое нормализованное название имеет синонимы. Для отдела эти синонимы могут включать любые аббревиатуры, числа и сленговые выражения отдела. При создании сущности не нужно знать все значения. Вы можете добавить больше значений после просмотра высказываний реального пользователя с синонимами.

1. В примере utterance на **намерения** выберите слово или фразу, которая требуется в новом списке. Когда появится раскрывающийся список сущностей, введите имя для нового объекта списка в верхнем поле, а затем выберите **создать новую сущность**.   

1. Во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?) выберите **Список** в качестве типа. Добавьте синонимы данного элемента списка, а затем выберите **Done** (Готово). 

    ![Снимок экрана ввода синонимов сущности списка](./media/luis-how-to-add-example-utterances/hr-create-list-2.png)

    Вы можете добавить дополнительные элементы списка или синонимы элемента, отметив другие высказывания или изменив сущность на панели навигации **Сущности** слева. [Редактирование](luis-how-to-add-entities.md#add-list-entities) сущностей предоставляет варианты ввода дополнительных элементов с соответствующими синонимами или импорта списка. 

## <a name="add-composite-entity"></a>Добавление составной сущности

Составные сущности создаются с помощью превращения существующих **Сущностей** в родительскую сущность. 

При условии, что utterance `Does John Smith work in Seattle?`, составной utterance может возвратить сведения о сущности employee имени `John Smith`и расположение `Seattle` в составной сущности. На дочерние объекты уже должен существовать в приложении и помечен в utterance пример перед созданием составной сущности.

1. Программы-оболочки на дочерние объекты в составной объект, выберите **первый** с меткой сущностей (слева) в utterance составного объекта. Появится список раскрывающегося списка для отображения вариантов выбора.

1. Выберите **обернуть в составной сущности** из раскрывающегося списка. 

1. Выберите последнее слово составной сущности (крайнее справа). Обратите внимание, что зеленая линия следует за составной сущностью. Это визуальный индикатор для составной сущности и должны быть размещены все слова в составной сущности из крайней левой дочерняя сущность к самой правой дочерней сущности.

1. Введите название составной сущности в раскрывающем списке.

    Если правильно создать программу-оболочку сущности, зеленая линия находится под всей этой фразой.

1. Проверьте сведения о составной сущности во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?), затем выберите **Done** (Готово).

    ![Снимок экрана сведений о сущности во всплывающем окне](./media/luis-how-to-add-example-utterances/hr-create-composite-3.png)

1. Составная сущность отображается с помощью синей подсветки для отдельных сущностей и зеленой линии для всей составной сущности. 

    ![Снимок экрана страницы сведений о намерении с составной сущностью](./media/luis-how-to-add-example-utterances/hr-create-composite-4.png)

## <a name="add-hierarchical-entity"></a>Добавление иерархической сущности

**Иерархические сущности со временем будет считаться устаревшим. Используйте [сущности роли](luis-concept-roles.md) для определения подтипам сущностей, вместо иерархические сущности.**

Иерархическая сущность — это категория контекстно-зависимых обученных и концептуально связанных сущностей. В следующем примере сущность содержит исходное и конечное расположения. 

В высказывании `Move John Smith from Seattle to Cairo` "Сиэтл" является исходным, а "Каир" — конечным расположением. Каждое расположение контекстуально отличается и получается на основе порядка и выбора слов в высказывании.

1. На странице намерений в высказывании выберите `Seattle`, а затем введите имя сущности `Location` и нажмите ВВОД на клавиатуре.

1. Во всплывающем окне **What type of entity do you want to create?** (Какой тип сущности необходимо создать?) выберите _Иерархический_ для параметра **Тип сущности**, затем добавьте `Origin` и `Destination` как дочерние элементы и выберите **Done** (Готово).

    ![Снимок экрана страницы сведений о намерениях с выделенной сущностью ToLocation](./media/luis-how-to-add-example-utterances/create-location-hierarchical-entity.png)

1. Слово в высказывании было помечено иерархической родительской сущностью. Необходимо назначить слово дочерней сущности. Вернитесь к utterance на странице подробной намерений. Выделите слово, а затем из раскрывающегося списка выберите имя сущности, которую вы создали, и перейдите в меню справа, чтобы выбрать необходимую дочернюю сущность.

    >[!CAUTION]
    >Имена дочерних сущностей должны быть уникальными для всех сущностей в одном приложении. Две разные иерархические сущности не могут содержать дочерние элементы с тем же именем. 

## <a name="add-entitys-role-to-utterance"></a>Добавьте роль сущности utterance

Роль — именованный подтипом сущности, определяется контекстом utterance. Можно пометить сущности внутри utterance как сущность, или выберите роль в этой сущности. Любая сущность может иметь ролей, включая настраиваемые сущности, которые являются результаты обучения компьютера (простые объекты и составные сущностей), результаты обучения компьютера (предварительно созданных сущностей, сущности регулярного выражения, список сущностей). 

Узнайте, [как пометить utterance с ролями сущности](tutorial-entity-roles.md) из практические руководства. 

## <a name="entity-status-predictions"></a>Прогнозирование состояния сущности

При вводе нового фрагмента речи на портале LUIS для него возможны ошибки прогнозирования сущности. Ошибка прогноза — это различие между тем, как сущность помечается, и прогнозом LUIS для нее. 

Такое различие визуально представлено на портале LUIS с помощью красного подчеркивания во фрагменте речи. Красное подчеркивание может отображаться в квадратных скобках сущности или за их пределами. 

![Снимок экрана с несоответствием прогноза состояния сущности](./media/luis-how-to-add-example-utterances/entity-prediction-error.png)

Выберите слова, подчеркнутые красным цветом во фрагменте речи. 

При наличии несоответствия прогноза в поле сущности отображается **Состояние сущности** с красным восклицательным знаком. Чтобы просмотреть состояние сущности с информацией о различиях между помеченной и спрогнозированной сущностями, выберите **Состояние сущности**, а затем элемент справа.

![Снимок экрана сущности состояние выделения](./media/luis-how-to-add-example-utterances/entity-prediction-error-correction.png)

Красная линия может отображаться в любом из следующих случаев:

   * При вводе фрагмента речи, но перед пометкой сущности
   * При применении метки сущности
   * При удалении метки сущности
   * При прогнозировании более одной метки сущности для этого текста 

Следующие решения помогают устранить расхождение прогнозов сущностей:

|Сущность|Визуальный индикатор|Прогнозирование|Решение|
|--|--|--|--|
|Фрагмент речи введен, сущность еще не помечена.|красное подчеркивание|Прогноз верен.|Пометка сущности прогнозированным значением.|
|Текст без метки|красное подчеркивание|Неправильный прогноз|Текущие фрагменты речи, использующие эту неверную сущность, нужно проверить для всех намерений. Текущие фрагменты речи имеют неправильно обученную LUIS, так что этот текст представляет собой спрогнозированную сущность.
|Правильно помеченный текст|выделение сущности синим цветом, красное подчеркивание|Неправильный прогноз|Укажите дополнительные фрагменты речи с правильно помеченной сущностью для различных мест и вариантов использования. Текущих фрагментов речи недостаточно для обучения LUIS тому, что это — сущность, либо похожие сущности отображаются в том же контексте. Аналогичные сущности следует объединить в одну сущность, чтобы не вносить в LUIS путаницу. Другим решением является добавление списка фраз для повышения значимости слов. |
|Неправильно помеченный текст|выделение сущности синим цветом, красное подчеркивание|Правильный прогноз| Укажите дополнительные фрагменты речи с правильно помеченной сущностью для различных мест и вариантов использования. 

> [!Note]
> Когда красным прямоугольником вокруг цель с метками в строке utterance пример, [намерений прогноза](luis-how-to-add-intents.md#intent-prediction-discrepancy-errors) произошла. Необходимо исправить. 

## <a name="other-actions"></a>Другие действия

Можно выполнять действия на примерах высказываний в качестве выбранной группы и отдельного элемента. Группы выбранных примеров высказываний меняют контекстные меню над списком. Для одиночных элементов можно использовать и контекстные меню над списком, и отдельное контекстное многоточие в конце каждой строки высказываний. 

### <a name="remove-entity-labels-from-utterances"></a>Удаление меток сущности из высказываний

Вы можете удалить прошедшие машинное обучение метки сущностей из высказывания на странице намерений. Если сущность не прошла машинное обучение, ее нельзя удалить из высказывания. Если необходимо удалить сущность, которая не прошла машинное обучение, необходимо удалить ее из всего приложения. 

Чтобы удалить из высказывания метку сущности, прошедшей машинное обучение, выберите необходимую сущность в высказывании. Затем выберите **Remove Label** (Удалить метку) в появившемся поле раскрывающегося списка сущностей.

### <a name="add-prebuilt-entity-label"></a>Добавление предварительно созданной сущности

При добавлении предварительно созданных сущностей в приложение LUIS не нужно отмечать высказывания этими сущностями. Дополнительные сведения о предварительно созданных сущностях и их добавлении см. в [этом разделе](luis-how-to-add-entities.md#add-a-prebuilt-entity-to-your-app).

### <a name="add-regular-expression-entity-label"></a>Добавление метки сущности регулярного высказывания

При добавлении сущностей регулярного выражения в приложение LUIS не нужно отмечать высказывания этими сущностями. Дополнительные сведения о сущностях регулярного высказывания и их добавлении см. в [этом разделе](luis-how-to-add-entities.md#add-regular-expression-entities-for-highly-structured-concepts).


### <a name="create-a-pattern-from-an-utterance"></a>Создание шаблона на основе высказывания

Дополнительные сведения см. в разделе [Добавление шаблона на основе существующего фрагмента речи на странице сущности или намерения](luis-how-to-model-intent-pattern.md#add-pattern-from-existing-utterance-on-intent-or-entity-page).


### <a name="add-patternany-entity"></a>Добавление сущности pattern.any

При добавлении сущностей pattern.any в приложение LUIS невозможно отметить высказывания этими сущностями. Они действительны только в шаблонах. Дополнительные сведения о сущностях pattern.any и их добавлении см. в [этом разделе](luis-how-to-add-entities.md#add-patternany-entities-to-capture-free-form-entities).

## <a name="train-your-app-after-changing-model-with-utterances"></a>Обучение приложения после изменения модели с высказываниями

После добавления, изменения и удаления высказываний выполните [обучение](luis-how-to-train.md) и [публикацию](luis-how-to-publish-app.md) приложения, чтобы применить изменения к запросам конечной точки. 

## <a name="next-steps"></a>Дальнейшие действия

Отметив высказывания в намерениях, можно создать [составную сущность](luis-how-to-add-entities.md).
