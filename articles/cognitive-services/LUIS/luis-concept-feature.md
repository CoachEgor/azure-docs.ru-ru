---
title: Функции машинного обучения с LUIS
description: Свойства добавляются в языковую модель, чтобы предоставить указания о принципах распознавания входных данных, которые требуется пометить или классифицировать.
ms.topic: conceptual
ms.date: 06/10/2020
ms.openlocfilehash: 02a6fd27dbe22a40b29b47515edec5506d3b2075
ms.sourcegitcommit: 3d79f737ff34708b48dd2ae45100e2516af9ed78
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/23/2020
ms.locfileid: "87075167"
---
# <a name="machine-learning-features"></a>Функции машинного обучения

В машинном обучении *функция*   — это отличительная черта или атрибут данных, которые отслеживает система, и рассказывается о них.

Функции машинного обучения предоставляют LUIS важные подсказки для поиска вещей, которые отличают концепцию. Они являются указаниями, которые LUIS могут использовать, но не являются жесткими правилами. LUIS использует эти указания в сочетании с метками для поиска данных.

Функцию можно описать как функцию, например f (x) = y. В примере utterance функция указывает, где искать отличительные признаки. Используйте эти сведения для создания схемы.

## <a name="types-of-features"></a>Типы функций

LUIS поддерживает как функции списки и модели фраз:

* Функция списка фраз 
* Модель (цель или сущность) как функция

Функции следует рассматривать как необходимую часть структуры схемы.

## <a name="find-features-in-your-example-utterances"></a>Найдите компоненты в вашем примере фразы продолжительностью

Поскольку LUIS является приложением на основе языка, эти функции основаны на тексте. Выберите текст, указывающий признаку, который необходимо различать. Для LUIS наименьшей единицей является *маркер*. Для английского языка маркер представляет собой непрерывный диапазон букв и цифр, не содержащий пробелов или знаков препинания.

Поскольку пробелы и знаки препинания не являются маркерами, сосредоточьтесь на тексте, который можно использовать в качестве функций. Не забывайте включать в себя разновидности слов, например:

* множественные формы
* командные времена
* сокращения;
* опечатки и опечатки

Определить, является ли текст, так как он отличает признак, должен:

* Совпадение с точным словом или фразой: рекомендуется добавить сущность регулярного выражения или сущность списка в качестве функции в сущность или намерение.
* Совпадение с известными понятиями, такими как даты, время или имена людей: использовать предварительно созданную сущность в качестве функции для сущности или намерения.
* Узнайте о новых примерах с течением времени: Используйте список фраз с примерами концепции в качестве функции для сущности или намерения.

## <a name="combine-features"></a>Объединение функций

Для описания характеристик или концепции можно использовать более одной функции. Распространенным связыванием является использование функции списка фраз и типа сущности, которая часто используется в качестве функции:

 * предварительно созданная сущность
 * сущность регулярных выражений
 * сущность списка

### <a name="ticket-booking-entity-example"></a>Пример сущности для резервирования билета

В качестве первого примера рассмотрим приложение для резервирования рейса с намерением зарезервированного рейса и сущностью для резервирования билетов.

Сущность резервирования билетов — это сущность машинного обучения для назначения рейса. Для получения сведений о расположении воспользуйтесь двумя функциями:

* Список фраз, соответствующих словам, например, **плоскость**, **самолет,** **резервирование**или **билет**
* Предварительно созданная сущность **geographyV2** в качестве функции для сущности.

### <a name="pizza-entity-example"></a>Пример сущности пиццы

В качестве другого примера рассмотрим приложение для упорядочивания пиццы с намерением Create-пицца и сущностью пиццы.

Сущность пиццы — это сущность машинного обучения, которая содержит сведения о пицце. Чтобы получить подробные сведения, воспользуйтесь двумя функциями, которые помогут:

* Список фраз, соответствующих словам, например, **Мак**, **круст**, **пепперони**или **ананас**
* Предварительно созданная сущность **Number** в качестве функции для сущности

## <a name="create-a-phrase-list-for-a-concept"></a>Создание списка фраз для концепции

Список фраз — это список слов или фраз, описывающих концепцию. Список фраз применяется в качестве совпадения без учета регистра на уровне токена.

При добавлении списка фраз можно задать эту функцию как **[глобальную](#global-features)**. Глобальный компонент применяется ко всему приложению.

### <a name="when-to-use-a-phrase-list"></a>Когда следует использовать список фраз

Используйте список фраз, если требуется, чтобы приложение LUIS обобщать и определяло новые элементы для концепции. Списки фраз подобны словарям, относящимся к домену. Они улучшают качество понимания целей и сущностей.

### <a name="how-to-use-a-phrase-list"></a>Использование списка фраз

С помощью списка фраз LUIS рассматривает контекст и обобщение, чтобы определить элементы, аналогичные, но не имеющие точного текста. Выполните следующие действия, чтобы использовать список фраз.

1. Начните с сущности машинного обучения:
    1. Добавьте пример фразы продолжительностью.
    1. Метка с сущностью машинного обучения.
1. Добавить список фраз:
    1. Добавьте слова со сходным значением. Не добавляйте все возможные слова или фразы. Вместо этого добавьте несколько слов или фраз за раз. Затем переучить и опубликуйте.
    1. Проверьте и добавьте предлагаемые слова.

### <a name="a-typical-scenario-for-a-phrase-list"></a>Типичный сценарий для списка фраз

Типичным сценарием для списка фраз является увеличение слов, относящихся к определенной идее.

Медицинские термины — хороший пример слов, которым может потребоваться список фраз для повышения их значимости. Эти термины могут иметь определенные физические, химические, серапеутик или абстрактные значения. LUIS не знает, что термины важны для предметной области, без списка фраз.

Для извлечения медицинских терминов:

1. Создайте пример фразы продолжительностью и пометка медицинских терминов в этих фразы продолжительностьюах.
2. Создайте список фраз с примерами терминов внутри предметной области. Этот список фраз должен включать в себя фактический термин с меткой и другие термины, описывающие ту же концепцию.
3. Добавьте список фраз в сущность или подсущность, которая извлекает концепцию, используемую в списке фраз. Наиболее распространенный сценарий — это компонент (дочерний) сущности машинного обучения. Если список фраз должен быть применен ко всем объектам или сущностям, пометьте список фраз как список глобальных фраз. Флаг **енабледфораллмоделс** управляет этой областью модели в API.

### <a name="token-matches-for-a-phrase-list"></a>Соответствие токенов для списка фраз

Список фраз всегда применяется на уровне токена. В следующей таблице показано, как список фраз, имеющий слово **Анна** , применяется к вариациям одних и тех же символов в указанном порядке.


| Вариант токена **Анна** | Совпадение списка фраз при обнаружении токена |
|--------------------------|---------------------------------------|
| **Петр**<br>**Петр**<br>           | Да — токен — **Анна**                  |
| **Петр**                    | Да — токен — **Анна**                  |
| **Anne**                     | Нет-токен **Anne**                  |

<a name="how-to-use-phrase-lists"></a>
<a name="how-to-use-a-phrase-lists"></a>
<a name="phrase-lists-help-identify-simple-exchangeable-entities"></a>

## <a name="a-model-as-a-feature-helps-another-model"></a>Модель в качестве функции помогает другой модели

Модель (намерение или сущность) можно добавить в качестве функции в другую модель (цель или сущность). Добавляя существующую цель или сущность в качестве функции, вы добавляете четко определенную концепцию с помеченными примерами.

При добавлении модели в качестве функции можно задать эту функцию следующим образом:
* **[Обязательный](#required-features)**. Необходимо найти необходимый компонент, чтобы модель возвращалась из конечной точки прогнозирования.
* **[Глобальный](#global-features)**. Глобальный компонент применяется ко всему приложению.

### <a name="when-to-use-an-entity-as-a-feature-to-an-intent"></a>Использование сущности в качестве функции для намерения

Добавьте сущность в качестве функции к намерениям, если обнаружение этой сущности имеет значительный смысл.

Например, если целью является резервирование рейса, например **букфлигхт**, и сущность представляет собой информацию о билетах (например, число рабочих мест, источник и назначение), то поиск сущности «билет-информация» должен добавить значительный вес к прогнозу цели **букфлигхт** .

### <a name="when-to-use-an-entity-as-a-feature-to-another-entity"></a>Когда следует использовать сущность в качестве функции для другой сущности

Сущность (A) должна быть добавлена в качестве функции в другую сущность (B), если обнаружение этой сущности (A) является значимым для прогноза сущности (B).

Например, если сущность «адрес доставки» содержится в подобъекте «улица-адрес», то поиск подсущности «Улица адреса» добавляет значительный вес к прогнозу для сущности «адрес доставки».

* Адрес доставки (сущность машинного обучения):

    * Номер улицы (подсущность)
    * Почтовый адрес (подсущность)
    * Город (подсущность)
    * Штат или провинция (подсущность)
    * Страна или регион (подсущность)
    * Почтовый индекс (подсущность)

## <a name="nested-subentities-with-features"></a>Вложенные подсущности с компонентами

Подсущность машинного обучения указывает, что концепция существует в родительской сущности. Родителем может быть другая подсущность или верхняя сущность. Значение вложенной сущности выступает в качестве функции к родительскому элементу.

Подсущность может содержать как список фраз, так и модель (другую сущность) в качестве функции.

Если в подсущность есть список фраз, она увеличивает словарь концепции, но не добавляет никаких сведений в ответ JSON прогноза.

Если подсущность имеет функцию другой сущности, ответ JSON включает извлеченные данные этой сущности.


## <a name="required-features"></a>Требуемые компоненты

Необходимо найти необходимый компонент, чтобы модель возвращалась из конечной точки прогнозирования. Используйте требуемую функцию, если известно, что входящие данные должны соответствовать этой функции.

Если текст utterance не соответствует требуемой функции, он не будет извлечен.

Для обязательной функции используется сущность, не относящаяся к машинному обучению:

* Сущность регулярного выражения
* Сущность списка
* Предварительно созданная сущность

Если вы уверены в том, что модель будет найдена в данных, установите эту функцию в соответствии с требованиями. Обязательный компонент не возвращает ничего, если он не найден.

Продолжение работы с примером адреса доставки:

Адрес доставки (сущность, полученная с компьютера)

 * Номер улицы (подсущность) 
 * Почтовый адрес (подсущность) 
 * Название улицы (подсущность) 
 * Город (подсущность) 
 * Штат или провинция (подсущность) 
 * Страна или регион (подсущность) 
 * Почтовый индекс (подсущность)

### <a name="required-feature-using-prebuilt-entities"></a>Обязательный компонент с использованием предварительно созданных сущностей

Город, штат и страна или регион обычно являются закрытым набором списков, то есть они не меняются со временем. Эти сущности могут иметь соответствующие Рекомендуемые функции, и эти функции могут быть помечены как обязательные. Это означает, что весь адрес доставки не возвращается, если не найдены сущности, имеющие необходимые компоненты.

Что, если город, штат или страна или регион находятся в utterance, но они находятся в расположении или сленговых выражений, что LUIS не требуется? Если вы хотите предоставить некоторую последующую обработку для разрешения сущности, из-за оценки низкого уровня достоверности от LUIS, не следует помечать эту функцию как обязательное.

Еще один пример обязательной функции для адреса доставки — сделать номер улицы обязательным, предварительно [созданным](luis-reference-prebuilt-entities.md) номером. Это позволяет пользователю ввести «1 Microsoft Way» или «один Microsoft Way». Оба разрешаются в цифру "1" для подсущности номера улицы.

### <a name="required-feature-using-list-entities"></a>Обязательный компонент с использованием списка сущностей

[Сущность списка](reference-entity-list.md) используется как Список канонических имен вместе с их синонимами. Если utterance не содержит канонического имени или синонима, то в качестве обязательной функции эта сущность не возвращается в рамках конечной точки прогнозирования.

Предположим, что ваша компания поставляется только с ограниченным набором стран или регионов. Можно создать сущность списка, которая включает несколько способов ссылки на страну или регион для клиента. Если LUIS не находит точное совпадение в тексте utterance, то сущность (которая имеет требуемую функцию сущности List) не возвращается в прогнозе.

|Каноническое имя|Синонимы|
|--|--|
|США|США<br>США<br>США<br>США<br>0|

Клиентское приложение, например робот чата, может задать вопрос для получения дальнейших вопросов. Это помогает клиенту понять, что выбор страны или региона ограничен и является *обязательным*.

### <a name="required-feature-using-regular-expression-entities"></a>Обязательный компонент с использованием сущностей регулярных выражений

[Сущность регулярного выражения](reference-entity-regular-expression.md) , используемая в качестве обязательной функции, предоставляет широкие возможности для поиска текста.

В примере адреса доставки можно создать регулярное выражение, которое фиксирует правила синтаксиса почтовых индексов страны или региона.

## <a name="global-features"></a>Глобальные функции

Хотя наиболее распространенным применением является применение функции к конкретной модели, эту функцию можно настроить как **глобальную функцию** , чтобы применить ее ко всему приложению.

Чаще всего глобальная функция используется для добавления дополнительного словаря в приложение. Например, если клиенты используют основной язык, но предполагается, что они смогут использовать другой язык в рамках одного utterance, можно добавить функцию, включающую слова из дополнительного языка.

Так как пользователь предполагает использовать дополнительный язык в любой цели или сущности, добавьте слова из дополнительного языка в список фраз. Настройте список фраз как глобальный компонент.

## <a name="best-practices"></a>Рекомендации

Ознакомьтесь с [рекомендациями](luis-concept-best-practices.md).

## <a name="next-steps"></a>Дальнейшие действия

* [Расширьте](schema-change-prediction-runtime.md) модели приложений в среде выполнения прогнозирования.
* Дополнительные сведения о добавлении компонентов в приложение LUIS см. в разделе [Добавление компонентов](luis-how-to-add-features.md) .
