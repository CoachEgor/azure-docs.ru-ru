---
title: Функции — LUIS
description: Свойства добавляются в языковую модель, чтобы предоставить указания о принципах распознавания входных данных, которые требуется пометить или классифицировать.
ms.topic: conceptual
ms.date: 06/10/2020
ms.openlocfilehash: 823c51f0b58481e30ff54814dde03285ad094b9e
ms.sourcegitcommit: f01c2142af7e90679f4c6b60d03ea16b4abf1b97
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/10/2020
ms.locfileid: "84677597"
---
# <a name="machine-learning-ml-features"></a>Функции машинного обучения (ML)

В машинном обучении **функция**   — это отличительная черта или атрибут данных, которые отслеживает система, и рассказывается о них.

Функции машинного обучения предоставляют LUIS важные подсказки для поиска вещей, которые будут отличать концепцию. Они представляют собой подсказки, которые LUIS могут использовать, но не жесткие правила.  Эти указания используются вместе с метками для поиска данных.

## <a name="what-is-a-feature"></a>Что такое функция

Функция — это отличительная черта, которую можно описать как функцию: f (x) = y. Эта функция используется, чтобы узнать, где искать, в примере utterance, для отличительной признаки. Что вы узнаете о примере utterance, который указывает на признаки при создании схемы? Ваш ответ является лучшим руководством по созданию функций.

## <a name="types-of-features"></a>Типы функций

 LUIS поддерживает как функции списки и модели фраз:
* Функция списка фраз
* Модель (цель или сущность) как функция

Функции следует рассматривать как необходимую часть структуры схемы.

## <a name="how-you-find-features-in-your-example-utterances"></a>Как найти компоненты в вашем примере фразы продолжительностью

Поскольку LUIS является приложением на основе языка, функции будут основаны на тексте. Выберите текст, указывающий признаку, который необходимо различать. Для LUIS текстовая наименьшая единица является маркером. Для английского языка маркер — это непрерывный участок без пробелов или знаков препинания, букв и цифр. Пробел не является маркером.

Поскольку пробелы и знаки препинания не являются маркерами, сосредоточьтесь на тексте, который можно использовать в качестве функций. Не забывайте включать в себя разновидности слова:
* множественные формы
* глаголский времена
* сокращение
* Орфография и опечатка

Выполняет ли текст в качестве отличительной признаки:
* Совпадение с точным словом или фразой. Попробуйте добавить сущность регулярного выражения или сущность списка как функцию в сущность или намерение
* Совпадение с известным понятием, таким как даты, время или имена людей — использование предварительно созданной сущности в качестве функции для сущности или намерения
* Узнайте о новых примерах с течением времени — используйте список фраз с примерами концепции в качестве функции для сущности или намерения.

## <a name="combine-features"></a>Объединение функций

Так как описанные признаки описаны в нескольких вариантах, можно использовать более одной функции, помогающей описать эту особенность или концепцию. Распространенным связыванием является использование функции списка фраз и одного из типов сущностей, обычно используемых в качестве функций: предварительно созданная сущность, сущность регулярных выражений или сущность со списком.

### <a name="ticket-booking-entity-example"></a>Пример сущности для резервирования билетов

В качестве первого примера рассмотрим приложение для резервирования рейса с целью резервирования авиабилетов и сущностью резервирования билетов.

Сущность резервирования билетов — это сущность, полученная от компьютера для назначения рейса. Для получения сведений о расположении воспользуйтесь двумя функциями:
* Список фраз для соответствующих слов, например `plane` , `flight` ,, `reservation``ticket`
* Предварительно созданная `geographyV2` сущность как функция для сущности

### <a name="pizza-entity-example"></a>Пример сущности пиццы

В качестве другого примера рассмотрим приложение для заказа пиццы с целью создать заказ на пиццу и сущностью пиццы.

Сущность пиццы — это сущность, полученная от компьютера, для сведений о пицце. Для получения сведений используйте две функции:
* Список фраз для соответствующих слов, например `cheese` , `crust` ,, `pepperoni``pineapple`
* Предварительно созданная `number` сущность как функция для сущности

## <a name="a-phrase-list-for-a-particular-concept"></a>Список фраз для определенной концепции

Список фраз — это список слов или фраз, которые инкапсулируют определенную концепцию и применяются в качестве совпадения без учета регистра на уровне токена.

При добавлении списка фраз можно задать эту функцию следующим образом:
* **[Глобальный](#global-features)**. Глобальный компонент применяется ко всему приложению.

### <a name="when-to-use-a-phrase-list"></a>Когда следует использовать список фраз

Если вам требуется, чтобы приложение LUIS могло обобщать и определяло новые элементы для концепции, используйте список фраз. Списки фраз похожи на словари в предметной области, помогающие улучшить качество понимания намерений и сущностей.

### <a name="how-to-use-a-phrase-list"></a>Использование списка фраз

С помощью списка фраз LUIS рассматривает контекст и обобщение, чтобы найти элементы, похожие на, но не точное совпадение текста.

Действия по использованию списка фраз:
* Начало работы с сущностью машинного обучения
    * Добавление примеров высказываний
    * Метка с сущностью машинного обучения
* Добавление списка фраз
    * Добавлять слова со сходным значением — **не** добавлять каждое возможное слово или фразу. Вместо этого добавьте несколько слов или фраз за раз, затем выполните обучение и публикацию.
    * Проверка и Добавление предложенных слов

### <a name="a-typical-scenario-for-a-phrase-list"></a>Типичный сценарий для списка фраз

Типичным сценарием для списка фраз является увеличение слов, относящихся к определенной идее.

Примером слов, которым может потребоваться список фраз для повышения их значимости, являются медицинские условия. Термины могут иметь определенные физические, химические, серапеутик или абстрактные значения. LUIS не знает, что термины важны для предметной области, без списка фраз.

Если вы хотите извлечь медицинские условия:
* Сначала создайте пример фразы продолжительностью и пометка медицинских терминов в этих фразы продолжительностьюах.
* Затем создайте список фраз с примерами терминов в домене субъекта. Этот список фраз должен включать в себя фактический термин с меткой и другие термины, описывающие ту же концепцию.
* Добавьте список фраз в сущность или подсущность, которая извлекает концепцию, используемую в списке фраз. Наиболее распространенный сценарий — это компонент (дочерний) сущности машинного обучения. Если список фраз должен применяться во всех случаях или сущностях, пометьте список фраз как глобальный список фраз. `enabledForAllModels`Флаг управляет этой областью модели в API.

### <a name="token-matches-for-a-phrase-list"></a>Соответствие токенов для списка фраз

Список фраз применяется на уровне токена, независимо от регистра. На следующей диаграмме показано, как список фраз, содержащий слово, `Ann` применяется к вариантам одних и тех же символов в указанном порядке.


| Вариант токена`Ann` | Совпадение списка фраз при обнаружении токена |
|--------------------------|---------------------------------------|
| Петр<br>Петр<br>           | Да — токен —`Ann`                  |
| Петр                    | Да — токен —`Ann`                  |
| Anne                     | Без токена`Anne`                  |


<a name="how-to-use-phrase-lists"></a>
<a name="how-to-use-a-phrase-lists"></a>
<a name="phrase-lists-help-identify-simple-exchangeable-entities"></a>

## <a name="a-model-as-a-feature-helps-another-model"></a>Модель в качестве функции помогает другой модели

Модель (намерение или сущность) можно добавить в качестве функции в другую модель (цель или сущность). Добавляя существующую цель или сущность в качестве функции, вы добавляете четко определенную концепцию с помеченными примерами.

При добавлении модели в качестве функции можно задать эту функцию следующим образом:
* **[Обязательный](#required-features)**. Необходимо найти необходимый компонент, чтобы модель возвращалась из конечной точки прогнозирования.
* **[Глобальный](#global-features)**. Глобальный компонент применяется ко всему приложению.

### <a name="when-to-use-an-entity-as-a-feature-to-an-intent"></a>Использование сущности в качестве функции для намерения

Добавьте сущность в качестве функции к намерениям, если обнаружение этой сущности имеет значительный смысл.

Например, если целью является резервирование рейса, `BookFlight` и сущность представляет собой информацию о билетах (например, число рабочих мест, источник и назначение), то поиск сущности сведений о билетах должен добавить значительный вес к прогнозу `BookFlight` намерения.

### <a name="when-to-use-an-entity-as-a-feature-to-another-entity"></a>Когда следует использовать сущность в качестве функции для другой сущности

Сущность (A) должна быть добавлена в качестве функции в другую сущность (B), если обнаружение этой сущности (A) является значимым для прогноза сущности (B).

Например, если n сущность адреса доставки содержала подсущность «улица», то поиск подсущности «Улица адреса» добавляет значительный вес к прогнозу для сущности «адрес доставки».

* Адрес доставки (сущность, полученная с компьютера)
    * Номер улицы (подсущность)
    * Почтовый адрес (подсущность)
    * Город (подсущность)
    * Штат или провинция (подсущность)
    * Страна или регион (подсущность)
    * Почтовый индекс (подсущность)

## <a name="nested-subentities-with-features"></a>Вложенные подсущности с компонентами

Подсущность, полученная от компьютера, указывает, что концепция существует в родительской сущности, является ли она другой подсущностью или верхней сущностью. Значение вложенной сущности выступает в качестве функции к родительскому элементу.

Подсущность может содержать как компонент, так и модель (другую сущность) в качестве функции.

Если подсущность имеет список фраз, это приведет к увеличению словаря концепции, но не будет добавлять сведения в ответ JSON прогноза.

Если подсущность имеет функцию другой сущности, ответ JSON включает извлеченные данные этой сущности.

## <a name="required-features"></a>Требуемые компоненты

Необходимо найти необходимый компонент, чтобы модель возвращалась из конечной точки прогнозирования. Используйте требуемую функцию, если известно, что входящие данные должны соответствовать этой функции.

Если текст utterance не соответствует требуемой функции, он не будет извлечен.

**Требуемая функция использует сущность, которая не является машиной**.
* Сущность регулярного выражения
* Сущность списка
* Предварительно созданная сущность

Какие функции лучше помечать как обязательные? Если вы уверены в том, что модель будет найдена в данных, установите эту функцию в соответствии с требованиями. Обязательный компонент не возвращает ничего, если он не найден.

Продолжение работы с примером адреса доставки:
* Адрес доставки (сущность, полученная с компьютера)
    * Номер улицы (подсущность)
    * Почтовый адрес (подсущность)
    * Название улицы (подсущность)
    * Город (подсущность)
    * Штат или провинция (подсущность)
    * Страна или регион (подсущность)
    * Почтовый индекс (подсущность)

### <a name="required-feature-using-prebuilt-entities"></a>Обязательный компонент с использованием предварительно созданных сущностей

Город, штат и страна или регион обычно являются закрытым набором списков, то есть они не меняются со временем. Эти сущности могут иметь соответствующие Рекомендуемые функции, и эти функции могут быть помечены как обязательные. Это означает, что весь адрес доставки не возвращается — сущности с требуемыми компонентами не найдены.

Что, если город, штат или страна или регион находятся в utterance, но находятся в местоположении или сленговых выражений, которые LUIS не предположительно? Если вы хотите предоставить некоторую последующую обработку для разрешения сущности из-за низкой оценки достоверности от LUIS, не следует помечать компонент как обязательный.

Еще один пример обязательной функции для адреса доставки — сделать номер улицы обязательным предварительно [созданным](luis-reference-prebuilt-entities.md) номером. Это позволяет пользователю ввести «1 Microsoft Way» или «один Microsoft Way». Обе будут разрешаться в число "1" для подсущности номера улицы.

### <a name="required-feature-using-list-entities"></a>Обязательный компонент с использованием списка сущностей

[Сущность списка](reference-entity-list.md) используется как Список канонических имен вместе с их синонимами. Если utterance не содержит канонического имени или синонима, то в качестве обязательной функции эта сущность не возвращается в рамках конечной точки прогнозирования.

Продолжим пример адреса доставки, предположим, что ваша компания поставляется только с ограниченным набором стран или регионов. Вы можете создать сущность списка, которая включает несколько способов, которые ваш клиент может ссылаться на страну. Если LUIS не находит точное совпадение в тексте utterance, то сущность (которая имеет требуемую функцию сущности List) не возвращается в прогнозе.

|Каноническое имя|Синонимы|
|--|--|
|США|США<br>США<br>США<br>США<br>0|

Клиентское приложение, например Bot чата, может задать следующий вопрос, чтобы клиент понимает, что выбор страны или региона ограничен и является _обязательным_.

### <a name="required-feature-using-regular-expression-entities"></a>Обязательный компонент с использованием сущностей регулярных выражений

[Сущность регулярного выражения](reference-entity-regular-expression.md) , используемая в качестве обязательной функции, предоставляет широкие возможности для поиска текста.

Продолжая с адресом доставки, можно создать регулярное выражение, которое захватывает правила синтаксиса почтовых индексов страны или региона.

## <a name="global-features"></a>Глобальные функции

Хотя наиболее распространенным применением является применение функции к конкретной модели, эту функцию можно настроить как **глобальную функцию** , чтобы применить ее ко всему приложению.

Чаще всего глобальная функция используется для добавления дополнительного словаря, например слова из другого языка, в приложение. Если клиенты используют основной язык, но при этом предполагается возможность использования другого языка в рамках одного utterance, можно добавить функцию, включающую слова из дополнительного языка.

Поскольку пользователь должен использовать второй язык для любой цели или сущности, он должен быть добавлен в список фраз со списком фраз, настроенным в качестве глобального компонента.

## <a name="best-practices"></a>Рекомендации
Ознакомьтесь с [рекомендациями](luis-concept-best-practices.md).

## <a name="next-steps"></a>Дальнейшие действия

* [Расширение](schema-change-prediction-runtime.md) моделей приложений в среде выполнения прогнозирования
* Дополнительные сведения о добавлении свойств в приложение LUIS см. в разделе [Добавление свойств](luis-how-to-add-features.md).
