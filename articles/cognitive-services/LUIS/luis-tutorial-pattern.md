---
title: Руководство по Шаблоны — LUIS
description: В этом учебнике вы примените шаблоны для улучшения прогнозирования намерений и сущностей, одновременно сокращая число примеров речевых фрагментов. Шаблон предоставляется в виде примера речевого фрагмента, который содержит синтаксис для идентификации сущностей и игнорируемый текст.
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: tutorial
ms.date: 07/06/2020
ms.openlocfilehash: 9814304aed4d7a5f307fb2179491b0fa9635fd68
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "91324660"
---
# <a name="tutorial-add-common-pattern-template-utterance-formats-to-improve-predictions"></a>Руководство по Добавление шаблонов высказываний в стандартных форматах для улучшения прогнозирования

В этом учебнике вы примените шаблоны для улучшения прогнозирования намерений и сущностей, что позволяет снизить число примеров речевых фрагментов. Шаблон представляет собой речевой фрагмент, сопоставленный с намерением, который содержит синтаксис для идентификации сущностей и игнорируемого текста.

**В этом руководстве рассмотрено, как выполнять следующие задачи.**

> [!div class="checklist"]
> * Создавать шаблон.
> * Проверять улучшения прогнозирования для шаблона.
> * Отмечать текст как тот, который нужно игнорировать и вкладывать в шаблон.
> * Использовать панель тестирования для проверки успешности шаблона.

[!INCLUDE [LUIS Free account](../../../includes/cognitive-services-luis-free-key-short.md)]

## <a name="utterances-in-intent-and-pattern"></a>Речевые фрагменты в намерении и шаблоне

В приложении LUIS сохраняются два типа речевых фрагментов.

* Примеры речевых фрагментов в намерении.
* Шаблоны речевых фрагментов в шаблоне.

Добавление шаблона речевого фрагмента в качестве шаблона позволяет предоставлять для намерения меньше примеров речевых фрагментов.

Шаблон применяется как сочетание сопоставления текста и машинного обучения.  Шаблон речевого фрагмента в шаблоне вместе с примерами речевых фрагментов в намерении дает LUIS лучшее представление о том, какие речевые фрагменты соответствуют намерению.

## <a name="import-example-app-and-clone-to-new-version"></a>Импорт примера приложения и клонирование в новую версию

Выполните указанные ниже действия.

1.  Скачайте и сохраните [JSON-файл приложения](https://github.com/Azure-Samples/cognitive-services-sample-data-files/blob/master/luis/apps/tutorial-fix-unsure-predictions.json?raw=true).

1. Войдите на портал [LUIS](https://www.luis.ai) и выберите **Подписка** и **Ресурс для разработки**, чтобы просмотреть приложения, назначенные этому ресурсу для разработки.
1. Импортируйте JSON-файл в новое приложение на [портале LUIS](https://www.luis.ai). На странице **Мои приложения** выберите пункт **+ New app for conversation** (Создать приложение для беседы), а затем выберите **Import as JSON** (Импортировать как JSON). Выберите файл, скачанный на предыдущем шаге, и присвойте приложению имя `Patterns tutorial`.

## <a name="create-new-intents-and-their-utterances"></a>Создание новых намерений и их высказываний

Эти два намерения находят менеджера или непосредственные подчинения менеджера, основанные на тексте речевого фрагмента. Сложность состоит в том, что два способа _означают_ различные вещи, но большинство слов одинаковы. Отличается только порядок слов. Для правильного прогнозирования цели необходимо иметь много примеров.

1. Выберите **Build** (Сборка) в меню навигации.

1. На странице **намерений** выберите **Создать**, чтобы создать новое намерение.

1. Введите `OrgChart-Manager` во всплывающем диалоговом окне и нажмите кнопку **Done** (Готово).

    ![Создание нового сообщения всплывающего окна](media/luis-tutorial-pattern/hr-create-new-intent-popup.png)

1. Добавьте примеры фраз в намерение. Эти речевые фрагменты не _полностью_ совпадают, но имеют общий формат, для которого можно извлечь шаблон.

    |Примеры высказываний|
    |--|
    |`Who is John W. Smith the subordinate of?`|
    |`Who does John W. Smith report to?`|
    |`Who is John W. Smith's manager?`|
    |`Who does Jill Jones directly report to?`|
    |`Who is Jill Jones supervisor?`|

1. В левой области навигации выберите **Intents** (Намерения).

1. Щелкните **+ Создать**, чтобы добавить новое намерение. Введите `OrgChart-Reports` во всплывающем диалоговом окне и нажмите кнопку **Done** (Готово).

1. Добавьте примеры фраз в намерение.

    |Примеры высказываний|
    |--|
    |`Who are John W. Smith's subordinates?`|
    |`Who reports to John W. Smith?`|
    |`Who does John W. Smith manage?`|
    |`Who are Jill Jones direct reports?`|
    |`Who does Jill Jones supervise?`|

### <a name="caution-about-example-utterance-quantity"></a>Предупреждение о примере количества высказываний

[!INCLUDE [Too few examples](../../../includes/cognitive-services-luis-too-few-example-utterances.md)]

### <a name="train-the-app-before-testing-or-publishing"></a>Обучение приложения перед тестированием и публикацией

[!INCLUDE [LUIS How to Train steps](includes/howto-train.md)]

### <a name="publish-the-app-to-query-from-the-endpoint"></a>Публикация приложения для получения запроса из конечной точки

[!INCLUDE [LUIS How to Publish steps](includes/howto-publish.md)]

### <a name="get-intent-and-entities-from-endpoint"></a>Получение намерения и сущностей из конечной точки

1. [!INCLUDE [LUIS How to get endpoint first step](includes/howto-get-endpoint.md)]

1. Перейдите в конец URL-адреса в адресной строке и замените _YOUR_QUERY_HERE_ на: `Who is the boss of Jill Jones?`.

    ```json
    {
        "query": "Who is the boss of Jill Jones?",
        "prediction": {
            "topIntent": "OrgChart-Manager",
            "intents": {
                "OrgChart-Manager": {
                    "score": 0.326605469
                },
                "OrgChart-Reports": {
                    "score": 0.127583548
                },
                "EmployeeFeedback": {
                    "score": 0.0299124215
                },
                "MoveEmployee": {
                    "score": 0.01159851
                },
                "GetJobInformation": {
                    "score": 0.0104600191
                },
                "ApplyForJob": {
                    "score": 0.007508645
                },
                "Utilities.StartOver": {
                    "score": 0.00359402061
                },
                "Utilities.Stop": {
                    "score": 0.00336530479
                },
                "FindForm": {
                    "score": 0.002653719
                },
                "Utilities.Cancel": {
                    "score": 0.00263288687
                },
                "None": {
                    "score": 0.00238638581
                },
                "Utilities.Help": {
                    "score": 0.00226386427
                },
                "Utilities.Confirm": {
                    "score": 0.00211663754
                }
            },
            "entities": {
                "keyPhrase": [
                    "boss of Jill Jones"
                ],
                "EmployeeListEntity": [
                    [
                        "Employee-45612"
                    ]
                ],
                "$instance": {
                    "keyPhrase": [
                        {
                            "type": "builtin.keyPhrase",
                            "text": "boss of Jill Jones",
                            "startIndex": 11,
                            "length": 18,
                            "modelTypeId": 2,
                            "modelType": "Prebuilt Entity Extractor",
                            "recognitionSources": [
                                "model"
                            ]
                        }
                    ],
                    "EmployeeListEntity": [
                        {
                            "type": "EmployeeListEntity",
                            "text": "Jill Jones",
                            "startIndex": 19,
                            "length": 10,
                            "modelTypeId": 5,
                            "modelType": "List Entity Extractor",
                            "recognitionSources": [
                                "model"
                            ]
                        }
                    ]
                }
            }
        }
    }
    ```

Спрогнозировано правильное намерение (`OrgChart-Manager`), но оценка не превышает 70 % и не намного опережает второе по вероятности намерение. Используйте шаблоны, чтобы сделать правильную оценку намерения значительно выше в процентах и выше от следующей самой высокой оценки.

Не закрывайте это второе окно браузера. Вы продолжите работу с ним далее в руководстве.

## <a name="template-utterances"></a>Высказывания шаблона
Из-за особенностей домена субъекта "Управление персоналом" существует несколько общих способов для отправки запросов о связях сотрудников в организациях. Пример:

|Высказывания|
|--|
|`Who does Jill Jones report to?`|
|`Who reports to Jill Jones?`|

Эти речевые фрагменты слишком близки для определения контекстной уникальности каждого из них без использования _большого числа_ примеров речевых фрагментов. Благодаря добавлению шаблона для намерения LUIS изучает шаблоны общих речевых фрагментов для намерения без использования слишком большого числа примеров речевых фрагментов.

К примерам шаблонов высказываний для этого намерения относятся:

|Примеры высказываний шаблона|Синтаксическое значение|
|--|--|
|`Who does {EmployeeListEntity} report to[?]`|взаимозаменяемо `{EmployeeListEntity}`<br>игнорировать `[?]`|
|`Who reports to {EmployeeListEntity}[?]`|взаимозаменяемо `{EmployeeListEntity}`<br>игнорировать `[?]`|

Синтаксис `{EmployeeListEntity}` отмечает расположение сущности в высказывании шаблона, а также указывает, какая это сущность. Необязательный синтаксис `[?]` отмечает слова или [знаки препинания](luis-reference-application-settings.md#punctuation-normalization), которые являются необязательными. LUIS сопоставляет высказывание, игнорируя необязательный текст внутри скобок.

Хотя этот синтаксис похож на регулярное выражение, он им не является. Поддерживается синтаксис только фигурной (`{}`) и квадратной (`[]`) скобок. Их можно вложить до двух уровней.

Чтобы шаблон соответствовал речевым фрагментам, сущности в речевых фрагментах должны _сначала_ совпадать с сущностями речевых фрагментов шаблона. Это означает, что вам нужно достаточное количество примеров сущностей в примерах речевых фрагментов с высокой степенью точности прогнозирования, прежде чем шаблоны с сущностями удастся успешно применить. Тем не менее шаблон не помогает прогнозировать сущности, а только намерения.

**Хотя шаблоны и помогают указать меньше примеров фраз, но если сущности не обнаруживаются, шаблоны не совпадают.**

### <a name="add-the-patterns-for-the-orgchart-manager-intent"></a>Добавление шаблонов для намерений OrgChart-Manager

1. Выберите функцию **Сборка** в верхнем меню.

1. В левой области навигации в разделе **Повышение производительности приложения** выберите **Шаблоны** в панели навигации слева.

1. Выберите намерение **OrgChart-Manager**, а затем введите следующие высказывания шаблона.

    |Высказывания шаблона|
    |:--|
    |`Who is {EmployeeListEntity} the subordinate of[?]`|
    |`Who does {EmployeeListEntity} report to[?]`|
    |`Who is {EmployeeListEntity}['s] manager[?]`|
    |`Who does {EmployeeListEntity} directly report to[?]`|
    |`Who is {EmployeeListEntity}['s] supervisor[?]`|
    |`Who is the boss of {EmployeeListEntity}[?]`|

    Эти шаблоны речевого фрагмента включают сущность **EmployeeListEntity** с нотацией фигурных скобок.

1. Оставаясь на странице "Шаблоны", выберите намерение **OrgChart-Reports**, а затем введите следующие фразы шаблона.

    |Высказывания шаблона|
    |:--|
    |`Who are {EmployeeListEntity}['s] subordinates[?]`|
    |`Who reports to {EmployeeListEntity}[?]`|
    |`Who does {EmployeeListEntity} manage[?]`|
    |`Who are {EmployeeListEntity} direct reports[?]`|
    |`Who does {EmployeeListEntity} supervise[?]`|
    |`Who does {EmployeeListEntity} boss[?]`|

### <a name="query-endpoint-when-patterns-are-used"></a>Запрос конечной точки при использовании шаблонов

Теперь, когда шаблоны добавлены в приложение, можно обучать и публиковать приложения, а также обращаться к ним, в конечной точке среды выполнения прогноза.

1. Щелкните **Обучить**. Когда обучение завершится, щелкните **Опубликовать** и выберите **Рабочий слот**, а затем щелкните **Готово**.

1. Когда публикация завершится, вернитесь на вкладку браузера с URL-адресом конечной точки.

1. Перейдите в конец URL-адреса в адресной строке и убедитесь, что запрос `Who is the boss of Jill Jones?` не изменен, а затем отправьте URL-адрес для нового прогноза.

    ```json
    {
        "query": "Who is the boss of Jill Jones?",
        "prediction": {
            "topIntent": "OrgChart-Manager",
            "intents": {
                "OrgChart-Manager": {
                    "score": 0.999999046
                },
                "OrgChart-Reports": {
                    "score": 3.237443E-05
                },
                "EmployeeFeedback": {
                    "score": 4.364242E-06
                },
                "GetJobInformation": {
                    "score": 1.616159E-06
                },
                "MoveEmployee": {
                    "score": 7.575752E-07
                },
                "ApplyForJob": {
                    "score": 5.234157E-07
                },
                "None": {
                    "score": 3.3E-09
                },
                "Utilities.StartOver": {
                    "score": 1.26E-09
                },
                "FindForm": {
                    "score": 1.13636367E-09
                },
                "Utilities.Cancel": {
                    "score": 1.13636367E-09
                },
                "Utilities.Confirm": {
                    "score": 1.13636367E-09
                },
                "Utilities.Help": {
                    "score": 1.13636367E-09
                },
                "Utilities.Stop": {
                    "score": 1.13636367E-09
                }
            },
            "entities": {
                "keyPhrase": [
                    "boss of Jill Jones"
                ],
                "EmployeeListEntity": [
                    [
                        "Employee-45612"
                    ]
                ],
                "$instance": {
                    "keyPhrase": [
                        {
                            "type": "builtin.keyPhrase",
                            "text": "boss of Jill Jones",
                            "startIndex": 11,
                            "length": 18,
                            "modelTypeId": 2,
                            "modelType": "Prebuilt Entity Extractor",
                            "recognitionSources": [
                                "model"
                            ]
                        }
                    ],
                    "EmployeeListEntity": [
                        {
                            "type": "EmployeeListEntity",
                            "text": "Jill Jones",
                            "startIndex": 19,
                            "length": 10,
                            "modelTypeId": 5,
                            "modelType": "List Entity Extractor",
                            "recognitionSources": [
                                "model"
                            ]
                        }
                    ]
                }
            }
        }
    }
    ```

Прогнозирование намерений теперь значительно точнее, а оценка второго по вероятности намерения стала намного ниже. Теперь эти два намерения не будут меняться местами при обучении.

### <a name="working-with-optional-text-and-prebuilt-entities"></a>Работа с предварительно созданными сущностями и необязательным текстом

В предыдущих высказываниях шаблона в этом руководстве содержалось несколько примеров с необязательным текстом, например использование буквы s в притяжательном падеже (`'s`) и вопросительного знака (`?`). Предположим, что необходимо разрешить текущие и будущие даты в тексте фразы.

Примеры высказываний:

|Блокировка с намерением|Примеры высказываний с предварительно созданными сущностями и необязательным текстом|
|:--|:--|
|OrgChart-Manager|`Who was Jill Jones manager on March 3?`|
|OrgChart-Manager|`Who is Jill Jones manager now?`|
|OrgChart-Manager|`Who will be Jill Jones manager in a month?`|
|OrgChart-Manager|`Who will be Jill Jones manager on March 3?`|

В каждом из этих примеров используется глагол (`was`, `is`, `will be`), а также дата (`March 3`, `now` и `in a month`), которые служба LUIS должна правильно спрогнозировать. Обратите внимание, что в последних двух примерах в таблице используется практически тот же текст. Отличаются в нем только предлоги (`in` и `on`).

Пример шаблона фразы, в котором можно использовать дополнительные сведения.

|Блокировка с намерением|Примеры высказываний с предварительно созданными сущностями и необязательным текстом|
|:--|:--|
|OrgChart-Manager|`who was {EmployeeListEntity}['s] manager [[on]{datetimeV2}?]`|
|OrgChart-Manager|`who is {EmployeeListEntity}['s] manager [[on]{datetimeV2}?]`|


За счет использования синтаксиса с квадратными скобками (`[]`) этот необязательный текст легко добавить в высказывание шаблона и вложить вплоть до второго уровня (`[[]]`). Кроме того, вы можете добавить сущности или текст.


**Вопрос. Почему все первые буквы `w` каждого высказывания в шаблоне написаны в нижнем регистре? Разве регистр не следует выбирать случайным образом?** Регистр высказывания, отправленного клиентским приложением на конечную точку запроса, преобразовывается в нижний. Высказывание шаблона может иметь верхний или нижний регистр. То же самое относится к высказыванием конечной точки. Сравнение всегда выполняется после преобразования в нижний регистр.

**Вопрос. Почему предварительно созданная числовая часть шаблона высказывания March 3 не прогнозируется как число `3` и дата `March 3`?** В зависимости от контекста высказывание шаблона прогнозирует дату буквально (`March 3`) или абстрагировано (`in a month`). Дата может содержать число, но число не обязательно рассматривается как дата. Всегда используйте сущность, которая лучше всего представляет тип, который вы хотите вернуть в результатах прогнозирования JSON.

**Вопрос. Как насчет плохо сформулированных высказываний, например `Who will {EmployeeListEntity}['s] manager be on March 3?`?** Грамматически разные временные глаголы, например глаголы с разделенными частями `will` и `be`, должны быть добавлены как новое высказывание шаблона. Имеющееся высказывание шаблона не сопоставит эти глаголы. Хотя намерение не изменилось, изменилась расстановка слов в высказывании. Это изменение влияет на прогноз в LUIS. Вы можете [группировать и (или)](#use-the-or-operator-and-groups) глаголы разных времен, чтобы объединять эти фразы.

> [!CAUTION]
> **Помните: сначала находятся сущности, а затем сравнивается шаблон.**

### <a name="add-new-pattern-template-utterances"></a>Добавление новых высказываний шаблона

1. В разделе **Patterns** (Шаблоны) окна **Build** (Создание) добавьте несколько новых высказываний шаблона. В раскрывающемся меню намерений выберите **OrgChart-Manager** и введите каждое из этих высказываний шаблона:

    |Блокировка с намерением|Примеры высказываний с предварительно созданными сущностями и необязательным текстом|
    |--|--|
    |OrgChart-Manager|`who was {EmployeeListEntity}['s] manager [[on]{datetimeV2}?]`|
    |OrgChart-Manager|`who will be {EmployeeListEntity}['s] manager [[in]{datetimeV2}?]`|
    |OrgChart-Manager|`who will be {EmployeeListEntity}['s] manager [[on]{datetimeV2}?]`|

2. Выберите **Обучение** на панели навигации, чтобы обучить приложение.

3. Когда обучение завершится, щелкните **Test** (Тестировать) в верхней части панели, чтобы открыть панель тестирования.

4. Введите несколько тестовых высказываний, чтобы проверить сопоставление шаблона и достаточно ли высока оценка намерения.

    Когда введете первое высказывание, выберите **Inspect** (Проверить), чтобы просмотреть все результаты прогнозирования. Каждый речевой фрагмент должен иметь намерение **OrgChart Manager** и извлекать значения для сущностей `EmployeeListEntity` и `datetimeV2`.

    |Фраза|
    |--|
    |`Who will be Jill Jones manager`|
    |`who will be jill jones's manager`|
    |`Who will be Jill Jones's manager?`|
    |`who will be Jill jones manager on March 3`|
    |`Who will be Jill Jones manager next Month`|
    |`Who will be Jill Jones manager in a month?`|

Для всех этих высказываний найдены сущности, поэтому они соответствуют тому же шаблону и имеют высокую оценку прогнозирования. Вы добавили несколько шаблонов, которые соответствуют нескольким вариациям речевых фрагментов. Вам не обязательно добавлять в намерение примеры речевых фрагментов, чтобы в шаблоне работал шаблон речевого фрагмента.

Использование шаблонов дает следующие преимущества:
* более высокие оценки прогнозирования;
* с тем же количеством примеров речевых фрагментов в намерении;
* за счет всего нескольких хорошо сформированных шаблонов речевых фрагментов.

### <a name="use-the-or-operator-and-groups"></a>Использование оператора OR и групп

Некоторые фразы из предыдущего шаблона очень похожи. Используйте синтаксис **групп**`()` и **OR**`|` для уменьшения числа шаблонов речевых фрагментов.

Следующие два шаблона можно объединить в один с помощью синтаксиса групп (`()`) и синтаксиса OR (`|`).

|Блокировка с намерением|Примеры высказываний с предварительно созданными сущностями и необязательным текстом|
|--|--|
|OrgChart-Manager|`who will be {EmployeeListEntity}['s] manager [[in]{datetimeV2}?]`|
|OrgChart-Manager|`who will be {EmployeeListEntity}['s] manager [[on]{datetimeV2}?]`|

Новый шаблон фразы будет выглядеть следующим образом.

`who ( was | is | will be ) {EmployeeListEntity}['s] manager [([in]|[on]){datetimeV2}?]`.

В нем используется **группа** вокруг необходимого времени глагола и возможный союз `in` и `on` с каналом **OR** между ними.

> [!NOTE]
> Когда используете символ _OR_ `|` (вертикальная черта) в примере шаблона, обязательно вставьте пробел перед этим символом и после него.

1. На странице **Шаблоны** выберите фильтр **OrgChart-Manager**. Сократите список, выполнив поиск `manager`.

1. Сохраните одну версию шаблонной фразы (для внесения изменений на следующем шаге) и удалите другие варианты.

1. Измените шаблонную фразу следующим образом.

    `who ( was | is | will be ) {EmployeeListEntity}['s] manager [([in]|[on]){datetimeV2}?]`

2. Выберите **Обучение** на панели навигации, чтобы обучить приложение.

3. Когда обучение завершится, щелкните **Test** (Тестировать) в верхней части панели, чтобы открыть панель тестирования.

    Используйте панель "Проверить" для проверки версий фразы.

    |Фразы для ввода в панель "Проверить"|
    |--|
    |`Who is Jill Jones manager this month`|
    |`Who is Jill Jones manager on July 5th`|
    |`Who was Jill Jones manager last month`|
    |`Who was Jill Jones manager on July 5th`|
    |`Who will be Jill Jones manager in a month`|
    |`Who will be Jill Jones manager on July 5th`|

Более широко используя синтаксис шаблона, вы сможете сократить количество шаблонов речевых фрагментов, используемых в приложении, сохраняя высокую оценку прогнозирования.

### <a name="use-the-utterance-beginning-and-ending-anchors"></a>Использование привязок в начале и в конце фразы

Синтаксис шаблона поддерживает синтаксис привязок в начале и в конце фразы с помощью символа `^`. Привязки в начале и в конце фразы могут использоваться совместно для определения очень специфических и, возможно, буквальных фраз или отдельно для определения намерений.

## <a name="using-patternany-entity"></a>Использование сущности Pattern.any

[!INCLUDE [Pattern.any entity - concepts](./includes/pattern-any-entity.md)]

### <a name="add-example-utterances-with-patternany"></a>Добавление примеров высказываний с помощью Pattern.any

1. В верхней панели навигации выберите **Сборка**, а затем выберите **Intents** (Намерения) из левой панели навигации.

1. Из списка намерений выберите **FindForm**.

1. Добавьте некоторые примеры речевых фрагментов. Текст, который необходимо спрогнозировать как Pattern.any, имеет **жирный шрифт**. Имя формы сложно определить по другим словам в речевом фрагменте. Pattern.any позволяет помечать границы сущности.

    |Пример фразы|Имя формы|
    |--|--|
    |Где находится форма **What to do when a fire breaks out in the Lab** и кто должен подписать ее после прочтения?|What to do when a fire breaks out in the Lab
    |Где находится **Request relocation from employee new to the company** на сервере?|Request relocation from employee new to the company|
    |Кто создал **Health and wellness requests on the main campus** и какая ее текущая версия?|Health and wellness requests on the main campus|
    |Я ищу форму с именем **Office move request including physical assets**. |Office move request including physical assets|

    Если не используется сущность Pattern.any, LUIS будет трудно понять, где заканчивается название формы. Так происходит из-за множества вариантов имени формы.

### <a name="create-a-patternany-entity"></a>Создание сущности Pattern.any
Сущность Pattern.any извлекает сущности переменной длины. Эта сущность работает только в шаблоне, так как в шаблоне начало и окончание сущности отмечены специальным синтаксисом.

1. Выберите **Сущности** в меню навигации слева.

1. Щелкните **+ Создать**, введите имя `FormName` и выберите тип **Pattern.any**. Нажмите кнопку **создания**.

### <a name="add-a-pattern-that-uses-the-patternany"></a>Добавление шаблона, который использует сущность Pattern.any

1. Выберите **Шаблоны** в меню навигации слева.

1. Выберите намерение **FindForm**.

1. Введите следующие высказывания шаблона, использующие новую сущность.

    |Высказывания шаблона|
    |--|
    |`Where is the form ["]{FormName}["] and who needs to sign it after I read it[?]`|
    |`Where is ["]{FormName}["] on the server[?]`|
    |`Who authored ["]{FormName}["] and what is the most current version[?]`|
    |`I'm looking for the form named ["]{FormName}["][.]`|

1. Обучите приложение.

### <a name="test-the-new-pattern-for-free-form-data-extraction"></a>Проверка извлечения произвольных данных для нового шаблона
1. Выберите **Тестирование** на верхней панели навигации, чтобы открыть панель тестирования.

1. Введите следующую фразу.

    `Where is the form Understand your responsibilities as a member of the community and who needs to sign it after I read it?`

1. Выберите **Просмотр** под результатом для просмотра результатов теста для сущности и намерения.

    Сначала обнаруживается сущность `FormName`, затем шаблон, определяющий намерение. Если в результате вашего теста не удалось обнаружить сущности и, следовательно, определить шаблон, необходимо добавить дополнительные примеры высказываний в намерение (не в шаблон).

1. Закройте панель "Тестирование", нажав кнопку **Тестирование** на верхней панели навигации.

### <a name="using-an-explicit-list"></a>Использование явного списка

Если ваш шаблон, который включает сущность Pattern.any, извлекает сущности неправильно, используйте [явный список](reference-pattern-syntax.md#explicit-lists), чтобы решить эту проблему.

## <a name="what-did-this-tutorial-accomplish"></a>Какие результаты достигнуты в этом учебнике?

В этом учебнике мы добавили шаблоны, которые помогают LUIS прогнозировать намерение с гораздо более высокой оценкой без увеличения количества примеров речевых фрагментов. Маркировка сущностей и текст, который нужно игнорировать, позволяют LUIS применять шаблон к более широкому кругу высказываний.

## <a name="clean-up-resources"></a>Очистка ресурсов

[!INCLUDE [LUIS How to clean up resources](../../../includes/cognitive-services-luis-tutorial-how-to-clean-up-resources.md)]

## <a name="next-steps"></a>Дальнейшие действия


> [!div class="nextstepaction"]
> [Tutorial: Improve app with pattern roles](luis-tutorial-pattern.md) (Руководство. Улучшение приложения с помощью ролей шаблонов)
