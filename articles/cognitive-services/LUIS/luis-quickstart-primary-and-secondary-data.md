---
title: Простая сущность и список фраз
titleSuffix: Azure Cognitive Services
description: В этом руководстве описано, как извлечь данные машинного обучения о названии должности из высказывания с помощью простой сущности. Чтобы повысить точность извлечения, добавьте список фраз, состоящий из терминов, относящихся к простой сущности.
services: cognitive-services
author: diberry
manager: nitinme
ms.custom: seodec18
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: tutorial
ms.date: 07/16/2019
ms.author: diberry
ms.openlocfilehash: a03a1224451411617f38c8cecafbef008aa08916
ms.sourcegitcommit: 9a699d7408023d3736961745c753ca3cec708f23
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/16/2019
ms.locfileid: "68276207"
---
# <a name="tutorial-extract-names-with-simple-entity-and-a-phrase-list"></a>Руководство по Извлечение имен с использованием простой сущности и списка фраз

В этом руководстве описано извлечение данных машинного обучения о названии должности из высказывания с помощью **простой** сущности. Чтобы повысить точность извлечения, добавьте список фраз, состоящий из терминов, относящихся к простой сущности.

Простая сущность обнаруживает единую концепцию данных, содержащуюся в слове или фразе.

**В этом руководстве рассмотрено, как выполнять следующие задачи.**

<!-- green checkmark -->
> [!div class="checklist"]
> * Импорт примера приложения
> * Добавление простой сущности 
> * Добавление списка фраз для усиления сигнальных слов
> * Обучение 
> * Публикация 
> * Получать намерения и сущности из конечной точки.

[!INCLUDE [LUIS Free account](../../../includes/cognitive-services-luis-free-key-short.md)]


## <a name="simple-entity"></a>Простая сущность

В этом руководстве добавляется новая сущность для извлечения названия должности. Назначение простой сущности в этом приложении LUIS — научить LUIS тому, что такое имя должности и где его можно найти во фразе. Часть фразы, означающая название должности, может изменяться в разных высказываниях в зависимости от подобранных слов и длины высказывания. LUIS нуждается в примерах названий должностей во всех намерениях, которые их используют.  

Простая сущность — удачный выбор для этого типа данных, если:

* данные составляют единую концепцию;
* данные имеют неверный формат, например регулярное выражение;
* данные необычные, например предварительно созданная сущность телефонного номера или данных;
* данные не соответствуют точному списку известных слов, например сущность списка;
* данные не содержат другие элементы данных, например составную сущность или контекстно-зависимые роли.

Рассмотрите следующие высказывания чат-бота.

|Фраза|Извлекаемое имя должности|
|:--|:--|
|Я хочу подать заявку на новую задачу учета.|учет|
|Отправить резюме на должность инженера.|инженеры|
|Заполните заявку для задания 123456|123456|

Название должности сложно определить, так как оно может быть существительным, глаголом или фразой из нескольких слов. Например:

|Задания|
|--|
|инженер|
|разработчик программного обеспечения|
|старший разработчик программного обеспечения|
|руководитель команды разработки |
|диспетчер службы движения|
|водитель автомобиля|
|водитель санитарного автомобиля|
|сиделка|
|мастер по работе с пресс-экструдером|
|монтажник|

У этого приложения LUIS есть названия должностей в нескольких намерениях. Пометив эти слова во всех высказываниях с намерениями, LUIS узнает больше о том, что такое должность и где она находится в высказываниях.

После того как объекты помечены в примерах высказываний, необходимо добавить список фраз для увеличения сигнала простой сущности. Список фраз **не** используется в качестве точного совпадения и не обязательно содержит все возможные ожидаемые значения. 

## <a name="import-example-app"></a>Импорт примера приложения

1.  Загрузите и сохраните [JSON-файл приложения](https://github.com/Azure-Samples/cognitive-services-language-understanding/blob/master/documentation-samples/tutorials/build-app/intentonly.json) из руководства намерений.

2. Импортируйте JSON-файл в новое приложение.

3. Из раздела **Управление** на вкладке **Версии** скопируйте версию и назовите ее `simple`. Клонирование — это отличный способ поэкспериментировать с различными функциями LUIS без влияния на исходную версию. Так как имя версии используется в маршруте URL-адреса, оно не может содержать символы, которые недопустимы в URL-адресе.

## <a name="mark-entities-in-example-utterances-of-an-intent"></a>Маркировка сущностей в примерах высказываний намерения

1. [!INCLUDE [Start in Build section](../../../includes/cognitive-services-luis-tutorial-build-section.md)]

1. На странице **намерений** выберите намерение **ApplyForJob**. 

1. В выражении `I want to apply for the new accounting job` выберите `accounting`, введите `Job` в поле сверху всплывающего меню, а затем во всплывающем меню выберите **Create new entity** (Создать сущность). 

    [![Снимок экрана LUIS с намерением ApplyForJob и выделенными шагами создания сущности](media/luis-quickstart-primary-and-secondary-data/hr-create-entity.png "Screenshot of LUIS with 'ApplyForJob' intent with create entity steps highlighted")](media/luis-quickstart-primary-and-secondary-data/hr-create-entity.png#lightbox)

1. Во всплывающем окне проверьте имя и тип сущности, а затем выберите **Готово**.

    ![Создание модального диалога простой сущности с названием должности и простым типом](media/luis-quickstart-primary-and-secondary-data/hr-create-simple-entity-popup.png)

1. В оставшихся высказываниях пометьте слова, связанные с заданием, с помощью сущности **Должность**, выбрав слово или фразу, а затем выбрав **Должность** в контекстном меню. 

    [![Снимок экрана LUIS с выделенной сущностью должности, используемой для добавления метки](media/luis-quickstart-primary-and-secondary-data/hr-label-simple-entity.png "Screenshot of LUIS labeling job entity highlighted")](media/luis-quickstart-primary-and-secondary-data/hr-label-simple-entity.png#lightbox)


## <a name="add-more-example-utterances-and-mark-entity"></a>Добавление дополнительных примеров высказываний и метки сущности

Простые сущности нуждаются во многих примерах, чтобы иметь высокую достоверность прогнозирования. 
 
1. Добавьте больше фраз и отметьте слова или фразы, связанные с должностями, в качестве сущности **Должность**. 

    |Фраза|Сущность должности|
    |:--|:--|
    |Я подаю заявку на получение должности руководителя программ в отделе исследовательской работы|руководитель программ|
    |Вот мое резюме на повара линии раздачи.|повар линии раздачи|
    |Мое резюме на воспитателя детского лагеря прилагается.|воспитатель детского лагеря|
    |Это моя краткая биография для получения должности помощника по административной работе.|помощник по административной работе|
    |Я хочу подать заявку на получение управленческой должности в сфере продаж.|управление, продажи|
    |Это резюме для новой должности в сфере учета.|учет|
    |Моя заявка для помощника бармена включена.|помощник бармена|
    |Я отправляю резюме на кровельщика и плотника.|кровельщик, плотник|
    |Мою краткую биографию для получения должности водителя автобуса можно найти здесь.|водитель автобуса|
    |Я дипломированная медсестра. Вот мое резюме.|дипломированная медсестра|
    |Я хотел бы представить документы на должность учителя из газеты.|учитель|
    |Это моя краткая биография на получение должности специалиста, обслуживающего полки с фруктами и овощами в магазине.|специалист, обслуживающий полки|
    |Резюме для укладчика плитки.|Плитка|
    |Вложенные резюме для ландшафтного архитектора.|ландшафтный архитектор|
    |Моя краткая биография для получения должности профессора биологии прилагается.|профессор биологии|
    |Я хотел бы подать заявку на должность фотографа.|фотограф|

## <a name="mark-job-entity-in-other-intents"></a>Маркировка сущности должности в других намерениях

1. Выберите **намерения** в меню слева.

1. Выберите **GetJobInformation** из списка намерений. 

1. Метка должности в примере высказываний

    Если в одном намерении больше примеров высказываний, чем в другом, то это намерение имеет более высокую вероятность того, что оно является самым предсказуемым в тексте. 

## <a name="train-the-app-so-the-changes-to-the-intent-can-be-tested"></a>Обучение приложения для проверки изменений намерения 

[!INCLUDE [LUIS How to Train steps](../../../includes/cognitive-services-luis-tutorial-how-to-train.md)]

## <a name="publish-the-app-so-the-trained-model-is-queryable-from-the-endpoint"></a>Публикация приложения, чтобы в обученную модель можно было отправлять запросы из конечной точки

[!INCLUDE [LUIS How to Publish steps](../../../includes/cognitive-services-luis-tutorial-how-to-publish.md)]

## <a name="get-intent-and-entity-prediction-from-endpoint"></a>Получение намерения и прогнозирование сущности из конечной точки 

1. [!INCLUDE [LUIS How to get endpoint first step](../../../includes/cognitive-services-luis-tutorial-how-to-get-endpoint.md)]

2. Перейдите в конец URL-адреса и введите `Here is my c.v. for the engineering job`. Последний параметр строки запроса — `q`. Это **запрос** фразы. Эта фраза не совпадает ни с какими помеченными фразами, поэтому она является хорошим тестом. В результате должны быть возвращены фразы `ApplyForJob`.

    ```json
    {
      "query": "Here is my c.v. for the engineering job",
      "topScoringIntent": {
        "intent": "ApplyForJob",
        "score": 0.98052007
      },
      "intents": [
        {
          "intent": "ApplyForJob",
          "score": 0.98052007
        },
        {
          "intent": "GetJobInformation",
          "score": 0.03424581
        },
        {
          "intent": "None",
          "score": 0.0015820954
        }
      ],
      "entities": [
        {
          "entity": "engineering",
          "type": "Job",
          "startIndex": 24,
          "endIndex": 34,
          "score": 0.668959737
        }
      ]
    }
    ```
    
    LUIS находит правильное намерение (**ApplyForJob**) и извлекает правильную сущность (**Job**) со значением `engineering`.


## <a name="names-are-tricky"></a>Сложности с извлечением названия
Приложению LUIS удалось найти правильное намерение с высокой достоверностью и извлечь название должности, хоть это и непросто. Попробуйте выражение `This is the lead welder paperwork`.  

В следующем коде JSON приложение LUIS отвечает правильным намерением, `ApplyForJob`, но не извлекает название должности `lead welder`. 

```json
{
  "query": "This is the lead welder paperwork",
  "topScoringIntent": {
    "intent": "ApplyForJob",
    "score": 0.860295951
  },
  "intents": [
    {
      "intent": "ApplyForJob",
      "score": 0.860295951
    },
    {
      "intent": "GetJobInformation",
      "score": 0.07265678
    },
    {
      "intent": "None",
      "score": 0.00482481951
    }
  ],
  "entities": []
}
```

Так как имя может быть любым, LUIS спрогнозирует сущности точнее, если у него есть список фраз, усиливающих сигнал.

## <a name="to-boost-signal-of-the-job-related-words-add-a-phrase-list-of-job-related-words"></a>Добавление списка фраз со словами, связанными с должностями для усиления сигнала слов, связанных с должностями

Откройте [jobs-phrase-list.csv](https://github.com/Azure-Samples/cognitive-services-language-understanding/blob/master/documentation-samples/quickstarts/job-phrase-list.csv) из репозитория GitHub примеров Azure. Список содержит более 1000 слов и фраз, связанных с должностями. Ознакомьтесь со списком важных слов, связанных с должностями. Если слов или фраз нет в списке, добавьте собственные.

1. В разделе **Build** (Сборка) приложения LUIS и в меню **Improve app performance** (Повышение производительности приложения) выберите **Phrase lists** (Списки фраз).

1. Выберите **Create new phrase list** (Создать список фраз). 

1. Присвойте списку фраз имя `JobNames` и скопируйте список из файла jobs-phrase-list.csv в текстовое поле **Значения**.

    [![Снимок экрана, на котором показано всплывающее диалоговое окно для создания списка фраз](media/luis-quickstart-primary-and-secondary-data/hr-create-phrase-list-1.png "Screenshot of create new phrase list dialog pop-up")](media/luis-quickstart-primary-and-secondary-data/hr-create-phrase-list-1.png#lightbox)

    Если вы хотите добавить в список фраз другие слова, выберите **Recommend** (Рекомендации), просмотрите новые варианты в разделе **Related Values** (Связанные значения) и добавьте те, что вам необходимы. 

    Не снимайте флажок **These values are interchangeable** (Эти значения взаимозаменяемы), так как эти значения должны рассматриваться как синонимы для заданий. Подробнее о [концепциях взаимозаменяемых и невзаимозаменяемых списков фраз](luis-concept-feature.md#how-to-use-phrase-lists).

1. Щелкните **Готово**, чтобы активировать список фраз.

    [![Снимок экрана, на котором показано всплывающее диалоговое окно для создания списка фраз со словами в области значений списка фраз](media/luis-quickstart-primary-and-secondary-data/hr-create-phrase-list-2.png "Screenshot of create new phrase list dialog pop-up with words in phrase list values box")](media/luis-quickstart-primary-and-secondary-data/hr-create-phrase-list-2.png#lightbox)

1. Обучите и опубликуйте приложение еще раз, чтобы использовать список фраз.

1. Сделайте повторный запрос к конечной точке с той же фразой: `This is the lead welder paperwork.`

    Ответ JSON содержит извлеченные сущности:

    ```json
      {
      "query": "This is the lead welder paperwork.",
      "topScoringIntent": {
        "intent": "ApplyForJob",
        "score": 0.983076453
      },
      "intents": [
        {
          "intent": "ApplyForJob",
          "score": 0.983076453
        },
        {
          "intent": "GetJobInformation",
          "score": 0.0120766377
        },
        {
          "intent": "None",
          "score": 0.00248388131
        }
      ],
      "entities": [
        {
          "entity": "lead welder",
          "type": "Job",
          "startIndex": 12,
          "endIndex": 22,
          "score": 0.8373154
        }
      ]
    }
    ```

## <a name="clean-up-resources"></a>Очистка ресурсов

[!INCLUDE [LUIS How to clean up resources](../../../includes/cognitive-services-luis-tutorial-how-to-clean-up-resources.md)]

## <a name="related-information"></a>Связанные сведения

* [Руководство 1. Создание пользовательского приложения для определения намерений пользователя](luis-quickstart-intents-only.md)
* [Типы сущностей и их задачи в LUIS](luis-concept-entity-types.md) — основные сведения
* [Признаки списков фраз в приложении LUIS](luis-concept-feature.md) — основные сведения
* [Обучение активной версии приложения LUIS](luis-how-to-train.md)
* [Как опубликовать предложение](luis-how-to-publish-app.md)
* [Тестирование приложения LUIS на портале LUIS](luis-interactive-test.md)


## <a name="next-steps"></a>Дополнительная информация

В этом руководстве приложение "Управление персоналом" использует простую сущность машинного обучения для поиска названий должностей в высказываниях. Поскольку названия должностей могут обозначаться различными словами или фразами, для их усовершенствования приложению необходим список фраз. 

> [!div class="nextstepaction"]
> [Добавление готовой сущности keyPhrase](luis-quickstart-intent-and-key-phrase.md)
