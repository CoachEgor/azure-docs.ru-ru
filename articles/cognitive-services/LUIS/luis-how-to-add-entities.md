---
title: Добавление сущностей — LUIS
titleSuffix: Azure Cognitive Services
description: Создание сущностей для извлечения данных ключей из фразы продолжительностью пользователей в приложениях Language Understanding (LUIS). Извлеченные данные сущности используются клиентским приложением для фуллфил запросов клиентов.
services: cognitive-services
author: diberry
manager: nitinme
ms.custom: seodec18
ms.service: cognitive-services
ms.subservice: language-understanding
ms.topic: conceptual
ms.date: 11/15/2019
ms.author: diberry
ms.openlocfilehash: 1f2b293acdc77e25e6b932c47d466cc28a04a2b6
ms.sourcegitcommit: f523c8a8557ade6c4db6be12d7a01e535ff32f32
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/22/2019
ms.locfileid: "74383684"
---
# <a name="add-entities-to-extract-data"></a>Добавление сущностей для извлечения данных 

Создание сущностей для извлечения данных ключей из фразы продолжительностью пользователей в приложениях Language Understanding (LUIS). Извлеченные данные сущности используются клиентским приложением для фуллфил запросов клиентов.

Сущность представляет подлежащее извлечению слово или фразу в высказывании. Сущности описывают информацию, относящуюся к намерению, и иногда они необходимы приложению для выполнения поставленной задачи. Вы можете создавать сущности, когда вы добавляете пример utterance в намерение или помимо него (до или после), добавляя пример utterance к намерению.

[!INCLUDE [Uses preview portal](includes/uses-portal-preview.md)]

## <a name="plan-entities-then-create-and-label"></a>Планирование сущностей, создание и добавление меток

Сущности, полученные от компьютера, можно создать на основе примера фразы продолжительностью или создать на странице **сущности** . 

Как правило, рекомендуется потратить время на планирование сущностей перед созданием на портале сущности, предназначенной для компьютера. Затем создайте сущность, занятую компьютером, из примера utterance с использованием как можно больше подробностей в подкомпонентах и дескрипторах и ограничениях, как известное время. В [учебнике по сущностям делимыми](tutorial-machine-learned-entity.md) показано, как использовать этот метод. 

В рамках планирования сущностей может быть известно, что вам потребуются сущности, совпадающие с текстом (например, предварительно созданные сущности, сущности регулярных выражений или список сущностей). Их можно создать на странице **сущности** , прежде чем они помечаются в примере фразы продолжительностью. 

При создании меток можно либо пометить отдельные сущности, либо создать сборку до родительской сущности, занятой компьютером. Или можно начать с сущности, наученной в родительском компьютере, и разбить ее на дочерние сущности. 

> [!TIP] 
>Пометка всех слов, которые могут указывать на сущность, даже если эти слова не используются при извлечении в клиентском приложении. 

## <a name="creating-an-entity-before-or-with-labeling"></a>Создание сущности до или с меткой

Используйте следующую таблицу, чтобы понять, в каких сущностях нужно создать или добавить каждую сущность в приложение. 

|Тип сущности|Где создать сущность на портале LUIS|
|--|--|
|Сущность, прошедшая машинное обучение|Сущности или сведения о намерениях|
|Сущности списка|Сущности или сведения о намерениях|
|Сущность регулярного выражения|Сущности|
|Сущность Pattern.any|Сущности|
|Предварительно созданная сущность|Сущности|
|Предварительно созданная сущность домена|Сущности|

Можно создать все сущности на странице **сущности** или создать пару сущностей в качестве метки для сущности в примере utterance на странице **сведений о намерениях** . Вы можете _пометить_ сущность в примере utterance на странице **сведений о намерениях** . 

## <a name="create-a-machine-learned-entity"></a>Создание сущности, занятой компьютером

[!INCLUDE [Create and label entities in machine-learned tutorial](includes/decomposable-tutorial-links.md)]

## <a name="create-a-text-matching-entity"></a>Создание сущности, совпадающей с текстом

Использование сущностей с совпадающими текстом предоставляет несколько способов извлечения данных:

|Сущности, совпадающие с текстом|Назначение|
|--|--|
|[Сущность списка](#add-list-entities-for-exact-matches)|Список канонических имен вместе с синонимами в качестве альтернативных форм|
|Сущность регулярного выражения|Сопоставление текста с помощью сущности регулярного выражения|
|[Предварительно созданная сущность](tutorial-machine-learned-entity.md#add-prebuilt-number-to-help-extract-data)|Сопоставление общих типов данных, таких как число, электронная почта, Дата|
|Предварительно созданная сущность домена|сопоставление с использованием выбранных доменов субъектов|
|[Pattern.Any](#add-a-patternany-entity)| для сопоставления сущностей, которые могут быть легко путают с окружающим текстом|  

Предварительно созданные сущности работают без предоставления пользовательских обучающих данных. Другие сущности требуют предоставления данных для обучения клиентам (например, элементов списка) или выражения (например, регулярного выражения или шаблона).

<a name="add-list-entities"></a>

### <a name="how-to-create-a-new-custom-entity"></a>Создание новой настраиваемой сущности

1. На портале LUIS перейдите в раздел **Управление** , а затем на страницу **сущности** . 
1. Выберите **+ создать**, а затем выберите тип сущности. 
1. Продолжайте настройку сущности, а затем выберите **создать** по завершении. 

### <a name="add-list-entities-for-exact-matches"></a>Добавление сущностей списка для точных совпадений

Сущности списка — это фиксированный закрытый набор связанных машинных слов. В то время как автор может изменить список, LUIS не будет увеличивать или уменьшать список. Также можно импортировать в существующую сущность списка с помощью [List Entity. JSON Format (ссылка-Entity-List. md # example-JSON-to-Import-in-List-Entity). 

В следующем списке показано каноническое имя и синонимы. 

|Имя элемента списка цветов|Цвета-синонимы|
|--|--|
|Красный|Crimson, кровь, Apple, пожар-Engine|
|Синий|Небесно, Azure, кобалт|
|Зеленый|Келли, травяной|

Используйте процедуру, чтобы создать сущность списка. После создания сущности List не нужно помечать пример фразы продолжительностью с намерением. Элементы списка и синонимы сопоставляются с использованием точного текста. 

1. В разделе **Сборка** выберите **сущности** на левой панели, а затем щелкните **+ создать**.

1. В диалоговом окне **Создание типа сущности** введите имя сущности, например `Colors` и **Список**выбора.
1. В диалоговом окне **Создание сущности списка** в поле **Добавить новый подсписок.** ... Введите имя элемента списка, например `Green`, а затем добавьте синонимы.

    > [!div class="mx-imgBorder"]
    > ![создать список цветов как сущность списка на странице сведений о сущности.](media/how-to-add-entities/create-list-entity-of-colors.png) 

1. По завершении добавления элементов списка и синонимов выберите **создать**.

    Завершив работу с группой изменений в приложении, не забудьте **обучить** приложение. Не обучить приложение после одного изменения. 

    > [!NOTE]
    > Эта процедура демонстрирует создание и маркировку сущности List из примера utterance на странице **сведений о намерениях** . Одну и ту же сущность можно также создать на странице **сущности** .

## <a name="add-a-role-for-an-entity"></a>Добавление роли для сущности

Роль — это именованный подтип сущности на основе контекста. 

### <a name="add-a-role-to-distinguish-different-contexts"></a>Добавление роли для различения разных контекстов

В следующем utterance есть два расположения, каждый из которых семантически определяется словами, такими как `to` и `from`: 

`Pick up the package from Seattle and deliver to New York City.`

В этой процедуре добавьте роли `origin` и `destination` в предварительно созданную сущность geographyV2.

1. В разделе **Сборка** на левой панели выберите **Сущности**.

1. Выберите **+ добавить предварительно созданную сущность**. Выберите **geographyV2** , а затем нажмите кнопку **Готово**. При этом в приложение добавляется предварительно созданная сущность.
    
    Если ваш шаблон, который включает сущность Pattern.any, извлекает сущности неправильно, используйте [явный список](reference-pattern-syntax.md#explicit-lists), чтобы решить эту проблему. 

1. Выберите только что добавленную предварительно созданную сущность geographyV2 из списка **сущностей** сущностей. 
1. Чтобы добавить новую роль, выберите **+** рядом с ним **не добавлены роли**.
1. В текстовом поле **Type Role...** введите имя роли, `Origin` затем введите. Добавьте второе имя роли `Destination` затем введите. 

    > [!div class="mx-imgBorder"]
    > ![снимок экрана: Добавление исходной роли в сущность расположения](media/how-to-add-entities//add-role-to-prebuilt-geographyv2-entity.png)

    Роль добавляется в предварительно созданную сущность, но не добавляется в фразы продолжительностью с помощью этой сущности. 

### <a name="label-text-with-a-role-in-an-example-utterance"></a>Добавление метки к тексту с ролью в примере utterance

1. Перейдите на страницу сведений о намерениях, в которой приведен пример фразы продолжительностью, который использует эту роль. 
1. Чтобы добавить метку к роли, выберите метку сущности (сплошная линия под текстом) в примере utterance, а затем в раскрывающемся списке выберите **представление в палитре сущностей** . 

    > [!div class="mx-imgBorder"]
    > ![снимок экрана: Выбор представления в палитре сущностей](media/how-to-add-entities/select-text-label-with-entity-palette-for-role.png)   

    Справа откроется палитра сущностей. 

1. Выберите сущность, затем перейдите в нижнюю часть палитры и выберите роль. 

    > [!div class="mx-imgBorder"]
    > ![снимок экрана: Выбор представления в палитре сущностей](media/how-to-add-entities/select-role-from-entity-palette-entity-inspector.png)

<a name="add-pattern-any-entities"></a>

## <a name="add-a-patternany-entity"></a>Добавление шаблона. любая сущность

[Pattern. любые](luis-concept-entity-types.md) сущности действительны только в [шаблонах](luis-how-to-model-intent-pattern.md), а не на примере фразы продолжительностью. Этот вид сущности помогает службе LUIS найти конец сущностей различной длины и выбора машинного слова. Так как эта сущность используется в шаблоне, служба LUIS знает, где конец сущности в шаблоне высказывания.

### <a name="steps-to-create-a-patternany-entity"></a>Действия по созданию шаблона. любая сущность

1. В разделе **Сборка** выберите **сущности** на левой панели, а затем щелкните **+ создать**.

1. В диалоговом окне **Выбор типа сущности** введите имя сущности в поле **имя** и выберите **шаблон. Any** в качестве **типа** , а затем выберите **создать**.

    После [создания шаблона, utterance](luis-how-to-model-intent-pattern.md) с помощью этой сущности, сущность извлекается с использованием комбинированного алгоритма сопоставления и текста. 

### <a name="create-a-pattern-template-utterance-to-use-patternany-entity"></a>Создайте шаблон шаблона utterance для использования шаблона. любая сущность

Чтобы использовать сущность pattern.any, добавьте шаблон на странице **Шаблоны** в разделе **Повышение производительности приложения** с помощью правильных фигурных скобок, например `Where is **{HumanResourcesFormTitle}** on the server?`.

Если ваш шаблон, который включает сущность Pattern.any, извлекает сущности неправильно, используйте [явный список](reference-pattern-syntax.md#explicit-lists), чтобы решить эту проблему. 

## <a name="do-not-change-entity-type"></a>Не изменяйте тип сущности

Интеллектуальная служба распознавания речи не позволяет изменить тип сущности, поскольку неизвестно, что добавлять или удалять для создания этой сущности. Чтобы изменить тип, лучше создать новую сущность правильного типа с незначительно отличающимся именем. После создания сущности в каждом высказывании удалите старое отмеченное имя сущности и добавьте новое. После того как все высказывания будут повторно отмечены, удалите старую сущность. 

<a name="create-a-pattern-from-an-utterance"></a>

## <a name="next-steps"></a>Дополнительная информация

> [!div class="nextstepaction"] 
> [Использование предварительно созданных моделей](howto-add-prebuilt-models.md) 

См. также:
* [Обучение](luis-how-to-train.md)
* [Тестирование](luis-interactive-test.md)
* Как [опубликовать](luis-how-to-publish-app.md)
* Закономерно
    * [Основные понятия](luis-concept-patterns.md)
    * [Синтаксис](reference-pattern-syntax.md)
* [Репозиторий GitHub с предварительно созданными сущностями](https://github.com/Microsoft/Recognizers-Text)
* [Основные понятия извлечения данных](luis-concept-data-extraction.md)


 
