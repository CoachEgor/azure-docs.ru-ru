---
title: –ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–≤–µ–¥–µ–Ω–∏–π –æ–± –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Å –ø–æ–º–æ—â—å—é REST API –∏ Python¬†‚Äî –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ Bing
titleSuffix: Azure Cognitive Services
description: –£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é API –í–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ Bing –∏ Python, –∞ –∑–∞—Ç–µ–º –ø–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± —ç—Ç–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏.
services: cognitive-services
author: swhite-msft
manager: nitinme
ms.service: cognitive-services
ms.subservice: bing-visual-search
ms.topic: quickstart
ms.date: 05/22/2020
ms.author: scottwhi
ms.custom: devx-track-python
ms.openlocfilehash: ef265ab0cff9514695b40995e842518803e2e4c0
ms.sourcegitcommit: 32c521a2ef396d121e71ba682e098092ac673b30
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2020
ms.locfileid: "91324592"
---
# <a name="quickstart-get-image-insights-using-the-bing-visual-search-rest-api-and-python"></a>–ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–≤–µ–¥–µ–Ω–∏–π –æ–± –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Å –ø–æ–º–æ—â—å—é REST API –∏ Python –í–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ Bing

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ –∫—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—ã–∑–æ–≤ –∫ API –í–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ Bing. –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Python –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ API –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –Ω–µ–º. –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ –Ω–∞ —è–∑—ã–∫–µ Python. –ù–æ API –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤–µ–±-—Å–ª—É–∂–±—É –Ω–∞ –æ—Å–Ω–æ–≤–µ REST, —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

## <a name="prerequisites"></a>–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

* [Python¬†3.x](https://www.python.org/)

[!INCLUDE [cognitive-services-bing-visual-search-signup-requirements](../../../../includes/cognitive-services-bing-visual-search-signup-requirements.md)]

## <a name="initialize-the-application"></a>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª Python –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é `import`:

    ```python
    import requests, json
    ```

2. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–ª—é—á–∞ –ø–æ–¥–ø–∏—Å–∫–∏, –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ –∏ –ø—É—Ç—å –∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é. –î–ª—è –∑–Ω–∞—á–µ–Ω–∏—è `BASE_URI` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–æ–¥–µ –∏–ª–∏ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É [–ª–∏—á–Ω–æ–≥–æ –ø–æ–¥–¥–æ–º–µ–Ω–∞](../../../cognitive-services/cognitive-services-custom-subdomains.md), –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—É—é –Ω–∞ –ø–æ—Ä—Ç–∞–ª–µ Azure –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–µ—Å—É—Ä—Å–∞.

    ```python

    BASE_URI = 'https://api.cognitive.microsoft.com/bing/v7.0/images/visualsearch'
    SUBSCRIPTION_KEY = 'your-subscription-key'
    imagePath = 'your-image-path'
    ```
    
3. –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Disposition`. –ó–∞–¥–∞–π—Ç–µ –¥–ª—è –µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `name` –∑–Ω–∞—á–µ–Ω–∏–µ "image", –∞ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `filename`¬†‚Äî –∏–º—è —Ñ–∞–π–ª–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º. –§–æ—Ä–º–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ä–∞–∑–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è¬†‚Äî 1¬†–ú–ë.
    
    ```
    --boundary_1234-abcd
    Content-Disposition: form-data; name="image"; filename="myimagefile.jpg"
    
    √ø√ò√ø√† JFIF √ñ√Ü68g-¬§CW≈∏√æ29√å√Ñ√∏√ñ‚Äò¬∫¬´‚Ñ¢√¶¬±√®uZi√Ä)"√≥√ì√ü¬∞√é=¬†√òJ9√°+*G¬¶...
    
    --boundary_1234-abcd--
    ```

4. –°–æ–∑–¥–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç —Å–ª–æ–≤–∞—Ä—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞. –ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫–ª—é—á –ø–æ–¥–ø–∏—Å–∫–∏ –∫ —Å—Ç—Ä–æ–∫–µ `Ocp-Apim-Subscription-Key`.

    ```python
    HEADERS = {'Ocp-Apim-Subscription-Key': SUBSCRIPTION_KEY}
    ```

5. –°–æ–∑–¥–∞–π—Ç–µ –µ—â–µ –æ–¥–∏–Ω —Å–ª–æ–≤–∞—Ä—å, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞.

    ```python
    file = {'image' : ('myfile', open(imagePath, 'rb'))}
    ```

## <a name="parse-the-json-response"></a>–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ—Ç–≤–µ—Ç JSON.

–°–æ–∑–¥–∞–π—Ç–µ –º–µ—Ç–æ–¥ `print_json()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ API –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–¥ JSON.

```python
def print_json(obj):
    """Print the object as json"""
    print(json.dumps(obj, sort_keys=True, indent=2, separators=(',', ': ')))
```

## <a name="send-the-request"></a>–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `requests.post()` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤ –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ Bing. –í–∫–ª—é—á–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –¥–ª—è –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏, –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ —Å–≤–µ–¥–µ–Ω–∏–π –æ —Ñ–∞–π–ª–µ. –í—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω `response.json()` —Å –ø–æ–º–æ—â—å—é `print_json()`.

```python
try:
    response = requests.post(BASE_URI, headers=HEADERS, files=file)
    response.raise_for_status()
    print_json(response.json())
    
except Exception as ex:
    raise ex
```

## <a name="next-steps"></a>–î–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

> [!div class="nextstepaction"]
> [Create a Visual Search single-page web app](../tutorial-bing-visual-search-single-page-app.md) (–°–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –í–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞)
