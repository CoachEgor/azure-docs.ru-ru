---
title: Руководящие принципы формата импортного документа - NA Maker
description: Понять, как типы URL-адресов используются для импорта и создания наборов nA.
ms.topic: reference
ms.date: 01/02/2020
ms.openlocfilehash: 6a954f2fd607b70c6db256ab6dcc1dbcd7a5a473
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77651842"
---
# <a name="format-guidelines-for-imported-documents-and-urls"></a>Руководство по форматированию импортируемых документов и URL-адресов

Просмотрите эти рекомендации по форматированию, чтобы получить наилучшие результаты для вашего контента.

## <a name="formatting-considerations"></a>Рекомендации по форматированию

После импорта файла или URL-адреса, создатель NA преобразует и хранит ваш контент в [формате разметки.](https://en.wikipedia.org/wiki/Markdown) Процесс преобразования добавляет в текст новые `\n\n`строки, такие как . Знание формата разметки поможет вам понять преобразованный контент и управлять содержанием базы знаний.

Если вы добавляете или отсваивайте содержимое непосредственно в вашей базе знаний, используйте **форматирование разметки** для создания богатого текстового контента или изменяйте содержание формата разметки, которое уже находится в ответе. Создатель nA поддерживает большую часть формата разметки, чтобы принести богатые текстовые возможности для вашего контента. Однако клиентское приложение, например чат-бот, может не поддерживать тот же набор форматов разметки. Важно проверить отображение ответов клиентского приложения.

## <a name="basic-document-formatting"></a>Форматирование базового документа

NA Maker определяет разделы и подразделы и отношения в файле на основе визуальных подсказок, таких как:

* размер шрифта
* стиль шрифта
* Нумерации
* цвета

|Примеры документов|
|--|
||



## <a name="product-manuals"></a>Руководства по продукции

Руководством обычно называются справочные материалы, входящие в комплект поставки продукта. Они помогают пользователям устанавливать, использовать, обслуживать продукт и устранять возможные неполадки. Когда QnA Maker обрабатывает руководство, он извлекает заголовки и подзаголовки в качестве вопросов, а последующее содержимое — в качестве ответов. Пример вы можете найти [здесь](https://download.microsoft.com/download/2/9/B/29B20383-302C-4517-A006-B0186F04BE28/surface-pro-4-user-guide-EN.pdf).

Ниже приведен пример руководства со страницей индексов и иерархическим содержимым

 ![Пример руководства по продукту для базы знаний](./media/qnamaker-concepts-datasources/product-manual.png)

> [!NOTE]
> Извлечение лучше всего работает с руководствами с отдельным содержанием и (или) страницей индексов и хорошей иерархической структурой заголовков.

## <a name="brochures-guidelines-papers-and-other-files"></a>Брошюры, рекомендации, документы и другие файлы

Многие другие типы документов также могут быть обработаны для создания пар вопросов и ответов при условии, что они имеют четкую структуру и макет. К ним относятся: брошюры, руководящие принципы, доклады, информационные документы, научные статьи, политика, книги и т.д. Смотрите пример [здесь](https://qnamakerstore.blob.core.windows.net/qnamakerdata/docs/Manage%20Azure%20Blob%20Storage.docx).

Ниже приведен пример слабоструктурированного документа без индекса:

 ![Слабоструктурированный документ хранилища BLOB-объектов](./media/qnamaker-concepts-datasources/semi-structured-doc.png)

## <a name="structured-qna-document"></a>Документ структурированных вопросов и ответов

Формат структурированных "вопросов — ответов" в DOC-файлах представлен в чередующемся формате — по одному вопросу в строке, за которым следует ответ в следующей строке, как показано ниже.

```text
Question1

Answer1

Question2

Answer2
```

Ниже приведен пример структурированного документа Word вопросов и ответов.

 ![Пример документа структурированных вопросов и ответов для базы знаний](./media/qnamaker-concepts-datasources/structured-qna-doc.png)

## <a name="structured-txt-tsv-and-xls-files"></a>Структурированные *TXT*, *TSV* и *XLS* файлы

Вопросы и ответы в форме структурированных файлов в формате *TXT*, *TSV* или *XLS* также могут быть загружены в QnA Maker для создания или расширения базы знаний.  Они могут быть либо обычным текстом, либо иметь содержимое в формате RTF или HTML.

| Вопрос  | Ответ  | Метаданные (1 ключ: 1 значение) |
|-----------|---------|-------------------------|
| Question1 | Answer1 | <code>Key1:Value1 &#124; Key2:Value2</code> |
| Question2 | Answer2 |      `Key:Value`           |

Все остальные столбцы в исходном файле игнорируются.

### <a name="example-of-structured-excel-file"></a>Пример структурированного файла Excel

Ниже приведен пример структурированных вопросов и ответов файла формата *XLS* с содержимым HTML

 ![Пример структурированных вопросов и ответов в формате Excel для базы знаний](./media/qnamaker-concepts-datasources/structured-qna-xls.png)

### <a name="example-of-alternate-questions-for-single-answer-in-excel-file"></a>Пример альтернативных вопросов для одного ответа в файле Excel

Ниже приведен пример структурированного файла *nA .xls,* с несколькими альтернативными вопросами для одного ответа:

 ![Пример альтернативных вопросов для одного ответа в файле Excel](./media/qnamaker-concepts-datasources/xls-alternate-question-example.png)

После импорта файла пара вопросов и ответов находится в базе знаний, как показано ниже:

 ![Скриншот альтернативных вопросов для одного ответа, импортируемых в базу знаний](./media/qnamaker-concepts-datasources/xls-alternate-question-example-after-import.png)

## <a name="structured-data-format-through-import"></a>Загрузка данных в структурированном формате через импорт

При импорте базы знаний содержимое существующей базы знаний полностью заменяется. Для импорта нужно предоставить структурированный TSV-файл с информацией об источнике данных. Эти сведения помогают QnA Maker сгруппировать пары "вопрос — ответ" и сопоставить их с конкретным источником данных.

| Вопрос  | Ответ  | Источник| Метаданные (1 ключ: 1 значение) |
|-----------|---------|----|---------------------|
| Question1 | Answer1 | Url1 | <code>Key1:Value1 &#124; Key2:Value2</code> |
| Question2 | Answer2 | Редактирование|    `Key:Value`       |

<a href="#formatting-considerations"></a>

## <a name="multi-turn-document-formatting"></a>Форматирование документов с несколькими поворотами

* Используйте заголовки и подзаголовки для обозначения иерархии. Например, можно h1 обозначить родительские qnA и h2, чтобы обозначить nA, которое следует воспринимать как оперативное. Используйте небольшой размер заголовка для обозначения последующей иерархии. Не используйте стиль, цвет или какой-либо другой механизм, чтобы подразумевать структуру в документе, nA Maker не будет извлекать многооборотные подсказки.
* Первый символ заголовка должен быть капитализирован.
* Не заканчивайте заголовок с `?`вопросительным знаком, .


|Примеры документов|
|--|
||