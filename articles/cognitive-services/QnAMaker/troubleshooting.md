---
title: Устранение неполадок - NA Maker
description: Куратор список наиболее часто задаваемых вопросов, касающихся сервиса SnA Maker, поможет вам принять услугу быстрее и с лучшими результатами.
ms.topic: troubleshooting
ms.date: 03/25/2020
ms.author: diberry
ms.openlocfilehash: e002efe74bf7bcd3d944b01b0a25a731a2db3f66
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "80284268"
---
# <a name="troubleshooting-for-qna-maker"></a>Устранение неполадок для создателя NA

Куратор список наиболее часто задаваемых вопросов, касающихся сервиса SnA Maker, поможет вам принять услугу быстрее и с лучшими результатами.

<a name="how-to-get-the-qnamaker-service-hostname"></a>

## <a name="manage-predictions"></a>Управление прогнозами

<details>
<summary><b>Как повысить производительность пропускной способности для прогнозов запросов?</b></summary>

**Ответ:** Проблемы с производительностью пропускной способности указывают на необходимость расширения как службы приложения, так и когнитивного поиска. Для повышения производительности вы можете добавить реплику в когнитивный поиск.

Подробнее о [тарифных уровнях.](Concepts/azure-resources.md)
</details>

<details>
<summary><b>Как получить конечную точку обслуживания NAMaker</b></summary>

**Ответ:** конечная точка обслуживания nAMaker полезна для отладки при обращении в службу поддержки nAMaker или UserVoice. Конечная точка — URL-адрес https://your-resource-name.azurewebsites.netв этой форме: .

1. Перейдите к службе QnA Maker (группе ресурсов) на [портале Azure](https://portal.azure.com).

    ![Группа ресурсов Azure для QnAMaker на портале Azure](./media/qnamaker-how-to-troubleshoot/qnamaker-azure-resourcegroup.png)

1. Выберите службу приложений, связанную с ресурсом «NA Maker». Как правило, имена одинаковы.

     ![Выберите службу приложений QnAMaker](./media/qnamaker-how-to-troubleshoot/qnamaker-azure-appservice.png)

1. URL-адрес endpoint доступен в разделе Обзор

    ![Конечная точка NAMaker](./media/qnamaker-how-to-troubleshoot/qnamaker-azure-gethostname.png)

</details>

## <a name="manage-the-knowledge-base"></a>Управление базой знаний

<details>
<summary><b>Была случайно удалена часть службы QnA Maker. Что теперь делать?</b></summary>

**Ответ**: Не удаляйте ни один из служб Azure, созданных вместе с ресурсом «NA Maker», таким как Search или Web App. Они необходимы для работы создателя NA, если вы удалите его, nA Maker перестанет работать правильно.

Все операции удаления являются безвозвратными, включая удаление пар вопросов и ответов, файлов, URL-адресов, пользовательских вопросов и ответов, баз знаний или ресурсов Azure. Убедитесь, что база знаний была экспортирована на странице **Параметры**, прежде чем удалять часть базы знаний.

</details>

<details>
<summary><b>Почему для указанных мной URL-адресов или файлов не извлекаются пары "вопрос — ответ"?</b></summary>

**Ответ**: Возможно, что nA Maker не сможет автоматически извлечь некоторые вопросы и ответы из действительных URL-адресов часто задаваемых вопросов. В таких случаях поместите нужное содержимое в TXT-файл и проверьте, сможет ли средство извлечь содержимое в таком формате. Кроме того, вы можете использовать интерфейс редактора для добавления содержимого в базу знаний на [портале QnA Maker](https://qnamaker.ai).

</details>

<details>
<summary><b>Базу данных какого размера можно создать?</b></summary>

**Ответ**: Размер базы знаний зависит от sKU поиска Azure, который вы выбираете при создании службы NA Maker. Дополнительные сведения см. [здесь](./Tutorials/choosing-capacity-qnamaker-deployment.md).

</details>

<details>
<summary><b>Почему ничего не отображается в раскрывающемся списке, когда я пытаюсь создать базу знаний?</b></summary>

**Ответ**: Вы еще не создали в Azure ни одного сервиса для создателей NA. Щелкните [здесь](./How-To/set-up-qnamaker-service-azure.md), чтобы узнать, как это сделать.

</details>

<details>
<summary><b>Как поделиться базой знаний с другими пользователями?</b></summary>

**Ответ**: Обмен работами на уровне сервиса NA Maker, т.е. все базы знаний в службе будут общими. [Здесь](./How-To/collaborate-knowledge-base.md) подробно описана совместная работа над базой знаний.

</details>

<details>
<summary><b>Можно ли предоставить базу знаний для редактирования участнику, который находится в другом клиенте AAD?</b></summary>

**Ответ**: Обмен основан на элементе управления доступом на основе ролей Azure (RBAC). Если вы можете предоставить общий доступ к _любому_ ресурсу в Azure другому пользователю, вы можете сделать то же самое с QnA Maker.

</details>

<details>
<summary><b>Если у вас есть план службы приложений с 5 базами знаний nAMaker. Можете ли вы назначить права на чтение/запись 5 различным пользователям, чтобы каждый из них мог получить доступ только к 1 базе знаний nAMaker?</b></summary>

**Ответ**: Вы можете поделиться всем сервисом nAMaker, а не отдельными базами знаний.

</details>

<details>
<summary><b>Как изменить сообщение, которое отображается по умолчанию при отсутствии подходящего совпадения?</b></summary>

**Ответ**: Сообщение по умолчанию является частью настроек в службе приложения.
- Перейдите к ресурсу службы приложений на портале Azure.

![Служба приложений QnA Maker](./media/qnamaker-faq/qnamaker-resource-list-appservice.png)
- Щелкните элемент **Параметры**.

![Параметры службы приложений QnA Maker](./media/qnamaker-faq/qnamaker-appservice-settings.png)
- Измените значение параметра **DefaultAnswer**.
- Перезапустите службу приложений.

![Перезапуск службы приложений QnA Maker](./media/qnamaker-faq/qnamaker-appservice-restart.png)


</details>

<details>
<summary><b>Почему ничего не извлекается по ссылке на SharePoint?</b></summary>

**Ответ**: [См.](./Concepts/knowledge-base.md#data-source-locations)

</details>

<details>
<summary><b>Обновления, которые я сделал, чтобы мои знания базы не отражаются на публикации. Почему бы нет?</b></summary>

**Ответ**: Каждая операция по правке, будь то в обновлении таблицы, тесте или настройке, должна быть сохранена, прежде чем она может быть опубликована. Не забудьте нажать кнопку **Сохранить и поезд** после каждой операции по доработке.

</details>

<details>
<summary><b>Поддерживает ли база знаний форматированные данные или мультимедиа?</b></summary>

**Ответ**.

#### <a name="multimedia-auto-extraction-for-files-and-urls"></a>Мультимедийная автоэкстракция для файлов и URL-адресов

* URLS - ограниченная возможность преобразования HTML-к-Markdown.
* Файлы - не поддерживается

#### <a name="answer-text-in-markdown"></a>Текст ответа в разметке
После того, как наборы nA будут включены в базу знаний, можно отсеять текст разметки ответа, чтобы включить ссылки на средства массовой информации, доступные из публичных URL-адресов.


</details>

<details>
<summary><b>Поддерживает ли QnA Maker языки, отличные от английского?</b></summary>

**Ответ**: Подробнее об [поддерживаемых языках.](./Overview/languages-supported.md)

Если у вас есть содержимое на нескольких языках, обязательно создайте отдельную службу для каждого языка.

</details>

## <a name="manage-service"></a>Управление службой

<details>
<summary><b>Когда следует перезапустить службу приложений?</b></summary>

**Ответ**: Опрокидьте службу приложений, когда значок осторожности находится рядом со значением версии для базы знаний в таблице **ключей endpoint** на [странице](https://www.qnamaker.ai/UserSettings) **настроек пользователя.**

</details>

<details>
<summary><b>Я удалил существующую службу поиска. Как я могу это исправить?</b></summary>

**Ответ**: Если вы удалите индекс когнитивного поиска Azure, операция является окончательной и индекс не может быть восстановлен.

</details>

<details>
<summary><b>Я удалил `testkb` свой индекс в службе поиска. Как я могу это исправить?</b></summary>

**Ответ**: Ваши старые данные не могут быть восстановлены. Создайте новый ресурс «NA Maker» и снова создайте свою базу знаний.

</details>

<details>
<summary><b>Когда мне нужно обновить ключи конечной точки?</b></summary>

**Ответ**: Опрокидьте клавиши конечных точек, если вы подозреваете, что они были скомпрометированы.

</details>

<details>
<summary><b>Могу ли я использовать тот же ресурс Azure Cognitive Search для баз знаний, используя несколько языков?</b></summary>

**Ответ**: Чтобы использовать несколько языков и несколько баз знаний, пользователь должен создать ресурс для каждого языка. Это позволит создать отдельную поисковую службу Azure на языке. Сочетание баз знаний на нескольких языках в одной службе поиска Azure приведет к снижению релевантности результатов.

</details>

<details>
<summary><b>Как изменить название ресурса Azure Cognitive Search, используемого создателем NA?</b></summary>

**Ответ**: Название ресурса Azure Cognitive Search — это имя ресурса «NA Maker» с некоторыми случайными буквами, приложенными в конце. Из-за этого QnA Maker трудно различить несколько ресурсов службы "Поиск". Создайте отдельную службу поиска (назвав ее так, как вы хотели бы) и подключите ее к вашей службе. Эти шаги аналогичны шагам, которые необходимо сделать для [обновления поиска Azure.](How-To/set-up-qnamaker-service-azure.md#upgrade-the-azure-cognitive-search-service)

</details>

<details>
<summary><b>Когда qnA `Runtime core is not initialized,` Maker возвращается, как я могу это исправить?</b></summary>

**Ответ**: Дисковое пространство для службы приложений может быть полным. Шаги по исправлению дискового пространства:

1. На [портале Azure](https://portal.azure.com)выберите службу app создателя nA, а затем остановите службу.
1. Хотя еще на службе App, выберите **инструменты разработки**, то **Расширенные инструменты**, то **Перейти**. Это открывает новое окно браузера.
1. Выберите **консоль Debug,** затем **CMD,** чтобы открыть инструмент командной строки.
1. Перейдите на _сайт/wwwroot/Data/nAMaker/_ каталог.
1. Удалите все папки, имя которых начинается с `rd`.

    **Не удаляйте** следующее:

    * Файл KbIdToRankerMappings.txt
    * Файл EndpointSettings.json
    * Папка EndpointKeys

1. Запустите службу App.
1. Получите доступ к базе знаний, чтобы проверить, что она работает сейчас.

</details>

## <a name="integrate-with-other-services-including-bots"></a>Интеграция с другими службами, в том числе ботами

<details>
<summary><b>Нужна ли платформа Bot Framework для использования QnA Maker?</b></summary>

**Ответ**: Нет, вам не нужно использовать [рамочную bot](https://github.com/Microsoft/botbuilder-dotnet) с помощью создателя NA. Тем не менее, в [azure Bot Service](https://docs.microsoft.com/azure/bot-service/?view=azure-bot-service-4.0)в качестве одного из нескольких шаблонов предлагается snA Maker. Служба Azure Bot позволяет быстро разрабатывать интеллектуальные боты на платформе Microsoft Bot Framework, которые выполняются в бессерверной среде.

</details>

<details>
<summary><b>Как создать нового бота с помощью NA Maker?</b></summary>

**Ответ**: Следуйте инструкциям в [этой](./Quickstarts/create-publish-knowledge-base.md) документации, чтобы создать Бот с Azure Bot Service.

</details>

<details>
<summary><b>Как использовать другую базу знаний с существующим сервисом ботов Azure?</b></summary>

**Ответ**: Вы должны иметь следующую информацию о вашей базе знаний:

* Идентификатор базы знаний.
* Опубликовано базы знаний конечных поддоменных `host`имя, известное как , найти на странице **настройки** после публикации.
* Опубликованный ключ конечная точка базы знаний — найденный на странице **«Настройки»** после публикации.

С этой информацией перейдите в службу приложений вашего бота на портале Azure. В **настройках настройки -> конфигурации - > настройки приложения,** измените эти значения.

Ключ конечных точек базы знаний помечен `QnAAuthkey` в службе ABS.

</details>

<details>
<summary><b>Могут ли два или более клиентских приложений поделиться базой знаний?</b></summary>

**Ответ**: Да, база знаний может быть запрошена у любого количества клиентов. Если ответ из базы знаний кажется медленным или тайм-аутом, подумайте об обновлении уровня обслуживания для службы приложений, связанного с базой знаний.

</details>

<details>
<summary><b>Как внедрить службу QnA Maker в веб-сайт?</b></summary>

**Ответ**: Выполните следующие шаги, чтобы внедрить сервис «NA Maker» в качестве управления веб-чатом на вашем сайте:

1. Создайте бота вопросов и ответов, следуя [этим](./Quickstarts/create-publish-knowledge-base.md) инструкциям.
2. Включите веб-чат, выполнив шаги из [этой статьи](https://docs.microsoft.com/azure/bot-service/bot-service-channel-connect-webchat).

</details>

## <a name="data-storage"></a>Хранилище данных

<details>
<summary><b>Какие данные сохраняются и где они хранятся?</b></summary>

**Ответ**.

При создании службы QnA Maker вы указываете регион Azure. Базы знаний и файлы журналов хранятся в этом регионе.

</details>