---
title: Создание, обучение и публикация базы знаний QnA Maker
titleSuffix: Azure Cognitive Services
description: Базу знаний QnA Maker можно создать из собственного содержимого, например часто задаваемых вопросов или руководств по продукции. В этом примере база знаний QnA Maker создается на основе простой веб-страницы с часто задаваемыми вопросами о восстановлении ключа BitLocker.
author: diberry
manager: nitinme
services: cognitive-services
ms.service: cognitive-services
ms.subservice: qna-maker
ms.topic: quickstart
ms.date: 07/16/2019
ms.author: diberry
ms.openlocfilehash: 03ce1047dd175ae4a676fa1461632a8e23122a8d
ms.sourcegitcommit: a6873b710ca07eb956d45596d4ec2c1d5dc57353
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/16/2019
ms.locfileid: "68249729"
---
# <a name="create-train-and-publish-your-qna-maker-knowledge-base"></a>Создание, подготовка и публикация базы знаний QnA Maker

Базу знаний QnA Maker можно создать из собственного содержимого, например часто задаваемых вопросов или руководств по продукции. В этой статье описано, как создать базу знаний QnA Maker на основе простой веб-страницы с часто задаваемыми вопросами о восстановлении ключа BitLocker.

## <a name="prerequisite"></a>Предварительные требования

> [!div class="checklist"]
> * Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись Azure](https://azure.microsoft.com/free/?WT.mc_id=A261C142F), прежде чем начинать работу.

## <a name="create-a-qna-maker-knowledge-base"></a>Создание базы знаний QnA Maker

1. Войдите на портал [QnAMaker.ai](https://QnAMaker.ai), используя учетные данные Azure.

1. На портале QnA Maker выберите **Create a knowledge base** (Создать базу знаний).

   ![Снимок экрана с порталом QnA Maker](../media/qna-maker-create-kb.png)

1. На странице **Создать** на шаге 1 выберите **Create a QnA service** (Создать службу QnA). Откроется [портал Azure](https://ms.portal.azure.com/#create/Microsoft.CognitiveServicesQnAMaker) для настройки службы QnA Maker в вашей подписке. Если истекает время ожидания портала Azure, выберите **Повторить попытку** на сайте. После подключения появляется панель мониторинга Azure.

1. После успешного создания новой службы QnA Maker в Azure вернитесь к qnamaker.ai/create. На шаге 2 выберите службу QnA Maker из раскрывающихся списков. Если вы создали новую службу QnA Maker, не забудьте обновить страницу.

   ![Снимок экрана с выбранной базой данных и службой QnA Maker](../media/qnamaker-quickstart-kb/qnaservice-selection.png)

1. На шаге 3 назовите свою базу знаний **Мой пример базы знаний QnA**.

1. Чтобы добавить содержимое в базу знаний, выберите три типа источников данных. На шаге 4 в разделе **Populate your KB** (Заполнить базу знаний) добавьте URL-адрес страницы [Обзор BitLocker и требования к вопросам и ответам](https://docs.microsoft.com/windows/security/information-protection/bitlocker/bitlocker-overview-and-requirements-faq) в поле **URL-адрес**.

   ![Снимок экрана с добавлением источников данных](../media/qnamaker-quickstart-kb/add-datasources.png)

1. На шаге 5 выберите **Create your KB** (Создать базу знаний).

1. Когда QnA Maker создает базу знаний, появляется всплывающее окно. Процесс извлечения, во время которого прочитывается HTML-страница и определяются вопросы и ответы, занимает несколько минут.

1. Когда QnA Maker успешно создаст базы знаний, откроется страница **Knowledge base** (База знаний). На этой странице можно изменить содержимое базы знаний.

## <a name="edit-the-knowledge-base"></a>Изменение базы знаний

1. На портале QnA Maker, в разделе **Edit** (Изменить) выберите **Add QnA pair** (Добавить пару вопрос — ответ) для добавления новой строки в базу знаний. В разделе **Вопрос** введите **Привет.** В разделе **Ответ** введите **Здравствуйте. Задайте мне вопрос о BitLocker.**

    ![Снимок экрана с порталом QnA Maker](../media/qnamaker-quickstart-kb/add-qna-pair.png)

1. В правом верхнем углу выберите **Save and train** (Сохранить и обучить), чтобы сохранить изменения и обучить модель QnA Maker. Изменения не вступят в силу, если они не сохранены.

## <a name="test-the-knowledge-base"></a>Проверка базы знаний

1. На портале QnA Maker в правом верхнем углу выберите **Test** (Тестировать), чтобы проверить, вступили ли в силу внесенные изменения. Введите `hi there` в поле и нажмите клавишу ВВОД. Должен появиться ответ, созданный ранее.

1. Выберите **Inspect** (Проверить), чтобы более подробно изучить ответ. Окно тестирования используется для проверки изменений, внесенных в базу знаний, перед их публикацией.

    ![Снимок экрана с панелью тестирования](../media/qnamaker-quickstart-kb/inspect.png)

1. Выберите **Test** (Тестировать) еще раз, чтобы закрыть всплывающее окно **тестирования**.

## <a name="publish-the-knowledge-base"></a>Публикация базы знаний

При публикации базы знаний ее содержимое раздела вопросов и ответов переносится из тестового индекса в рабочий индекс в службе "Поиск Azure".

![Снимок экрана с перемещением содержимого базы знаний](../media/qnamaker-how-to-publish-kb/publish-prod-test.png)

1. На портале QnA Maker в меню рядом с пунктом **Edit** (Изменить) выберите **Publish** (Опубликовать). Затем, чтобы подтвердить, выберите **Опубликовать** на странице.

1. Служба QnA Maker успешно опубликована. Конечную точку можно использовать в коде приложения или бота.

    ![Снимок экрана с успешной публикацией](../media/qnamaker-quickstart-kb/publish-sucess.png)

## <a name="create-a-bot"></a>Создание бота

После публикации можно создать бота на странице **Publish** (Публикация): 

* Можно создать несколько ботов, которые будут работать с одной базой знаний, для разных регионов или тарифных планов. 
* Если нужен только один бот для базы знаний, перейдите по ссылке **View all your bots on the Azure portal** (Просмотреть всех ботов на портале Azure), чтобы просмотреть список текущих ботов. 

При внесении изменений в базу знаний и ее повторной публикации не требуется предпринимать какие-либо действия с ботом. Он уже настроен для работы с базой знаний и будет учитывать все ее последующие изменения. При каждой публикации базы знаний все боты, подключенные к ней, обновляются автоматически.

1. На портале QnA Maker, на странице **Publish** (Публикация) выберите **Create bot** (Создать бота). Эта кнопка отображается только после публикации базы знаний.

    ![Снимок экрана с созданием бота](../media/qnamaker-create-publish-knowledge-base/create-bot-from-published-knowledge-base-page.png)

1. В новой вкладке браузера откроется страница создания службы Azure Bot на портале Azure. Настройте службу Azure Bot. См. подробнее о параметрах конфигурации в руководстве по [созданию ботов с помощью службы Azure Bot версии 4](../tutorials/create-qna-bot.md).
    
    * Создавая бота, не изменяйте приведенные ниже параметры на портале Azure. Их значения автоматически заполняются для базы знаний: 
        * ключ проверки подлинности QnA;
        * расположение и план службы приложений;
        * Хранилище Azure
    * Бот и QnA Maker могут иметь общий план службы веб-приложений, но не могут совместно использовать одно веб-приложение. Поэтому **имя приложения** должно отличаться от имени приложения, которое вы использовали при создании службы QnA Maker. 


## <a name="next-steps"></a>Дополнительная информация

> [!div class="nextstepaction"]
> [Создание базы знаний](../How-To/create-knowledge-base.md)
