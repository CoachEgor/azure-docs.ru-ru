---
title: Перенос баз знаний с помощью QnA Maker
description: Чтобы перенести базу знаний, необходимо экспортировать одну базы знаний, а затем импортировать ее в другую базу знаний.
ms.topic: article
ms.date: 03/25/2020
ms.openlocfilehash: 13e5e79bf4eaf6ec59e41b3e12aa1bb23f2c1578
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "80258096"
---
# <a name="migrate-a-knowledge-base-using-export-import"></a>Миграция базы знаний с помощью экспорта и импорта

Миграция — это процесс создания новой базы знаний из существующей базы знаний. Вы можете сделать это по нескольким причинам:

* процесс резервного копирования и восстановления
* КОНВЕЙЕР CI/CD
* перемещаются по регионам

Миграция базы знаний требует экспорта из существующей базы знаний, а затем импорта в другую.

## <a name="prerequisites"></a>Предварительные требования

* Перед началом работы создайте [бесплатную учетную запись](https://azure.microsoft.com/free/?WT.mc_id=A261C142F).
* Настройте новую [службу QnA Maker](../How-To/set-up-qnamaker-service-azure.md).

## <a name="migrate-a-knowledge-base-from-qna-maker"></a>Перенос базы знаний из QnA Maker
1. Войдите на [портал QnA Maker](https://qnamaker.ai).
1. Выберите базу знаний о происхождении, которые вы хотите перенести.

1. На странице **«Настройки»** выберите **базу знаний Экспорта,** чтобы загрузить файл .tsv, содержащий содержимое базы знаний вашего происхождения - вопросы, ответы, метаданные, последующие запросы и имена источников данных, из которых они были извлечены.

1. Выберите **Создать базу знаний** из верхнего меню, а затем создать _пустую_ базу знаний. Он пуст, потому что при его создании вы не собираетесь добавлять URL-адреса или файлы. Они добавляются во время этапа импорта, после создания.

    Налажить базу знаний. Установите только новое название базы знаний. Поддерживаются повторяющиеся имена, а также специальные знаки в имени.

    Не выбирайте ничего из шага 4, потому что эти значения будут перезаписаны при импорте файла.

1. В шаге 5 выберите **Создать**.

1. В новой базе знаний откройте вкладку **Settings** (Параметры) и выберите **Import knowledge base** (Импортировать базу знаний). Это импортирует вопросы, ответы, метаданные, последующие запросы и сохраняет имена источников данных, из которых они были извлечены.

   > [!div class="mx-imgBorder"]
   > [![Импорт базы знаний](../media/qnamaker-how-to-migrate-kb/Import.png)](../media/qnamaker-how-to-migrate-kb/Import.png#lightbox)

1. **Проверьте** новую базу знаний с помощью панели "Тестирование". Узнайте, как [проверить базу знаний](../How-To/test-knowledge-base.md).

1. **Опубликуйте** базу знаний и создайте чат-бота. Узнайте, как [опубликовать базу знаний](../Quickstarts/create-publish-knowledge-base.md#publish-the-knowledge-base).

## <a name="programmatically-migrate-a-knowledge-base-from-qna-maker"></a>Программно мигрировать базу знаний от NA Maker

Процесс миграции программно доступен с использованием следующих AAP REST:

**Экспорт**

* [Скачать aPI базы знаний](https://docs.microsoft.com/rest/api/cognitiveservices/qnamaker/knowledgebase/download)

**Импорт**

* [Заменить API (перезагрузка с тем же идентификатором базы знаний)](https://docs.microsoft.com/rest/api/cognitiveservices/qnamaker/knowledgebase/replace)
* [Создание API (загрузка с новым идентификатором базы знаний)](https://docs.microsoft.com/rest/api/cognitiveservices/qnamaker/knowledgebase/create)


## <a name="chat-logs-and-alterations"></a>Журналы чатов и варианты
Преобразования (синонимы) без учета регистра не импортируются автоматически. Используйте [AA V4](https://go.microsoft.com/fwlink/?linkid=2092179) для перемещения изменений в новой базе знаний.

Возможность переноса журналов чатов не предусмотрена, так как новая база знаний использует для хранения журналов чатов Application Insights.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Редактирование базы знаний](../How-To/edit-knowledge-base.md)
