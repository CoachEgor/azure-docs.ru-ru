---
title: Рекомендации по QnA Maker
titlesuffix: Azure Cognitive Services
description: Используйте эти рекомендации, чтобы улучшить базу знаний и предоставлять лучшие результаты пользователям приложения или чат-бота.
services: cognitive-services
author: diberry
manager: nitinme
ms.service: cognitive-services
ms.subservice: qna-maker
ms.topic: article
ms.date: 06/25/2019
ms.author: diberry
ms.custom: seodec18
ms.openlocfilehash: dd4f85822a5e6615e7ea6e31b4231c04c9d4e88c
ms.sourcegitcommit: 5bdd50e769a4d50ccb89e135cfd38b788ade594d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/03/2019
ms.locfileid: "67542852"
---
# <a name="best-practices-of-a-qna-maker-knowledge-base"></a>Рекомендации по использованию базы знаний QnA Maker

Руководства по [жизненному циклу разработки базы знаний](../Concepts/development-lifecycle-knowledge-base.md) помогут полостью управлять базой знаний. Следуйте этим рекомендациям для повышения знаний и обеспечивают лучшие результаты, чтобы клиентское приложение или chat bot конечных пользователей.

## <a name="extraction"></a>Извлечение

Служба QnA Maker постоянно улучшает алгоритмы извлечения данных вопросов и ответов из содержимого и расширяет списки поддерживаемых форматов файлов и HTML. Следуйте [рекомендациям](../Concepts/data-sources-supported.md) по извлечению данных в соответствии с типом вашего документа. 

Как правило, страницы часто задаваемых вопросов являются изолированными и не объединяются с другими данными. Руководства по продукции должны содержать четкие заголовки и, желательно, страницу индексов. 

### <a name="configuring-multi-turn"></a>Настройка нескольких Включение

Создайте базу знаний с включено извлечение нескольких включить. Если ваши базы знаний или должен поддерживать иерархии вопросов, эту иерархию можно извлечь из документа или создана после извлечения документа. 

<!--is this a global setting that can only be configured at kb creation time? -->

## <a name="creating-good-questions-and-answers"></a>Создание полезных вопросов и ответов

### <a name="good-questions"></a>Полезные вопросы

Лучшие вопросы просты. Рассмотрите ключевое слово или фразу для каждого вопроса, а затем создайте простой вопрос для этого ключевого слова или фразы. 

Добавьте столько альтернативных вопросов, сколько вам нужно, но сделайте изменения простыми. Добавление большего количества слов или фраз, которые не являются частью основной цели вопроса, не помогает QnA Maker найти соответствие. 


### <a name="add-relevant-alternative-questions"></a>Добавьте альтернативные задаваемых вопросов

Ваш пользователь может ввести свои вопросы касательно естественного стиля текста, `How do I add a toner cartridge to my printer?` или ключевого слова, такие как поиск `toner cartridge`. В базе знаний должен иметь оба стиля вопросы для правильно возвращает лучший ответ. Если вы не уверены, какие ключевые слова, введя клиента, используйте данные Application Insights для анализа запросов.

### <a name="good-answers"></a>Полезные ответы

Наилучшие ответы являются простые ответы, но не слишком простой. Не используйте ответы, такие как `yes` и `no`. Если ответ должен предоставляют широкие возможности мультимедиа и ссылки или ссылки на другие источники, использовать [Применение тегов метаданных](./knowledge-base.md#key-knowledge-base-concepts) различать ответы, затем [отправить запрос](../how-to/metadata-generateanswer-usage.md#generateanswer-request-configuration) с тегами метаданных в `strictFilters` свойство, чтобы получить версию правильный ответ.

## <a name="chit-chat"></a>Беседа
Добавьте функцию "Беседа" в чат-бот, чтобы сделать его более общительным и привлекательным с незначительными трудозатратами. Можно легко добавить chit чата наборов данных из предварительно определенных особенностей при создании вашей базы Знаний и изменить их в любое время. Узнайте, как [добавить беседу в базу знаний](../How-To/chit-chat-knowledge-base.md). 

### <a name="choosing-a-personality"></a>Выбор личности
Chit чата обеспечивается поддержка несколько предопределенных личности: 

|Личные данные |Файл набора данных QnA Maker |
|---------|-----|
|Professional |[qna_chitchat_professional.tsv](https://qnamakerstore.blob.core.windows.net/qnamakerdata/editorial/qna_chitchat_professional.tsv) |
|Понятное имя |[qna_chitchat_friendly.tsv](https://qnamakerstore.blob.core.windows.net/qnamakerdata/editorial/qna_chitchat_friendly.tsv) |
|Компетентными |[qna_chitchat_witty.tsv](https://qnamakerstore.blob.core.windows.net/qnamakerdata/editorial/qna_chitchat_witty.tsv) |
|Проявлением заботы о |[qna_chitchat_caring.tsv](https://qnamakerstore.blob.core.windows.net/qnamakerdata/editorial/qna_chitchat_caring.tsv) |
|Энтузиазма |[qna_chitchat_enthusiastic.tsv](https://qnamakerstore.blob.core.windows.net/qnamakerdata/editorial/qna_chitchat_enthusiastic.tsv) |

Ответы варьируются от формального до неформального и непочтительного. Нужно выбрать личность, которая наиболее соответствует тону, который вы хотите задать своему боту. Можно просмотреть [наборы данных](https://github.com/Microsoft/BotBuilder-PersonalityChat/tree/master/CSharp/Datasets)и выберите ту, которая выступает в качестве основы для вашего бота, а затем настройте ответы. 

### <a name="edit-bot-specific-questions"></a>Редактирование специфических вопросов для чат-бота
Существуют специфические вопросы для чат-бота, которые являются частью набора данных беседы и заполнены универсальными ответами. Измените эти ответы на такие, которые будут лучше всего отражать сведения чат-бота. 

Рекомендуется сделать следующие вопросы и ответы беседы более конкретными.

* Кто вы?
* Советы разработчикам
* Сколько вам лет?
* Кто вас создал?
* Привет
   
### <a name="adding-custom-chit-chat-with-a-metadata-tag"></a>Добавление пользовательского чата chit в тег метаданных

При добавлении собственных пары QnA chit чата, убедитесь, что для добавления метаданных так, чтобы возвращалось ответов на эти вопросы. Пара имя/значение метаданных `editorial:chitchat`.

## <a name="searching-for-answers"></a>Поиск ответов

GenerateAnswer API использует вопросов и ответов для поиска наилучшие ответы на запрос пользователя.

### <a name="searching-questions-only-when-answer-is-not-relevant"></a>Поиск вопросы только в том случае, если ответ не имеет значения

Используйте [ `RankerType=QuestionOnly` ](#choosing-ranker-type) Если вы не хотите найти ответы. 

Примером этого является при базы знаний — это каталог акронимов как вопросы с полной форме как ответ. Значение ответа не позволяют искать соответствующий ответ.

## <a name="rankingscoring"></a>Ранжирование и оценка
Убедитесь, что вы эффективно используете функции ранжирования, поддерживаемые QnA Maker. Это повысит вероятность того, ответ будет соответствовать запросу пользователя.

### <a name="choosing-a-threshold"></a>Выбор порогового значения

Значение по умолчанию [показатель достоверности](confidence-score.md) , используемый как пороговое значение — 50, однако вы можете [изменить пороговое значение](confidence-score.md#set-threshold) для вашей базы Знаний, в зависимости от ваших потребностей. Поскольку все базы знаний отличны друг от друга, необходимо проверить и выбрать порог, который лучше всего подходит для вашей базы знаний. 

### <a name="choosing-ranker-type"></a>Выбор типа средства ранжирования
По умолчанию QnA Maker выполняет поиск по вопросов и ответов. Если вы хотите просмотреть только вопросы, чтобы создать ответ, используйте `RankerType=QuestionOnly` в тело запроса POST GenerateAnswer запроса.

### <a name="add-alternate-questions"></a>Добавление альтернативных вопросов
[Альтернативные вопросы](../How-To/edit-knowledge-base.md) увеличивают вероятность получения результата, соответствующего запросу пользователя. Альтернативные вопросы удобно использовать в тех случаях, когда один и тот же вопрос можно задать разными способами. Они могут включать в себя разную структуру предложений и стиль речи.

|Исходный запрос|Альтернативные запросы|Change| 
|--|--|--|
|Есть ли парковка?|У вас есть автостоянка?|структуры предложения|
 |Привет!|Эй!<br>Всем привет!|стиль речи или сленговое выражение|

<a name="use-metadata-filters"></a>

### <a name="use-metadata-tags-to-filter-questions-and-answers"></a>Используйте теги метаданных, чтобы фильтровать вопросы и ответы

[Метаданные](../How-To/edit-knowledge-base.md) добавляет возможность для клиентского приложения, знать его значение не должен принимать все ответы а сузить результаты запроса пользователя на основе маркеров метаданных. Ответ базы знаний на один и тот же запрос может различаться в зависимости от тега метаданных. Например, на вопрос *"Где находится стоянка?"* может быть несколько разных ответов, если рестораны одной сети находятся в разных городах. То есть это могут быть метаданные вида *Расположение: Сиэтл* или *Расположение: Редмонд*.

### <a name="use-synonyms"></a>Использование синонимов
Хотя некоторые поддержка синонимов в английском языке, используйте изменений word без учета регистра, с помощью [изменений API](https://docs.microsoft.com/rest/api/cognitiveservices/qnamaker/alterations/replace) Добавление синонимов в ключевые слова, которые принимают различные формы. Синонимы добавляются на уровне службы QnA Maker и общими для всех баз знаний в службе.

|Исходное слово|Синонимы|
|--|--|
|купить|приобрести<br>NET банковских операций<br>интернет-банкинг|

### <a name="use-distinct-words-to-differentiate-questions"></a>Использование уникальных слов для различения ответов
Алгоритмы ранжирования QnA Maker, сопоставляющие запрос пользователя с вопросом в базе знаний, работают эффективнее всего, если все вопросы направлены на разные потребности. Повторение одинакового набора слов в вопросах уменьшает вероятность выбора правильного ответа на запрос пользователя, содержащий эти слова. 

Например, у вас могут быть два отдельных набора вопросов и ответов со следующими вопросами:

|Вопросы и ответы|
|--|
|где *находится* стоянка|
|где *находится* банкомат|

Поскольку эти два набора сформулированы очень похожими словами, это сходство может вызвать очень похожие оценки для многих пользовательских запросов, которые сформулированы как *"где находится `<x>`"* . Вместо этого попытайтесь четко различать такие запросы, как *"где находится стоянка"* и *"где находится банкомат"* , избегая слов типа "местоположение", которое может присутствовать во многих вопросах базы знаний. 

## <a name="collaborate"></a>Совместная работа
QnA Maker дает пользователям возможность [совместно работать](../How-to/collaborate-knowledge-base.md) над базой знаний. Чтобы получить доступ к базам знаний, пользователям нужен доступ к группе ресурсов Azure для QnA Maker. Некоторым организациям может потребоваться использовать внешнего исполнителя для редактирования и обслуживания баз знаний, сохраняя при этом безопасность доступа к своим ресурсам Azure. Эту модель с редактором и утверждающим можно реализовать, установив две идентичные [службы QnA Maker](../How-to/set-up-qnamaker-service-azure.md) в разных подписках и выбрав одну из них для цикла редактирования и тестирования. По завершении тестирования содержимое базы знаний переместится посредством процесса [импорта и экспорта](../Tutorials/migrate-knowledge-base.md) в службу QnA Maker утверждающего, который опубликует окончательную версию базы знаний и обновит конечную точку.



## <a name="active-learning"></a>Активное обучение

[Активное обучение](../How-to/improve-knowledge-base.md) позволяет идеально предложить альтернативные вопросы при обеспечении достаточного качества и количества пользовательских запросов. Очень важно разрешить пользовательским запросам от клиента к приложению принимать участие в цикле обратной связи активного обучения без цензуры. После вопросы предлагаются на портале QnA Maker, вы можете **[фильтр по предложения](../How-To/improve-knowledge-base.md#accept-an-active-learning-suggestion-in-the-knowledge-base)** затем просмотрите и принять или отклонить эти предложения. 

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Редактирование базы знаний](../How-to/edit-knowledge-base.md)
