---
title: Где и как использовать - Personalizer
description: Персонализатор можно применять в любой ситуации, где ваше приложение может выбрать правильный элемент, действие или продукт для отображения, чтобы улучшить опыт использования, достигать лучших результатов в бизнесе или увеличить производительность.
ms.topic: conceptual
ms.date: 02/18/2020
ms.openlocfilehash: c562d7a1853736204a7a03262547e083bd85fb75
ms.sourcegitcommit: eefb0f30426a138366a9d405dacdb61330df65e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2020
ms.locfileid: "81617674"
---
# <a name="where-and-how-to-use-personalizer"></a>Где и как использовать Personalizer

Используйте Personalizer в любой ситуации, когда вашему приложению необходимо выбрать правильное действие (содержимое) для отображения - для того, чтобы сделать опыт лучше, достичь лучших бизнес-результатов или повысить производительность.

Personalizer использует обучение подкрепления, чтобы выбрать, какое действие (содержимое) чтобы показать пользователю. Показываемые варианты значительно зависят от количества, качества и распределения данных, отправленных в службу.

## <a name="example-use-cases-for-personalizer"></a>Пример вариантов применения Персонализатора

* **Намерение разъяснения & disambiguation**: помочь пользователям иметь лучший опыт, когда их намерения не ясно, предоставляя вариант, который персонализирован.
* **По умолчанию предложения** для меню & варианты: есть бот предложить наиболее вероятный пункт в персонализированный способ в качестве первого шага, вместо представления безличного меню или список альтернатив.
* **Бот черты & тон**: для ботов, которые могут варьироваться тон, многословность, и стиль письма, рассмотреть различные эти черты.
* **Уведомление & оповещение содержимого:** решить, какой текст использовать для оповещения, чтобы привлечь пользователей больше.
* **Уведомление & время оповещения:** персонализированные узнать, когда отправлять уведомления пользователям, чтобы привлечь их больше.


## <a name="expectations-required-to-use-personalizer"></a>Ожидания, необходимые для использования Personalizer

Вы можете применять Personalizer в ситуациях, когда вы встречаетесь или можете реализовать следующие руководящие принципы.

|Рекомендация|Объяснение|
|--|--|
|Бизнес-цель|У вас есть бизнес-цель или цель повышения удобства использования вашего приложения.|
|Содержимое|В вашем приложении есть место, где принятие контекстуального решения о том, что показывать пользователям, поможет этой цели.|
|Количество содержимого|У вас есть менее 50 действий, чтобы ранжировать на вызов.|
|Агрегированные данные|Лучший выбор может и должен делаться на основе общего поведения пользователей и общей оценки вознаграждения.|
|Этическое использование|Использование машинного обучения для персонализации соответствует [руководствам по ответственному использованию](ethics-responsible-use.md) и вашему выбору.
|Лучший вариант|Контекстные решения можно выразить как ранжирование лучших вариантов (действий) при ограниченном наборе вариантов.|
|Забитый результат|Насколько хорошо работает выбор для вашего приложения, можно определить путем измерения некоторых аспектов поведения пользователей и выражения его в _[наградном балле.](concept-rewards.md)_|
|Соответствующие сроки|Оценка вознаграждения не приносит слишком много смешанных или внешних факторов. Продолжительность эксперимента достаточна мала, поэтому оценку вознаграждения можно вычислить, пока она еще полезна.|
|Достаточные возможности контекста|Вы можете выразить контекст для ранга как список по крайней мере 5 [функций,](concepts-features.md) которые, по вашему мнению, помогут сделать правильный выбор, и это не включает идентифицируемую информацию пользователя.|
|Достаточные функции действия|У вас есть информация о каждом выборе содержимого, _действия_, как списка с минимум 5 [функциями](concepts-features.md), которые могут помочь Персонализатору сделать правильный выбор.|
|Ежедневные данные|Имеется достаточно событий для оптимальной персонализации, если проблема изменяется со временем (например, предпочтения новостей или моды). Персонализатор адаптируется к постоянным изменениям реального мира, однако результаты не будут оптимальными, если событий и данных будет недостаточно, чтобы учиться на них, а также открывать и осваивать новые шаблоны. Следует выбрать вариант использования, который применяется достаточно часто. Рассмотрите возможность поиска вариантов использования, которые попадаются по крайней мере 500 раз в день.|
|Данные журнала|Приложение может хранить данные достаточно долго, чтобы накопить журнал с минимум 100 000 взаимодействий. Это позволяет Personalizer собирать достаточно данных для проведения оценок в автономном режиме и оптимизации политики.|

**Не используйте Personalizer,** где персонализированное поведение не является чем-то, что может быть обнаружено у всех пользователей. Например, использование Персонализатора, чтобы предложить заказ первой пиццы из списка из 20 пунктов меню, полезно, но предложение контакта для вызова из списка контактов пользователей, когда необходима помощь по уходу за ребенком (например, "Бабушка"), сложно назвать персонализацией в базе пользователей.

## <a name="how-to-use-personalizer-in-a-web-application"></a>Использование Персонализатора в веб-приложении

Добавление цикла обучения в веб-приложение включает в себя:

* Определение того, какой вариант взаимодействия необходимо персонализировать, какие действия и функции есть в наличии, какие функции контекста необходимо использовать и какое вознаграждение необходимо настроить.
* Добавление ссылки на пакет SDK для персонализации в приложении.
* Вызов API ранжирования на момент готовности к персонализации.
* Сохранение eventId. Позже вы отправите вознаграждение с помощью API вознаграждения.
1. Вызовите операцию "Активировать" для события, когда будете уверены, что пользователь увидел вашу персонализированную страницу.
1. Дождитесь, пока пользователь выберет ранжированное содержимое.
1. Вызовите API вознаграждения, чтобы указать эффективность выходных данных API ранжирования.

## <a name="how-to-use-personalizer-with-a-chat-bot"></a>Использование Персонализатора с чат-ботом

В этом примере показано, как использовать персонализацию, чтобы сделать предложение по умолчанию вместо того, чтобы каждый раз отправлять пользователю несколько меню или вариантов.

* Получите [код](https://github.com/Azure-Samples/cognitive-services-personalizer-samples/tree/master/samples/ChatbotExample) для этого примера.
* Настройте решение бота. Опубликуйте приложение LUIS.
* Управляйте вызовами API ранжирования и вознаграждения для бота.
    * Добавьте код для управления обработкой намерения LUIS. Если в качестве намерения с самым высоким показателем возвращается значение **Нет** или показатель этого намерения ниже порогового значения бизнес-логики, отправьте список намерений в Персонализатор для ранжирования намерений.
    * Покажите список намерений пользователю в качестве доступных для выбора ссылок, в котором первое намерение является намерением с высшим приоритетом из ответа API ранжирования.
    * Запишите выбор пользователя и отправьте его в вызов API вознаграждения.

### <a name="recommended-bot-patterns"></a>Рекомендуемые шаблоны ботов

* Осуществляйте вызовы API ранжирования Персонализатора всякий раз, когда необходимо устранить неоднозначность вместо того, чтобы кэшировать результаты для каждого пользователя. Результат устранения неоднозначности намерения может изменяться со временем для одного пользователя. Если позволить API ранжирования исследовать расхождения, ускорится обучение в целом.
* Выберите взаимодействие, общее для большого числа пользователей, чтобы у вас было достаточно данных для персонализации. Например, вводные вопросы подходят лучше, чем меньшие уточнения глубоко в графе диалога, к которому могут получить доступ только небольшое число пользователей.
* Используйте вызовы API ранжирования, чтобы включить диалоги "первая рекомендация подходит", в которых пользователь получает запрос "Хотите ли вы X?" или "Вы имели ввиду X?" и пользователь может просто подтвердить, вместо того, чтобы предоставлять варианты пользователю, где ему нужно выбирать из меню. Например, пользователь: "Я хотел бы заказать кофе" Bot: "Хотите двойной эспрессо?". Таким образом сигнал вознаграждения также надежный, так как он относится непосредственно к одному предложению.

## <a name="how-to-use-personalizer-with-a-recommendation-solution"></a>Использование Персонализатора с решением рекомендаций

Многие компании используют системы рекомендаций, маркетинговые и рекламные инструменты, сегментацию и кластеризацию аудитории, совместную фильтрацию и другие средства, чтобы рекомендовать клиентам продукцию из большого каталога.

[Репозиторий Рекомендаций Microsoft GitHub](https://github.com/Microsoft/Recommenders) предоставляет примеры и рекомендации для создания рекомендательных систем, предоставляемых в качестве ноутбуков Jupyter. Он предоставляет рабочие примеры подготовки данных, создания моделей, оценки, настройки и ввода в эксплуатацию систем рекомендаций для многих распространенных подходов, включая xDeepFM, SAR, ALS, RBM, DKN.

Персонализатор может работать с имеющейся системой рекомендаций.

* Системы рекомендаций потребляют большое количество элементов (например, 500 000) и рекомендуют подмножество (например, 20 наиболее популярных) из сотен или тысяч вариантов.
* Персонализатор потребляет небольшое количество действий с большим количеством информации о них и ранжирует их в режиме реального времени для данного форматированного контекста, тогда как большинство систем рекомендаций используют лишь несколько атрибутов пользователей, продуктов и их взаимодействия.
* Персонализатор предназначен для постоянного автономного изучения предпочтений пользователя. Это принесет лучшие результаты в тех случаях, когда содержимое быстро изменяется, например новости, прямые трансляции событий, содержимое сообщества в реальном времени, содержимое с ежедневными обновлениями или сезонное содержимое.

Обычно используется для получения выходных данных системы рекомендаций (например, 20 наиболее популярных продуктов для определенного клиента) и использования их в качестве входного действия для Персонализатора.

## <a name="adding-content-safeguards-to-your-application"></a>Добавление средств защиты содержимого в приложение

Если приложение допускает значительные расхождения в содержимом, отображаемом для пользователей, и некоторое содержимое может быть небезопасно или не подходит для некоторых пользователей, вам следует заранее составить план и принять надлежащие меры по обеспечению безопасности, чтобы уберечь пользователей от просмотра неприемлемого содержимого. Самый лучший шаблон для реализации мер безопасности:
    * Получите список действий для ранжирования.
    * Отфильтруйте действия, неприемлемые для аудитории.
    * Ранжируйте только эти приемлемые действия.
    * Отобразите действие с высшим рейтингом для пользователя.

В некоторых архитектурах приведенную выше последовательность может быть трудно реализовать. В этом случае существует альтернативный подход к осуществлению гарантий после ранжирования, но необходимо сделать положение, чтобы действия, выходящие за рамки гарантий, не использовались для обучения модели Personalizer.

* Получите список действий для ранжирования, деактивировав обучение.
* Ранжируйте действия.
* Проверьте, является ли действие с высшим приоритетом приемлемым.
    * Если оно является приемлемым, активируйте обучение для этого ранжирования, а затем покажите его пользователю.
    * Если это действие не является приемлемым, не активируйте обучение для этого ранжирования и с использованием логики или альтернативных подходов примите решение о том, что следует показывать пользователю. Даже если используется второй вариант с высшим приоритетом, не активируйте обучение для этого ранжирования.


## <a name="next-steps"></a>Дальнейшие действия

[Guidelines for responsible implementation of Personalizer](ethics-responsible-use.md) (Руководство по ответственной реализации Персонализатора).
