---
title: Что такое служба "Персонализатор"?
titleSuffix: Azure Cognitive Services
description: Персонализатор — это облачная служба API, с помощью которой приложение максимально удобный режим работы для своих пользователей, изучая их поведение в реальном времени.
services: cognitive-services
author: diberry
manager: nitinme
ms.service: cognitive-services
ms.subservice: personalizer
ms.topic: overview
ms.date: 01/21/2020
ms.author: diberry
ms.openlocfilehash: 756363d0c46dee6f7d0037fda48ab22dbdaeb0b0
ms.sourcegitcommit: 38b11501526a7997cfe1c7980d57e772b1f3169b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/22/2020
ms.locfileid: "76514311"
---
# <a name="what-is-personalizer"></a>Что такое служба "Персонализатор"?

Персонализатор Azure — это облачная служба API, которая помогает клиентскому приложению выбрать один лучший элемент _содержимого_ для отображения конкретному пользователю. Служба выбирает оптимальный из доступных элементов содержимого, основываясь на общей информации, которую вы предоставляете о содержимом и контексте в реальном времени.

После отображения пользователю элемента содержимого система отслеживает поведение пользователя и возвращает результат оценки в Персонализатор, что позволяет улучшить точность выбора содержимого на основе получаемой информации о контексте.

**Содержимым** здесь может быть любая единица информации, например текст, изображения, URL-адреса или сообщения электронной почты, которые нужно выбрать для отображения пользователю.

<!--
![What is personalizer animation](./media/what-is-personalizer.gif)
-->

## <a name="how-does-personalizer-select-the-best-content-item"></a>Как Персонализатор выбирает оптимальный элемент содержимого?

Персонализатор использует **обучение с подкреплением** для выбора наиболее подходящего элемента (_действия_) на основе типичного поведения и оценки вознаграждений для всех пользователей. Действиями называются элементы содержимого, из которых осуществляется выбор, например новостные статьи, фильмы или продукты.

Вызов функции **Rank** принимает элемент Action, а также признаки этого действия и контекста, на основе которых выбирается наиболее подходящий элемент действия.

* **Действия с признаками** — это элементы содержимого, для каждого из которых указаны характерные признаки.
* **Признаки контекста** — это признаки пользователей, текущего контекста или среды, которые относятся к использованию приложения.

Вызов Rank возвращает идентификатор элемента содержимого (__action__), который нужно отобразить пользователю, в поле **Reward Action ID** (Идентификатор действия вознаграждения).
Отображаемое пользователю __действие__ выбирается с помощью моделей машинного обучения максимизировать общий объем вознаграждений с течением времени.

Вот несколько примеров таких сценариев.

|Тип содержимого|**Действия (с признаками)**|**Признаки контекста**|Возвращаемый идентификатор действия вознаграждения<br>(отобразить это содержимое)|
|--|--|--|--|
|Список новостей|а. `The president...` (национальная, политика, [текст])<br>b. `Premier League ...` (глобальная, спорт, [текст, изображение, видео])<br> c. `Hurricane in the ...` (региональная, погода, [текст, изображение])|Устройство, на котором просматриваются новости<br>Месяц или сезон<br>|`The president...`|
|Список фильмов|1. `Star Wars` (1977, [боевик, приключения, фэнтези], Джордж Лукас)<br>2. `Hoop Dreams` (1994, [документальный, спорт], Стив Джеймс)<br>3. `Casablanca` (1942, [романтический, драма, военный], Майкл Кертис)|Устройство, на котором просматривается фильм<br>Размер экрана<br>Тип пользователя<br>|3. `Casablanca`|
|Список продуктов|i. `Product A` (3 кг, $$$$, доставка за 24 часа)<br>ii. `Product B` (20 кг, $$, доставка за 2 недели с растаможкой)<br>iii. `Product C` (3 кг, $$$, доставка за 48 часов)|Устройство, на котором просматривается товар<br>Уровень расходов пользователя<br>Месяц или сезон|ii. `Product B`|

Персонализатор использовал обучение с подкреплением, чтобы выбрать одно лучшее действие (_reward action ID_), используя сочетание следующих компонентов:
* обученная модель, которая создана на основе ранее полученной Персонализатором информации;
* текущие данные, куда входят действия с признаками и признаки контекста.

## <a name="when-to-call-personalizer"></a>Как правильно использовать Персонализатор

[API](https://go.microsoft.com/fwlink/?linkid=2092082) **ранжирования** Персонализатора вызывается в реальном времени _каждый раз_, когда вы предоставляете содержимое. Такой вызов называется **событием** и характеризуется определенным _идентификатором события_.

[API](https://westus2.dev.cognitive.microsoft.com/docs/services/personalizer-api/operations/Reward) **вознаграждения** Персонализатора можно вызывать в реальном времени или с задержкой, с учетом особенностей инфраструктуры. Оценку вознаграждений вы определяете самостоятельно в зависимости от конкретных бизнес-потребностей. Это может быть одно значение, например в диапазоне от 1 (хороший) до 0 (плохой), или любое число, которое вычисляется по выбранному вами алгоритму с учетом реальных бизнес-целей и метрик.

## <a name="personalizer-content-requirements"></a>Требования к содержимому для Персонализатора

Персонализатор подходит для сценариев, в которых содержимое отвечает следующим условиям:

* Ограниченный набор элементов для выбора (не более 50). Если ваш список содержит больше элементов, [используйте модуль рекомендаций](where-can-you-use-personalizer.md#use-personalizer-with-recommendation-engines) для сокращения их количества до 50 элементов;
* содержит сведения с описанием содержимого для ранжирования: _действия с признаками_ и _признаки контекста_;
* для эффективной работы Персонализатор должен получать не менее 1000 событий, связанных с контекстом, ежедневно. Если Персонализатор не получает требуемый минимальный трафик, выбор наиболее подходящего элемента содержимого будет выполняться дольше.

Поскольку Персонализатор использует общую информацию, чтобы возвращать один лучший элемент содержимого почти в реальном времени, эта служба:
* не сохраняет профили пользователей и не управляет ими;
* не сохраняет предпочтения или журнал действий для отдельных пользователей;
* не требует очищенного и помеченного содержимого.

## <a name="how-to-design-and-implement-personalizer-for-your-client-application"></a>Разработка и реализация Персонализатора для клиентского приложения

1. Создайте [проект](concepts-features.md) и план по использованию содержимого, **_действий_** и **_контекстов_** . Определите алгоритм вознаграждений для оценки ( **_reward_** ).
1. Каждый созданный [ресурс Персонализатора](how-to-settings.md) считается за 1 цикл обучения. В рамках цикла будут выполняться вызовы Rank и Reward, связанные с определенным содержимым или взаимодействием с пользователем.
1. Добавление Персонализатора на веб-сайт или в систему управления содержимым:
    1. Добавьте в приложение, на веб-сайт или в систему вызов API **ранжирования** Персонализатора, чтобы определить один лучший элемент _содержимого_ перед отображением содержимого пользователю.
    1. Передайте пользователю один наиболее подходящий элемент _содержимого_, который возвращается в виде _идентификатора действия вознаграждения_.
    1. Примените _алгоритм_ к собранным сведениям о действиях пользователя, чтобы вычислить оценку **вознаграждения**, например:

        |Поведение|Вычисленная оценка вознаграждения|
        |--|--|
        |Пользователь выбрал один наиболее подходящий элемент _содержимого_ (идентификатор действия вознаграждения)|**1**|
        |Пользователь выбрал другое содержимое|**0**|
        |Пользователь задумался и нерешительно прокрутил страницу туда-сюда, а затем выбрал один наиболее подходящий элемент _содержимого_ (идентификатор действия вознаграждения)|**0,5**|

    1. Добавьте вызов API **вознаграждения** с оценкой в диапазоне от 0 и 1:
        * сразу после отображения содержимого;
        * или в любое время в автономной системе.
    1. [Оцените этот цикл](concepts-offline-evaluation.md) с помощью автономной оценки по прошествии некоторого периода использования. Автономная оценка позволяет тестировать и оценивать эффективность службы "Персонализатор" без изменения кода или влияния на пользовательский интерфейс.

## <a name="next-steps"></a>Дальнейшие действия


* [Принцип работы Персонализатора](how-personalizer-works.md)
* [Что такое обучение с подкреплением?](concepts-reinforcement-learning.md)
* [Сведения о функциях и действиях для запроса ранжирования](concepts-features.md)
* [Определение оценки для запроса вознаграждения](concept-rewards.md)
* [Краткие руководства]()
* [Руководство]()
* [Использование интерактивной демонстрации](https://personalizationdemo.azurewebsites.net/)
