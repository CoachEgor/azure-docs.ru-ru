---
title: Начало работы с пакетом SDK для речевых устройств | Документация Майкрософт
titleSuffix: Azure Cognitive Services
description: Обязательные требования и инструкции по началу работы с пакетом SDK для речевых устройств.
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 12/06/2018
ms.author: erhopf
ms.custom: seodec18
ms.openlocfilehash: 0d520a9dc8d60a386d25694d441931fbc3ed38e4
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61457606"
---
# <a name="get-started-with-the-speech-devices-sdk"></a>Начало работы с пакетом SDK для речевых устройств

Эта статья описывает, как настроить компьютер разработки и комплект разработки устройств с поддержкой речи с помощью пакета SDK для речевых устройств. Затем вы создадите и развернете пример приложения на устройстве.

Исходный код для примера приложения входит в состав пакета SDK для речевых устройств. Он также [доступен на веб-сайте GitHub](https://github.com/Azure-Samples/Cognitive-Services-Speech-Devices-SDK).

## <a name="prerequisites"></a>Технические условия

Перед началом разработки с помощью пакета SDK для речевых устройств соберите нужные сведения и программное обеспечение:

* Получить [комплект разработки можно на сайте ROOBO](http://ddk.roobo.com/). Доступны комплекты с конфигурациями линейной или кольцевой микрофонной решетки. Выберите подходящую конфигурацию.

    |Конфигурация набора средств разработки|Местонахождение говорящего|
    |-----------------------------|------------|
    |Кольцевая|С любой стороны устройства|
    |Линейная|Перед устройством|

* Получите последнюю версию пакета SDK для речевых устройств, включая пример приложения для Android, с [сайта для скачивания](https://shares.datatransfer.microsoft.com/). Извлеките ZIP-файл в локальную папку, например C:\SDSDK.

* Установите [Android Studio](https://developer.android.com/studio/) и [Vysor](https://vysor.io/download/) на вашем компьютере.

* Получить [ключ подписки служб речи](get-started.md). Вы можете получить 30-дневную бесплатную пробную версию или же скопировать ключ из своей панели мониторинга Azure.

* Если вы хотите использовать распознавание сути высказывания службы распознавания речи, подписаться на [службы Language Understanding](https://azure.microsoft.com/services/cognitive-services/language-understanding-intelligent-service/) (LUIS) и [получат ключ подписки](https://docs.microsoft.com/azure/cognitive-services/luis/azureibizasubscription).

    Вы можете [создать простую модель LUIS](https://docs.microsoft.com/azure/cognitive-services/luis/) или использовать пример такой модели — LUIS-example.json, доступный в пакете [SDK для речевых устройств на сайте скачивания](https://shares.datatransfer.microsoft.com/). Чтобы отправить файл JSON модели на [портал LUIS](https://www.luis.ai/home), выберите **Import new app** (Импорт нового приложения) и затем файл JSON.

## <a name="set-up-the-development-kit"></a>Настройка набора средств разработки

1. Комплект средств разработки содержит два разъема micro USB. Левый разъем предназначен для питания комплекта средств разработки и обозначен надписью "Power" (Питание) на рисунке ниже. Правый разъем предназначен для управления и обозначен на рисунке надписью "Debug" (Отладка).

    ![Подключение комплекта разработки](media/speech-devices-sdk/qsg-1.png)

1. С помощью кабеля micro USB подключите разъем питания комплекта средств разработки к компьютеру или адаптеру питания, чтобы обеспечить питание комплекта средств разработки. Под верхней панелью должен засветиться зеленый индикатор питания.

1. С помощью второго кабеля micro USB подключите к компьютеру разъем для отладки комплекта средств разработки, чтобы иметь возможность управлять им. Важно использовать кабель высокого качества для обеспечения надежной связи.

1. Сориентируйте комплект разработки для получения кольцевой или линейной конфигурации.

    |Конфигурация набора средств разработки|Ориентация|
    |-----------------------------|------------|
    |Кольцевая|Вертикальное положение, микрофоны направлены к потолку|
    |Линейная|На боку, микрофоны направлены к вам (показано на изображении ниже)|

    ![Расположение комплекта разработки с линейной решеткой](media/speech-devices-sdk/qsg-2.png)

1. Установите сертификаты и устанавливать разрешения для звукового устройства. Введите следующие команды в окне командной строки:

   ```
   adb push C:\SDSDK\Android-Sample-Release\scripts\roobo_setup.sh /data/
   adb shell
   cd /data/
   chmod 777 roobo_setup.sh
   ./roobo_setup.sh
   exit
   ```

    > [!NOTE]
    > Эти команды используют средство Android Debug Bridge (`adb.exe`), которое является частью установки Android Studio. Это средство находится в каталоге C:\Users\[имя пользователя]\AppData\Local\Android\Sdk\platform-tools. Вы можете добавить этот каталог в путь, чтобы было удобнее вызывать `adb`. В противном случае нужно указывать полный путь к установке adb.exe в каждой команде, вызывающей `adb`.
    >
    > Если появится сообщение об ошибке `no devices/emulators found`, проверьте подключение USB-кабеля и убедитесь, что используется кабель высокого качества. Можно использовать команду `adb devices`, чтобы проверить, может ли компьютер взаимодействовать с комплектом средств разработки, так как она вернет список устройств.

    > [!TIP]
    > Отключите звук микрофона и динамик вашего компьютера, чтобы обеспечить работу с микрофонами комплекта разработки. В этом случае вы случайно не запустите на устройстве аудио с компьютера.

1.  Запустите Vysor на компьютере.

    ![Vysor](media/speech-devices-sdk/qsg-3.png)

1.  Устройство должно быть указано в области **Choose a device** (Выберите устройство). Нажмите кнопку **View** (Просмотреть) рядом с устройством.

1.  Подключитесь к беспроводной сети, щелкнув значок папки и выбрав **Параметры** > **WLAN**.

    ![Беспроводная локальная сеть Vysor](media/speech-devices-sdk/qsg-4.png)

    > [!NOTE]
    > Если в организации существуют политики, касающиеся подключения устройств к системе Wi-Fi, вам нужно получить MAC-адрес и обратиться в ИТ-отдел, чтобы получить сведения о подключении к беспроводной сети организации.
    >
    > Чтобы узнать MAC-адрес комплекта разработки, щелкните значок папки на рабочем столе комплекта разработки.
    >
    >  ![Папка файлов Vysor](media/speech-devices-sdk/qsg-10.png)
    >
    > Выберите элемент **Параметры**. Найдите элемент "MAC-адрес" и щелкните **MAC-адрес** > **Advanced WLAN** (Дополнительные параметры беспроводной сети). Запишите MAC-адрес, отображаемый в нижней части диалогового окна.
    >
    > ![MAC-адрес Vysor](media/speech-devices-sdk/qsg-11.png)
    >
    > У некоторых организаций может быть ограничение подключения устройства к системе Wi-Fi по времени. Возможно, через определенное количество дней понадобится продлить регистрацию комплекта разработки в системе Wi-Fi.
    >
    > Если требуется подключить динамик к комплекту разработки, это можно сделать с помощью звукового линейного выхода. Следует выбрать качественный динамик с поддержкой разъема 3,5 мм.
    >
    > ![Звук в Vysor](media/speech-devices-sdk/qsg-14.png)

## <a name="run-a-sample-application"></a>Запуск примера приложения

Для запуска тестов ROOBO и проверки настройки комплекта разработки создайте и установите пример приложения.

1. Запустите Android Studio.

1. Выберите **Открыть существующий проект Android Studio**.

   ![Android Studio. Команда открытия существующего проекта](media/speech-devices-sdk/qsg-5.png)

1. Перейдите в каталог C:\SDSDK\Android-Sample-Release\example. Нажмите кнопку **ОК**, чтобы открыть пример проекта.

1. Добавьте ключ подписки службы "Речь" в исходном коде. Если вы хотите попробовать распознать намерения, также добавьте свой ключ подписки [службы "Распознавание речи"](https://azure.microsoft.com/services/cognitive-services/language-understanding-intelligent-service/) и идентификатор приложения.

   Ключи и сведения о приложении должны содержаться в следующих строках в исходном файле MainActivity.java:

   ```java
   // Subscription
   private static final String SpeechSubscriptionKey = "[your speech key]";
   private static final String SpeechRegion = "westus";
   private static final String LuisSubscriptionKey = "[your LUIS key]";
   private static final String LuisRegion = "westus2.api.cognitive.microsoft.com";
   private static final String LuisAppId = "[your LUIS app ID]"
   ```

1. По умолчанию слово для пробуждения (ключевое слово) — "Компьютер". Можно также попробовать одно из других предоставленных слов для пробуждения — "Машина" или "Помощник". Файлы ресурсов для этих альтернативных слов пробуждения находятся в пакете SDK для речевых устройств в папке "keyword". Например, C:\SDSDK\Android-Sample-Release\keyword\Computer содержит файлы, используемые для слова пробуждения "Компьютер".

    Кроме того, вы можете [создать пользовательское слово пробуждения](speech-devices-sdk-create-kws.md).

    Чтобы использовать новое слово пробуждения, обновите следующие две строки MainActivity.java и скопируйте пакет пробуждения word в приложение. Например использовать пробуждение word «Компьютер» из kws пакет пробуждения word-machine.zip:

   * Скопируйте пакет пробуждения word в папку «C:\SDSDK\Android-Sample-Release\example\app\src\main\assets\».
   * Обновление MainActivity.java с помощью ключевого слова и имя пакета: 
    
     ```java
     private static final String Keyword = "Machine";
     private static final String KeywordModel = "kws-machine.zip" // set your own keyword package name.
     ```

1. Обновите следующие строки, содержащие параметры геометрии микрофонной решетки:

   ```java
   private static final String DeviceGeometry = "Circular6+1";
   private static final String SelectedGeometry = "Circular6+1";
   ```
   В таблице ниже описаны доступные значения:

   |Переменная|Значение|Доступные значения|
   |--------|-------|----------------|
   |`DeviceGeometry`|Физическая конфигурация микрофона|Для кольцевого комплекта разработки: `Circular6+1` |
   |||Для линейного комплекта разработки: `Linear4`|
   |`SelectedGeometry`|Программная конфигурация микрофона|Для кольцевого комплекта разработки, использующего все микрофоны: `Circular6+1`|
   |||Для кольцевого комплекта разработки, использующего четыре микрофона: `Circular3+1`|
   |||Для линейного комплекта разработки, использующего все микрофоны: `Linear4`|
   |||Для линейного комплекта разработки, использующего два микрофона: `Linear2`|


1. Чтобы создать приложение, в меню **Запуск** выберите **Run 'app'** (Запустить "Приложение"). Отображается диалоговое окно **Select Deployment Target** (Выбор цели развертывания).

1. Выберите ваше устройство и нажмите кнопку **ОК** для развертывания приложения на устройстве.

    ![Диалоговое окно "Select Deployment Target" (Выбор цели развертывания)](media/speech-devices-sdk/qsg-7.png)

1. Запускается пример приложения пакета SDK для речевых устройств, отображающий следующие параметры:

   ![Пример приложения пакета SDK для речевых устройств и параметры](media/speech-devices-sdk/qsg-8.png)

1. Экспериментируйте!

## <a name="troubleshooting"></a>Устранение неполадок

### <a name="certificate-failures"></a>Ошибки сертификата

Если сбои сертификата при использовании служб речи, убедитесь, что устройство имеет правильные дату и время:

1. Перейдите в меню **Параметры**. В разделе **Система** выберите **Дата и время**.

    ![В разделе "Параметры" выберите "Дата и время".](media/speech-devices-sdk/qsg-12.png)

1. Оставьте параметр **Automatic date & time** (Автоматическая установка даты и времени) выбранным. В разделе **Выбор часового пояса** выберите нужный часовой пояс.

    ![Выбор параметров даты и часового пояса](media/speech-devices-sdk/qsg-13.png)

    Когда время, установленное в комплекте разработки, соответствует времени ПК, это означает, что комплект разработки подключен к Интернету.

    Подробнее о разработке см. в [руководстве по разработке ROOBO](http://dwn.roo.bo/server_upload/ddk/ROOBO%20Dev%20Kit-User%20Guide.pdf).

### <a name="audio"></a>Звук

ROOBO предоставляет инструмент, который собирает все аудио во флэш-память. Это может помочь в устранении проблем с аудио. Для каждой конфигурации набора разработки предусмотрена отдельная версия инструмента. На [сайте ROOBO](http://ddk.roobo.com/) выберите свое устройство и затем откройте ссылку **ROOBO Tools** (Средства ROOBO) в нижней части страницы.
