---
title: Краткое руководство. создание предварительной версии приложения настраиваемых команд с параметрами — служба речи
titleSuffix: Azure Cognitive Services
description: В этой статье вы добавите параметры в приложение пользовательских команд, чтобы оно может включать и выключать несколько устройств.
services: cognitive-services
author: nitinme
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 04/30/2020
ms.author: nitinme
ms.openlocfilehash: 940b3604487fbef7736c0d8f4f9299563b0b86d5
ms.sourcegitcommit: 5504d5a88896c692303b9c676a7d2860f36394c1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/08/2020
ms.locfileid: "84509310"
---
# <a name="quickstart-create-a-custom-commands-preview-application-with-parameters"></a>Краткое руководство. создание предварительной версии приложения настраиваемых команд с параметрами

В [предыдущей статье](./quickstart-custom-speech-commands-create-new.md)вы создали простое приложение настраиваемых команд без параметров.

В этой статье вы расширяете это приложение с помощью параметров, чтобы можно было включать и отключать несколько устройств.

## <a name="create-parameters"></a>Создание параметров

1. Откройте проект, созданный в [предыдущей статье](./quickstart-custom-speech-commands-create-new.md).

   Мы изменим существующую команду, чтобы ее можно было использовать для включения и отключения нескольких устройств.
1. Так как команда будет работать как в, так и в состоянии, переименуйте ее в **турнонофф**.
   1. В левой области выберите команду **Турнон** , а затем нажмите кнопку с многоточием (**...**) рядом с **командой Создать** в верхней части панели.
   
   1. Выберите **Переименовать**. В окне **команда переименования** измените **имя** на **туронофф**. Щелкните **Сохранить**.

1. Создайте параметр, указывающий, нужно ли включать или отключать устройство.
   1. Выберите **Добавить** в верхней части средней области. В раскрывающемся списке выберите **параметр**.
   1. В области справа в разделе **Параметры** добавьте значение в поле **имя** .
   1. Выберите **обязательный**. В окне **Добавление ответа для обязательного параметра** выберите **простой редактор**. В поле **первый вариант** введите следующий текст:
        ```
        On or Off?
        ```
   1. Выберите **Обновить**.

       > [!div class="mx-imgBorder"]
       > ![Создать ответ требуемого параметра](media/custom-speech-commands/add-required-on-off-parameter-response.png)
   
1. Настройте остальные свойства параметра следующим образом:
       

    | Параметр Configuration      | Рекомендуемое значение     | Описание                                                      |
    | ------------------ | ----------------| ---------------------------------------------------------------------|
    | **имя**;               | **онофф**           | Описательное имя параметра.                                                                  |
    | **Является глобальным**          | Очищено       | Флажок, указывающий, будет ли значение параметра глобально применено ко всем командам в приложении.|
    | **Обязательное**           | Selected         | Флажок, указывающий, является ли значение параметра обязательным.  |
    | **Ответ на обязательный параметр**      |**Простой редактор > включен или выключен?**      | Запрос на запрос значения параметра, если он неизвестен. |
    | **Тип**               | **String**          | Тип параметра. Например, число, строка, Дата и время, geography.   |
    | **Конфигурация**      | **Принять предопределенные входные значения из внутреннего каталога** | Для строк этот параметр ограничивает входные данные набором возможных значений. |
    | **Предопределенные входные значения**     | **вкл**., **выкл** .             | Набор возможных значений и их псевдонимов.         |
       


    > [!div class="mx-imgBorder"]
    > ![Создать параметр](media/custom-speech-commands/create-on-off-parameter.png)

1. Нажмите кнопку **Сохранить**, чтобы сохранить параметры.

 1. Нажмите кнопку **Добавить** еще раз, чтобы добавить второй параметр. Этот параметр представляет имя устройства. Используйте следующие параметры.
   

       | Параметр            | Рекомендуемое значение       | Описание                                                                                               |
       | ------------------ | --------------------- | --------------------------------------------------------------------------------------------------------- |
       | **имя**;               | **субжектдевице**         | Описательное имя параметра.                                                                     |
       | **Является глобальным**          | Очищено             | Флажок, указывающий, будет ли значение параметра глобально применено ко всем командам в приложении. |
       | **Обязательное**           | Selected               | Флажок, указывающий, является ли значение параметра обязательным.          |
       | **Простой редактор**      | **Какое устройство?**    | Запрос на запрос значения параметра, если он неизвестен.                                       |
       | **Тип**               | **String**                | Тип параметра. Например, число, строка, Дата и время, geography.                                                |
       | **Конфигурация**      | **Принять предопределенные входные значения из внутреннего каталога** | Для строк этот параметр ограничивает входные данные набором возможных значений.       |
       | **Предопределенные входные значения** | **телевизор**, **вентилятор**               | Набор возможных значений и их псевдонимов.                               |
       | **Псевдонимы** (телевизор)      | **телевидение**, **уведомление**     | Необязательные псевдонимы для каждого предопределенного входного значения.                                 |

## <a name="add-example-sentences"></a>Добавить примеры предложений

Для команд, имеющих параметры, рекомендуется добавить примеры предложений, охватывающие все возможные сочетания. Пример:

- Полные сведения о параметрах:`turn {OnOff} the {SubjectDevice}`
- Сведения о частичном параметре:`turn it {OnOff}`
- Нет сведений о параметрах:`turn something`

Примеры предложений с различными объемами информации позволяют приложению с пользовательскими командами разрешать как однозначные разрешения, так и множественные разрешения, имеющие частичную информацию.

Учитывая это, измените примеры предложений, чтобы использовать указанные здесь параметры:

```
turn {OnOff} the {SubjectDevice}
{SubjectDevice} {OnOff}
turn it {OnOff}
turn something {OnOff}
turn something
```
> [!TIP]
> В редакторе примеров предложений для ссылки на параметры используйте фигурные скобки: `turn {OnOff} the {SubjectDevice}` .
>
> Используйте вкладку для автоматического завершения, определяемую ранее созданными параметрами.

## <a name="add-parameters-to-completion-rules"></a>Добавление параметров в правила завершения

Измените правило завершения, созданное в [предыдущем кратком руководстве](./quickstart-custom-speech-commands-create-new.md).

1. В разделе **условия** выберите **Добавить условие**.
1. В окне **новое условие** в списке **тип** выберите **обязательные параметры**. В списке выберите **онофф** и **субжектдевице**.
1. Выберите **Создать**.
1. В разделе **действия** измените существующее действие **Отправка речевого ответа** , наведя указатель мыши на действие и нажав кнопку Изменить. На этот раз используйте новые `OnOff` Параметры и `SubjectDevice` :

    ```
    Ok, turning {OnOff} the {SubjectDevice}
    ```

## <a name="try-it-out"></a>Попробуйте!
1. Выберите **обучение** в верхней части правой панели.

1. По завершении обучения выберите **тест**.
    
    Откроется окно **тестирования приложения** .

1. Попробуйте несколько взаимодействий.

        - Input: turn off the tv
        - Output: Ok, turning off the tv        
        - Input: turn off the television
        - Output: Ok, turning off the tv
        - Input: turn it off
        - Output: Which device?
        - Input: the tv
        - Output: Ok, turning off the tv

## <a name="next-steps"></a>Дальнейшие действия
> [!div class="nextstepaction"]
> [Краткое руководство. Использование пользовательских команд с настраиваемым голосовым стандартом (Предварительная версия)](./quickstart-custom-speech-commands-select-custom-voice.md)
