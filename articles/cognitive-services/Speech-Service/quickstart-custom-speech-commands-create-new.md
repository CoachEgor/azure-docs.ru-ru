---
title: Краткое руководство. Создание настраиваемой команды (Предварительная версия) — служба речи
titleSuffix: Azure Cognitive Services
description: В этой статье вы создадите и протестируете размещенное приложение пользовательских команд.
services: cognitive-services
author: don-d-kim
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 04/30/2020
ms.author: donkim
ms.openlocfilehash: f31d7279b73bab7aefda4c4b6570500d05cb89d7
ms.sourcegitcommit: f57297af0ea729ab76081c98da2243d6b1f6fa63
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/06/2020
ms.locfileid: "82872527"
---
# <a name="quickstart-create-a-custom-commands-app-preview"></a>Краткое руководство. Создание пользовательского командного приложения (Предварительная версия)

В этом кратком руководстве вы узнаете, как создать и протестировать приложение с пользовательскими командами.
Созданное приложение будет обрабатывать фразы продолжительностью, например "включить ТВ" и ответить простым сообщением "ОК, включение телевизора".

## <a name="prerequisites"></a>Предварительные требования

> [!div class="checklist"]
> * <a href="https://ms.portal.azure.com/#create/Microsoft.CognitiveServicesSpeechServices" target="_blank">Создайте ресурс службы "Речь" в Azure <span class="docon docon-navigate-external x-hidden-focus"></span></a>.

  > [!NOTE]
  > В настоящее время пользовательские команды поддерживают только подписки на речь в регионах westus, westus2 и неур.

## <a name="go-to-the-speech-studio-for-custom-commands"></a>Переход в речевое меню для пользовательских команд

1. Откройте веб-браузер и перейдите к [речевой студии](https://speech.microsoft.com/) .
1. Введите свои учетные данные для входа на портал.

   - Представление по умолчанию — это список подписок на речь.
     > [!NOTE]
     > Если страница Выбор подписки не отображается, можно перейти на нее, выбрав "ресурсы речи" в меню параметров на верхней панели.

1. Выберите свою подписку на речь, а затем щелкните **"переход к студии"**.
1. Выберите **пользовательские команды**.

     - Представление по умолчанию — это список приложений настраиваемых команд в выбранной подписке.

## <a name="create-a-custom-commands-project"></a>Создание проекта настраиваемых команд

1. Выберите **создать проект** , чтобы создать новый проект.

   > [!div class="mx-imgBorder"]
   > ![Создание проекта](media/custom-speech-commands/create-new-project.png)

1. Введите имя проекта.
1. В раскрывающемся списке выберите язык.
1. Выберите ресурс для разработки из раскрывающегося списка. Если нет допустимых ресурсов для разработки, создайте его, щелкнув **создать новый ресурс Luis Authoring**.

   > [!div class="mx-imgBorder"]
   > ![Создание ресурса](media/custom-speech-commands/create-new-resource.png)

   - Введите имя ресурса, группу ресурсов.
   - В раскрывающемся списке выберите значение для параметра расположение и ценовая категория.

      > [!NOTE]
      > Чтобы создать группы ресурсов, введите нужное имя группы ресурсов в поле "Группа ресурсов". Группа ресурсов будет создана при выборе **создать** .

1. Затем выберите **создать** , чтобы создать проект.
1. После создания выберите проект.

    - Теперь представление должно быть обзором созданного приложения с пользовательскими командами.

## <a name="update-luis-resources-optional"></a>Обновление ресурсов LUIS (необязательно)

Можно обновить ресурс создания, заданный в окне Новый проект, и задать ресурс прогнозирования. Ресурс прогнозирования используется для распознавания после публикации приложения пользовательских команд. Вам не нужен прогнозирующий ресурс для этапов разработки и тестирования.

1. Выберите **Параметры** на левой панели, а затем перейдите к разделу **ресурсы Luis** в средней области.
1. Выберите прогнозируемый ресурс или создайте его, выбрав **создать новый ресурс**.
1. Щелкните **Сохранить**.
    
    > [!div class="mx-imgBorder"]
    > ![Настройка ресурсов LUIS](media/custom-speech-commands/set-luis-resources.png)


> [!NOTE]
> Так как ресурс разработки поддерживает только 1 000 запросов к конечной точке прогнозирования в месяц, вам потребуется задать LUISный ресурс прогнозирования перед публикацией приложения с пользовательскими командами.


## <a name="create-a-new-command"></a>Создание новой команды

Давайте создадим простую команду, которая будет принимать один utterance, `turn on the tv`и реагировать на сообщение. `Ok, turning on the tv`

1. Создайте новую команду, щелкнув `+ New command` значок в верхней части левой области. Новое всплывающее окно отображается под названием **Новая команда**.
1. Укажите для поля **имени** значение `TurnOn`.
1. Щелкните **Создать**.

В средней области прикрепляются различные свойства команды:


| Конфигурация            | Описание                                                                                                                 |
| ---------------- | --------------------------------------------------------------------------------------------------------------------------- |
| Примеры предложений | Пример фразы продолжительностью, который пользователь может сказать, чтобы активировать эту команду                                                                 |
| Параметры       | Сведения, необходимые для выполнения команды                                                                                |
| Правила завершения | Действия, выполняемые для выполнения команды. Например, для реагирования на пользователя или взаимодействия с другой веб-службой. |
| Правила взаимодействия   | Дополнительные правила для работы с более конкретными или сложными ситуациями                                                              |


> [!div class="mx-imgBorder"]
> ![Создание команды](media/custom-speech-commands/create-add-command.png)


### <a name="add-example-sentences"></a>Добавить примеры предложений

Начнем с раздела примеров предложений и рассмотрим пример того, что может сказать пользователь.

1. Выберите раздел **примеры предложений** в средней области и в правой области добавьте примеры:

    ```
    turn on the tv
    ```

1. В `Save` верхней части этой панели отображается значок выбора.

Сейчас у нас нет параметров, поэтому мы можем перейти к разделу **правил завершения** .

### <a name="add-a-completion-rule"></a>Добавление правила завершения

Теперь добавьте правило завершения со следующей конфигурацией. Это правило указывает пользователю на то, что выполняется действие по выполнению.


| Параметр    | Рекомендуемое значение                          | Описание                                        |
| ---------- | ---------------------------------------- | -------------------------------------------------- |
| Имя правила  | конфирматионреспонсе                  | Имя, описывающее назначение правила.          |
| Условия | Нет                                     | Условия, определяющие, когда может выполняться правило    |
| Действия    | Спичреспонсе "-ОК, включение телевизора" | Действие, выполняемое, если условие правила имеет значение true |

1. Создайте новое правило завершения, щелкнув `+Add` значок в верхней части средней области.
1. Укажите значение в разделе **Name** .
1. Добавление действия
   1. Создайте новое действие, выбрав **+ Добавить действие** в разделе **действия** .
   1. На всплывающем окне **создать действие** выберите `Send speech response` из раскрывающегося списка параметры для параметра **тип**.
   1. Выберите `Simple editor` поле **ответа** .
       - В **первом поле варианта** укажите значение для параметра ответ.`Ok, turning on the tv`

   > [!div class="mx-imgBorder"]
   > ![Создание речевого ответа](media/custom-speech-commands/create-speech-response-action.png)

1. Нажмите кнопку **сохранить** , чтобы сохранить правило.
1. В разделе **правила завершения** нажмите кнопку **сохранить** , чтобы сохранить все изменения. 

> [!div class="mx-imgBorder"]
> ![Создание правила завершения](media/custom-speech-commands/create-basic-completion-response-rule.png)



## <a name="try-it-out"></a>Попробуйте!

Тестирование поведения с помощью панели "тест чата"
1. Значок `Train` выбора находится в верхней части правой панели.
1. После завершения обучения выберите `Test`. Появится новое **тестовое окно приложения** .
    - Введите: Включите телевизор.
    - Ожидаемый ответ: ОК, включение телевизора


> [!div class="mx-imgBorder"]
> ![Тестирование с помощью веб-разговора](media/custom-speech-commands/create-basic-test-chat.png)

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Краткое руководство. Создание настраиваемой команды с параметрами (Предварительная версия)](./quickstart-custom-speech-commands-create-parameters.md)
