---
title: Краткое руководство. Создание настраиваемых команд Предварительная версия приложения — речевая служба
titleSuffix: Azure Cognitive Services
description: В этой статье вы создадите и протестируете приложение, размещенное в приложении Custom Commands Preview. Приложение будет обрабатывать фразы продолжительностью.
services: cognitive-services
author: nitinme
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 04/30/2020
ms.author: nitinme
ms.openlocfilehash: 5b54923bb667053ffc886b335ab9d1b0cf4cb754
ms.sourcegitcommit: 5504d5a88896c692303b9c676a7d2860f36394c1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/08/2020
ms.locfileid: "84509361"
---
# <a name="quickstart-create-a-custom-commands-preview-app"></a>Краткое руководство. создание предварительной версии приложения настраиваемых команд

В этом кратком руководстве вы узнаете, как создать и протестировать приложение с пользовательскими командами.
Приложение будет обрабатывать фразы продолжительностью, например "включить телевизор" и ответить простым сообщением, например "ОК, включение ТВ".

## <a name="prerequisites"></a>Предварительные требования

> [!div class="checklist"]
> * <a href="https://ms.portal.azure.com/#create/Microsoft.CognitiveServicesSpeechServices" target="_blank">Создайте ресурс службы "Речь" в Azure <span class="docon docon-navigate-external x-hidden-focus"></span></a>.

  > [!NOTE]
  > В настоящее время пользовательские команды поддерживают только подписки на речь в регионах westus, westus2 и неур.

## <a name="go-to-the-speech-studio-for-custom-commands"></a>Переход в речевое меню для пользовательских команд

1. В веб-браузере перейдите в раздел " [речь Studio](https://speech.microsoft.com/)".
1. Введите свои учетные данные для входа на портал.

   Представление по умолчанию — это список подписок на речь.
    > [!NOTE]
    > Если страница Выбор подписки не отображается, можно получить ее, выбрав пункт " **речевые ресурсы** " в меню "Параметры" в верхней части экрана.

1. Выберите свою подписку на речь, а затем щелкните **"переход к студии"**.
1. Выберите **пользовательские команды**.

     Представление по умолчанию — это список приложений с пользовательскими командами, которые имеются в выбранной подписке.

## <a name="create-a-custom-commands-project"></a>Создание проекта настраиваемых команд

1. Выберите **создать проект** , чтобы создать проект.

   > [!div class="mx-imgBorder"]
   > ![Создание проекта](media/custom-speech-commands/create-new-project.png)

1. В поле **имя** введите имя проекта.
1. В списке **язык** выберите язык.
1. В списке **ресурсов для разработки Luis** выберите ресурс для разработки. Если нет допустимых ресурсов для разработки, создайте его, выбрав **создать новый ресурс**для создания Luis.

   > [!div class="mx-imgBorder"]
   > ![Создание ресурса](media/custom-speech-commands/create-new-resource.png)

   1. В поле **имя ресурса** введите имя ресурса.
   1. В списке **Группа ресурсов** выберите группу ресурсов.
   1. В списке **Расположение** выберите расположение.
   1. В списке **ценовая** Категория выберите уровень.

      > [!NOTE]
      > Группу ресурсов можно создать, введя имя группы ресурсов в поле **Группа ресурсов** . Группа ресурсов будет создана при выборе **создать**.

1. Выберите **Создать**.
1. После создания проекта выберите его.

    Теперь вы увидите обзор нового приложения с пользовательскими командами.

## <a name="update-luis-resources-optional"></a>Обновление ресурсов LUIS (необязательно)

Вы можете обновить ресурс создания, выбранный в окне **Новый проект** , и задать ресурс прогноза. Ресурс прогнозирования используется для распознавания при публикации приложения пользовательских команд. Вам не нужен прогнозирующий ресурс на этапах разработки и тестирования.

1. Выберите **Параметры** на левой панели, а затем выберите **Luis Resources (ресурсы** ) в средней области.
1. Выберите прогнозируемый ресурс или создайте его, выбрав **создать новый ресурс**.
1. Нажмите кнопку **Сохранить**.
    
    > [!div class="mx-imgBorder"]
    > ![Настройка ресурсов LUIS](media/custom-speech-commands/set-luis-resources.png)


> [!NOTE]
> Так как ресурс разработки поддерживает только 1 000 запросов к конечной точке прогнозирования в месяц, необходимо задать ресурс прогнозирования LUIS перед публикацией приложения пользовательских команд.


## <a name="create-a-command"></a>Создание команды

Давайте создадим простую команду, которая будет принимать один utterance, `turn on the tv` и реагировать на сообщение `Ok, turning on the tv` .

1. Создайте команду, выбрав **команду Создать** в верхней части левой панели. Откроется **новое командное** окно.
1. В поле **имя** введите **Турнон**.
1. Выберите **Создать**.

В средней области перечислены свойства команды.


| Конфигурация            | Описание                                                                                                                 |
| ---------------- | --------------------------------------------------------------------------------------------------------------------------- |
| **Примеры предложений** | Примеры фразы продолжительностью, которые пользователь может сказать для активации команды.                                                                 |
| **Параметры**       | Сведения, необходимые для выполнения команды.                                                                                |
| **Правила завершения** | Действия, которые будут предприняты для выполнения команды. Например, реагирование на пользователя или взаимодействие с другой веб-службой. |
| **Правила взаимодействия**   | Дополнительные правила для решения более конкретных или сложных ситуаций.                                                              |


> [!div class="mx-imgBorder"]
> ![Создание команды](media/custom-speech-commands/create-add-command.png)


### <a name="add-example-sentences"></a>Добавить примеры предложений

Начнем с раздела **примеров предложений** . Мы предоставим пример того, что может сказать пользователь.

1. Выберите **примеры предложений** в средней области. 
1. В области справа добавьте примеры:

    ```
    turn on the tv
    ```

1. Выберите **сохранить** в верхней части панели.

Сейчас у нас нет параметров, поэтому мы можем перейти к разделу **правила завершения** .

### <a name="add-a-completion-rule"></a>Добавление правила завершения

Теперь добавьте правило завершения со следующей конфигурацией. Это правило сообщает пользователю о том, что предпринимается действие выполнения.


| Параметр    | Рекомендуемое значение                          | Описание                                        |
| ---------- | ---------------------------------------- | -------------------------------------------------- |
| **имя**;  | **конфирматионреспонсе**                  | Имя, описывающее назначение правила.          |
| **Условия** | Нет                                     | Условия, определяющие, когда может выполняться правило.    |
| **Действия**    | **Отправка речевого ответа — > ОК, включение телевизора** | Действие, выполняемое, если условие правила имеет значение true. |

1. Создайте новое правило завершения, выбрав **Добавить** в верхней части средней области.
1. В поле **Имя** введите имя.
1. Добавление действия.
   1. Создайте действие, выбрав **Добавить действие** в разделе **действия** .
   1. В окне " **изменение действия** " в списке **тип** выберите **Отправить речевое реагирование**.
   1. В разделе **ответ**выберите **простой редактор**. В поле **первый вариант** введите **ОК, включив ТВ**.

   > [!div class="mx-imgBorder"]
   > ![Создание ответа](media/custom-speech-commands/create-speech-response-action.png)

1. Нажмите кнопку **сохранить** , чтобы сохранить правило.
1. В разделе **правила завершения** нажмите кнопку **сохранить** , чтобы сохранить все изменения. 

> [!div class="mx-imgBorder"]
> ![Создание правила завершения](media/custom-speech-commands/create-basic-completion-response-rule.png)



## <a name="try-it-out"></a>Попробуйте!

Проверьте поведение с помощью панели "тест чата".
1. Выберите **обучение** в верхней части правой панели.
1. По завершении обучения выберите **тест**. Откроется новое окно **Testing (приложение** ).
    - Введите **"включить ТВ"**
    - Ожидаемый ответ: **ОК, включение телевизора**


> [!div class="mx-imgBorder"]
> ![Проверка поведения](media/custom-speech-commands/create-basic-test-chat.png)

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Краткое руководство. создание предварительной версии приложения настраиваемых команд с параметрами](./quickstart-custom-speech-commands-create-parameters.md)
