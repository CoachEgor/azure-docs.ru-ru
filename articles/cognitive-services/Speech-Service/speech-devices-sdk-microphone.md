---
title: Рекомендации по массиву микрофонов SDK SDK
titleSuffix: Azure Cognitive Services
description: Рекомендации по микрофону SDK-устройств SDK. Эти массивы геометрии рекомендуется для использования с Microsoft Audio Stack.
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 07/16/2019
ms.author: erhopf
ms.openlocfilehash: a87bdd7a55036e8b70f0bc5816d2b587c1569202
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77168144"
---
# <a name="speech-devices-sdk-microphone-array-recommendations"></a>Рекомендации по массиву устройств sDK Microphone

В этой статье вы узнаете, как создать микрофонный массив для SDK-устройств речи.

SDK Speech Devices лучше всего работает с микрофонным массивом, который был разработан в соответствии со следующими руководящими принципами, включая геометрию микрофона и выбор компонентов. Руководящие указания даны также по вопросам интеграции и электрических соображений.

## <a name="microphone-geometry"></a>Геометрия микрофона

Следующие геометрии массива рекомендуются для использования в Microsoft Audio Stack. Расположение источников звука и отказ от окружающего шума улучшается с большим количеством микрофонов с зависимостями от конкретных приложений, сценариев пользователей и форм-фактора устройства.

|     | Круговой массив |     | Линейный массив |     |
| --- | -------------- | --- | ------------ | --- |
|     | <img src="media/speech-devices-sdk/7-mic-c.png" alt="7 mic circular array" width="150"/> | <img src="media/speech-devices-sdk/4-mic-c.png" alt="4 mic circular array" width="150"/> | <img src="media/speech-devices-sdk/4-mic-l.png" alt="4 mic linear array" width="150"/> | <img src="media/speech-devices-sdk/2-mic-l.png" alt="2 mic linear array" width="150"/> |
| \#Микрофонов | 7 | 4 | 4 | 2 |
| Geometry | 6 Внешний, 1 центр, Радиус 42,5 мм, равномерно ежеразие | 3 Внешний, 1 центр, Радиус 42,5 мм, равномерно ежеразие | Длина 120 мм, интервал 40 мм | Расстояние 40 мм |

Микрофонные каналы должны быть заказаны в соответствии с числовым изображением для каждого выше массива, увеличивающимся с 0. Microsoft Audio Stack потребует дополнительного справочного потока воспроизведения звука для выполнения отмены эхо.

## <a name="component-selection"></a>Выбор компонентов

Компоненты микрофона должны быть выбраны для точного воспроизведения сигнала, свободного от шума и искажений.

Рекомендуемые свойства при выборе микрофонов:

| Параметр | Рекомендуемая |
| --------- | ----------- |
| Snr | \>65 дБ (1 кГц сигнал 94 dBSPL, взвешенный шум) |
| Амплитуда соответствие | 1 дБ и 1 кГц |
| Сопоставление фазы | 2 кГц |
| Акустическая точка перегрузки (AOP) | \>120 dBSPL (THD - 10%) |
| Скорость | Минимальный 24-разрядный |
| Частота дискретизации | Минимум 16 кГц\* |
| Реакция частоты | 3 дБ, 200-8000 Гц Плавающая маска\* |
| Надежность | Диапазон температуры хранения от -40 градусов по Цельсию до 70 градусов по Цельсию<br />Диапазон рабочей температуры от -20 градусов по Цельсию до 55 градусов по Цельсию |

\*_Более высокие показатели выборки или "более широкие" частотные диапазоны могут быть необходимы для высококачественных приложений связи (VoIP)_

Хороший выбор компонентов должен сочетаться с хорошей электроакустической интеграцией, чтобы избежать ухудшивания производительности используемых компонентов. Уникальные случаи использования могут также потребовать дополнительных требований (например, диапазоны рабочей температуры).

## <a name="microphone-array-integration"></a>Интеграция массива микрофонов

Производительность микрофонного массива при интеграции в устройство будет отличаться от спецификации компонента. Важно обеспечить, чтобы микрофоны были хорошо согласованы после интеграции. Поэтому производительность устройства, измеренная после любого фиксированного прироста или эквалайзера, должна соответствовать следующим рекомендациям:

| Параметр          | Рекомендуемая                                        |
| ------------------ | -------------------------------------------------- |
| Snr                | \>63 дБ (1 кГц сигнал 94 dBSPL, взвешенный шум) |
| Чувствительность к выходу | -26 dBFS/Pa 1 кГц (рекомендуется)                  |
| Амплитуда соответствие | 2 дБ, 200-8000 Гц                                |
| THD%\*             | 1%, 200-8000 Гц, 94 dBSPL, 5-й заказ             |
| Реакция частоты | 6 дБ, 200-8000 Гц Плавающая маска\*\*              |

\*\*_Низкий динамик искажения необходим для измерения THD (например, Neumann KH120)_

\*\*_Для высококачественных приложений связи (VoIP) могут потребоваться "широкие" частотные диапазоны_

## <a name="speaker-integration-recommendations"></a>Рекомендации по интеграции спикеров

Поскольку отмена эха необходима для устройств распознавания речи, которые содержат динамики, предусмотрены дополнительные рекомендации по выбору и интеграции динамиков.

| Параметр | Рекомендуемая |
| --------- | ----------- |
| Линейные соображения | Нет нелинейной обработки после ссылки динамик, в противном случае аппаратной основе Loopback справочный поток не требуется |
| Спикер Loopback | Предоставляется через WASAPI, частные API, пользовательские ПЛАГИН ALSA (Linux), или предоставляемые через канал прошивки |
| THD% | 3-я Octave Полосы минимальный 5-й заказ, 70 dBA Воспроизведение 0,8 м 6,3%, 315-500 Гц 5%, 630-5000 Гц |
| Эхо соединение с микрофонами | \>-10 дБ ТКЛВ с использованием метода МСЭ-Т Г.122 Приложение B.4, нормализованного до уровня микрофона<br />TCLw - TCLwmeasured \+ (измеренный уровень - Целевая чувствительность к выходу)<br />TCLw - TCLwmeasured \+ (измеренный уровень - (-26)) |

## <a name="integration-design-architecture"></a>Архитектура интеграционного дизайна

При интеграции микрофонов в устройство необходимы следующие рекомендации по архитектуре:

| Параметр | Рекомендация |
| --------- | -------------- |
| Сходность Mic Port | Все порты микрофона одинаковой длины в массиве |
| Размеры Mic Port | Размер порта 0,8-1,0 мм. Длина порта \< / Диаметр порта 2 |
| Микрофон Уплотнение         | Запечатывание прокладок равномерно реализовано в стек-ап. Рекомендуем \> 70% коэффициент сжатия для пенных прокладков |
| Надежность микрофона     | Сетка должна использоваться для предотвращения пыли и проникновения (между ПХД для нижних портированных микрофонов и герметичной прокладкой/верхней крышкой) |
| Мик Изоляция       | Резиновые прокладки и вибрации разъединения через структуру, особенно для изоляции любых вибрационных путей из-за интегрированных динамиков |
| Часы выборки      | Устройство аудио должно быть свободным от испуга и отсева с низким дрейфом |
| Возможность записи   | Устройство должно быть в состоянии записывать отдельные каналы сырых потоков одновременно |
| USB                 | Все устройства USB аудио ввода должны установить дескрипторы в соответствии с [USB аудио устройств Rev3 Спецификация](https://www.usb.org/document-library/usb-audio-devices-rev-30-and-adopters-agreement) |
| Геометрия микрофона | Драйверы должны правильно реализовывать [дескрипторы геометрии микрофонного массива](https://docs.microsoft.com/windows-hardware/drivers/audio/ksproperty-audio-mic-array-geometry) |
| Возможность обнаружения     | Устройства не должны иметь какого-либо необнаруживаемого или неконтролируемого оборудования, прошивки или третьей стороны на основе программного обеспечения нелинейных алгоритмов обработки звука к/ с устройства |
| Формат захвата      | Форматы захвата должны использовать минимальную скорость отбора проб 16 кГц и рекомендуемую 24-битную глубину |

## <a name="electrical-architecture-considerations"></a>Соображения электрической архитектуры

Там, где это применимо, массивы могут быть подключены к USB-хосту (например, SoC, который управляет Microsoft Audio Stack) и интерфейсами для служб речи или других приложений.

Компоненты оборудования, такие как преобразование ДПМ-к-TDM, должны гарантировать, что динамический диапазон и SNR микрофонов сохраняются в повторно пробоотборных аппаратах.

Высокоскоростной USB Audio Class 2.0 должен поддерживаться в любом аудио MCUs для того, чтобы обеспечить необходимую пропускную способность до семи каналов при более высоких частотах выборки и битной глубине.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Узнайте больше о устройствах речи SDK](speech-devices-sdk.md)
