---
title: Как добавить подтверждение в настраиваемую команду (Предварительная версия)
titleSuffix: Azure Cognitive Services
description: В этой статье описывается, как реализовать подтверждения для команды в пользовательских командах.
services: cognitive-services
author: encorona-ms
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 12/05/2019
ms.author: encorona
ms.openlocfilehash: afa197c83b4f66f12863de4185ef7763447f3ed9
ms.sourcegitcommit: 58faa9fcbd62f3ac37ff0a65ab9357a01051a64f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2020
ms.locfileid: "75456501"
---
# <a name="how-to-add-a-confirmation-to-a-custom-command-preview"></a>Как добавить подтверждение в настраиваемую команду (Предварительная версия)

В этой статье вы узнаете, как добавить подтверждение в команду.

## <a name="prerequisites"></a>Предварительные требования

Необходимо выполнить действия, описанные в следующих статьях:

- [Краткое руководство. Создание настраиваемой команды (Предварительная версия)](./quickstart-custom-speech-commands-create-new.md)
- [Краткое руководство. Создание настраиваемой команды с параметрами (Предварительная версия)](./quickstart-custom-speech-commands-create-parameters.md)

## <a name="create-a-setalarm-command"></a>Создание команды Сеталарм

Чтобы продемонстрировать проверки, создадим новую команду, позволяющую пользователю установить оповещение.

1. Открытие созданного ранее приложения настраиваемых команд в [Speech Studio](https://speech.microsoft.com/)
1. Создание новой команды **сеталарм**
1. Добавьте параметр с именем DateTime

   | Параметр           | Рекомендуемое значение                                          | Описание                                                                                      |
   | ----------------- | ---------------------------------------------------------| ------------------------------------------------------------------------------------------------ |
   | Имя              | Дата и время                                                 | Описательное имя для параметра команды                                                    |
   | Обязательный          | Да                                                     | Флажок, указывающий, требуется ли значение этого параметра перед выполнением команды |
   | Шаблон ответа | "-Какое время?"                                           | Запрос на запрос значения этого параметра, если он неизвестен                              |
   | Тип              | Дата и время                                                 | Тип параметра, например число, строка или Дата и время                                      |
   | Значения по умолчанию для даты     | Если дата отсутствует, используйте сегодня                             |                                                                                                  |
   | Значения времени по умолчанию     | Если время отсутствует, используйте начало дня                      |                                                                                                  | 

1. Добавление примеров предложений
   
   ```
    set an alarm for {DateTime}
    set alarm {DateTime}
    alarm for {DateTime}
   ```

1. Добавление правила завершения для подтверждения результата

   | Параметр    | Рекомендуемое значение                                         | Описание                                        |
   | ---------- | ------------------------------------------------------- | -------------------------------------------------- |
   | Имя правила  | Задать будильник                                               | Имя, описывающее назначение правила.          |
   | Действия    | Спичреспонсе-"-ОК, оповещение установлено для {DateTime}"       | Действие, выполняемое, если условие правила имеет значение true |

## <a name="try-it-out"></a>Попробуйте!

Выберите панель "тестирование" и попробуйте несколько взаимодействий.

- Входные данные: задать оповещение для завтрашнего дня в полдень
- Выходные данные: "ОК, оповещение установлено для 12/06/2019 12:00:00"

- Входные данные: задать оповещение
- Выходные данные: "какое время?"
- Входные данные: 17:00
- Выходные данные: "ОК, оповещение установлено для 12/05/2019 17:00:00"

## <a name="add-the-advanced-rules-for-confirmation"></a>Добавление расширенных правил для подтверждения

1. Добавьте расширенное правило для подтверждения. 

    Это правило попросит пользователя подтвердить дату и время оповещения и ожидает подтверждения (да/нет) для следующей активации.

   | Параметр               | Рекомендуемое значение                                                                  | Описание                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | Имя правила             | Подтверждение даты и времени                                                                | Имя, описывающее назначение правила.          |
   | Условия            | Обязательный параметр-DateTime                                                    | Условия, определяющие, когда может выполняться правило    |   
   | Действия               | Спичреспонсе-"— вы действительно хотите задать оповещение для {DateTime}?"       | Действие, выполняемое, если условие правила имеет значение true |
   | Состояние после выполнения | Ожидание входных данных                                                                   | Состояние пользователя после включения                  |
   | Превосходящи          | Подтверждение                                                                     | Ожидание следующей очереди                      |

1. Добавление расширенного правила для успешного подтверждения (пользователь сказал да)

   | Параметр               | Рекомендуемое значение                                                                  | Описание                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | Имя правила             | Подтверждение принятия                                                            | Имя, описывающее назначение правила.          |
   | Условия            | Сукцессфулконфирматион & обязательный параметр-DateTime                           | Условия, определяющие, когда может выполняться правило    |   
   | Состояние после выполнения | Готово к завершению                                                             | Состояние пользователя после включения                   |

1. Добавление расширенного правила для принятия решения об отклонении подтверждения (пользователь сказал No)

   | Параметр               | Рекомендуемое значение                                                                  | Описание                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | Имя правила             | Отклонение подтверждения                                                                   | Имя, описывающее назначение правила.          |
   | Условия            | Дениедконфирматион & обязательный параметр-DateTime                               | Условия, определяющие, когда может выполняться правило    |   
   | Действия               | Клеарпараметер-DateTime & Спичреспонсе-"-нет проблем, а какое время?"     | Действие, выполняемое, если условие правила имеет значение true |
   | Состояние после выполнения | Ожидание входных данных                                                                   | Состояние пользователя после включения                   |
   | Превосходящи          | ЕлиЦитпараметерс-DateTime                                                      | Ожидание следующей очереди                      |

## <a name="try-it-out"></a>Попробуйте!

Выберите панель "тестирование" и попробуйте несколько взаимодействий.

- Входные данные: задать оповещение для завтрашнего дня в полдень
- Выходные данные: "вы действительно хотите установить оповещение для 12/07/2019 12:00:00?"
- Входные данные: нет
- Выходные данные: "нет проблем, сколько времени?"
- Входные данные: 17:00
- Выходные данные: "вы действительно хотите установить оповещение для 12/06/2019 17:00:00?"
- Входные данные: Да
- Выходные данные: "ОК, оповещение установлено для 12/06/2019 17:00:00"

## <a name="next-steps"></a>Следующие шаги

> [!div class="nextstepaction"]
> [Как добавить одношаговое исправление в настраиваемую команду (Предварительная версия)](./how-to-custom-speech-commands-one-step-correction.md)