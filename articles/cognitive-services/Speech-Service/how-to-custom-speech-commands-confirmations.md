---
title: Добавление подтверждений в настраиваемых командах Предварительная версия приложения — речевая служба
titleSuffix: Azure Cognitive Services
description: Узнайте, как добавить подтверждения для команд в приложении предварительной версии пользовательских команд.
services: cognitive-services
author: encorona-ms
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 12/05/2019
ms.author: encorona
ms.openlocfilehash: 1cb0624012b22b6cae2c98bfa6ddc9495e09615d
ms.sourcegitcommit: 69156ae3c1e22cc570dda7f7234145c8226cc162
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2020
ms.locfileid: "84310474"
---
# <a name="add-confirmations-to-a-command-in-a-custom-commands-preview-application"></a>Добавление подтверждений для команды в предварительной версии приложения пользовательских команд

В этой статье вы узнаете, как создавать подтверждения для команд в приложении предварительной версии пользовательских команд.

## <a name="prerequisites"></a>Предварительные требования

Выполните действия, описанные в следующих статьях:
> [!div class="checklist"]
> * [Краткое руководство. создание предварительной версии приложения настраиваемых команд](./quickstart-custom-speech-commands-create-new.md)
> * [Краткое руководство. создание предварительной версии приложения настраиваемых команд с параметрами](./quickstart-custom-speech-commands-create-parameters.md)

## <a name="create-a-setalarm-command"></a>Создание команды Сеталарм

Чтобы продемонстрировать подтверждения, создайте новую команду, которая задает оповещение.

1. В окне " [речь Studio](https://speech.microsoft.com/)" Откройте созданное приложение Custom Commands Preview.
1. Создайте новую команду **сеталарм** .
1. Добавьте параметр **DateTime** , который имеет следующую конфигурацию:

   | Параметр                           | Рекомендуемое значение                     |  Описание                 |
   | --------------------------------- | -----------------------------------------------------| ------------|
   | **имя**;                              | **DateTime**                                | Описательное имя для параметра                                |
   | **Обязательно**                          | Флажок установлен                                 | Флажок, указывающий, требуется ли значение этого параметра перед выполнением команды |
   | **Ответ на обязательный параметр**   | **Простой редактор — > в какое время?**                              | Запрос на запрос значения этого параметра, если он неизвестен |
   | **Type**                              | **DateTime**                                | Тип параметра, например число, строка, Дата и время или география   |
   | **Значения по умолчанию для даты**                     | Если дата отсутствует, используйте сегодняшнюю дату            | Значение по умолчанию для используемой переменной, если оно не предоставлено пользователем  |  
   | **Значения времени по умолчанию**                     | Если время отсутствует, используйте начало дня.     |  Значение по умолчанию для используемой переменной, если оно не предоставлено пользователем|

1. Добавьте несколько примеров предложений.
   
    ```
    set an alarm for {DateTime}
    set alarm {DateTime}
    alarm for {DateTime}
   ```

1. Добавьте правило завершения для подтверждения результата. Используйте следующую конфигурацию:

   | Параметр    | Рекомендуемое значение                               |Описание                                     |
   | ---------- | ------------------------------------------------------- |-----|
   | **Имя правила**  | **Задать будильник**                                               |    Имя, описывающее назначение правила. |
   | **Действия**    | **Отправка речевого ответа-> ОК, оповещение для {DateTime}**    |Действие, выполняемое, если условие правила имеет значение true

## <a name="try-it-out"></a>Попробуйте!

1. Выберите **обучение** в верхней части правой панели.

1. По завершении обучения выберите **тест**и попробуйте выполнить следующие действия:
    - Входные данные: задать оповещение для завтрашнего дня в полдень
    - Выходные данные: ОК, оповещение установлено для 2020-05-02 12:00:00
    - Входные данные: задать оповещение
    - Выходные данные: какое время?
    - Входные данные: 17:00
    - Выходные данные: ОК, оповещение установлено для 2020-05-01 17:00:00

## <a name="add-interaction-rules-for-the-confirmation"></a>Добавление правил взаимодействия для подтверждения

Создайте подтверждения, добавив правила взаимодействия.

1. В команде **сеталарм** выберите **Добавить** в средней области, а затем выберите команду **правила взаимодействия**  >  **Confirm command**.

    Это правило запрашивает у пользователя подтверждение даты и времени оповещения. Используйте следующие параметры.

   | Параметр               | Рекомендуемое значение                                                                  | Описание                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | **Имя правила**             | **Подтверждение даты и времени**                                                                | Имя, описывающее назначение правила.          |
   | **Условия**            | **Обязательный параметр-> DateTime**                                                    | Условия, определяющие, когда может выполняться правило    |   
   | **Действия**               | **Отправка речевого ответа-> вы действительно хотите задать оповещение для {DateTime}?**     | Действие, выполняемое, если условие правила имеет значение true |
   | **Превосходящи**          | **Ожидается подтверждение от пользователя**                                                 | Ожидание следующей очереди                      |
   | **Состояние после выполнения**  | **Ожидание ввода пользователя**                                                            | Состояние пользователя после включения                  |
  
      > [!div class="mx-imgBorder"]
      > ![Создать ответ требуемого параметра](media/custom-speech-commands/add-validation-set-temperature.png)

1. Добавление правила взаимодействия для принятого подтверждения (пользователь сказал "Да"). Используйте следующую конфигурацию:

   | Параметр               | Рекомендуемое значение                                                                  | Описание                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | **Имя правила**             | **Подтверждение принятия**                                                            | Имя, описывающее назначение правила.          |
   | **Условия**            | **Подтверждение успешно & обязательный параметр-> DateTime**                      | Условия, определяющие, когда может выполняться правило    |   
   | **Состояние после выполнения** | **Правила завершения выполнения**                                                          | Состояние пользователя после включения                   |

1. Добавление правила взаимодействия для запрещенного подтверждения (пользователь сказал "No"). Используйте следующую конфигурацию:

   | Параметр               | Рекомендуемое значение                                                                  | Описание                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | **Имя правила**             | **Подтверждение запрета**                                                                   | Имя, описывающее назначение правила.          |
   | **Условия**            | **Подтверждение было отклонено & обязательный параметр-> DateTime**                               | Условия, определяющие, когда может выполняться правило    |   
   | **Действия**               | **Очистить значение параметра — > DateTime & отправить голосовое реагирование — > проблем, а затем?**  | Действие, выполняемое, если условие правила имеет значение true |
   | **Состояние после выполнения** | **Ожидание входных данных**                                                                   | Состояние пользователя после включения                   |
   | **Превосходящи**          | **Ожидается вход параметров для пользователя-> DateTime**                           | Ожидание следующей очереди                      |

## <a name="try-out-the-changes"></a>Попробуйте внести изменения

1. Щелкните **Обучить**.

1. По завершении обучения выберите **тест**и попробуйте выполнить следующие действия:

    - Входные данные: задать оповещение для завтрашнего дня в полдень
    - Выходные данные: вы действительно хотите установить оповещение для 2020-05-02 12:00:00?
    - Входные данные: нет
    - Выходные данные: нет проблем, сколько раз?
    - Входные данные: 17:00
    - Выходные данные: "вы действительно хотите установить оповещение для 2020-05-01 17:00:00?"
    - Входные данные: Да
    - Выходные данные: ОК, оповещение установлено для 2020-05-01 17:00:00

## <a name="next-steps"></a>Следующие шаги

> [!div class="nextstepaction"]
> [Добавление одноэтапного исправления в команду в приложении предварительной версии пользовательских команд](./how-to-custom-speech-commands-one-step-correction.md)
