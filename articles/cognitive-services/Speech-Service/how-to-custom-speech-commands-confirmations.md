---
title: 'Как: Добавить подтверждение в пользовательскую команду (Предварительный просмотр)'
titleSuffix: Azure Cognitive Services
description: В этой статье, как реализовать подтверждения для команды в пользовательских команд.
services: cognitive-services
author: encorona-ms
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 12/05/2019
ms.author: encorona
ms.openlocfilehash: afa197c83b4f66f12863de4185ef7763447f3ed9
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "75456501"
---
# <a name="how-to-add-a-confirmation-to-a-custom-command-preview"></a>Как: Добавить подтверждение в пользовательский команды (Предварительный просмотр)

В этой статье вы узнаете, как добавить подтверждение в команду.

## <a name="prerequisites"></a>Предварительные требования

Вы должны завершить шаги в следующих статьях:

- [Быстрый запуск: Создайте пользовательский командный заказ (Предварительный просмотр)](./quickstart-custom-speech-commands-create-new.md)
- [Быстрый запуск: Создайте пользовательскую команду с параметрами (Предварительный просмотр)](./quickstart-custom-speech-commands-create-parameters.md)

## <a name="create-a-setalarm-command"></a>Создание команды SetAlarm

Чтобы продемонстрировать проверку, давайте создадим новую команду, позволяющую пользователю установить будильник.

1. Откройте ранее созданное приложение Custom Commands в [студии speech Studio](https://speech.microsoft.com/)
1. Создание нового командного **SetAlarm**
1. Добавление параметра под названием DateTime

   | Параметр           | Рекомендуемое значение                                          | Описание                                                                                      |
   | ----------------- | ---------------------------------------------------------| ------------------------------------------------------------------------------------------------ |
   | name              | Дата и время                                                 | Описательное имя для параметра команды                                                    |
   | Обязательно          | Да                                                     | Чекбокс, указывающий, требуется ли значение для этого параметра перед завершением команды |
   | Шаблон ответа | "- В какое время?"                                           | Запрос для запроса значения этого параметра, когда он не известен                              |
   | Тип              | Дата и время                                                 | Тип параметра, например число, строка или время даты                                      |
   | Дата по умолчанию     | Если дата отсутствует использование сегодня                             |                                                                                                  |
   | Время по умолчанию     | Если не хватает времени, используйте начало дня                      |                                                                                                  | 

1. Добавить несколько примеров предложений
   
   ```
    set an alarm for {DateTime}
    set alarm {DateTime}
    alarm for {DateTime}
   ```

1. Добавление правила завершения для подтверждения результата

   | Параметр    | Рекомендуемое значение                                         | Описание                                        |
   | ---------- | ------------------------------------------------------- | -------------------------------------------------- |
   | Имя правила  | Установка будильника                                               | Имя, описывающее цель правила          |
   | Действия    | SpeechResponse - "- Хорошо, будильник набор для "DateTime"       | Действие, которое необходимо предпринять, когда условие правила истинно |

## <a name="try-it-out"></a>Попробуйте продукт

Выберите панель тестирования и попробуйте несколько взаимодействий.

- Вход: Установите будильник на завтра в полдень
- Выход: "Хорошо, будильник установлен на 12/06/2019 12:00:00"

- Вход: Установите будильник
- Выход: "Во сколько?"
- Вход: 17:00
- Выход: "Хорошо, будильник установлен на 12/05/2019 17:00:00"

## <a name="add-the-advanced-rules-for-confirmation"></a>Добавьте расширенные правила для подтверждения

1. Добавьте расширенное правило для подтверждения. 

    Это правило будет просить пользователя подтвердить дату и время сигнализации и ожидает подтверждения (да/нет) на следующий ход.

   | Параметр               | Рекомендуемое значение                                                                  | Описание                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | Имя правила             | Подтверждение времени даты                                                                | Имя, описывающее цель правила          |
   | Условия            | Требуемый параметр - DateTime                                                    | Условия, определяющие, когда правило может быть запущено    |   
   | Действия               | SpeechResponse - "- Вы уверены, что вы хотите установить будильник для "DateTime"?"       | Действие, которое необходимо предпринять, когда условие правила истинно |
   | Состояние после исполнения | Ожидание входных данных                                                                   | Состояние пользователя после поворота                  |
   | Ожидания          | Подтверждение                                                                     | Ожидание следующего хода                      |

1. Добавьте расширенное правило для обработки успешного подтверждения (пользователь сказал да)

   | Параметр               | Рекомендуемое значение                                                                  | Описание                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | Имя правила             | Принятое подтверждение                                                            | Имя, описывающее цель правила          |
   | Условия            | Успешноеподтверждение & требуемый параметр - DateTime                           | Условия, определяющие, когда правило может быть запущено    |   
   | Состояние после исполнения | Готовы к завершению                                                             | Состояние пользователя после поворота                   |

1. Добавьте расширенное правило для обработки отказано в подтверждении (пользователь сказал нет)

   | Параметр               | Рекомендуемое значение                                                                  | Описание                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | Имя правила             | Отказано в подтверждении                                                                   | Имя, описывающее цель правила          |
   | Условия            | ОтказВподтверждение & требуемый параметр - DateTime                               | Условия, определяющие, когда правило может быть запущено    |   
   | Действия               | ClearParameter - DateTime & SpeechResponse - "- Нет проблем, во сколько тогда?"     | Действие, которое необходимо предпринять, когда условие правила истинно |
   | Состояние после исполнения | Ожидание входных данных                                                                   | Состояние пользователя после поворота                   |
   | Ожидания          | Параметры elicit - DateTime                                                      | Ожидание следующего хода                      |

## <a name="try-it-out"></a>Попробуйте продукт

Выберите панель тестирования и попробуйте несколько взаимодействий.

- Вход: Установите будильник на завтра в полдень
- Выход: "Вы уверены, что хотите установить будильник на 12/07/2019 12:00:00?"
- Вход: Нет
- Выход: "Нет проблем, во сколько тогда?"
- Вход: 17:00
- Выход: "Вы уверены, что хотите установить будильник на 12/06/2019 17:00:00?"
- Вход: Да
- Выход: "Хорошо, будильник установлен на 12/06/2019 17:00:00"

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Как: Добавить одношаговую коррекцию в пользовательский командование (Предварительный просмотр)](./how-to-custom-speech-commands-one-step-correction.md)