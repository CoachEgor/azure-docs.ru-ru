---
title: Подготовка тестовых данных для пользовательских речи — службы распознавания речи
titlesuffix: Azure Cognitive Services
description: Является ли вы тестируете точность распознавания речи см. в разделе или обучения собственных моделей, вам потребуется данных (в виде аудио и/или текст). На этой странице описаны типы данных, их использовании и управлении ими.
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 05/02/2019
ms.author: erhopf
ms.openlocfilehash: 1e689d7ce65fda43e5657383ed44890c90c095cd
ms.sourcegitcommit: 4b9c06dad94dfb3a103feb2ee0da5a6202c910cc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/02/2019
ms.locfileid: "65025887"
---
# <a name="prepare-data-for-custom-speech"></a>Подготовка данных для пользовательских речи

Является ли вы тестируете точность распознавания речи см. в разделе или обучения собственных моделей, вам потребуется данные в форме аудио-и текст. На этой странице описаны типы данных, их использовании и управлении ими.

## <a name="data-types"></a>Типы данных

В этой таблице перечислены типы принятые данные, когда следует использовать каждый тип данных и рекомендуемое количество. Не все типы данных требуется для создания модели. Требования к данным будет зависеть от ли вы создаете теста или обучения модели.

| Тип данных | Используется для тестирования | Количество | Используется для обучения | Количество |
|-----------|-----------------|----------|-------------------|----------|
| [Звук:](#audio-data-for-testing) | Yes<br>Используется для визуального контроля | более 5 звуковых файлов | Нет  | н/д |
| [Табель аудио + с меткой отдела](#audio--human-labeled-transcript-data-for-testingtraining) | Yes<br>Используется для оценки точности | 0,5 - 5 часов звука | Yes | 1 - 1 000 часов аудио |
| [Связанный текст](##related-text-data-for-training) | Нет  | н/д | Yes | 1 – 200 МБ связанных текста |

Файлы следует сгруппированных по типу в набор данных и загрузить как ZIP-файл. Каждый набор данных может содержать только один тип данных.

## <a name="upload-data"></a>Отправка данных

Когда вы будете готовы к отправке данных, нажмите кнопку **отправка данных** для запуска мастера и создания вашего первого набора данных. Вам будет предложено выбрать тип данных речи для набора данных, прежде чем разрешить загрузку данных.

![Выберите аудио с портала речи](./media/custom-speech/custom-speech-select-audio.png)

Каждый набор данных, которые вы отправляете должен соответствовать требованиям для выбранного типа данных. Очень важно правильно отформатировать данные перед отправкой. Это гарантирует, что данные будут обрабатываться службой речи Custom точно. Требования к приведены в следующих разделах.

После загрузки набора данных, у вас есть несколько вариантов:

* Вы можете перейти к **тестирования** вкладку и визуально проверять только звук или аудио + с меткой human расшифровка дикторского текста для данных.
* Вы можете перейти к **обучения** вкладку и нам данных транскрибирования аудио + человека или связанных текстовых данных для обучения пользовательской модели.

## <a name="audio-data-for-testing"></a>Звуковых данных для тестирования

Для проверки точности модели речи в текст базовых показателей корпорации Майкрософт или пользовательской модели является звуковых данных. Имейте в виду, звуковых данных используется для проверки точности распознавания речи в отношении конкретной модели производительности. Если вам нужна возможность измерить точность модели, используйте [данных транскрибирования аудио + с меткой human](#audio--human-labeled-transcript-data-for-testingtraining).

Используйте эту таблицу, чтобы правильно отформатирован звуковых файлов для использования с Custom речи:

| Свойство | Value |
|----------|-------|
| Формат файла | RIFF (WAV) |
| Частота выборки | 8000 или 16 000 Гц |
| Каналы | 1 (моно) |
| Максимальная длина каждого аудио | 2 ч |
| Формат выборки | PCM, 16-разрядные |
| Формат архива | .zip |
| Максимальный размер архива | 2 ГБ |

Если вы хотите проверить, если он не звучания не удовлетворяют эти свойства, мы рекомендуем загрузку [sox](http://sox.sourceforge.net) для проверки или преобразовать аудио. Ниже приведены некоторые примеры как каждое из этих действий можно сделать с помощью командной строки.

| Действие | ОПИСАНИЕ | Команда SOX |
|----------|-------------|-------------|
| Проверьте формат аудио | Эта команда используется для проверки формата звуковой файл. | `soxi <filename>.wav` |
| Преобразовать формат аудио | Используйте следующую команду для преобразования звуковой файл в один канал, 16-разрядная версия, 48 кГц. | `sox <filename>.wav -b 16 -3 signed-integer -c l -r 48k -t wav <filename>.wav` |

## <a name="audio--human-labeled-transcript-data-for-testingtraining"></a>Данные аудио + с меткой human расшифровку дикторского текста для тестирования и обучения

Для измерения точности точности распознавания речи в текст корпорации Майкрософт, при обработке звуковых файлов, необходимо указать с меткой human транскрипций (слово за словом) для сравнения. Хотя с меткой human транскрипцию часто занимает много времени, это необходимы для оценки точности, а также для обучения модели для вашего варианта использования. Имейте в виду, улучшения в распознавание только будет хуже, чем данные, предоставленные. По этой причине очень важно, что передаются только высококачественные табель.  

| Свойство | Value |
|----------|-------|
| Формат файла | RIFF (WAV) |
| Частота выборки | 8000 или 16 000 Гц |
| Каналы | 1 (моно) |
| Максимальная длина каждого аудио | 60 s |
| Формат выборки | PCM, 16-разрядные |
| Формат архива | .zip |
| Zip, максимальный размер | 2 ГБ |

Чтобы устранить проблемы, такие как word удаления или замены, значительный объем данных необходим для улучшения распознавания. Как правило рекомендуется предоставить транскрипций слово за словом примерно 10 до 1000 часов аудио. Транскрипции всех WAV-файлов должны содержаться в одном текстовом файле. Каждая строка файла транскрипции должна содержать имя звукового файла и соответствующую ему транскрипцию. Для разделения имени файла и транскрипции необходимо использовать символ табуляции (\t).

  Например: 
```
  speech01.wav  speech recognition is awesome
  speech02.wav  the quick brown fox jumped all over the place
  speech03.wav  the lazy dog was not amused
```
> [!NOTE]
> Для кодировки транскрипции необходимо использовать метку порядка байтов UTF-8.

Текст транскрипции нормализуется для эффективной обработки системой. Однако есть некоторые важные действия нормализации, которые пользователь должен выполнять _перед_ отправкой данных в пользовательскую службу распознавания речи. Соответствующий язык, используемый при подготовке к транскрипций, см. в разделе [Создание транскрипция с меткой отдела](how-to-custom-speech-human-labeled-transcriptions.md)

После собранные аудиофайлы и соответствующие транскрипции, они должны быть упакованы в один ZIP-файл перед отправкой на портал настраиваемые речи. Это приведен пример набора данных с помощью трех звуковые файлы и файл с меткой human расшифровка дикторского текста:

![Выберите аудио с портала речи](./media/custom-speech/custom-speech-audio-transcript-pairs.png)

## <a name="related-text-data-for-training"></a>Связанные текстовые данные для обучения

Если у вас есть названия продуктов или компонентов, которые являются уникальными, и вы хотите убедиться, что они должны распознаваться корректно, важно включить связанные текстовые данные для обучения. Два типа связанных текстовых данных могут предоставляться для улучшения распознавания:

| Тип данных | Как эти данные улучшает распознавания |
|-----------|------------------------------------|
| Фразы продолжительностью и/или предложения | Это может повысить точность, при распознавании названия продуктов или отраслевого лексикона в контексте предложения. |
| Произношение | Это может повысить произношения редко терминов, сокращений и другие слова с неопределенным произношений. |

Фразы продолжительностью можно указать как один или несколько текстовых файлов. Чем ближе текст, который является то, что будут звучать данных, тем больше вероятность, что повышение точности. Произношение должны быть предоставлены как в один текстовый файл. Все, что можно упакованы в один ZIP-файл и переданный на портал настраиваемые речи.

### <a name="guidelines-to-create-an-utterances-file"></a>Рекомендации для создания файла фразы

Чтобы создать пользовательскую модель, используя связанный текст, необходимо предоставить список пример фразы. Эти фразы не нужно быть полных предложений или грамматически исправление, но они должны точно отражают вводу речи, которые предполагается использовать в рабочей среде. Если вы хотите улучшить вес определенные условия, можно добавить несколько предложений в файл связанных данных, включают следующие определенные условия.

Используйте эту таблицу, чтобы убедиться, что файл связанные данные для фразы имеет правильный формат:

| Свойство | Value |
|----------|-------|
| Кодировка текста | Метка порядка байтов UTF-8 |
| Количество фраз в строке | 1 |
| Максимальный размер файла | 200 МБ |

Кроме того необходимо учитывать следующие ограничения:

* Избегайте повторяющиеся символы в четыре раза. Например: «aaaa» или «uuuu».
* Не используйте специальные символы или символы UTF-8 выше U + 00A1.
* Коды URI, будут отклонены.

### <a name="guidelines-to-create-a-pronunciation-file"></a>Рекомендации для создания файла произношение

При возникновении условия нередко без стандартный произношение, которые пользователи будут возникать или использовать, можно предоставить файл пользовательских произношение для улучшения распознавания.

> [!IMPORTANT]
> Не рекомендуется использовать эту функцию для изменения в понимании произношения распространенные слова.

Сюда входят примеры разговорные utterance и пользовательских произношение для каждого:

| Речевая форма | Распознать или демонстрировать формы |
|--------------|--------------------------|
| три p c o | 3CPO |  
| k c n t | CNTK |
| электронные утроить i | ПОДСИСТЕМА ИДЕНТИФИКАЦИИ |

Речевую форму-это фонетический последовательность отдельно. Он может состоять из букв, слова, слоги и сочетания этих способов.

Настраиваемые произношение доступен на английском (en US) и немецкий (de-DE). В языке в этой таблице показаны поддерживаемые символы:

| Язык | Языковой стандарт | Знаки |
|----------|--------|------------|
| Английский | en-US | a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z |
| Немецкий | de-DE | д, ц, ь, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z |

Используйте эту таблицу, чтобы убедиться, что файл связанные данные для произношений имеет правильный формат. Файлы произношение малы и не должно превышать нескольких статей базы знаний.

| Свойство | Value |
|----------|-------|
| Кодировка текста | Метки порядка БАЙТОВ UTF-8 (ANSI также поддерживается для английского языка) |
| Кол-во произношений в строке | 1 |
| Максимальный размер файла | 1 МБ (1 КБ для уровня "бесплатный") |

## <a name="next-steps"></a>Дальнейшие действия

* [Проверить свои данные](how-to-custom-speech-inspect-data.md)
* [Оценка данных](how-to-custom-speech-evaluate-data.md)
* [Обучение модели](how-to-custom-speech-train-model.md)
* [Развертывание модели](how-to-custom-speech-deploy-model.md)
