---
title: Как подготовить данные для пользовательского голоса - Речевой сервис
titleSuffix: Azure Cognitive Services
description: Создайте пользовательский голос для вашего бренда с помощью службы speech. Вы предоставляете студийные записи и связанные с ними скрипты, сервис генерирует уникальную голосовую модель, настроенную на записанный голос. Используйте этот голос для синтеза речи в продуктах, инструментах и приложениях.
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 11/04/2019
ms.author: erhopf
ms.openlocfilehash: 5427e9f996fb77d455aa8064fc7cb1c65e1fcf7e
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "74805983"
---
# <a name="prepare-data-to-create-a-custom-voice"></a>Подготовка данных для создания пользовательского голоса

Когда вы будете готовы создать пользовательский голос текста к речи для вашего приложения, первым шагом является сбор аудиозаписей и связанных с ними скриптов, чтобы начать обучение голосовой модели. Служба речевого сообщения использует эти данные для создания уникального голоса, настроенного на соответствие голосу в записях. После того как вы обучили голос, вы можете начать синтез речи в приложениях.

Вы можете начать с небольшого объема данных, чтобы создать доказательство концепции. Тем не менее, чем больше данных вы предоставляете, тем более естественным будет звучать пользовательский голос. Прежде чем вы сможете обучить свою собственную текстовую голосовую модель, вам понадобятся аудиозаписи и связанные с ними текстовые транскрипции. На этой странице мы рассмотрим типы данных, как они используются и как управлять каждым из них.

## <a name="data-types"></a>Типы данных

Набор данных голосового обучения включает аудиозаписи и текстовый файл с соответствующими транскрипциями. Каждый аудиофайл должен содержать одно высказывание (одно предложение или один ход для диалоговой системы) и длиться менее 15 секунд.

В некоторых случаях вы можете не иметь право набор данных готовы и хотите, чтобы проверить пользовательские голосовое обучение с доступными аудио файлов, короткие или длинные, с или без стенограммы. Мы предоставляем инструменты (бета), чтобы помочь вам сегментировать аудио в высказывания и подготовить стенограммы с помощью [API транскрипции пакета](batch-transcription.md).

В этой таблице перечислены типы данных и то, как каждая из них используется для создания пользовательской голосовой модели от текста к речи.

| Тип данных | Описание | Назначение | Требуется дополнительная услуга | Количество для обучения модели | Лоэле (ы) |
| --------- | ----------- | ----------- | --------------------------- | ----------------------------- | --------- |
| **Индивидуальные высказывания и соответствующая стенограмма** | Коллекция (.zip) аудиофайлов (.wav) в виде индивидуальных высказываний. Каждый аудиофайл должен быть длиной 15 секунд или меньше в паре с отформатированной транскриптом (.txt). | Профессиональные записи с соответствующими стенограммами | Готов к тренировкам. | Нет жестких требований для en-US и zh-CN. Более 2000 "различных высказываний для других мест. | [Все пользовательские локалы голоса](language-support.md#customization) |
| **Длинная аудиозапись (бета)** | Коллекция (.zip) длинных, несегментированных аудиофайлов (более 20 секунд), в паре с стенограммой (.txt), которая содержит все произнесенные слова. | У вас есть аудиофайлы и соответствующие стенограммы, но они не сегментированы на высказывания. | Сегментация (с использованием пакетной транскрипции).<br>Преобразование формата аудио там, где это необходимо. | Нет жестких требований  | [Все пользовательские локалы голоса](language-support.md#customization) |
| **Только аудио (бета)** | Коллекция (.zip) аудиофайлов без стенограммы. | У вас есть только аудио файлы доступны, без стенограммы. | Сегментация и генерация транскрипта (с использованием пакетной транскрипции).<br>Преобразование формата аудио там, где это необходимо.| Нет жестких требований | [Все пользовательские локалы голоса](language-support.md#customization) |

Файлы должны быть сгруппированы по типу в набор данных и загружены в виде почтового файла. Каждый набор данных может содержать только один тип данных.

> [!NOTE]
> Максимальное количество наборов данных, разрешенных к импорту за подписку, составляет 10 файлов .zip для пользователей бесплатной подписки (F0) и 500 для пользователей стандартной подписки (S0).

## <a name="individual-utterances--matching-transcript"></a>Индивидуальные высказывания и соответствующая стенограмма

Вы можете подготовить записи отдельных высказываний и соответствующую стенограмму двумя способами. Либо написать сценарий и его читать голос талант или использовать общедоступные аудио и транскрибировать его в текст. В последнем случае отредактируйте в аудиофайлах слова-паразиты, такие как "эм", заикание, нечетко или неправильно произнесенные слова.

Чтобы создать хороший голосовой шрифт, создайте записи в тихой комнате с высококачественным микрофоном. Последовательный объем, скорость речи, выступая шаг, и выразительные манеры речи имеют важное значение.

> [!TIP]
> Чтобы создать голос для использования в рабочей среде, рекомендуем использовать профессиональную студию звукозаписи и актера озвучивания. Дополнительные сведения см. в разделе [Как записывать образцы голоса для создания пользовательских голосовых моделей](record-custom-voice-samples.md).

### <a name="audio-files"></a>Аудиофайлы

Каждый аудиофайл должен содержать одно высказывание (одно предложение или один поворот диалоговой системы), продолжительностью менее 15 секунд. Все файлы должны быть на одном разговорном языке. Многоязычные пользовательские текстовые голоса не поддерживаются, за исключением китайско-английского двуязычного. Каждый аудиофайл должен иметь уникальное числовое имя файла с расширением filename .wav.

Следуйте этим рекомендациям при подготовке аудио.

| Свойство | Значение |
| -------- | ----- |
| Формат файла | RIFF (.wav), сгруппированный в файл .zip |
| Частота выборки | По крайней мере 16000 Гц |
| Формат выборки | PCM, 16-разрядные |
| Имя файла | Число, с расширением .wav. Дублировать имена файлов не допускается. |
| Длина звука | Меньше 15 секунд |
| Формат архива | .zip |
| Максимальный размер архива | 2048 МБ |

> [!NOTE]
> файлы .wav с частотой выборки ниже 16 000 Гц будут отклонены. Если файл .zip содержит файлы .wav с различными коэффициентами выборки, импортируются только те, которые равны или превышают 16 000 Гц. Портал в настоящее время импортирует ZIP-архивы размером до 200 МБ. Однако можно отправить несколько архивов.

### <a name="transcripts"></a>Расшифровка

Файл транскрипции представляет собой простой текстовый файл. Используйте эти рекомендации для подготовки транскрипций.

| Свойство | Значение |
| -------- | ----- |
| Формат файла | Обычный текст (TXT) |
| Формат кодирования | ANSI/ASCII, UTF-8, UTF-8-BOM, UTF-16-LE, или UTF-16-BE. Для кодирования zh-CN, ANSI/ASCII и UTF-8 не поддерживаются. |
| Количество фраз в строке | **Один** - Каждая строка файла транскрипции должна содержать имя одного из аудио файлов, а затем соответствующую транскрипцию. Для разделения имени файла и транскрипции необходимо использовать символ табуляции (\t). |
| Максимальный размер файла | 2048 МБ |

Ниже приведен пример того, как стенограммы организованы высказывание высказывание в одном файле .txt:

```
0000000001[tab] This is the waistline, and it's falling.
0000000002[tab] We have trouble scoring.
0000000003[tab] It was Janet Maslin.
```
Важно, чтобы транскрипты были 100% точными транскрипциями соответствующего аудио. Ошибки в стенограммах введут потерю качества во время тренировки.

> [!TIP]
> При построении производства текстовых голосов, выберите высказывания (или писать сценарии), которые принимают во внимание как фонетическое покрытие и эффективность. Возникли проблемы при получении требуемых результатов? [Свяжитесь с командой Custom Voice,](mailto:speechsupport@microsoft.com) чтобы узнать больше о том, чтобы проконсультироваться с нами.

## <a name="long-audio--transcript-beta"></a>Длинная аудиозапись (бета)

В некоторых случаях у вас может не быть сегментированного аудио доступного. Мы предоставляем услугу (бета) через пользовательский голосовой портал, чтобы помочь вам сегмент длинные аудио файлы и создавать транскрипции. Имейте в виду, эта услуга будет взиматься с вашего использования подписки речи к тексту.

> [!NOTE]
> Долгосрочный аудио сегментации службы будет использовать пакет транскрипции особенность речи к тексту, которая поддерживает только стандартные подписки (S0) пользователей. Во время обработки сегментации ваши аудиофайлы и стенограммы также будут отправлены в службу пользовательской речи для уточнения модели распознавания, чтобы можно было повысить точность данных. Данные не будут сохранены в ходе этого процесса. После сегментации, только высказывания сегментированы и их картографические стенограммы будут храниться для загрузки и обучения.

### <a name="audio-files"></a>Аудиофайлы

Следуйте этим рекомендациям при подготовке аудио для сегментации.

| Свойство | Значение |
| -------- | ----- |
| Формат файла | RIFF (.wav) с частотой отбора проб не менее 16 кс-16-бит в PCM или .mp3 с немного скоростью не менее 256 кбит/с, сгруппированных в файл .zip |
| Имя файла | Поддерживаемые символы ASCII и Unicode. Дублировать имена не допускается. |
| Длина звука | Более 20 секунд |
| Формат архива | .zip |
| Максимальный размер архива | 2048 МБ |

Все аудиофайлы должны быть сгруппированы в почтовый файл. Это нормально, чтобы положить .wav файлов и .mp3 файлов в один аудио zip. Например, вы можете загрузить файл застежки-молнии, содержащий аудиофайл под названием 'kingstory.wav', 45-секундный, и другой аудиопод названием 'queenstory.mp3', 200-секундный. Все файлы .mp3 будут преобразованы в формат .wav после обработки.

### <a name="transcripts"></a>Расшифровка

Стенограммы должны быть подготовлены к спецификациям, перечисленным в этой таблице. Каждый аудиофайл должен быть сопоставлен с стенограммой.

| Свойство | Значение |
| -------- | ----- |
| Формат файла | Простой текст (.txt), сгруппированный в .zip |
| Имя файла | Используйте то же имя, что и соответствующий аудиофайл |
| Формат кодирования | UTF-8-BOM только |
| Количество фраз в строке | Без ограничений |
| Максимальный размер файла | 2048 МБ |

Все файлы стенограмм в этом типе данных должны быть сгруппированы в почтовый файл. Например, вы загрузили файл застежки-молнии, содержащий аудиофайл под названием 'kingstory.wav', длиной 45 секунд, и еще один под названием 'queenstory.mp3', длиной 200 секунд. Вам нужно будет загрузить другой почтовый файл, содержащий две стенограммы, один из которых называется 'kingstory.txt', другой один 'queenstory.txt'. В каждом простом текстовом файле, вы предоставите полную правильную транскрипцию для соответствующего аудио.

После успешной загрузки набора данных мы поможем сегментировать аудиофайл на высказывания на основе предоставленной стенограммы. Вы можете проверить сегментированные высказывания и соответствующие стенограммы, загрузив набор данных. Уникальные иди автоматически присваиваются сегментированным высказываниям. Важно, чтобы вы убедитесь, что стенограммы вы предоставляете являются 100% точными. Ошибки в транскриптах могут снизить точность во время сегментации звука и в дальнейшем привести к потере качества на этапе обучения, который наступает позже.

## <a name="audio-only-beta"></a>Только аудио (бета)

Если у вас нет транскрипций для аудиозаписей, используйте **только** аудио для загрузки данных. Наша система может помочь вам сегментировать и расшифровать ваши аудио файлы. Имейте в виду, эта услуга будет рассчитывать на вашу речь к тексту использования подписки.

Следуйте этим рекомендациям при подготовке аудио.

> [!NOTE]
> Долгосрочный аудио сегментации службы будет использовать пакет транскрипции особенность речи к тексту, которая поддерживает только стандартные подписки (S0) пользователей.

| Свойство | Значение |
| -------- | ----- |
| Формат файла | RIFF (.wav) с частотой отбора проб не менее 16 кс-16-бит в PCM или .mp3 с немного скоростью не менее 256 кбит/с, сгруппированных в файл .zip |
| Имя файла | Поддерживаемые символы ASCII и Unicode. Дублировать имя не допускается. |
| Длина звука | Более 20 секунд |
| Формат архива | .zip |
| Максимальный размер архива | 2048 МБ |

Все аудиофайлы должны быть сгруппированы в почтовый файл. Как только ваш набор данных будет успешно загружен, мы поможем вам сегментировать аудиофайл в высказывания на основе нашей службы транскрипции речи. Уникальные иди автоматически присваиваются сегментированным высказываниям. Соответствие стенограммы будут генерироваться путем распознавания речи. Все файлы .mp3 будут преобразованы в формат .wav после обработки. Вы можете проверить сегментированные высказывания и соответствующие стенограммы, загрузив набор данных.

## <a name="next-steps"></a>Дальнейшие действия

- [Создание пользовательского голоса](how-to-custom-voice-create-voice.md)
- [Руководство: Запись образцов голоса](record-custom-voice-samples.md)
