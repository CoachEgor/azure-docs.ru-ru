---
title: Речи синтеза Markup Language (SSML) - службы распознавания речи
titleSuffix: Azure Cognitive Services
description: С помощью языка Speech Synthesis Markup Language можно управлять произношением и интонацией при преобразовании текста в речь.
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 05/15/2019
ms.author: erhopf
ms.custom: seodec18
ms.openlocfilehash: 488cbf1874e023cf3a665bc9f2087900b30b3d3d
ms.sourcegitcommit: b7a44709a0f82974578126f25abee27399f0887f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/18/2019
ms.locfileid: "67204925"
---
# <a name="speech-synthesis-markup-language-ssml"></a>Язык разметки синтеза речи (SSML)

Язык разметки синтеза речи (SSML) — это язык разметки на основе XML, который позволяет разработчикам указывать как входной текст преобразуется в синтезированную речь, используя службу преобразования текста в речь. По сравнению с обычным текстом, SSML позволяет разработчикам для точной настройки высоты тона, произношение, скорость, тома и многое другое выходных данных преобразования текста в речь. Автоматически обрабатываются обычной пунктуации, например Приостановка после определенного периода, или с помощью правильного интонации, когда предложения заканчивается знаком вопроса.

Реализация службы распознавания речи из SSML основана на World Wide Web Consortium [речи синтеза разметки языковой версии 1.0](https://www.w3.org/TR/speech-synthesis).

> [!IMPORTANT]
> Китайский, японский и корейский символы считаются двумя символами для выставления счетов. Дополнительные сведения см. на странице [цен](https://azure.microsoft.com/pricing/details/cognitive-services/speech-services/).

## <a name="standard-neural-and-custom-voices"></a>Нейронной, стандартных и пользовательских голоса

Выберите "стандартный" и нейронной голоса или создать собственные пользовательские голосовые, уникальные для продуктов или торговой марке. 75 стандартный голоса, доступны в более чем 45 языков и языковых стандартов и 5 нейронной голоса, доступны в 4 языков и региональных параметров. Полный список поддерживаемых языков, языковых стандартов и голосовых моделей (нейронных и стандартных) см. в разделе [языковой поддержки](language-support.md).

Дополнительные сведения о нейронных, standard и настраиваемых голосах, см. в разделе [Обзор преобразования текста в речь](text-to-speech.md).

## <a name="supported-ssml-elements"></a>Поддерживаемые элементы SSML

Каждый документ SSML создается с помощью элементов SSML (или тегов). Эти элементы используются для корректировки тона, интонации, тома и многое другое. В следующих разделах подробно, как используется каждый элемент, и если элемент является обязательным или необязательным.  

> [!IMPORTANT]
> Не забывайте использовать двойные кавычки вокруг значений атрибутов. Стандарты для XML правильного формата, допустимый требует значения атрибутов, чтобы заключать в двойные кавычки. Например `<prosody volume="90">` является хорошо сформирован, допустим, но `<prosody volume=90>` не является. SSML может не распознать значения атрибутов, не входящие в кавычки.

## <a name="create-an-ssml-document"></a>Создать документ SSML

`speak` является корневым элементом, которая **требуется** для всех документов SSML. `speak` Элемент содержит важные сведения, например версии, языка и определение словаря разметки.

**Синтаксис**

```xml
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="string"></speak>
```

**Атрибуты**

| Атрибут | Описание | Обязательный или необязательный |
|-----------|-------------|---------------------|
| версия | Указывает номер версии спецификации SSML, используемые для интерпретации разметку документов. Текущая версия 1.0. | Обязательно для заполнения |
| XML: lang | Задает язык корневого документа. Значение может содержать код языка, строчные буквы, двухбуквенный (например, **en**), или код языка, так и в верхнем регистре страны или региона (например, **en US**). | Обязательно для заполнения |
| xmlns | Указывает URI документа, который определяет словарь разметки SSML документа (типы элементов и имена атрибутов). Текущий URL-адрес является https://www.w3.org/2001/10/synthesis. | Обязательно для заполнения |

## <a name="choose-a-voice-for-text-to-speech"></a>Выберите голос для преобразования текста в речь

`voice` Элемент является обязательным. Он используется для указания голос, который используется для преобразования текста в речь.

**Синтаксис**

```xml
<voice name="string">
    This text will get converted into synthesized speech.
</voice>
```

**Атрибуты**

| Атрибут | Описание | Обязательный или необязательный |
|-----------|-------------|---------------------|
| name | Идентифицирует голоса, используемого для преобразования текста в речь выходных данных. Полный список поддерживаемых голоса, см. в разделе [языковой поддержки](language-support.md#text-to-speech). | Обязательно для заполнения |

**Пример**

> [!NOTE]
> В этом примере используется `en-US-Jessa24kRUS` голоса. Полный список поддерживаемых голоса, см. в разделе [языковой поддержки](language-support.md#text-to-speech).

```XML
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US">
    <voice  name="en-US-Jessa24kRUS">
        This is the text that is spoken.
    </voice>
</speak>
```

## <a name="use-multiple-voices"></a>Использование нескольких голосов

В рамках `speak` элемент, можно указать несколько голоса для преобразования текста в речь выходных данных. Эти голоса может быть на разных языках. Для каждого голоса, текст должен быть заключен в `voice` элемент.

**Атрибуты**

| Атрибут | Описание | Обязательный или необязательный |
|-----------|-------------|---------------------|
| name | Идентифицирует голоса, используемого для преобразования текста в речь выходных данных. Полный список поддерживаемых голоса, см. в разделе [языковой поддержки](language-support.md#text-to-speech). | Обязательно для заполнения |

**Пример**

```xml
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US">
    <voice  name="en-US-Jessa24kRUS">
        Good morning!
    </voice>
    <voice  name="en-US-Guy24kRUS">
        Good morning to you too Jessa!
    </voice>
</speak>
```

## <a name="adjust-speaking-styles"></a>Настройки общения

> [!IMPORTANT]
> Эта функция работает только с нейронной голоса.

По умолчанию службу преобразования текста в речь синтезирует текст, использующий нейтральный разговорным стилем для "стандартный" и нейронной голоса. С помощью нейронной голоса, можно настроить разговорным стилем для выражения cheerfulness сопереживания и тональности на основе `<mstts:express-as>` элемент. Это необязательный элемент, уникальные для служб Azure речи.

В настоящее время для этих нейронной голоса поддерживаются корректировки произношения стиля:
* `en-US-JessaNeural`
* `zh-CN-XiaoxiaoNeural`

Изменения применяются на уровне предложений и стиль различаются в зависимости от голоса. Если стиль не поддерживается, служба вернет речи в используемом по умолчанию нейтральный Разговорный стиль.

**Синтаксис**

```xml
<mstts:express-as type="string"></mstts:express-as>
```

**Атрибуты**

| Атрибут | Описание | Обязательный или необязательный |
|-----------|-------------|---------------------|
| type | Задает стиль речи. В настоящее время произношения стили являются конкретного голоса. | Требуется при настройке произношения стиля для нейронных голоса. При использовании `mstts:express-as`, то необходимо указать тип. Если указано недопустимое значение, этот элемент будет игнорироваться. |

Используйте эту таблицу, чтобы определить, какие стили произношения поддерживаются для каждого нейронной голоса.

| Голосовая связь | type | Описание |
|-------|------|-------------|
| `en-US-JessaNeural` | type=`cheerful` | Выражает Эмоция положительным и удачного |
| | type=`empathy` | Выражает чувства проявлением заботы о и основные сведения о |
| `zh-CN-XiaoxiaoNeural` | type=`newscast` | Выражает формальных звуковой сигнал, аналогичную широковещательных рассылок новостей |
| | type=`sentiment` | Передает сообщение распознается или истории |

**Пример**

Этот SSML фрагменте показано, как `<mstts:express-as>` элемент используется для изменения разговорным стилем для `cheerful`.

```xml
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xmlns:mstts="https://www.w3.org/2001/mstts" xml:lang="en-US">
    <voice name="en-US-JessaNeural">
        <mstts:express-as type="cheerful">
            That'd be just amazing!
        </mstts:express-as>
    </voice>
</speak>
```

## <a name="add-or-remove-a-breakpause"></a>Добавление или удаление break/pause

Используйте `break` элемент для вставки пауз (или разрывов) между словами или избежать пауз, автоматически добавляется в службе преобразования текста в речь.

> [!NOTE]
> Этот элемент используется, чтобы переопределить поведение по умолчанию для преобразования текста в речь (TTS) для слова или фразы, если синтезированную речь для это слово или фраза звучит понятном и естественном. Задайте `strength` для `none` для предотвращения разрыва интонационную, который автоматически вставляется классом службы tex речь.

**Синтаксис**

```xml
<break strength="string" />
<break time="string" />
```

**Атрибуты**

| Атрибут | Описание | Обязательный или необязательный |
|-----------|-------------|---------------------|
| надежность | Указывает относительный длительность паузы, с помощью одного из следующих значений:<ul><li>нет</li><li>x weak</li><li>слабый</li><li>Средний (по умолчанию)</li><li>Strong</li><li>надежный x</li></ul> | Необязательно |
| time | Указывает абсолютный длительность паузы в секунды или миллисекунды. Примеры допустимых значений: 2s и 500 | Необязательно |

| Надежность | Описание |
|----------|-------------|
| Нет, или если значение не указано | 0 мс |
| x weak | 250 мс |
| слабый | 500 мс |
| средняя | 750 мс |
| Strong | 1000 мс |
| надежный x | 1250 мс |


**Пример**

```xml
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US">
    <voice  name="en-US-Jessa24kRUS">
        Welcome to Microsoft Cognitive Services <break time="100ms" /> Text-to-Speech API.
    </voice>
</speak>
```

## <a name="specify-paragraphs-and-sentences"></a>Укажите абзацев и предложений

`p` и `s` элементы используются для обозначения абзацев и предложений, соответственно. При отсутствии таких элементов службу преобразования текста в речь автоматически определяет структуру документа SSML.

`p` Элемент может содержать текст и следующие элементы: `audio`, `break`, `phoneme`, `prosody`, `say-as`, `sub`, `mstts:express-as`, и `s`.

`s` Элемент может содержать текст и следующие элементы: `audio`, `break`, `phoneme`, `prosody`, `say-as`, `mstts:express-as`, и `sub`.

**Синтаксис**

```XML
<p></p>
<s></s>
```

**Пример**

```XML
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US">
    <voice  name="en-US-Jessa24kRUS">
        <p>
            <s>Introducing the sentence element.</s>
            <s>Used to mark individual sentences.</s>
        </p>
        <p>
            Another simple paragraph.
            Sentence structure in this paragraph is not explicitly marked.
        </p>
    </voice>
</speak>
```

## <a name="use-phonemes-to-improve-pronunciation"></a>Использовать для улучшения произношение фонемы

`ph` Элемент используется для для фонетическое произношение в документах SSML. `ph` Элемент может содержать только текст, никакие другие элементы. Всегда предоставлять удобное для восприятия речи как переход на резервный ресурс.

Фонетические алфавиты состоят из телефонов, которые состоят из букв, цифр или символов, порой в сочетании. Каждый телефона описывает уникальный звука речи. Это отличается от латинского алфавита, где любая буква может представлять несколько разговорные звуков. Рассмотрите возможность разных произношений буквы «c» в слова «конфеты» и «прекратить» или другой произношений комбинации буквы «th» в слова «штука» и «запросы».

**Синтаксис**

```XML
<phoneme alphabet="string" ph="string"></phoneme>
```

**Атрибуты**

| Атрибут | Описание | Обязательный или необязательный |
|-----------|-------------|---------------------|
| алфавит | Задает фонетический алфавит для использования при создав произношение строки в `ph` атрибута. Строка, задающая алфавита указывается строчными буквами. Ниже приведены возможные алфавиты, которые можно указать.<ul><li>IPA &ndash; международного фонетического алфавита</li><li>SAPI &ndash; набор Phone API распознавания речи</li><li>ИБП &ndash; набор универсальных телефона</li></ul>Алфавита применяется только к фонемы в элементе. Дополнительные сведения см. в разделе [ссылку фонетический алфавит](https://msdn.microsoft.com/library/hh362879(v=office.14).aspx). | Необязательно |
| ph | Строка, содержащая телефоны, укажите слова в `phoneme` элемент. Если указанная строка содержит нераспознанный телефоны, службу преобразования текста в речь (TTS) отклоняет весь документ SSML и создает ни один из вывода речи, указанных в документе. | Обязательно, если фонемы. |

**Примеры**

```XML
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US">
    <voice  name="en-US-Jessa24kRUS">
        <s>His name is Mike <phoneme alphabet="ups" ph="JH AU"> Zhou </phoneme></s>
    </voice>
</speak>
```

```xml
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US">
    <voice  name="en-US-Jessa24kRUS">
        <phoneme alphabet="ipa" ph="t&#x259;mei&#x325;&#x27E;ou&#x325;"> tomato </phoneme>
    </voice>
</speak>
```

## <a name="adjust-prosody"></a>Настройка prosody

`prosody` Элемент используется для указания изменения тона, countour, диапазон, скорость, длительность и томов для преобразования текста в речь выходных данных. `prosody` Элемент может содержать текст и следующие элементы: `audio`, `break`, `p`, `phoneme`, `prosody`, `say-as`, `sub`, и `s`.

Поскольку значения атрибутов интонационную могут различаться для широкого диапазона, в распознаватель речи интерпретирует присвоенных значений как предложения, которые должны быть фактические значения интонационную выбранного голоса. Служба преобразования текста в речь ограничивает или подставляет значения, которые не поддерживаются. Примеры неподдерживаемых значения: шаг 1 МГц или том 120.

**Синтаксис**

```XML
<prosody pitch="value" contour="value" range="value" rate="value" duration="value" volume="value"></prosody>
```

**Атрибуты**

| Атрибут | Описание | Обязательный или необязательный |
|-----------|-------------|---------------------|
| Шаг | Указывает шаг базовой линии текста. Может выразить тона, как:<ul><li>Абсолютное значение, выраженное как число, а затем «Гц» (герц). Например, 600 Гц.</li><li>Относительное значение, выраженное как число, перед «+» или «-» и за которым следует «Гц» или «st», указывающее величину для изменения высоты тона. Например: + 80 Гц или - 2st. «st» указывает, что базовой единицы измерения — полутон, половина тон (шаг половину) на стандартный diatonic шкале.</li><li>Значение константы:<ul><li>x-low</li><li>низкая</li><li>средняя</li><li>высокий</li><li>x-high</li><li>значение по умолчанию</li></ul></li></ul>. | Необязательно |
| профиль | Профиль не поддерживается для нейронных голоса. Профиль представляет изменения в шаге шрифта для содержимого речи как массив целевых объектов в указанное время позициях в выводе речи. Каждый целевой объект определяется наборов пар параметров. Пример: <br/><br/>`<prosody contour="(0%,+20Hz) (10%,-2st) (40%,+10Hz)">`<br/><br/>Первое значение в каждый набор параметров указывает расположение изменение шага в процентах длительности текста. Второе значение указывает степень увеличения или уменьшения высоты тона, с помощью относительное значение или значение перечисления для тона (см. в разделе `pitch`). | Необязательно |
| range  | Значение, которое представляет диапазон тона для текста. Вы можете выражать `range` с помощью же абсолютные значения, значения или значения перечисления, используемый для описания `pitch`. | Необязательно |
| Скорость  | Указывает скорость озвучивания текста. Вы можете выражать `rate` как:<ul><li>Относительное значение, выраженное как число, которое используется в качестве множителя по умолчанию. Например, значение *1* приводит скорость не изменяется. Значение *.5* приводит потребленных в рамках курса. Значение *3* приводит утроить скорость.</li><li>Значение константы:<ul><li>x-slow</li><li>медленный</li><li>средняя</li><li>Быстрая</li><li>x-fast</li><li>значение по умолчанию</li></ul></li></ul> | Необязательно |
| длительность  | Период времени, который должен пройти во время речи синтеза (TTS) служба считывает текст, в секунды или миллисекунды. Например *2s* или *1800ms*. | Необязательно |
| том  | Указывает уровень громкости голоса. Может выразить том как:<ul><li>Абсолютное значение, выраженное как число в диапазоне 0,0 для 100,0 из *тихие* для *громкими*. Например, 75. Значение по умолчанию — 100,0.</li><li>Относительное значение, выраженное как число, перед «+» или «-», задает для изменения громкости. Например, + 10 или-5.5.</li><li>Значение константы:<ul><li>Автоматический</li><li>x-soft</li><li>Мягкий</li><li>средняя</li><li>Громкость</li><li>макси-громкость</li><li>значение по умолчанию</li></ul></li></ul> | Необязательно |

### <a name="change-speaking-rate"></a>Изменение скорости речи

Скорость озвучивания могут применяться к стандартной голоса в word или уровне предложений. В то время как скорость озвучивания может применяться только к нейронной голоса на уровне предложений.

**Пример**

```xml
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US">
    <voice  name="en-US-Guy24kRUS">
        <prosody rate="+30.00%">
            Welcome to Microsoft Cognitive Services Text-to-Speech API.
        </prosody>
    </voice>
</speak>
```

### <a name="change-volume"></a>Изменение громкости

Изменения тома могут применяться к стандартной голоса в word или уровне предложений. Тогда как изменения тома может применяться только к нейронной голоса на уровне предложений.

**Пример**

```xml
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US">
    <voice  name="en-US-Jessa24kRUS">
        <prosody volume="+20.00%">
            Welcome to Microsoft Cognitive Services Text-to-Speech API.
        </prosody>
    </voice>
</speak>
```

### <a name="change-pitch"></a>Изменение тона

Шаг изменения могут применяться к стандартной голоса в word или уровне предложений. В то время как шаг изменения могут применяться только к нейронной голоса на уровне предложений.

**Пример**

```xml
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US">
    <voice  name="en-US-Guy24kRUS">
        Welcome to <prosody pitch="high">Microsoft Cognitive Services Text-to-Speech API.</prosody>
    </voice>
</speak>
```

### <a name="change-pitch-contour"></a>Изменение контура тона

> [!IMPORTANT]
> Контурная изменения тона с нейронной голоса не поддерживаются.

**Пример**

```xml
<speak version="1.0" xmlns="https://www.w3.org/2001/10/synthesis" xml:lang="en-US">
    <voice  name="en-US-Jessa24kRUS">
        <prosody contour="(80%,+20%) (90%,+30%)" >
            Good morning.
        </prosody>
    </voice>
</speak>
```

## <a name="next-steps"></a>Дальнейшие действия

* [Поддержка языков и регионов в API службы "Речь"](language-support.md)
