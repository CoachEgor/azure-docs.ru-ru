---
title: Как настроить параметр как сущность внешних сущностей
titleSuffix: Azure Cognitive Services
description: В этой статье объясняется, как настроить строковый параметр для ссылки на каталог, предоставляемый через конечную веб-точку.
services: cognitive-services
author: singhsaumya
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 10/09/2019
ms.author: sausin
ms.openlocfilehash: 45dba3b7f46ec558c46b8505da26fd3ef4de4cbc
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "87284189"
---
# <a name="add-configurations-to-commands-parameters"></a>Добавление конфигураций в параметры команд

В этой статье вы узнаете больше о конфигурации расширенных параметров, включая:

 - Как значения параметров могут входить в набор, определенный извне, в приложение пользовательских команд
 - Добавление предложений проверки в значения параметров

## <a name="prerequisites"></a>Предварительные требования

Необходимо выполнить действия, описанные в следующих статьях:

> [!div class="checklist"]
> * [Как создать приложение с помощью простых команд](./how-to-custom-commands-create-application-with-simple-commands.md)
> * [Как добавить параметры в команды](./how-to-custom-commands-add-parameters-to-commands.md)


## <a name="configure-parameter-as-external-catalog-entity"></a>Настройка параметра как сущности внешнего каталога

В этом разделе вы настраиваете параметры строкового типа для ссылки на внешние каталоги, размещенные в веб-конечной точке. Это позволяет независимо обновлять внешний каталог без внесения изменений в приложение пользовательских команд. Этот подход полезен в случаях, когда записи каталога могут быть большими в числе.

Повторно используйте параметр **субжектдевице** из команды **турнонофф** . Текущая конфигурация этого параметра **принимает предопределенные входные данные из внутреннего каталога**. Это относится к статическому списку устройств, как определено в конфигурации параметров. Мы хотим переместить это содержимое во внешний источник данных, который можно обновлять независимо.

Для этого сначала добавьте новую конечную точку веб-узла. Перейдите в раздел **конечные точки веб-** узлов на левой панели и добавьте новую веб-конечную точку со следующей конфигурацией.

| Параметр | Рекомендуемое значение |
|----|----|
| name | `getDevices` |
| URL-адрес | `https://aka.ms/speech/cc-sampledevices` |
| Метод | GET |


Если предлагаемое значение для URL-адреса не подходит для вас, необходимо настроить и разместить простую веб-конечную точку, которая возвращает код JSON, состоящий из списка устройств, которыми можно управлять. Конечная веб-точка должна вернуть JSON в формате:
    
```json
{
    "fan" : [],
    "refrigerator" : [
        "fridge"
    ],
    "lights" : [
        "bulb",
        "bulbs",
        "light"
        "light bulb"
    ],
    "tv" : [
        "telly",
        "television"
        ]
}

```


Затем перейдите на страницу параметров параметров **субжектдевице** и измените свойства на следующие.

| Параметр | Рекомендуемое значение |
| ----| ---- |
| Конфигурация | Принять предопределенные входные данные из внешнего каталога |                               
| Конечная точка каталога | Устройства |
| Метод | GET |

Затем нажмите кнопку **Сохранить**.

> [!IMPORTANT]
> Вы не увидите параметр, позволяющий настроить параметр для приема входных данных из внешнего каталога, если в разделе **веб-конечная точка** в левой области не задана конечная точка веб-сайта.

### <a name="try-it-out"></a>Попробуйте продукт

Выберите **обучение** и дождитесь завершения обучения. После завершения обучения выберите **тест** и попробуйте несколько взаимодействий.

* Входные данные: включить
* Выходные данные: какое устройство вы хотите контролировать?
* Входные данные: индикаторы
* Выходные данные: ОК, включение освещения

> [!NOTE]
> Обратите внимание, как можно управлять всеми устройствами, размещенными в конечной веб-точке. Вам по-прежнему необходимо обучить приложение для тестирования новых изменений и повторной публикации приложения.

## <a name="add-validation-to-parameters"></a>Добавить проверку в параметры

**Проверки** — это конструкции, применимые к определенным типам параметров, которые позволяют настраивать ограничения для значения параметра и запрашивать исправление, если значения не должны находиться в пределах ограничений. Полный список типов параметров, расширяющих конструкцию проверки, см. в [ссылке](./custom-commands-references.md) .

Проверьте правильность проверки с помощью команды **SetTemperature** . Чтобы добавить проверку для параметра **температуры** , выполните следующие действия.

1. В левой области выберите команду **SetTemperature** .
1. Выберите  **температуру** в средней области.
1. Выберите **добавить проверку** , имеющуюся в правой области.
1. В окне **Новая проверка** настройте проверку следующим образом и нажмите кнопку **создать**.


    | Конфигурация параметров | Рекомендуемое значение | Описание |
    | ---- | ---- | ---- |
    | Минимальное значение | `60` | Для числовых параметров — минимальное значение, которое может предположить этот параметр. |
    | Максимальное значение | `80` | Для числовых параметров — максимальное значение, которое может предположить этот параметр. |
    | Неудачный ответ |  Простой редактор > первый вариант > `Sorry, I can only set temperature between 60 and 80 degrees. What temperature do you want?` | Запрашивать новое значение, если проверка не пройдена |

    > [!div class="mx-imgBorder"]
    > ![Добавление проверки диапазона](media/custom-commands/add-validations-temperature.png)

### <a name="try-it-out"></a>Попробуйте продукт

1. В верхней части правой панели щелкните значок **обучения** .

1. После завершения обучения выберите **тест** и попробуйте несколько взаимодействий:

    - Входные данные: установите температуру в 72 градусов.
    - Выходные данные: ОК, установка температуры в 72 градусов
    - Входные данные: установите температуру в 45 градусов.
    - Выходные данные: можно установить только температуру между 60 и 80 градусов
    - Входные данные: сделайте его 72 градусов
    - Выходные данные: ОК, установка температуры в 72 градусов

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Как добавить правила взаимодействия](./how-to-custom-commands-add-interaction-rules.md)
