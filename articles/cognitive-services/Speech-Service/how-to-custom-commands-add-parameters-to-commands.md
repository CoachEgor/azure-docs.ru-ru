---
title: Как добавлять простые команды в пользовательские команды приложение — служба речи
titleSuffix: Azure Cognitive Services
description: В этой статье вы узнаете, как добавлять параметры в пользовательские команды.
services: cognitive-services
author: singhsaumya
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 06/18/2020
ms.author: sausin
ms.openlocfilehash: d2a14a501ebcf0913804ce39019a3fa4018ca141
ms.sourcegitcommit: f98ab5af0fa17a9bba575286c588af36ff075615
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/25/2020
ms.locfileid: "85362379"
---
# <a name="add-parameters-to-commands"></a>Добавление параметров в команды

В этой статье вы узнаете, как добавлять параметры в пользовательские команды. Параметры — это сведения, необходимые командам для выполнения задачи. В сложных сценариях параметры также можно использовать для определения условий, которые активируют настраиваемые действия.

## <a name="prerequisites"></a>Предварительные требования

> [!div class="checklist"]
> * [Как создать приложение с помощью простых команд](./how-to-custom-commands-create-application-with-simple-commands.md)

## <a name="configure-parameters-for-turnon-command"></a>Настройка параметров для команды Турнон

Измените существующую команду **Турнон** , чтобы включить и отключить несколько устройств.

1. Так как команда будет работать как в сценарии включения, так и в режиме отключения, переименуйте команду в **турнонофф**.
   1. В левой области выберите команду **Турнон** , а затем нажмите кнопку с многоточием (...) рядом с **командой Создать** в верхней части панели.
   
   1. Выберите **Переименовать**. В окнах **команда переименования** измените **имя** на **турнонофф**.

1. Далее вы добавите в эту команду Новый параметр, который показывает, нужно ли включать или отключать устройство.
   1. Выберите **Добавить** в верхней части средней области. В раскрывающемся списке выберите **параметр**.
   1. В области справа в разделе **Параметры** добавьте в поле **имя** значение **онофф**.
   1. Выберите **обязательный**. В окне **Добавление ответа для обязательного параметра** выберите **простой редактор**. В **первом варианте**добавьте
        ```
        On or Off?
        ```
   1. Нажмите кнопку **Обновить**.

       > [!div class="mx-imgBorder"]
       > ![Создать ответ требуемого параметра](media/custom-commands/add-required-on-off-parameter-response.png)
   
   1. Теперь настройте свойства параметров. Чтобы получить описание всех свойств конфигурации команды, перейдите к разделу [ссылки](./custom-commands-references.md). Настройте остальные свойства параметра следующим образом:
      

       | Конфигурация      | Рекомендуемое значение     | Описание                                                      |
       | ------------------ | ----------------| ---------------------------------------------------------------------|
       | Имя               | `OnOff`           | Описательное имя параметра                                                                           |
       | Является глобальным          | unchecked       | Флажок, указывающий, будет ли значение этого параметра глобально применено ко всем командам в приложении|
       | Обязательный           | checked         | Флажок, указывающий, требуется ли значение этого параметра перед выполнением команды |
       | Ответ на обязательный параметр      |Простой редактор >`On or Off?`      | Запрос на запрос значения этого параметра, если он неизвестен |
       | Type               | Строка          | Тип параметра, например число, строка, Дата и время или география   |
       | Конфигурация      | Принять предопределенные входные значения из внутреннего каталога | Для строк это ограничивает входные значения набором возможных значений. |
       | Предопределенные входные значения     | `on`, `off`           | Набор возможных значений и их псевдонимов         |
       
        
   1. Для добавления предопределенных входных значений выберите **Добавить предопределенный ввод** и в окне **новый элемент** введите **имя** , как указано в таблице выше. В этом случае псевдонимы не используются, поэтому вы можете оставить его пустым. 
    > [!div class="mx-imgBorder"]
        > ![Создать параметр](media/custom-commands/create-on-off-parameter.png)
   1. Нажмите кнопку **сохранить** , чтобы сохранить все конфигурации параметра.
 
 ### <a name="add-subjectdevice-parameter"></a>Добавить параметр Субжектдевице 

   1. Затем нажмите кнопку **Добавить** еще раз, чтобы добавить второй параметр для представления имени устройств, которыми можно управлять с помощью этой команды. Используйте следующую конфигурацию.
   

       | Параметр            | Рекомендуемое значение       |
       | ------------------ | --------------------- |
       | Имя               | `SubjectDevice`         |
       | Является глобальным          | unchecked             |
       | Обязательный           | checked               |
       | Ответ на обязательный параметр     | Простой редактор >`Which device do you want to control?`    | 
       | Type               | Строка                |          |
       | Конфигурация      | Принять предопределенные входные значения из внутреннего каталога | 
       | Предопределенные входные значения | `tv`, `fan`               |
       | Псевдонимы ( `tv` )      | `television`, `telly`     |

   1. Нажмите кнопку **Сохранить**.

### <a name="modify-example-sentences"></a>Изменение примеров предложений

Для команд с параметрами рекомендуется добавить примеры предложений, охватывающие все возможные сочетания. Пример.

* Полные сведения о параметрах —`turn {OnOff} the {SubjectDevice}`
* Сведения о частичном параметре-`turn it {OnOff}`
* Нет сведений о параметрах —`turn something`

Примеры предложений с различными сведениями позволяют приложению настраиваемых команд разрешать как однозначные разрешения, так и множественные разрешения с частичными сведениями.

Учитывая это, измените примеры предложений, чтобы использовать указанные ниже параметры.

```
turn {OnOff} the {SubjectDevice}
{SubjectDevice} {OnOff}
turn it {OnOff}
turn something {OnOff}
turn something
```

Нажмите кнопку **Сохранить**.

> [!TIP]
> В редакторе примеров предложений для ссылки на параметры используются фигурные скобки. - `turn {OnOff} the {SubjectDevice}`Используйте вкладку для автоматического завершения с помощью созданных ранее параметров.

### <a name="modify-completion-rules-to-include-parameters"></a>Изменение правил завершения для включения параметров

Измените существующее правило завершения **конфирматионреспонсе**.

1. В разделе **условия** выберите **Добавить условие**.
1. В окне **новое условие** в списке **тип** выберите **обязательные параметры**. В списке ниже выберите и **онофф** , и **субжектдевице**.
1. Выберите **Создать**.
1. В разделе **действия** измените существующее действие **Отправка речевого ответа** , наведя указатель мыши на действие и нажав кнопку Изменить. На этот раз используйте только что созданные параметры **онофф** и **субжектдевице** .

    ```
    Ok, turning the {SubjectDevice} {OnOff}
    ```
1. Нажмите кнопку **Сохранить**.

### <a name="try-it-out"></a>Попробуйте!
1. В верхней части правой панели щелкните значок **обучения** .

1. По завершении обучения выберите **тест**. Откроется окно **тестирования приложения** .
 Попробуйте несколько взаимодействий.

    - Входные данные: отключение телевизора
    - Выходные данные: ОК, отключение телевизора
    - Входные данные: отключение телевизора
    - Выходные данные: ОК, отключение телевизора
    - Входные данные: отключить
    - Выходные данные: какое устройство вы хотите контролировать?
    - Входные данные: ТВ
    - Выходные данные: ОК, отключение телевизора

## <a name="configure-parameters-for-settemperature-command"></a>Настройка параметров для команды SetTemperature

Измените команду **SetTemperature** , чтобы она установила температуру в соответствии с направлением пользователя.

Добавить новую **температуру** параметра со следующей конфигурацией

| Конфигурация      | Рекомендуемое значение     |
| ------------------ | ----------------|
| Имя               | `Temperature`           |
| Обязательно           | checked         |
| Ответ на обязательный параметр      | Простой редактор >`What temperature would you like?`
| Type               | Number          |


Измените пример фразы продолжительностью на следующие значения.

```
set the temperature to {Temperature} degrees
change the temperature to {Temperature}
set the temperature
change the temperature
```

Измените существующие правила завершения в соответствии со следующей конфигурацией.

| Конфигурация      | Рекомендуемое значение     |
| ------------------ | ----------------|
| Условия         | Обязательный параметр >ная температура           |
| Действия           | Отправка речевого ответа >`Ok, setting temperature to {Temperature} degrees` |

### <a name="try-it-out"></a>Попробуйте!

**Обучить** и **протестируйте** изменения с помощью нескольких взаимодействий.

- Входные данные: задать температуру
- Выходные данные: какая температура вам нужна?
- Входные данные: 50 градусов
- Выходные данные: ОК, установка температуры в 50 градусов

## <a name="configure-parameters-to-the-setalarm-command"></a>Настройка параметров для команды Сеталарм

Добавьте параметр с именем **DateTime** со следующей конфигурацией.

   | Параметр                           | Рекомендуемое значение                     | 
   | --------------------------------- | ----------------------------------------|
   | Имя                              | `DateTime`                               |
   | Обязательно                          | checked                                 |
   | Ответ на обязательный параметр   | Простой редактор >`For what time?`            | 
   | Type                              | Дата и время                                |
   | Значения по умолчанию для даты                     | Если дата отсутствует, используйте сегодня            |
   | Значения времени по умолчанию                     | Если время отсутствует, используйте начало дня     |


> [!NOTE]
> В этой статье мы предоставили использование строк, чисел и типов параметров даты и времени. Список всех поддерживаемых типов параметров и их свойств см. в [ссылке](./custom-commands-references.md).


Измените пример фразы продолжительностью на следующие значения.

```
set an alarm for {DateTime}
set alarm {DateTime}
alarm for {DateTime}
```

Измените существующие правила завершения в соответствии со следующей конфигурацией.

   | Параметр    | Рекомендуемое значение                               |
   | ---------- | ------------------------------------------------------- |
   | Действия    | Отправка речевого ответа-`Ok, alarm set for {DateTime}`  |


### <a name="try-it-out"></a>Попробуйте!

**Обучить** и **протестируйте** изменения.
- Входные данные: задать оповещение для завтрашнего дня в полдень
- Выходные данные: ОК, оповещение установлено для 2020-05-02 12:00:00
- Входные данные: задать оповещение
- Выходные данные: какое время?
- Входные данные: 17:00
- Выходные данные: ОК, оповещение установлено для 2020-05-01 17:00:00


## <a name="try-out-all-the-commands"></a>Испытайте все команды

Протестируйте все три команды вместе с помощью фразы продолжительностью, связанных с различными командами. Обратите внимание, что можно переключаться между различными командами.

- Входные данные: задать оповещение
- Выходные данные: сколько времени?
- Входные данные: включить телевизор
- Выходные данные: ОК, включение телевизора
- Входные данные: задать оповещение
- Выходные данные: сколько времени?
- Входные данные: 17:00
- Выходные данные: ОК, оповещение установлено для 2020-05-01 17:00:00

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Как добавить конфигурации в параметры команды](./how-to-custom-commands-add-parameter-configuration.md)
