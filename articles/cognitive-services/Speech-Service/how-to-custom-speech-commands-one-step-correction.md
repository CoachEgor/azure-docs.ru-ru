---
title: 'Как: Добавить одношаговую коррекцию в пользовательскую команду (Preview) - Служба речи'
titleSuffix: Azure Cognitive Services
description: В этой статье мы объясняем, как реализовать одношаговые исправления для команды в пользовательских командах.
services: cognitive-services
author: encorona-ms
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 12/05/2019
ms.author: encorona
ms.openlocfilehash: 86a12bd1dccc2b6ac15010546d7e990b768ebc02
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "75456457"
---
# <a name="how-to-add-a-one-step-correction-to-a-custom-command-preview"></a>Как: Добавить одношаговую коррекцию в пользовательский командование (Предварительный просмотр)

В этой статье вы узнаете, как добавить одношагнее подтверждение в команду.

Одноступенчатая коррекция используется для обновления только что завершенной команды.

Т.е. если вы только что настроили будильник, вы можете передумать и обновить время сигнализации.

- Вход: Установите будильник на завтра в полдень
- Выход: "Хорошо, будильник установлен на 12/06/2019 12:00:00"
- Вход: Нет, завтра в 13:00
- Выход: "Хорошо

Имейте в виду, что это означает, что у вас как разработчика есть механизм обновления сигнализации в приложении бэкэнда.

## <a name="prerequisites"></a>Предварительные требования

Вы должны завершить шаги в следующих статьях:

- [Быстрый запуск: Создайте пользовательский командный заказ (Предварительный просмотр)](./quickstart-custom-speech-commands-create-new.md)
- [Быстрый запуск: Создайте пользовательскую команду с параметрами (Предварительный просмотр)](./quickstart-custom-speech-commands-create-parameters.md)
- [Как: Добавить подтверждение в пользовательский команды (Предварительный просмотр)](./how-to-custom-speech-commands-confirmations.md)

## <a name="add-the-advanced-rules-for-one-step-correction"></a>Добавьте расширенные правила для одношаговой коррекции 

Чтобы продемонстрировать одношаговую коррекцию, давайте расширим команду **SetAlarm,** созданную в [Подтверждениях Как](./how-to-custom-speech-commands-confirmations.md).
 
1. Добавьте расширенное правило для обновления предыдущей тревоги. 

    Это правило будет просить пользователя подтвердить дату и время сигнализации и ожидает подтверждения (да/нет) на следующий ход.

   | Параметр               | Рекомендуемое значение                                                  | Описание                                        |
   | --------------------- | ---------------------------------------------------------------- | -------------------------------------------------- |
   | Имя правила             | Обновление предыдущей тревоги                                            | Имя, описывающее цель правила          |
   | Условия            | UpdateLastCommand & необходимый параметр - DateTime                | Условия, определяющие, когда правило может быть запущено    |   
   | Действия               | SpeechResponse - "- Обновление предыдущей тревоги на "DateTime"       | Действие, которое необходимо предпринять, когда условие правила истинно |
   | Состояние после исполнения | Полная команда                                                 | Состояние пользователя после поворота                   |

1. Переместите только что созданное правило в верхней части передовых правил (прокрутите правило в панели и нажмите на стрелку UP).
   > [!div class="mx-imgBorder"]
   > ![Добавление проверки диапазона](media/custom-speech-commands/one-step-correction-rules.png)

> [!NOTE]
> В реальном приложении в разделе Действия этого правила вы также отправите клиенту действие или позвоните в конечную точку HTTP для обновления сигнализации в вашей системе.

## <a name="try-it-out"></a>Попробуйте продукт

Выберите панель тестирования и попробуйте несколько взаимодействий.

- Вход: Установите будильник на завтра в полдень
- Выход: "Вы уверены, что хотите установить будильник на 12/07/2019 12:00:00?"
- Вход: Да
- Выход: "Хорошо, будильник установлен на 12/07/2019 12:00:00"
- Вход: Нет, завтра в 13:00
- Выход: "Обновление предыдущей тревоги до 12/07/2019 13:00:00"
