---
title: Инструкции. Добавление одноэтапного исправления в пользовательскую команду (Предварительная версия) — служба речи
titleSuffix: Azure Cognitive Services
description: В этой статье объясняется, как реализовать исправления одного этапа для команды в пользовательских командах.
services: cognitive-services
author: encorona-ms
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 12/05/2019
ms.author: encorona
ms.openlocfilehash: f43c28d314cb8a0211496664cd20d2c380e4d5b0
ms.sourcegitcommit: c535228f0b77eb7592697556b23c4e436ec29f96
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/06/2020
ms.locfileid: "82858274"
---
# <a name="how-to-add-a-one-step-correction-to-a-custom-command-preview"></a>Как добавить одношаговое исправление в настраиваемую команду (Предварительная версия)

В этой статье вы узнаете, как добавить в команду одноразовое подтверждение.

Одношаговое исправление используется для обновления только что выполненной команды. То есть, если вы просто настроили оповещение, вы можете изменить свое внимание и обновить время оповещения. Ниже приведен пример такого случая.

- Входные данные: задать оповещение для завтрашнего дня в полдень
- Выходные данные: ОК, оповещение установлено для 2020-05-02 12:00:00
- Ввод: нет, завтра по адресу 13:00-14:30
- Выходные данные: ОК

Реальный сценарий, который обычно сопровождается клиентом, выполняющим действие в результате выполнения команды. в этой статье предполагается, что у разработчика есть механизм обновления будильника в серверной части приложения.

## <a name="prerequisites"></a>Предварительные требования

Необходимо выполнить действия, описанные в следующих статьях:
> [!div class="checklist"]

> * [Краткое руководство. Создание настраиваемой команды (Предварительная версия)](./quickstart-custom-speech-commands-create-new.md)
> * [Краткое руководство. Создание настраиваемой команды с параметрами (Предварительная версия)](./quickstart-custom-speech-commands-create-parameters.md)
> * [Как добавить подтверждение в настраиваемую команду (Предварительная версия)](./how-to-custom-speech-commands-confirmations.md)


## <a name="add-interaction-rules-for-one-step-correction"></a>Добавление правил взаимодействия для одношаговой корректировки 

Чтобы продемонстрировать одношаговое исправление, добавим команду **сеталарм** , созданную в статье [как добавить подтверждение в настраиваемую команду (Предварительная версия)](./how-to-custom-speech-commands-confirmations.md).
1. Добавьте правило взаимодействия для обновления ранее установленного оповещения. 

    Это правило попросит пользователя подтвердить дату и время оповещения и ожидает подтверждения (да/нет) для следующей активации.

   | Параметр               | Рекомендуемое значение                                                  | Описание                                        |
   | --------------------- | ---------------------------------------------------------------- | -------------------------------------------------- |
   | Имя правила             | Обновить предыдущий будильник                                            | Имя, описывающее назначение правила.          |
   | Условия            | Предыдущая команда должна быть обновлена & обязательный параметр-> DateTime                | Условия, определяющие, когда может выполняться правило    |   
   | Действия               | Отправка речевого ответа — > простой редактор > обновление предыдущего оповещения до {DateTime}      | Действие, выполняемое, если условие правила имеет значение true |
   | Состояние после выполнения | Команда выполнена        | Состояние пользователя после включения                   |

1. Переместите только что созданное правило в начало правил взаимодействия (выберите правило на панели и щелкните стрелку вверх рядом со `...` значком в верхней части средней области).
   > [!div class="mx-imgBorder"]
   > ![Добавление проверки диапазона](media/custom-speech-commands/one-step-correction-rules.png)
    > [!NOTE]
    > В реальном приложении в разделе действия этого правила вы также отправите действие клиенту или вызовите конечную точку HTTP для обновления сигнала в системе.

## <a name="try-it-out"></a>Попробуйте!

Выберите `Train`, дождитесь завершения обучения и выберите `Test`.

- Входные данные: задать оповещение для завтрашнего дня в полдень
- Выходные данные: вы действительно хотите установить оповещение для 2020-05-02 12:00:00
- Входные данные: Да
- Выходные данные: ОК, оповещение установлено для 2020-05-02 12:00:00
- Ввод: нет, завтра по адресу 2pm
- Выходные данные: обновление предыдущего оповещения до 2020-05-02 14:00:00
