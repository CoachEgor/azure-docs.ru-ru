---
title: Рекомендации по метрикам часто задаваемые вопросы
titleSuffix: Azure Cognitive Services
description: Часто задаваемые вопросы о службе советника по метрикам.
services: cognitive-services
author: aahill
manager: nitinme
ms.service: cognitive-services
ms.subservice: metrics-advisor
ms.topic: conceptual
ms.date: 09/30/2020
ms.author: aahi
ms.openlocfilehash: e4a75bdd6147ee2189660c37062c5bec9d55d512
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "91631751"
---
# <a name="metrics-advisor-frequently-asked-questions"></a>Рекомендации по метрикам часто задаваемые вопросы

### <a name="what-is-the-cost-of-my-instance"></a>Какова стоимость своего экземпляра?

Сейчас в предварительной версии не стоит платить за использование вашего экземпляра.

### <a name="why-is-the-demo-website-readonly"></a>Почему демонстрационный веб-сайт предназначен только для чтения?

[Демонстрационный веб-сайт](https://anomaly-detector.azurewebsites.net/) доступен для общего доступа. Этот экземпляр доступен только для чтения, чтобы предотвратить случайную передачу каких-либо данных.

### <a name="why-cant-i-create-the-resource-the-pricing-tier-is-unavailable-and-it-says-you-have-already-created-1-s0-for-this-subscription"></a>Почему не удается создать ресурс? "Ценовая категория" недоступна и говорит "вы уже создали 1 S0 для этой подписки"?

:::image type="content" source="media/pricing.png" alt-text="Сообщение, если ресурс F0 уже существует":::

Во время общедоступной предварительной версии только один экземпляр помощника по метрикам может быть создан в рамках подписки в одном регионе.

Если у вас уже есть экземпляр, созданный в том же регионе, использующий ту же подписку, можно попробовать другой регион или другую подписку, чтобы создать новый экземпляр. Можно также удалить существующий экземпляр, чтобы создать новый.

Если вы уже удалили существующий экземпляр, но по-прежнему видите ошибку, подождите около 20 минут после удаления ресурса перед созданием нового экземпляра.

## <a name="basic-concepts"></a>Основные понятия

### <a name="what-is-multi-dimensional-time-series-data"></a>Что такое многомерные данные временных рядов?

См. Описание [многомерной метрики](glossary.md#multi-dimensional-metric)  в глоссарии.

### <a name="how-much-data-is-needed-for-metrics-advisor-to-start-anomaly-detection"></a>Какой объем данных требуется помощнику по метрикам для запуска обнаружения аномалий?

Как минимум одна точка данных может активировать обнаружение аномалий. Однако это не приносит наилучшей точности. Служба будет считать окном предыдущих точек данных, используя значение, указанное в качестве правила "Заполнение" во время создания веб-канала данных.

Перед отметкой времени, которую необходимо определить, рекомендуется использовать некоторые данные.
В зависимости от степени детализации данных Рекомендуемая сумма данных варьируется, как показано ниже.

| Степень детализации данных | Рекомендуемый объем данных для обнаружения |
| ----------- | ------------------------------------- |
| Менее 5 минут | 4 дня данных |
| от 5 минут до 1 дня | 28 дней данных |
| Более 1 дня, до 31 дня | 4 года данных |
| Больше 31 дня | 48 лет данных |

### <a name="why-metrics-advisor-doesnt-detect-anomalies-from-historical-data"></a>Почему помощник по метрикам не обнаруживает аномалии из исторических данных?

Советник по метрикам предназначен для обнаружения данных потоковой передачи в реальном времени. Существует ограничение на максимальную длину исторических данных, которую будет просматривать служба и выполнить обнаружение аномалий. Это означает, что результаты обнаружения аномалий будут иметь только точки данных после определенной самой ранней метки времени. Самая ранняя отметка времени зависит от степени детализации данных.

В зависимости от степени детализации данных, длины исторических данных, для которых будут получены результаты обнаружения аномалий, приведены ниже.

| Степень детализации данных | Максимальная длина исторических данных для обнаружения аномалий |
| ----------- | ------------------------------------- |
| Менее 5 минут | Интегрированное время — 13 часов |
| от 5 минут до менее 1 часа | Время перехода на 4 дня  |
| от 1 часа до меньше 1 дня | Время адаптации — 14 дней  |
| 1 день | Время адаптации — 28 дней  |
| Больше 1 дня, меньше 31 день | Интегрированное время — 2 года  |
| Больше 31 дня | Время адаптации — 24 года   |

### <a name="more-concepts-and-technical-terms"></a>Дополнительные понятия и технические термины

См. также [Глоссарий](glossary.md) для получения дополнительных сведений.

###  <a name="how-do-i-write-a-valid-query-for-ingesting-my-data"></a>Разделы справки написать допустимый запрос для приема моих данных?  

Чтобы помощник по метрикам принимал данные, необходимо создать запрос, который будет возвращать измерения данных в одной метке времени. Помощник по метрикам запустит этот запрос несколько раз, чтобы получить данные из каждой метки времени. 

Обратите внимание, что запрос должен возвращать не более одной записи для каждой комбинации измерений по заданной метке времени. Все возвращаемые записи должны иметь одинаковую метку времени. Запрос не должен содержать повторяющихся записей.

Например, предположим, что вы создаете следующий запрос для ежедневной метрики: 
 
`select timestamp, city, category, revenue from sampledata where Timestamp >= @StartTime and Timestamp < dateadd(DAY, 1, @StartTime)`

Обязательно используйте правильную детализацию для временных рядов. Для почасовой метрики следует использовать: 

`select timestamp, city, category, revenue from sampledata where Timestamp >= @StartTime and Timestamp < dateadd(hour, 1, @StartTime)`

Обратите внимание, что эти запросы возвращают данные только в одной метке времени и содержат все комбинации измерений, которые будут использоваться помощником по метрикам. 

:::image type="content" source="media/query-result.png" alt-text="Сообщение, если ресурс F0 уже существует" lightbox="media/query-result.png":::


### <a name="how-do-i-detect-spikes--dips-as-anomalies"></a>Разделы справки обнаруживать пики & DIP как аномалии?

Если имеются предварительно определенные жесткие пороговые значения, можно вручную задать "жесткое пороговое значение" в [конфигурациях обнаружения аномалий](how-tos/configure-metrics.md#anomaly-detection-methods).
Если пороговые значения отсутствуют, можно использовать "интеллектуальное обнаружение", которое включено в AI. Дополнительные сведения см. в разделе [Настройка обнаружения конфигурации](how-tos/configure-metrics.md#tune-the-detecting-configuration) .

### <a name="how-do-i-detect-inconformity-with-regular-seasonal-patterns-as-anomalies"></a>Разделы справки обнаруживать несоответствия с обычными (сезонными) шаблонами как аномалии?

«Интеллектуальное обнаружение» может познакомиться с шаблоном данных, включая сезонные шаблоны. Затем он обнаруживает эти точки данных, которые не соответствуют обычным шаблонам как аномалии. Дополнительные сведения см. в разделе [Настройка обнаружения конфигурации](how-tos/configure-metrics.md#tune-the-detecting-configuration) .

### <a name="how-do-i-detect-flat-lines-as-anomalies"></a>Разделы справки обнаруживать неструктурированные строки как аномалии?

Если данные в обычном режиме нестабильны, и вы хотите получать оповещения о том, что оно слишком стабильно или даже становится плоской линией, то "Изменение порогового значения" можно настроить для обнаружения таких точек данных, когда изменение слишком мало.
Дополнительные сведения см. в разделе [конфигурации обнаружения аномалий](how-tos/configure-metrics.md#anomaly-detection-methods) .

## <a name="next-steps"></a>Next Steps
- [Общие сведения о Помощнике по метрикам](overview.md)
- [Попробуйте демонстрационный сайт](quickstarts/explore-demo.md)
- [Использование веб-портала](quickstarts/web-portal.md)