---
title: Руководство по моделированию Project Acoustics в Unity
titlesuffix: Azure Cognitive Services
description: В этом руководстве описывается акустическое моделирование с помощью Project Acoustics в Unity.
services: cognitive-services
author: NoelCross
manager: nitinme
ms.service: cognitive-services
ms.subservice: acoustics
ms.topic: tutorial
ms.date: 03/20/2019
ms.author: noelc
ROBOTS: NOINDEX
ms.openlocfilehash: b7249c3048ba3af3adbaac01f43770482a0d38ad
ms.sourcegitcommit: 13a289ba57cfae728831e6d38b7f82dae165e59d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/09/2019
ms.locfileid: "68933195"
---
# <a name="project-acoustics-unity-bake-tutorial"></a>Руководство по моделированию Project Acoustics в Unity
В этом руководстве описывается акустическое моделирование с помощью Project Acoustics в Unity.

Требования к программному обеспечению:
* [Unity 2018.2+](https://unity3d.com) для Windows или MacOS
* [подключаемый модуль Project Acoustics, интегрированный в ваш проект Unity](unity-integration.md), или [содержимое образца Project Acoustics Unity](unity-quickstart.md).
* Необязательно: [учетная запись пакетной службы Azure](create-azure-account.md) для ускорения моделирования с использованием облачных вычислений.

## <a name="open-the-project-acoustics-bake-window"></a>Открытие окна моделирования Project Acoustics
В меню Unity выберите **Window > Acoustics** (Окно > Акустика)

![Снимок экрана с редактором Unity и выделенным пунктом меню в окне Acoustics (Акустика)](media/window-acoustics.png)

## <a name="create-a-navigation-mesh"></a>Создание навигационной сетки
Project Acoustics использует навигационную сетку, чтобы расположить точки зонда прослушивателя для моделирования. Вы можете использовать [рабочий процесс навигационной сетки](https://docs.unity3d.com/Manual/nav-BuildingNavMesh.html) Unity или другой пакет трехмерного моделирования для создания собственной сетки. 

## <a name="mark-acoustic-scene-objects"></a>Метка объектов акустической сцены
Project Acoustics полагается на два типа объектов сцены для моделирования: объекты, которые будут отражать и перекрывать звук, и навигационная сетка игрока, которая ограничивает точки зонда прослушивателя. Оба типа объектов отмечены на вкладке **Objects** (Объекты). 

Так как маркировка объектов просто добавляет компоненты **AcousticsGeometry** или **AcousticsNavigation** к объекту, вы также можете использовать [стандартный рабочий процесс компонента Unity](https://docs.unity3d.com/Manual/UsingComponents.html), чтобы отметить или снять метки с объектов. Метки поддерживаются только для отрисовщиков сетки и ландшафтов. Объекты всех остальных типов игнорируются. Флажки добавляют или снимают метки для всех затронутых объектов.

### <a name="mark-acoustic-occlusion-and-reflection-geometry"></a>Метка геометрии отражения и акустической окклюзии
Откройте вкладку **Objects** (Объекты) в окне **Acoustics**. Обязательно пометьте объекты как **Acoustics Geometry** (Геометрия акустики), если они должны перекрывать, отражать или поглощать звук. Геометрия акустики может включать такие объекты, как пол, стена, крыша, окна и стекла, ковры и крупная мебель. Для этих объектов вы можете использовать произвольный уровень сложности. Так как сцена перед моделированием вокселизируется, моделировать сетки с высокой степенью детализации, например, деревья с множеством мелких листьев, не более затратно, чем упрощенные объекты.

Следите за тем, чтобы не отметить очевидно лишние объекты, например невидимые сетки конфликтов.

В результатах наложения фиксируется форма объекта, существовавшая на момент вычисления зонда (на вкладке **Probes** (Зонды), как описано ниже). Если потребуется переместить любой из помеченных в сцене объектов, необходимо повторить расчет зонда и наложение сцены.

### <a name="mark-the-navigation-mesh"></a>Метка навигационной сетки
Навигационные сетки, создаваемые в интегрированном рабочем процессе Unity, автоматически применяются системой акустики. Чтобы применить собственные сетки, отметьте их на вкладке **Objects** (Объекты).

### <a name="for-reference-the-objects-tab-parts"></a>В качестве справочной информации: элементы вкладки Objects ("Объекты")
Страница этой вкладки состоит из следующих элементов.

1. Кнопки выбора вкладок (среди которых выбрана вкладка **Objects** (Объекты)). Эти кнопки позволяют переключаться между разными этапами наложения акустики (по порядку слева направо).
2. Краткое описание действий, выполняемых с помощью этой страницы.
3. Доступные фильтры для окна иерархии. Здесь вы можете отфильтровать список в окне иерархии по определенному типу объектов, чтобы их легче было пометить. Если вы еще ничего не отметили для акустики, последние два варианта здесь возвращают пустой список. Но они очень удобны для быстрого поиска помеченных объектов, когда они появятся.
4. Если нет выбранных объектов, в этом разделе отображается состояние всех объектов в сцене:
    * Total (Всего) — общее число активных нескрытых объектов в сцене.
    * Ignored (Игнорируется) — число объектов, которые не являются отрисовщиками сетки или ландшафтами.
    * Mesh (Сетка) — число объектов отрисовщика сетки в сцене.
    * Terrain (Ландшафт) — число объектов ландшафта в сцене.
    * Geometry (Геометрия) — число объектов сетки и ландшафта в сцене, помеченных как "Acoustics Geometry" (Геометрия акустики).
    * Navigation (Навигация) — число объектов сетки и ландшафта в сцене, помеченных как "Acoustics Navigation" (Навигация акустики). Это число не включает Unity NavMesh.
5. Здесь отображается общее число объектов в сцене, которые вы можете пометить, то есть отрисовщиков сетки и ландшафтов. Отображаются флажки, которые вы можете установить для использования выбранных объектов в роли геометрии или навигации для акустики (этот выбор добавляет к объектам соответствующий компонент).
6. Если ничего не выбрано, отображается напоминание о необходимости выбрать объекты для маркировки. Вы также можете пометить все объекты на сцене, установив любой из флажков (или оба сразу) без выбора отдельных элементов.
7. После выбора объектов в этом разделе отображается состояние только для выбранных объектов.
8. Отображает общее число выбранных объектов, для которых можно поставить отметку. Установка или снятие флажков в этом случае применяется только к выделенным объектам.

Если в вашей сцене ничего не выбрано, вкладка "Objects" (Объекты) будет выглядеть как на рисунке ниже.

![Снимок экрана с вкладкой Acoustics Objects (Объекты Acoustics) без выделения](media/objects-tab-no-selection-detail.png)

Если в вашей сцене или в иерархическом списке выбраны некоторые объекты, окно будет выглядеть как на рисунке ниже:

![Снимок экрана с вкладкой Acoustics Objects (Объекты Acoustics) с выделением](media/objects-tab-selection-detail.png)

Если отмечена только часть выбранных объектов, соответствующий флажок будет отображаться в "неопределенном" состоянии:

![Снимок экрана с вкладкой Acoustics Objects (Объекты Acoustics) с выделенным значком](media/mixed-object-selection-detail.png)

Щелчок по такому флажку помечает все выбранные объекты, а повторный щелчок — снимает отметки со всех выбранных объектов.

Объекты можно помечать одновременно для геометрии и навигации.

## <a name="select-acoustic-materials"></a>Выбор акустических материалов
Отметив объекты, щелкните кнопку **Materials** (Материалы), чтобы назначить акустические материалы. Система материалов Project Acoustics связана с системой визуальных материалов Unity. Чтобы два объекта состояли из отдельных акустических материалов, они должны содержать отдельные визуальные материалы.

Акустические материалы контролируют объем звуковой энергии, отраженной от каждой поверхности. Акустической материал по умолчанию имеет поглощение подобное бетону. Project Acoustics предлагает материалы, основанные на названии визуального материала. Вы можете назначить акустический материал Custom ("Пользовательский") материалу, чтобы включить ползунок коэффициента поглощения.

Время реверберации данного материала в помещении обратно пропорционально его коэффициенту поглощения, причем большинство материалов имеют коэффициент поглощения в диапазоне от 0,01 до 0,20. Материалы с коэффициентами поглощения вне этого диапазона имеют очень высокий уровень поглощения.

![Диаграмма, демонстрирующая отрицательную корреляцию времени реверберации с коэффициентом поглощения](media/reverb-time-graph.png)

### <a name="for-reference-parts-of-the-materials-tab"></a>Справочная информация. Элементы вкладки Materials (Материалы)
![Снимок экрана вкладки Acoustics Materials (Материалы Acoustics) в Unity](media/materials-tab-detail.png)

1. Кнопка перехода на вкладку **Materials** (Материалы) позволяет открыть эту страницу.
2. Краткое описание действий, выполняемых с помощью этой страницы.
3. Если установлен этот флажок, в список включаются только те материалы, которые используются для объектов с пометкой **Acoustics Geometry** (Геометрия акустики). В противном случае перечисляются все материалы, использованные в сцене.
4. Эти параметры позволяют изменить порядок объектов в меню, которое отображается при нажатии кнопки раскрывающегося списка в столбце Acoustics (Акустика) (№6) на рисунке ниже. Вариант **Name** (Имя) сортирует акустические материалы по имени. Вариант Absorptivity (Коэффициент поглощения) сортирует материалы в порядке возрастания коэффициента поглощения.
5. Список материалов, используемых в сцене, отсортированный в алфавитном порядке. Если установить флажок **Show Marked Only** (Показать только отмеченные) (№3), здесь отображаются только те материалы, которые используются объектами с пометкой **Acoustics Geometry** (Геометрия акустики). Щелчок по любому из этих материалов выбирает все объекты в сцене, для которых используется этот материал.
6. Отображает акустический материал, которому назначен материал сцены. Щелкните раскрывающийся список, чтобы изменить назначение материала сцены для разных акустических материалов. Вы можете изменить порядок сортировки в меню, которое отображается при щелчке по элементу, с помощью описанных выше вариантов **Sort Acoustics By:** (Сортировать акустику по:) (№4).
7. Отображает коэффициент акустического поглощения для материала, выбранного в предыдущем столбце. Значение "0" означает, что материал ничего не поглощает (полное отражение), а значение "1" — полное поглощение (без отражения). Коэффициент поглощения нельзя изменить для всех материалов, кроме пользовательских (Custom).
8. Если материал помечен как пользовательский (Custom), этот ползунок активируется и позволяет изменить коэффициент поглощения. Также можно сразу ввести числовое значение.

## <a name="calculate-and-review-listener-probe-locations"></a>Вычисление и проверка расположений зонда прослушивателя
После назначения материалов перейдите на вкладку **Probes** ("Зонды") и нажмите **Calculate** ("Вычислить"), чтобы расположить точки размещения зондов прослушивателя для моделирования.

### <a name="what-the-calculate-button-calculates"></a>Что делает кнопка Calculate... (Вычислить...)
Кнопка **Calculate...** ("Вычисление...") использует выбранную вами геометрию акустической сцены, чтобы подготовить вашу сцену к моделированию.

1. Извлекает сведения о геометрии из сеток сцены и вычисляет объемное пространство. Объемное пространство представляет собой трехмерную координатную сетку, составленную из кубических объемных пикселей, которая вмещает всю созданную сцену. Размер объемных пикселей определяется частотой моделирования, которая зависит от значения параметра **Simulation Resolution** (Разрешение моделирования). Каждый объемный пиксель считается "воздушным пространством" или содержит часть геометрии сцены. Если объемный пиксель содержит геометрию, ему присваивается цифрой коэффициент, соответствующий материалу этого элемента геометрии.
2. Он использует навигационные сетки, чтобы расположить точки зондов прослушивателя. Алгоритм уравновешивает острые проблемы пространственного охвата и времени имитации и размера файла, обеспечивая при этом наличие некоторого охвата для узких коридоров и небольшого пространства. Типичные значения точек зондов варьируются от 100 для небольших сцен до нескольких тысяч для больших.

В зависимости от размера сцены и скорости компьютера эти вычисления могут занять несколько минут.

### <a name="review-voxel-and-probe-placement"></a>Обзор размещения объемных пикселей и зондов
Предварительный просмотр данных объемных пикселей и местоположений точек размещения зондов, чтобы убедиться, что вы готовы моделировать сцену. Неполная или отсутствующая навигационная сетка или дополнительная акустическая геометрия обычно быстро замечаются при предварительном просмотре. Размещение объемных пикселей и зондов можно включить или отключить с помощью меню Gizmos ("Инструменты").

![Снимок с меню Gizmos (Инструменты) в Unity](media/gizmos-menu.png)

Объемные пиксели, содержащие акустическую геометрию, отображаются в виде зеленых кубов. Изучите свою сцену и убедитесь, что все, что должно быть геометрией, содержит объемные пиксели. Объемные пиксели отображаются только в том случае, если расстояние от камеры сцены до объекта не превышает 5 метров.

Сравнивая объемные пиксели, созданные в разрешениях грубого и точного моделирования, вы увидите, что в низком разрешении создаются пиксели вдвое большего размера.

![Снимок экрана с окном предварительного просмотра объемных пикселей в низком разрешении в редакторе Unity](media/voxel-cubes-preview.png)

Результаты моделирования интерполируются между точками расположения зонда прослушивателя в среде выполнения. Проверьте, есть ли точки зонда в местах, где игрок должен перемещаться в сцене.

![Снимок экрана с окном предварительного просмотра зонда в редакторе Unity](media/probes-preview.png)

### <a name="take-care-with-scene-renames"></a>Выполнение переименования сцен
Имя сцены используется для сопоставления сцены с файлами, в которых хранятся данные о точках размещения зондов и объемных пикселях. Если вы переименуете сцену после расчета точек расположения зондов, все данные о назначении материалов и размещении объектов будут утрачены и придется повторно выполнить вычисления.

### <a name="for-reference-parts-of-the-probes-tab"></a>В качестве справочной информации: Элементы вкладки Probes (Зонды)
![Снимок экрана с вкладкой Acoustics Probes (Зонды Acoustics) в Unity](media/probes-tab-detail.png)

1. Кнопка перехода на вкладку **Probes** (Зонды) позволяет открыть эту страницу.
2. Краткое описание действий, выполняемых с помощью этой страницы.
3. Позволяют выбрать низкое (Coarse) или высокое (Fine) разрешение для грубого или точного моделирования соответственно. Грубое выполняется быстрее, но допускает некоторые неточности. Подробнее это описано в следующем разделе о [разрешении в акустическом моделировании](bake-resolution.md).
4. В этом поле выберите расположение для файлов акустических данных. Нажмите кнопку с символом многоточия (...), чтобы воспользоваться средством выбора папки. По умолчанию используется папка **Assets/AcousticsData**. В этом расположении будет создана вложенная папка **Editor**. Дополнительные сведения о [файлах данных](#Data-Files) см. в разделе ниже.
5. Указанный здесь префикс будет использоваться для именования всех файлов данных этой сцены. По умолчанию используется формат "Acoustics_[имя сцены]".
6. После вычисления зондов описанные выше элементы управления отключаются. Нажмите кнопку **Clear** (Очистить), чтобы удалить все результаты вычислений и включить элементы управления, если вам нужно повторить расчеты с новыми параметрами.
7. Нажмите кнопку **Calculate...** (Вычислить...), чтобы пересчитать сцену в объемных пикселях и вычислить размещение точек зондов. Этот процесс выполняется на локальном компьютере и является обязательным этапом перед наложением.

В этой версии Project Acoustics вы не можете размещать зонды вручную, а только через автоматизированный процесс на вкладке **Probes** (Зонды).

Дополнительные сведения о разрешениях для грубого и точного моделирования см. в разделе о [разрешении в акустическом моделировании](bake-resolution.md).

## <a name="bake-your-scene-using-azure-batch"></a>Моделирование сцены с помощью пакетной службы Azure
Вы можете смоделировать свою сцену с помощью вычислительного кластера в облаке, используя пакетную службу Azure. Подключаемый модуль Unity Project Acoustics подключается напрямую к пакетной службе Azure для создания экземпляра, управления и демонтажа кластера пакетной службы Azure для каждого моделирования. На вкладке **Bake** (Моделирование) введите свои учетные данные Azure, выберите тип и размер компьютера кластера и нажмите кнопку **Bake** (Моделировать).

### <a name="for-reference-parts-of-the-bake-tab"></a>В качестве справочной информации: элементы вкладки Bake ("Моделирование")
![Снимок экрана с вкладкой Bake (Моделирование) в Unity](media/bake-tab-details.png)

1. Кнопка перехода на вкладку Bake (Наложение) позволяет открыть эту страницу.
2. Краткое описание того, что можно сделать на этой странице.
3. Поля для ввода учетных данных Azure после создания учетной записи Azure. Дополнительные сведения см. в [этой статье](create-azure-account.md).
4. Тег образа Docker для набора инструментов акустической обработки.
5. Позволяет запустить портал Azure, чтобы управлять подписками, отслеживать потребление, просматривать информацию о выставлении счетов и т. д. 
6. Тип вычислительного узла в Пакетной службе Azure, используемого для вычислений. Можно использовать только те типы узлов, которые поддерживаются в расположении центра обработки данных Azure. Если у вас нет данных о поддержке, сохраните здесь значение **Standard_F8s_v2**.
7. Количество узлов, используемых для вычислений. Введенное здесь число влияет на время создания наложения, но ограничивается количеством выделенных ядер в Пакетной службе Azure. Распределение по умолчанию допускает только два узла по 8 ядер или один узел с 16 ядрами. Эти характеристики можно увеличить. Дополнительные сведения об ограничениях для выделения ядер см. в статье [о создании учетной записи Пакетной службы Azure](create-azure-account.md).
8. Установите этот флажок, чтобы настроить пул вычислений для использования [узлов с низким приоритетом](https://docs.microsoft.com/azure/batch/batch-low-pri-vms). Затраты на узлы с низким приоритетом намного меньше, однако эти узлы не всегда доступны и могут быть замещены в любое время.
9. Количество зондов в обрабатываемой сцене, которое было вычислено на вкладке **Probes** (Зонды). Количество зондов определяет количество процессов моделирования, которые нужно выполнить в облаке. Число узлов не может превышать число зондов.
10. Ожидаемое количество времени, затраченное на выполнение работы в облаке. Сюда не входит время запуска узлов. Это значение примерно соответствует длительности периода с начала выполнения задания до получения результатов. Не забывайте, что это всего лишь приблизительное значение.
11. Общая длительность вычислений для выполнения этого моделирования. Это общая длительность работы вычислительных узлов, которые будут запущены в Azure. Дополнительные сведения об использовании этого значения приводятся в разделе [Оценка затрат на наложение](#Estimating-bake-cost) ниже.
12. Это сообщение содержит информацию о расположении результатов наложения после завершения задания.
13. (Только для опытных пользователей) Если вам по какой-либо причине нужно, чтобы редактор Unity очистил информацию о переданном наложении (например, если вы скачали эти результаты на другой компьютер), нажмите кнопку **Clear State** (Очистить состояние). Все данные о переданном задании будут уничтожены. Обратите внимание, что в этом случае готовый файл результатов **не** будет скачиваться, и **это действие не аналогично отмене задания**. Само задание в облаке, если оно уже запущено, продолжит выполняться.
14. Нажмите кнопку **Bake** (Моделировать), чтобы передать результаты моделирования в облако. Пока задание выполняется, надпись на этой кнопке сменяется на **Cancel Job** (Отменить задание).
15. Выполняется подготовка к обработке [моделирования акустики на вашем ПК](#Local-bake).
16. В этой области отображается состояние процесса наложения. Когда он завершится, здесь отобразится состояние **Downloaded** (Скачано).

Полные сведения об активных заданиях, вычислительных пулах и хранилищах вы всегда можете получить на [портале Azure](https://portal.azure.com).

Пока выполняется задание, кнопка **Bake** (Наложение) сменяется кнопкой **Cancel Job** (Отменить задание). Используйте эту кнопку, чтобы отменить выполняющееся задание. Система предложит подтвердить отмену, а затем прекратит выполнение задания. Отмену задания невозможно отменить, и вы не получите никаких результатов, но вам будет выставлен счет за уже использованное время вычислений в Azure.

Начав процесс создания наложения, можно закрыть Unity. Вычисление наложения в облаке может занять несколько часов в зависимости от характеристик проекта, типа и количества узлов. Состояние задания наложения обновляется, когда вы при перезагружаете проект и открываете окно Acoustics. Если задание уже завершено, сразу же скачивается выходной файл.

Учетные данные Azure безопасно сохраняются на локальном компьютере и прикрепляются к редактору Unity. Они используются исключительно для создания безопасного подключения к Azure.

## <a name="to-find-the-status-of-a-running-job-on-the-azure-portal"></a>Чтобы узнать состояние запущенного задания на портале Azure

1. Найдите идентификатор задания моделирования на вкладка Bake (Наложение):

![Снимок экрана идентификатора моделирования Unity](media/unity-job-id.png)  

2. Откройте [Портал Azure](https://portal.azure.com), перейдите к учетной записи пакетной службы, используемой для моделирования и выберите**Задания**

![Снимок экрана: ссылка на задания](media/azure-batch-jobs.png)  

3. Поиск идентификатора задания в списке заданий

![Снимок экрана: состояние задания моделирования](media/azure-bake-job-status.png)  

4. Щелкните на идентификатор задания, чтобы просмотреть состояние связанных задач и общее состояние задания.

![Снимок экрана: состояние задания моделирования](media/azure-batch-task-state.png)  


### <a name="Estimating-bake-cost"></a> Оценка затрат на имитацию звука в Azure

Чтобы оценить стоимость вычисления наложения, умножьте значение из поля **Estimated Compute Cost** (Предполагаемые затраты на вычисления), которое обозначает длительность вычислений, на стоимость одного часа вычислений в местной валюте для выбранного **типа узла виртуальной машины**. Этот результат не учитывает время работы узлов, необходимое для их включения и настройки. Например, если вы выбрали тип узла **Standard_F8s_v2** со стоимостью 0,40 долл. США в час, а расчетное время вычислений составляет 3 часа 57 минут, общую приблизительную стоимость этого задания можно оценить так: 0,40 долл. США × 4 часа = ~ 1,60 долл. США. Фактическая стоимость, скорее всего, будет немного выше за счет времени на подготовку узлов к работе. Стоимость одного часа работы узла вы можете получить на странице [цен на пакетную службу Azure](https://azure.microsoft.com/pricing/details/virtual-machines/linux) (выберите категорию "Оптимизированные для вычислений" или "Для высокопроизводительных вычислений").

## <a name="Local-bake"></a> Моделирование сцены на ПК
Вы можете смоделировать сцену на ПК. Это позволяет выполнять эксперименты с акустикой с небольшими сценами перед созданием учетной записи пакетной службы Azure. Обратите внимание, что в зависимости от размера сцены моделирование акустики может занять много времени.

### <a name="minimum-hardware-requirements"></a>Минимальные требования к оборудованию
* 64 или 86-разрядный процессор с минимум 8 ядрами и 32 ГБ ОЗУ.
* [Hyper-V включен](https://docs.microsoft.com/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v), чтобы запустить Docker

Например, на компьютере с 8 ядрами, процессором Intel Xeon E5-1660 @ 3 ГГц и 32 ГБ ОЗУ:
* моделирование небольшой сцены со 100 зондами с низким разрешением занимает примерно 2 часа, а с высоким разрешением — примерно 32 часа;
* моделирование средней сцены с 1000 зондами с низким разрешением занимает примерно 20 часов, а с высоким разрешением — примерно 21 день.

### <a name="setup-docker"></a>Установка Docker
Установите и настройте Docker на ПК, где будет обрабатываться имитация:
1. Установите [Docker Desktop](https://www.docker.com/products/docker-desktop).
2. Запустите параметры Docker, перейдите к расширенным параметрам и выделите ресурсам не менее 8 ГБ ОЗУ. Чем больше ЦП вы можете выделить Docker, тем быстрее завершится имитация.  
![Снимок экрана с примером параметров Docker](media/docker-settings.png)
1. Перейдите в раздел Shared Drives (Общие диски) и включите общий доступ к диску, используемому для обработки.  
![Снимок экрана с параметрами общего диска Docker](media/docker-shared-drives.png)

### <a name="run-local-bake"></a>Выполнение локальной имитации
1. Нажмите кнопку Prepare Local Bake ("Подготовить локальное моделирование") на вкладке **Bake** (Моделирование) и выберите папку, где будут сохранены входные файлы и скрипты выполнения. Имитацию затем можно выполнить на любом компьютере, который соответствует минимальным требованиям к оборудованию и на котором установлен Docker. Для этого нужно скопировать папку на этот компьютер.
2. Запустите симуляцию с помощью скрипта "runlocalbake.bat" в Windows или с помощью скрипта "runlocalbake.sh" в MacOS. Этот скрипт будет извлекать образ Docker Project Acoustics с использованием набора инструментов, необходимого для обработки имитации и ее запуска. 
3. После завершения имитации скопируйте полученный ACE-файл обратно в проект Unity. Чтобы убедиться в том, что Unity распознает его как двоичный файл, добавьте bytes в расширение файла (например, Scene1.ace.bytes). Подробные журналы имитации сохраняются в файле AcousticsLog.txt. Если вы столкнетесь с какими-либо проблемами, поделитесь этим файлом, чтобы получить помощь в диагностике.

## <a name="Data-Files"></a> Добавление файлов данных в процессе моделирования

Существуют четыре файла данных, созданных в процессе моделирования. Один содержит результаты моделирования и поставляется вместе с названием. Другие хранят данные, связанные с Unity Editor.

Результат имитации:
* **Assets/AcousticsData/Acoustics\_[имя_сцены].ace.bytes**. Это таблица подстановки среды выполнения, которая содержит результаты моделирования и увеличенный объем пикселей элементов акустической сцены. Расположение и имя этого файла можно изменить через поля данных на вкладке **Probes** (Зонды).

Следите за тем, чтобы не удалить файл с результатами моделирования. Эго невозможно восстановить без повторного моделирования целой сцены.

Редактор файлов данных:
* **Assets/Editor/[имя_сцены]\_AcousticsParameters.asset**. В этом файле хранятся данные, которые вводятся в поля в пользовательском интерфейсе Acoustics. Вы не можете изменять расположение и имя этого файла.
* **Assets/AcousticsData/Editor/Acoustics_[имя_сцены].vox**. В этом файле хранится геометрия объемных пикселей акустики и свойства материалов, которые вычисляются с помощью кнопки **Calculate...** (Вычислить...) на вкладке "Probes" (Зонды). Расположение и имя этого файла можно изменить через поля данных на вкладке **Probes** (Зонды).
* **Assets/AcousticsData/Editor/Acoustics\_[имя_сцены]\_config.xml**. В этом файле хранятся параметры моделирования, вычисленные с помощью кнопки **Calculate...** (Вычислить...) на вкладке **Probes** (Зонды). Расположение и имя этого файла можно изменить через поля данных на вкладке **Probes** (Зонды).

## <a name="set-up-the-acoustics-lookup-table"></a>Настройка таблицы поиска акустики
Перетащите готовый шаблон **Project Acoustics** из панели проекта в свою сцену.

![Снимок экрана с готовым блоком Acoustics в Unity](media/acoustics-prefab.png)

Щелкните игровой объект **ProjectAcoustics** и перейдите к его панели Inspector (Проверка). Укажите расположение результата сборки (ACE-файл в **Assets/AcousticsData**), перетащив его в скрипт Acoustics Manager или нажав кнопку круга рядом с текстовым полем.

![Снимок экрана с готовым блоком Acoustics Manager (Диспетчер Acoustics) в Unity](media/acoustics-manager.png)  

## <a name="next-steps"></a>Дополнительная информация
* Изучите [элементы управления разработки для Unity](unity-workflow.md).
* Изучите [основные понятия разработки Project Acoustics](design-process.md).

