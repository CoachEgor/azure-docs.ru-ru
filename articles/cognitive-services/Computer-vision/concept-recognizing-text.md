---
title: Оптическое распознавание символов (OCR) — Компьютерное зрение
titleSuffix: Azure Cognitive Services
description: Основные понятия, связанные с оптическим распознаванием символов (OCR) изображений и документов с печатным и рукописным текстом с помощью API компьютерного зрения.
services: cognitive-services
author: PatrickFarley
manager: netahw
ms.service: cognitive-services
ms.subservice: computer-vision
ms.topic: conceptual
ms.date: 08/11/2020
ms.author: pafarley
ms.custom: seodec18
ms.openlocfilehash: e2226f70ed3318bb370f0afee003fd9f91153a45
ms.sourcegitcommit: c28fc1ec7d90f7e8b2e8775f5a250dd14a1622a6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/13/2020
ms.locfileid: "88167880"
---
# <a name="optical-character-recognition-ocr"></a>Оптическое распознавание текста (OCR)

API компьютерного зрения Azure включает возможности оптического распознавания символов (OCR), которые извлекают печатный или рукописный текст из изображений. Вы можете извлекать текст из изображений, таких как фотографии печатных форм или контейнеров с серийными номерами, а также из документов — счетов, ведомостей, финансовых отчетов, статей и т. д. 

## <a name="read-api"></a>API чтения 

API Компьютерное зрение [чтения](https://westcentralus.dev.cognitive.microsoft.com/docs/services/computer-vision-v3-ga/operations/5d986960601faab4bf452005) — это новейшая технология OCR, которая извлекает печатный текст (на нескольких языках), рукописный текст (только на английском языке), цифры и символы валют из изображений и многостраничных PDF-документов. Он оптимизирован для извлечения текста из изображений с большим объемом текста и многостраничных PDF-документов со смешанными языками. Он поддерживает обнаружение печатного и рукописного текста в одном изображении или документе.

![Как OCR преобразует изображения и документы в структурированный вывод с извлеченным текстом](./Images/how-ocr-works.svg)

API чтения предоставляет возможности OCR через две операции — **Чтение** и **Получение результатов чтения**.

## <a name="the-read-operation"></a>Операция чтения

[Операция чтения](https://westcentralus.dev.cognitive.microsoft.com/docs/services/computer-vision-v3-ga/operations/5d986960601faab4bf452005) принимает изображение или PDF-документ в качестве входных данных и извлекает текст асинхронно. Вызов возвращает с помощью поля заголовка ответа с именем `Operation-Location` . `Operation-Location`Значение — это URL-адрес, СОДЕРЖАЩИЙ идентификатор операции, который будет использоваться на следующем шаге.

|Заголовок ответа| URL-адрес результата |
|:-----|:----|
|Operation-Location | https://cognitiveservice/vision/v3.0-preview/read/analyzeResults/49a36324-fc4b-4387-aa06-090cfbf0064f |

## <a name="the-get-read-results-operation"></a>Операция получения результатов чтения

Второй шаг — вызов операции [получения результатов чтения](https://westcentralus.dev.cognitive.microsoft.com/docs/services/computer-vision-v3-ga/operations/5d9869604be85dee480c8750) . Эта операция принимает в качестве входных данных идентификатор операции, созданный операцией чтения. Он возвращает ответ JSON, содержащий поле **состояния** со следующими возможными значениями. Эта операция вызывается итеративно, пока она не вернется со значением, которое было **выполнено** . Используйте интервал от 1 до 2 секунд, чтобы избежать превышения скорости запросов в секунду (RPS).

|Поле| Тип | Возможные значения |
|:-----|:----:|:----|
|status | строка | notStarted: операция не запущена. |
| |  | выполняется: операция обрабатывается. |
| |  | Сбой: сбой операции. |
| |  | успешно: операция выполнена успешно. |

> [!NOTE]
> Уровень Free ограничивает частоту запросов до 20 вызовов в минуту. Платный уровень допускает 10 запросов в секунду (RP), которые можно увеличить при запросе. Используйте канал поддержки Azure или группу учетных записей, чтобы запросить более высокий уровень запросов в секунду (RPS).

Если поле **Status** имеет значение **успех** , ответ JSON содержит извлеченное текстовое содержимое из изображения или документа. Ответ JSON поддерживает первоначальные группы строк распознанных слов. Он включает извлеченные текстовые строки и координаты ограничивающих прямоугольников. Каждая строка текста включает все извлеченные слова с их координатами и рейтингами достоверности.

### <a name="sample-json-output"></a>Пример выходных данных JSON

См. Следующий пример успешного ответа JSON:

```json
{
  "status": "succeeded",
  "createdDateTime": "2020-05-28T05:13:21Z",
  "lastUpdatedDateTime": "2020-05-28T05:13:22Z",
  "analyzeResult": {
    "version": "3.0.0",
    "readResults": [
      {
        "page": 1,
        "language": "en",
        "angle": 0.8551,
        "width": 2661,
        "height": 1901,
        "unit": "pixel",
        "lines": [
          {
            "boundingBox": [
              67,
              646,
              2582,
              713,
              2580,
              876,
              67,
              821
            ],
            "text": "The quick brown fox jumps",
            "words": [
              {
                "boundingBox": [
                  143,
                  650,
                  435,
                  661,
                  436,
                  823,
                  144,
                  824
                ],
                "text": "The",
                "confidence": 0.958
              }
            ]
          }
        ]
      }
    ]
  }
}
```

Следуйте инструкциям в кратком руководстве по [извлекать печатные и рукописные тексты](./QuickStarts/CSharp-hand-text.md) , чтобы реализовать распознавание текста с помощью C# и REST API.

## <a name="input-requirements"></a>Требования к входным данным

Входные изображения и документы имеют следующие требования.
* Поддерживаемые форматы файлов: JPEG, PNG, BMP, PDF и TIFF
* Для документов PDF и TIFF обрабатывается до 2000 страниц. Для подписчиков уровня Free обрабатываются только первые две страницы.
* Размер файла должен быть менее 50 МБ, а размер измерений не менее 50 x 50 пикселей и не более 10000 x 10000 пикселей.
* Размеры PDF-файла должны составлять не более 17 x 17 дюймов, соответствующих юридическим или стандартным размерам бумаги и меньшему размеру.

> [!NOTE]
> **Ввод языка** 
>
> [Операция чтения](https://westcentralus.dev.cognitive.microsoft.com/docs/services/computer-vision-v3-ga/operations/5d986960601faab4bf452005) имеет необязательный параметр запроса для языка. Это код языка BCP-47 для текста в документе. Чтение поддерживает автоматическую идентификацию языков и многоязычные документы, поэтому следует только указать код языка, если хотите, чтобы документ обрабатывался как конкретный язык.

## <a name="language-support"></a>Поддержка языков

### <a name="printed-text"></a>Печатный текст
[API Read 3,0](https://westcentralus.dev.cognitive.microsoft.com/docs/services/computer-vision-v3-ga/operations/5d986960601faab4bf452005) поддерживает извлечение печатного текста на английском, испанском, немецком, французском, итальянском, португальском и нидерландском языках. 

В [общедоступной предварительной версии API Read 3,1](https://westus.dev.cognitive.microsoft.com/docs/services/computer-vision-v3-1-preview-1/operations/5d986960601faab4bf452005) добавлена поддержка упрощенного китайского языка. Если для вашего сценария требуется поддержка большего числа языков, см. раздел [API OCR](#ocr-api) . 

Полный список языков, поддерживаемых OCR, см. на странице [Поддерживаемые языки](https://docs.microsoft.com/azure/cognitive-services/computer-vision/language-support#optical-character-recognition-ocr) .

### <a name="handwritten-text"></a>Рукописный текст
В настоящее время операция чтения поддерживает извлечение рукописного текста исключительно на английском языке.

## <a name="integration-options"></a>Варианты интеграции

### <a name="use-the-rest-api-or-client-sdk"></a>Использование REST API или клиентского пакета SDK
[REST API "Read 3. x](./QuickStarts/CSharp-hand-text.md) " является предпочтительным вариантом для большинства клиентов из-за простоты интеграции и высокой продуктивности работы. Azure и служба Компьютерное зрение выполняют масштабирование, производительность, безопасность данных и соответствие требованиям, когда вы Сосредоточьтесь на соответствии потребностям ваших клиентов.

### <a name="use-containers-for-on-premise-deployment"></a>Использование контейнеров для локального развертывания
[Контейнер DOCKER Read 2,0 (Предварительная версия)](https://docs.microsoft.com/azure/cognitive-services/computer-vision/computer-vision-how-to-install-containers) позволяет развертывать новые возможности OCR в локальной среде. Контейнеры отлично подходят для конкретных требований к безопасности и управлению данными.

## <a name="read-ocr-examples"></a>Чтение примеров распознавания текста

### <a name="text-from-images"></a>Текст из изображений

Следующие выходные данные API чтения показывают извлеченный текст из изображения с различными угловыми углами, цветами и шрифтами.

![Изображение нескольких слов с различными цветами и углами, в списке извлеченного текста](./Images/text-from-images-example.png)

### <a name="text-from-documents"></a>Текст из документов

API чтения также может принимать PDF-документы в качестве входных данных.

![Документ счета с извлеченным текстом в списке](./Images/text-from-pdf-example.png)

### <a name="handwritten-text"></a>Рукописный текст

Операция чтения извлекает рукописный текст из изображений (в настоящее время только на английском языке).

![Изображение рукописной заметки с извлеченным текстом](./Images/handwritten-example.png)

### <a name="printed-text"></a>Печатный текст

Операция чтения может извлекать напечатанный текст на нескольких разных языках.

![Изображение испанской учебника с извлеченным текстом](./Images/supported-languages-example.png)

### <a name="mixed-language-documents"></a>Документы на разных языках

API чтения поддерживает изображения и документы, содержащие несколько разных языков, которые обычно называются документами на разных языках. Она работает путем классификации каждой строки текста документа на обнаруженном языке перед извлечением текстового содержимого.

![Изображение фраз на нескольких языках с включенным извлеченным текстом](./Images/mixed-language-example.png)

## <a name="ocr-api"></a>API OCR

[API OCR](https://westus.dev.cognitive.microsoft.com/docs/services/5adf991815e1060e6355ad44/operations/56f91f2e778daf14a499e1fc) использует старую модель распознавания, поддерживает только изображения и выполняется синхронно, возвращая немедленно с обнаруженным текстом. См. [языки, поддерживаемые OCR](https://docs.microsoft.com/azure/cognitive-services/computer-vision/language-support#optical-character-recognition-ocr) , и API чтения.

## <a name="data-privacy-and-security"></a>Конфиденциальность и безопасность данных

Как и в случае со всеми переданными службами, разработчики, использующие службы чтения и распознавания текста, должны знать о политиках Майкрософт в отношении данных клиентов. Дополнительные сведения см. на странице Cognitive Services в [центре управления безопасностью Майкрософт](https://www.microsoft.com/trust-center/product-overview) .

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о [REST API Read 3,0](https://westcentralus.dev.cognitive.microsoft.com/docs/services/computer-vision-v3-ga/operations/5d986960601faab4bf452005).
- Дополнительные сведения о [REST API общедоступной предварительной версии 3,1](https://westus.dev.cognitive.microsoft.com/docs/services/computer-vision-v3-1-preview-1/operations/5d986960601faab4bf452005) с дополнительной поддержкой упрощенного китайского языка.
- Выполните инструкции из краткого руководства по [извлекать текст](./QuickStarts/CSharp-hand-text.md) , чтобы реализовать распознавание текста с помощью C#, Java, JavaScript или Python, а также REST API.
