---
title: Изменение размера и обрезка эскизов изображений — API Bing для поиска в Интернете
titleSuffix: Azure Cognitive Services
description: Некоторые ответы от APIs поиска Bing включают URL-адреса к эскизам изображений, обслуживаемых Bing, которые можно изменить и обрезать, и могут содержать параметры запроса.
services: cognitive-services
author: aahill
manager: nitinme
ms.assetid: 05A08B01-89FF-4781-AFE7-08DA92F25047
ms.service: cognitive-services
ms.subservice: bing-web-search
ms.topic: conceptual
ms.date: 07/08/2019
ms.author: aahi
ms.openlocfilehash: 630b86f55a537d109c851cb585cfccc34d229f83
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "74110636"
---
# <a name="resize-and-crop-thumbnail-images"></a>Изменение размера и обрезка эскизов

Некоторые ответы от APIs поиска Bing включают URL-адреса к эскизам изображений, обслуживаемых Bing, которые можно изменить и обрезать, и могут содержать параметры запроса. Пример:

`https://<host>/th?id=AMMS_92772df988...&w=110&h=73&rs=1&qlt=80&cdv=1&pid=16.1`

Если вы отобразите подмножество этих эскизов, предоставьте возможность просмотра оставшихся изображений.

> [!NOTE]
> Убедитесь, что обрезка и оптимизация изображений эскизов обеспечат сценарий поиска, который уважает права третьих сторон, как того требуют требования к [использованию и отображению](use-display-requirements.md)Bing Search API.

## <a name="resize-a-thumbnail"></a>Изобрезировать миниатюру 

Чтобы изменить размер эскиза, Bing рекомендует указать `w` только один `h` параметр запроса (ширина) или (высота) в URL-адресе эскиза. Указание только высоты или ширины позволяет Bing поддерживать исходный аспект изображения. Укажите ширину и высоту в пикселях. 

Например, если исходный эскиз 480x620:

`https://<host>/th?id=JN.5l3yzwy%2f%2fHj59U6XhssIQ&pid=Api&w=480&h=620`

И вы хотите уменьшить его `w` размер, установить параметр `336`на новое `h` значение (например), и удалить параметр:

`https://<host>/th?id=JN.5l3yzwy%2f%2fHj59U6XhssIQ&pid=Api&w=336`

Если вы укажете только высоту или ширину эскиза, исходное соотношение сторон изображения будет сохранено. Если вы укажете оба параметра, а соотношение сторон не поддерживается, Bing добавит белую обивку к границе изображения.

Например, если изменить размер изображения 480x359 до 200x200 без обрезки, полная ширина будет содержать изображение, но высота будет содержать 25 пикселей белой обивки в верхней и нижней части изображения. Если изображение было 359x480, левая и правая границы будут содержать белые обивки. При обрезке изображения белые поля не добавляются.  

Ниже показано изображение эскиза в исходном размере (480 x 300).  
  
![Исходное изображение пейзажа](./media/resize-crop/bing-resize-crop-landscape.png)  
  
Ниже показано изображение, размер которого изменен до 200 x 200. Соотношение сторон сохраняется, а верхняя и нижняя границы набиваются белым (черная граница здесь включена, чтобы показать обивку).  
  
![Изображение пейзажа с измененным размером](./media/resize-crop/bing-resize-crop-landscape-resized.png)  

Если вы укажете размеры, превышают первоначальную ширину и высоту изображения, Bing добавит белую обивку в левую и верхнюю границы.  

## <a name="request-different-thumbnail-sizes"></a>Запрос различных размеров эскизов

Чтобы запросить другой размер изображения эскиза, удалите все параметры запроса `id` `pid` из URL-адреса эскиза, за исключением параметров. Затем добавьте `&w` либо (ширина) или `&h` (высота) параметр запроса с желаемым размером изображения в пикселях, но не оба. Bing сохранит исходное соотношение сторон изображения. 

Чтобы увеличить ширину изображения, указанного вышеуказанным URL, до 165 пикселей, можно использовать следующий URL:

`https://<host>/th?id=AMMS_92772df988...&w=165&pid=16.1`

Если вы запрашиваете изображение, которое больше исходного размера изображения, Bing добавляет белую обивку вокруг изображения по мере необходимости. Например, если исходный размер изображения 474x316 `&w` и вы установлена до 500, Bing вернет изображение 500x333. Это изображение будет иметь 8,5 пикселей белой обивки вдоль верхнего и нижнего краев, и 13 пикселей обивки на левом и правом краях.

Чтобы Bing не добавлял белую обивку, если запрашиваемый `&p` размер больше исходного размера изображения, установите параметр запроса до 0. Например, если вы `&p=0` включите параметр в вышеуказанный URL, Bing вернет изображение 474x316 вместо изображения 500x333:

`https://<host>/th?id=AMMS_92772df988...&w=500&p=0&pid=16.1`

Если вы `&w` укажете оба параметра запроса `&h` и запрос, Bing сохранит соотношение сторон изображения и по мере необходимости добавит белую обивку. Например, если исходный размер изображения 474x316 и вы устанавливаете параметры ширины и высоты до 200x200 ( ),`&w=200&h=200`Bing возвращает изображение, которое содержит 33 пикселя белой обивки сверху и снизу. Если вы `&p` укроете параметр запроса, Bing возвращает изображение 200x134.

## <a name="crop-a-thumbnail"></a>Урожай эскиза 

Чтобы обрезать изображение, `c` включите параметр запроса (crop). Можно использовать следующие значения:
  
- `4`&mdash; Слепое соотношение  
- `7`&mdash; Умное соотношение  

### <a name="smart-ratio-cropping"></a>Умное соотношение обрезки

Если вы запрашиваете smart Ratio `c` обрезки (установив параметр), `7`Bing будет обрезать изображение из центра своего региона, интересующего наружу, сохраняя при этом соотношение сторон изображения. Интересующая область — это область изображения, где по определению Bing содержится самая важная часть. Ниже показан пример интересующей области.  
  
![Интересующая область](./media/resize-crop/bing-resize-crop-regionofinterest.png)

Если вы изменяете размер изображения и запрашиваете обрезку Smart Ratio, Bing уменьшает изображение до запрашиваемого размера, сохраняя при этом соотношение сторон. Bing затем обсеивает изображение на основе размеров размера. Например, если ширина реразмерного размера меньше или равна высоте, Bing обрежет изображение влево и вправо от центра интересуемого региона. В противном случае, Bing обрезать его в верхней и нижней части центра региона интереса.  
  
 
Ниже показано изображение, уменьшенное до размера 200 x 200 с использованием обрезки Smart Ratio. Поскольку Bing измеряет изображение из верхнего левого угла, нижняя часть изображения обрезается. 
  
![Изображение пейзажа, обрезанное до размера 200 x 200](./media/resize-crop/bing-resize-crop-landscape200x200c7.png) 
  
Ниже показано изображение, уменьшенное до размера 200 x 100 с использованием обрезки Smart Ratio. Поскольку Bing измеряет изображение из верхнего левого угла, нижняя часть изображения обрезается. 
   
![Изображение пейзажа, обрезанное до размера 200 x 100](./media/resize-crop/bing-resize-crop-landscape200x100c7.png)
  
Ниже показано изображение, уменьшенное до размера 100 x 200 с использованием обрезки Smart Ratio. Поскольку Bing измеряет изображение из центра, левая и правая части изображения обрезаются.
  
![Изображение пейзажа, обрезанное до размера 100 x 200](./media/resize-crop/bing-resize-crop-landscape100x200c7.png) 

Если Bing не может определить интересующий область изображения, служба будет использовать обрезку слепых стоек.  

### <a name="blind-ratio-cropping"></a>Слепое соотношение обрезки

Если вы запрашиваете обрезку `c` слепого соотношения (установив параметр), `4`Bing использует следующие правила для обрезки изображения.  
  
- Если `(Original Image Width / Original Image Height) < (Requested Image Width / Requested Image Height)`изображение измеряется сверху влево и обрезается внизу.  
- Если `(Original Image Width / Original Image Height) > (Requested Image Width / Requested Image Height)`изображение измеряется из центра и обрезается влево и вправо.  

Ниже показано изображение в книжной ориентации размером 225 x 300.  
  
![Исходное изображение подсолнуха](./media/resize-crop/bing-resize-crop-sunflower.png)
  
Ниже показано изображение, уменьшенное до размера 200 x 200 с использованием обрезки Blind Ratio. Изображение измеряется из верхнего левого угла, в результате чего нижняя часть изображения обрезается.  
  
![Изображение подсолнуха, обрезанное до размера 200 x 200](./media/resize-crop/bing-resize-crop-sunflower200x200c4.png)
  
Ниже показано изображение, уменьшенное до размера 200 x 100 с использованием обрезки Blind Ratio. Изображение измеряется из верхнего левого угла, в результате чего нижняя часть изображения обрезается.  
  
![Изображение подсолнуха, обрезанное до размера 200 x 100](./media/resize-crop/bing-resize-crop-sunflower200x100c4.png)
  
Ниже показано изображение, уменьшенное до размера 100 x 200 с использованием обрезки Blind Ratio. Изображение измеряется от центра и обрезается с левой и правой сторон.  
  
![Изображение подсолнуха, обрезанное до размера 100 x 200](./media/resize-crop/bing-resize-crop-sunflower100x200c4.png)

## <a name="next-steps"></a>Дальнейшие действия

* [Что такое API-интерфейсы Поиска Bing?](bing-api-comparison.md)
* [Требования к использованию и отображению API-интерфейсов Поиска Bing](use-display-requirements.md)
