---
title: Метод Languages в API перевода текстов
titlesuffix: Azure Cognitive Services
description: Используйте метод Languages в API перевода текстов.
services: cognitive-services
author: v-pawal
manager: nitinme
ms.service: cognitive-services
ms.subservice: translator-text
ms.topic: reference
ms.date: 02/01/2019
ms.author: v-jansko
ms.openlocfilehash: 1713a05590f389a6de70d72e8d62237c7521d808
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60605122"
---
# <a name="translator-text-api-30-languages"></a>API перевода текстов 3.0: Languages

Возвращает набор языков, поддерживаемых в настоящее время другими операциями API перевода текстов. 

## <a name="request-url"></a>Request URL (URL-адрес запроса)

Отправьте запрос `GET` на следующий адрес.
```HTTP
https://api.cognitive.microsofttranslator.com/languages?api-version=3.0
```

## <a name="request-parameters"></a>Параметры запроса

В таблице ниже приведены параметры, которые передаются в строке запроса.

<table width="100%">
  <th width="20%">Параметр запроса</th>
  <th>ОПИСАНИЕ</th>
  <tr>
    <td>api-version</td>
    <td><em>Обязательный параметр.</em><br/>Версия API, запрошенная клиентом. Необходимое значение: `3.0`.</td>
  </tr>
  <tr>
    <td>scope</td>
    <td>*Необязательный параметр.*<br/>Список имен, разделенных запятыми, определяющий возвращаемую группу языков. Допустимые имена групп: `translation`, `transliteration` и `dictionary`. Если область не задана, то возвращаются все группы, которые эквивалентны передаче `scope=translation,transliteration,dictionary`. Чтобы решить, какой набор поддерживаемых языков подходит для сценария, см. описание [объекта ответа](#response-body).</td>
  </tr>
</table> 

Заголовки запроса.

<table width="100%">
  <th width="20%">Заголовки</th>
  <th>ОПИСАНИЕ</th>
  <tr>
    <td>Accept-Language</td>
    <td>*Дополнительный заголовок запроса*.<br/>Язык, используемый для строк пользовательского интерфейса. Некоторые поля в ответе — это имена языков или регионов. Используйте этот параметр, чтобы определить язык, на котором возвращаются эти имена. Чтобы задать язык, нужно предоставить правильный тег языка в формате BCP-47. Например, значение `fr` получает имена на французском языке, а значение `zh-Hant` — на традиционном китайском.<br/>Имена предоставляются на английском языке, если целевой язык не задан, или если локализация недоступна.
    </td>
  </tr>
  <tr>
    <td>X-ClientTraceId</td>
    <td>*Дополнительный заголовок запроса*.<br/>Созданный клиентом идентификатор GUID, позволяющий уникально идентифицировать запрос.</td>
  </tr>
</table> 

Для получения языковых ресурсов аутентификация не требуется.

## <a name="response-body"></a>Тело ответа

С помощью параметра `scope` клиент может указать, какие группы языков его интересуют.

* Параметр `scope=translation` предоставляет поддерживаемые языки для перевода текста с одного языка на другой язык;

* параметр `scope=transliteration` предоставляет возможности для преобразования текста на одном языке из одного сценария в другой;

* параметр `scope=dictionary` предоставляет языковые пары, для которых `Dictionary` операции возвращают данные.

Клиент может получить одновременно несколько групп, предоставив нужные имена в виде списка с запятыми в роли разделителей. Например, `scope=translation,transliteration,dictionary` возвращает поддерживаемые языки для всех групп.

Успешный ответ содержит объект JSON с одним установленным свойством для каждой запрошенной группы.

```json
{
    "translation": {
        //... set of languages supported to translate text (scope=translation)
    },
    "transliteration": {
        //... set of languages supported to convert between scripts (scope=transliteration)
    },
    "dictionary": {
        //... set of languages supported for alternative translations and examples (scope=dictionary)
    }
}
```

Для каждого свойства существуют следующие значения.

* Свойство `translation`

  Значение свойства `translation` представляет собой словарь (ключ, значение) пары. Каждый ключ является языковым тегом BCP-47. Ключ идентифицирует язык, с которого или на который текст может быть переведен. Значение, связанное с ключом, является JSON-объектом со свойствами, которые описывают язык.

  * `name`: отображаемое имя языка в языковом стандарте, запрашиваемое с помощью заголовка `Accept-Language`.

  * `nativeName`: отображаемое собственное имя языка в языковом стандарте.

  * `dir`: направление письма на этом языке, где `rtl` означает "справа налево", а `ltr` — "слева направо".

  Пример.
          
  ```json
  {
    "translation": {
      ...
      "fr": {
        "name": "French",
        "nativeName": "Français",
        "dir": "ltr"
      },
      ...
    }
  }
  ```

* Свойство `transliteration`

  Значение свойства `transliteration` представляет собой словарь (ключ, значение) пары. Каждый ключ является языковым тегом BCP-47. Ключ идентифицирует язык, для которого текст может быть преобразован из одного сценария в другой. Значение, связанное с ключом, является JSON-объектом со свойствами, которые описывают язык и его поддерживаемые сценарии.

  * `name`: отображаемое имя языка в языковом стандарте, запрашиваемое с помощью заголовка `Accept-Language`.

  * `nativeName`: отображаемое собственное имя языка в языковом стандарте.

  * `scripts`: список скриптов для преобразования из заданного языка. Каждый элемент списка `scripts` содержит следующие свойства.

    * `code`: код, который идентифицирует сценарий.

    * `name`: отображаемое имя сценария в языковом стандарте, запрашиваемое с помощью заголовка `Accept-Language`.

    * `nativeName`: отображаемое собственное имя языка в языковом стандарте.

    * `dir`: направление письма на этом языке, где `rtl` означает "справа налево", а `ltr` — "слева направо".

    * `toScripts`: список сценариев, доступных для преобразования текста. Каждый элемент списка `toScripts` имеет свойства `code`, `name`, `nativeName` и `dir`, как описано выше.

  Пример.

  ```json
  {
    "transliteration": {
      ...
      "ja": {
        "name": "Japanese",
        "nativeName": "日本語",
        "scripts": [
          {
            "code": "Jpan",
            "name": "Japanese",
            "nativeName": "日本語",
            "dir": "ltr",
            "toScripts": [
              {
                "code": "Latn",
                "name": "Latin",
                "nativeName": "ラテン語",
                "dir": "ltr"
              }
            ]
          },
          {
            "code": "Latn",
            "name": "Latin",
            "nativeName": "ラテン語",
            "dir": "ltr",
            "toScripts": [
              {
                "code": "Jpan",
                "name": "Japanese",
                "nativeName": "日本語",
                "dir": "ltr"
              }
            ]
          }
        ]
      },
      ...
    }
  }
  ```

* Свойство `dictionary`

  Значение свойства `dictionary` представляет собой словарь (ключ, значение) пары. Каждый ключ является языковым тегом BCP-47. Ключ идентифицирует язык, для которого доступны альтернативные и обратные переводы. Значение — это JSON-объект, описывающий язык исходного и целевого языков с возможными переводами.

  * `name`: отображаемое имя источника языка в языковом стандарте, запрашиваемое с помощью заголовка `Accept-Language`.

  * `nativeName`: отображаемое собственное имя языка в языковом стандарте.

  * `dir`: направление письма на этом языке, где `rtl` означает "справа налево", а `ltr` — "слева направо".

  * `translations`: список языков с альтернативными переводами и примерами запросов, выраженными на языке источника. Каждый элемент списка `translations` содержит следующие свойства.

    * `name`: отображаемое имя целевого языка в языковом стандарте, запрашиваемое через заголовок `Accept-Language`.

    * `nativeName`: отображаемое собственное имя целевого языка в языковом стандарте.

    * `dir`: направление письма на этом языке, где `rtl` означает "справа налево", а `ltr` — "слева направо".
    
    * `code`: код языка, определяющий целевой язык.

  Пример.

  ```json
  "es": {
    "name": "Spanish",
    "nativeName": "Español",
    "dir": "ltr",
    "translations": [
      {
        "name": "English",
        "nativeName": "English",
        "dir": "ltr",
        "code": "en"
      }
    ]
  },
  ```

Структура объекта ответа не изменится без изменения версии API. Для той же версии API список доступных языков может меняться со временем, потому что Microsoft Translator постоянно расширяет список языков, поддерживаемых его службами.

Список поддерживаемых языков часто не изменяется. Чтобы сохранить пропускную способность сети и повысить скорость реагирования для клиентского приложения, следует рассмотреть возможность кэширования языковых ресурсов и соответствующего тега объекта (`ETag`). Затем клиентское приложение может периодически (например, один раз каждые 24 часа) делать запрос в службу для получения последнего набора поддерживаемых языков. Передача текущего значения `ETag` в поле заголовка `If-None-Match` позволяет службе оптимизировать ответ. Если ресурс не был изменен, служба вернет код состояния 304 и пустой текст ответа.

## <a name="response-headers"></a>Заголовки ответов

<table width="100%">
  <th width="20%">Заголовки</th>
  <th>ОПИСАНИЕ</th>
  <tr>
    <td>ETag</td>
    <td>Текущее значение тега сущности для запрошенных групп поддерживаемых языков. Для более эффективных запросов, клиент может отправить значение `ETag` в поле заголовка `If-None-Match`.
    </td>
  </tr>
  <tr>
    <td>X-RequestId</td>
    <td>Сформированное службой значение для идентификации запроса. Оно используется для устранения неполадок.</td>
  </tr>
</table> 

## <a name="response-status-codes"></a>Коды состояния ответа

Ниже приведены возможные коды состояния HTTP, которые возвращает запрос. 

<table width="100%">
  <th width="20%">Код состояния</th>
  <th>ОПИСАНИЕ</th>
  <tr>
    <td>200</td>
    <td>Успешно.</td>
  </tr>
  <tr>
    <td>304</td>
    <td>Ресурс не был изменен с версии, указанной заголовками запроса `If-None-Match`.</td>
  </tr>
  <tr>
    <td>400</td>
    <td>Один из параметров запроса отсутствует или имеет недопустимое значение. Исправьте параметры запроса и повторите попытку.</td>
  </tr>
  <tr>
    <td>429</td>
    <td>Вызывающая сторона отправляет слишком много запросов.</td>
  </tr>
  <tr>
    <td>500</td>
    <td>Произошла непредвиденная ошибка. Если ошибка сохраняется, передайте отчет о ней, включив следующие данные: дата и время сбоя, идентификатор запроса из заголовка ответа `X-RequestId` и идентификатор клиента из заголовка запроса `X-ClientTraceId`.</td>
  </tr>
  <tr>
    <td>503</td>
    <td>Сервер временно недоступен. Повторите запрос. Если ошибка сохраняется, передайте отчет о ней, включив следующие данные: дата и время сбоя, идентификатор запроса из заголовка ответа `X-RequestId` и идентификатор клиента из заголовка запроса `X-ClientTraceId`.</td>
  </tr>
</table> 

Если возникнет ошибка, запрос также вернет ответ JSON с ошибкой. Код ошибки представляет собой число из 6 знаков, первые 3 из которых являются кодом состояния HTTP, а оставшиеся 3 цифры определяют категорию ошибки. Коды распространенных ошибок можно найти на [странице справочника по API перевода текстов версии 3](https://docs.microsoft.com/azure/cognitive-services/translator/reference/v3-0-reference#errors). 

## <a name="examples"></a>Примеры

В следующем примере показано, как получить список языков, поддерживаемых для перевода текста.

# <a name="curltabcurl"></a>[curl](#tab/curl)

```
curl "https://api.cognitive.microsofttranslator.com/languages?api-version=3.0&scope=translation"
```

---
