---
title: API перевода текстов версии 2.0
titleSuffix: Azure Cognitive Services
description: Справочная документация для API текста переводчика v2.0.
services: cognitive-services
author: swmachan
manager: nitinme
ms.service: cognitive-services
ms.subservice: translator-text
ms.topic: reference
ms.date: 05/15/2018
ms.author: swmachan
ms.openlocfilehash: f111169558118a80602bcb2136bc63ce54c9e0d9
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "72242499"
---
# <a name="translator-text-api-v20"></a>API перевода текстов версии 2.0

> [!IMPORTANT]
> Эта версия API перевода текстов больше не рекомендуется. [Просмотр документации для версии 3 API текста переводчика](v3-0-reference.md).

Версия 2 API текста переводчика может быть легко интегрирована в ваши приложения, веб-сайты, инструменты или другие решения для обеспечения многоязычного взаимодействия пользователей. Вы можете использовать его на любой аппаратной платформе и с любой операционной системой для выполнения перевода языка и других задач, связанных с языком, таких как обнаружение текста на языке и текст к речи, в соответствии с отраслевыми стандартами. Для получения дополнительной информации [см.](../translator-info-overview.md)

## <a name="getting-started"></a>Начало работы
Чтобы получить доступ к API текста переводчика, необходимо [зарегистрироваться в Microsoft Azure.](../translator-text-how-to-signup.md)

## <a name="authentication"></a>Проверка подлинности 
Все вызовы на API Translator Text требуют ключа подписки для проверки подлинности. API поддерживает три метода проверки подлинности:

- Токен доступа. Используйте ключ подписки для создания токена доступа, сделав запрос POST в службу аутентификации. Дополнительные сведения см. в документации службы токенов. Передайте токен доступа в службу `Authorization` Переводчика, `access_token` используя заголовок или параметр запроса. Маркер доступа действителен 10 минут. Получайте новый токен доступа каждые 10 минут и продолжайте использовать тот же маркер доступа для повторных запросов в течение 10 минут.
- Ключ подписки используется непосредственно. Передайте ключ подписки в `Ocp-Apim-Subscription-Key` качестве значения в заголовке, включенном в ваш запрос в API текста переводчика. При непосредственном использовании ключа подписки вам не нужно вызывать службу аутентификации маркеров для создания токена доступа.
- [Многофункционная подписка Наугиемые Услуги Azure](https://azure.microsoft.com/pricing/details/cognitive-services/)Cognitive Services. Этот метод позволяет использовать один секретный ключ для проверки подлинности запросов на несколько служб.
При использовании секретного ключа нескольких служб необходимо включить в запрос два заголовка аутентификации. Первый заголовок передает секретный ключ. Второй заголовок определяет регион, связанный с подпиской:
   - `Ocp-Apim-Subscription-Key`
   - `Ocp-Apim-Subscription-Region`

Регион необходим для многофункциональной подписки Text API. Выбранный вами регион является единственным регионом, который можно использовать для перевода текста при использовании ключа подписки с несколькими услугами. Это должен быть тот же регион, который вы выбрали, когда вы подписались на подписку на несколько сервисов на портале Azure.

Доступные `australiaeast`регионы, `brazilsouth`, `canadacentral` `centralindia`, `eastus` `eastus2`, `japaneast` `centraluseuap` `eastasia`, `southcentralus` `southeastasia`, `uksouth` `westcentralus`, `westeurope` `northeurope` `westus`, `westus2`, , , , , , и .

Ваш ключ подписки и токен доступа являются секретами, которые должны быть скрыты от глаз.

## <a name="profanity-handling"></a>Обработка ненормативной лексики
Как правило, служба переводчика сохраняет ненормативную лексику, присутствуюую в источнике. Степень ненормативной лексики и контекст, который делает слова нецензурной отличается в зависимости от культуры. Таким образом, степень ненормативной лексики в целевом языке может быть увеличена или уменьшена.

Если вы хотите предотвратить ненормативную лексику в переводе, даже если она есть в исходном тексте, вы можете использовать вариант фильтрации ненормативной лексики для поддерживающих его методов. Опция позволяет вам выбрать, хотите ли вы увидеть ненормативную лексику, удаленную или помеченную соответствующими тегами, или же вы хотите разрешить ненормативную лексику в цели. Принятые значения `ProfanityAction` (по `NoAction` `Marked`умолчанию), `Deleted`и .


|ProfanityAction    |Действие |Пример источника (японский)  |Пример перевода (английский)  |
|:--|:--|:--|:--|
|NoAction   |По умолчанию. Аналогично отсутствию параметра. Ненормативная лексика оригинального текста сохранится в переводе.        |彼はジャッカスです。     |Он — придурок.   |
|Marked     |Профанные слова будут окружены XML \<теги ненормативной лексики> и \</ ненормативной лексики>.       |彼はジャッカスです。 |Он ненормативная \<лексика>осел\</ ненормативной лексики>.  |
|Deleted    |Оскорбительные слова будут удалены из выходных данных без замены.     |彼はジャッカスです。 |Он — .   |

    
## <a name="excluding-content-from-translation"></a>Исключение содержимого из перевода
При переводе содержимого с тегами, например HTML (),`contentType=text/html`иногда полезно исключить определенный контент из перевода. С помощью атрибута `class=notranslate` можно указать содержимое, которое должно остаться не переведенным. В следующем примере содержимое `div` в первом элементе не будет переведено, но содержимое во втором `div` элементе будет переведено.

```HTML
<div class="notranslate">This will not be translated.</div>
<div>This will be translated. </div>
```

## <a name="get-translate"></a>GET /Translate

### <a name="implementation-notes"></a>Примечания по реализации
Перевод текстовой строки с одного языка на другой.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Translate`.

**Значение возврата:** Строка, представляющая переведенный текст.

Если вы `AddTranslation` ранее `AddTranslationArray` использовали или ввести перевод с рейтингом 5 `Translate` или выше для того же исходного предложения, возвращает только лучший выбор, который доступен для вашей системы. "То же предложение источника" означает точно такое же (100% соответствие), за исключением капитализации, белого пространства, значений тегов и пунктуации в конце предложения. Если рейтинг не хранится с рейтингом 5 или выше, ответным результатом будет автоматический перевод Microsoft Translator.

### <a name="response-class-status-200"></a>Класс ответа (статус 200)

строка

Тип содержимого ответа: приложение/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание    |Тип параметра|тип данных|
|:--|:--|:--|:--|:--|
|appid  |(пусто)    |Обязательный элемент. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `appid` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .|query|строка|
|text|(пусто)   |Обязательный элемент. Строка, представляющая текст для перевода. Текст не может содержать более 10 000 символов.|query|строка|
|из|(пусто)   |Необязательный параметр. Строка, представляющая языковой код переведенного текста. Например, en для английского языка.|query|строка|
|значение|(пусто) |Обязательный элемент. Строка, представляющая код языка для перевода текста в.|query|строка|
|сontentType|(пусто)    |Необязательный параметр. Формат переведенного текста. Поддерживаемые форматы `text/plain` (по `text/html`умолчанию) и . Любые HTML-элементы должны быть хорошо сформированы, полные элементы.|query|строка|
|категория|(пусто)   |Необязательный параметр. Строка, содержащая категорию (домен) перевода. Значение по умолчанию — `general`.|query|строка|
|Авторизация|(пусто)  |Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|


### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недействительные учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-translatearray"></a>POST /TranslateArray

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает переводы для нескольких исходных текстов.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/TranslateArray`.

Вот формат органа запроса:

```
<TranslateArrayRequest>
  <AppId />
  <From>language-code</From>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <ReservedFlags xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" />
    <State xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >int-value</State>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</Uri>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</User>
  </Options>
  <Texts>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
  </Texts>
  <To>language-code</To>
</TranslateArrayRequest>
```

Эти элементы `TranslateArrayRequest`находятся в:


* `AppId`: обязательный. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `AppId` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .
* `From`: необязательный параметр. Строка, представляющая языковой код переведенного текста. Если это поле остается пустым, ответ будет включать результат автоматического обнаружения языка.
* `Options`: необязательный параметр. Объект, `Options` содержащий следующие значения. Все они необязательны и по умолчанию для наиболее распространенных параметров. Указанные элементы должны находится в алфавитном порядке.
    - `Category`Строка, содержащая категорию (домен) перевода. Значение по умолчанию — `general`.
    - `ContentType`: формат переведенного текста. Поддерживаемые форматы `text/plain` (по `text/xml`умолчанию), и `text/html`. Любые HTML-элементы должны быть хорошо сформированы, полные элементы.
    - `ProfanityAction`: Определяет, как обрабатываются ненормативная лексика, как объяснялось ранее. Принятые `NoAction` значения (по `Marked`умолчанию), и `Deleted`.
    - `State`: Состояние пользователя, чтобы помочь соотнести запрос и ответ. То же содержание будет возвращено в ответ.
    - `Uri`: отфильтруйте результаты по данному URI. По умолчанию: `all`.
    - `User`: отфильтруйте результаты по данному пользователю. По умолчанию: `all`.
* `Texts`: обязательный. Массив, содержащий текст для перевода. Все строки должны быть на одном языке. Общее количество всех переводимых текстов не может превышать 10 000 символов. Максимальное количество элементов массива составляет 2000.
* `To`: обязательный. Строка, представляющая код языка для перевода текста в.

Вы можете опустить дополнительные элементы. Элементы, которые `TranslateArrayRequest` являются прямыми детьми должны быть перечислены в алфавитном порядке.

Метод `TranslateArray` принимает `application/xml` или `text/xml` `Content-Type`для .

**Возвращаемое значение:** массив `TranslateArrayResponse`. Каждый из них имеет следующие `TranslateArrayResponse` элементы:

* `Error`: Указывает на ошибку, если она возникает. В противном случае имеет значение null.
* `OriginalSentenceLengths`: Массив целых чистильно, указывающий длину каждого предложения в исходном тексте. Длина массива указывает количество предложений.
* `TranslatedText`: переведенный текст.
* `TranslatedSentenceLengths`: Массив целых чистильно, который указывает длину каждого предложения в переведенном тексте. Длина массива указывает количество предложений.
* `State`: Состояние пользователя, чтобы помочь соотнести запрос и ответ. Возвращает тот же контент, что и запрос.

Вот формат органа реагирования:

```
<ArrayOfTranslateArrayResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"
  xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <TranslateArrayResponse>
    <From>language-code</From>
    <OriginalTextSentenceLengths xmlns:a="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
      <a:int>int-value</a:int>
    </OriginalTextSentenceLengths>
    <State/>
    <TranslatedText>string-value</TranslatedText>
    <TranslatedTextSentenceLengths xmlns:a="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
      <a:int>int-value</a:int>
    </TranslatedTextSentenceLengths>
  </TranslateArrayResponse>
</ArrayOfTranslateArrayResponse>
```

### <a name="response-class-status-200"></a>Класс ответа (статус 200)
Успешный ответ включает `TranslateArrayResponse` в себя массив массивов в формате, описанном ранее.

строка

Тип содержимого ответа: приложение/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Авторизация|(пусто)  |Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)   |Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке. Ниже перечислены распространенные ошибки. <ul><li>Элемент массива не может быть пустым.</li><li>Недействительная категория.</li><li>От языка является недействительным.</li><li>Язык недействителен.</li><li>Запрос содержит слишком много элементов.</li><li>Язык От языка не поддерживается.</li><li>Язык К языку не поддерживается.</li><li>Запрос перевода имеет слишком много данных.</li><li>HTML не находится в правильном формате.</li><li>Слишком много строк было пройдено в запросе Translate.</li></ul>|
|401    |Недействительные учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-getlanguagenames"></a>POST /GetLanguageNames

### <a name="implementation-notes"></a>Примечания по реализации
Получает дружественные имена для языков, `languageCodes`передаваемых `locale` в качестве параметра, локализованного на пройденном языке.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguageNames`.

Орган запроса включает в себя массив строк, представляющий языковые коды ISO 639-1 для получения дружественных имен. Ниже приведен пример:

```
<ArrayOfstring xmlns:i="https://www.w3.org/2001/XMLSchema-instance"  xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
    <string>zh</string>
    <string>en</string>
</ArrayOfstring>
```

**Значение возврата:** Массив строк, содержащий имена языков, поддерживаемые службой Translator, локализованный в запрашиваемом языке.

### <a name="response-class-status-200"></a>Класс ответа (статус 200)
Строка, содержащая имена языков, поддерживаемые службой Translator, локализованная в запрашиваемом языке.

строка

Тип содержимого ответа: приложение/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `appid` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .|query|строка|
|локаль|(пусто) |Обязательный элемент. Строка, представляющая одну из следующих строк, используемую для локализации имен языков: <ul><li>Сочетание двухбуквенных кодов культуры ISO 639, связанных с языком, и двухбуквенным кодом субкультуры ISO 3166. <li>Код культуры ISO 639 сам по себе.|query|строка|
|Авторизация|(пусто)  |Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недействительные учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-getlanguagesfortranslate"></a>GET /GetLanguagesForTranslate

### <a name="implementation-notes"></a>Примечания по реализации
Получает список языковых кодов, представляющих языки, поддерживаемые службой перевода.  `Translate` и `TranslateArray` может переводить из и на любой из этих языков.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguagesForTranslate`.

**Значение возврата:** Массив строк, содержащий языковые коды, поддерживаемые службой Translator.

### <a name="response-class-status-200"></a>Класс ответа (статус 200)
Массив строк, содержащий языковые коды, поддерживаемые службой Translator.

строка

Тип содержимого ответа: приложение/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `appid` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .|query|строка|
|Авторизация|(пусто)  |Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недействительные учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-getlanguagesforspeak"></a>GET /GetLanguagesForSpeak

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает языки, доступные для синтеза речи.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguagesForSpeak`.

**Значение возврата:** Массив строк, содержащий языковые коды, поддерживаемые для синтеза речи службой Translator.

### <a name="response-class-status-200"></a>Класс ответа (статус 200)
Массив строк, содержащий языковые коды, поддерживаемые для синтеза речи службой Translator.

строка

Тип содержимого ответа: приложение/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `appid` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .|query|строка|
|Авторизация|(пусто)|Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|
 
### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401|Недействительные учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-speak"></a>GET /Speak

### <a name="implementation-notes"></a>Примечания по реализации
Возвращает WAV или MP3 поток пройденного текста, на котором говорят на нужном языке.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Speak`.

**Значение возврата:** WAV или MP3 поток пройденного текста, на котором говорят на нужном языке.

### <a name="response-class-status-200"></a>Класс ответа (статус 200)

binary

Тип содержимого ответа: приложение/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `appid` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .|query|строка|
|text|(пусто)   |Обязательный элемент. Строка, содержащая одно или несколько предложений, которые можно произнести для потока, на указанном языке. Текст не должен превышать 2000 символов.|query|строка|
|Язык|(пусто)   |Обязательный элемент. Строка, представляющая поддерживаемый языковой код языка, на котором можно говорить текст. Код должен быть одним из кодов, `GetLanguagesForSpeak`возвращенных методом.|query|строка|
|format|(пусто)|Необязательный параметр. Строка, опозиваемый идентификатором типа содержимого. В настоящее время доступны `audio/wav` и `audio/mp3`. Значение по умолчанию — `audio/wav`.|query|строка|
|параметры|(пусто)    |Необязательный параметр. Строка, опозивающие свойства синтезированной речи:<ul><li>`MaxQuality`и `MinSize` указать качество звукового сигнала. `MaxQuality`обеспечивает высокое качество. `MinSize`обеспечивает наименьший размер файла. По умолчанию `MinSize`.</li><li>`female`и `male` указать желаемый пол голоса. Значение по умолчанию — `female`. Используйте вертикальную панель (),<code>\|</code>чтобы включить несколько вариантов. Например, `MaxQuality|Male`.</li></li></ul>  |query|строка|
|Авторизация|(пусто)|Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недействительные учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-detect"></a>GET /Detect

### <a name="implementation-notes"></a>Примечания по реализации
Определяет язык раздела текста.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Detect`.

**Значение возврата:** Строка, содержащая двухсимвольный языковой код для текста.

### <a name="response-class-status-200"></a>Класс ответа (статус 200)

строка

Тип содержимого ответа: приложение/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)  |Обязательный элемент. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `appid` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .|query|строка|
|text|(пусто)|Обязательный элемент. Строка, содержащая текст, язык которого должен быть идентифицирован. Текст не должен превышать 10 000 символов.|query|  строка|
|Авторизация|(пусто)|Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key  |(пусто)    |Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недействительные учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|


## <a name="post-detectarray"></a>POST /DetectArray

### <a name="implementation-notes"></a>Примечания по реализации

Идентифицирует языки в массиве строк. Независимо определяет язык каждого отдельного элемента массива и возвращает результат для каждой строки массива.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/DetectArray`.

Вот формат органа запроса:

```
<ArrayOfstring xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
    <string>string-value-1</string>
    <string>string-value-2</string>
</ArrayOfstring>
```

Текст не может превышать 10 000 символов.

**Значение возврата:** Массив строки, содержащий двухсимвольный языковой код для каждой строки в массиве ввода.

Вот формат органа реагирования:

```
<ArrayOfstring xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays" xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <string>language-code-1</string>
  <string>language-code-2</string>
</ArrayOfstring>
```

### <a name="response-class-status-200"></a>Класс ответа (статус 200)
`DetectArray`был успешным. Возвращает массив строк, содержащий двухсимвольный языковой код для каждой строки массива ввода.

строка

Тип содержимого ответа: приложение/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `appid` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .|query|строка|
|Авторизация|(пусто)|Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми.  Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недействительные учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-addtranslation"></a>Get /AddTranslation

### <a name="implementation-notes"></a>Примечания по реализации

> [!IMPORTANT]
> **Примечание изунительству:** После 31 января 2018 года этот метод не будет принимать новые предложения. Вы получите сообщение об ошибке. Пожалуйста, ознакомьтесь с объявлением об изменениях в Рамочной программе совместного перевода (CTF).

Добавляет перевод в память перевода.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/AddTranslation`.

### <a name="response-class-status-200"></a>Класс ответа (статус 200)

строка

Тип содержимого ответа: приложение: xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных   |
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `appid` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .|query|строка|
|OriginalText|(пусто)|Обязательный элемент. Строка, содержащая текст для перевода. Максимальная длина строки составляет 1000 символов.|query|строка|
|TranslatedText|(пусто) |Обязательный элемент. Строка, содержащая текст, переведенный на целевой язык. Максимальная длина строки составляет 2000 символов.|query|строка|
|из|(пусто)   |Обязательный элемент. Строка, представляющая языковой код исходного языка текста. Например, en для английского языка и де для немецкого языка.|query|строка|
|значение|(пусто)|Обязательный элемент. Строка, представляющая языковой код языка для перевода текста в.|query|строка|
|рейтинг|(пусто) |Необязательный параметр. Цель, который представляет рейтинг качества строки. Значение составляет от -10 до 10. Значение по умолчанию — 1.|query|Целое число|
|сontentType|(пусто)    |Необязательный параметр. Формат переведенного текста. Поддерживаемые форматы `text/plain` `text/html`есть и . Любые HTML-элементы должны быть хорошо сформированы, полные элементы.    |query|строка|
|категория|(пусто)|Необязательный параметр. Строка, содержащая категорию (домен) перевода. Значение по умолчанию — `general`.|query|строка|
|пользователь|(пусто)|Обязательный элемент. Строка, используемая для отслеживания составителя представления.|query|строка|
|uri|(пусто)|Необязательный параметр. Строка, содержащая расположение содержимого перевода.|query|строка|
|Авторизация|(пусто)|Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми.  Маркер авторизации: `"Bearer" + " " + "access_token"`.  |Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недействительные учетные данные.|
|410|`AddTranslation` более не поддерживаются.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-addtranslationarray"></a>POST /AddTranslationArray

### <a name="implementation-notes"></a>Примечания по реализации

> [!IMPORTANT]
> **Примечание изунительству:** После 31 января 2018 года этот метод не будет принимать новые предложения. Вы получите сообщение об ошибке. Пожалуйста, ознакомьтесь с объявлением об изменениях в Рамочной программе совместного перевода (CTF).

Добавляет массив переводов в память о переводе. Этот метод представляет собой `AddTranslation`массивную версию.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/AddTranslationArray`.

Вот формат органа запроса:

```
<AddtranslationsRequest>
  <AppId></AppId>
  <From>A string containing the language code of the source language</From>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</User>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Uri>
  </Options>
  <To>A string containing the language code of the target language</To>
  <Translations>
    <Translation xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">
      <OriginalText>string-value</OriginalText>
      <Rating>int-value</Rating>
      <Sequence>int-value</Sequence>
      <TranslatedText>string-value</TranslatedText>
    </Translation>
  </Translations>
</AddtranslationsRequest>
```

Эти элементы `AddtranslationsRequest`находятся в:

* `AppId`: обязательный. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `AppId` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .
* `From`: обязательный. Строка, содержащая языковой код исходного языка. Должен быть на одном из языков, возвращаемых методом `GetLanguagesForTranslate`.
* `To`: обязательный. Строка, содержащая языковой код целевого языка. Должен быть на одном из языков, возвращаемых методом `GetLanguagesForTranslate`.
* `Translations`: обязательный. Массив переводов для добавления в память перевода. Каждый перевод `OriginalText` `TranslatedText`должен `Rating`содержать, и . Максимальный размер `OriginalText` каждого `TranslatedText` и составляет 1000 символов. В общей `OriginalText` сложности все и `TranslatedText` элементы не могут превышать 10000 символов. Максимальное число элементов массива — 100.
* `Options`: обязательный. Набор опций, `Category`в `ContentType` `Uri`том `User`числе, , и . `User` является обязательным. `Category`, `ContentType`, `Uri` и являются необязательными. Указанные элементы должны находится в алфавитном порядке.

### <a name="response-class-status-200"></a>Класс ответа (статус 200)
`AddTranslationArray`метод удалось. 

После 31 января 2018 года предложения не будут приниматься. Служба отвечает кодом ошибки 410.

строка

Тип содержимого ответа: приложение/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Авторизация|(пусто)|Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми.  Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недействительные учетные данные.|
|410    |`AddTranslation` более не поддерживаются.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-breaksentences"></a>Get /BreakSentences

### <a name="implementation-notes"></a>Примечания по реализации
Разбивает раздел текста на предложения и возвращает массив, содержащий длину каждого предложения.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/BreakSentences`.

**Значение возврата:** Массив целых чибарконцов, который представляет длину предложений. Длина массива представляет количество предложений. Значения представляют длину каждого предложения.

### <a name="response-class-status-200"></a>Класс ответа (статус 200)
Массив целых чибарконцов, который представляет длину предложений. Длина массива представляет количество предложений. Значения представляют длину каждого предложения.

Целое число

Тип содержимого ответа: приложение/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)  |Обязательный элемент. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `appid` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .|query| строка|
|text|(пусто)   |Обязательный элемент. Строка, представляющая текст для разделения на предложения. Максимальный размер текста составляет 10 000 символов.|query|строка|
|Язык   |(пусто)    |Обязательный элемент. Строка, представляющая языковой код вхотоза.|query|строка|
|Авторизация|(пусто)|Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми. Маркер авторизации: `"Bearer" + " " + "access_token"`.   |Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401|Недействительные учетные данные.|
|500|Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-gettranslations"></a>POST /GetTranslations

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает массив переводов для данной языковой пары из хранилища и системы машинного перевода. `GetTranslations`отличается `Translate` от того, что он возвращает все доступные переводы.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetTranslations`.

Тело запроса включает в `TranslationOptions` себя дополнительный объект, который имеет этот формат:

```
<TranslateOptions xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">
  <Category>string-value</Category>
  <ContentType>text/plain</ContentType>
  <ReservedFlags></ReservedFlags>
  <State>int-value</State>
  <Uri>string-value</Uri>
  <User>string-value</User>
</TranslateOptions>
```

Объект `TranslateOptions` содержит значения в следующем списке. Все они необязательны и по умолчанию для наиболее распространенных параметров. Указанные элементы должны находится в алфавитном порядке.

* `Category`Строка, содержащая категорию (домен) перевода. Значение по умолчанию — `general`.
* `ContentType`: Единственный поддерживаемый вариант, `text/plain`и по умолчанию, является .
* `IncludeMultipleMTAlternatives`: Флаг Boolean, чтобы указать, следует ли возвращать из движка MT более одной альтернативы. Допустимые `true` значения `false` являются и (чувствительными к делу). По умолчанию, `false`который возвращает только одну альтернативу. Установка флага `true` позволяет создавать искусственные альтернативы, полностью интегрированные с Рамочной системой совместного перевода (CTF). Функция позволяет возвращать альтернативы для предложений, которые не имеют переводов в CTF, добавляя искусственные альтернативы из *n-лучший*список декодера.
    - Рейтинги. Рейтинги применяются следующим образом: 
         - лучший автоматический перевод получает оценку 5.
       - Альтернативы, полученные от CTF, отражают авторитет рецензента. Они варьируются от -10 до 10 евро.
       - Автоматически генерируемые *(n-лучший)* альтернативный перевод имеют рейтинг 0 и степень соответствия 100.
    - Количество альтернатив. Количество возвращенных альтернатив может быть выше значения, указанного в, `maxTranslations`но может быть ниже.
    - Языковые пары. Эта функциональность не доступна для переводов между упрощенным китайским и традиционным китайским, в любом направлении. Он доступен для всех других языковых пар, поддерживаемых Microsoft Translator.
* `State`: Состояние пользователя, чтобы помочь соотнести запрос и ответ. То же содержание будет возвращено в ответ.
* `Uri`: отфильтруйте результаты по данному URI. Если значение не установлено, `all`значение по умолчанию находится под номером.
* `User`: отфильтруйте результаты по данному пользователю. Если значение не установлено, `all`значение по умолчанию находится под номером.

Запрос `Content-Type` должен быть `text/xml`.

**Значение возврата:** Вот формат ответа:

```
<GetTranslationsResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"
  xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <From>Two character language code</From>
  <State/>
  <Translations>
    <TranslationMatch>
      <Count>int-value</Count>
      <MatchDegree>int-value</MatchDegree>
      <MatchedOriginalText/>
      <Rating>int value</Rating>
      <TranslatedText>string-value</TranslatedText>
    </TranslationMatch>
  </Translations>
</GetTranslationsResponse>
```

Этот ответ `GetTranslationsResponse` включает элемент, содержащий следующие значения:

* `Translations`: Массив найденных совпадений, хранящихся в `TranslationMatch` объектах (описан в следующем разделе). Переводы могут включать небольшие варианты исходного текста (нечеткое соответствие). Переводы будут отсортированы: 100% совпадений первый, нечеткие матчи дальше.
* `From`: Если метод не указывает `From` язык, это значение будет получено от автоматического обнаружения языка. В противном случае `From` это будет указанный язык.
* `State`: Состояние пользователя, чтобы помочь соотнести запрос и ответ. Содержит значение, поставляемое `TranslateOptions` в параметр.

Объект `TranslationMatch` состоит из следующих значений:

* `Error`: Код ошибки, если ошибка происходит для определенной строки ввода. В противном случае это поле пусто.
* `MatchDegree`: Указывает, насколько тесно текст ввода соответствует исходной текст, найденный в магазине. система сопоставляет входные предложения с хранилищем, включая также и неточные соответствия. Возвратное значение колеблется от 0 до 100, где 0 не является сходством и 100 является точным, чувствительным к случаю матч.
* `MatchedOriginalText`: исходный текст, найденный для этого результата. Это значение возвращается только в том случае, если соответствующий исходный текст отличался от вхотворного текста. Он используется для возврата исходного текста нечеткого матча. Это значение не возвращается для результатов Microsoft Translator.
* `Rating`: указывает надежность человека, который принимает решение о качестве. Результаты машинного перевода имеют рейтинг 5. Анонимные предоставленные переводы обычно имеют рейтинг от 1 до 4. Авторитетные переводы, как правило, имеют рейтинг от 6 до 10.
* `Count`: количество раз, когда был выбран этот перевод с этой оценкой. Значение 0 для автоматически переведенного ответа.
* `TranslatedText`: переведенный текст.

### <a name="response-class-status-200"></a>Класс ответа (статус 200)
Объект `GetTranslationsResponse` в формате, описанном ранее.

строка

Тип содержимого ответа: приложение/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` используется `Ocp-Apim-Subscription-Key` заголовок или заголовок, оставьте `appid` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .|query|строка|
|text|(пусто)|Обязательный элемент. Строка, представляющая текст для перевода. Максимальный размер текста составляет 10 000 символов.|query|строка|
|из|(пусто)|Обязательный элемент. Строка, представляющая языковой код переведенного текста.|query|строка|
|значение |(пусто)    |Обязательный элемент. Строка, представляющая языковой код языка для перевода текста в.|query|строка|
|maxTranslations|(пусто)|Обязательный элемент. Целый ряд, который представляет собой максимальное количество переводов для возврата.|query|Целое число|
|Авторизация| (пусто)|Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми. Маркер авторизации: `"Bearer" + " " + "access_token"`.|строка|  Верхний колонтитул|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недействительные учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Пожалуйста, предоставьте нам ориентировочную дату & времени запроса `X-MS-Trans-Info`и идентификатор запроса, включенный в заголовок ответа.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-gettranslationsarray"></a>Запрос POST /AddTranslationArray

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает несколько кандидатов на перевод для нескольких исходных текстов.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetTranslationsArray`.

Вот формат органа запроса:

```
<GetTranslationsArrayRequest>
  <AppId></AppId>
  <From>language-code</From>
  <MaxTranslations>int-value</MaxTranslations>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <ReservedFlags xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"/>
    <State xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">int-value</State>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Uri>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</User>
  </Options>
  <Texts>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
  </Texts>
  <To>language-code</To>
</GetTranslationsArrayRequest>
```

`GetTranslationsArrayRequest`включает в себя следующие элементы:

* `AppId`: обязательный. Если `Authorization` используется заголовок, оставьте `AppId` поле пустым. В противном случае, `"Bearer" + " " + "access_token"`включите строку, которая содержит .
* `From`: обязательный. Строка, представляющая языковой код переведенного текста.
* `MaxTranslations`: обязательный. Целый ряд, который представляет собой максимальное количество переводов для возврата.
* `Options`: необязательный параметр. Объект, `Options` содержащий следующие значения. Все они необязательны и по умолчанию для наиболее распространенных параметров. Указанные элементы должны находится в алфавитном порядке.
    - `Category`Строка, содержащая категорию (домен) перевода. Значение по умолчанию — `general`.
    - `ContentType`: Единственный поддерживаемый вариант, `text/plain`и по умолчанию, является .
    - `IncludeMultipleMTAlternatives`: Флаг Boolean, чтобы указать, следует ли возвращать из движка MT более одной альтернативы. Допустимые `true` значения `false` являются и (чувствительными к делу). По умолчанию, `false`который возвращает только одну альтернативу. Установка флага `true` позволяет создавать искусственные альтернативы в переводе, полностью интегрированные с Рамочной программой совместных переводов (CTF). Функция позволяет возвращать альтернативы для предложений, которые не имеют *n*альтернативы в CTF, добавляя искусственные альтернативы из n-лучший список декодера.
        - Рейтинги Рейтинги применяются следующим образом:
          - лучший автоматический перевод получает оценку 5.
          - Альтернативы, полученные от CTF, отражают авторитет рецензента. Они варьируются от -10 до 10 евро.
          - Автоматически генерируемые *(n-лучший)* альтернативный перевод имеют рейтинг 0 и степень соответствия 100.
        - Количество альтернатив. Количество возвращенных альтернатив может быть выше значения, указанного в, `maxTranslations`но может быть ниже.
        - Языковые пары. Эта функциональность не доступна для переводов между упрощенным китайским и традиционным китайским, в любом направлении. Он доступен для всех других языковых пар, поддерживаемых Microsoft Translator.
* `State`: Состояние пользователя, чтобы помочь соотнести запрос и ответ. То же содержание будет возвращено в ответ.
* `Uri`: отфильтруйте результаты по данному URI. Если значение не установлено, `all`значение по умолчанию находится под номером.
* `User`: отфильтруйте результаты по данному пользователю. Если значение не установлено, `all`значение по умолчанию находится под номером.
* `Texts`: обязательный. Массив, содержащий текст для перевода. Все строки должны быть на одном языке. Общее количество всех переводимых текстов не может превышать 10 000 символов. Максимальное число элементов массива — 10.
* `To`: обязательный. Строка, представляющая языковой код языка для перевода текста в.

Вы можете опустить дополнительные элементы. Элементы, которые `GetTranslationsArrayRequest` являются прямыми детьми должны быть перечислены в алфавитном порядке.

Запрос `Content-Type` должен быть `text/xml`.

**Значение возврата:** Вот формат ответа:

```
<ArrayOfGetTranslationsResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <GetTranslationsResponse>
    <From>language-code</From>
    <State/>
    <Translations>
      <TranslationMatch>
        <Count>int-value</Count>
        <MatchDegree>int-value</MatchDegree>
        <MatchedOriginalText>string-value</MatchedOriginalText>
        <Rating>int-value</Rating>
        <TranslatedText>string-value</TranslatedText>
      </TranslationMatch>
      <TranslationMatch>
        <Count>int-value</Count>
        <MatchDegree>int-value</MatchDegree>
        <MatchedOriginalText/>
        <Rating>int-value</Rating>
        <TranslatedText>string-value</TranslatedText>
      </TranslationMatch>
    </Translations>
  </GetTranslationsResponse>
</ArrayOfGetTranslationsResponse>
```

Каждый `GetTranslationsResponse` элемент содержит следующие значения:

* `Translations`: Массив найденных совпадений, хранящихся в `TranslationMatch` объектах (описан в следующем разделе). Переводы могут включать небольшие варианты исходного текста (нечеткое соответствие). Переводы будут отсортированы: 100% совпадений первый, нечеткие матчи дальше.
* `From`: Если метод не указывает `From` язык, это значение будет получено от автоматического обнаружения языка. В противном случае `From` это будет указанный язык.
* `State`: Состояние пользователя, чтобы помочь соотнести запрос и ответ. Содержит значение, поставляемое `TranslateOptions` в параметр.

Объект `TranslationMatch` содержит следующие значения:
* `Error`: Код ошибки, если ошибка происходит для определенной строки ввода. В противном случае это поле пусто.
* `MatchDegree`: Указывает, насколько тесно текст ввода соответствует исходной текст, найденный в магазине. система сопоставляет входные предложения с хранилищем, включая также и неточные соответствия. Возвратное значение колеблется от 0 до 100, где 0 не является сходством и 100 является точным, чувствительным к случаю матч.
* `MatchedOriginalText`: исходный текст, найденный для этого результата. Это значение возвращается только в том случае, если соответствующий исходный текст отличался от вхотворного текста. Он используется для возврата исходного текста нечеткого матча. Это значение не возвращается для результатов Microsoft Translator.
* `Rating`: указывает надежность человека, который принимает решение о качестве. Результаты машинного перевода имеют рейтинг 5. Анонимные предоставленные переводы обычно имеют рейтинг от 1 до 4. Авторитетные переводы, как правило, имеют рейтинг от 6 до 10.
* `Count`: количество раз, когда был выбран этот перевод с этой оценкой. Значение 0 для автоматически переведенного ответа.
* `TranslatedText`: переведенный текст.


### <a name="response-class-status-200"></a>Класс ответа (статус 200)

строка

Тип содержимого ответа: приложение/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Авторизация  |(пусто)    |Требуется, `appid` если поле `Ocp-Apim-Subscription-Key` и заголовок остаются пустыми.  Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Требуется, `appid` если поле `Authorization` и заголовок остаются пустыми.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недействительные учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса а также ID из заголовка ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Мигрировать в API-текст переводчика v3](../migrate-to-v3.md)


