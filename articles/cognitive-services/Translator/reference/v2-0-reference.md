---
title: API перевода текстов версии 2.0
titleSuffix: Azure Cognitive Services
description: Справочная документация по API перевода текстов версии 2.0.
services: cognitive-services
author: swmachan
manager: nitinme
ms.service: cognitive-services
ms.subservice: translator-text
ms.topic: reference
ms.date: 05/15/2018
ms.author: swmachan
ms.openlocfilehash: c18c062d5537603284acb37081ac0a4eb8d2fd20
ms.sourcegitcommit: 66237bcd9b08359a6cce8d671f846b0c93ee6a82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2019
ms.locfileid: "67797813"
---
# <a name="translator-text-api-v20"></a>API перевода текстов версии 2.0

> [!IMPORTANT]
> Эта версия API перевода текстов больше не рекомендуется. [Просмотреть документацию для версии 3 API перевода текстов](v3-0-reference.md).

API перевода текстов версии 2 можно легко интегрируется в свои приложения, веб-сайты, инструменты или другие решения для обеспечения многоязыковой взаимодействия с пользователями. Можно использовать его на любой платформе оборудования, так и с любой операционной системе для выполнения в переводе и другие задачи, относящиеся к языку, например распознавание языка текста и текста в речь, в соответствии со стандартами отрасли. Дополнительные сведения см. в разделе [API перевода текстов](../translator-info-overview.md).

## <a name="getting-started"></a>Начало работы
Чтобы получить доступ к API перевода текстов, вам потребуется [зарегистрироваться в Microsoft Azure](../translator-text-how-to-signup.md).

## <a name="authentication"></a>Проверка подлинности 
Все вызовы API перевода текстов для аутентификации требуется ключ подписки. Этот API поддерживает три метода проверки подлинности:

- Маркер доступа. Используйте ключ подписки, указанную в шаге 9 для создания маркера доступа путем отправки запроса POST к службе проверки подлинности. Дополнительные сведения см. в документации службы токенов. Передать маркер доступа у сервиса перевода с помощью `Authorization` заголовок или `access_token` параметр запроса. Маркер доступа действителен 10 минут. Получите новый маркер доступа каждые 10 минут и продолжать использовать тот же уровень доступа маркера для повторных запросов за 10 минут.
- Ключ подписки, предназначен для непосредственного использования. Передать ключ подписки в качестве значения `Ocp-Apim-Subscription-Key` заголовок, включенный в запрос API перевода текстов. При использовании ключа подписки напрямую, не нужно вызывать службу проверки подлинности маркера для создания маркера доступа.
- [Нескольких служб подписки Azure Cognitive Services](https://azure.microsoft.com/pricing/details/cognitive-services/). Этот метод позволяет использовать один секретный ключ для проверки подлинности запросов для нескольких служб.
При использовании нескольких служб секретный ключ, необходимо включить два заголовка проверки подлинности при обработке вашего запроса. Первый заголовок передает секретный ключ. Второй заголовок указывает область, связанную с вашей подпиской:
   - `Ocp-Apim-Subscription-Key`
   - `Ocp-Apim-Subscription-Region`

Область является обязательным для нескольких служб подписки API текста. Выбранная область является только области, которые можно использовать для перевода текста при использовании ключа подписки с использованием нескольких служб. Он должен быть в том же регионе, выбранный при регистрации для подписки с использованием нескольких служб на портале Azure.

Доступные регионы `australiaeast`, `brazilsouth`, `canadacentral`, `centralindia`, `centraluseuap`, `eastasia`, `eastus`, `eastus2`, `japaneast`, `northeurope`, `southcentralus`, `southeastasia`, `uksouth`, `westcentralus`, `westeurope`, `westus`, и `westus2`.

Ключ подписки и доступа маркера секретные данные, которые должны быть скрыты.

## <a name="profanity-handling"></a>Обработка ненормативной лексики
Как правило у сервиса перевода сохранит ненормативной лексики, которая присутствует в источнике. Степень ненормативной лексики и контекст, который делает оскорбительные слова, зависят от языка и региональных параметров. Поэтому может увеличить или уменьшить степень ненормативной лексики в целевом языке.

Если вы хотите запретить ненормативной лексики в переводе, даже в том случае, когда он находится в тексте исходного кода, можно использовать лексику, параметр для методов, которые ее поддерживают фильтрации. Параметр позволяет выбрать, нужно ли выполнять ненормативной лексики удалена или отмечена с соответствующими тегами см. в разделе, или того, требуется ли разрешить ненормативной лексики в целевом объекте. Допустимые значения из `ProfanityAction` являются `NoAction` (по умолчанию), `Marked`, и `Deleted`.


|ProfanityAction    |Action |Пример источника (японский)  |Пример преобразования (на английском языке)  |
|:--|:--|:--|:--|
|NoAction   |По умолчанию. Аналогично отсутствию параметра. Ненормативная лексика оригинального текста сохранится в переводе.        |彼はジャッカスです。     |Он — придурок.   |
|Marked     |Оскорбительные слова будут заключаться в XML-теги \<ненормативной лексики > и \</profanity >.       |彼はジャッカスです。 |Он является \<ненормативной лексики > jackass\</profanity >.  |
|Deleted    |Оскорбительные слова будут удалены из выходных данных без замены.     |彼はジャッカスです。 |Он — .   |

    
## <a name="excluding-content-from-translation"></a>Исключение содержимого из перевода
При переводе содержимого с помощью тегов, таких как HTML (`contentType=text/html`), иногда желательно исключить определенное содержимое из перевода. С помощью атрибута `class=notranslate` можно указать содержимое, которое должно остаться не переведенным. В следующем примере содержимое в первом `div` не перевода элемент, но содержимое во втором `div` элемент будет преобразован.

```HTML
<div class="notranslate">This will not be translated.</div>
<div>This will be translated. </div>
```

## <a name="get-translate"></a>GET /Translate

### <a name="implementation-notes"></a>Примечания по реализации
Перевод текстовой строки с одного языка на другой.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Translate`.

**Возвращаемое значение:** Строка, представляющая переведенный текст.

Если вы ранее использовали `AddTranslation` или `AddTranslationArray` ввести перевод с оценкой 5 или более поздней версии, для одной фразе источника, `Translate` возвращает часто выбирают, которая доступна для вашей системы. «Одной фразе источника» означает, что точно тем же (100% соответствие), за исключением регистр букв, пробелы, значения тегов и знаков препинания в конце предложения. Если не указана хранится с оценкой 5 или более поздней версии, возвращенный результат будет автоматического перевода, Microsoft Translator.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)

строка

Тип содержимого ответа: application/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание    |Тип параметра|тип данных|
|:--|:--|:--|:--|:--|
|appid  |(пусто)    |Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|запрос|строка|
|text|(пусто)   |Обязательный элемент. Строка, представляющая текст для перевода. Текст не может содержать более 10 000 символов.|запрос|строка|
|from|(пусто)   |Необязательный. Строка, представляющая код языка перевода текста. Например, en для английского языка.|запрос|строка|
|значение|(пусто) |Обязательный элемент. Строка, представляющая код языка для перевода текста в.|запрос|строка|
|сontentType|(пусто)    |Необязательный. Формат переведенного текста. Поддерживаемые форматы: `text/plain` (по умолчанию) и `text/html`. HTML-элементов должны быть правильного формата, полный элементов.|запрос|строка|
|category|(пусто)   |Необязательный. Строка, содержащая категории (домен) для перевода. Значение по умолчанию — `general`.|запрос|строка|
|Authorization|(пусто)  |Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|


### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-translatearray"></a>POST /TranslateArray

### <a name="implementation-notes"></a>Примечания по реализации
Возвращает переводы для нескольких текстов источника.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/TranslateArray`.

Ниже приведен формат текста запроса:

```
<TranslateArrayRequest>
  <AppId />
  <From>language-code</From>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <ReservedFlags xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" />
    <State xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >int-value</State>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</Uri>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" >string-value</User>
  </Options>
  <Texts>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
  </Texts>
  <To>language-code</To>
</TranslateArrayRequest>
```

Эти элементы находятся в `TranslateArrayRequest`:


* `AppId`. Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `AppId` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.
* `From`. Необязательный элемент. Строка, представляющая код языка перевода текста. Если это поле оставлено пустым, то ответ будет содержать результат автоматическое обнаружение языка.
* `Options`. Необязательный элемент. `Options` Объект, который содержит следующие значения. Они все необязательные и наиболее распространенные параметры по умолчанию. Указанные элементы должны находится в алфавитном порядке.
    - `Category`. Строка, содержащая категории (домен) для перевода. Значение по умолчанию — `general`.
    - `ContentType`. Формат переведенного текста. Поддерживаемые форматы: `text/plain` (по умолчанию), `text/xml`, и `text/html`. HTML-элементов должны быть правильного формата, полный элементов.
    - `ProfanityAction`. Указывает способ обработки profanities, как описано ранее. Принимаются значения `NoAction` (по умолчанию), `Marked`, и `Deleted`.
    - `State`. Состояние пользователя для корреляции запросов и ответов. То же содержимое возвращается в ответе.
    - `Uri`. фильтрация результатов по данному URI. По умолчанию: `all`.
    - `User`. фильтрация результатов по данному пользователю. По умолчанию: `all`.
* `Texts`. Обязательный элемент. Массив, содержащий текст для перевода. Все строки должны находиться на одном языке. Общее количество весь текст для перевода не может превышать 10 000 символов. Максимальное число элементов массива — 2000.
* `To`. Обязательный элемент. Строка, представляющая код языка для перевода текста в.

Можно опустить необязательные элементы. Элементы, которые являются прямыми потомками `TranslateArrayRequest` должны быть перечислены в алфавитном порядке.

`TranslateArray` Метод принимает `application/xml` или `text/xml` для `Content-Type`.

**Возвращаемое значение:** массив `TranslateArrayResponse`. Каждый `TranslateArrayResponse` включали следующие элементы:

* `Error`. Указывает на ошибку при возникновении такой ошибки. В противном случае имеет значение null.
* `OriginalSentenceLengths`. Массив целых чисел, которые указывают длину каждого предложения в исходном тексте. Длина массива указывает количество предложений.
* `TranslatedText`. переведенный текст.
* `TranslatedSentenceLengths`. Массив целых чисел, которые указывают длину каждого предложения в переведенный текст. Длина массива указывает количество предложений.
* `State`. Состояние пользователя для корреляции запросов и ответов. Возвращает то же содержимое, что и в запросе.

Ниже приведен формат текста ответа:

```
<ArrayOfTranslateArrayResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"
  xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <TranslateArrayResponse>
    <From>language-code</From>
    <OriginalTextSentenceLengths xmlns:a="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
      <a:int>int-value</a:int>
    </OriginalTextSentenceLengths>
    <State/>
    <TranslatedText>string-value</TranslatedText>
    <TranslatedTextSentenceLengths xmlns:a="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
      <a:int>int-value</a:int>
    </TranslatedTextSentenceLengths>
  </TranslateArrayResponse>
</ArrayOfTranslateArrayResponse>
```

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Успешный ответ содержит массив `TranslateArrayResponse` массивов в формат, описанный ранее.

строка

Тип содержимого ответа: application/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Authorization|(пусто)  |Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)   |Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке. Ниже перечислены распространенные ошибки. <ul><li>Элемент массива не может быть пустым.</li><li>Недопустимая категория.</li><li>В языке является недопустимым.</li><li>Язык является недопустимым.</li><li>Запрос содержит слишком много элементов.</li><li>Язык From не поддерживается.</li><li>В языке не поддерживается.</li><li>Перевод запроса содержит слишком много данных.</li><li>HTML не находится в правильном формате.</li><li>Перевод Request передано слишком много строк.</li></ul>|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-getlanguagenames"></a>POST /GetLanguageNames

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает понятные имена для языков, переданный в качестве параметра `languageCodes`, локализованную в переданный `locale` языка.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguageNames`.

Текст запроса содержит массив строк, представляющий коды ISO 639-1 языка для которого требуется извлечь понятные имена. Ниже приведен пример:

```
<ArrayOfstring xmlns:i="https://www.w3.org/2001/XMLSchema-instance"  xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
    <string>zh</string>
    <string>en</string>
</ArrayOfstring>
```

**Возвращаемое значение:** Массив строк, содержащий имен языков, поддерживаемых сервисом Translator, локализованы на запрошенном языке.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Массив строк, содержащий имена языков, поддерживаемых сервисом Translator, локализованы для запрошенного языка.

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|запрос|строка|
|локаль|(пусто) |Обязательный элемент. Строка, представляющая один из следующих значений, используемый для локализации имен языка: <ul><li>Сочетание код ISO 639 двух букв нижнего регистра, языка и региональных параметров, связанных с языком и кодом двух букв верхнего регистра субкультуры ISO 3166. <li>Нижний регистр языка и региональных параметров код ISO 639 сама по себе.|запрос|строка|
|Authorization|(пусто)  |Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-getlanguagesfortranslate"></a>GET /GetLanguagesForTranslate

### <a name="implementation-notes"></a>Примечания по реализации
Получает список кодов языков, представляющих языки, поддерживаемые службой перевода.  `Translate` и `TranslateArray` может переводить из и на любой из этих языков.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguagesForTranslate`.

**Возвращаемое значение:** Массив строк, содержащий коды языков, поддерживаемых сервисом Translator.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Массив строк, содержащий коды языков, поддерживаемых сервисом Translator.

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|запрос|строка|
|Authorization|(пусто)  |Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-getlanguagesforspeak"></a>GET /GetLanguagesForSpeak

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает языки, доступные для синтеза речи.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetLanguagesForSpeak`.

**Возвращаемое значение:** Массив строк, содержащий коды языков, поддерживаемых службой Translator для синтеза речи.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Массив строк, содержащий коды языков, поддерживаемых службой Translator для синтеза речи.

строка

Тип содержимого ответа: application/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|запрос|строка|
|Authorization|(пусто)|Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|
 
### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401|Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-speak"></a>GET /Speak

### <a name="implementation-notes"></a>Примечания по реализации
Возвращает поток в формате WAV или MP3, переданное текста, а в нужный язык.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Speak`.

**Возвращаемое значение:** В формате WAV или MP3 переданное текстового потока, в нужный язык.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)

binary

Тип содержимого ответа: application/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|запрос|строка|
|text|(пусто)   |Обязательный элемент. Строка, содержащая один или несколько предложений для произнесения для потока, на указанном языке. Текст не должен превышать 2000 символов.|запрос|строка|
|language|(пусто)   |Обязательный элемент. Строка, представляющая код поддерживаемого языка язык, на котором для произнесения текста. Код должен быть один из кодов, возвращаемых методом `GetLanguagesForSpeak`.|запрос|строка|
|format|(пусто)|Необязательный элемент. Строка, задающая идентификатор типа содержимого. В настоящее время доступны `audio/wav` и `audio/mp3`. Значение по умолчанию — `audio/wav`.|запрос|строка|
|options|(пусто)    |Необязательный элемент. Строка, указывающая свойства синтезированную речь:<ul><li>`MaxQuality` и `MinSize` задать качество звуковых сигналов. `MaxQuality` предоставляет высочайшего качества. `MinSize` предоставляет минимальный размер файла. По умолчанию используется `MinSize`.</li><li>`female` и `male` укажите нужный Пол голоса. Значение по умолчанию — `female`. Использовать вертикальную черту (<code>\|</code>) для включения нескольких параметров. Например, `MaxQuality|Male`.</li></li></ul>  |запрос|строка|
|Authorization|(пусто)|Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-detect"></a>GET /Detect

### <a name="implementation-notes"></a>Примечания по реализации
Идентифицирует язык фрагмент текста.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/Detect`.

**Возвращаемое значение:** Строка, содержащая код языка двух знаков в тексте.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)

строка

Тип содержимого ответа: application/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)  |Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|запрос|строка|
|text|(пусто)|Обязательный элемент. Строка, содержащая текст, язык которой является веб-API. Текст не должен превышать 10 000 символов.|запрос|  строка|
|Authorization|(пусто)|Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым. Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key  |(пусто)    |Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|


## <a name="post-detectarray"></a>POST /DetectArray

### <a name="implementation-notes"></a>Примечания по реализации

Идентифицирует языках, массив строк. Независимо друг от друга определяет язык каждого элемента отдельных массива и возвращает результат для каждой строки в массиве.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/DetectArray`.

Ниже приведен формат текста запроса:

```
<ArrayOfstring xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
    <string>string-value-1</string>
    <string>string-value-2</string>
</ArrayOfstring>
```

Текст не может превышать 10 000 символов.

**Возвращаемое значение:** Массив строк, содержащий код языка с двух символов для каждой строки во входном массиве.

Ниже приведен формат текста ответа:

```
<ArrayOfstring xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays" xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <string>language-code-1</string>
  <string>language-code-2</string>
</ArrayOfstring>
```

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
`DetectArray` выполнено успешно. Возвращает строковый массив, содержащий код языка с двух символов для каждой строки входного массива.

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|запрос|строка|
|Authorization|(пусто)|Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым.  Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-addtranslation"></a>Get /AddTranslation

### <a name="implementation-notes"></a>Примечания по реализации

> [!IMPORTANT]
> **Примечание об устаревании.** Начиная с 31 января 2018 г. Этот метод не принимает новые предложения отправок. Вы получите сообщение об ошибке. См. объявление об изменениях к Collaborative Translation Framework (CTF).

Добавляет перевод в память перевода.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/AddTranslation`.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)

строка

Тип содержимого ответа: application: xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных   |
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|запрос|строка|
|OriginalText|(пусто)|Обязательный элемент. Строка, содержащая текст для перевода. Максимальная длина строки составляет 1000 символов.|запрос|строка|
|TranslatedText|(пусто) |Обязательный элемент. Строка, содержащая текст преобразован в целевом языке. Максимальная длина строки составляет 2000 символов.|запрос|строка|
|from|(пусто)   |Обязательный элемент. Строка, представляющая код языка исходный язык текста. Например en для английского языка и de для немецкого языка.|запрос|строка|
|значение|(пусто)|Обязательный элемент. Строка, представляющая язык для перевода текста в код языка.|запрос|строка|
|рейтинг|(пусто) |Необязательный элемент. Целое число, представляющее оценка качества для строки. Значение находится между -10 и 10. Значение по умолчанию — 1.|запрос|integer|
|сontentType|(пусто)    |Необязательный элемент. Формат переведенного текста. Поддерживаемые форматы: `text/plain` и `text/html`. HTML-элементов должны быть правильного формата, полный элементов.    |запрос|строка|
|category|(пусто)|Необязательный элемент. Строка, содержащая категории (домен) для перевода. Значение по умолчанию — `general`.|запрос|строка|
|user|(пусто)|Обязательный элемент. Строка, используемая для отслеживания инициатором для отправки.|запрос|строка|
|uri|(пусто)|Необязательный элемент. Строка, содержащая расположение содержимого для перевода.|запрос|строка|
|Authorization|(пусто)|Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым.  Маркер авторизации: `"Bearer" + " " + "access_token"`.  |Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|410|`AddTranslation` больше не поддерживается.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-addtranslationarray"></a>POST /AddTranslationArray

### <a name="implementation-notes"></a>Примечания по реализации

> [!IMPORTANT]
> **Примечание об устаревании.** Начиная с 31 января 2018 г. Этот метод не принимает новые предложения отправок. Вы получите сообщение об ошибке. См. объявление об изменениях к Collaborative Translation Framework (CTF).

Добавляет массив переводов translation памяти. Этот метод представляет собой массив версию `AddTranslation`.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/AddTranslationArray`.

Ниже приведен формат текста запроса:

```
<AddtranslationsRequest>
  <AppId></AppId>
  <From>A string containing the language code of the source language</From>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</User>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Uri>
  </Options>
  <To>A string containing the language code of the target language</To>
  <Translations>
    <Translation xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">
      <OriginalText>string-value</OriginalText>
      <Rating>int-value</Rating>
      <Sequence>int-value</Sequence>
      <TranslatedText>string-value</TranslatedText>
    </Translation>
  </Translations>
</AddtranslationsRequest>
```

Эти элементы находятся в `AddtranslationsRequest`:

* `AppId`. Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `AppId` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.
* `From`. Обязательный элемент. Строка, содержащая код языка исходного языка. Должен быть на одном из языков, возвращаемых методом `GetLanguagesForTranslate`.
* `To`. Обязательный элемент. Строка, содержащая код языка целевого языка. Должен быть на одном из языков, возвращаемых методом `GetLanguagesForTranslate`.
* `Translations`. Обязательный элемент. Массив переводов для добавления в память перевода. Каждый перевод должен содержать `OriginalText`, `TranslatedText`, и `Rating`. Максимальный размер каждого из них `OriginalText` и `TranslatedText` составляет 1000 символов. Общее количество всех `OriginalText` и `TranslatedText` элементов не может превышать 10 000 символов. Максимальное число элементов массива — 100.
* `Options`. Обязательный элемент. Набор параметров, включая `Category`, `ContentType`, `Uri`, и `User`. `User` является обязательным. `Category`, `ContentType`, и `Uri` являются необязательными. Указанные элементы должны находится в алфавитном порядке.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
`AddTranslationArray` Метод выполнен успешно. 

Начиная с 31 января 2018 г. не будет принят отправки предложения. Служба отвечает кодом ошибки 410.

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Authorization|(пусто)|Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым.  Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|410    |`AddTranslation` больше не поддерживается.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="get-breaksentences"></a>Get /BreakSentences

### <a name="implementation-notes"></a>Примечания по реализации
Разбивает предложения раздел текста и возвращает массив, содержащий длину каждого предложения.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/BreakSentences`.

**Возвращаемое значение:** Массив целых чисел, представляющий длину предложения. Длина массива представляет количество предложений. Значения представляют длина каждого предложения.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Массив целых чисел, представляющий длину предложения. Длина массива представляет количество предложений. Значения представляют длина каждого предложения.

integer

Тип содержимого ответа: application/xml

### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)  |Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|запрос| строка|
|text|(пусто)   |Обязательный элемент. Строка, представляющая текст, разделение на предложения. Максимальный размер текста составляет 10 000 символов.|запрос|строка|
|language   |(пусто)    |Обязательный элемент. Строка, представляющая код языка ввода текста.|запрос|строка|
|Authorization|(пусто)|Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым. Маркер авторизации: `"Bearer" + " " + "access_token"`.   |Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)|Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400|Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401|Недопустимые учетные данные.|
|500|Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-gettranslations"></a>POST /GetTranslations

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает массив переводов для данной языковой пары из хранилища и системы машинного перевода. `GetTranslations` отличается от `Translate` тем, что возвращает все возможные переводы.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetTranslations`.

Текст запроса включает необязательный `TranslationOptions` объект, который указан в следующем формате:

```
<TranslateOptions xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">
  <Category>string-value</Category>
  <ContentType>text/plain</ContentType>
  <ReservedFlags></ReservedFlags>
  <State>int-value</State>
  <Uri>string-value</Uri>
  <User>string-value</User>
</TranslateOptions>
```

`TranslateOptions` Объекта содержит значения в списке ниже. Они все необязательные и наиболее распространенные параметры по умолчанию. Указанные элементы должны находится в алфавитном порядке.

* `Category`. Строка, содержащая категории (домен) для перевода. Значение по умолчанию — `general`.
* `ContentType`. Единственный поддерживаемый параметр по умолчанию, — `text/plain`.
* `IncludeMultipleMTAlternatives`. Логический флаг, чтобы указать, должен ли возвращаться более чем один из них от обработчика главного целевого сервера. Допустимые значения: `true` и `false` (с учетом регистра). По умолчанию используется `false`, который возвращает только один вариант. Установка для флага `true` позволяет создать искусственный альтернативных вариантов, полностью интегрирован с Collaborative Translation Framework (CTF). Данная функция поддерживает возвращение альтернатив к предложениям, которые имеют нет переводов в CTF путем добавления искусственный альтернативы *n*-список лучших декодера.
    - Оценки. Оценки применяются следующим образом: 
         - лучший автоматический перевод получает оценку 5.
       - Варианты от CTF отражают полномочия рецензента. Они в диапазоне от -10, чтобы + 10.
       - Автоматически созданный (*n*-рекомендации) альтернативные варианты перевода имеют оценка от 0 до 100 степенью соответствия.
    - Число альтернативных вариантов. Число возвращаемых вариантов может быть равна значению, указанному в `maxTranslations`, но может быть ниже.
    - Языковые пары. Эта функция недоступна для преобразования между упрощенное и традиционное письмо, в любом направлении. Он доступен для всех языковых пар, поддерживаемые Microsoft Translator.
* `State`. Состояние пользователя для корреляции запросов и ответов. То же содержимое возвращается в ответе.
* `Uri`. фильтрация результатов по данному URI. Если значение не задано, по умолчанию используется `all`.
* `User`. фильтрация результатов по данному пользователю. Если значение не задано, по умолчанию используется `all`.

Запрос `Content-Type` должен быть `text/xml`.

**Возвращаемое значение:** Ниже приведен формат ответа:

```
<GetTranslationsResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"
  xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <From>Two character language code</From>
  <State/>
  <Translations>
    <TranslationMatch>
      <Count>int-value</Count>
      <MatchDegree>int-value</MatchDegree>
      <MatchedOriginalText/>
      <Rating>int value</Rating>
      <TranslatedText>string-value</TranslatedText>
    </TranslationMatch>
  </Translations>
</GetTranslationsResponse>
```

Этот ответ включает `GetTranslationsResponse` элемент, который содержит следующие значения:

* `Translations`. Массив совпадений нет, хранящиеся в `TranslationMatch` объектов (см. в следующем разделе). Переводы могут включать слегка различных вариантов исходный текст (нечеткого соответствия). Переводы будут отсортированы. 100% соответствует во-первых, нечетких соответствий рядом.
* `From`. Если не указать метод `From` языка, это значение будет получено от автоматическое обнаружение языка. В противном случае он будет указанного `From` языка.
* `State`. Состояние пользователя для корреляции запросов и ответов. Содержит значение, передаваемое в `TranslateOptions` параметра.

`TranslationMatch` Состоит из следующих значений:

* `Error`. Код ошибки, если произошла ошибка конкретной входной строки. В противном случае это поле будет пустым.
* `MatchDegree`. Указывает, насколько входного текста соответствует исходный текст найден в хранилище. система сопоставляет входные предложения с хранилищем, включая также и неточные соответствия. Возвращается значение в диапазоне от 0 до 100, где 0 — не подобия, а 100 соответствует точно, с учетом регистра.
* `MatchedOriginalText`. исходный текст, найденный для этого результата. Это значение возвращается только в том случае, если соответствующий исходный текст отличался от входного текста. Он используется для возврата исходного текста нечеткого соответствия. Это значение не возвращается для результатов Microsoft Translator.
* `Rating`. указывает надежность человека, который принимает решение о качестве. Результаты машинного перевода имеющие рейтинг 5. Анонимно предоставленный переводы обычно имеют оценку от 1 до 4. Принудительно предоставленный переводы обычно будет иметь оценки от 6 до 10.
* `Count`. количество раз, когда был выбран этот перевод с этой оценкой. Значение равно 0 для автоматически переведенные ответа.
* `TranslatedText`. переведенный текст.

### <a name="response-class-status-200"></a>Класс ответа (состояние 200)
Объект `GetTranslationsResponse` объект в формат, описанный ранее.

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|appid|(пусто)|Обязательный элемент. Если `Authorization` или `Ocp-Apim-Subscription-Key` используется заголовок, оставьте `appid` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.|запрос|строка|
|text|(пусто)|Обязательный элемент. Строка, представляющая текст для перевода. Максимальный размер текста составляет 10 000 символов.|запрос|строка|
|from|(пусто)|Обязательный элемент. Строка, представляющая код языка перевода текста.|запрос|строка|
|значение |(пусто)    |Обязательный элемент. Строка, представляющая язык для перевода текста в код языка.|запрос|строка|
|maxTranslations|(пусто)|Обязательный элемент. Целое число, представляющее максимальное число переводов для возвращения.|запрос|integer|
|Authorization| (пусто)|Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым. Маркер авторизации: `"Bearer" + " " + "access_token"`.|строка|  Верхний колонтитул|
|Ocp-Apim-Subscription-Key|(пусто)  |Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите приблизительную дату и время запроса и идентификатор запроса, включенные в заголовке ответа `X-MS-Trans-Info`.|
|503|Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="post-gettranslationsarray"></a>Запрос POST /AddTranslationArray

### <a name="implementation-notes"></a>Примечания по реализации
Извлекает несколько вариантов перевода для нескольких текстов источника.

Код URI запроса — `https://api.microsofttranslator.com/V2/Http.svc/GetTranslationsArray`.

Ниже приведен формат текста запроса:

```
<GetTranslationsArrayRequest>
  <AppId></AppId>
  <From>language-code</From>
  <MaxTranslations>int-value</MaxTranslations>
  <Options>
    <Category xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Category>
    <ContentType xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">text/plain</ContentType>
    <ReservedFlags xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2"/>
    <State xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">int-value</State>
    <Uri xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</Uri>
    <User xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2">string-value</User>
  </Options>
  <Texts>
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">string-value</string>
  </Texts>
  <To>language-code</To>
</GetTranslationsArrayRequest>
```

`GetTranslationsArrayRequest` содержит следующие элементы:

* `AppId`. Обязательный элемент. Если `Authorization` используется заголовок, оставьте `AppId` пустым. В противном случае включите строку, содержащую `"Bearer" + " " + "access_token"`.
* `From`. Обязательный элемент. Строка, представляющая код языка перевода текста.
* `MaxTranslations`. Обязательный элемент. Целое число, представляющее максимальное число переводов для возвращения.
* `Options`. Необязательный. `Options` Объект, который содержит следующие значения. Они все необязательные и наиболее распространенные параметры по умолчанию. Указанные элементы должны находится в алфавитном порядке.
    - `Category`. Строка, содержащая категории (домен) для перевода. Значение по умолчанию — `general`.
    - `ContentType`. Единственный поддерживаемый параметр по умолчанию, — `text/plain`.
    - `IncludeMultipleMTAlternatives`. Логический флаг, чтобы указать, должен ли возвращаться более чем один из них от обработчика главного целевого сервера. Допустимые значения: `true` и `false` (с учетом регистра). По умолчанию используется `false`, который возвращает только один вариант. Установка для флага `true` включает создание искусственный представленным в трансляции, полностью интегрирован с совместной работы Framework переводы (CTF). Данная функция поддерживает возвращение альтернатив к предложениям, которые имеют другой нет в CTF путем добавления искусственный альтернативы *n*-список лучших декодера.
        - Оценки оценки применяются следующим образом:
          - лучший автоматический перевод получает оценку 5.
          - Варианты от CTF отражают полномочия рецензента. Они в диапазоне от -10, чтобы + 10.
          - Автоматически созданный (*n*-рекомендации) альтернативные варианты перевода имеют оценка от 0 до 100 степенью соответствия.
        - Число альтернативных вариантов. Число возвращаемых вариантов может быть равна значению, указанному в `maxTranslations`, но может быть ниже.
        - Языковые пары. Эта функция недоступна для преобразования между упрощенное и традиционное письмо, в любом направлении. Он доступен для всех языковых пар, поддерживаемые Microsoft Translator.
* `State`. Состояние пользователя для корреляции запросов и ответов. То же содержимое возвращается в ответе.
* `Uri`. фильтрация результатов по данному URI. Если значение не задано, по умолчанию используется `all`.
* `User`. фильтрация результатов по данному пользователю. Если значение не задано, по умолчанию используется `all`.
* `Texts`. Обязательный элемент. Массив, содержащий текст для перевода. Все строки должны находиться на одном языке. Общее количество весь текст для перевода не может превышать 10 000 символов. Максимальное число элементов массива — 10.
* `To`. Обязательный элемент. Строка, представляющая язык для перевода текста в код языка.

Можно опустить необязательные элементы. Элементы, которые являются прямыми потомками `GetTranslationsArrayRequest` должны быть перечислены в алфавитном порядке.

Запрос `Content-Type` должен быть `text/xml`.

**Возвращаемое значение:** Ниже приведен формат ответа:

```
<ArrayOfGetTranslationsResponse xmlns="http://schemas.datacontract.org/2004/07/Microsoft.MT.Web.Service.V2" xmlns:i="https://www.w3.org/2001/XMLSchema-instance">
  <GetTranslationsResponse>
    <From>language-code</From>
    <State/>
    <Translations>
      <TranslationMatch>
        <Count>int-value</Count>
        <MatchDegree>int-value</MatchDegree>
        <MatchedOriginalText>string-value</MatchedOriginalText>
        <Rating>int-value</Rating>
        <TranslatedText>string-value</TranslatedText>
      </TranslationMatch>
      <TranslationMatch>
        <Count>int-value</Count>
        <MatchDegree>int-value</MatchDegree>
        <MatchedOriginalText/>
        <Rating>int-value</Rating>
        <TranslatedText>string-value</TranslatedText>
      </TranslationMatch>
    </Translations>
  </GetTranslationsResponse>
</ArrayOfGetTranslationsResponse>
```

Каждый `GetTranslationsResponse` элемент содержит следующие значения:

* `Translations`. Массив совпадений нет, хранящиеся в `TranslationMatch` объектов (см. в следующем разделе). Переводы могут включать слегка различных вариантов исходный текст (нечеткого соответствия). Переводы будут отсортированы. 100% соответствует во-первых, нечетких соответствий рядом.
* `From`. Если не указать метод `From` языка, это значение будет получено от автоматическое обнаружение языка. В противном случае он будет указанного `From` языка.
* `State`. Состояние пользователя для корреляции запросов и ответов. Содержит значение, передаваемое в `TranslateOptions` параметра.

`TranslationMatch` Объект содержит следующие значения:
* `Error`. Код ошибки, если произошла ошибка конкретной входной строки. В противном случае это поле будет пустым.
* `MatchDegree`. Указывает, насколько входного текста соответствует исходный текст найден в хранилище. система сопоставляет входные предложения с хранилищем, включая также и неточные соответствия. Возвращается значение в диапазоне от 0 до 100, где 0 — не подобия, а 100 соответствует точно, с учетом регистра.
* `MatchedOriginalText`. исходный текст, найденный для этого результата. Это значение возвращается только в том случае, если соответствующий исходный текст отличался от входного текста. Он используется для возврата исходного текста нечеткого соответствия. Это значение не возвращается для результатов Microsoft Translator.
* `Rating`. указывает надежность человека, который принимает решение о качестве. Результаты машинного перевода имеющие рейтинг 5. Анонимно предоставленный переводы обычно имеют оценку от 1 до 4. Принудительно предоставленный переводы обычно имеют оценку от 6 до 10.
* `Count`. количество раз, когда был выбран этот перевод с этой оценкой. Значение равно 0 для автоматически переведенные ответа.
* `TranslatedText`. переведенный текст.


### <a name="response-class-status-200"></a>Класс ответа (состояние 200)

строка

Тип содержимого ответа: application/xml
 
### <a name="parameters"></a>Параметры

|Параметр|Значение|Описание|Тип параметра|Тип данных|
|:--|:--|:--|:--|:--|
|Authorization  |(пусто)    |Обязательно, если оба `appid` поля и `Ocp-Apim-Subscription-Key` заголовка оставить это поле пустым.  Маркер авторизации: `"Bearer" + " " + "access_token"`.|Верхний колонтитул|строка|
|Ocp-Apim-Subscription-Key|(пусто)  |Обязательно, если оба `appid` поля и `Authorization` заголовка оставить это поле пустым.|Верхний колонтитул|строка|

### <a name="response-messages"></a>Ответные сообщения

|HTTP status code (Код состояния HTTP)|Причина|
|:--|:--|
|400    |Недопустимый запрос. Проверьте входные параметры и подробные сведения об ошибке.|
|401    |Недопустимые учетные данные.|
|500    |Ошибка сервера. Свяжитесь с нами, если ошибка не устранена. Сообщите нам приблизительные дату и время запроса а также ID из заголовка ответа `X-MS-Trans-Info`.|
|503    |Служба временно недоступна. Повторите попытку и дайте нам знать, если ошибка не устранена.|

## <a name="next-steps"></a>Следующие шаги

> [!div class="nextstepaction"]
> [Перенос в API перевода текстов версии 3](../migrate-to-v3.md)


