---
title: Переводчик шифрования данных в состоянии покоя
titleSuffix: Azure Cognitive Services
description: Переводчик шифрования данных в состоянии покоя.
author: erindormier
manager: venkyv
ms.service: cognitive-services
ms.subservice: translator-text
ms.topic: conceptual
ms.date: 03/13/2020
ms.author: egeaney
ms.openlocfilehash: 44bb223dbc944be1b8769aa2572f1b88b916528b
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79372241"
---
# <a name="translator-encryption-of-data-at-rest"></a>Переводчик шифрования данных в состоянии покоя

Переводчик автоматически шифрует ваши данные, которые вы загружаете для создания пользовательских моделей перевода, когда они сохраняются в облаке, помогая достичь ваших целей организационной безопасности и соответствия требованиям.

## <a name="about-cognitive-services-encryption"></a>О шифровании когнитивных служб

Данные шифруются и расшифровываются с помощью [256-битного](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard) шифрования [AES FIPS 140-2.](https://en.wikipedia.org/wiki/FIPS_140-2) Шифрование и расшифровка прозрачны, то есть шифрование и доступ управляются для вас. Ваши данные защищены по умолчанию, и вам не нужно изменять код или приложения, чтобы воспользоваться преимуществами шифрования.

## <a name="about-encryption-key-management"></a>Об управлении ключами шифрования

По умолчанию в вашей подписке используются ключи шифрования, управляемые корпорацией Майкрософт. Если вы используете уровень ценообразования, поддерживающий клавиши, управляемые клиентами, вы можете увидеть параметры шифрования для вашего ресурса в разделе **Шифрование** [портала Azure,](https://portal.azure.com)как показано на следующем изображении.

![Просмотр настроек шифрования](../media/cognitive-services-encryption/encryptionblade.png)

Для подписок, которые поддерживают только управляемые корпорацией Майкрософт ключи шифрования, у вас не будет раздела **шифрования.**

## <a name="customer-managed-keys-with-azure-key-vault"></a>Ключи, управляемые клиентами с помощью Azure Key Vault

Существует также возможность управлять подпиской с вашими собственными ключами. Управляемые клиентами ключи (CMK), также известные как Bring your own key (BYOK), обеспечивают большую гибкость для создания, вращения, отключания и отзыва элементов доступа. Вы также можете провести аудит ключей шифрования, используемых для защиты ваших данных.

> [!IMPORTANT]
> Ключи, управляемые клиентами, доступны для всех уровней ценообразования для службы Translator. Чтобы запросить возможность использовать клавиши, управляемые клиентом, заполните и отправьте [форму ключевого запроса, управляемую клиентом Translator,](https://aka.ms/cogsvc-cmk) потребуется примерно 3-5 рабочих дней, чтобы услышать о состоянии вашего запроса. В зависимости от спроса, вы можете быть помещены в очередь и утверждены по мере поступления пространства. После одобрения использования CMK с помощью службы Translator необходимо создать новый ресурс Translator. После создания ресурса Translator можно использовать Azure Key Vault для настройки управляемой идентификации.

Выполните следующие действия, чтобы включить управляемые клиентом ключи для Переводчика:

1. Создайте новый региональный текст переводчика или региональный ресурс Cognitive Services. Это не будет работать с глобальным ресурсом.
2. Включена управляемая идентификация на портале Azure и добавьте ключевую информацию, управляемую клиентом.
3. Создайте новое рабочее пространство в пользовательском переводчике и связывайте эту информацию о подписке.

[!INCLUDE [cognitive-services-cmk](../../../includes/cognitive-services-cmk-regions.md)]

### <a name="enable-customer-managed-keys"></a>Включить ключи, управляемые клиентом

Для хранения ключей, управляемых клиентом, необходимо использовать Azure Key Vault. Вы можете создать свои собственные ключи и хранить их в хранилище ключей, либо использовать AA-иносы Azure Key Vault для генерации ключей. Ресурс Когнитивных Служб и хранилище ключей должны находиться в одном регионе и в том же клиенте Azure Active Directory (Azure AD), но они могут быть в разных подписках. Для получения дополнительной информации о [What is Azure Key Vault?](https://docs.microsoft.com/azure/key-vault/key-vault-overview)Убежище ключей Azure см.

Новый ресурс Cognitive Services всегда шифруется с помощью ключей, управляемых корпорацией Майкрософт. Включить управляемые клиентами ключи на момент создания ресурса невозможно. Управляемые клиентом ключи хранятся в Хранилище ключей Azure, и хранилище ключей должно быть подготовлено с помощью политик доступа, которые предоставляют ключевые разрешения управляемому идентификатору, связанного с ресурсом Cognitive Services. Управляемый итог доступен сразу же после создания ресурса.

Чтобы узнать, как использовать управляемые клиентами ключи с помощью Azure Key Vault для шифрования когнитивных служб, см.:

- [Настройка ключей, управляемых клиентами, с помощью шифрования Key Vault для когнитивных услуг с портала Azure](../Encryption/cognitive-services-encryption-keys-portal.md)

Включение управляемых ключей клиента также позволит системе, назначенной управляемой идентификации, особенность Azure AD. После включения системы, назначенной управляемой идентификацией, этот ресурс будет зарегистрирован в каталоге Azure Active. После регистрации управляемому удостоверению будет предоставлен доступ к выбранной Key Vault во время установки ключей, управляемой клиентом. Вы можете узнать больше о [управляемых идентификационных данных](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview).

> [!IMPORTANT]
> Если вы отключите систему, назначенную управляемые идентификаторы, доступ к хранилищу ключей будет удален, а любые данные, зашифрованные ключами клиента, больше не будут доступны. Любые функции, зависят от этих данных, перестанут работать. Любые модели, которые вы развернули, также будут развернуты. Все загруженные данные будут удалены из пользовательского переводчика. Если управляемые идентификаторы будут перевключены, мы не будем автоматически перераспределять модель для вас.

> [!IMPORTANT]
> Сейчас управляемые удостоверения не поддерживаются в сценариях работы с разными каталогами. При настройке ключей, управляемых клиентом, на портале Azure автоматически присваивается управляемый итог под крышками. Если впоследствии вы переведете подписку, группу ресурсов или ресурс из одного каталога Azure AD в другой, управляемая идентификация, связанная с ресурсом, не передается новому арендатору, поэтому ключи, управляемые клиентом, могут больше не работать. Для получения дополнительной информации см. **Передача подписки между каталогами Azure AD** в [часто задаваемых вопросах и известными проблемами с управляемыми идентификаторами для ресурсов Azure.](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/known-issues#transferring-a-subscription-between-azure-ad-directories)  

### <a name="store-customer-managed-keys-in-azure-key-vault"></a>Храните ключи, управляемые клиентами в Хранилище ключей Azure

Для включения ключей, управляемых клиентом, необходимо использовать Хранилище ключей Azure для хранения ключей. Вы должны включить свойства **Soft Delete** и Do **Not Purge** на хранилище ключей.

Только rsA-ключи размера 2048 поддерживаются шифрованием Cognitive Services. Для получения дополнительной информации о ключах смотрите **ключи Убежища ключей** в [о клавишах, секретах и сертификатах Azure Key Vault.](https://docs.microsoft.com/azure/key-vault/about-keys-secrets-and-certificates#key-vault-keys)

> [!NOTE]
> Если все хранилище ключей удалено, ваши данные больше не будут отображаться, и все модели будут развернуты. Все загруженные данные будут удалены из пользовательского переводчика. 

### <a name="revoke-access-to-customer-managed-keys"></a>Отмена доступа к ключам, управляемым клиентами

Чтобы отозвать доступ к ключам, управляемым клиентами, используйте PowerShell или Azure CLI. Для получения дополнительной информации смотрите [ВAzure Key Vault PowerShell](https://docs.microsoft.com/powershell/module/az.keyvault//) или [Azure Key Vault CLI.](https://docs.microsoft.com/cli/azure/keyvault) Отмена доступа фактически блокирует доступ ко всем данным на ресурсе Cognitive Services, и ваши модели будут неразвернуты, так как ключ шифрования недоступен Cognitive Services. Все загруженные данные также будут удалены из пользовательского переводчика.


## <a name="next-steps"></a>Дальнейшие действия

* [Узнайте больше о Убежище ключей Azure](https://docs.microsoft.com/azure/key-vault/key-vault-overview)
