---
title: Создание набора обучающих данных для пользовательского распознавателя форм
titleSuffix: Azure Cognitive Services
description: Узнайте, как обеспечить оптимизацию набора обучающих данных для обучения модели распознавателя форм.
author: PatrickFarley
manager: nitinme
ms.service: cognitive-services
ms.subservice: forms-recognizer
ms.topic: conceptual
ms.date: 06/19/2019
ms.author: pafarley
ms.openlocfilehash: c6780d952b9ce6ea58fc6c8a2509a4526add7149
ms.sourcegitcommit: 0100d26b1cac3e55016724c30d59408ee052a9ab
ms.contentlocale: ru-RU
ms.lasthandoff: 07/07/2020
ms.locfileid: "86028253"
---
# <a name="build-a-training-data-set-for-a-custom-model"></a>Создание набора обучающих данных для пользовательской модели

При использовании настраиваемой модели распознавателя форм вы предоставляете собственные обучающие данные, чтобы модель могла обучить свои отраслевые формы. 

При обучении без ручных меток можно использовать пять заполненных форм или пустую форму (в имени файла необходимо включить слово «Empty») и две заполненные формы. Даже при наличии достаточного количества заполненных форм Добавление пустой формы в набор обучающих данных может повысить точность модели.

Если вы хотите использовать обучающие данные вручную, необходимо начать с как минимум пять заполненных форм того же типа. В дополнение к требуемому набору данных по-прежнему можно использовать непомеченные формы и пустую форму.

## <a name="training-data-tips"></a>Советы по обучению данных

Важно использовать набор данных, оптимизированный для обучения. Используйте следующие советы, чтобы получить лучшие результаты операции [обучения пользовательской модели](https://westus2.dev.cognitive.microsoft.com/docs/services/form-recognizer-api-v2/operations/TrainCustomModelAsync) .

* По возможности используйте текстовый PDF-документ вместо документов на основе изображений. Проверенные документы PDF обрабатываются как изображения.
* Для заполненных форм используйте примеры с заполненными полями.
* Используйте формы с разными значениями в каждом поле.
* Если изображения формы имеют более низкое качество, используйте более крупный набор данных (например, изображения 10-15).
* Общий размер набора обучающих данных может составлять до 500 страниц.

## <a name="general-input-requirements"></a>Общие требования к входным данным

Убедитесь, что набор обучающих данных также соответствует требованиям к входным данным для всех материалов распознавателя форм. 

[!INCLUDE [input requirements](./includes/input-requirements.md)]

## <a name="upload-your-training-data"></a>Отправка обучающих данных

После объединения набора документов формы, которые будут использоваться для обучения, необходимо передать их в контейнер хранилища BLOB-объектов Azure. Если вы не умеете создавать учетную запись хранения Azure с контейнером, [для портал Azure см. Краткое руководство по службе хранилища Azure](https://docs.microsoft.com/azure/storage/blobs/storage-quickstart-blobs-portal).

Если вы хотите использовать данные, помеченные вручную, вам также потребуется передать *.labels.js* и *.ocr.js* файлы, соответствующие учебным документам. Чтобы создать эти файлы, можно использовать [Образец средства создания меток](./quickstarts/label-tool.md) (или собственный пользовательский интерфейс).

### <a name="organize-your-data-in-subfolders-optional"></a>Упорядочение данных во вложенных папках (необязательно)

По умолчанию API для [обучения настраиваемой модели](https://westus2.dev.cognitive.microsoft.com/docs/services/form-recognizer-api-v2/operations/TrainCustomModelAsync) будет использовать только документы форм, расположенные в корне контейнера хранилища. Однако вы можете обучить данные во вложенных папках, если указать их в вызове API. Как правило, тело вызова функции [обучения пользовательской модели](https://westus2.dev.cognitive.microsoft.com/docs/services/form-recognizer-api-v2/operations/TrainCustomModelAsync) имеет следующий формат, где `<SAS URL>` — URL-адрес подписи общего доступа к контейнеру:

```json
{
  "source":"<SAS URL>"
}
```

Если добавить в текст запроса следующее содержимое, API будет обучаться с документами, расположенными во вложенных папках. `"prefix"`Поле является необязательным и будет ограничивать набор обучающих данных файлами, пути которых начинаются с заданной строки. Таким образом, значение `"Test"` , например, приведет к тому, что API будет искать только файлы и папки, которые начинаются с слова «Test».

```json
{
  "source": "<SAS URL>",
  "sourceFilter": {
    "prefix": "<prefix string>",
    "includeSubFolders": true
  },
  "useLabelFile": false
}
```

## <a name="next-steps"></a>Дальнейшие шаги

Теперь, когда вы узнали, как создать набор обучающих данных, выполните инструкции из краткого руководства по обучению настраиваемой модели распознавателя форм и начните использовать ее в своих формах.

* [Обучение модели и извлечение данных из формы с помощью функции перелистывания](./quickstarts/curl-train-extract.md)
* [Обучение модели и извлечение данных из формы с помощью REST API и Python](./quickstarts/python-train-extract.md)
* [Обучение с метками с помощью образца средства создания меток](./quickstarts/label-tool.md)
* [Обучение с использованием меток, REST API и Python](./quickstarts/python-labeled-data.md)
