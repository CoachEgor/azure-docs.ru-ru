---
title: Безопасность контейнера
titleSuffix: Azure Cognitive Services
description: Узнайте, как обезопасить контейнер
services: cognitive-services
author: aahill
manager: nitinme
ms.service: cognitive-services
ms.topic: include
ms.date: 04/01/2020
ms.author: aahi
ms.openlocfilehash: fd2a6cdad01302501e30ec60a4d3ccf6efd9c266
ms.sourcegitcommit: 2d7910337e66bbf4bd8ad47390c625f13551510b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80876842"
---
## <a name="azure-cognitive-services-container-security"></a>Безопасность контейнеров Azure Cognitive Services

Безопасность должна быть в центре внимания при разработке приложений. Важность безопасности является метрикой успеха. При разработке программного решения, включающего контейнеры Cognitive Services, очень важно понять имеющиеся у вас ограничения и возможности. Для получения дополнительной информации [Configure Azure Cognitive Services virtual networks][az-security]о сетевой безопасности см.

> [!IMPORTANT]
> По умолчанию на API контейнера Когнитивных Услуг *отсутствует безопасность.* Причина этого заключается в том, что чаще всего контейнер будет работать как часть стручка, который защищен снаружи сетевым мостом. Тем не менее, можно включить аутентификацию, которая работает одинаково для проверки подлинности, используемой при доступе к [облачным когнитивным службам.][request-authentication]

На приведенной ниже диаграмме показан подход по умолчанию и **незащищенно:**

![Безопасность контейнера](../media/container-security.svg)

В качестве альтернативного и *безопасного* подхода потребители контейнеров Cognitive Services могут пополнить контейнер фронтальной, сохраняя конечную точку контейнера частной. Рассмотрим сценарий, при котором мы используем [Istio][istio] в качестве шлюза входа. Istio поддерживает httpS/TLS и аутентификацию сертификатов клиента. В этом сценарии фронтэнд Istio предоставляет доступ к контейнеру, представляя сертификат клиента, заранее включенный в белый список с Istio.

[Nginx][nginx] является еще одним популярным выбором в той же категории. И Istio, и Nginx выступают в качестве сервисной сетки и предлагают дополнительные функции, включая такие вещи, как балансировка нагрузки, разгром и контроль скорости.

### <a name="container-networking"></a>Работа с контейнерами в сети

Контейнеры Cognitive Services обязаны представлять информацию о счетчиках для целей выставления счетов. Единственным исключением является *оффлайн контейнеров,* поскольку они следуют другой методологии выставления счетов. Непредоставление списка различных сетевых каналов, на которые опираются контейнеры Cognitive Services, не позволит контейнеру работать.

#### <a name="allow-list-cognitive-services-domains-and-ports"></a>Разрешить список доменов и портов Когнитивных Служб

Хозяин должен разрешить **список порт 443** и следующие домены:

* `*.cognitive.microsoft.com`
* `*.cognitiveservices.azure.com`

#### <a name="disable-deep-packet-inspection"></a>Отключить глубокий контроль пакетов

> [Глубокий контроль пакетов](https://en.wikipedia.org/wiki/Deep_packet_inspection) (DPI) — это тип обработки данных, который детально проверяет данные, переданные по компьютерной сети, и обычно принимает меры, блокируя, перенаправлять или регистрируя их соответствующим образом.

Отражайте DPI на защищенных каналах, которые контейнеры Cognitive Services создают для серверов Майкрософт. Невыполнение этого требования не позволит контейнеру нормально функционировать.

[istio]: https://istio.io/
[nginx]: https://www.nginx.com
[request-authentication]: ../../authentication.md
[az-security]: ../../cognitive-services-virtual-networks.md
