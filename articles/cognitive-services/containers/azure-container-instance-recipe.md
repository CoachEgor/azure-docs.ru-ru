---
title: Azure рецепт экземпляра контейнера
titleSuffix: Azure Cognitive Services
description: Дополнительные сведения о развертывании Cognitive Services контейнеры в экземпляре контейнера Azure
services: cognitive-services
author: IEvangelist
manager: nitinme
ms.custom: seodec18
ms.service: cognitive-services
ms.topic: conceptual
ms.date: 06/19/2019
ms.author: dapine
ms.openlocfilehash: db73d4e30c960eb09e6b5fbc9411901c69c28b01
ms.sourcegitcommit: a52d48238d00161be5d1ed5d04132db4de43e076
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/20/2019
ms.locfileid: "67272967"
---
# <a name="deploy-and-run-container-on-azure-container-instance-aci"></a>Развертывание и запуск контейнера на экземпляр контейнера Azure (ACI)

Приведенные ниже действия масштабирования приложений Azure Cognitive Services в облаке с помощью Azure [экземпляр контейнера](https://docs.microsoft.com/azure/container-instances/) (ACI). Это помогает сосредоточиться на создании приложений вместо управления инфраструктурой.

## <a name="prerequisites"></a>Технические условия

Это решение работает с любой контейнер Cognitive Services. Прежде чем использовать этот рецепт необходимость создания ресурса Cognitive Service на портале Azure. Каждая служба Cognitive, которая поддерживает контейнеры содержит документ «Способ установки» специально для установки и настройки службы для контейнера. Так как некоторые службы требования файла или набора файлов, как входные данные для контейнера, важно понимать и использовали контейнера успешно перед использованием этого решения.

* Ресурс Cognitive Service, созданные на портале Azure.
* Cognitive Service **URL-адрес конечной точки** -просмотрите вашей конкретной службы «как установить» для контейнера, чтобы найти расположение URL-адрес конечной точки из в на портале Azure и что правильный пример URL-адрес выглядит как. Точный формат можно изменить от службы.
* Cognitive Service **ключ** -ключи являются на **ключи** страницы для ресурса Azure. Вам потребуется только один из двух ключей. Ключ является строкой 32 буквенно цифровых символов.
* Единый Cognitive Services контейнер в ваш локальный узел (компьютер). Убедитесь, что вы можете:
  * Извлеките образ с `docker pull` команды.
  * Успешно запустить локальный контейнер с помощью все необходимые параметры конфигурации с `docker run` команды.
  * Вызовите конечную точку контейнера, возвращаясь ответ 2xx и ответ JSON.

Все переменные в угловых скобках, `<>`, необходимо заменить собственными значениями. Эта замена включает угловые скобки.

## <a name="step-2-launch-your-container-on-azure-container-instances-aci"></a>Шаг 2. Запустите контейнер в экземпляры контейнеров Azure (ACI)

**Создание ресурсов экземпляра контейнера Azure (ACI).**

1. Перейдите к [создать](https://ms.portal.azure.com/#create/Microsoft.ContainerInstances) страницы для экземпляров контейнеров.

1. На **основы** введите следующие сведения:

    |Страница|Параметр|Значение|
    |--|--|--|
    |Основы|Подписка|Выберите свою подписку.|
    |Основы|Группа ресурсов|Выберите группу доступных ресурсов или создайте новую, такие как `cognitive-services`.|
    |Основы|Имя контейнера|Введите имя, такое как `cognitive-container-instance`. Это имя должно быть в нижнем caps.|
    |Основы|Расположение|Выберите регион для развертывания.|
    |Основы|Тип образа|`Public`|
    |Основы|Имя образа|Укажите расположение контейнера Cognitive Services. Это может быть расположение, которое использовалось в `docker pull` команде _например_: <br>`mcr.microsoft.com/azure-cognitive-services/sentiment`|
    |Основы|Тип ОС|`Linux`|
    |Основы|Размер|Измените размер на предлагаемые рекомендации для конкретного контейнера Cognitive Service.:<br>2 ядра<br>4 ГБ
    ||||
  
1. На **сети** введите следующие сведения:

    |Страница|Параметр|Значение|
    |--|--|--|
    |Сеть|порты;|Изменить существующий порт для протокола TCP из `80` для `5000`. Это означает, что вы предоставляете контейнера с портом 5000.|
    ||||

1. На **Дополнительно** введите следующие сведения для передачи через контейнер требуется выставления счетов параметры ресурсов экземпляра контейнера:

    |Страница "Дополнительно" ключа|Страница "Дополнительно" значение|
    |--|--|
    |`apikey`|Копируются из **ключи** страницу ресурса. Требуется только один из двух ключей. Это строка 32 буквенно-цифровых символов без пробелов и дефисов, `xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`.|
    |`billing`|Копируются из **Обзор** страницу ресурса. |
    |`eula`|`accept`|

    Если контейнер имеет другие параметры конфигурации, такие как входные подключение, подключение выходных данных или ведения журнала, эти параметры также должны быть добавлены.

1. Выберите **проверка и создание**.
1. После успешной проверке выберите **создать** для завершения процесса создания.
1. Щелкните значок колокольчика в верхней панели навигации. Это окно уведомлений. Появится синяя **перейти к ресурсу** кнопку при создании ресурса. Выберите эту кнопку, чтобы перейти в новый ресурс.

## <a name="use-the-container-instance"></a>Использование экземпляра контейнера

1. Выберите **Обзор** и скопируйте IP-адрес. Это будет быть числовой IP-адрес, например `55.55.55.55`.
1. Откройте новую вкладку браузера и использование IP-адреса, например, `http://<IP-address>:5000 (http://55.55.55.55:5000`). Вы увидите домашнюю страницу контейнера, сообщая о выполняется контейнер.

1. Выберите **описания API службы** на странице swagger для контейнера.

1. Выберите любой из **POST** API-интерфейсы и выберите **попробовать**.  Параметры отображаются в том числе входных данных. Заполните параметры.

1. Выберите **Execute** для отправки запроса к экземпляру контейнера.

    Вы успешно создали и используются контейнеры Cognitive Services в экземпляре контейнера Azure.
