---
title: Когда следует использовать сущности ENUM и ЗАДАВАТЬ действия СУЩНОСТей с помощью Conversation Learnerной модели Azure Cognitive Services | Документация Майкрософт
titleSuffix: Azure
description: Узнайте, когда нужно использовать сущности ПЕРЕЧИСЛЕНИЯ и задать действия СУЩНОСТей с помощью Conversation Learnerной модели.
services: cognitive-services
author: v-jaswel
manager: nolachar
ms.service: cognitive-services
ms.subservice: conversation-learner
ms.topic: article
ms.date: 04/30/2018
ms.author: nitinme
ROBOTS: NOINDEX
ms.openlocfilehash: 429570d81f7e15758d8ea60951bb4d01b96f8f2c
ms.sourcegitcommit: 267a9f62af9795698e1958a038feb7ff79e77909
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2019
ms.locfileid: "70256487"
---
# <a name="when-to-use-enum-entities-and-set-entity-actions"></a>Когда следует использовать сущности ПЕРЕЧИСЛЕНИЯ и ЗАДАВАТЬ действия СУЩНОСТИ

В этом учебнике объясняется, когда следует использовать сущности ENUM (enumeration) и действия SET_ENTITY.

## <a name="video"></a>Видео

[![Задать предварительную версию учебника по сущностям](https://aka.ms/cl_Tutorial_v3_SetEntity_Preview)](https://aka.ms/cl_Tutorial_v3_SetEntity)



## <a name="what-is-covered"></a>Темы статьи

В этом учебнике будут представлены две новые функции. Новый тип сущности, именуемый ENUM (Short для перечисления), и новый тип действия с именем SET_ENTITY, который может ссылаться на одно из этих значений перечисления, и, как предполагается в имени, присваивает сущности это значение. Как вы узнаете ниже, эти новые функции будут использоваться вместе, и мы объясним, что они представляют, и как использовать их ниже. Прежде чем приступать к деталям, важно понять, какая проблема позволяет решить эти функции.

![enum_entity_type.png](../media/tutorial-enum-set-entity/enum_entity_type.png)
![action_set_entity_type.png](../media/tutorial-enum-set-entity/action_set_entity_type.png)

## <a name="problem"></a>Проблема

Бывают случаи, когда смысл слов зависит от контекста.  Обычно помеченные ключевые слова помечаются и извлекаются с помощью службы понимания языка, но в таких случаях эти системы могут не иметь возможности изучать использование помеченных примеров.

Представьте, что вы оверхеар часть беседы между людьми, и вы слышите слово «Да». Вы не будете знать, что "Да" принимаете или подтверждаете согласие, так как вы не слышите вопрос, запросили. Вопрос, запрошенный ранее, является контекстом, который дает смысл ответу. Аналогично, так как "Да" — это распространенный ответ на множество различных вопросов, его нельзя узнать, предоставив примеры, как это делается с [пользовательскими обученными](04-introduction-to-entities.md) сущностями, так как затем он научился помечать каждую "Yes" как эту сущность.

### <a name="example"></a>Пример

Рассмотрим следующий пример:

Библиотека Вы хотите использовать Azure Cognitive Services?
User: Да робот: Вы хотите использовать Ice?
User: Да

В предыдущих руководствах мы рассматривали [пользовательскую обученную](04-introduction-to-entities.md) сущность, и первоначальной мыслью может быть создание сущности с именем «ликескогсервицес» и пометка первой «Yes» в качестве сущности.  Однако система также помечает второй "Yes". При попытке исправить метку второго "Yes" на "Ликесицекреам", мы бы создали конфликт двух одинаковых входных значений "Да", что приведет к разным действиям и будет зависнуть.

В этих случаях необходимо использовать сущности ENUM и SET_ENTITY действия.

## <a name="when-to-use-enums-or-set_entity-actions"></a>Когда следует использовать ПЕРЕЧИСЛЕНИЯ или действия SET_ENTITY

Используйте приведенные ниже правила, чтобы выяснить, когда следует использовать сущности ENUM и SET_ENTITY действия.

- Обнаружение или Настройка сущности зависит от контекста
- Допустимое количество допустимых значений (да, а "нет" — два значения)

Иными словами, используйте их для всех закрытых запросов, таких как подтверждение, которое всегда приводит к положительному или нулевому результату.

> [!NOTE]
> Сейчас у нас есть ограничение до 5 значений на сущность Enum. Каждое значение использует один из слотов в текущем 64ом ограничении. См. раздел [CL-Values-and-границы](../cl-values-and-boundaries.md) .

Пример: Библиотека Правильный ли порядок?
User: Да

Если возможные значения сущности открыты и не исправлены, необходимо использовать альтернативную функцию, например [ожидаемую сущность](05-expected-entity.md).

Пример: Библиотека Как вас зовут?
User: Мэтт Bot: Какой цвет предпочтительнее?
User: Серебряный

Эти запросы считаются открытыми-законченными, так как ответы на них могут быть получены произвольными значениями.

## <a name="what"></a>Что

### <a name="enum-entities"></a>Перечислить сущности

Сущности ПЕРЕЧИСЛЕНИЯ создаются так же, как и другие сущности. Как и в случае с "программными" сущностями, в качестве этих сущностей нельзя помечать слова. Вместо этого они должны быть заданы с помощью кода или действий SET_ENTITY.

![enum_entity_creation. png](../media/tutorial-enum-set-entity/enum_entity_creation.png)

### <a name="set-entity-actions"></a>Задание действий сущности

Как упоминалось выше, действия "задать сущность" просто устанавливают сущность в известное значение перечисления. Те же результаты можно получить, создав действие обратного вызова API и используя диспетчер памяти, чтобы присвоить сущности значение. Например, `memory.Set(entityName, entityValue)`. Написание этого кода и создание этих действий станет утомительным и сложным в управлении, поэтому Conversation Learner имеет специальные действия для упрощения этой работы и автоматического создания этих действий при их использовании. Наличие таких как независимых действий позволяет сохранить их, не прибегая к другим действиям или коду в Bot.

- Операции Set Entity можно создавать только при ссылке на значение сущности Enum, поэтому сначала необходимо создать сущность Enum.
- Операции Set Entity также являются "не ожидающими", так как они не имеют видимых выходных данных и должны следовать действию "Wait", которое может видеть пользователь.
- Операции Set Entity не являются изменяемыми, поэтому их нельзя изменить после создания.

![action_set_entity_creation.png](../media/tutorial-enum-set-entity/action_set_entity_creation.png)

### <a name="automatic-action-generation"></a>Автоматическое создание действий

Если сущность enum существует в модели, Conversation Learner создаст действия заполнителя для каждого из возможных значений и сделает их доступными для выбора во время обучения. После выбора действие будет создано автоматически.

Например, если я создаю сущность enum со значениями "Yes" и "No":

![enum_entity_order_confirmation. png](../media/tutorial-enum-set-entity/enum_entity_order_confirmation.png)

Даже без явного создания действий для этого нового перечисления вы увидите два новых действия, доступные во время обучения:

![action_set_entity_sample.png](../media/tutorial-enum-set-entity/action_set_entity_sample.png)


## <a name="create-a-bot-using-these-new-features"></a>Создание программы-робота с помощью этих новых функций

### <a name="requirements"></a>Требования

Для работы с этим руководством требуется запущенный бот обучения общего назначения.

    npm run tutorial-general

Мы создадим робот для имитации быстрого заказа пищи. Он будет иметь дискретные значения для размеров напитки и фри (малый/средний/крупный) и контрольные вопросы с да/нет ответов. Обе эти сущности соответствуют двум приведенным выше правилам для ответов, зависящих от контекста, и фиксированных значений.

### <a name="create-the-model"></a>Создание модели

1. В пользовательском веб-интерфейсе щелкните "Импорт".
2. Выберите учебник с именем "Руководство-enum-Set-Entity".

Откроется страница "Управление моделями".
Обратите внимание, что модель уже содержит несколько сущностей перечисления и действия по заданию сущности.

### <a name="create-the-first-dialog"></a>Создание первого диалога

1. На панели навигации слева щелкните "обучение диалогов", а затем нажмите кнопку "новое диалоговое окно".
2. В качестве типа пользователя в «Привет, я хотел бы заказать Coke и фри».
3. Нажмите кнопку "действия оценки"

   > Пользователь не указал размеры для напитки или фри, поэтому нам нужно спросить их.

4. Выберите действие с ответом: «Какой размер вам нравится?»
5. Как тип пользователя в, "крупный"
6. Нажмите кнопку "действия оценки"
7. Выберите действие SET_ENTITY-"Дринксизе: ДОСТАТОЧ
8. Выберите действие с ответом: «Какой размер фри?»
9. Как тип использования в, "UM", сделайте их средним.
10. Нажмите кнопку "действия оценки"
11. Выберите действие SET_ENTITY-"Фриессизе: ВЫСОКОЕ
12. Выберите действие с ответом: «Вы хотите «специи»?»
13. Как тип использования в, "Да"
14. Нажмите кнопку "действия оценки"
15. Выберите действие SET_ENTITY-"Кондиментсконфирматион: ДА
16. Выберите действие с ответом: "Ладно, у меня есть заказ на большой напитки и средний фри. Верно?»
17. Как тип использования в, "Да"
18. Нажмите кнопку "действия оценки"
19. Выберите действие SET_ENTITY-"Ордерконфирматион: ДА
20. Выберите действие с ответом: "ОК, номер заказа — 58. Подождите...
21. Нажмите кнопку "Сохранить", чтобы закрыть диалоговое окно

Вы только что создали первое диалоговое окно с помощью сущностей ENUM и действий SET_ENTITY. Вы можете сделать гораздо больше сочетаний пользователя, указав частичную информацию, или экспериментов с другими типами вопросов с близкими окончаниями.

> [!NOTE]
> Во время обучения вы увидите местозаполнители для таких действий SET_ENTITY, как
>
> ![action_set_entity_training.png](../media/tutorial-enum-set-entity/action_set_entity_training.png)
>
> но при создании диалоговых окон журнала или при использовании развернутых пользователей программы-роботы они не будут видны.

## <a name="next-steps"></a>Следующие шаги

> [!div class="nextstepaction"]
> [Альтернативные входные данные](./10-alternative-inputs.md)
