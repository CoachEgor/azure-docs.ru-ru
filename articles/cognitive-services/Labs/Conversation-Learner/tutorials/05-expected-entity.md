---
title: Использование свойства "ожидаемые сущности" в действиях Conversation Learner — Microsoft Cognitive Services | Документация Майкрософт
titleSuffix: Azure
description: Узнайте, как использовать свойство "ожидаемые сущности" в модели Conversation Learner.
services: cognitive-services
author: nitinme
manager: nolachar
ms.service: cognitive-services
ms.subservice: conversation-learner
ms.topic: article
ms.date: 04/30/2018
ms.author: nitinme
ms.openlocfilehash: 48a8abd401ff7191da4709c726042b566d140b78
ms.sourcegitcommit: 3d4121badd265e99d1177a7c78edfa55ed7a9626
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/30/2019
ms.locfileid: "66387825"
---
# <a name="how-to-use-the-expected-entity-property-of-actions"></a>Использование свойства "ожидаемые сущности" в действиях

В этом учебнике демонстрируется назначение поля "Ожидаемые сущности" в свойствах действия.

## <a name="video"></a>Видео

[![Предварительная версия учебника об ожидаемых сущностях](https://aka.ms/cl_Tutorial_v3_ExpectedEntity_Preview)](https://aka.ms/cl_Tutorial_v3_ExpectedEntity)

## <a name="requirements"></a>Требования
Для работы с этим руководством требуется запущенный бот обучения общего назначения.

    npm run tutorial-general

## <a name="details"></a>Сведения
С помощью свойства действия "ожидаемая сущность" можно сохранить ответ пользователя на это действие в сущности.

При добавлении сущностей в свойство действия "ожидаемая сущность" система делает следующее.

1. Сначала пытается сопоставить сущности с помощью модели извлечения сущностей на основе машинного обучения.
2. Сохраняет полное высказывание пользователя в $entity, используя эвристический подход, если сущности не найдены.
3. Вызывает `EntityDetectionCallback` и переходит к выбору действия.

## <a name="steps"></a>Действия

### <a name="create-the-model"></a>Создание модели

1. В пользовательском веб-интерфейсе щелкните "Создать модель".
2. В поле "Имя" введите ExpectedEntities и нажмите клавишу ВВОД.
3. Нажмите кнопку "Создать".

### <a name="entity-creation"></a>Создание сущности

1. На левой панели щелкните "Сущности", а затем нажмите кнопку "Создать сущность".
2. Выберите "Пользовательская обучаемая" в поле "Тип сущности".
3. В поле "Имя сущности" укажите name (имя).
4. Нажмите кнопку "Создать".

> [!NOTE]
> Тип сущности "Пользовательская обучаемая" означает, что эту сущность можно обучить в отличие от других типов сущностей.

![](../media/tutorial4_entities.PNG)

### <a name="create-the-first-action"></a>Создание первого действия

1. На левой панели щелкните "Действия", а затем нажмите кнопку "Создать действие".
2. В поле "Ответ бота..." введите What's your name? (Как вас зовут?).
3. В поле "Ожидаемые сущности" введите name (имя).
4. Нажмите кнопку "Создать".

> [!NOTE]
> Сущности, обнаруженные и извлеченные из ответа пользователя, будут сохраняться в сущность name (имя), если вы выбрали это действие. Если сущности не обнаружены, весь ответ будет сохраняться в этой сущности.

### <a name="create-the-second-action"></a>Создание второго действия

1. На левой панели щелкните "Действия", а затем нажмите кнопку "Создать действие".
2. В поле "Ответ бота..." введите Hi $name! (Привет, $имя!).
3. Нажмите кнопку "Создать".

> [!NOTE]
> Сущность name (имя) была автоматически добавлена как "Обязательная сущность" с помощью ссылки в ответе.

Теперь у вас есть два действия.

![](../media/tutorial4_actions.PNG)

### <a name="train-the-model"></a>Обучение модели

1. На левой панели щелкните "Обучающие диалоги" и нажмите кнопку "Создать обучающий диалог".
2. На панели чата, на которой отображается надпись "Введите текст сообщения...", введите hi (привет).
    - Эта процедура имитирует реплику пользователя.
3. Нажмите кнопку "Оценить действия".
4. Выберите ответ What's your name? (Как вас зовут?).
    - Ответ Hi $name! (Привет, $имя!) нельзя выбрать, так как этот ответ требует, чтобы в памяти модели была определена сущность name (имя).
5. На панели чата, на которой отображается надпись "Введите текст сообщения...", введите текст Frank (Фрэнк).
    - Frank будет выделен как сущность на основании эвристики, которую мы настроили ранее, чтобы сохранить ответ как сущность.
6. Нажмите кнопку "Оценить действия".
    - Сущность name (имя) теперь определяется как Frank в памяти модели, поэтому действие Hello $name (Привет, $имя) можно выбрать.
7. Выберите ответ Hi $name! (Привет, $имя!).
8. Нажмите кнопку "Сохранить".

Добавление альтернативных данных расширяет обучение модели.

1. В поле "Добавить альтернативный ввод…" введите I'm Jose (Я Хосе).
    - Модель не распознает имя как сущность и выбирает весь блок текста как значение сущности.
2. Нажмите на фразу I'm Jose (Я Хосе) и щелкните значок корзины.
3. Щелкните Jose (Хосе), а затем нажмите name (имя) в списке сущностей.
4. Щелкните Score Actions (Оценить действия).
5. Выберите ответ Hi Frank! (Привет, Фрэнк!).
6. Нажмите кнопку "Сохранить".

![](../media/tutorial4_dialogs.PNG)

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Отрицаемые сущности](./06-negatable-entities.md)
