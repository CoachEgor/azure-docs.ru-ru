---
title: Демонстрационную модель Conversation Learner для заказа пиццы Microsoft Cognitive Services | Документация Майкрософт
titleSuffix: Azure
description: Узнайте, как создать демонстрационную модель Conversation Learner.
services: cognitive-services
author: nitinme
manager: nolachar
ms.service: cognitive-services
ms.subservice: conversation-learner
ms.topic: article
ms.date: 04/30/2018
ms.author: nitinme
ROBOTS: NOINDEX
ms.openlocfilehash: 4d42121468b8a875ecd13fb936d810728bd4b644
ms.sourcegitcommit: ad9120a73d5072aac478f33b4dad47bf63aa1aaa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/01/2019
ms.locfileid: "68703425"
---
# <a name="demo-pizza-order"></a>Демонстрация: заказ пиццы
В этой демонстрации показан бот для заказа пиццы, который позволяет заказать одну пиццу за счет решения следующих задач:

- распознавание начинок для пиццы из высказываний пользователя;
- управление перечнем начинок и формирование ответов для пользователя;
- запоминание предыдущих заказов и сокращение времени выполнения последующих заказов такой же пиццы.

## <a name="video"></a>Видео

[![Предварительная версия демонстрации заказа пиццы](https://aka.ms/cl_Tutorial_v3_DemoPizzaOrder_Preview)](https://aka.ms/cl_Tutorial_v3_DemoPizzaOrder)

## <a name="requirements"></a>Требования
Для работы с этим руководством требуется запущенный бот заказа пиццы.

    npm run demo-pizza

### <a name="open-the-demo"></a>Запуск демонстрационного примера

Откройте список моделей пользовательского веб-интерфейса и выберите TutorialDemo Pizza Order (Демонстрационный пример для заказа пиццы). 

## <a name="entities"></a>Сущности

Модель включает три сущности:

- Toppings — содержит указанные пользователем начинки, если они есть.
- OutofStock — сообщает пользователю об отсутствии выбранной начинки.
- LastToppings — содержит начинки из предыдущего заказа.

![](../media/tutorial_pizza_entities.PNG)

### <a name="actions"></a>Действия

Модель содержит набор действий, которые запрашивают у пользователя текущие выбранные начинки, предыдущие начинки и другое.

Также существуют два вызова API.

- FinalizeOrder — выполняет обработку заказа.
- UseLastToppings — обрабатывает предыдущую информацию о начинках.

![](../media/tutorial_pizza_actions.PNG)

### <a name="training-dialogs"></a>Обучающие диалоги

В модели есть несколько обучающих диалогов.

![](../media/tutorial_pizza_dialogs.PNG)

Давайте еще немного обучим модель, создав еще один обучающий диалог.

1. На левой панели щелкните "Обучающие диалоги" и нажмите кнопку "Создать обучающий диалог".
2. На панели чата, на которой отображается надпись "Введите текст сообщения...", введите текст Order a pizza with cheese (Заказать пиццу с сыром).
    - Модуль извлечения сущностей извлекает слово cheese (сыр).
3. Нажмите кнопку "Оценить действия".
4. Выберите ответ You have cheese on your pizza (К пицце добавлен сыр).
5. Выберите ответ Would you like anything else? (Вы хотите добавить что-то еще?).
6. На панели чата, на которой отображается надпись "Введите текст сообщения...", введите текст add mushrooms and peppers (добавить грибы и перец).
7. Нажмите кнопку "Оценить действия".
8. Выберите ответ You have cheese, mushrooms and peppers on your pizza (К пицце добавлены сыр, грибы и перец).
9. Выберите ответ Would you like anything else? (Вы хотите добавить что-то еще?).
10. На панели чата, на которой отображается надпись "Введите текст сообщения...", введите текст remove peppers and add sausage (удалить перец и добавить колбасу).
11. Нажмите кнопку "Оценить действия".
12. Выберите ответ You have cheese, mushrooms and sausage on your pizza (К пицце добавлены сыр, грибы и колбаса).
13. Выберите ответ Would you like anything else? (Вы хотите добавить что-то еще?).
14. На панели чата, на которой отображается надпись "Введите текст сообщения...", введите текст add yam (добавить сладкий картофель).
15. Нажмите кнопку "Оценить действия".
    - Значение yam (сладкий картофель) было добавлено в OutofStock кодом обратного вызова обнаружения сущностей, так как это значение не соответствует ни одному из поддерживаемых ингредиентов.
16. Выберите ответ OutOfStock (Нет в наличии).
17. Выберите ответ Would you like anything else? (Вы хотите добавить что-то еще?).
18. На панели чата, на которой отображается надпись "Введите текст сообщения...", введите текст no (Нет).
    - Слову no (Нет) не соответствует ни одно намерение. Вместо этого мы выберем соответствующее действие на основе текущего контекста.
19. Нажмите кнопку "Оценить действия".
20. Выберите ответ FinalizeOrder (Завершить обработку заказа).
    - При выборе этого действия текущие выбранные начинки сохраняются в сущность LastToppings, и код обратного вызова FinalizeOrder удаляет сущность Toppings.
21. На панели чата, на которой отображается надпись "Введите текст сообщения...", введите текст order another (Создать другой заказ).
22. Нажмите кнопку "Оценить действия".
23. Выберите ответ Would you like cheese, mushrooms and sausage? ("Вы хотите добавить сыр, грибы и колбасу?").
    - Сейчас это действие доступно, так как создана сущность LastToppings.
24. На панели чата, на которой отображается надпись "Введите текст сообщения...", введите текст yes (Да).
25. Нажмите кнопку "Оценить действия".
26. Выберите ответ UseLastToppings (Использовать предыдущие начинки).
27. Выберите ответ You have cheese, mushrooms and sausage on your pizza (К пицце добавлены сыр, грибы и колбаса).
28. Выберите ответ Would you like anything else? (Вы хотите добавить что-то еще?).

![](../media/tutorial_pizza_callbackcode.PNG)

![](../media/tutorial_pizza_apicalls.PNG)

## <a name="next-steps"></a>Следующие шаги

> [!div class="nextstepaction"]
> [Развертывание бота приложения Conversation Learner](../deploy-to-bf.md)
