---
title: Мониторинг метрик сервера служб Azure Analysis Services | Документация Майкрософт
description: Узнайте, как Analysis Services использовать Azure обозреватель метрик — бесплатное средство на портале, которое поможет вам отслеживать производительность и работоспособность серверов.
author: minewiskan
ms.service: azure-analysis-services
ms.topic: conceptual
ms.date: 10/30/2019
ms.author: owend
ms.reviewer: minewiskan
ms.openlocfilehash: 9e6eab38e0f7bd55fa671aa8c1e99693eeb54c84
ms.sourcegitcommit: f4d8f4e48c49bd3bc15ee7e5a77bee3164a5ae1b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73572735"
---
# <a name="monitor-server-metrics"></a>Мониторинг метрик службы

Analysis Services предоставляет метрики в Azure обозреватель метрик — бесплатное средство на портале, помогающее отслеживать производительность и работоспособность серверов. Например, вы можете отслеживать показатели использования памяти и ЦП, число клиентских подключений и объемы потребления ресурсов запросов. Службы Analysis Services используют ту же платформу мониторинга, что и большинство других служб Azure. Дополнительные сведения см. в статье [Приступая к работе с Azure обозреватель метрик](../azure-monitor/platform/metrics-getting-started.md).

Чтобы выполнить более подробную диагностику, отслеживание производительности и определение тенденций по нескольким ресурсам служб в группе ресурсов или подписке, используйте [Azure Monitor](../azure-monitor/overview.md). За использование службы Azure Monitor может взиматься плата.


## <a name="to-monitor-metrics-for-an-analysis-services-server"></a>Мониторинг метрик сервера служб Analysis Services

1. На портале Azure щелкните **Метрики**.

    ![Мониторинг на портале Azure](./media/analysis-services-monitor/aas-monitor-portal.png)

2. В поле **Метрика**выберите метрики для включения в диаграмму. 

    ![Диаграмма мониторинга](./media/analysis-services-monitor/aas-monitor-chart.png)

<a id="#server-metrics"></a>

## <a name="server-metrics"></a>Метрики сервера

Используйте эту таблицу для определения метрик, наиболее подходящих для вашего сценария мониторинга. На одной диаграмме могут отображаться только метрики с одинаковыми единицами измерения.

|Метрика|Отображаемое имя метрики|Единица измерения|Тип статистической обработки|Description (Описание)|
|---|---|---|---|---|
|CommandPoolJobQueueLength|Длина очереди заданий пула команд|Count|Средняя|Число заданий в очереди пула потоков команд.|
|CurrentConnections|Подключение: текущие подключения|Count|Средняя|Текущее число установленных клиентских подключений.|
|CurrentUserSessions|Текущие пользовательские сеансы|Count|Средняя|Текущее число установленных пользовательских сеансов.|
|mashup_engine_memory_metric|Память подсистемы M|Байты|Средняя|Использование памяти процессами подсистемы гибридных веб-приложений|
|mashup_engine_qpu_metric|QPU подсистемы M|Count|Средняя|Использование QPU процессами подсистемы гибридных веб-приложений|
|memory_metric|Память|Байты|Средняя|Память. Диапазоны: 0–25 ГБ для S1, 0–50 ГБ для S2 и 0–100 ГБ для S4.|
|memory_thrashing_metric|Пробуксовка памяти|Процент|Средняя|Среднее значение пробуксовки памяти.|
|CleanerCurrentPrice|Память: текущая цена очистки|Count|Средняя|Текущая цена памяти, $/байт/время, нормализованная до 1000.|
|CleanerMemoryNonshrinkable|Память: несжимаемая память очистки|Байты|Средняя|Объем памяти (в байтах), недоступной для очистки с помощью средства фоновой очистки.|
|CleanerMemoryShrinkable|Память: сжимаемая память очистки|Байты|Средняя|Объем памяти (в байтах), доступной для очистки с помощью средства фоновой очистки.|
|MemoryLimitHard|Память: твердый лимит памяти|Байты|Средняя|Твердый лимит памяти, из файла конфигурации.|
|MemoryLimitHigh|Память: верхний предел памяти|Байты|Средняя|Верхняя граница объема памяти, из файла конфигурации.|
|MemoryLimitLow|Память: нижний предел памяти|Байты|Средняя|Нижняя граница объема памяти, из файла конфигурации.|
|MemoryLimitVertiPaq|Память: ограничение памяти VertiPaq|Байты|Средняя|Ограничение памяти, из файла конфигурации.|
|MemoryUsage|Память: использование памяти|Байты|Средняя|Использование памяти процессом сервера согласно вычислениям стоимости памяти очистки. Равно сумме значений счетчика Process\PrivateBytes и объема сопоставленных в памяти данных за вычетом памяти, сопоставленной или выделенной в подсистеме, выполняющейся в памяти аналитики (VertiPaq) сверх предела памяти подсистемы.|
|private_bytes_metric|Байты исключительного пользования |Байты|Средняя|Общий объем памяти, выделенный процессу обработчика Analysis Services и гибридных процессов контейнера, не включая память, совместно используемую другими процессами.|
|virtual_bytes_metric|Байт виртуальной памяти |Байты|Средняя|Текущий размер виртуального адресного пространства, используемого Analysis Services процессами подсистемы и гибридными процессами контейнера.|
|mashup_engine_private_bytes_metric|Байт исключительного числа модулей M |Байты|Средняя|Общий объем памяти, выделенный для процессов контейнера гибридного приложения, не включая память, совместно используемую другими процессами.|
|mashup_engine_virtual_bytes_metric|Виртуальный байт модуля M |Байты|Средняя|Текущий размер виртуального адресного пространства для гибридных процессов контейнеров использует.|
|Quota|Память: квота|Байты|Средняя|Текущая квота памяти, в байтах. Квота памяти также называется выделением или резервированием памяти.|
|QuotaBlocked|Память: заблокировано квот|Count|Средняя|Текущее число запросов на квоту, заблокированных до высвобождения других квот памяти.|
|VertiPaqNonpaged|Память: размер нестраничных данных VertiPaq|Байты|Средняя|Размер памяти (в байтах), заблокированной в рабочем множестве для использования в подсистеме памяти.|
|VertiPaqPaged|Память: размер страничных данных VertiPaq|Байты|Средняя|Размер памяти (в байтах), занятой страничными данными в памяти.|
|ProcessingPoolJobQueueLength|Длина очереди заданий пула обработки|Count|Средняя|Количество заданий, не связанных с вводом-выводом, в очереди пула потоков обработки.|
|RowsConvertedPerSec|Обработка: преобразовано строк в секунду|Число/с|Средняя|Интенсивность преобразованных в ходе обработки строк.|
|RowsReadPerSec|Обработка: считано строк в секунду|Число/с|Средняя|Интенсивность считывания строк из всех реляционных баз данных.|
|RowsWrittenPerSec|Обработка: записано строк в секунду|Число/с|Средняя|Интенсивность записанных в ходе обработки строк.|
|qpu_metric|QPU|Count|Средняя|QPU. Диапазоны: 0–100 для S1, 0–200 для S2 и 0–400 для S4.|
|QueryPoolBusyThreads|Занятые потоки в пуле запросов|Count|Средняя|Число занятых потоков в пуле потоков запросов.|
|SuccessfullConnectionsPerSec|Число успешных подключений в секунду|Число/с|Средняя|Частота успешных установок подключений.|
|CommandPoolBusyThreads|Потоки: занятые потоки в пуле команд|Count|Средняя|Число занятых потоков в пуле потоков команд.|
|CommandPoolIdleThreads|Потоки: бездействующие потоки в пуле команд|Count|Средняя|Число бездействующих потоков в пуле потоков команд.|
|LongParsingBusyThreads|Потоки: занятые потоки продолжительного анализа|Count|Средняя|Число занятых потоков в пуле потоков продолжительного анализа.|
|LongParsingIdleThreads|Потоки: бездействующие потоки продолжительного анализа|Count|Средняя|Число бездействующих потоков в пуле потоков продолжительного анализа.|
|LongParsingJobQueueLength|Потоки: длина очереди заданий продолжительного анализа|Count|Средняя|Число заданий в очереди пула потоков продолжительного анализа.|
|ProcessingPoolIOJobQueueLength|Потоки: длина очереди заданий ввода-вывода пула обработки|Count|Средняя|Количество заданий ввода-вывода в очереди пула потоков обработки.|
|ProcessingPoolBusyIOJobThreads|Потоки: занятые потоки ввода-вывода в пуле обработки заданий|Count|Средняя|Количество потоков, выполняющих задания ввода-вывода, в пуле потоков обработки.|
|ProcessingPoolBusyNonIOThreads|Потоки: занятые потоки в пуле обработки, не связанные с вводом-выводом|Count|Средняя|Количество потоков, выполняющих задания, не связанные с вводом-выводом в пуле потоков обработки.|
|ProcessingPoolIdleIOJobThreads|Потоки: бездействующие потоки ввода-вывода в пуле обработки заданий|Count|Средняя|Количество бездействующих потоков, выполняющих задания ввода-вывода, в пуле потоков обработки.|
|ProcessingPoolIdleNonIOThreads|Потоки: бездействующие потоки в пуле обработки, не связанные с вводом-выводом|Count|Средняя|Количество бездействующих потоков в пуле потоков обработки, выделенных для заданий, не связанных с вводом-выводом.|
|QueryPoolIdleThreads|Потоки: бездействующие потоки в пуле запросов|Count|Средняя|Количество бездействующих потоков, выполняющих задания ввода-вывода, в пуле потоков обработки.|
|QueryPoolJobQueueLength|Потоки: длина очереди заданий пула запросов|Count|Средняя|Число заданий в очереди пула потоков запросов.|
|ShortParsingBusyThreads|Потоки: занятые потоки быстрого анализа|Count|Средняя|Число занятых потоков в пуле потоков быстрого анализа.|
|ShortParsingIdleThreads|Потоки: бездействующие потоки быстрого анализа|Count|Средняя|Число бездействующих потоков в пуле потоков быстрого анализа.|
|ShortParsingJobQueueLength|Потоки: длина очереди заданий быстрого анализа|Count|Средняя|Число заданий в очереди пула потоков быстрого анализа.|
|TotalConnectionFailures|Общее число неудачных подключений|Count|Средняя|Общее число неудачных попыток подключения.|
|TotalConnectionRequests|Общее число запросов на подключение|Count|Средняя|Общее число запросов на подключение. |

## <a name="next-steps"></a>Дальнейшие действия
[Обзор Azure Monitor](../azure-monitor/overview.md)      
[Приступая к работе с Azure обозреватель метрик](../azure-monitor/platform/metrics-getting-started.md)      
[Метрики в Azure Monitor REST API](/rest/api/monitor/metrics)
