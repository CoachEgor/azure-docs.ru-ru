---
title: Создание технических активов для виртуального предложения машины для Azure Marketplace
description: В этой статье объясняется, как создать технические ресурсы для предложения виртуальной машине в Azure Marketplace.
author: dsindona
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: conceptual
ms.date: 08/20/2018
ms.author: dsindona
ms.openlocfilehash: a62af1d8d751d36150c236280077cde8f6547385
ms.sourcegitcommit: 530e2d56fc3b91c520d3714a7fe4e8e0b75480c8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81273976"
---
# <a name="create-technical-assets-for-a-virtual-machine-offer"></a>Создание технических ресурсов для предложения виртуальной машины

> [!IMPORTANT]
> С 13 апреля 2020 года мы начнем управление вашим предложением Azure Virtual Machine в Партнерский центр. После миграции вы будете создавать и управлять своими предложениями в Partner Center. Следуйте инструкциям в [создании технических активов Azure Virtual Machine](https://aka.ms/AzureVMTechAsset) для управления мигрированными предложениями.

В этой статье описана процедура создания и настройки технических ресурсов для предложения виртуальной машины в Azure Marketplace.  Виртуальная машина содержит два компонента: виртуальный жесткий диск (VHD) решения и дополнительные связанные диски данных.  

- *Виртуальные жесткие диски (VHD)*, содержащие операционную систему и решение, которые будут развернуты вместе с предложением Azure Marketplace. Процесс подготовки VHD отличается в зависимости от типа виртуальной машины: Linux, Windows или пользовательская.
- *Диски данных* представляют выделенное постоянное хранилище для виртуальной машины. *Не используйте* виртуальный жесткий диск решения (например, диск `C:`) для хранения постоянных данных.

Образ VM содержит один диск операционной системы и от нуля до нескольких дисков данных. Для одного диска требуется один VHD. VHD необходимо создавать даже для пустых дисков данных.
Необходимо настроить ОС виртуальной машины, размер виртуальной машины, открываемые порты и до 15 присоединенных дисков данных.

> [!TIP] 
> Вне зависимости от используемой операционной системы добавляйте минимальное количество дисков данных, необходимое для номера SKU. Ваши клиенты не смогут удалить диски, которые являются частью образа, на стадии развертывания, однако всегда смогут добавить новые диски во время или после развертывания. 

> [!IMPORTANT]
> *Не изменяйте число дисков в новой версии образа.*  Если в образе необходимо перенастроить диски с данными, определите новый SKU. Публикация новой версии образа с другим числом дисков может привести к ошибке нового развертывания на основе новой версии образа в случае автоматического масштабирования, автоматического развертывания решений с помощью шаблонов Azure Resource Manager и других сценариев.

[!INCLUDE [updated-for-az](../../../../includes/updated-for-az.md)]

## <a name="fundamental-technical-knowledge"></a>Основные технические знания

Проектирование, создание и тестирование этих ресурсов требует времени и технических знаний как платформы Azure, так и технологий, используемых для создания предложения. В дополнение к домену решения, ваша команда инженеров должна иметь знания о следующих технологиях Майкрософт: 
-    базовое представление о [службах Azure](https://azure.microsoft.com/services/); 
-    умение [разработать приложения Azure](https://azure.microsoft.com/solutions/architecture/);
-    опыт работы с [виртуальными машинами Azure](https://azure.microsoft.com/services/virtual-machines/), [службой хранилища Azure](https://azure.microsoft.com/services/?filter=storage) и [сетями Azure](https://azure.microsoft.com/services/?filter=networking);
-    опыт работы с [Azure Resource Manager](https://azure.microsoft.com/features/resource-manager/);
-    опыт работы с [JSON](https://www.json.org/).


## <a name="suggested-tools"></a>Рекомендуемые инструменты 

Выберите одну или обе следующие среды сценариев, которые понадобятся вам в управлении VHD и виртуальными машинами:
-    [Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview)
-    [Azure CLI](https://docs.microsoft.com/cli/azure)

Кроме того, мы рекомендуем добавить следующие инструменты в среду разработки: 

-    [Обозреватель службы хранилища Azure](https://docs.microsoft.com/azure/vs-azure-tools-storage-manage-with-storage-explorer)
-    [Visual Studio Code](https://code.visualstudio.com/)
    *    Расширение: [Инструменты Azure Resource Manager](https://marketplace.visualstudio.com/items?itemName=msazurermtools.azurerm-vscode-tools).
    *    Расширение: [Beautify](https://marketplace.visualstudio.com/items?itemName=HookyQR.beautify).
    *    Расширение: [Prettify JSON](https://marketplace.visualstudio.com/items?itemName=mohsen1.prettify-json).

Мы также предлагаем проверить доступные средства на странице [Средства для разработчиков Azure](https://azure.microsoft.com/tools/) и, если вы используете Visual Studio, на странице [Visual Studio Marketplace](https://marketplace.visualstudio.com/).


## <a name="next-steps"></a>Дальнейшие действия

В последующих статьях этого раздела рассматриваются шаги по созданию и регистрации таких ресурсов виртуальной машины:

1. В статье [Создание виртуального жесткого диска, совместимого с Azure](./cpp-create-vhd.md) описывается создание виртуальных жестких дисков на платформе Linux или Windows, которые совместимы с Azure.  Здесь содержатся рекомендации по изменению размера, исправлению и подготовке виртуальной машины для отправки.

2. В статье [Подключение к виртуальной машине Azure](./cpp-connect-vm.md) описывается, как удаленно подключиться к только что созданной виртуальной машине и войти в нее.  В этой статье также объясняется, как остановить виртуальную машину, чтобы сэкономить на стоимости использования.

3. В статье [Configure the Azure-hosted VM](./cpp-configure-vm.md) (Настройка виртуальной машины, размещенной в Azure) описано, как выбрать правильный размер виртуального жесткого диска, обобщить образ, применить последние обновления (исправления) и запланировать пользовательские конфигурации.

4. В статье [Deploy a VM from your VHDs](./cpp-deploy-vm-vhd.md) (Развертывание виртуальной машины из виртуальных жестких дисков) описано, как зарегистрировать виртуальную машину из виртуального жесткого диска, развернутого в Azure.  Здесь перечислены необходимые средства и приведены сведения о том, как с их помощью создать пользовательский образ виртуальной машины, а затем развернуть его в Azure с использованием [портала Microsoft Azure](https://ms.portal.azure.com/) или сценариев PowerShell. 

5. В статье [Certify your VM image](./cpp-certify-vm.md) (Сертификация образа виртуальной машины) показано, как протестировать и отправить образ виртуальной машины для сертификации Azure Marketplace. В ней описано, где можно получить *средство проверки сертификации Azure* и как использовать его для сертификации образа виртуальной машины. 

6. В статье [Получение URI подписанного URL-адреса для образа виртуальной машины](./cpp-get-sas-uri.md) описано, как получить URI подписанного URL-адреса для образа виртуальной машины.
 
В дополнительной статье [Common SAS URL issues and fixes](./cpp-common-sas-url-issues.md) (Распространенные проблемы с URL-адресом SAS и способы их исправления) приведены распространенные проблемы, которые могут возникнуть при использовании универсального кода ресурса (URI) подписанного URL-адреса, и их возможные решения.

После завершения этих действий можно приступать к [публикации предложения виртуальной машины](./cpp-publish-offer.md) в Azure Marketplace.
