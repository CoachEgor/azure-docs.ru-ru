---
title: Создание технических ресурсов модуля Azure IoT Edge | Azure Marketplace
description: Создание технических ресурсов для модуля IoT Edge.
services: Azure, Marketplace, Cloud Partner Portal,
author: dan-wesley
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: conceptual
ms.date: 10/18/2018
ms.author: pabutler
ms.openlocfilehash: 57bc2f789836a7d3453004cdacc59029c4b24129
ms.sourcegitcommit: ac56ef07d86328c40fed5b5792a6a02698926c2d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/08/2019
ms.locfileid: "73827617"
---
# <a name="prepare-your-iot-edge-module-technical-assets"></a>Подготовка технических ресурсов для модуля IoT Edge

В этой статье описываются требования, которым должны соответствовать технические ресурсы для модуля IoT Edge для публикации в Azure Marketplace.

## <a name="understanding-iot-edge-modules-and-getting-started"></a>Основные сведения о модулях IoT Edge и начало работы с ними

Модуль IoT Edge представляет собой совместимый с Docker контейнер, подготовленный для запуска на устройстве IoT Edge.

- Дополнительные сведения о модулях IoT Edge см. в статье [Общие сведения о модулях IoT Edge Azure](https://docs.microsoft.com/azure/iot-edge/iot-edge-modules).
- Чтобы начать разработку модуля IoT Edge, изучите [требования и средства для разработки модулей IoT Edge](https://docs.microsoft.com/azure/iot-edge/module-development).

## <a name="technical-requirements"></a>Технические требования

Следующие технические требования должны быть выполнены, чтобы модуль IoT Edge успешно прошел сертификацию и публикацию в Azure Marketplace.

### <a name="platform-support"></a>Поддержка платформ

Модуль IoT Edge должен поддерживать одну из следующих платформ:

#### <a name="tier-1-platforms-supported-by-iot-edge"></a>Платформы уровня 1, поддерживаемые IoT Edge

Поддержка всех платформ уровня 1, поддерживаемых в IoT Edge (см. [список для Azure IoT Edge](https://docs.microsoft.com/azure/iot-edge/support)). Мы рекомендуем использовать именно этот вариант, так как он обеспечивает максимальное удобство для клиентов. Для клиентов отображаются модули, соответствующие этому критерию. Модуль с поддержкой этих платформ должен соответствовать следующим требованиям:

- Содержать тег `latest` и тег версии (например, `1.0.1`), которые представляют собой манифест тегов, созданных с помощью [manifect-tool](https://github.com/estesp/manifest-tool) с сайта GitHub.
- Использовать вкладку [Marketplace](./cpp-marketplace-tab.md) для добавления ссылки на [совместимые сертифицированные устройства IoT Edge](https://aka.ms/iot-edge-certified). Эта ссылка разрешается в `https://aka.ms/iot-edge-certified` и указывает на веб-сайт, на котором клиенты могут или искать просматривать сертифицированные устройства. Этот веб-сайт также содержит каталог устройств, [сертифицированных для Azure IoT Edge](https://catalog.azureiotsolutions.com/).

#### <a name="a-subset-of-tier-1-platforms-supported-by-iot-edge"></a>Группа платформ уровня 1, поддерживаемых IoT Edge
  
Поддержка группы (или хотя бы одной) платформ уровня 1, поддерживаемых в IoT Edge (см. [список для Azure IoT Edge](https://docs.microsoft.com/azure/iot-edge/support)). Модуль с поддержкой этих платформ должен соответствовать следующим требованиям:

- Содержать тег `latest` и тег версии (например, `1.0.1`), которые представляют собой манифест тегов, созданных с помощью [manifect-tool](https://github.com/estesp/manifest-tool) с сайта GitHub, если поддерживается более чем одна платформа. Теги манифеста необязательны, если поддерживается только одна платформа.
- Используйте вкладку [Marketplace](./cpp-marketplace-tab.md), чтобы добавить ссылку на хотя бы одно устройство IoT Edge, размещенное в каталоге устройств, [сертифицированных для Azure IoT Edge](https://catalog.azureiotsolutions.com/).

### <a name="device-dimensions"></a>Измерения устройства

Измерения модуля IoT Edge (ЦП, ОЗУ, хранилище, GPU и т. д.) на целевых устройствах IoT Edge должны соответствовать следующим требованиям:

- Модуль должен **работать хотя бы с одним сертифицированным устройством IoT Edge** из каталога устройств, [сертифицированных для Azure IoT Edge](https://catalog.azureiotsolutions.com/).
- **Минимальные требования к оборудованию** должны быть указаны в последнем абзаце в описании предложения (на вкладке [Marketplace](./cpp-marketplace-tab.md)). При желании вы можете указать рекомендуемые требования к оборудованию, если они значительно отличаются от минимальных. Например, можно добавить в конец описания предложения следующий абзац:

  ```html
    <p><u>Minimum hardware requirements:</u> Linux x64 and arm32  OS, 1GB of RAM, 500 Mb of storage</p>
  ```

### <a name="configuration"></a>Конфигурация

Также предоставляются стандартные параметры конфигурации, чтобы развертывание на устройстве IoT Edge выполнялось максимально просто. Кроме того, контейнер может включать пакет SDK для модуля IoT Edge, чтобы поддерживать взаимодействие с Центром Edge и Центром Интернета вещей.

#### <a name="default-configuration"></a>Конфигурация по умолчанию

Модули IoT Edge должны поддерживать запуск с параметрами по умолчанию, которые указаны на [вкладке с номерами SKU на портале Cloud Partner](./cpp-skus-tab.md). Доступны следующие параметры по умолчанию:

- **Маршруты** по умолчанию.
- **Требуемые свойства двойника** по умолчанию.
- **Переменные среды** по умолчанию.
- **createOptions** по умолчанию.

Когда значение по умолчанию нецелесообразно использовать для какого-либо параметра (например, IP-адрес сервера клиента), укажите в качестве значения по умолчанию имя этого параметра. Это значение вводится в верхнем регистре и заключается в квадратные скобки. Например, можно настроить следующую переменную среды по умолчанию:

```
    ServerIPAddress = <MY_SERVER_IP_ADDRESS>
```

#### <a name="configuration-documentation"></a>Документация по конфигурации

Все параметры конфигурации модуля IoT Edge должны быть четко документированы (как использовать его маршруты, двойника требуемые свойства, переменные среды, Креатеоптионс и т. д.). Укажите ссылку на документацию, или документация должна быть частью описания предложения или номера SKU.

### <a name="tags-and-versioning"></a>Теги и управление версиями

Клиенты должны иметь возможность легко развертывать модуль и автоматически получать обновления из Marketplace (в сценарии разработки). Они также должны иметь возможность использовать и закрепить точную версию, протестированную ими (в рабочем сценарии).

Чтобы соответствовать ожиданиям клиентов и получить разрешение на публикацию в Marketplace, все модули IoT Edge должны соответствовать следующим требованиям:

- Содержать тег манифеста `latest`, который указывает на последние версии для всех поддерживаемых платформ.
- Теги версий должны иметь формат X.Y.Z, где X, Y и Z обозначают целые числа.
- Содержать тег версии, например `1.0.1`, который указывает на определенную версию на всех поддерживаемых платформах.
- Не обновлять теги версии, например `1.0.1`. Они должны оставаться неизменными.

>[!Note]
>При желании можно добавить для управления версиями теги версии с последовательными обновлениями, например `2.0` и `1.0`. Эти теги позволяют параллельно использовать несколько основных версий.

### <a name="telemetry"></a>Телеметрия

Модули, которые используют пакет SDK для модулей Интернета вещей, должны содержать уникальный идентификатор модуля со значением `PublisherId.OfferId.SkuId` для сбора телеметрии. Уникальный идентификатор позволяет Azure Marketplace определить количество запущенных экземпляров модуля.

 Используйте следующие методы из пакетов SDK для модуля Интернета вещей, чтобы задать значение `ProductInfo` для этого идентификатора:

- [C\#](https://docs.microsoft.com/dotnet/api/microsoft.azure.devices.client.deviceclient.productinfo?view=azure-dotnet#Microsoft_Azure_Devices_Client_DeviceClient_ProductInfo) 
- [C](https://github.com/Azure/azure-iot-sdk-c/blob/master/doc/Iothub_sdk_options.md)
- [Python](https://github.com/Azure/azure-iot-sdk-c/blob/master/doc/Iothub_sdk_options.md)
- [Java](https://docs.microsoft.com/java/api/com.microsoft.azure.sdk.iot.device.productinfo?view=azure-java-stable)

Для модулей, которые не используют пакет SDK для модуля Интернета вещей, на Портале Cloud Partner доступна менее точная аналитика, например сведения о количестве скачиваний.

### <a name="security"></a>Безопасность

Модули IoT Edge должны запрашивать у узла минимально необходимые права доступа. Не создавайте [привилегированные модули](https://docs.docker.com/engine/reference/run/#runtime-privilege-and-linux-capabilities).

### <a name="module-iot-sdk"></a>Пакет SDK для модуля Интернета вещей

Включение пакета SDK для модуля Интернета вещей не является необходимым условием для сертификации. Но добавление пакета SDK для модуля Интернета вещей может повысить удобство работы пользователей. Например, он помогает поддерживать маршрутизацию или отправку сообщений в облако.

Пакет SDK для модуля Интернета вещей требуется для получения данных телеметрии о количестве работающих экземпляров модуля.


## <a name="recertification-process"></a>Процесс повторной сертификации

<!-- Add legal time windows-->
Партнеры получают уведомления при возникновении критических изменений, затрагивающих их модули, например:

- Матрица поддержки операционных систем и архитектур уровня 1, поддерживаемых IoT Edge.
- Пакет SDK для модуля Интернета вещей.
- Среда выполнения IoT Edge.
- Рекомендации по сертификации модуля IoT Edge.

Партнерам в этом случае придется обновить свои модули и повторно сертифицировать их с помощью средства на Портале Cloud Partner.

## <a name="host-your-iot-edge-module-in-an-azure-container-registry"></a>Размещение модуля IoT Edge в Реестре контейнеров Azure

Чтобы загрузить модуль IoT Edge на Портал Cloud Partner, необходимо сначала разместить его в [Реестре контейнеров Azure](https://azure.microsoft.com/services/container-registry/). Модуль должен включать все теги, которые вы хотите опубликовать, включая теги образов, указанные в теге манифеста.


## <a name="next-steps"></a>Дальнейшие действия

- [Создание предложения модуля IoT Edge](./cpp-create-offer.md)
