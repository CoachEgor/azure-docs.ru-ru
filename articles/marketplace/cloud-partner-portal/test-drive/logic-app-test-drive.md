---
title: Испытание приложения логики | Azure Marketplace
description: Сведения о том, как создавать тестовый выпуск, который подключается к экземпляру Dynamics AX или CRM или любому другому ресурсу за пределами Azure.
services: Azure, Marketplace, Cloud Partner Portal,
author: pbutlerm
ms.service: marketplace
ms.topic: conceptual
ms.date: 09/13/2018
ms.author: pabutler
ms.openlocfilehash: 3dc5642541f411acc93301f6bb9828e901aba449
ms.sourcegitcommit: c53a800d6c2e5baad800c1247dce94bdbf2ad324
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/30/2019
ms.locfileid: "64940008"
---
<a name="logic-app-test-drive"></a>Тестовый выпуск приложения логики
====================

Эта статья предназначена для издателей, у которых есть приложение в AppSource и которые хотят создать тестовый выпуск для подключения к экземпляру Dynamics AX или CRM или любому другому ресурсу за пределами Azure.

<a name="how-to-build-a-logic-app-test-drive"></a>Как создать тестовый выпуск приложения логики
-----------------------------------

Документация по тестовым выпускам приложений логики сейчас доступна на сайте GitHub. Она описывает [операции](https://github.com/Microsoft/AppSource/blob/master/Setup-your-Azure-subscription-for-Dynamics365-Operations-Test-Drives.md) и [взаимодействие с клиентами](https://github.com/Microsoft/AppSource/wiki/Setting-up-Test-Drives-for-Dynamics-365-app).

<a name="how-to-publish-a-test-drive"></a>Как опубликовать тестовый выпуск
---------------------------

Теперь, когда тестовый выпуск создан, мы рассмотрим все поля, необходимые для успешной публикации тестового выпуска.

![Включение функции тестового выпуска](./media/azure-resource-manager-test-drive/howtopub1.png)

Сначала важно определить, будет ли соответствующая форма со всеми обязательными полями доступна для заполнения. Если вы выберете **Нет,** форма будет недоступна, и при повторной публикации тестовый запуск будет удален из рабочей среды.

*Примечание*. Активно используемые тестовые выпуски будут продолжать работать до истечения времени соответствующего сеанса.

### <a name="details"></a>Сведения

Следующий раздел, который следует заполнить, — подробные сведения о вашем предложении тестового выпуска.

![Сведения о тестовом выпуске](./media/azure-resource-manager-test-drive/howtopub2.png)

**Description** (Описание) *[обязательное поле]*. Здесь следует предоставить описание того, что содержится в этом тестовом выпуске. Клиент узнает о сценариях использования этого тестового выпуска. 

**User Manual** (Руководство для пользователя) *[обязательное поле]*. Это подробная инструкция по использованию тестового выпуска. Клиент ее откроет и сможет шаг за шагом выполнить точно те действия, которые требуются от него в тестовом выпуске. Очень важно, чтобы это содержимое было простым для понимания и выполнения! (Это должен быть файл в формате PDF.)

**Test Drive Demo Video** (Демонстрационное видео о тестовом выпуске) \[рекомендуемый материал\]. Мы рекомендуем предоставить видеоруководство по использованию тестового выпуска в дополнение к руководству пользователя. Клиент просмотрит его перед работой или во время работы с тестовым выпуском и сможет шаг за шагом выполнить точно те действия, которые от него требуются в тестовом выпуске. Очень важно, чтобы это содержимое было простым для понимания и выполнения!

- **Name** (Имя) — заголовок видео.
- **Link** (Ссылка). Внедренный URL-адрес на YouTube или Vimeo. Ниже показано, как получить внедренный URL-адрес:
- **Thumbnail** (Эскиз) — должен представлять собой изображение высокого качества (533x324 пикселя). Здесь рекомендуется поместить снимок экрана, демонстрирующий выполнение какого-либо действия с тестовым выпуском.

Ниже показано, как эти поля отображаются клиенту во время работы с тестовым выпуском.

![Отображение полей тестового выпуска](./media/azure-resource-manager-test-drive/howtopub4.png)

### <a name="technical-configuration"></a>Техническая конфигурация

В следующем заполняемом разделе настраивается приложение логики тестового выпуска и определяется способ использования экземпляров тестового выпуска.

![Техническая конфигурация тестового выпуска](./media/azure-resource-manager-test-drive/howtopub5_logicapp.png)

- **Region** (Регион) *[обязательное поле]*. Область, в которой развертываются ресурсы приложения логики тестового выпуска.

    *Примечание.* Если приложение логики содержит пользовательские ресурсы, которые хранятся в определенном регионе, здесь следует указать этот регион. Лучший способ сделать это — **полностью развернуть приложение логики локально в своей подписке Azure на портале и убедиться, что оно работает**, перед его записью сюда.

- **Maximum Concurrent Test Drives** (Максимальное число параллельных тестовых выпусков) *[обязательное поле]*. Число экземпляров тестового выпуска, которые уже развернуты и готовы к получению доступа в выбранном регионе. Клиенты могут мгновенно получить доступ к этим тестовым выпускам, не ожидая их развертывания.

    *Примечание.* Если вы ведете веб-семинар или класс и хотите, чтобы все студенты получили тестовый выпуск, рекомендуется опубликовать соответствующее число "горячих" экземпляров, которое вы сможете изменить после завершения обучения в ходе повторной публикации.

- **Test Drive Duration (hours)** (Продолжительность тестового выпуска (ч)) *[обязательное поле]*. Период времени, в течение которого тестовый выпуск будет оставаться активным (в часах). Тестовый выпуск автоматически завершит работу по истечении этого периода.

- **Azure Resource Group Name** (Имя группы ресурсов Azure) *[обязательное поле]*. Запишите имя группы ресурсов, в которой сохранены тестовые выпуски приложения логики.

- **Assign Logic App Name** (Имя приложения логики для назначения) *[обязательное поле]*. Запишите имя приложения логики, которое будет использоваться для назначения тестового выпуска пользователю, прежде чем клиент получит его. Убедитесь, что этот файл сохранен в группе ресурсов.

- **Deprovision Logic App Name** (Имя приложения логики для отзыва) *[обязательное поле]*. Запишите имя приложения логики для всех операций отзыва всех ресурсов, созданных в тестовом выпуске. Убедитесь, что этот файл сохранен в группе ресурсов.

- **Access Information** (Сведения о доступе) *[обязательное поле]*. Когда клиент получит тестовый выпуск, ему будут предоставлены сведения о доступе. В этих инструкциях следует указать полезные параметры вывода из шаблона тестового выпуска Resource Manager. Чтобы включить параметры вывода, используйте двойные фигурные скобки (например, **{{имя_вывода}}**). Так вы правильно вставите параметры в нужное расположение. (Здесь в клиентском интерфейсе рекомендуется выводить средства для HTML-форматирования строк.)

### <a name="test-drive-deployment-subscription-details"></a>Сведения о подписке, связанной с развертыванием тестового выпуска

В последнем заполняемом разделе можно настроить автоматическое развертывание тестовых выпусков, подключив подписку Azure и Azure Active Directory (AD).

![Сведения о подписке, связанной с развертыванием тестового выпуска](./media/azure-resource-manager-test-drive/subdetails1.png)

**Azure Subscription ID** (Идентификатор подписки Azure) *[обязательное поле]*. Предоставляет доступ к службам Azure и порталу Azure. Именно в подписке производится учет использования ресурсов и выставляются счета за услуги. Если у вас еще нет **отдельной** подписки Azure для тестовых выпусков, создайте ее. Чтобы найти идентификаторы подписок Azure, войдите на портал Azure, а затем перейдите в раздел Subscriptions (Подписки) в меню слева.
(Пример: a83645ac-1234-5ab6-6789-1h234g764ghty.)

![Подписки Azure](./media/azure-resource-manager-test-drive/subdetails2.png)

**Azure AD Tenant ID** (Идентификатор клиента Azure AD) *[обязательное поле]*. Если у вас уже есть идентификатор клиента, его можно найти внизу в разделе Properties (Свойства) -\> Directory ID (Идентификатор каталога).

![Azure Active Directory](./media/azure-resource-manager-test-drive/subdetails3.png)

В противном случае создайте новый клиент в Azure Active Directory.

![Экран свойств Azure Active Directory](./media/azure-resource-manager-test-drive/subdetails4.png)

!Azure Active Directory](./media/azure-resource-manager-test-drive/subdetails5.png)

![Клиенты Azure Active Directory](./media/azure-resource-manager-test-drive/subdetails6.png)

**Azure AD App ID** (Идентификатор приложения Azure AD) *[обязательное поле]*. На следующем шаге создается и регистрируется новое приложение. Мы будем использовать это приложение для выполнения операций с экземпляром тестового выпуска.

1. Перейдите в только что созданный каталог или уже существующий каталог и выберите Azure Active Directory в области фильтров.
2. Выполните поиск по запросу "App registrations" (Регистрация приложений) и нажмите кнопку Add (Добавить).
3. Введите имя приложения.
4. В качестве типа выберите Web app / API (Веб-приложение или API).
5. Введите любое значение в поле Sign-on URL (URL-адрес входа) — мы его использовать не будем.
6. Щелкните "Создать".
7. После создания приложения перейдите в раздел Properties (Свойства) —\> Set the application as multi-tenant (Сделать приложение мультитенантным) и нажмите кнопку Save (Сохранить).

Щелкните Сохранить. Последний шаг — скопировать идентификатор зарегистрированного приложения и вставить его в поле Test Drive (Тестовый выпуск).

![Идентификатор приложения Azure Active Directory](./media/azure-resource-manager-test-drive/subdetails7.png)

Учитывая то, что мы используем приложение для развертывания в подписке, нам необходимо добавить это приложение в подписку в качестве. Для этого сделайте следующее:

1. Перейдите в колонку Subscriptions (Подписки) и выберите соответствующую подписку, которая используется только для тестового выпуска.
1. Щелкните **Управление доступом (IAM)**.
1. Перейдите на вкладку **Назначение ролей**.  ![Добавление нового субъекта контроля доступа Azure Active Directory](./media/azure-resource-manager-test-drive/SetupSub7_1.jpg)
1. Выберите команду **Добавить назначение ролей**.
1. Выберите роль **Contributor** (Участник).
1. Введите имя приложения Azure AD и выберите приложение, которому следует назначить эту роль.
    ![Разрешения Azure Active Directory](./media/azure-resource-manager-test-drive/SetupSub7_2.jpg)
1. Выберите команду **Сохранить**.

**Azure AD App Key** (Ключ приложения Azure AD) *[обязательное поле]*. Это поле используется для создания ключа аутентификации. В разделе ключей добавьте описание ключа, в качестве длительности задайте неограниченный срок действия, затем выберите Save (Сохранить). **Важно**, чтобы срок действия ключа не истекал, так как это сделает невозможным использование тестового выпуска в рабочей среде. Скопируйте это значение и вставьте его в обязательное поле Test Drive (Тестовый выпуск).

![Раздел ключей Azure Active Directory](./media/azure-resource-manager-test-drive/subdetails8.png)

> [!CAUTION]
> Предварительная версия регистрации приложения Azure нельзя использовать, поскольку он не формирует сейчас ключ в кодировке base64.


<a name="next-steps"></a>Дальнейшие действия
----------

Теперь, когда все поля тестового выпуска заполнены, проверьте свое предложение и **повторно опубликуйте** его. Как только ваш тестовый запуск пройдет сертификацию, следует тщательно проверить качество ПО в **предварительной версии** вашего предложения. Запустите тестовый выпуск в пользовательском интерфейсе и убедитесь, что он развернут надлежащим образом.

Важно отметить, что вам не нужно удалять части тестовых выпусков по мере их подготовки для клиентов — служба тестовых выпусков автоматически очистит эти группы ресурсов, когда клиент завершит работу с ними.

Когда предварительная версия вашего предложения будет готова, ее можно **запустить в работу**. После публикации предложения выполняется процесс окончательного анализа корпорацией Майкрософт для повторной проверки всего процесса взаимодействия. Если по какой-либо причине предложение будет отклонено, мы отправим уведомление в отдел разработки с описанием того, что необходимо исправить.

Если у вас возникли вопросы или вы хотите получить рекомендации по устранению неполадок либо оптимизировать свой тестовый выпуск, см. [эту статью](./marketing-and-best-practices.md).
