---
title: Наконфигурните СКУ для предложения приложения Azure (ru) Лазурный рынок
description: Сведения о настройке номеров SKU для управляемого приложения Azure и шаблона решения Azure.
author: dsindona
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: conceptual
ms.date: 04/23/2019
ms.author: dsindona
ms.openlocfilehash: 043394a1303456ce5b209bb84b5afaf09f6beba4
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "80289079"
---
# <a name="azure-application-skus-tab"></a>Вкладка номеров SKU для приложения Azure

В этой статье описывается создание номеров SKU для приложения Azure с помощью вкладки номеров SKU. 

> [!IMPORTANT]
> Шаги по настройке номера SKU будут разными для предложения управляемого приложения и предложения шаблона решения. В этой статье подробно описаны эти различия. 

## <a name="configure-azure-application-skus"></a>Настройка номеров SKU для приложения Azure

### <a name="create-a-new-sku"></a>Создание номера SKU

Чтобы создать номер SKU, сделайте следующее.

1. Выберите вкладку **Номера SKU**.
2. В разделе номеров SKU выберите **+ New SKU** (Новый номер SKU).

    ![Запрос нового номера SKU](./media/azureapp-plus-sku.png)

3. Во всплывающем окне New SKU (Новый номер SKU) введите **идентификатор SKU**. Идентификатор может содержать не более 50 символов: только строчные буквы, цифры, дефисы и символы подчеркивания. Идентификатор SKU не может закончиться тире.
4. Идентификатор SKU будет виден клиентам в URL-адресах продукта, шаблонах Resource Manager (если применимо) и отчетах о выставлении счетов. Вы не можете изменить этот идентификатор после публикации предложения.

### <a name="sku-details-for-a-solution-template"></a>Сведения о номере SKU для шаблона решения

Следующий захват экрана показывает форму SKU Детали для шаблона решения.

![Форма сведений о номере SKU для шаблона решения](./media/azureapp-sku-details-solutiontemplate.png)

Укажите следующие значения SKU.  Поля, применяемые звездочкой, необходимы.

|    Поле         |       Описание                                                            |
|  ---------       |     ---------------                                                          |
|  **Заголовок\***     | Название для SKU. Это значение отображается для соответствующего элемента в коллекции.   |
| **Сводка\***    | Краткое описание SKU. (Максимальная длина составляет 100 символов.)  |
| **Описание\*** | Подробное описание SKU. Поддерживается базовый HTML.                 | 
| **Тип SKU\***   | Тип решения приложения Azure, выберите**шаблон решения** для этого сценария. |
| **Доступность облака\*** | Расположение SKU. По умолчанию **public Azure**.  <b/>   **Public Azure** - Приложение будет развертываться для клиентов во всех общедоступных регионах Azure, где интеграция на рынке.  <b/>   **Облако управления Azure** - Приложение будет развернуто в облаке правительства Azure. Перед публикацией в [Azure Government](https://docs.microsoft.com/azure/azure-government/documentation-government-manage-marketplace-partners)корпорация Майкрософт рекомендует издателям тестировать и проверять свои решения, как и ожидалось в этой среде. Для промежуточного хранения и тестирования отправьте запрос на [пробную учетную запись](https://azure.microsoft.com/offers/ms-azr-usgov-0044p/).  |
| **Это частный СКУ?\*** | Выберите **Да,** если этот SKU доступен только избранной группе клиентов. |
|   |   |

  > [!NOTE] 
  > Microsoft Azure для государственных организаций — это облако сообщества государственных организаций с контролируемым доступом для клиентов из федеральных, государственных, местных или общинных органов США, а также обслуживающих их партнеров.


### <a name="sku-details-for-managed-application"></a>Сведения о номере SKU для управляемого приложения

На следующем снимке экрана представлена форма сведений о номере SKU для управляемого приложения.

   ![Форма сведений о номере SKU для управляемого приложения](./media/azureapp-sku-details-managedapplication.png)

Настроите следующие настройки SKU. Поля, применяемые звездочкой, необходимы.

|    Поле         |       Описание                                                            |
|  ---------       |     ---------------                                                          |
|  **Заголовок\***     | Название для SKU. Это значение отображается для соответствующего элемента в коллекции.   |
| **Сводка\***    | Краткое описание SKU. (Максимальная длина составляет 100 символов.)  |
| **Описание\*** | Подробное описание SKU. Поддерживается базовый HTML.                 | 
| **Тип SKU\***   | Тип решения приложения Azure, выберите**управляемое приложение** для этого сценария. 
| **Доступность облака\*** | Расположение SKU. По умолчанию **public Azure**.  <b/>   **Public Azure** - Приложение будет развертываться для клиентов во всех общедоступных регионах Azure, где интеграция на рынке.  <b/>   **Облако управления Azure** - Приложение будет развернуто в облаке правительства Azure. Перед публикацией в [Azure Government](https://docs.microsoft.com/azure/azure-government/documentation-government-manage-marketplace-partners)корпорация Майкрософт рекомендует издателям тестировать и проверять свои решения, как и ожидалось в этой среде. Для промежуточного хранения и тестирования отправьте запрос на [пробную учетную запись](https://azure.microsoft.com/offers/ms-azr-usgov-0044p/).   Microsoft Azure для государственных организаций — это облако сообщества государственных организаций с контролируемым доступом для клиентов из федеральных, государственных, местных или общинных органов США, а также обслуживающих их партнеров. |
| **Это частный СКУ?\*** | Выберите **Да,** если этот SKU доступен только избранной группе клиентов. |
| **Доступность страны/региона\*** | Используйте **регионы выбора** для просмотра списка доступных стран/регионов. Установите флажки возле всех нужных стран или регионов, а затем щелкните **ОК**, чтобы сохранить выбранные значения.  <b/>   ![Список доступности по странам и регионам](./media/azure-app-select-country-region.png)  |
| **Старые цены\*** | Цена на SKU, в долларах США в месяц. После завершения настройки цены устанавливаются в местной валюте по текущему курсу. Эти параметры вы определяете самостоятельно, поэтому мы рекомендуем проверить их. Чтобы установить или просмотреть цену каждой страны/региона индивидуально, пожалуйста, экспортируйте таблицу ценообразования и импортируйте с пользовательскими ценами.  Вы должны сохранить свои изменения ценообразования, чтобы экспорт / импорт ценовых данных.  |
| **Упрощенные цены в разных валютах\*** | Цена на SKU, в долларах США в месяц. Эта цена должна совпадать со значением в поле Old Pricing (Старая цена). Дополнительные сведения см. в разделе [Упрощенные цены в разных валютах](https://docs.microsoft.com/azure/marketplace/cloud-partner-portal-orig/cloud-partner-portal-update-existing-offer). |
|  |  |


### <a name="package-details-for-solution-template"></a>Сведения о пакете для шаблона решения

![Сведения о пакете для шаблона решения](./media/azureapp-sku-pkgdetails-solutiontemplate.png)

Предоставьте следующие значения **пакетной информации.**  Поля, применяемые звездочкой, необходимы.

- **Версия\* ** - Версия пакета, который вы будете загружать. Теги версий должны иметь формат X.Y.Z, где X, Y и Z обозначают целые числа.
- **Файл пакета (.zip)\* ** - Этот пакет содержит следующие файлы, сохраненные в файле .zip.
  - **mainTemplate.json\* ** - файл шаблона развертывания, который используется для развертывания решения/приложения и создания ресурсов, определенных для решения. Дополнительные сведения см. в статье [Краткое руководство по созданию и развертыванию шаблонов Azure Resource Manager с помощью портала Azure](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-create-first-template).
  - **createUIDefinition.json\* ** - Этот файл используется порталом Azure для создания пользовательского интерфейса для подготовки этого решения/приложения. Для получения дополнительной информации смотрите [пользовательский интерфейс портала Azure для управляемого приложения.](https://docs.microsoft.com/azure/azure-resource-manager/managed-application-createuidefinition-overview)
  - Скрипты (при необходимости) - Любые дополнительные скрипты, которые `Microsoft.Compute/virtualMachines/extensions`могут потребоваться при запуске шаблона, например, .
  - Nested шаблоны (при необходимости) - Любые дополнительные вложенные шаблоны.

  > [!IMPORTANT] 
  > Этот пакет должен содержать все вложенные шаблоны или скрипты, которые потребуются для подготовки этого приложения к работе. Файл mainTemplate.json и createUIDefinition.json файл должен быть в корневой папке. Для получения дополнительной информации [Azure Resource Manager Templates - Best Practices Guide](https://github.com/Azure/azure-quickstart-templates/blob/master/1-CONTRIBUTION-GUIDE/best-practices.md#deployment-artifacts-nested-templates-scripts)об артефактах развертывания см.


### <a name="package-details-for-managed-application"></a>Сведения о пакете для управляемого приложения

   ![Сведения о пакете для управляемого приложения](./media/azureapp-sku-pkgdetails-managedapplication.png)

Предоставьте следующие сведения о пакете.  Поля, применяемые звездочкой, необходимы.

- **Версия\* ** - Версия пакета, который вы будете загружать. Теги версий должны иметь формат X.Y.Z, где X, Y и Z обозначают целые числа.
- **Файл пакета (.zip)\* ** - Этот пакет содержит следующие файлы, сохраненные в файле .zip.
  - applianceMainTemplate.json — файл шаблона развертывания, который используется для развертывания решения или приложения и создания определенных ресурсов. Для получения дополнительной информации [см.](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-quickstart-create-templates-use-the-portal) 
  - appliancecreateUIDefinition.json. С помощью этого файла портал Azure создает пользовательский интерфейс для подготовки решения или приложения. Для получения дополнительной информации смотрите [пользовательский интерфейс портала Azure для управляемого приложения.](https://docs.microsoft.com/azure/azure-resource-manager/managed-application-createuidefinition-overview)
  - mainTemplate.json. Это файл шаблона, который содержит только ресурс Microsoft.Solution/appliances. Для получения дополнительной информации [см. Понять структуру и синтаксис шаблонов менеджера ресурсов Azure.](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) <br>
Обратите внимание на следующие ключевые свойства этого ресурса:
    - "вид" - Значение должно быть "Marketplace" в случае Marketplace-Управляемый приложения.
    - "ManagedResourceGroupId" - ресурсная группа в подписке клиента, где будут развернуты все ресурсы, определенные в прибореMainTemplate.json.
    - Свойство PublisherPackageId содержит строку, которая уникальным образом идентифицирует пакет. Это значение должно быть построено следующим образом: это конкатирование «издателяId». (Предложение) --превью (SKUID). (ПакетВерсия).

  >[!IMPORTANT] 
  >Этот пакет должен содержать все вложенные шаблоны или скрипты, которые потребуются для подготовки этого приложения к работе. Эти файлы должны быть в корневой папке: MainTemplate.json, приборMainTemplate.json и приборCreateUIDefinition.json.

- **\* Идентификатор арендатора** - идентификатор арендатора Azure Active Directory вашей организации.
- **Включить доступ JIT? \* ** - Выберите **«Да»,** чтобы обеспечить доступ к управлению только в срок для развертывания клиентов с помощью этого предложения.

  >[!NOTE] 
  >Если JIT-доступ включен, обновите файл CreateUiDefinition.json для поддержки JIT-доступа.

Для управляемого приложения следует настроить параметры политики и авторизации.


#### <a name="authorization"></a>Авторизация

Добавьте идентификатор AAD пользователя, группы или приложения, которым вы намерены предоставить доступ к управляемой группе ресурсов. Выдаваемые разрешения указываются определением роли Id. Это может быть Владелец, Автор или любая пользовательская роль.


#### <a name="policy-settings"></a>Параметры политики

Добавьте политики, которым соответствует управляемое приложение. Дополнительные сведения о политиках для ресурсов Azure см. в статье [Что такое служба "Политика Azure"?](../../../governance/policy/overview.md)

   ![Параметры политики и авторизации для управляемого приложения](./media/azureapp-sku-details-managedapp-auth-policy.png)

**Создание новой авторизации.**

1. В разделе **Авторизация** выберите **+ New Authorization** (+ Новая авторизация).
2. В поле **Идентификатор субъекта** введите идентификатор AAD пользователя, группы или приложения, которым вы намерены предоставить доступ к управляемой группе ресурсов. Выдаваемые разрешения указываются в определении ролей.
3. Для **определения ролей**выберите один из этих вариантов из списка выпадающих: Владелец или Автор. Дополнительные сведения см. в статье [Встроенные роли для ресурсов Azure](https://docs.microsoft.com/azure/role-based-access-control/built-in-roles).

>[!NOTE] 
>Можно добавить несколько авторизаций. Тем не менее, рекомендуется создать группу пользователей Active Directory и указать ее идентификатор в "PrincipalId". Это позволит добавлять больше пользователей в группу без необходимости обновления SKU.

**Чтобы создать политику, сделайте следующее**.

1. В разделе **Параметры политики** выберите **+ Новая политика**.
2. Введите имя новой политики в поле **Имя политики**. Длина этого имена не должна превышать 50 символов.
3. В поле **Политики** выберите один из вариантов в раскрывающемся списке. Выберите политику, которую требует включить поставщик данных для приложения, использующего данные. Дополнительные сведения см. в статье [Примеры для Политики Azure](https://docs.microsoft.com/azure/governance/policy/samples/index).

    ![Параметры политики для управляемого приложения](./media/azureapp-sku-policy-settings.png)

4. В поле **Policy SKU** (Номер SKU политики) выберите тип номера SKU "Бесплатный" или "Стандартный". Для политик аудита допускается только номер SKU "Стандартный".


## <a name="next-steps"></a>Дальнейшие действия

Вы также опишите свое предложение и маркетинговые активы поставок во [вкладке Marketplace.](./cpp-marketplace-tab.md) 
