---
title: Настройка номеров SKU для предложения приложения Azure | Azure Marketplace
description: Сведения о настройке номеров SKU для управляемого приложения Azure и шаблона решения Azure.
services: Azure, Marketplace, Cloud Partner Portal,
author: dan-wesley
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: conceptual
ms.date: 04/23/2019
ms.author: pabutler
ms.openlocfilehash: 2430d7e6fa74438c148d3cb849510be06243faa0
ms.sourcegitcommit: 87781a4207c25c4831421c7309c03fce5fb5793f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2020
ms.locfileid: "76543160"
---
# <a name="azure-application-skus-tab"></a>Вкладка номеров SKU для приложения Azure

В этой статье описывается создание номеров SKU для приложения Azure с помощью вкладки номеров SKU. 

> [!IMPORTANT]
> Шаги по настройке номера SKU будут разными для предложения управляемого приложения и предложения шаблона решения. В этой статье подробно описаны эти различия. 

## <a name="configure-azure-application-skus"></a>Настройка номеров SKU для приложения Azure

### <a name="create-a-new-sku"></a>Создание номера SKU

Чтобы создать номер SKU, сделайте следующее.

1. Выберите вкладку **Номера SKU**.
2. В разделе номеров SKU выберите **+ New SKU** (Новый номер SKU).

    ![Запрос нового номера SKU](./media/azureapp-plus-sku.png)

3. Во всплывающем окне New SKU (Новый номер SKU) введите **идентификатор SKU**. Идентификатор может содержать не более 50 символов: только строчные буквы, цифры, дефисы и символы подчеркивания. Идентификатор SKU не может заканчиваться тире.
4. Идентификатор SKU будет виден клиентам в URL-адресах продукта, шаблонах Resource Manager (если применимо) и отчетах о выставлении счетов. Этот идентификатор нельзя изменить после публикации предложения.

### <a name="sku-details-for-a-solution-template"></a>Сведения о номере SKU для шаблона решения

На следующем снимке экрана показана форма сведений о номере SKU для шаблона решения.

![Форма сведений о номере SKU для шаблона решения](./media/azureapp-sku-details-solutiontemplate.png)

Укажите следующие значения SKU.  Поля, добавленные со звездочкой, являются обязательными.

|    Поле         |       Description                                                            |
|  ---------       |     ---------------                                                          |
|  **Заголовок\***     | Название номера SKU. Это значение отображается для соответствующего элемента в коллекции.   |
| **Сводка\***    | Краткое сводное описание номера SKU. (Максимальная длина составляет 100 символов.)  |
| **Description\*** | Подробное описание номера SKU. Поддерживается базовый HTML.                 | 
| **Тип номера SKU\***   | Тип решения приложения Azure выберите ***шаблон решения** для этого сценария. |
| **\* доступности облака** | Расположение номера SKU. По умолчанию используется **общедоступное облако Azure**.  <b/>**общедоступное приложение Azure** будет развернуто для клиентов во всех общедоступных регионах Azure с интеграцией Marketplace.  <b/>**облако Azure для государственных организаций** — приложение будет развернуто в облаке Azure для государственных организаций. Перед публикацией в [Azure для государственных организаций](https://docs.microsoft.com/azure/azure-government/documentation-government-manage-marketplace-partners)Корпорация Майкрософт рекомендует издателям тестировать и проверять свое решение как ожидается в этой среде. Для промежуточного хранения и тестирования отправьте запрос на [пробную учетную запись](https://azure.microsoft.com/offers/ms-azr-usgov-0044p/).  |
| **Это частный номер SKU?\*** | Выберите **Да** , если SKU доступен только для группы клиентов. |
|   |   |

  > [!NOTE] 
  > Microsoft Azure для государственных организаций — это облако сообщества государственных организаций с контролируемым доступом для клиентов из федеральных, государственных, местных или общинных органов США, а также обслуживающих их партнеров.


### <a name="sku-details-for-managed-application"></a>Сведения о номере SKU для управляемого приложения

На следующем снимке экрана представлена форма сведений о номере SKU для управляемого приложения.

   ![Форма сведений о номере SKU для управляемого приложения](./media/azureapp-sku-details-managedapplication.png)

Настройте следующие параметры SKU. Поля, добавленные со звездочкой, являются обязательными.

|    Поле         |       Description                                                            |
|  ---------       |     ---------------                                                          |
|  **Заголовок\***     | Название номера SKU. Это значение отображается для соответствующего элемента в коллекции.   |
| **Сводка\***    | Краткое сводное описание номера SKU. (Максимальная длина составляет 100 символов.)  |
| **Description\*** | Подробное описание номера SKU. Поддерживается базовый HTML.                 | 
| **Тип номера SKU\***   | Тип решения приложения Azure выберите ***управляемое приложение** для этого сценария. 
| **\* доступности облака** | Расположение номера SKU. По умолчанию используется **общедоступное облако Azure**.  <b/>**общедоступное приложение Azure** будет развернуто для клиентов во всех общедоступных регионах Azure с интеграцией Marketplace.  <b/>**облако Azure для государственных организаций** — приложение будет развернуто в облаке Azure для государственных организаций. Перед публикацией в [Azure для государственных организаций](https://docs.microsoft.com/azure/azure-government/documentation-government-manage-marketplace-partners)Корпорация Майкрософт рекомендует издателям тестировать и проверять свое решение как ожидается в этой среде. Для промежуточного хранения и тестирования отправьте запрос на [пробную учетную запись](https://azure.microsoft.com/offers/ms-azr-usgov-0044p/).   Microsoft Azure для государственных организаций — это облако сообщества государственных организаций с контролируемым доступом для клиентов из федеральных, государственных, местных или общинных органов США, а также обслуживающих их партнеров. |
| **Это частный номер SKU?\*** | Выберите **Да** , если SKU доступен только для группы клиентов. |
| **\* доступности страны или региона** | Чтобы просмотреть список доступных стран или регионов, используйте **команду выбрать регионы** . Установите флажки возле всех нужных стран или регионов, а затем щелкните **ОК**, чтобы сохранить выбранные значения.  <b/>![список доступности страны и региона](./media/azure-app-select-country-region.png)  |
| **Старые цены\*** | Стоимость номера SKU в долларах США в месяц. После завершения настройки цены устанавливаются в местной валюте по текущему курсу. Эти параметры вы определяете самостоятельно, поэтому мы рекомендуем проверить их. Чтобы задать или просмотреть цену каждой страны или региона по отдельности, экспортируйте электронную таблицу цен и импортируйте их с настраиваемыми ценами.  Чтобы включить экспорт и импорт данных о ценах, необходимо сохранить изменения цен.  |
| **Упрощенные цены на валюту\*** | Стоимость номера SKU в долларах США в месяц. Эта цена должна совпадать со значением в поле Old Pricing (Старая цена). Дополнительные сведения см. в разделе [Упрощенные цены в разных валютах](https://docs.microsoft.com/azure/marketplace/cloud-partner-portal-orig/cloud-partner-portal-update-existing-offer). |
|  |  |


### <a name="package-details-for-solution-template"></a>Сведения о пакете для шаблона решения

![Сведения о пакете для шаблона решения](./media/azureapp-sku-pkgdetails-solutiontemplate.png)

Укажите следующие значения **сведений о пакете** .  Поля, добавленные со звездочкой, являются обязательными.

- **Версия\*** — версия пакета, который будет отправлен. Теги версий должны иметь формат X.Y.Z, где X, Y и Z обозначают целые числа.
- **Файл пакета (ZIP)\*** — этот пакет содержит следующие файлы, сохраненные в ZIP-файле.
  - **mainTemplate. json\*** — файл шаблона развертывания, который используется для развертывания решения или приложения, а также для создания ресурсов, определенных для решения. Дополнительные сведения см. в статье [Краткое руководство по созданию и развертыванию шаблонов Azure Resource Manager с помощью портала Azure](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-create-first-template).
  - **createUIDefinition. json\*** — этот файл используется портал Azure для создания пользовательского интерфейса для подготовки этого решения или приложения. Дополнительные сведения см. в статье [Создание пользовательского интерфейса портала Azure для управляемого приложения](https://docs.microsoft.com/azure/azure-resource-manager/managed-application-createuidefinition-overview).
  - Сценарии (при необходимости) — любые дополнительные скрипты, которые могут потребоваться при запуске шаблона, например `Microsoft.Compute/virtualMachines/extensions`.
  - Вложенные шаблоны (при необходимости) — все дополнительные вложенные шаблоны.

  > [!IMPORTANT] 
  > Этот пакет должен содержать все вложенные шаблоны или скрипты, которые потребуются для подготовки этого приложения к работе. Файл mainTemplate. JSON и файл createUIDefinition. JSON должны находиться в корневой папке. Дополнительные сведения о артефактах развертывания см. в разделе [шаблоны Azure Resource Manager — рекомендации](https://github.com/Azure/azure-quickstart-templates/blob/master/1-CONTRIBUTION-GUIDE/best-practices.md#deployment-artifacts-nested-templates-scripts).


### <a name="package-details-for-managed-application"></a>Сведения о пакете для управляемого приложения

   ![Сведения о пакете для управляемого приложения](./media/azureapp-sku-pkgdetails-managedapplication.png)

Укажите следующие сведения о пакете.  Поля, добавленные со звездочкой, являются обязательными.

- **Версия\*** — версия пакета, который будет отправлен. Теги версий должны иметь формат X.Y.Z, где X, Y и Z обозначают целые числа.
- **Файл пакета (ZIP)\*** — этот пакет содержит следующие файлы, сохраненные в ZIP-файле.
  - applianceMainTemplate.json — файл шаблона развертывания, который используется для развертывания решения или приложения и создания определенных ресурсов. Дополнительные сведения см. [в разделе Краткое руководство. Создание и развертывание шаблонов Azure Resource Manager с помощью портал Azure](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-quickstart-create-templates-use-the-portal). 
  - appliancecreateUIDefinition.json. С помощью этого файла портал Azure создает пользовательский интерфейс для подготовки решения или приложения. Дополнительные сведения см. в статье [Создание пользовательского интерфейса портала Azure для управляемого приложения](https://docs.microsoft.com/azure/azure-resource-manager/managed-application-createuidefinition-overview).
  - mainTemplate.json. Это файл шаблона, который содержит только ресурс Microsoft.Solution/appliances. Дополнительные сведения см. в статье [Описание структуры и синтаксиса шаблонов Azure Resource Manager](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates). <br>
Обратите внимание на следующие ключевые свойства этого ресурса:
    - "Kind" — значение должно быть "Marketplace" в случае приложения, управляемого Marketplace.
    - "ManagedResourceGroupId" — Группа ресурсов в подписке клиента, в которой будут развернуты все ресурсы, определенные в applianceMainTemplate. JSON.
    - Свойство PublisherPackageId содержит строку, которая уникальным образом идентифицирует пакет. Это значение должно быть составлено следующим образом: это объединение [publisherId]. [OfferId]-Preview [SKUID]. [PackageVersion].

  >[!IMPORTANT] 
  >Этот пакет должен содержать все вложенные шаблоны или скрипты, которые потребуются для подготовки этого приложения к работе. Эти файлы должны находиться в корневой папке: MainTemplate. JSON, applianceMainTemplate. JSON и applianceCreateUIDefinition. JSON.

- **Идентификатор клиента\*** — идентификатор клиента Azure Active Directory вашей организации.
- **Включить JIT-доступ?\*** — выберите **Да** , чтобы включить JIT-доступ к управлению для клиентских развертываний с помощью этого предложения.

  >[!NOTE] 
  >Если JIT-доступ включен, обновите файл CreateUiDefinition.json для поддержки JIT-доступа.

Для управляемого приложения следует настроить параметры политики и авторизации.


#### <a name="authorization"></a>Авторизация

Добавьте идентификатор AAD пользователя, группы или приложения, которым вы намерены предоставить доступ к управляемой группе ресурсов. Предоставленное разрешение указывается идентификатором определения роли. Это может быть владелец, участник или любая пользовательская роль.


#### <a name="policy-settings"></a>Параметры политики

Добавьте политики, которым соответствует управляемое приложение. Дополнительные сведения о политиках для ресурсов Azure см. в статье [Что такое служба "Политика Azure"?](../../../governance/policy/overview.md)

   ![Параметры политики и авторизации для управляемого приложения](./media/azureapp-sku-details-managedapp-auth-policy.png)

**Создание новой авторизации.**

1. В разделе **Авторизация** выберите **+ New Authorization** (+ Новая авторизация).
2. В поле **Идентификатор субъекта** введите идентификатор AAD пользователя, группы или приложения, которым вы намерены предоставить доступ к управляемой группе ресурсов. Предоставляемое разрешение указывается определением роли.
3. В поле **Определение роли**выберите один из следующих вариантов в раскрывающемся списке: владелец или участник. Дополнительные сведения см. в статье [Встроенные роли для ресурсов Azure](https://docs.microsoft.com/azure/role-based-access-control/built-in-roles).

>[!NOTE] 
>Можно добавить несколько авторизаций. Однако рекомендуется создать Active Directory группу пользователей и указать ее идентификатор в "PrincipalId". Это позволит добавлять больше пользователей в группу без необходимости обновления SKU.

**Чтобы создать политику, сделайте следующее**.

1. В разделе **Параметры политики** выберите **+ Новая политика**.
2. Введите имя новой политики в поле **Имя политики**. Длина этого имена не должна превышать 50 символов.
3. В поле **Политики** выберите один из вариантов в раскрывающемся списке. Выберите политику, которую требует включить поставщик данных для приложения, использующего данные. Дополнительные сведения см. в статье [Примеры для Политики Azure](https://docs.microsoft.com/azure/governance/policy/samples/index).

    ![Параметры политики для управляемого приложения](./media/azureapp-sku-policy-settings.png)

4. В поле **Policy SKU** (Номер SKU политики) выберите тип номера SKU "Бесплатный" или "Стандартный". Для политик аудита допускается только номер SKU "Стандартный".


## <a name="next-steps"></a>Дальнейшие действия

В дальнейшем вы сможете описать Ваше предложение и предоставить маркетинговые ресурсы на [вкладке Marketplace](./cpp-marketplace-tab.md). 
