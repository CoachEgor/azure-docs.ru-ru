---
title: Безопасность службы Блокчейн Azure
description: Основные понятия безопасности и доступа к данным службы Блокчейн Azure
services: azure-blockchain
keywords: ''
author: PatAltimore
ms.author: patricka
ms.date: 05/02/2019
ms.topic: conceptual
ms.service: azure-blockchain
ms.reviewer: seal
manager: femila
ms.openlocfilehash: 63e61844ddb5bd0f0ed52b67e26ea5bf1857fd2b
ms.sourcegitcommit: f4d8f4e48c49bd3bc15ee7e5a77bee3164a5ae1b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73579921"
---
# <a name="azure-blockchain-service-security"></a>Безопасность службы Блокчейн Azure

Служба "Блокчейн Azure" использует несколько возможностей Azure для обеспечения безопасности и доступности данных. Данные защищаются путем изоляции, шифрования и аутентификации.

## <a name="isolation"></a>Изоляция

Ресурсы службы Блокчейн Azure изолированы в частной виртуальной сети. Каждый узел транзакции и проверки является виртуальной машиной (ВМ). Виртуальные машины в одной виртуальной сети не могут напрямую взаимодействовать с виртуальными машинами в другой виртуальной сети. Изоляция гарантирует, что связь остается частной в пределах виртуальной сети. Дополнительные сведения об изоляции виртуальной сети Azure см. [в разделе изоляция в общедоступном облаке Azure](../../security/fundamentals/isolation-choices.md#networking-isolation).

![Схема виртуальной сети](./media/data-security/vnet.png)

## <a name="encryption"></a>Шифрование

Пользовательские данные хранятся в службе хранилища Azure. Пользовательские данные шифруются при перемещении и неактивных данных для обеспечения безопасности и конфиденциальности. Дополнительные сведения см. в статье [руководство по безопасности службы хранилища Azure](../../storage/common/storage-security-guide.md).

## <a name="authentication"></a>Аутентификация

Транзакции можно отправлять в узлы блокчейн через конечную точку RPC. Клиенты взаимодействуют с узлом транзакции, используя обратный прокси-сервер, который обрабатывает проверку подлинности пользователя и шифрует данные по протоколу SSL.

![Схема проверки подлинности](./media/data-security/authentication.png)

Существует три режима проверки подлинности для доступа RPC.

### <a name="basic-authentication"></a>Обычная аутентификация

Обычная проверка подлинности использует заголовок проверки подлинности HTTP, содержащий имя пользователя и пароль. Имя пользователя — это имя узла блокчейн. Пароль задается во время подготовки элемента или узла. Пароль можно изменить с помощью портал Azure или интерфейса командной строки.

### <a name="access-keys"></a>Ключи доступа

Ключи доступа используют строку, сформированную случайным образом, которая содержится в URL-адресе конечной точки. Для включения смены ключей можно использовать два ключа доступа. Ключи можно создать повторно из портал Azure и интерфейса командной строки.

### <a name="azure-active-directory"></a>Azure Active Directory

Azure Active Directory (Azure AD) использует механизм проверки подлинности на основе утверждений, при котором пользователь проходит проверку подлинности в Azure AD с помощью учетных данных пользователя Azure AD. Azure AD обеспечивает облачное управление удостоверениями и позволяет клиентам использовать единое удостоверение во всем корпоративном приложении и доступ к приложениям в облаке. Служба Azure Блокчейн интегрируется с Azure AD, включая Федерацию идентификации, единый вход и многофакторную проверку подлинности. Вы можете назначить пользователей, группы и роли приложений в Организации для доступа к членам и узлам блокчейн.

Прокси-сервер клиента Azure AD доступен на сайте [GitHub](https://github.com/Microsoft/azure-blockchain-connector/releases). Прокси клиента направляет пользователя на страницу входа в Azure AD и получает маркер носителя после успешной проверки подлинности. Затем пользователь подключает клиентское приложение Ethereum, например жес или Труффле, к конечной точке прокси-сервера клиента. Наконец, при отправке транзакции прокси клиента внедряет токен носителя в заголовок HTTP, а обратный прокси-сервер проверяет маркер с помощью протокола OAuth.

## <a name="keys-and-ethereum-accounts"></a>Ключи и учетные записи Ethereum

При подготовке члена службы Azure Блокчейн создается учетная запись Ethereum и пара открытого и закрытого ключей. Закрытый ключ используется для отправки транзакций в блокчейн. Учетная запись Ethereum — это последние 20 байт хэша открытого ключа. Учетная запись Ethereum также называется бумажником.

Пара закрытых и открытых ключей хранится как файл ключа в формате JSON. Закрытый ключ шифруется с помощью пароля, указанного при создании службы блокчейн.

Закрытые ключи используются для цифровой подписи транзакций. В частном блокчейна смарт-контракт, подписанный закрытым ключом, представляет удостоверение подписавшего. Чтобы проверить допустимость подписи, получатель может сравнить открытый ключ подписавший с адресом, вычисленным на основе подписи.

Ключи несчастливых используются для уникальной идентификации узла кворума. Ключи несчастливых создаются во время подготовки узла и указываются в параметре Приватефор закрытой транзакции в кворуме.

## <a name="next-steps"></a>Дальнейшие действия

[Настройка узлов транзакций службы Azure Блокчейн](configure-transaction-nodes.md)
