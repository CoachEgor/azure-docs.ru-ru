---
title: Безопасность блокчейн-сервиса Azure
description: Концепции доступа к данным и безопасности Службы блокчейн Azure Blockchain
ms.date: 11/22/2019
ms.topic: conceptual
ms.reviewer: janders
ms.openlocfilehash: 06bf4e0fa4037b07505a4f816fc7af56c14576d8
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "75982224"
---
# <a name="azure-blockchain-service-security"></a>Безопасность блокчейн-сервиса Azure

Служба блокчейн Azure использует несколько возможностей Azure для обеспечения безопасности и доступности данных. Данные защищены с помощью изоляции, шифрования и аутентификации.

## <a name="isolation"></a>Изоляция

Ресурсы Azure Blockchain Service изолированы в частной виртуальной сети. Каждая транзакция и узлы проверки — это виртуальная машина (VM). Виртуальные выв.в одной виртуальной сети не могут напрямую общаться с виртуальными в другой виртуальной сети. Изоляция гарантирует, что связь остается частной внутри виртуальной сети. Более подробную информацию об изоляции виртуальной сети Azure можно узнать [в общедоступном облаке Azure.](../../security/fundamentals/isolation-choices.md#networking-isolation)

![Диаграмма VNET](./media/data-security/vnet.png)

## <a name="encryption"></a>Шифрование

Данные пользователей хранятся в хранилище Azure. Данные пользователей шифруются в движении и в состоянии покоя для обеспечения безопасности и конфиденциальности. Для получения дополнительной информации см.: [Руководство по безопасности хранилища Azure](../../storage/blobs/security-recommendations.md).

## <a name="authentication"></a>Проверка подлинности

Транзакции могут быть отправлены в блокчейн-узлы через конечную точку RPC. Клиенты общаются с узлами транзакций с помощью обратного прокси-сервера, который обрабатывает аутентификацию пользователя и шифрует данные по SSL.

![Диаграмма аутентификации](./media/data-security/authentication.png)

Существует три способа проверки подлинности для доступа КПК.

### <a name="basic-authentication"></a>обычная проверка подлинности

Базовая аутентификация использует заголовок проверки подлинности HTTP, содержащий имя пользователя и пароль. Имя пользователя — это имя блокчейн-узла. Пароль устанавливается во время подготовки участника или узла. Пароль можно изменить с помощью портала Azure или CLI.

### <a name="access-keys"></a>Ключи доступа

Ключи доступа используют случайно сгенерированную строку, включенную в URL-адрес конечных точек. Два ключа доступа позволяют включить вращение ключей. Ключи можно регенерировать с портала Azure и CLI.

### <a name="azure-active-directory"></a>Azure Active Directory

В Azure Active Directory (Azure AD) используется механизм проверки подлинности на основе запросов, в котором пользователь проверяется Azure AD с помощью учетных данных пользователей Azure AD. Azure AD обеспечивает управление облачными идентификационными данными и позволяет клиентам использовать единую идентификацию на всей территории предприятия и получать доступ к приложениям в облаке. Служба блокчейн Azure интегрируется с Azure AD, позволяющим использовать id federation, единую идентификационную и многофакторную аутентификацию. Вы можете назначить пользователям, группам и функциям приложений в вашей организации доступ к блокчейну и доступу к узлам.

Прокси-сервер клиента Azure AD доступен на [GitHub.](https://github.com/Microsoft/azure-blockchain-connector/releases) Клиентпроксит направляет пользователя на страницу регистрации Azure AD и получает токен носителя после успешной проверки подлинности. Впоследствии пользователь подключает клиентское приложение Ethereum, такое как Geth или Truffle, к конечному пункту прокси-сервера клиента. Наконец, при отправке транзакции прокси-сервер клиента вводит маркер носителя в заголовок http, а обратный прокси проверяет токен с помощью протокола OAuth.

## <a name="keys-and-ethereum-accounts"></a>Счета ключей и Ethereum

При подготовке участника Службы блокчейн Azure создается учетная запись Ethereum и публичная и частная пара ключей. Частный ключ используется для отправки транзакций на блокчейн. Счет Ethereum является последними 20 байтами хэша общественного ключа. Счет Ethereum также называется кошельком.

Частная и публичная пара ключей хранится в виде ключевого файла в формате JSON. Частный ключ шифруется с помощью пароля, введенного при создании службы блокчейн-книги.

Частные ключи используются для цифрового подписания транзакций. В частных блокчейнах смарт-контракт, подписанный частным ключом, представляет личность подписавшего. Чтобы проверить достоверность подписи, получатель может сравнить открытый ключ подписавшего с адресом, вычисленному из подписи.

Ключи созвездия используются для однозначной идентификации узла Кворума. Ключи созвездия генерируются во время подготовки узлов и указаны в privateFor параметр частной транзакции в Кворуме.

## <a name="next-steps"></a>Дальнейшие действия

[Узнайте, как настроить доступ к активному каталогу Azure для службы блокчейн Azure.](configure-aad.md)
