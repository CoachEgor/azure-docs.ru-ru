---
title: Настройка службы Azure Blockchain транзакции узлов
description: Настройка службы Azure Blockchain транзакции узлов
services: azure-blockchain
keywords: ''
author: PatAltimore
ms.author: patricka
ms.date: 05/02/2019
ms.topic: article
ms.service: azure-blockchain
ms.reviewer: seal
manager: femila
ms.openlocfilehash: dffeb81ae1eb244c38639a1241c0581e6fcdf94a
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "65027965"
---
# <a name="configure-azure-blockchain-service-transaction-nodes"></a>Настройка службы Azure Blockchain транзакции узлов

Для взаимодействия со службой Azure Blockchain, делать это через подключение к одного или нескольких узлов транзакции в блокчейн-члене.  Чтобы взаимодействовать с узлами транзакции, необходимо будет настроить узлы для доступа.

## <a name="prerequisites"></a>Технические условия

* [Создайте участника службы "Блокчейн Azure".](create-member.md)

## <a name="transaction-node-overview"></a>Обзор узла транзакций

Узлы транзакции используются для отправки транзакции блокчейн в Azure Blockchain службы через общедоступную конечную точку. Узел транзакций по умолчанию содержит закрытый ключ учетной записи, Ethereum, зарегистрированные с блокчейном и таким образом, не может быть удален.

Чтобы просмотреть сведения об узле транзакций по умолчанию:

1. Войдите на [портале Azure](https://portal.azure.com).
1. Перейдите в область участника службы "Блокчейн Azure". Выберите **узлы транзакции**.

    ![Выбор узла транзакций по умолчанию](./media/configure-transaction-nodes/nodes.png)

    Сведений о включают адреса общедоступной конечной точки и открытый ключ.

## <a name="create-transaction-node"></a>Создание узла транзакций

Можно добавить до девяти дополнительных транзакций узлов для блокчейн член, в течение десяти узлов транзакции. Путем добавления узлов транзакции, можно повысить масштабируемость или распределения нагрузки. Например можно создать узел конечную точку транзакции для различных клиентских приложений.

Добавление узла транзакций:

1. На портале Azure перейдите к вашей службе Azure Blockchain член и выберите **узлы транзакции > Добавить**.
1. Установки параметров для нового узла транзакции.

    ![Добавление узла транзакций](./media/configure-transaction-nodes/add-node.png)

    | Параметр | ОПИСАНИЕ |
    |---------|-------------|
    | Name | Имя узла транзакций. Имя, используемое при создании адреса DNS для конечной точки узла транзакций. Например, `newnode-myblockchainmember.blockchain.azure.com`. Имя узла не может изменяться после ее создания. |
    | Пароль | Задайте надежный пароль. Используйте пароль для доступа к конечной точке узла транзакции с обычной проверкой подлинности.

1. Нажмите кнопку **Создать**.

    Подготовка нового узла транзакций занимает около 10 минут. Узлы дополнительных транзакций затратам. Дополнительные сведения о стоимости см. в разделе [цены на Azure](https://aka.ms/ABSPricing).

## <a name="endpoints"></a>Конечные точки

Узлы транзакции имеют уникальное имя DNS и общедоступные конечные точки.

Чтобы просмотреть сведения о конечной точке узла транзакций:

1. На портале Azure перейдите к одному из узлов службы Azure Blockchain член транзакции и выберите **Обзор**.

    ![Конечные точки](./media/configure-transaction-nodes/endpoints.png)

Конечных точек узла транзакций являются безопасными и требуют проверки подлинности. Можно подключиться к конечной точке транзакции с использованием проверки подлинности Azure AD, обычная проверка подлинности HTTPS и с помощью ключа доступа по протоколу HTTPS или Websocket через SSL.

### <a name="azure-active-directory-access-control"></a>Управление доступом Azure Active Directory

Конечные точки узел Azure Blockchain службы транзакций поддерживают проверку подлинности Azure Active Directory (Azure AD). Вы можете предоставить Azure AD пользователя, группы и субъекту-службе доступ к конечной точке.

Чтобы предоставить Azure в конечную точку управления доступом AD:

1. На портале Azure перейдите к вашей службе Azure Blockchain член и выберите **узлы транзакции > Управление доступом (IAM) > Добавить > добавить назначение роли**.
1. Создайте новое назначение роли для пользователя, группы или субъекта-службы (роли приложений).

    ![Добавить роль IAM](./media/configure-transaction-nodes/add-role.png)

    | Параметр | Действие |
    |---------|-------------|
    | Роль | Выберите **владельца**, **участник**, или **чтения**.
    | Назначение доступа для | Выберите **пользователя, группы или субъекта-службы Azure AD**.
    | Выберите пункт | Найдите пользователя, группы или субъекта-службы, который вы хотите добавить.

1. Выберите **Сохранить** Добавление назначения роли.

Дополнительные сведения об управлении доступом Azure AD см. в разделе [управление доступом к ресурсам Azure с помощью RBAC и портала Azure](../../role-based-access-control/role-assignments-portal.md)

Дополнительные сведения о подключении с использованием проверки подлинности Azure AD, см. в разделе [подключиться к узлу с использованием проверки подлинности AAD](configure-aad.md).

### <a name="basic-authentication"></a>Обычная аутентификация

Для обычной проверки подлинности HTTPS учетные данные пользователя имя и пароль передаются в заголовке HTTPS запроса к конечной точке.

Можно просмотреть сведения о конечной точке узла транзакций обычную проверку подлинности на портале Azure. Перейдите к одному из узлов транзакции службы Azure Blockchain член и выберите **обычной проверки подлинности** в параметрах.

![Обычная аутентификация](./media/configure-transaction-nodes/basic.png)

Имя пользователя — это имя вашего узла и не может быть изменено.

Чтобы использовать URL-адрес, замените \<пароль\> с паролем, задайте во время подготовки узла. Пароль можно обновить, выбрав **сброс пароля**.

### <a name="access-keys"></a>Ключи доступа

Для проверки подлинности ключа доступа ключ доступа включается в URL-адрес конечной точки. При подготовке узла транзакций создаются два ключа доступа. Можно использовать либо ключ доступа для проверки подлинности. Два ключа позволяют изменить и смены ключей.

Можно просмотреть основные сведения доступа узла транзакций и копирование адреса конечных точек, которые включают ключи доступа. Перейдите к одному из узлов транзакции службы Azure Blockchain член и выберите **ключи доступа** в параметрах.

### <a name="firewall-rules"></a>Правила файрволла

Правила брандмауэра можно ограничить IP-адреса, которые можно попытаться проходить проверку подлинности вашего узла транзакций.  Если правила брандмауэра не настроены для вашего узла транзакции, он недоступен в какой-либо стороной.  

Чтобы просмотреть правила брандмауэра узла транзакций, перейдите к одному из узлов службы Azure Blockchain член транзакции и выберите **правила брандмауэра** в параметрах.

Вы можете добавить правила брандмауэра, введя имя правила, начальный IP-адрес адрес и конечный IP-адресов в **правила брандмауэра** сетки.

![Правила файрволла](./media/configure-transaction-nodes/firewall-rules.png)

Чтобы включить:

* **Один IP-адрес:** Настройка же IP-адрес для начального и конечного IP-адресов.
* **Диапазон IP-адресов:** Настройка начального и конечного диапазона IP-адресов. Например диапазон, начиная с 10.221.34.0 и заканчивая 10.221.34.255 включает весь 10.221.34.xxx подсети.
* **Разрешите все IP-адреса:** Настройте начальный IP-адрес 0.0.0.0 и 255.255.255.255 конечный IP-адрес.

## <a name="connection-strings"></a>Строки подключения

Синтаксис строки подключения для вашего узла транзакций предоставляется для базовой проверки подлинности или клавиши доступа. Предоставляются строки подключения, включая ключи доступа по протоколу HTTPS и WebSockets.

Можно просмотреть строки подключения узла транзакций и копирование адреса конечных точек. Перейдите к одному из узлов транзакции службы Azure Blockchain член и выберите **строки подключения** в параметрах.

![Строки подключения](./media/configure-transaction-nodes/connection-strings.png)

## <a name="sample-code"></a>Пример кода

Пример кода позволяет быстро включить подключение к узлу через Web3, Nethereum, Web3js и Truffle транзакции.

Можно просмотреть код подключения пример узла транзакций и скопируйте его для использования с популярными средствами разработки. Перейдите к одному из узлов транзакции службы Azure Blockchain член и выберите **пример кода** в параметрах.

Перейдите на вкладку Web3 или Nethereum, чтобы просмотреть пример кода, который вы хотите использовать.

![Пример кода](./media/configure-transaction-nodes/sample-code.png)

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Настройка узлов транзакции с помощью Azure CLI](manage-cli.md)
