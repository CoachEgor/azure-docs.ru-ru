---
title: Общие сведения об управляемом удостоверении Service Fabric | Документация Майкрософт
description: В этой статье представлен обзор управляемого удостоверения.
services: service-fabric
author: athinanthny
ms.service: service-fabric
ms.topic: conceptual
ms.date: 07/25/2019
ms.author: atsenthi
ms.openlocfilehash: e2f05ba28109a9b3c88d80eb218bf94014f0f082
ms.sourcegitcommit: 3486e2d4eb02d06475f26fbdc321e8f5090a7fac
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2019
ms.locfileid: "73243031"
---
# <a name="managed-identity-for-service-fabric-application-preview"></a>Управляемое удостоверение для приложения Service Fabric (Предварительная версия)

Распространенная проблема при создании облачных приложений — управление учетными данными в коде для проверки подлинности в облачных службах. Обеспечение безопасности учетных данных является важной задачей, так как они никогда не отображаются на рабочих станциях разработчиков и не возвращаются в систему управления версиями. Эта проблема решается с помощью функции управляемого удостоверения для ресурсов Azure в Azure Active Directory (Azure AD). Функция предоставляет службам Azure автоматически управляемое удостоверение в Azure AD. Удостоверение можно использовать для проверки подлинности в любой службе, которая поддерживает проверку подлинности Azure AD, включая Key Vault, при этом не сохраняя каких-либо учетных данных в коде.

Функция управляемого удостоверения для ресурсов Azure предоставляется бесплатно с Azure AD для подписок Azure. Дополнительные затраты не требуются.

> [!NOTE]
> Управляемое удостоверение для ресурсов Azure — это новое имя для службы, ранее известное как Управляемое удостоверение службы (MSI).

## <a name="terminology"></a>Термины

В наборе документации по управляемому удостоверению для ресурсов Azure используются следующие термины:

- **Идентификатор клиента** — уникальный идентификатор, СОЗДАННЫЙ Azure AD, привязанный к приложению и субъекту-службе во время начальной подготовки (также см. [идентификатор приложения](/azure/active-directory/develop/developer-glossary#application-id-client-id)).

- **Идентификатор субъекта** — идентификатор объекта субъекта-службы для управляемого удостоверения, который используется для предоставления доступа на основе ролей к ресурсу Azure.

- **Субъект-служба** — объект Azure Active Directory, представляющий проекцию приложения AAD в заданном клиенте (см. также [субъект-служба](../active-directory/develop/developer-glossary.md#service-principal-object)).


## <a name="about-managed-identities-in-azure"></a>Об управляемых удостоверениях в Azure

- [Типы управляемых удостоверений (MI) в Azure](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview#how-does-the-managed-identities-for-azure-resources-work)

- [Как назначенное системой управляемое удостоверение работает в Azure](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview#how-a-system-assigned-managed-identity-works-with-an-azure-vm)

- [Как работает определяемый пользователем управляемый идентификатор (MI) в Azure](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview#how-a-user-assigned-managed-identity-works-with-an-azure-vm)


## <a name="supported-scenarios-for-service-fabric-applications"></a>Поддерживаемые сценарии для приложений Service Fabric

Управляемые удостоверения для Service Fabric поддерживаются только в развернутых Service Fabric кластерах Azure и только для приложений, развернутых в качестве ресурсов Azure. приложению, которое не развернуто в качестве ресурса Azure, нельзя назначить удостоверение. Концептуально говоря, поддержка управляемых удостоверений в кластере Azure Service Fabric состоит из двух этапов:

1. Назначение одного или нескольких управляемых удостоверений ресурсу приложения; приложению может быть назначено одно назначенное системой удостоверение и (или) до 32 учетных записей, назначенных пользователем соответственно.

2. В определении приложения Сопоставьте одно из удостоверений, назначенных приложению, с любой отдельной службой, включающей приложение.

Назначенное системой удостоверение приложения уникально для этого приложения; назначаемое пользователем удостоверение — это автономный ресурс, который может быть назначен нескольким приложениям. В приложении одно удостоверение (назначенное системой или назначенное пользователем) может быть назначено нескольким службам приложения, но каждой отдельной службе можно назначить только одно удостоверение. Наконец, службе необходимо явно назначить удостоверение для доступа к этой функции. По сути, Сопоставление удостоверений приложения со связанными с ним службами позволяет выполнять изоляцию в приложении. служба может использовать только сопоставленное ей удостоверение (и не все, если оно явно не было назначено).  

Ниже приведен список поддерживаемых сценариев для предварительной версии.

   - Развертывание нового приложения с одной или несколькими службами и одним или несколькими назначенными удостоверениями

   - Назначение одного или нескольких управляемых удостоверений существующему приложению для доступа к ресурсам Azure; приложение должно быть развернуто как ресурс Azure.


Следующие сценарии не поддерживаются и не рекомендуются. Обратите внимание, что эти действия могут не блокироваться, но могут привести к простоям приложений:

   - Удаление или изменение удостоверений, назначенных приложению; Если необходимо внести изменения, отправьте отдельные развертывания, чтобы сначала добавить новое назначение удостоверений, а затем удалить ранее назначенное. Удаление удостоверения из существующего приложения может привести к нежелательным последствиям, включая сохранение приложения в состоянии, которое не обновляется. Можно полностью удалить приложение, если требуется удалить удостоверение. Обратите внимание, что при этом будет удалено назначенное системой удостоверение (если оно определено), связанное с приложением, и будут удалены все связи с назначенными пользователем удостоверениями, назначенными приложению.

   - Поддержка управляемых удостоверений в настоящее время не интегрирована в [AzureServiceTokenProvider](../key-vault/service-to-service-authentication.md); интеграция будет достигнута до окончания периода предварительной версии для функции управляемого удостоверения.

>
> [!NOTE]
>
> Эта функция доступна в предварительной версии; Таким образом, это может быть подвержено частым изменениям и не подходит для рабочих развертываний.

## <a name="next-steps"></a>Дальнейшие действия
* [Развертывание нового кластера Azure Service Fabric с поддержкой управляемого удостоверения](./configure-new-azure-service-fabric-enable-managed-identity.md) 
* [Включение поддержки управляемого удостоверения в существующем кластере Azure Service Fabric](./configure-existing-cluster-enable-managed-identity-token-service.md)
* [Развертывание приложения Service Fabric Azure с управляемым удостоверением, назначенным системой](./how-to-deploy-service-fabric-application-system-assigned-managed-identity.md)
* [Развертывание приложения Service Fabric Azure с помощью управляемого удостоверения, назначенного пользователем](./how-to-deploy-service-fabric-application-user-assigned-managed-identity.md)
* [Использование управляемого удостоверения Service Fabric приложения из кода службы](./how-to-managed-identity-service-fabric-app-code.md)
* [Предоставление приложению Azure Service Fabric доступа к другим ресурсам Azure](./how-to-grant-access-other-resources.md)
* [Объявление и использование секретов приложения в качестве Кэйваултреференцес](./service-fabric-keyvault-references.md) 
