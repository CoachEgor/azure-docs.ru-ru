---
title: Azure Service Fabric диагностировать ошибки пакета кода | Документация Майкрософт
description: Узнайте, как устранять распространенные проблемы кода пакета с помощью Azure Service Fabric
services: service-fabric
documentationcenter: .net
author: grzuber
manager: gkhanna
editor: ''
ms.assetid: ''
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 05/09/2019
ms.author: grzuber
ms.openlocfilehash: 235952388d2c044cc141b3020c67944c4250ea3d
ms.sourcegitcommit: a52d48238d00161be5d1ed5d04132db4de43e076
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/20/2019
ms.locfileid: "67276955"
---
# <a name="diagnose-common-code-package-errors-with-service-fabric"></a>Диагностику наиболее распространенных ошибок пакета кода с помощью Service Fabric

В этой статье показано, что это значит для пакета кода неожиданного завершения работы и предоставляет сведения о возможных причинах проблем распространенные коды ошибок, а также действия по устранению неполадок, которые потенциально могут устранить проблему.

## <a name="when-does-a-process-or-container-terminate-unexpectedly"></a>Если процесс или контейнер привести к непредвиденному завершению?

Получив запрос на запуск пакета кода, Service Fabric начинается подготовка среды в локальной системе, в зависимости от параметров конфигурации, заданных в приложение и манифесты служб. Указанные ниже подготовительные действия может включать резервирование конечных точек сети или ресурсы, настройке правил брандмауэра или Настройка ограничения ресурсов системы управления. После правильной настройки среды, Service Fabric пытается открыть пакет кода. Этот шаг, считается успешным, если среда выполнения операционной системы или контейнер сообщает, что процесс или контейнер был активирован успешно. Если активация завершилась ошибкой, вы увидите сообщение о работоспособности в SFX с текстом

```
There was an error during CodePackage activation. Service host failed to activate. Error: 0xXXXXXXXX
```

Когда пакет кода успешно включения, Service Fabric начинает наблюдение за времени его существования. На этом этапе процесса или контейнера можно завершить в любое время по ряду причин. Он может не удалось инициализировать библиотеку DLL операционной системы может быть вызвано нехваткой места кучи рабочего стола и т. д. Если ваш пакет кода завершается, вы увидите сообщение о работоспособности в SFX с текстом

```
The process/container terminated with exit code: XXXXXXXX. Please look at your application logs/dump or debug your code package for more details. For information about common termination errors, please visit https://aka.ms/service-fabric-termination-errors
```

Код выхода предоставляются в этой службе работоспособности, сообщение является только ключ, предоставляемые процесс или контейнер, о том, почему она завершена, и он может быть сформирован на любой уровень стека. Трудно понять, если этот код выхода, например, связанная с с ошибкой операционной системы, проблема с .NET, или было создано в коде. Таким образом в этой статье может использоваться в качестве отправной точки для диагностики источника кодов выхода, и возможные решения, ограничения в виду, что они являются универсальные пути решения для распространенных сценариев и могут не относиться к ошибке вы видите.

## <a name="how-can-i-tell-if-service-fabric-terminated-my-code-package"></a>Как узнать, если Service Fabric завершается Мой пакет кода?

Service Fabric будет отвечать за завершение пакета кода по ряду причин. Например, он может понадобиться разместить пакет кода на другом узле для балансировки нагрузки в целях. Чтобы узнать, если код пакета завершена по Service Fabric, если из кодов выхода в следующей таблице:

>[!NOTE]
> Если процесс или контейнер завершается с кодом выхода, отличный от тех, в следующей таблице, Service Fabric не несет ответственности за ее завершением.

Код выхода | Описание
--------- | -----------
7147 | Эти коды ошибок указывают, что Service Fabric корректно завершить процесс или контейнер, отправляя ему сигнал Ctrl + C.
7148 | Эти коды ошибок указывают, что Service Fabric прекратить процесс или контейнер. В некоторых случаях этот код ошибки может указывать, что процесс или контейнер не ответил вовремя после отправки сигнала Ctrl + C, поэтому его необходимо завершить.


## <a name="other-common-error-codes-and-their-potential-fixes"></a>Другие распространенные коды ошибок и их возможные решения

Код выхода | Шестнадцатеричное значение | Краткое описание | Причина | Возможные исправления
--------- | --------- | ----------------- | ---------- | -------------
3221225794 | 0xc0000142 | STATUS_DLL_INIT_FAILED | Возможно, эта ошибка может означать, что компьютер хватает пространства кучи рабочего стола. Эта причина особенно вероятно, если у вас есть большое количество процессов для вашего приложения, работающего на узле. | Если программа не был собран реагировать на сигналы, Ctrl + C, можно включить параметр «EnableActivateNoWindow» в манифесте кластера. При включении этого параметра означает код пакета выполнялась без окна графического пользовательского интерфейса и не будет получать сигналы Ctrl + C, но уменьшится объем пространства кучи рабочего стола, который потребляет каждый процесс. Если пакет кода должен получать сигналы Ctrl + C, можно увеличить размер кучи рабочего стола вашего узла.
3762504530 | 0xe0434352 | Н/Д | Это значение является код ошибки для необработанных исключений из управляемого кода (то есть .NET). | Если вы видите этот код выхода, это означает, что приложения возникает исключение, которое осталось необработанным и процесс был остановлен. Отладка журналы и дампы приложения должен быть первым шагом для определения причины ошибки.

## <a name="next-steps"></a>Дальнейшие действия

* Дополнительные сведения о [других стандартных сценариев диагностики](service-fabric-diagnostics-common-scenarios.md)
* Более подробные сведения журналов Azure Monitor и ее возможностях, считывая [что такое журналы Azure Monitor?](../operations-management-suite/operations-management-suite-overview.md)
* Дополнительные сведения о журналах Azure Monitor [предупреждений](../log-analytics/log-analytics-alerts.md) для помогают выполнять обнаружение и диагностику.
* Ознакомьтесь с функциями [поиска и запроса журналов](../log-analytics/log-analytics-log-searches.md) функции, предоставляемые как часть журналов Azure Monitor
