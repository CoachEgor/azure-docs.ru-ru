---
title: Настройка модели Person с помощью API video Indexer
titleSuffix: Azure Media Services
description: Узнайте, как настроить модель Person с помощью API Video Indexer.
services: media-services
author: anikaz
manager: johndeu
ms.service: media-services
ms.subservice: video-indexer
ms.topic: article
ms.date: 01/14/2020
ms.author: anzaman
ms.openlocfilehash: fa41fca7f8ad96cf507aa6f04059b1254c8c3961
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "80127891"
---
# <a name="customize-a-person-model-with-the-video-indexer-api"></a>Настройка модели пользователя с помощью API Индексатора видео

Индексатор видео поддерживает функцию определения лиц и распознавания знаменитостей для видеосодержимого. Функция распознавания знаменитостей охватывает около миллиона лиц на основе часто запрашиваемых источников данных, таких как IMDB, Википедия и ведущие влиятельные лица LinkedIn. Лица, которые не распознаются функцией распознавания знаменитостей, обнаруживаются, но остаются неназванными. После загрузки видео на Video Indexer и получения результатов, вы можете вернуться и назвать лица, которые не были признаны. После того как вы введете имя для определенного лица, это лицо и назначенное имя будут добавлены в модель пользователя вашей учетной записи. Индексатор видео затем сможет распознать это лицо в будущих и предыдущих видео.

Вы можете использовать API Индексатора видео для изменения обнаруженных в видео лиц, как описано в этом разделе. Вы также можете использовать API, как описано в статье [Customize Person model using the Video Indexer website](customize-person-model-with-api.md) (Настройка модели пользователя с помощью API Индексатора видео).

## <a name="managing-multiple-person-models"></a>Управление несколькими моделями пользователя

Индексатор видео поддерживает использование нескольких моделей пользователя на одну учетную запись. Эта функция сейчас доступна только с помощью API Индексатора видео.

Если ваша учетная запись поддерживает разные сценарии ввода-вывода, вам может потребоваться создать несколько моделей пользователя на одну учетную запись. Например, если ваш контент связан со спортом, можно создать отдельную модель Person для каждого вида спорта (футбол, баскетбол, футбол и так далее).

После создания модели вы можете использовать ее указав идентификатор конкретной модели пользователя при отправке, индексации или переиндексации видео. Обучение нового лица для видео обновляет определенную настраиваемую модель, с которой это видео было связано.

Для каждой учетной записи стоит ограничение в 50 моделей пользователя. Если вам не нужна поддержка модели нескольких человек, не назначайте идентификатор модели Person на видео при загрузке/индексации или переиндексации. В этом случае Индексатор видео использует пользовательскую модель пользователя по умолчанию с вашей учетной записи.

## <a name="create-a-new-person-model"></a>Создание новой модели пользователя

Для создания новой модели Person в указанной учетной записи используйте [API модели модели person.](https://api-portal.videoindexer.ai/docs/services/operations/operations/Create-Person-Model?)

Ответ предоставляет имя и идентификатор модели пользователя, которую вы создали используя формат из примера приведенного ниже.

```json
{
    "id": "227654b4-912c-4b92-ba4f-641d488e3720",
    "name": "Example Person Model"
}
```

Затем при [загрузке видео](https://api-portal.videoindexer.ai/docs/services/operations/operations/Upload-video?) для индексирования или [переиндексации видео](https://api-portal.videoindexer.ai/docs/services/operations/operations/Re-index-video?)используется значение **идентификатора** для параметра **personModelId.**

## <a name="delete-a-person-model"></a>Удаление модели пользователя

Чтобы удалить пользовательскую модель Person из указанной учетной записи, используйте [API модели удаления.](https://api-portal.videoindexer.ai/docs/services/operations/operations/Delete-Person-Model?)

После успешного удаления модели пользователя, индекс ваших видео, который использовал удаленную модель, измениться только после переиндексации. После переиндексации лица, названные в удаленной модели, не будут распознаны Видеоиндексом в текущих видео, которые были проиндексированы с помощью этой модели, но лица все равно будут обнаружены. Ваши видео, индексирование с помощью удаленной модели, будут использовать модель пользователя вашей учетной записи по умолчанию. Если имена лиц с удаленной модели также подсоединены к вашей модели учетной записи по умолчанию, то они все же будут распознаваться в видео.

При успешном удалении модели Person нет возвращенного содержимого.

## <a name="get-all-person-models"></a>Получение всех моделей пользователя

Чтобы получить все модели Person в указанной учетной записи, используйте [API модели person.](https://api-portal.videoindexer.ai/docs/services/operations/operations/Get-Person-Models?)

Ответ содержит список всех моделей Person в вашей учетной записи (включая модель Person по умолчанию в указанной учетной записи) и каждого из их имен и идентипов ских показаний в соответствии с форматом приведенного ниже примера.

```json
[
    {
        "id": "59f9c326-b141-4515-abe7-7d822518571f",
        "name": "Default"
    }, 
    {
        "id": "9ef2632d-310a-4510-92e1-cc70ae0230d4",
        "name": "Test"
    }
]
```

Вы можете выбрать, какую модель вы хотите `id` использовать для видео, `personModelId` используя значение модели Person для параметра при [загрузке видео для индексирования](https://api-portal.videoindexer.ai/docs/services/operations/operations/Upload-video?) или [переиндексации видео.](https://api-portal.videoindexer.ai/docs/services/operations/operations/Re-index-video?)

## <a name="update-a-face"></a>Обновление информации о лицах

Эта команда позволяет обновлять информацию о лицах в вашем видео добавлением имени с помощью идентификатора видео и идентификатора лица. Затем это действие обновляет модель Person, с помощью которого видео было связано при загрузке/индексации или переиндексации. Если не было указано модель пользователя, тогда обновляется модель учетной записи по умолчанию.

Затем система распознает случаи одного и того же лица в других текущих видео, которые имеют ту же модель Person. Распознавание лиц в других имеющихся видео может занять некоторое время, так как этот процесс представляет собой пакетную обработку.

Вы можете присвоить лицу, которое Индексатор видео распознал как знаменитость, новое имя. Новое имя, которое вы присвоите, будет иметь приоритет над именами, встроенными в функцию распознавания знаменитостей.

Для обновления лица используйте [aPI-файл обновления видео лица.](https://api-portal.videoindexer.ai/docs/services/operations/operations/Update-Video-Face?)

Имена уникальны для моделей Person, так что если вы даете два разных лица в одной модели Person одинаковое `name` значение параметра, Video Indexer просматривает лица как одного и того же человека и сходится их, как только вы переиндексируете видео.

## <a name="next-steps"></a>Дальнейшие действия

[Customize Person model using the Video Indexer website](customize-person-model-with-website.md) (Настройка модели пользователя с помощью веб-сайта Индексатора видео)
