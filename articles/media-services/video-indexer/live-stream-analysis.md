---
title: Динамический анализ потоков с помощью индексатора видео
titleSuffix: Azure Media Services
description: В этой статье показано, как выполнить динамический анализ потоков с помощью индексатора видео.
services: media-services
author: Juliako
manager: femila
ms.service: media-services
ms.subservice: video-indexer
ms.topic: article
ms.date: 11/13/2019
ms.author: juliako
ms.openlocfilehash: 4766d48a748fedd82532f2ac49223ab0460b9ef7
ms.sourcegitcommit: fa41a56357de487b10e54711fbbdbd4a373fa67c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/18/2019
ms.locfileid: "74153558"
---
# <a name="live-stream-analysis-with-video-indexer"></a>Интерактивный анализ потоков с помощью индексатора видео

Индексатор видео служб мультимедиа Azure — это служба Azure, предназначенная для извлечения глубокой информации из видео-и звуковых файлов в автономном режиме. Это необходимо для анализа указанного файла мультимедиа, созданного заранее. Однако в некоторых случаях важно как можно быстрее получить аналитику мультимедиа из динамического канала, чтобы разблокировать операционные и другие варианты использования, которые были нажаты вовремя. Например, такие обширные метаданные в реальном потоке могут использоваться производителями содержимого для автоматизации рабочей среды передачи.

Решение, описанное в этой статье, позволяет клиентам использовать индексатор видео в разрешениях практически в реальном времени для интерактивных каналов. Задержка индексирования может быть не меньше четырех минут, использующих это решение, в зависимости от фрагментов индексируемых данных, разрешения ввода, типа содержимого и вычислений, используемых для этого процесса.

![Метаданные индексатора видео в потоке в реальном времени](./media/live-stream-analysis/live-stream-analysis01.png)

*Рис. 1. пример проигрывателя, отображающий метаданные индексатора видео в потоке в реальном времени*

[Решение Streaming для анализа потоков](https://github.com/Azure-Samples/media-services-dotnet-functions-integration/blob/master/media-functions-for-logic-app/LiveStreamAnalysis.md) использует функции Azure и две Logic Apps для обработки динамической программы из динамического канала в службах мультимедиа Azure с помощью индексатора видео и отображает результат с проигрыватель мультимедиа Azure отображения потока, полученного практически в реальном времени.

На высоком уровне он состоит из двух основных этапов. Первый шаг выполняется каждые 60 секунд и принимает подклип последних 60 секунд, который воспроизводился, создает ресурс-контейнер и индексирует его через индексатор видео. Затем второй шаг вызывается после завершения индексирования. Захваченные аналитические данные обрабатываются, отправляются в Azure Cosmos DB, а индексируемый индекс удаляется.

Пример проигрывателя воспроизводит динамический поток и получает аналитические сведения из Azure Cosmos DB с помощью выделенной функции Azure. В нем отображаются метаданные и эскизы, синхронизированные с видео в реальном времени.

![Два приложения логики обрабатывают поток в реальном времени каждую минуту в облаке.](./media/live-stream-analysis/live-stream-analysis02.png)

*Рис. 2. два приложения логики, обрабатывающие динамический поток каждую минуту в облаке.*

## <a name="step-by-step-guide"></a>Пошаговое руководство 

Полный код и пошаговое руководств по развертыванию результатов можно найти в [проекте GitHub для Live Media Analytics с помощью индексатора видео](https://aka.ms/livestreamanalysis). 

## <a name="next-steps"></a>Дополнительная информация

[Общие сведения об Индексаторе видео](video-indexer-overview.md)
