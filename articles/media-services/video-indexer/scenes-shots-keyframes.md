---
title: Видео индексер сцены, снимки и ключевые кадры
titleSuffix: Azure Media Services
description: Эта тема дает обзор сцен, снимков и ключевых кадров Video Indexer.
services: media-services
author: Juliako
manager: femila
ms.service: media-services
ms.subservice: video-indexer
ms.topic: article
ms.date: 07/05/2019
ms.author: juliako
ms.openlocfilehash: a833fd808049cfce95b182910e50e38d3c39f4e5
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79245945"
---
# <a name="scenes-shots-and-keyframes"></a>Сцены, снимки и опорные кадры

Video Indexer поддерживает сегментирование видео на временные единицы на основе структурных и семантических свойств. Эта возможность позволяет клиентам легко просматривать, управлять и отсеменять свой видеоконтент на основе различной детализации. Например, на основе сцен, снимков и ключевых кадров, описанных в этой теме.   

![Сцены, снимки и опорные кадры](./media/scenes-shots-keyframes/scenes-shots-keyframes.png)
 
## <a name="scene-detection"></a>Обнаружение сцены  
 
Видео индексер определяет, когда сцена изменяется в видео на основе визуальных сигналов. Сцена изображает одно событие и состоит из серии последовательных снимков, которые семантически связаны между собой. Эскиз сцены является первым ключевым кадром основного снимка. Видеоиндексер сегментирует видео в сцены, основанные на согласованности цвета между последовательными снимками и получает время начала и конца каждой сцены. Обнаружение сцен считается сложной задачей, поскольку она включает в себя количественную семантические аспекты видео.

> [!NOTE]
> Применяется к видео, которые содержат не менее 3 сцен.

## <a name="shot-detection"></a>Обнаружение сюжетов

Видеоиндексер определяет, когда снимок изменяется в видео на основе визуальных сигналов, отслеживая как резкие, так и постепенные переходы в цветовой гамме смежных кадров. Метаданные выстрела включают время начала и окончания, а также список ключевых кадров, включенных в этот снимок. Снимки являются последовательными кадрами, взятыми из одной камеры в то же время.

## <a name="keyframe-detection"></a>Обнаружение ключевых кадров

Video Indexer выбирает кадр (ы), который лучше всего представляет каждый снимок. Ключевые кадры — это репрезентативные кадры, отобранные из всего видео, основанные на эстетических свойствах (например, контрастность и стабильность). Video Indexer получает список идов ключа как часть метаданных снимка, на основе которых клиенты могут извлечь клавиатуру в виде изображения с высоким разрешением.  

### <a name="extracting-keyframes"></a>Извлечение ключевых кадров

Чтобы извлечь ключевые кадры высокого разрешения для видео, необходимо сначала загрузить и проиндексировать видео.

![Опорные кадры](./media/scenes-shots-keyframes/extracting-keyframes.png)

#### <a name="with-the-video-indexer-website"></a>С веб-сайта Видео Индексер

Для извлечения ключевых кадров с помощью веб-сайта Video Indexer, загрузите и проиндексируйте видео. После завершения задания по индексации нажмите на кнопку **Скачать** и выберите **артефакты .** Это позволит загрузить папку артефактов на ваш компьютер. 

![Опорные кадры](./media/scenes-shots-keyframes/extracting-keyframes2.png)
 
Расстегайи и откройте папку. В *_KeyframeThumbnail* папке, и вы найдете все ключевые кадры, которые были извлечены из вашего видео. 

#### <a name="with-the-video-indexer-api"></a>С API видеоиндекса

Чтобы получить ключевые кадры с помощью API Video Indexer, загрузите и проиндексируйте видео с помощью вызова [Upload Video.](https://api-portal.videoindexer.ai/docs/services/Operations/operations/Upload-Video?) После завершения задания по индексации позвоните [в Get Video Index.](https://api-portal.videoindexer.ai/docs/services/Operations/operations/Get-Video-Index?) Это даст вам все идеи, которые Видео Индексер извлечь из вашего содержимого в файле JSON.  

Вы получите список идов ключа как часть метаданных каждого выстрела. 

```json
"shots":[  
    {  
      "id":0,
      "keyFrames":[  
          {  
            "id":0,
            "instances":[  
                {  
                  "thumbnailId":"00000000-0000-0000-0000-000000000000",
                  "start":"0:00:00.209",
                  "end":"0:00:00.251",
                  "duration":"0:00:00.042"
                }
            ]
          },
          {  
            "id":1,
            "instances":[  
                {  
                  "thumbnailId":"00000000-0000-0000-0000-000000000000",
                  "start":"0:00:04.755",
                  "end":"0:00:04.797",
                  "duration":"0:00:00.042"
                }
            ]
          }
      ],
      "instances":[  
          {  
            "start":"0:00:00",
            "end":"0:00:06.34",
            "duration":"0:00:06.34"
          }
      ]
    },

]
```

Теперь вам нужно будет запустить каждый из этих идотов клавиатуры на [Вызов Get Thumbnails.](https://api-portal.videoindexer.ai/docs/services/Operations/operations/Get-Video-Thumbnail?) Это позволит загрузить каждый из изображений клавиатуры на ваш компьютер. 

## <a name="editorial-shot-type-detection"></a>Обнаружение типа редакционного выстрела

Ключевые кадры связаны с выстрелами в выводе JSON. 

Тип выстрела, связанный с отдельным выстрелом в проницательности JSON, представляет его редакционный тип. Вы можете найти эти характеристики типа выстрела полезными при редактировании видео в клипы, трейлеры, или при поиске определенного стиля клавиатуры для художественных целей. Различные типы определяются на основе анализа первого ключевого кадра каждого выстрела. Выстрелы идентифицируются по шкале, размеру и расположению лиц, появляющихся в их первом ключе. 

Размер и масштаб выстрела определяются на основе расстояния между камерой и лицами, появляющимися в кадре. Используя эти свойства, Video Indexer обнаруживает следующие типы снимков:

* Широкий: показывает тело всего человека.
* Средний: показывает верхнюю часть тела и лицо человека.
* Крупным планом: в основном показывает лицо человека.
* Экстремальный крупным планом: показывает лицо человека, заполняя экран. 

Типы снимков также могут быть определены по местоположению элементов съемки по отношению к центру кадра. Это свойство определяет следующие типы снимков в Video Indexer:

* Левое лицо: человек появляется в левой части кадра.
* Центральное лицо: человек появляется в центральной области кадра.
* Правое лицо: человек появляется в правой части кадра.
* На открытом воздухе: человек появляется на открытом воздухе.
* Крытый: человек появляется в помещении.

Дополнительные характеристики:

* Два кадра: показаны лица двух человек среднего размера.
* Несколько лиц: более двух человек.


## <a name="next-steps"></a>Дальнейшие действия

[Изучите выход видеоиндекса, производимый API](video-indexer-output-json-v2.md#scenes)
