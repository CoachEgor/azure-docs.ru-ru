---
title: Анализ динамического видео без записи — Azure
description: Граф мультимедиа можно использовать для извлечения аналитики из видеопотока в реальном времени без записи его на границе или в облаке. Эта концепция обсуждается в этой статье.
ms.topic: conceptual
ms.date: 04/27/2020
ms.openlocfilehash: 29e00b9c04a652771ca150e2a45e980d20f8bc1f
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "84260187"
---
# <a name="analyzing-live-video-without-any-recording"></a>Анализ динамического видео без записи

## <a name="suggested-pre-reading"></a>Рекомендуемые материалы для предварительного ознакомления 

* [Понятие графа мультимедиа](media-graph-concept.md)
* [Запись видео на основе событий](event-based-video-recording-concept.md)

## <a name="overview"></a>Обзор  

Вы можете использовать граф мультимедиа для анализа видео в реальном времени без записи каких-либо частей видео в файл или ресурс. Показанные ниже графы мультимедиа аналогичны тем, которые описаны в статье о [записи видео на основе событий](event-based-video-recording-concept.md), но без узла приемника ресурса или узла приемника файла.

### <a name="motion-detection"></a>Обнаружение движения

Показанный ниже граф мультимедиа состоит из узла [источника данных RTSP](media-graph-concept.md#rtsp-source) , узла [процессора для обнаружения движения](media-graph-concept.md#motion-detection-processor) и узла [приемника сообщений центра Интернета вещей](media-graph-concept.md#iot-hub-message-sink) . Представление JSON топологии графа такого графа мультимедиа можно найти [здесь](https://github.com/Azure/live-video-analytics/blob/master/MediaGraph/topologies/motion-detection/topology.json). Эта диаграмма позволяет обнаруживать движение во входящем потоке живого видео и передавать события движения в другие приложения и службы через узел приемника сообщений центра Интернета вещей. Внешние приложения или службы могут активировать оповещение или отправить уведомление соответствующим сотрудникам.

![Аналитика видеотрансляции на основе обнаружения движения](./media/analyze-live-video/motion-detection.png)

### <a name="analyzing-video-using-a-custom-vision-model"></a>Анализ видео с помощью пользовательской модели представления 

Показанный ниже граф мультимедиа позволяет анализировать поток динамического видео с помощью пользовательской модели представления, упакованной в отдельный модуль. Представление JSON топологии графа такого графа мультимедиа можно найти [здесь](https://github.com/Azure/live-video-analytics/blob/master/MediaGraph/topologies/httpExtension/topology.json). Некоторые примеры можно увидеть в [статье](https://github.com/Azure/live-video-analytics/tree/master/utilities/video-analysis) о переносе моделей в IOT Edge модули, которые выполняются в качестве службы вывода.

![Интерактивная аналитика видео на основе внешнего модуля](./media/analyze-live-video/external-inferencing-module.png)

В этом графе мультимедиа узел обработчика фильтра кадров понижает частоту кадров входящего потока видео перед его отправкой в узел [обработчика расширений HTTP](media-graph-concept.md#http-extension-processor) , который отправляет кадры изображения (в форматах JPEG, BMP или PNG) во внешнюю службу вывода. Результаты внешней службы вывода извлекаются узлом расширения HTTP и ретранслируются в центр IoT Edge через узел приемника сообщений центра Интернета вещей. Этот тип графа мультимедиа можно использовать для создания решений для различных сценариев, например для понимания распределения временных рядов транспортных средств на пересечении, понимания шаблона трафика потребителя в розничном магазине и т. д.

Усовершенствованием этого примера является использование процессора детектора движения перед узлом обработчика фильтра частоты кадров. Это снизит нагрузку на службу вывода, так как она используется только при наличии в видео действий перемещения.

![Интерактивная аналитика видео на основе обнаруженных в ходе движения кадров с помощью внешнего модуля](./media/analyze-live-video/motion-detected-frames.png)

## <a name="next-steps"></a>Дальнейшие шаги

[Непрерывная запись видео](continuous-video-recording-concept.md)
