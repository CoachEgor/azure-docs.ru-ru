---
title: Общие сведения о потоковая трансляция с помощью служб мультимедиа Azure v3 | Документация Майкрософт
description: В этой статье содержатся общие сведения о потоковой трансляции в реальном времени с использованием Служб мультимедиа Azure версии 3.
services: media-services
documentationcenter: ''
author: Juliako
manager: femila
editor: ''
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 05/11/2019
ms.author: juliako
ms.openlocfilehash: fa09185e68c8d3a70562fe50c583ff872bf91e48
ms.sourcegitcommit: 9e8dfa1169a55c3c8af93a6c5f4e0dace4de48b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/13/2019
ms.locfileid: "65556222"
---
# <a name="live-streaming-with-azure-media-services-v3"></a>Потоковая трансляция в Службах мультимедиа Azure версии 3

Службы мультимедиа Azure дают возможность предоставлять клиентам события прямой трансляции в облаке Azure. Для потоковой передачи событий прямой трансляции с помощью Служб мультимедиа вам потребуются:  

- камера для записи события;<br/>Чтобы установить оборудование, ознакомьтесь с записью блога [Simple and portable event video gear setup]( https://link.medium.com/KNTtiN6IeT) (Настройка простого портативного оборудования для сьемки).

    Если у вас нет доступа к камере, средства, такие как [Telestream Wirecast](https://www.telestream.net/wirecast/overview.htm) можно использовать создания динамического веб-канала из видеофайла.
- Динамический видеокодировщик, преобразующий сигналы с камеры (или другого устройства, например ноутбука) в исходный поток, который передается в Службы мультимедиа. этот поток может содержать сигналы, связанные с рекламой, например метки SCTE-35;<br/>Список рекомендуемых кодировщиков потоковой трансляции см. в [этой статье](recommended-on-premises-live-encoders.md). Ознакомьтесь также с записью блога [Live streaming production with OBS](https://link.medium.com/ttuwHpaJeT) (Потоковая трансляция с помощью OBS).
- компоненты Служб мультимедиа, которые дают возможность принимать, просматривать, упаковывать, записывать, шифровать и транслировать события в реальном времени непосредственно клиентам или в сеть доставки содержимого (CDN) для дальнейшего распространения.

В этой статье приводится обзор и руководство по потоковой трансляции с помощью служб мультимедиа, а также ссылки на другие соответствующие статьи.

> [!NOTE]
> В настоящее время вы не можете использовать портал Azure для управления ресурсами версии 3. Используйте [REST API](https://aka.ms/ams-v3-rest-ref), [CLI](https://aka.ms/ams-v3-cli-ref) или один из поддерживаемых [пакетов SDK](media-services-apis-overview.md#sdks).

## <a name="dynamic-packaging"></a>Динамическая упаковка

С помощью служб мультимедиа, можно воспользоваться преимуществами [динамической упаковки](dynamic-packaging-overview.md), позволяющий выполнять предварительный просмотр и широковещательных потоков в реальном времени в [форматы MPEG DASH, HLS и Smooth Streaming](https://en.wikipedia.org/wiki/Adaptive_bitrate_streaming) из вклад веб-канала который будет отправлен в службу. Ваши зрители могут воспроизводить трансляцию с помощью любых проигрывателей, поддерживающих HLS, DASH и Smooth Streaming. Для доставки потока в любом из этих протоколов можно использовать [Проигрыватель мультимедиа Azure](https://amp.azure.net/libs/amp/latest/docs/index.html) в мобильном или веб-приложении.

## <a name="dynamic-encryption"></a>Динамическое шифрование

Динамическое шифрование позволяет динамически шифровать содержимое прямом эфире или по запросу с помощью AES-128 или любой из трех основных цифровыми правами (DRM) систем: Microsoft PlayReady, Google Widevine и Apple FairPlay. Они также обеспечивают службу доставки ключей AES и лицензий DRM (PlayReady, Widevine и FairPlay) авторизованным клиентам. Дополнительные сведения см. в разделе [динамическое шифрование](content-protection-overview.md).

## <a name="dynamic-manifest"></a>Динамические манифесты

Динамической фильтрации используется для управления количеством дорожек, форматы, скоростей и периоды времени презентации, которые будут отправлены игроков. Дополнительные сведения см. в разделе [фильтры и динамические манифесты](filters-dynamic-manifest-overview.md).

## <a name="live-event-types"></a>Типы событий потоковой трансляции

Интерактивное событие может принимать одно из двух типов: кодирование к серверу и в реальном времени. Дополнительные сведения о динамической потоковой передачи в Media Services v3, см. в разделе [Live событий и выходные данные Live](live-events-outputs-concept.md).

### <a name="pass-through"></a>Сквозной режим

![Сквозной режим](./media/live-streaming/pass-through.svg)

При использовании сквозного режима **потоковой трансляции** локальный динамический кодировщик генерирует многоскоростной видеопоток и передает его как исходный в трансляцию с помощью протокола RTMP или фрагментированного MP4. Затем событие потоковой трансляции передает входящие видеопотоки без какой-либо дальнейшей обработки. Такие сквозной Live событие оптимизирован для событий в прямом эфире длительных или 24 часа 365 линейной динамической потоковой передачи. 

### <a name="live-encoding"></a>Кодирование в реальном времени  

![Кодирование в реальном времени](./media/live-streaming/live-encoding.svg)

При использовании кодирования в реальном времени с помощью Служб мультимедиа ваш локальный динамический кодировщик передает односкоростной видеопоток в качестве исходного в событие потоковой трансляции (с помощью протоколов RTMP или фрагментированного MP4). Событие потоковой трансляции кодирует этот входящий односкоростной поток в [многоскоростной видеопоток](https://en.wikipedia.org/wiki/Adaptive_bitrate_streaming) и делает его доступным для доставки на устройства воспроизведения с помощью протоколов MPEG-DASH, HLS и Smooth Streaming. 

## <a name="live-streaming-workflow"></a>Рабочий процесс для потоковой трансляции в реальном времени

Чтобы понять рабочие процессы live streaming в версии 3 службы мультимедиа, нужно сначала Ознакомьтесь и понимать следующие концепции: 

- [Конечные точки API потоковой передачи](streaming-endpoint-concept.md)
- [Live событий и API в реальном времени выходных данных](live-events-outputs-concept.md)
- [Указатели API потоковой передачи](streaming-locators-concept.md)

### <a name="general-steps"></a>Общие шаги

1. В учетной записи служб мультимедиа, убедитесь, что **конечной точки потоковой передачи** (источник) работает. 
2. Создание [события прямой трансляции](live-events-outputs-concept.md). <br/>Для создаваемого события можно настроить автоматический запуск. Кроме того, событие можно запустить, когда вы будете готовы начать потоковую передачу.<br/> Если для автозапуска задано значение true, событие прямой трансляции будет запущено сразу после создания. Плата начисляется сразу же после запуска трансляции. Чтобы остановить начисление оплаты, нужно явно вызвать функцию Stop (Остановить) для ресурса события потоковой трансляции. Дополнительные сведения см. в статье [Состояния компонента LiveEvent и выставление счетов за его использование](live-event-states-billing.md).
3. Получение URL-адреса приема и настройка вашего локального кодировщика использовать URL-адрес для отправки, участия в веб-канала.<br/>[Рекомендуемые кодировщики потоковой трансляции](recommended-on-premises-live-encoders.md).
4. Получите URL-адрес для предварительного просмотра, чтобы проверить получение входных данных от кодировщика.
5. Создание объекта **ресурса**.
6. Создание компонента **выходных данных прямой трансляции** с использованием имени созданного ресурса.<br/>**Выходные данные потоковой трансляции** будут архивировать поток в **ресурсах**.
7. Создайте **указатель потоковой передачи** со встроенным типом **политики потоковой передачи**.<br/>Если вы хотите зашифровать свое содержимое, ознакомьтесь с [обзором системы защиты содержимого](content-protection-overview.md).
8. Создайте список путей на основе **потокового указателя**, чтобы получать URL-адреса для использования (детерминированные).
9. Получение имени узла для **конечной точки потоковой передачи** (источник), вы хотите потоковой передачи из.
10. Объедините URL-адрес (полученный на шаге 8) с именем узла (полученным на шаге 9), чтобы получить полный URL-адрес.
11. Чтобы прекратить транслировать **событие потоковой трансляции**, необходимо остановить потоковую передачу событий, удалив **указатель потоковой передачи**.

## <a name="other-important-articles"></a>Другие важные статьи

- [Recommended live streaming encoders](recommended-on-premises-live-encoders.md) (Рекомендуемые кодировщики потоковой трансляции)
- [Использование средства цифровой видеозаписи в облаке](live-event-cloud-dvr.md)
- [Сравнение типов LiveEvent](live-event-types-comparison.md)
- [Состояния и выставление счетов](live-event-states-billing.md)
- [Задержка](live-event-latency.md)

## <a name="ask-questions-give-feedback-get-updates"></a>Получение справки, отправка отзывов, получение обновлений

Прочитайте статью [сообщества Служб мультимедиа Azure](media-services-community.md), чтобы узнать, как задавать вопросы, оставлять отзывы и получать новости о Службах мультимедиа.

## <a name="next-steps"></a>Дальнейшие действия

* [Руководство по потоковой трансляции](stream-live-tutorial-with-api.md)
* [Руководство по миграции из версии 2 в версию 3 Служб мультимедиа](migrate-from-v2-to-v3.md)
