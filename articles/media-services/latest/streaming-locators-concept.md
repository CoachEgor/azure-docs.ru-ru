---
title: Указатели потоковой передачи в Службах мультимедиа Azure | Документация Майкрософт
description: В этой статье приведены общие сведения об указателях потоковой передачи и их использовании в Службах мультимедиа Azure.
services: media-services
documentationcenter: ''
author: Juliako
manager: femila
editor: ''
ms.service: media-services
ms.workload: ''
ms.topic: article
ms.date: 03/20/2019
ms.author: juliako
ms.openlocfilehash: 51aa33e4ff387a1030dac42bce8d12cf72343b35
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61466737"
---
# <a name="streaming-locators"></a>Указатели потоковой передачи

Чтобы видео в выходном ресурсе стали доступны для воспроизведения в клиентах, необходимо создать [указатель потоковой передачи](https://docs.microsoft.com/rest/api/media/streaminglocators), а затем сформировать URL-адреса потоковой передачи. Пример .NET приведен в разделе [Создание указателя потоковой передачи](stream-files-tutorial-with-api.md#get-a-streaming-locator).

Процесс создания **указателя потоковой передачи** называется публикацией. По умолчанию **указатель потоковой передачи** допустим сразу после выполнения вызова API и действует, пока не будет удален, если не настроить дополнительное начальное и конечное время. 

При создании **указателя потоковой передачи** необходимо указать имя [ресурса](https://docs.microsoft.com/rest/api/media/assets) и имя [политики потоковой передачи](https://docs.microsoft.com/rest/api/media/streamingpolicies). Можно использовать одну из предопределенных политик потоковой передачи или создать настраиваемую политику. Доступны следующие предопределенные политики потоковой передачи: Predefined_DownloadOnly, Predefined_ClearStreamingOnly, Predefined_DownloadAndClearStreaming, Predefined_ClearKey, Predefined_MultiDrmCencStreaming и Predefined_MultiDrmStreaming. При использовании настраиваемой политики потоковой передачи следует разработать ограниченный набор таких политик для учетной записи Служб мультимедиа и повторно использовать их для указателей потоковой передачи каждый раз, когда требуются те же параметры и протоколы. 

Если требуется указать параметры шифрования потока, создайте [политику ключей содержимого](https://docs.microsoft.com/rest/api/media/contentkeypolicies), которая указывает, как ключ содержимого доставляется конечным клиентам через компонент доставки ключей Служб мультимедиа. Свяжите указатель потоковой передачи с **политикой ключей содержимого** и ключом содержимого. Можно разрешить Службам мультимедиа автоматически создать ключ. В следующем примере .NET показано, как настроить шифрование AES с ограничением маркеров в Службах мультимедиа версии 3. [EncodeHTTPAndPublishAESEncrypted](https://github.com/Azure-Samples/media-services-v3-dotnet-core-tutorials/tree/master/NETCore/EncodeHTTPAndPublishAESEncrypted). **Политики ключей содержимого** можно обновлять. Например, может потребоваться обновить политику, если необходимо сменить ключи. Обновление и получение обновленной политики кэшей доставки ключей может занять до 15 минут. Не рекомендуется создавать новую политику ключей содержимого для каждого указателя потоковой передачи. Старайтесь повторно использовать существующие политики, когда необходимы те же параметры.

> [!IMPORTANT]
> * Свойства **указателей потоковой передачи** типа Datetime всегда задаются в формате UTC.
> * Следует разработать ограниченный набор политик для учетной записи Служб мультимедиа и повторно использовать их для указателей потоковой передачи каждый раз, когда требуются те же параметры. 

## <a name="associate-filters-with-streaming-locators"></a>Связать фильтры с указатели потоковой передачи

Можно указать список [активов или учетной записи фильтров](filters-concept.md), который будет применяться к вашей [указатель потоковой передачи](https://docs.microsoft.com/rest/api/media/streaminglocators/create#request-body). [Для работы динамического упаковщика](dynamic-packaging-overview.md) применяет этот список фильтров с соответствующими клиент указывает в URL-адрес. Создает это сочетание [dyanamic манифест](filters-dynamic-manifest-overview.md), основанная на фильтры в URL-адрес + фильтры, укажите на указатель потоковой передачи. Мы рекомендуем использовать эту функцию, если вы хотите применить фильтры, но не требуется предоставлять имена фильтров в URL-адрес.

## <a name="filter-order-page-streaming-locator-entities"></a>Фильтр, в порядке, страницу сущностей указатель потоковой передачи

Ознакомьтесь с разделом [Фильтрация, упорядочивание и разбиение по страницам сущностей Служб мультимедиа](entities-overview.md).

## <a name="next-steps"></a>Дальнейшие действия

* [Учебник. Отправка, кодирование и потоковая передача видео с помощью .NET](stream-files-tutorial-with-api.md)
* [Использование динамического шифрования DRM и службы доставки лицензий](protect-with-drm.md)
