---
title: Типы LiveEvent в Службах мультимедиа Azure | Документация Майкрософт
description: В службах мультимедиа Azure можно установить живое событие как для *сквозного,* так и для *живого кодирования.* В этой статье показана подробная таблица, в которой сравниваются типы событий Live.
services: media-services
documentationcenter: ''
author: Juliako
manager: femila
editor: ''
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 06/13/2019
ms.author: juliako
ms.openlocfilehash: a28d4d96f643c12eeb6aa542db2c6af06f4fd954
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "78244646"
---
# <a name="live-event-types-comparison"></a>Сравнение типов событий потоковой трансляции

В Службах мультимедиа Azure [Live Event](https://docs.microsoft.com/rest/api/media/liveevents) можно установить либо *сквозной* (в припредречном живом кодере отправляет несколько битратных потоков) или *для кодирования в реальном* времени (в помещении живой кодер отправляет один битрейт-поток). 

В этих статьях сравниваются особенности типов событий в реальном времени.

## <a name="types-comparison"></a>Сравнение типов 

В следующей таблице сравниваются особенности типов live Event. Типы устанавливаются во время создания с помощью [LiveEventEncodingType:](https://docs.microsoft.com/rest/api/media/liveevents/create#liveeventencodingtype)

* **LiveEventEncodingType.None** - на месте живой кодер посылает несколько битратный поток. Просачиваемые потоки проходят через Live Event без дальнейшей обработки. Также упоминается как сквозной Live Event.
* **LiveEventEncodingType.Standard** - В непредпомшенном live-кодере отправляется один битратный поток в Live Event, а Медиа-сервисы создают несколько битратных потоков. Если канал вклада 720p или более высокое разрешение, preset **Default720p** закодирует комплект из 6 пар разрешения/битрата (подробности следуют позже в статье).
* **LiveEventEncodingType.Premium1080p** - В помещении живой кодер посылает один битрит поток Live Event и Медиа-услугсоздает несколько битратных потоков. Предустановленный набор Default1080p определяет набор выходных пар разрешения/битратных (подробности следуют позже в статье). 

| Компонент | Сквозное событие потоковой трансляции | Стандартное или Премиум1080p Live Event |
| --- | --- | --- |
| Кодировка односкоростного источника данных в несколько потоков с различными скоростями передачи в облаке |нет |Да |
| Максимальное разрешение видео для веб-канала входного потока |4K (4096x2160 с частотой 60 кадров в секунду) |1080p (1920x1088 с частотой 30 кадров в секунду)|
| Рекомендуемое максимальное количество слоев в веб-канале входного потока|Не более 12|Один звуковой|
| Максимальное количество слоев в потоке выходных данных| Так же, как и для входных данных|До 6 (см. Предесты системы ниже)|
| Максимальная суммарная пропускная способность веб-канала входного потока|60 Мбит/с|Недоступно|
| Максимальная скорость передачи для одного слоя входного потока |20 Мбит/с|20 Мбит/с|
| Поддержка звуковых дорожек на различных языках|Да|нет|
| Поддерживаемые видеокодеки для входного потока |H.264/AVC и H.265/HEVC|H.264/AVC|
| Поддерживаемой видеокодеки для выходного потока|Так же, как и для входных данных|H.264/AVC|
| Поддерживаемая битовая глубина для входного и выходного видеопотока|До 10 бит, включая HDR 10/HLG|8 бит|
| Поддерживаемые аудиокодеки для входного потока|AAC-LC, HE-AAC v1, HE-AAC v2|AAC-LC, HE-AAC v1, HE-AAC v2|
| Поддерживаемые аудиокодеки для выходного потока|Так же, как и для входных данных|AAC-LC|
| Максимальное разрешение выходного видео|Так же, как и для входных данных|Стандартный - 720p, Premium1080p - 1080p|
| Максимальная частота ввода видео|60 кадров в секунду|Стандартный или Premium1080p - 30 кадров в секунду|
| Протоколы входных данных|RTMP, фрагментированный MP4 (Smooth Streaming)|RTMP, фрагментированный MP4 (Smooth Streaming)|
| Price|Откройте [страницу цен](https://azure.microsoft.com/pricing/details/media-services/) и выберите вкладку Live Video|Откройте [страницу цен](https://azure.microsoft.com/pricing/details/media-services/) и выберите вкладку Live Video|
| Максимальное время выполнения| 24 часа, 365 дней, потоковый линейный режим | 24 часа х 365 дней, живой линейный (предварительный просмотр)|
| Возможность передавать внедренные субтитры в формате CEA 608 или 708.|Да|Да|
| Возможность включить Live Транскрипция|Да|Да|
| Поддержка вставки баннеров|нет|нет|
| Поддержка сигнализации о рекламе через API-интерфейс| нет|нет|
| Поддержка сигнализации о рекламе через сообщения по внутриполосному протоколу SCTE-35|Да|Да|
| Возможность восстановления после кратких остановок в канале входного потока данных|Да|Partial|
| Поддержка неоднородных GPO|Да|Нет, входные потоки должны иметь фиксированную длительность GOP|
| Поддержка входных данных с переменной частотой кадров|Да|Нет — входные данные должны иметь фиксированную частоту кадров. Небольшие колебания допустимы, например, в сценах с высокой скоростью движения. Но канал вклада не может снизить частоту кадров (например, до 15 кадров в секунду).|
| Автоотключение события потоковой трансляции при потере входного веб-канала|нет|Через 12 часов при отсутствии выполняющихся компонентов LiveOutput|

## <a name="system-presets"></a>Системные пресеты

Разрешения и битраты, содержащиеся в выходе из живого кодера, определяются [presetName.](https://docs.microsoft.com/rest/api/media/liveevents/create#liveeventencoding) При использовании **стандартного** живого кодера (LiveEventEncodingType.Standard), то предустановка *Default720p* определяет набор из 6 пар разрешения/битрата, описанных ниже. В противном случае, если с помощью **Premium1080p** жить кодер (LiveEventEncodingType.Premium1080p), то *Preset Default1080p* определяет выходный набор резолюции / bitrate пар.

> [!NOTE]
> Вы не можете применить preset Default1080p к Live Event, если оно было настроено для стандартного кодирования в реальном времени - вы получите ошибку. Вы также получите ошибку, если вы попытаетесь применить Preset Default720p к Premium1080p жить кодер.

### <a name="output-video-streams-for-default720p"></a>Потоки видео выходного выпуска для по умолчанию720p

Если подача вклада 720p или более высокое разрешение, preset **Default720p** закодирует подачу в следующие 6 слоев. В таблице ниже, Bitrate находится в кбит/с, MaxFPS представляет, что максимально допустимая частота кадров (в кадрах в секунду), Профиль представляет H.264 Профиль используется.

| Bitrate | Ширина | Высота: | Макс. кадров/с | Профиль |
| --- | --- | --- | --- | --- |
| 3500 |1280 |720 |30 |Высокий |
| 2200 |960 |540 |30 |Высокий |
| 1350 |704 |396 |30 |Высокий |
| 850 |512 |288 |30 |Высокий |
| 550 |384 |216 |30 |Высокий |
| 200 |340 |192 |30 |Высокий |

> [!NOTE]
> Если вам нужно настроить предустановленное кодирование живого кодирования, пожалуйста, откройте билет поддержки через azure Portal. Следует указать нужную таблицу с разрешениями и скоростями. Убедитесь, что имеется только один слой 720p и не более 6 слоев. Также укажите, что вы запрашиваете предустановленный для стандартного живого кодера.
> Конкретные значения битратов и разрешений могут быть скорректированы с течением времени

### <a name="output-video-streams-for-default1080p"></a>Выходные видеопотоки для default1080p

Если подача вклада имеет разрешение 1080p, предустановка **Default1080p** будет кодировать канал в следующие 6 слоев.

| Bitrate | Ширина | Высота: | Макс. кадров/с | Профиль |
| --- | --- | --- | --- | --- |
| 5500 |1920 |1080 |30 |Высокий |
| 3000 |1280 |720 |30 |Высокий |
| 1600 |960 |540 |30 |Высокий |
| 800 |640 |360 |30 |Высокий |
| 400 |480 |270 |30 |Высокий |
| 200 |320 |180 |30 |Высокий |

> [!NOTE]
> Если вам нужно настроить предустановленное кодирование живого кодирования, пожалуйста, откройте билет поддержки через azure Portal. Следует указать нужную таблицу с разрешениями и скоростями. Убедитесь, что есть только один слой на 1080p, и не более 6 слоев. Также укажите, что вы запрашиваете предустановленный для Premium1080p живой кодер.
> Конкретные значения битратов и разрешений могут корректироваться с течением времени.

### <a name="output-audio-stream-for-default720p-and-default1080p"></a>Выход аудио поток для по умолчанию720p и Default1080p

Для пресетов *по умолчанию720p* и *Default1080p* звук кодируется для стерео AAC-LC на 128 кбит/с. Коэффициент выборки следует за тем из тональнозвуковой следв- в ленте вклада.

## <a name="implicit-properties-of-the-live-encoder"></a>Неявные свойства живого кодера

Предыдущий раздел описывает свойства живого кодера, которые можно контролировать явно, через предустановленное - например, количество слоев, разрешений и битратов. В этом разделе разъясняют неявные свойства.

### <a name="group-of-pictures-gop-duration"></a>Продолжительность группы фотографий (GOP)

Коделер в реальном маштабе времени следует за структурой [GOP](https://en.wikipedia.org/wiki/Group_of_pictures) питания вклада - который намеревается слои выхода будут иметь такую же продолжительность GOP. Таким образом, рекомендуется настроить на месте кодера для создания вклада корма, который имеет фиксированную продолжительность GOP (обычно 2 секунды). Это гарантирует, что исходящие HLS и MPEG DASH потоки из службы также фиксированной продолжительности GOP. Небольшие изменения в продолжительности GOP, вероятно, будут допускаться большинством устройств.

### <a name="frame-rate"></a>Частота кадров

Коделер в реальном маштабе времени также следует за длительностями индивидуальных видеорамок в канале вклада - который намеревается слои выхода будут иметь рамки с такими же длительностями. Таким образом, рекомендуется настроить на месте кодера для создания вклада корма, который имеет фиксированную частоту кадров (не более 30 кадров в секунду). Это гарантирует, что исходящие hlS и MPEG DASH потоки из службы также имеет фиксированную продолжительность частоты кадров. Небольшие изменения частоты кадров могут быть допущены большинством устройств, но нет никакой гарантии, что живой кодер будет производить выход, который будет играть правильно. Ваш на-предпосылки живой кодер не должен сбрасывать кадры (например. при низких условиях батареи) или изменения частоты кадров в любом случае.

### <a name="resolution-of-contribution-feed-and-output-layers"></a>Разрешение уровней подачи и вывода вкладов

В реальном маштабе времени кодер настроен для того чтобы во избежание upconverting канал вклада. В результате максимальное разрешение выходных слоев не превысит допустимого объема подачи вклада.

Например, если вы отправляете канал вклада на 720p в Live Event, настроенном для кодирования по умолчанию1080p, выход будет иметь только 5 слоев, начиная с 720p на 3 Мбит/с, спускаясь до 1080p на 200 кбит/с. Или, если вы отправляете канал вклада на 360p в Live Event, настроенный для стандартного живого кодирования, выход будет содержать 3 слоя (при разрешениях 288p, 216p и 192p). В случае вырожденного, если вы отправите канал вклада, скажем, 160x90 пикселей на стандартный живой кодер, выход будет содержать один слой при разрешении 160x90 при том же битре, что и канал вклада.

### <a name="bitrate-of-contribution-feed-and-output-layers"></a>Биттрат уровней подачи и вывода вкладов

Коделер live настроен в честь настроек битрата в предустановленном, независимо от битрата канала вклада. В результате битрат выходных слоев может превышать частоту подачи вклада. Например, если вы отправляете в вклад корма с разрешением 720p на 1 Мбит/с, выходные слои останутся такими же, как в [таблице](live-event-types-comparison.md#output-video-streams-for-default720p) выше.

## <a name="next-steps"></a>Дальнейшие действия

[Общие сведения о потоковой трансляции](live-streaming-overview.md)
