---
title: Упаковка и ошибки в области мультимедиа Azure Media Services (ru) Документы Майкрософт
description: В этой теме описаны ошибки, которые можно получить в службе потоковой передачи медиаслужбы Azure Media.ru (Orgin).
author: Juliako
manager: femila
editor: ''
services: media-services
documentationcenter: ''
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/07/2019
ms.author: juliako
ms.openlocfilehash: ebcda6026f79bc88df91471d8be88316ba57bfc6
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "65411374"
---
# <a name="streaming-endpoint-origin-errors"></a>Ошибки в стриминге (Origin) 

В этой теме описаны ошибки, которые вы можете получить от [службы потоковой передачи конечных точек](streaming-endpoint-concept.md)службы потоковой передачи медиа-услуг Azure.

## <a name="400-bad-request"></a>400 — недопустимый запрос

Запрос содержит недействительную информацию и отклоняется с этими кодами ошибок и по одной из следующих причин:

|Код ошибки|Гексадецимальная ценность |Описание ошибки|
|---|---|---|
|MPE_BAD_URL_SYNTAX |0x80890201|Ошибка синтаксиса ИЛИ формата URL. Примеры включают запросы на недействительный тип, недействительный фрагмент или недействительный трек. |
|MPE_ENC_ENCRYPTION_NOT_SPECIFIED_IN_URL |0x8088024C|Запрос не имеет тега шифрования в URL. Запросы CMAF требуют тега шифрования в URL. Другие протоколы, настроенные с более чем одним типом шифрования, также требуют тега шифрования для дезактивации. |
|MPE_STORAGE_BAD_URL_SYNTAX |0x808900E9|Запрос на хранение для выполнения запроса не удался с ошибкой Bad Request. |

## <a name="403-forbidden"></a>403. Запрещено

Запрос запрещен по одной из следующих причин:

|Код ошибки|Гексадецимальная ценность |Описание ошибки|
|---|---|---|
|MPE_STORAGE_AUTHENTICATION_FAILED |0x808900EA|Запрос на хранение для выполнения запроса не удался из-за сбоя аутентификации. Это может произойти, если ключи хранения были повернуты и служба не смогла синхронизировать ключи хранения. <br/><br/>Обратитесь в службу поддержки Azure, перейдя на [поддержку «Помощь»](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/newsupportrequest) на портале Azure.|
|MPE_STORAGE_INSUFFICIENT_ACCOUNT_PERMISSIONS |0x808900EB |Ошибка операции хранения, доступ не удалось из-за недостаточного разрешения учетной записи. |
|MPE_STORAGE_ACCOUNT_IS_DISABLED |0x808900EC |Запрос на хранение для выполнения запроса не удался из-за того, что учетная запись хранилища отключена. |
|MPE_STORAGE_AUTHENTICATION_FAILURE |0x808900F3 |Ошибка операции хранения, доступ не удалось из-за общих ошибок. |
|MPE_OUTPUT_FORMAT_BLOCKED |0x80890207 |Формат вывода блокируется из-за конфигурации в StreamingPolicy. |
|MPE_ENC_ENCRYPTION_REQUIRED |0x8088021E |Шифрование требуется для содержимого, политика доставки требуется для формата вывода. |
|MPE_ENC_ENCRYPTION_NOT_SET_IN_DELIVERY_POLICY |0x8088024D |Шифрование не устанавливается в настройках политики доставки. |

## <a name="404-not-found"></a>404 — не найдено

Попытка выполнить операцию над ресурсом, который уже не существует. Например, ресурс мог быть уже удален.

|Код ошибки|Гексадецимальная ценность |Описание ошибки|
|---|---|---|
|MPE_EGRESS_TRACK_NOT_FOUND |0x80890209 |Запрошенный трек не найден. |
|MPE_RESOURCE_NOT_FOUND |0x808901F9 |Запрошенный ресурс не найден. |
|MPE_UNAUTHORIZED |0x80890244 |Доступ несанкционирован. |
|MPE_EGRESS_TIMESTAMP_NOT_FOUND |0x8089020A |Запрошенная метка времени не найдена. |
|MPE_EGRESS_FILTER_NOT_FOUND |0x8089020C |Запрошенный динамический фильтр манифеста не найден. |
|MPE_FRAGMENT_BY_INDEX_NOT_FOUND |0x80890252 |Запрашиваемый индекс фрагментов выходит за допустимый диапазон. |
|MPE_LIVE_MEDIA_ENTRIES_NOT_FOUND |0x80890254 |Записи в живых носителях не могут быть найдены, чтобы получить буфер moov. |
|MPE_FRAGMENT_TIMESTAMP_NOT_FOUND |0x80890255 |Не удается найти фрагмент в запрашиваемое время для конкретного трека.<br/><br/>Может быть, фрагмент не на хранении. Попробуйте другой слой презентации, который может иметь фрагмент. |
|MPE_MANIFEST_MEDIA_ENTRY_NOT_FOUND |0x80890256 |Не удается найти запись в средствах массовой информации для запрошенного битрата в манифесте. <br/><br/>Может быть, игрок попросил видео трек определенного битрата, который не был в манифесте.|
|MPE_METADATA_NOT_FOUND |0x80890257 |Невозможно найти определенные метаданные в манифесте или не может найти перебазу из хранилища. |
|MPE_STORAGE_RESOURCE_NOT_FOUND |0x808900ED |Ошибка операции хранения, ресурс не найден. |

## <a name="409-conflict"></a>409. Конфликт

Идентификатор, предоставленный для ресурса `PUT` или `POST` операции, был взят существующим ресурсом. Используйте другой идентификатор для ресурса для решения этой проблемы.

|Код ошибки|Гексадецимальная ценность |Описание ошибки|
|---|---|---|
|MPE_STORAGE_CONFLICT  |0x808900EE  |Ошибка операции хранения, ошибка конфликта.  |

## <a name="410"></a>410

|Код ошибки|Гексадецимальная ценность |Описание ошибки|
|---|---|---|
|MPE_FILTER_FORCE_END_LEFT_EDGE_CROSSED_DVR_WINDOW|0x80890263|Для потоковой передачи в реальном времени, когда фильтр, который имеет forceEndTimestamp установлен на верно, старт или конец метки времени находится за пределами текущего окна DVR.|

## <a name="412-precondition-failure"></a>412 — сбой необходимого условия

В операции указан eTag, который отличается от версии, доступной на сервере, то есть оптимистическая ошибка параллелизма. Повторите запрос после считывания последней версии ресурса и обновления eTag в запросе.

|Код ошибки|Гексадецимальная ценность |Описание ошибки|
|---|---|---|
|MPE_FRAGMENT_NOT_READY |0x80890200 |Запрошенный фрагмент не готов.|
|MPE_STORAGE_PRECONDITION_FAILED| 0x808900EF|Ошибка работы хранилища, сбой предварительного условия.|

## <a name="415-unsupported-media-type"></a>415 Неподдерживаемый тип мультимедиа

Формат полезной нагрузки, отправленный клиентом, находится в неподдерживаемом формате.

|Код ошибки|Гексадецимальная ценность |Описание ошибки|
|---|---|---|
|MPE_ENC_ALREADY_ENCRYPTED| 0x8088021F| Не следует применять шифрование на уже зашифрованный контент.|
|MPE_ENC_INVALID_INPUT_ENCRYPTION_FORMAT|0x8088021D |Шифрование является недействительным для формата ввода.|
|MPE_INVALID_ASSET_DELIVERY_POLICY_TYPE|0x8088021C| Тип политики доставки недействителен.|
|MPE_ENC_MULTIPLE_SAME_DELIVERY_TYPE|0x8088024E |Исходные настройки могут быть общими несколькими форматами вывода.|
|MPE_FORMAT_NOT_SUPPORTED|0x80890205|Формат или тип мультимедиа не поддерживается. Например, Media Services не поддерживает количество уровней качества, которое превышает 64. В видеотеге FLV Media Services не поддерживает видеорамку с несколькими SPS и несколькими PPS.|
|MPE_INPUT_FORMAT_NOT_SUPPORTED|0x80890218| Формат ввода запрашиваемого актива не поддерживается. Медиа-сервисы поддерживают форматы Smooth (live), MP4 (VoD) и Progressive download.|
|MPE_OUTPUT_FORMAT_NOT_SUPPORTED|0x8089020D|Запрошенный формат вывода не поддерживается. Media Services поддерживает гладкие, DASH (CSF, CMAF), HLS (v3, v4, CMAF) и Прогрессивные форматы загрузки.|
|MPE_ENCRYPTION_NOT_SUPPORTED|0x80890208|Столкнувшийся с неподдерживаемым типом шифрования.|
|MPE_MEDIA_TYPE_NOT_SUPPORTED|0x8089020E|Запрашиваемый тип мультимедиа не поддерживается форматом вывода. Поддерживаемые типы видео, аудио или "SUBT" подзаголовок.|
|MPE_MEDIA_ENCODING_NOT_SUPPORTED|0x8089020F|Носители исходных средств были закодированы с форматом мультимедиа, который не совместим с форматом вывода.|
|MPE_VIDEO_ENCODING_NOT_SUPPORTED|0x80890210|Исходный актив был закодирован с форматом видео, который не совместим с форматом вывода. Поддерживаются H.264, AVC, H.265 (HEVC, hev1 или hvc1).|
|MPE_AUDIO_ENCODING_NOT_SUPPORTED|0x80890211|Исходный актив был закодирован аудиоформатом, несовместимым с форматом вывода. Поддерживаемые аудиоформаты: AAC, E-AC3 (DD), Dolby DTS.|
|MPE_SOURCE_PROTECTION_CONVERSION_NOT_SUPPORTED|0x80890212|Защищенный исходный актив не может быть преобразован в формат вывода.|
|MPE_OUTPUT_PROTECTION_FORMAT_NOT_SUPPORTED|0x80890213|Формат защиты не поддерживается форматом вывода.|
|MPE_INPUT_PROTECTION_FORMAT_NOT_SUPPORTED|0x80890219|Формат защиты не поддерживается форматом ввода.|
|MPE_INVALID_VIDEO_NAL_UNIT|0x80890231|Недействительный блок видео NAL, например, только первый NAL в образце может быть AUD.|
|MPE_INVALID_NALU_SIZE|0x80890260|Недействительный размер единицы NAL.|
|MPE_INVALID_NALU_LENGTH_FIELD|0x80890261|Недействительное значение длины единицы NAL.|
|MPE_FILTER_INVALID|0x80890236|Недействительные динамические фильтры манифеста.|
|MPE_FILTER_VERSION_INVALID|0x80890237|Недействительные или неподдерживаемые версии фильтров.|
|MPE_FILTER_TYPE_INVALID|0x80890238|Недействительный тип фильтра.|
|MPE_FILTER_RANGE_ATTRIBUTE_INVALID|0x80890239|Недействительный диапазон указан фильтром.|
|MPE_FILTER_TRACK_ATTRIBUTE_INVALID|0x8089023A|Недействительный атрибут трека указан фильтром.|
|MPE_FILTER_PRESENTATION_WINDOW_INVALID|0x8089023B|Недействительная длина окна презентации указана фильтром.|
|MPE_FILTER_LIVE_BACKOFF_INVALID|0x8089023C|Недействительный живой отстой указывается фильтром.|
|MPE_FILTER_MULTIPLE_SAME_TYPE_FILTERS|0x8089023D|Только один элемент absTimeInHNS поддерживается в устаревших фильтрах.|
|MPE_FILTER_REMOVED_ALL_STREAMS|0x8089023E|После применения фильтров больше нет потоков.|
|MPE_FILTER_LIVE_BACKOFF_OVER_DVRWINDOW|0x8089023F|Live отступить находится за окном DVR.|
|MPE_FILTER_LIVE_BACKOFF_OVER_PRESENTATION_WINDOW|0x80890262|Live отступить больше, чем окно презентации.|
|MPE_FILTER_COMPOSITION_FILTER_COUNT_OVER_LIMIT|0x80890246|Превышено десять (10) максимально допустимых фильтров по умолчанию.|
|MPE_FILTER_COMPOSITION_MULTIPLE_FIRST_QUALITY_OPERATOR_NOT_ALLOWED|0x80890248|Несколько первых операторов качества видео не допускаются в комбинированные фильтры запроса.|
|MPE_FILTER_FIRST_QUALITY_ATTRIBUTE_INVALID|0x80890249|Количество атрибутов битра первого качества должно быть 1 (1).|
|MPE_HLS_SEGMENT_TOO_LARGE|0x80890243|Длительность сегмента HLS должна меньше одной трети окна DVR и HLS отступить.|
|MPE_KEY_FRAME_INTERVAL_TOO_LARGE|0x808901FE|Продолжительность фрагмента должна быть меньше или равна примерно 20 секунд, или уровни качества ввода не выровнены во времени.|
|MPE_DTS_RESERVEDBOX_EXPECTED|0x80890105|DTS-специфическая ошибка, не может найти ReservedBox когда он должен представить в DTSSpecficBox во время разбора коробки DTS.|
|MPE_DTS_INVALID_CHANNEL_COUNT|0x80890106|DTS-специфическая ошибка, никаких каналов, найденных в DTSSpecficBox во время разбора коробки DTS.|
|MPE_DTS_SAMPLETYPE_MISMATCH|0x80890107|DTS-специфическая ошибка, несоответствие типа образца в DTSSpecficBox.|
|MPE_DTS_MULTIASSET_DTSH_MISMATCH|0x80890108|DTS-специфическая ошибка, мультиактив устанавливается, но DTSH тип несоответствия образца.|
|MPE_DTS_INVALID_CORESTREAM_SIZE|0x80890109|Ошибка DTS, размер основного потока недействителен.|
|MPE_DTS_INVALID_SAMPLE_RESOLUTION|0x8089010A|Ошибка DTS-специфическая, разрешение образца недействительна.|
|MPE_DTS_INVALID_SUBSTREAM_INDEX|0x8089010B|Погрешность DTS, индекс расширения подпотокового потока недействительна.|
|MPE_DTS_INVALID_BLOCK_NUM|0x8089010C|Ошибка DTS, номер блока подпотокового потока недействителен.|
|MPE_DTS_INVALID_SAMPLING_FREQUENCE|0x8089010D|DTS-специфическая ошибка, частота выборки недействительна.|
|MPE_DTS_INVALID_REFCLOCKCODE|0x8089010E|Ошибка DTS-специфическая, код часы справки в расширении sub-stream недействителен.|
|MPE_DTS_INVALID_SPEAKERS_REMAP|0x8089010F|DTS-специфическая ошибка, количество набор рекарты динамиков является недействительным.|

Для статей и примеров шифрования см.:

- [Концепция: защита контента](content-protection-overview.md)
- [Концепция: Ключевые политики содержания](content-key-policy-concept.md)
- [Концепция: Политика потоковой передачи](streaming-policy-concept.md)
- [Пример: защита с помощью шифрования AES](protect-with-aes128.md)
- [Пример: защита с помощью DRM](protect-with-drm.md)

Для руководства по фильтрации см.:

- [Концепция: динамические манифесты](filters-dynamic-manifest-overview.md)
- [Концепция: фильтры](filters-concept.md)
- [Пример: создание фильтров с помощью АДИ REST](filters-dynamic-manifest-rest-howto.md)
- [Пример: создание фильтров с помощью .NET](filters-dynamic-manifest-dotnet-howto.md)
- [Пример: создание фильтров с помощью CLI](filters-dynamic-manifest-cli-howto.md)

Для живых статей и образцов см.:

- [Концепция: обзор потоковой передачи в прямом эфире](live-streaming-overview.md)
- [Концепция: Живые события и живые выходы](live-events-outputs-concept.md)
- [Пример: живой потокового учебник](stream-live-tutorial-with-api.md)

## <a name="416-range-not-satisfiable"></a>416 Диапазон не посведое.

|Код ошибки|Гексадецимальная ценность |Описание ошибки|
|---|---|---|
|MPE_STORAGE_INVALID_RANGE|0x808900F1|Ошибка операции хранения, возвращенная ошибка http 416, недействительный диапазон.|

## <a name="500-internal-server-error"></a>500 — Внутренняя ошибка сервера

Во время обработки запроса в службах мультимедиа возникли ошибки, которые не позволяют продолжить обработку.  

|Код ошибки|Гексадецимальная ценность |Описание ошибки|
|---|---|---|
|MPE_STORAGE_SOCKET_TIMEOUT|0x808900F4|Получено и переведено с кода ошибки Winhttp ERROR_WINHTTP_TIMEOUT (0x00002ee2).|
|MPE_STORAGE_SOCKET_CONNECTION_ERROR|0x808900F5|Получено и переведено с кода ошибки Winhttp ERROR_WINHTTP_CONNECTION_ERROR (0x00002efe).|
|MPE_STORAGE_SOCKET_NAME_NOT_RESOLVED|0x808900F6|Получено и переведено с кода ошибки Winhttp ERROR_WINHTTP_NAME_NOT_RESOLVED (0x00002ee7).|
|MPE_STORAGE_INTERNAL_ERROR|0x808900E6|Ошибка операции хранения, общая ошибка внутреннего хранения одной из ошибок HTTP 500.|
|MPE_STORAGE_OPERATION_TIMED_OUT|0x808900E7|Ошибка операции хранения, общая операцияTimedOut одной из ошибок HTTP 500.|
|MPE_STORAGE_FAILURE|0x808900F2|Ошибка операции хранения, другие ошибки HTTP 500, чем InternalError или OperationTimedOut.|

## <a name="503-service-unavailable"></a>503 — Служба недоступна

Серверу не удается получить запросы. Эта ошибка может быть вызвана большим количеством запросов к службе. Механизм регулирования служб мультимедиа ограничивает использование ресурсов для приложений, создающих избыточный запрос к службе.

> [!NOTE]
> Просмотрите сообщение и строку кода ошибки, чтобы получить более подробные сведения о причине возникновения ошибки 503. Эта ошибка не всегда указывает на регулирование.
> 

|Код ошибки|Гексадецимальная ценность |Описание ошибки|
|---|---|---|
|MPE_STORAGE_SERVER_BUSY|0x808900E8|Ошибка операции хранения, полученная ошибка сервера HTTP занята 503.|

## <a name="ask-questions-give-feedback-get-updates"></a>Получение справки, отправка отзывов, получение обновлений

Прочитайте статью [сообщества Служб мультимедиа Azure](media-services-community.md), чтобы узнать, как задавать вопросы, оставлять отзывы и получать новости о Службах мультимедиа.

## <a name="see-also"></a>См. также

- [Коды ошибок кодирования](https://docs.microsoft.com/rest/api/media/jobs/get#joberrorcode)
- [Основные понятия служб мультимедиа Azure](concepts-overview.md)
- [Квоты и ограничения](limits-quotas-constraints.md)

## <a name="next-steps"></a>Дальнейшие действия

[Пример: доступ к Коду ошибки и сообщению от ApiException с .NET](configure-connect-dotnet-howto.md#connect-to-the-net-client)
