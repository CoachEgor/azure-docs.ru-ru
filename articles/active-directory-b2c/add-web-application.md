---
title: Добавление веб-API приложения. Azure Active Directory B2C | Документация Майкрософт
description: Сведения о том, как добавлять веб-приложение в клиент Azure Active Directory B2C
services: active-directory-b2c
author: davidmu1
manager: celestedg
ms.author: davidmu
ms.date: 04/16/2019
ms.custom: mvc
ms.topic: conceptual
ms.service: active-directory
ms.subservice: B2C
ms.openlocfilehash: ede3fd0dd1d0351e691a9f160260c029d01c8f8a
ms.sourcegitcommit: 44a85a2ed288f484cc3cdf71d9b51bc0be64cc33
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2019
ms.locfileid: "64704030"
---
# <a name="add-a-web-api-application-to-your-azure-active-directory-b2c-tenant"></a>Добавление веб-API приложения в клиент Azure Active Directory B2C

 Зарегистрируйте ресурсы веб-API в клиенте, так что они могут принимать и реагировать на запросы клиентскими приложениями, которые предлагают маркер доступа. В этой статье показано, как зарегистрировать приложение в Azure Active Directory (Azure AD) B2C.

1. Войдите на [портале Azure](https://portal.azure.com).
2. Убедитесь, что вы используете каталог, содержащий клиент Azure AD B2C. Выберите **фильтр каталога и подписки** в верхнем меню и выберите каталог, содержащий вашего клиента.
3. Выберите **Все службы** в левом верхнем углу окна портала Azure, а затем найдите и выберите **Azure AD B2C**.
4. Щелкните **Приложения**, а затем выберите **Добавить**.
5. Введите имя приложения. Например, *webapi1*.
6. Для поля **Включить веб-приложение или веб-API** и **Разрешить неявный поток** выберите **Да**.
7. Для **URL-адреса ответа** введите конечные точки, куда Azure AD B2C возвращает все маркеры, запрашиваемые вашим приложением. В рабочем приложении, можно задать URL-адрес ответа значение например `https://localhost:44332`. В целях тестирования можно задать URL-адрес ответа `https://jwt.ms`.
8. Для поля **URI идентификатора приложения** выберите идентификатор, используемый для веб-API. Полный URI код с доменом создается автоматически. Например, `https://contosotenant.onmicrosoft.com/api`.
9. Нажмите кнопку **Создать**.
10. На странице свойств запишите идентификатор приложения, который будет использоваться при настройке веб-приложения.

## <a name="configure-scopes"></a>Настройка областей

Области предоставляют способ контроля доступа к защищенным ресурсам. Области используются веб-API для реализации управления доступом на уровне области. Например, пользователи веб-API могут иметь доступ на чтение и запись или доступ только на чтение. В этом руководстве также можно использовать области для определения разрешений на чтение и запись для веб-API.

1. Щелкните **Приложения**, а затем выберите *webapi1*.
2. Выберите **Опубликованные области**.
3. Для **области** введите `Read`, а для описания — `Read access to the application`.
4. Для **области** введите `Write`, а для описания — `Write access to the application`.
5. Выберите команду **Сохранить**.

Опубликованные области можно использовать для предоставления приложению клиента разрешения на доступ к веб-API.

## <a name="grant-permissions"></a>Предоставление разрешений

Чтобы вызвать защищенный веб-API из приложения, необходимо предоставить приложению разрешения на доступ к API. Например, в [руководстве по регистрации приложения в Azure Active Directory B2C](tutorial-register-applications.md) создается веб-приложение с именем *webapp1*. С помощью этого приложения вы можете вызвать веб-API.

1. Щелкните **Приложения**, а затем выберите свое приложение.
2. Щелкните **Доступ через API**, а затем выберите **Добавить**.
3. В раскрывающемся списке **Выбрать API** выберите *webapi1*.
4. В раскрывающемся списке **Выбрать области** выберите области **чтения** и **записи**, определенные ранее.
5. Последовательно выберите **ОК**.

Приложение зарегистрировано для вызова защищенного веб-API. Пользователь выполняет аутентификацию в Azure AD B2C для использования приложения. Приложение получает предоставление авторизации из Azure AD B2C для доступа к защищенному веб-API.
