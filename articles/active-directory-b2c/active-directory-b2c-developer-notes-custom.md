---
title: Заметки для разработчика для пользовательских политик — Azure Active Directory B2C | Документация Майкрософт
description: Примечания для разработчиков по настройке и обслуживанию Azure AD B2C с помощью настраиваемых политик.
services: active-directory-b2c
author: davidmu1
manager: celestedg
ms.service: active-directory
ms.workload: identity
ms.topic: conceptual
ms.date: 03/18/2019
ms.author: davidmu
ms.subservice: B2C
ms.openlocfilehash: 1093f1882328604819d5fbab33d87b26f1af2886
ms.sourcegitcommit: 44a85a2ed288f484cc3cdf71d9b51bc0be64cc33
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2019
ms.locfileid: "64703245"
---
# <a name="developer-notes-for-custom-policies-in-azure-active-directory-b2c"></a>Примечания для разработчиков для настраиваемых политик в Azure Active Directory B2C

Настраиваемая политика конфигурации в Azure Active Directory B2C теперь общедоступна. Этот метод конфигурации ориентирована на опытных разработчиков удостоверений построения решений сложных идентификаторов. Пользовательские политики предоставления возможности Identity Experience Framework в клиентах Azure AD B2C. Дополнительные удостоверения, разработчики, использующие пользовательские политики должны учесть возможную необходимость вложения некоторое время с комплексными пошаговыми руководствами и справочными материалами.

Хотя большинство доступных параметров настраиваемой политики теперь общедоступны, существуют базовые возможности, такие как типы технического профиля и определение содержимого интерфейсы API, которые на различных этапах жизненного цикла программного обеспечения. Будут доступны многие другие. В следующей таблице указывает уровень доступности на более детальном уровне.  

## <a name="features-that-are-generally-available"></a>Функции, которые обычно доступны

- Создавать и отправлять пользовательские процедуры проверки подлинности с помощью настраиваемых политик.  
    - Поэтапно описывать пути взаимодействия пользователя для обмена данными между поставщиками удостоверений.  
    - Определять условные ветвления путей взаимодействия пользователей.  
- Взаимодействие со службами с поддержкой REST API в путях взаимодействия пользователей нестандартной проверки подлинности.  
- Создать федерацию с поставщиками удостоверений, которые соответствуют требованиям с помощью протокола OpenIDConnect.  
- Создать федерацию с поставщиками удостоверений, которые соответствуют протокол SAML 2.0.   

## <a name="responsibilities-of-custom-policy-feature-set-developers"></a>Обязанности разработчиков набора функций настраиваемой политики

Ручная настройка политики предоставляет низкоуровневый доступ к базовой платформе Azure AD B2C и приводит к созданию уникальным, инфраструктуры доверия. Многие возможные перестановки поставщиков пользовательских удостоверений, отношения доверия, интеграция с внешними службами и поэтапные рабочие процессы требуют систематический подход для разработки и конфигурации. 

Разработчикам пользоваться набором функций настраиваемой политики должен соответствовать следующим правилам:

- Ознакомиться с языком конфигурации пользовательского управления политиками и ключами и секретами. Дополнительные сведения см. в разделе [TrustFrameworkPolicy](trustframeworkpolicy.md). 
- Станьте владельцем сценариев и настраиваемой интеграции. Документирование работы и информирования организации активного сайта.  
- Выполняйте систематическое тестирование сценария. 
- Выполните рекомендации по разработке программного обеспечения и промежуточному хранению, используя как минимум одну среду разработки или тестирования и одну рабочую среду. 
- Будьте в курсе последних разработок поставщика удостоверений и интегрируемых служб. Например, получайте информацию об изменениях в секретах, запланированных и незапланированных изменениях в службах и т. д. 
- Настройте активный мониторинг и отслеживайте скорость реагирования рабочих сред. Дополнительные сведения об интеграции с Application Insights см. в разделе [Azure Active Directory B2C: Сбор журналов](active-directory-b2c-custom-guide-eventlogger-appins.md). 
- Используйте текущий контактный адрес электронной почты в подписке Azure, чтобы реагировать на сообщения службы поддержки действующего сайта Майкрософт. 
- Принимайте своевременные меры, рекомендованные службой поддержки активного сайта Майкрософт.

## <a name="terms-for-features-in-public-preview"></a>Условия для функции в общедоступной предварительной версии

- Мы рекомендуем вам использовать возможности общедоступной предварительной версии только для ознакомительных целей. 
- Соглашения об уровне обслуживания (SLA) не применяются к функции общедоступной предварительной версии.
- Запросы на поддержку для функций общедоступной предварительной версии можно отправить по обычным каналам поддержки. 

## <a name="features-by-stage-and-known-issues"></a>Доступность функций на различных стадиях и известные проблемы

Пользовательские политики или удостоверение, инфраструктура процедур встроены в стадии разработки постоянно и быстро. В следующей таблице приведен список функций, а также доступности компонентов.

### <a name="identity-providers-tokens-protocols"></a>Поставщики удостоверений, токены и протоколы

| Функция | Разработка | Предварительный просмотр | GA | Примечания |
|-------- | ----------- | ------- | -- | ----- |
| IDP-OpenIDConnect |  |  | X | Например, Google +.  |
| IDP-OAUTH2 |  |  | X | Например, Facebook.  |
| IDP-OAUTH1 (twitter) |  | X |  | Например Twitter. |
| IDP-OAUTH1 (ex twitter) |  |  |  | Не поддерживается |
| IDP-SAML |  |   | X | Например Salesforce и AD FS. |
| IDP-WSFED | X |  |  |  |
| Доверяющей стороны OAUTH1 |  |  |  | Не поддерживается. |
| Доверяющей стороны OAUTH2 |  |  | X |  |
| Протокол OIDC проверяющей стороны |  |  | X |  |
| Протокол SAML проверяющей стороны | X |  |  |  |
| Протокол WSFED проверяющей стороны | X |  |  |  |
| REST API с basic и аутентификации на основе сертификата |  |  | X | Например Azure Logic Apps. |

### <a name="component-support"></a>Поддержка компонентов

| Функция | Разработка | Предварительный просмотр | GA | Примечания |
| ------- | ----------- | ------- | -- | ----- |
| Многофакторная идентификация Azure |  |  | X |  |
| Azure Active Directory в качестве локального каталога |  |  | X |  |
| Подсистема электронной почты Azure для проверки адреса электронной почты |  |  | X |  |
| Многоязыковая поддержка|  |  | X |  |
| Предиката проверки |  |  | X | Например, сложность пароля. |
| С помощью сторонних поставщиков службы электронной почты | X |  |  |  |

### <a name="content-definition"></a>Определение содержимого

| Функция | Разработка | Предварительный просмотр | GA | Примечания |
| ------- | ----------- | ------- | -- | ----- |
| Страница ошибки (api.error) |  |  | X |  |
| Страница выбора поставщика удостоверений (api.idpselections) |  |  | X |  |
| Выбор поставщика удостоверений для регистрации (api.idpselections.signup) |  |  | X |  |
| Восстановление пароля (api.localaccountpasswordreset) |  |  | X |  |
| Вход в локальную учетную запись (api.localaccountsignin) |  |  | X |  |
| Регистрация локальной учетной записи (api.localaccountsignup) |  |  | X |  |
| Страница многофакторной проверки подлинности (api.phonefactor) |  |  | X |  |
| Регистрация и api.selfasserted самостоятельно утвержденных учетных записей социальных сетей |  |  | X |  |
| Обновление профиля с самостоятельным подтверждением (api.selfasserted.profileupdate) |  |  | X |  |
| Единой регистрации или входа в поле "страницы" (API.signuporsignin) с параметром «disableSignup» |  |  | X |  |
| JavaScript / страницы контракта |  | X |  |  |

### <a name="app-ief-integration"></a>Интеграция приложения с Identity Experience Framework

| Функция | Разработка | Предварительный просмотр | GA | Примечания |
| ------- | ----------- | ------- | -- | ----- |
| Параметр строки запроса domain_hint |  |  | X | Доступно в виде утверждений, может быть передан поставщика Удостоверений. |
| Параметр строки запроса login_hint |  |  | X | Доступно в виде утверждений, может быть передан поставщика Удостоверений. |
| Вставка данных в формате JSON в UserJourney с помощью параметра client_assertion | X |  |  | Будет прекращена. |
| Вставка данных в формате JSON в UserJourney в виде параметра id_token_hint. |  | X |  | Перейти вперед подход для передачи JSON. |
| Передать МАРКЕР поставщика Удостоверений в приложение |  | X |  | Например от Facebook для приложения. |

### <a name="session-management"></a>Управление сеансом

| Функция | Разработка | Предварительный просмотр | GA | Примечания |
| ------- | ----------- | ------- | -- | ----- |
| Поставщик сеансов единого входа |  |  | X |  |
| Поставщик сеансов внешнего входа |  |  | X |  |
| Поставщик сеансов единого входа SAML |  |  | X |  |
| Поставщик сеансов единого входа по умолчанию |  |  | X |  |

### <a name="security"></a>Безопасность

| Функция | Разработка | Предварительный просмотр | GA | Примечания |
|-------- | ----------- | ------- | -- | ----- |
| Ключи политики — создание, смена вручную и передача |  |  | X |  |
| Ключи политики — RSA или сертификаты, секреты |  |  | X |  |
| Отправка политики |  |  | X |  |

### <a name="developer-interface"></a>Интерфейс разработчика

| Функция | Разработка | Предварительный просмотр | GA | Примечания |
| ------- | ----------- | ------- | -- | ----- |
| Пользовательский интерфейс Identity Experience Framework на портале Azure |  |  | X |  |
| Журналы UserJourney в Application Insights |  | X |  | Используется для устранения неполадок во время разработки.  |
| Журналы событий в Application Insights (через этапы оркестрации) |  | X |  | Позволяет отслеживать потоки пользователей в рабочей среде. |

## <a name="next-steps"></a>Дальнейшие действия
[Дополнительные сведения о пользовательских политиках и различия с маршруты пользователей](active-directory-b2c-overview-custom.md).
