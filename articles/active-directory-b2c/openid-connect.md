---
title: Веб-вхлый с OpenID Connect - Активный каталог Azure B2C
description: Создавайте веб-приложения с помощью протокола проверки подлинности OpenID Connect в Azure Active Directory B2C.
services: active-directory-b2c
author: msmimart
manager: celestedg
ms.service: active-directory
ms.workload: identity
ms.topic: conceptual
ms.date: 08/22/2019
ms.author: mimart
ms.subservice: B2C
ms.custom: fasttrack-edit
ms.openlocfilehash: 6640ab1660e6499a97a8c990a0001d5fbae4e997
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79264392"
---
# <a name="web-sign-in-with-openid-connect-in-azure-active-directory-b2c"></a>Вход в веб-приложения с помощью OpenID Connect в Azure Active Directory B2C

OpenID Connect — это протокол проверки подлинности на основе OAuth 2.0, который может использоваться для безопасного входа пользователей в веб-приложения. Используя реализацию OpenID Connect в Azure Active Directory B2C (Azure AD B2C), можно передать Azure Active Directory (Azure AD) регистрацию, вход в систему и другие действия по управлению пользователями в веб-приложениях. В этом руководстве показано, как это сделать (независимо от языка программирования). и описывает, как отправлять и получать сообщения HTTP, не используя ни одну из наших библиотек с открытым исходным кодом.

[OpenID Connect](https://openid.net/specs/openid-connect-core-1_0.html) расширяет возможности протокола *авторизации* OAuth 2.0 и позволяет использовать его в качестве протокола *проверки подлинности*, Этот протокол проверки подлинности позволяет выполнять одиночный входной знак. Он вводит понятие *токен ID,* который позволяет клиенту проверить личность пользователя и получить основную информацию профиля о пользователе.

Поскольку он расширяет OAuth 2.0, он также позволяет приложениям безопасно приобретать *токены доступа.* обеспечивая возможность доступа к ресурсам, защищенным [сервером авторизации](protocols-overview.md). OpenID Connect рекомендуется, если вы строите веб-приложение, которое размещается на сервере и доступ через браузер. Для получения дополнительной информации о токенах смотрите [Обзор токенов в Azure Active Directory B2C](tokens-overview.md)

В Azure AD B2C стандартный протокол OpenID Connect выходит за рамки простой проверки подлинности и авторизации. Он вводит [параметр потока пользователя,](user-flow-overview.md)который позволяет использовать OpenID Connect для добавления пользовательских возможностей в приложение, таких как регистрация, регистрация и управление профилем.

## <a name="send-authentication-requests"></a>Отправка запросов проверки подлинности

Когда веб-приложению необходимо проверить подлинность пользователя и запустить поток пользователей, оно может направить пользователя к конечному пункту. `/authorize` Пользователь принимает меры в зависимости от потока пользователя.

В этом запросе клиент указывает разрешения, необходимые для получения `scope` у пользователя в параметре, и определяет поток пользователя для запуска. Чтобы понять, как работает запрос, попробуйте вставить запрос в браузер и запустить его. Замените `{tenant}` именем вашего клиента. Замените `90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6` идентификатор приложения, который вы ранее зарегистрировали в арендаторе. Также измените имя`{policy}`политики () на имя политики, `b2c_1_sign_in`которое у вас есть в вашем арендаторе, например.

```HTTP
GET https://{tenant}.b2clogin.com/{tenant}.onmicrosoft.com/{policy}/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
```

| Параметр | Обязательно | Описание |
| --------- | -------- | ----------- |
| (арендатор) | Да | Имя вашего арендатора Azure AD B2C |
| (политика) | Да | Поток пользователя, который будет запущен. Укажите имя пользовательского потока, созданного в вашем арендаторе Azure AD B2C. Например: `b2c_1_sign_in` `b2c_1_sign_up`, `b2c_1_edit_profile`, или . |
| client_id | Да | Идентификатор приложения, назначенный [порталу Azure](https://portal.azure.com/) вашему приложению. |
| nonce | Да | Значение, включенное в запрос (генерируемый приложением), которое включено в результирующее токен ID в качестве претензии. Затем приложение может проверить это значение для уменьшения атак воспроизведения маркеров. Это значение обычно представляет собой случайную уникальную строку, которую можно использовать для определения источника запроса. |
| response_type | Да | Обязательно должен быть идентификатор для OpenID Connect. Если веб-приложению также нужны токены для вызова `code+id_token`веб-API, вы можете использовать: |
| область | Да | Список областей с разделителями-пробелами. Область `openid` определяет разрешение на вход пользователя и получение данных о пользователе в форме маркеров идентификации. Область `offline_access` не является обязательной для веб-приложений. Это означает, что вашему приложению потребуется *токен обновления* для расширенного доступа к ресурсам. |
| prompt | нет | Требуемый тип взаимодействия с пользователем. Сейчас единственное допустимое значение — `login`, при котором пользователю приходится вводить учетные данные по запросу. |
| redirect_uri | нет | Параметр `redirect_uri` вашего приложения, где ответы на аутентификацию могут быть отправлены и получены вашим приложением. Он должен точно соответствовать одному из `redirect_uri` параметров, зарегистрированных на портале Azure, за исключением того, что он должен быть закодирован URL. |
| response_mode | нет | Метод, используемый для отправки полученного кода авторизации обратно в приложение. Это может быть `query`, `form_post` или `fragment`.  Для максимальной безопасности рекомендуется использовать режим ответа `form_post`. |
| state | нет | Значение, включенное в запрос, также возвращенный в ответ на маркер. Это может быть строка любого контента. Как правило, с целью предотвращения подделки межсайтовых запросов используется генерируемое случайным образом уникальное значение. Состояние также используется для кодирования информации о состоянии пользователя в приложении до запроса на аутентификацию, например страницы, на которой он находился. |

На этом этапе пользователю предлагается завершить рабочий процесс. Возможно, пользователю придется ввести свое имя пользователя и пароль, войти в систему с социальной идентичностью или зарегистрироваться в каталоге. В зависимости от того, как определяется поток пользователя, может быть любое другое количество шагов.

После того, как пользователь завершает поток пользователя, ответ возвращается в приложение по указанному `redirect_uri` параметру, используя метод, указанный в параметре. `response_mode` Ответ одинаков для каждого из предыдущих случаев, независимо от потока пользователей.

Успешный ответ с использованием метода `response_mode=fragment` выглядит следующим образом:

```HTTP
GET https://aadb2cplayground.azurewebsites.net/#
id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...
&state=arbitrary_data_you_can_receive_in_the_response
```

| Параметр | Описание |
| --------- | ----------- |
| id_token | Токен идентификатора, запрошенный приложением. Вы можете использовать маркер идентификации для проверки личности пользователя и запуска сеанса пользователя. |
| код | Код авторизации, запрошенный приложением, `response_type=code+id_token`если вы использовали. Приложение может использовать код авторизации для запроса токена доступа для целевого ресурса. Коды авторизации обычно истекают примерно через 10 минут. |
| state | Если запрос содержит параметр `state`, то в ответе должно отображаться то же значение. Приложение должно проверить, `state` что значения в запросе и ответе идентичны. |

Ответы на ошибку также `redirect_uri` могут быть отправлены на параметр, чтобы приложение смогли обрабатывать их надлежащим образом:

```HTTP
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| Параметр | Описание |
| --------- | ----------- |
| error | Код, который может быть использован для классификации типов ошибок, которые происходят. |
| error_description | Конкретное сообщение об ошибке, которое может помочь определить первопричину ошибки проверки подлинности. |
| state | Если запрос содержит параметр `state`, то в ответе должно отображаться то же значение. Приложение должно проверить, `state` что значения в запросе и ответе идентичны. |

## <a name="validate-the-id-token"></a>Проверка маркера идентификации

Получение маркера идентификации не является достаточным для прохождения пользователем проверки подлинности. Проверка подписи маркера ID и проверка утверждений в токене в соответствии с требованиями приложения. В Azure AD B2C для подписи маркеров и проверки их правильности используются [веб-маркеры JSON Web Token (JWT)](https://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) и шифрование с открытым ключом. Для проверки JWT доступны многие библиотеки с открытым исходным кодом в зависимости от выбранного языка программирования. Мы рекомендуем изучить различные библиотеки, а не реализовывать логику проверки самостоятельно.

Azure AD B2C имеет конечную точку метаданных OpenID Connect, которая позволяет приложению получать информацию о Azure AD B2C во время выполнения. Эти сведения включают конечные точки, содержимое маркеров и ключи подписи маркеров. Для каждого потока пользователя в клиенте B2C есть собственный документ метаданных JSON. Например, документ метаданных для потока пользователя `b2c_1_sign_in` в `fabrikamb2c.onmicrosoft.com` находится в каталоге:

```HTTP
https://fabrikamb2c.b2clogin.com/fabrikamb2c.onmicrosoft.com/b2c_1_sign_in/v2.0/.well-known/openid-configuration
```

Одно из свойств этого документа конфигурации — `jwks_uri`, значение которого для точно такого же потока пользователя будет следующим:

```HTTP
https://fabrikamb2c.b2clogin.com/fabrikamb2c.onmicrosoft.com/b2c_1_sign_in/discovery/v2.0/keys
```

Чтобы определить, какой поток пользователей был использован при подписании маркера ID (и откуда получить метаданные), у вас есть два варианта. Во-первых, имя потока пользователя включено в утверждение `acr` маркера идентификации. Другой вариант — закодировать поток пользователя в значении параметра `state` при отправке запроса, а затем декодировать его, чтобы определить используемый поток. Каждый из этих методов является допустимым.

После приобретения документа метаданных из конечной точки OpenID Connect можно использовать общедоступные клавиши RSA 256 для проверки подписи маркера id. В этой конечном пункте может быть несколько `kid` ключей, каждый из которых идентифицирован по претензии. Заголовок маркера идентификации также содержит утверждение `kid`, указывающее на ключ, который был использован для подписывания маркера идентификации.

Чтобы проверить токены из Azure AD B2C, необходимо создать общедоступный ключ с помощью экспонента (e) и модуля (n). Необходимо определить, как это сделать на соответствующем языке программирования. Официальную документацию по генерации открытых ключей с протоколом RSA можно найти здесь:https://tools.ietf.org/html/rfc3447#section-3.1

После проверки подписи маркера идентификации вам потребуется проверить несколько утверждений. например

- Проверьте утверждение `nonce` во избежание атак с использованием воспроизведения маркеров. Его значение должно совпадать с указанным вами в запросе на вход.
- Проверка `aud` претензии, чтобы убедиться, что токен ID был выдан для вашего приложения. Его значение должно быть идентификатором приложения.
- Проверка `iat` и `exp` претензии, чтобы убедиться, что маркер id не истек.

Также существуют некоторые дополнительные проверки, которые необходимо выполнить. Проверки подробно описаны в [спецификации OpenID Connect Core.](https://openid.net/specs/openid-connect-core-1_0.html) В зависимости от сценария также может потребоваться проверить дополнительные требования. Ниже приведены некоторые из стандартных проверок:

- Обеспечение того, чтобы пользователь/организация подписались на приложение.
- Предоставление пользователю необходимого уровня авторизации и привилегий.
- Обеспечение определенного уровня проверки подлинности, например с помощью службы Многофакторной идентификации Azure.

После проверки маркера ID можно начать сеанс с пользователем. Вы можете использовать претензии в маркере ID для получения информации о пользователе в приложении. Эти сведения используются для отображения, получения записей и проверки подлинности.

## <a name="get-a-token"></a>Получение маркера

Если вам нужно, чтобы ваше веб-приложение запускалось только для пользовательских потоков, вы можете пропустить следующие несколько разделов. Эти разделы применимы только к веб-приложениям, которые должны делать аутентифицированные вызовы для веб-API, а также защищены Azure AD B2C.

Чтобы воспользоваться кодом авторизации маркера для необходимого ресурса (полученным с помощью `response_type=code+id_token`), отправьте запрос `POST` на конечную точку `/token`. В Azure AD B2C можно [запросить токены доступа для других AIS,](access-tokens.md#request-a-token) как обычно, указав их область (ы) в запросе.

Вы также можете запросить токен доступа для собственного бэк-энда Web API вашего приложения по конвенции об использовании идентификатора клиента приложения в качестве запрашиваемого объема (что приведет к тому, что токен доступа с этим идентификатором клиента в качестве "аудитории"):

```HTTP
POST {tenant}.onmicrosoft.com/{policy}/oauth2/v2.0/token HTTP/1.1
Host: {tenant}.b2clogin.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob
```

| Параметр | Обязательно | Описание |
| --------- | -------- | ----------- |
| (арендатор) | Да | Имя вашего арендатора Azure AD B2C |
| (политика) | Да | Поток пользователя, который использовался для получения кода авторизации. Вы не можете использовать другой поток пользователей в этом запросе. Добавьте этот параметр в строку запроса, а не в тело POST. |
| client_id | Да | Идентификатор приложения, назначенный [порталу Azure](https://portal.azure.com/) вашему приложению. |
| client_secret | Да, в веб-приложениях | Секрет приложения, который был создан на [портале Azure](https://portal.azure.com/). Секреты клиентов используются в этом потоке для сценариев Web App, где клиент может надежно хранить секрет клиента. Для сценариев Native App (общественный клиент) секреты клиента не могут быть надежно сохранены, threfore не используется в этом потоке. Если при использовании секрета клиента, пожалуйста, измените его на периодической основе. |
| код | Да | Код авторизации, приобретенный в начале пользовательского потока. |
| grant_type | Да | Тип предоставления. Для потока кода авторизации это должен быть тип `authorization_code`. |
| redirect_uri | Да | Параметр `redirect_uri` приложения, в котором вы получили код авторизации. |
| область | нет | Список областей с разделителями-пробелами. Область `openid` определяет разрешение на вход пользователя и получение данных о пользователе в форме маркеров идентификации. Он может быть использован для получения токенов на собственный веб-API вашего приложения, который представлен тем же идентификатором приложения, что и клиент. Область `offline_access` указывает на то, что приложению нужен маркер обновления для расширенного доступа к ресурсам. |

Успешный ответ маркера выглядит следующим образом:

```JSON
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```

| Параметр | Описание |
| --------- | ----------- |
| not_before | Момент времени, в который маркер начинает считаться действительным (с начала эпохи). |
| token_type | Значение типа маркера. `Bearer`является единственным типом, который поддерживается. |
| access_token | Подписанный маркер JWT, который вы запрашивали. |
| область | Области, для которых действителен маркер. |
| expires_in | Срок действия маркера доступа (в секундах). |
| refresh_token | Маркер обновления OAuth 2.0. Приложение может использовать этот маркер для приобретения дополнительных токенов после истечения текущего токена. Обновления токенов могут использоваться для сохранения доступа к ресурсам в течение длительных периодов времени. Область `offline_access` должна использоваться как в запросах авторизации, так и в маркерах для получения маркера обновления. |

Сообщения об ошибках выглядят следующим образом:

```JSON
{
    "error": "access_denied",
    "error_description": "The user revoked access to the app.",
}
```

| Параметр | Описание |
| --------- | ----------- |
| error | Код, который может быть использован для классификации типов ошибок, которые происходят. |
| error_description | Сообщение, которое может помочь определить основную причину ошибки проверки подлинности. |

## <a name="use-the-token"></a>Использование маркера

После успешного получения маркера доступа маркер можно использовать в запросах к веб-API серверной части приложения путем включения маркера в заголовок `Authorization`:

```HTTP
GET /tasks
Host: mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="refresh-the-token"></a>Обновление маркера

Срок действия токенов ID истекает в течение короткого периода времени. Опрокидывай тетокены после истечения срока их действия, чтобы продолжать получать доступ к ресурсам. Вы можете обновить маркер, отправив `POST` `/token` другой запрос в конечную точку. На этот раз укажите параметр `refresh_token` вместо параметра `code`:

```HTTP
POST {tenant}.onmicrosoft.com/{policy}/oauth2/v2.0/token HTTP/1.1
Host: {tenant}.b2clogin.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=openid offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob
```

| Параметр | Обязательно | Описание |
| --------- | -------- | ----------- |
| (арендатор) | Да | Имя вашего арендатора Azure AD B2C |
| (политика) | Да | Поток пользователя, который использовался для получения исходного маркера обновления. Вы не можете использовать другой поток пользователей в этом запросе. Добавьте этот параметр в строку запроса, а не в тело POST. |
| client_id | Да | Идентификатор приложения, назначенный [порталу Azure](https://portal.azure.com/) вашему приложению. |
| client_secret | Да, в веб-приложениях | Секрет приложения, который был создан на [портале Azure](https://portal.azure.com/). Секреты клиентов используются в этом потоке для сценариев Web App, где клиент может надежно хранить секрет клиента. Для сценариев Native App (общественный клиент) секреты клиента не могут быть надежно сохранены, threfore не используется на этом вызове. Если при использовании секрета клиента, пожалуйста, измените его на периодической основе. |
| grant_type | Да | Тип гранта, который должен быть маркером обновления для этой части потока кода авторизации. |
| refresh_token | Да | Оригинальный токен обновления, приобретенный во второй части потока. Область `offline_access` должна использоваться как в запросах авторизации, так и в маркерах для получения маркера обновления. |
| redirect_uri | нет | Параметр `redirect_uri` приложения, в котором вы получили код авторизации. |
| область | нет | Список областей с разделителями-пробелами. Область `openid` определяет разрешение на вход пользователя и получение данных о пользователе в форме маркеров идентификации. Он может быть использован для отправки токенов на собственный веб-API вашего приложения, который представлен тем же идентификатором приложения, что и клиент. Область `offline_access` указывает на то, что приложению нужен маркер обновления для расширенного доступа к ресурсам. |

Успешный ответ маркера выглядит следующим образом:

```JSON
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```

| Параметр | Описание |
| --------- | ----------- |
| not_before | Момент времени, в который маркер начинает считаться действительным (с начала эпохи). |
| token_type | Значение типа маркера. `Bearer`является единственным типом, который поддерживается. |
| access_token | Подписанный токен JWT, который был запрошен. |
| область | Область, для которой токен действителен. |
| expires_in | Срок действия маркера доступа (в секундах). |
| refresh_token | Маркер обновления OAuth 2.0. Приложение может использовать этот маркер для приобретения дополнительных токенов после истечения текущего токена. Обновления токенов могут использоваться для сохранения доступа к ресурсам в течение длительных периодов времени. |

Сообщения об ошибках выглядят следующим образом:

```JSON
{
    "error": "access_denied",
    "error_description": "The user revoked access to the app.",
}
```

| Параметр | Описание |
| --------- | ----------- |
| error | Код, который может быть использован для классификации типов ошибок, которые происходят. |
| error_description | Сообщение, которое может помочь определить основную причину ошибки проверки подлинности. |

## <a name="send-a-sign-out-request"></a>Отправка запроса на выход

Если вы хотите подписать пользователя из приложения, недостаточно очистить файлы cookie приложения или иным образом закончить сеанс с пользователем. Перенаправьте пользователя на Azure AD B2C, чтобы выйти из системы. Если вы не сделаете этого, пользователь может повторно подтвердить подлинность вашего приложения, не вводя его учетные данные снова.

Чтобы выйти из списка пользователя, `end_session` перенаправьте пользователя в конечную точку, указанную в документе метаданных OpenID Connect, описанном ранее:

```HTTP
GET https://{tenant}.b2clogin.com/{tenant}.onmicrosoft.com/{policy}/oauth2/v2.0/logout?post_logout_redirect_uri=https%3A%2F%2Fjwt.ms%2F
```

| Параметр | Обязательно | Описание |
| --------- | -------- | ----------- |
| (арендатор) | Да | Имя вашего арендатора Azure AD B2C |
| (политика) | Да | Поток пользователя, который вы хотите использовать для выхода пользователя из приложения. |
| id_token_hint| нет | Ранее выданный маркер ID для передачи в конечную точку выхода в качестве намека на текущую проверку подлинности сеанса с клиентом. Это `id_token_hint` гарантирует, `post_logout_redirect_uri` что это зарегистрированный URL-адрес ответа в настройках приложения Azure AD B2C. |
| client_id | Нет* | Идентификатор приложения, назначенный [порталу Azure](https://portal.azure.com/) вашему приложению.<br><br>\**Это необходимо при `Application` использовании изолированной конфигурации SSO и _запросе Запроса id Inken_ в запросе на `No`выход.* |
| post_logout_redirect_uri | нет | URL-адрес, на который пользователь должен быть перенаправлен после успешного выхода. Если он не включен, Azure AD B2C показывает пользователю общее сообщение. Если вы `id_token_hint`не предоставите, вы не должны регистрировать этот URL-адрес в качестве URL-адреса ответа в настройках приложения Azure AD B2C. |
| state | нет | Если запрос содержит параметр `state`, то в ответе должно отображаться то же значение. Приложение должно проверить, `state` что значения в запросе и ответе идентичны. |

### <a name="secure-your-logout-redirect"></a>Защищайте перенаправление выхода из системы

После выхода из системы пользователь перенаправляется `post_logout_redirect_uri` в URI, указанный в параметре, независимо от URL-адресов ответа, указанных для приложения. Однако, если `id_token_hint` действительное пройдено, Azure AD B2C проверяет, что значение `post_logout_redirect_uri` одного из настроенных URL-х приложений перенаправляет URIs перед выполнением перенаправления. Если для приложения не был настроен соответствующий URL-адрес ответа, отображается сообщение об ошибке и пользователь не перенаправляется.

### <a name="external-identity-provider-sign-out"></a>Внешний поставщик идентификационных данных выйти

Направление пользователя к `end_session` конечной точке очищает часть состояния единого ввоза пользователя с помощью Azure AD B2C, но он не подписывает пользователя из сеанса поставщика социальных идентификаций (IDP). Если пользователь выбирает одного и того же ВПЛ во время последующего входа, он повторно проверяется без ввода своих учетных данных. Если пользователь хочет выйти из приложения, это не обязательно означает, что он хочет выйти из своей учетной записи Facebook. Однако, если используются локальные учетные записи, сеанс пользователя заканчивается должным образом.
