---
title: Настройка регистрации и входа с учетной записью Microsoft
titleSuffix: Azure AD B2C
description: Вы можете организовать в приложениях регистрацию и вход для клиентов с учетными записями Microsoft, используя Azure Active Directory B2C.
services: active-directory-b2c
author: msmimart
manager: celestedg
ms.service: active-directory
ms.workload: identity
ms.topic: conceptual
ms.date: 05/12/2020
ms.author: mimart
ms.subservice: B2C
ms.openlocfilehash: 375c83445bb559efe5c797e583129cb1b0c2fb65
ms.sourcegitcommit: fdec8e8bdbddcce5b7a0c4ffc6842154220c8b90
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2020
ms.locfileid: "83636906"
---
# <a name="set-up-sign-up-and-sign-in-with-a-microsoft-account-using-azure-active-directory-b2c"></a>Настройка регистрации и входа с учетной записью Microsoft через Azure Active Directory B2C

## <a name="create-a-microsoft-account-application"></a>Создание приложения для учетной записи Майкрософт

Чтобы использовать учетную запись Microsoft в качестве [поставщика удостоверений](openid-connect.md) для Azure Active Directory B2C (Azure AD B2C), необходимо создать приложение в клиенте Azure AD. Клиент Azure AD отличается от клиента Azure AD B2C. Если у вас нет учетной записи Microsoft, вы можете получить ее по адресу [https://www.live.com/](https://www.live.com/).

1. Войдите на [портал Azure](https://portal.azure.com).
1. Убедитесь, что вы используете каталог с клиентом Azure AD, выбрав фильтр **Каталог и подписка** в меню вверху и каталог с вашим клиентом Azure AD.
1. Выберите **Все службы** в левом верхнем углу окна портала Azure, а затем найдите и выберите **Регистрация приложений**.
1. Выберите **Новая регистрация**.
1. Введите значение **Name** (Имя) для приложения. Например, *MSAapp1*.
1. В поле **Поддерживаемые типы учетных записей** выберите вариант **Учетные записи в любом каталоге организации (любой каталог Azure AD — мультитенантный) и персональные учетные записи Майкрософт (например, Skype, Xbox)** .

   Дополнительные сведения о различных вариантах выбора типа учетной записи см. в статье [Краткое руководство. Регистрация приложения с помощью платформы удостоверений Майкрософт](../active-directory/develop/quickstart-register-app.md)
1. В поле **URI перенаправления (необязательно)** выберите **Интернет** и введите `https://<tenant-name>.b2clogin.com/<tenant-name>.onmicrosoft.com/oauth2/authresp` в текстовое поле. Замените `<tenant-name>` именем своего клиента Azure AD B2C.
1. Нажмите кнопку **Зарегистрировать**.
1. Запишите значение параметра **Идентификатор приложения (клиента)** , отображаемого на странице обзора приложения. Этот идентификатор потребуется при настройке поставщика удостоверений в следующем разделе.
1. Выберите **Сертификаты и секреты**.
1. Щелкните **Создать секрет клиента**.
1. В поле **Описание** введите описание секрета, например *Пароль приложения 1*, а затем нажмите кнопку **Добавить**.
1. Запишите пароль приложения, отображаемый в столбце **Значение**. Этот идентификатор потребуется при настройке поставщика удостоверений в следующем разделе.

## <a name="configure-a-microsoft-account-as-an-identity-provider"></a>Настройка учетной записи Microsoft в качестве поставщика удостоверений

1. Войдите на [портал Azure](https://portal.azure.com/) с правами глобального администратора клиента Azure AD B2C.
1. Убедитесь, что используете каталог с клиентом Azure AD B2C, выбрав фильтр **Каталог и подписка** в меню вверху и каталог с вашим клиентом.
1. Выберите **Все службы** в левом верхнем углу окна портала Azure, найдите службу **Azure AD B2C** и выберите ее.
1. Выберите **Поставщики удостоверений**, а затем — **Учетная запись Microsoft**.
1. Введите **Имя**. Например, *MSA*.
1. В качестве **идентификатора клиента** введите идентификатор приложения (клиента) для приложения Azure AD, созданного ранее.
1. В качестве **секрета клиента** введите секрет клиента, записанный ранее.
1. Щелкните **Сохранить**.
