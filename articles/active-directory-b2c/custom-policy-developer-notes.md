---
title: Заметки разработчика для пользовательских политик
titleSuffix: Azure AD B2C
description: Примечания для разработчиков по настройке и обслуживанию Azure AD B2C с помощью настраиваемых политик.
services: active-directory-b2c
author: msmimart
manager: celestedg
ms.service: active-directory
ms.workload: identity
ms.topic: conceptual
ms.date: 02/12/2020
ms.author: mimart
ms.subservice: B2C
ms.openlocfilehash: ee3b5bd3278412949074b77f9d1c53d63a467280
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "78189401"
---
# <a name="developer-notes-for-custom-policies-in-azure-active-directory-b2c"></a>Заметки разработчика для пользовательских политик в Azure Active Directory B2C

Конфигурация пользовательских политик в Azure Active Directory B2C теперь доступна. Этот метод настройки предназначен для разработчиков передовых идентификационных данных, строяющих сложные решения идентификации. Пользовательские политики делают доступ к системе «Опыт идентификации» для клиентов Azure AD B2C.
Продвинутые разработчики идентификационных данных, использующие пользовательские политики, должны планировать некоторое время на завершение пошаговых решений и чтение справочных документов.

Хотя большинство доступных вариантов пользовательской политики в настоящее время, как правило, доступны, существуют основные возможности, такие как типы технических профилей и AI определения содержимого, которые находятся на разных этапах жизненного цикла программного обеспечения. Гораздо больше приходят. В таблице ниже указывается уровень доступности на более детальном уровне.

## <a name="features-that-are-generally-available"></a>Функции, которые обычно доступны

- Создавать и отправлять пользовательские процедуры проверки подлинности с помощью настраиваемых политик.
    - Поэтапно описывать пути взаимодействия пользователя для обмена данными между поставщиками удостоверений.
    - Определять условные ветвления путей взаимодействия пользователей.
- Взаимодействие с службами с поддержкой REST API в пользовательских поездках пользователей по проверке подлинности.
- Федеративная связь с поставщиками идентификационных данных, которые соответствуют протоколу OpenIDConnect.
- Федеративная с поставщиками идентификационных данных, которые придерживаются протокола SAML 2.0.

## <a name="responsibilities-of-custom-policy-feature-set-developers"></a>Обязанности разработчиков набора функций настраиваемой политики

Конфигурация ручных политик предоставляет более низкий уровень доступа к базовой платформе Azure AD B2C и приводит к созданию уникальной системы доверия. Многочисленные возможные перестановки пользовательских поставщиков идентификационных данных, доверительные отношения, интеграция с внешними службами и пошаговые рабочие процессы требуют методического подхода к проектированию и настройке.

Разработчики, потребляющие набор функций пользовательской политики, должны придерживаться следующих рекомендаций:

- Ознакомьтесь с языком конфигурации пользовательских политик и управления ключами/секретами. Для получения дополнительной информации [см.](trustframeworkpolicy.md)
- Станьте владельцем сценариев и настраиваемой интеграции. Задокументируйте свою работу и сообщите об этом организации живого сайта.
- Выполняйте систематическое тестирование сценария.
- Выполните рекомендации по разработке программного обеспечения и промежуточному хранению, используя как минимум одну среду разработки или тестирования и одну рабочую среду.
- Будьте в курсе последних разработок поставщика удостоверений и интегрируемых служб. Например, получайте информацию об изменениях в секретах, запланированных и незапланированных изменениях в службах и т. д.
- Настройте активный мониторинг и отслеживайте скорость реагирования рабочих сред. Для получения дополнительной информации об интеграции с Application Insights [см.](analytics-with-application-insights.md)
- Используйте текущий контактный адрес электронной почты в подписке Azure, чтобы реагировать на сообщения службы поддержки действующего сайта Майкрософт.
- Принимайте своевременные меры, рекомендованные службой поддержки активного сайта Майкрософт.

## <a name="terms-for-features-in-public-preview"></a>Условия для функций в общедоступном предварительном просмотре

- Мы рекомендуем вам использовать общедоступные функции предварительного просмотра только для целей оценки.
- Соглашения об уровне обслуживания (SLAs) не распространяются на общедоступные функции предварительного просмотра.
- Запросы поддержки для общедоступных функций предварительного просмотра могут быть поданы через регулярные каналы поддержки.

## <a name="features-by-stage-and-known-issues"></a>Доступность функций на различных стадиях и известные проблемы

Возможности пользовательских политик/identity Experience Framework находятся в постоянном и быстром развитии. Следующая таблица представляет собой индекс объектов и доступности компонентов.

### <a name="identity-providers-tokens-protocols"></a>Поставщики удостоверений, токены и протоколы

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
|-------- | :-----------: | :-------: | :--: | ----- |
| IDP-OpenIDConnect |  |  | X | Например, Google.  |
| IDP-OAUTH2 |  |  | X | Например, Facebook.  |
| IDP-OAUTH1 (твиттер) |  | X |  | Например, Twitter. |
| IDP-OAUTH1 (экс-твиттер) |  |  |  | Не поддерживается |
| IDP-SAML |  |   | X | Например, Salesforce, ADFS. |
| IDP-WSFED | X |  |  |  |
| Опираясь на партию OAUTH1 |  |  |  | Не поддерживается. |
| Опираясь на партию OAUTH2 |  |  | X |  |
| Протокол OIDC проверяющей стороны |  |  | X |  |
| Протокол SAML проверяющей стороны |  |X  |  |  |
| Протокол WSFED проверяющей стороны | X |  |  |  |
| REST API с базовым и сертификатным auth |  |  | X | Например, приложения логики Azure. |

### <a name="component-support"></a>Поддержка компонентов

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
| ------- | :-----------: | :-------: | :--: | ----- |
| Многофакторная идентификация Azure |  |  | X |  |
| Azure Active Directory в качестве локального каталога |  |  | X |  |
| Подсистема Azure Email для проверки электронной почты |  |  | X |  |
| Многоязыковая поддержка|  |  | X |  |
| Предикатные валидации |  |  | X | Например, сложность паролей. |
| Использование сторонних поставщиков услуг электронной почты |  |X  |  |  |

### <a name="content-definition"></a>Определение содержимого

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
| ------- | :-----------: | :-------: | :--: | ----- |
| Страница ошибки (api.error) |  |  | X |  |
| Страница выбора поставщика удостоверений (api.idpselections) |  |  | X |  |
| Выбор поставщика удостоверений для регистрации (api.idpselections.signup) |  |  | X |  |
| Восстановление пароля (api.localaccountpasswordreset) |  |  | X |  |
| Вход в локальную учетную запись (api.localaccountsignin) |  |  | X |  |
| Регистрация локальной учетной записи (api.localaccountsignup) |  |  | X |  |
| Страница многофакторной проверки подлинности (api.phonefactor) |  |  | X |  |
| Самоутверждаемый социальный счет регистрации, api.selfasserted |  |  | X |  |
| Обновление профиля с самостоятельным подтверждением (api.selfasserted.profileupdate) |  |  | X |  |
| Единая регистрация или страница регистрации, api.signuporsignin, с параметром "отключитьЗнак" |  |  | X |  |
| JavaScript / Макет страницы |  | X |  |  |

### <a name="app-ief-integration"></a>Интеграция приложения с Identity Experience Framework

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
| ------- | :-----------: | :-------: | :--: | ----- |
| Параметр строки запроса domain_hint |  |  | X | Доступные в качестве претензии, могут быть переданы ВПЛ. |
| Параметр строки запроса login_hint |  |  | X | Доступные в качестве претензии, могут быть переданы ВПЛ. |
| Вставка данных в формате JSON в UserJourney с помощью параметра client_assertion | X |  |  | Будет обесценился. |
| Вставка данных в формате JSON в UserJourney в виде параметра id_token_hint. |  | X |  | Идти вперед подход, чтобы пройти JSON. |
| Передайте IDP TOKEN в приложение |  | X |  | Например, от Facebook до приложения. |

### <a name="session-management"></a>Управление сеансом

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
| ------- | :-----------: | :-------: | :--: | ----- |
| Поставщик сеансов единого входа |  |  | X |  |
| Поставщик сеансов внешнего входа |  |  | X |  |
| Поставщик сеансов единого входа SAML |  |  | X |  |
| Поставщик сеансов SSO по умолчанию |  |  | X |  |

### <a name="security"></a>Безопасность

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
|-------- | :-----------: | :-------: | :--: | ----- |
| Ключи политики — создание, смена вручную и передача |  |  | X |  |
| Ключи политики — RSA или сертификаты, секреты |  |  | X |  |
| Загрузка политики |  |  | X |  |

### <a name="developer-interface"></a>Интерфейс разработчика

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
| ------- | :-----------: | :-------: | :--: | ----- |
| Пользовательский интерфейс Identity Experience Framework на портале Azure |  |  | X |  |
| Журналы UserJourney в Application Insights |  | X |  | Используется для устранения неполадок во время разработки.  |
| Анкеты приложений Insights (через шаги по оркестровке) |  | X |  | Используется для мониторинга потоков пользователей в производстве. |

## <a name="next-steps"></a>Дальнейшие действия

Узнайте больше об [пользовательских политиках и различиях в потоках пользователей.](custom-policy-overview.md)
