---
title: Заметки разработчика для пользовательских политик
titleSuffix: Azure AD B2C
description: Примечания для разработчиков по настройке и обслуживанию Azure AD B2C с помощью настраиваемых политик.
services: active-directory-b2c
author: mmacy
manager: celestedg
ms.service: active-directory
ms.workload: identity
ms.topic: conceptual
ms.date: 02/12/2020
ms.author: marsma
ms.subservice: B2C
ms.openlocfilehash: 6439393b72eb724ca017edc17ce7a7c36c275fca
ms.sourcegitcommit: bdf31d87bddd04382effbc36e0c465235d7a2947
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/12/2020
ms.locfileid: "77166964"
---
# <a name="developer-notes-for-custom-policies-in-azure-active-directory-b2c"></a>Примечания разработчика для пользовательских политик в Azure Active Directory B2C

Конфигурация настраиваемой политики в Azure Active Directory B2C теперь общедоступна. Этот метод настройки предназначен для опытных разработчиков удостоверений, создающих сложные решения для идентификации. Пользовательские политики делают возможной работу инфраструктуры процедур идентификации в Azure AD B2C клиентах.
Опытные разработчики удостоверений, использующие пользовательские политики, должны быть готовы к вложению пошаговых инструкций и чтению справочных документов.

Хотя большинство доступных параметров настраиваемой политики теперь общедоступны, существуют базовые возможности, такие как типы технических профилей и API определения содержимого, которые находятся на разных этапах жизненного цикла программного обеспечения. Появятся многие другие. В таблице ниже указывается уровень доступности на более детализированном уровне.

## <a name="features-that-are-generally-available"></a>Функции, доступные в общем доступе

- Создавать и отправлять пользовательские процедуры проверки подлинности с помощью настраиваемых политик.
    - Поэтапно описывать пути взаимодействия пользователя для обмена данными между поставщиками удостоверений.
    - Определять условные ветвления путей взаимодействия пользователей.
- Взаимодействие с службами с поддержкой REST API в пользовательских путях проверки подлинности пользователя.
- Федерацию с поставщиками удостоверений, совместимыми с протоколом OpenIDConnect.
- Федерацию с поставщиками удостоверений, которые соответствуют протоколу SAML 2,0.

## <a name="responsibilities-of-custom-policy-feature-set-developers"></a>Обязанности разработчиков набора функций настраиваемой политики

Настройка политики вручную предоставляет доступ на уровне к базовой платформе Azure AD B2C и приводит к созданию уникальной инфраструктуры доверия. Многие из возможных перестановок пользовательских поставщиков удостоверений, отношений доверия, интеграции с внешними службами и пошаговые рабочие процессы нуждаются в методический подходе к проектированию и настройке.

Разработчики, использующие набор функций настраиваемой политики, должны соблюдать следующие рекомендации:

- Ознакомьтесь с языком конфигурации настраиваемых политик и управления ключами и секретами. Дополнительные сведения см. в разделе [TrustFrameworkPolicy](trustframeworkpolicy.md).
- Станьте владельцем сценариев и настраиваемой интеграции. Документирование работы и информирование Организации об интерактивных сайтах.
- Выполняйте систематическое тестирование сценария.
- Выполните рекомендации по разработке программного обеспечения и промежуточному хранению, используя как минимум одну среду разработки или тестирования и одну рабочую среду.
- Будьте в курсе последних разработок поставщика удостоверений и интегрируемых служб. Например, получайте информацию об изменениях в секретах, запланированных и незапланированных изменениях в службах и т. д.
- Настройте активный мониторинг и отслеживайте скорость реагирования рабочих сред. Дополнительные сведения об интеграции с Application Insights см. в разделе [Azure Active Directory B2C: сбор журналов](analytics-with-application-insights.md).
- Используйте текущий контактный адрес электронной почты в подписке Azure, чтобы реагировать на сообщения службы поддержки действующего сайта Майкрософт.
- Принимайте своевременные меры, рекомендованные службой поддержки активного сайта Майкрософт.

## <a name="terms-for-features-in-public-preview"></a>Условия для функций в общедоступной предварительной версии

- Мы рекомендуем использовать общедоступные функции предварительной версии только в целях оценки.
- Соглашения об уровне обслуживания (SLA) не применяются к общедоступным функциям предварительной версии.
- Запросы на поддержку для функций общедоступной предварительной версии можно хранить по стандартным каналам поддержки.

## <a name="features-by-stage-and-known-issues"></a>Доступность функций на различных стадиях и известные проблемы

Пользовательские возможности инфраструктуры и процедур идентификации находятся в режиме постоянной и быстрой разработки. В следующей таблице приведен индекс компонентов и доступность компонентов.

### <a name="identity-providers-tokens-protocols"></a>Поставщики удостоверений, токены и протоколы

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
|-------- | :-----------: | :-------: | :--: | ----- |
| IDP-OpenIDConnect |  |  | X | Например, Google +.  |
| IDP-OAUTH2 |  |  | X | Например, Facebook.  |
| IDP-OAUTH1 (Twitter) |  | X |  | Например, Twitter. |
| IDP-OAUTH1 (ex — Twitter) |  |  |  | Не поддерживается |
| IDP-SAML |  |   | X | Например, Salesforce, ADFS. |
| IDP-WSFED | X |  |  |  |
| OAUTH1 проверяющей стороны |  |  |  | Не поддерживается. |
| OAUTH2 проверяющей стороны |  |  | X |  |
| Протокол OIDC проверяющей стороны |  |  | X |  |
| Протокол SAML проверяющей стороны |  |X  |  |  |
| Протокол WSFED проверяющей стороны | X |  |  |  |
| REST API с проверкой подлинности Basic и сертификата |  |  | X | Например, Azure Logic Apps. |

### <a name="component-support"></a>Поддержка компонентов

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
| ------- | :-----------: | :-------: | :--: | ----- |
| Многофакторная идентификация Azure |  |  | X |  |
| Azure Active Directory в качестве локального каталога |  |  | X |  |
| Подсистема электронной почты Azure для проверки электронной почты |  |  | X |  |
| Многоязыковая поддержка|  |  | X |  |
| Проверки предикатов |  |  | X | Например, сложность пароля. |
| Использование сторонних поставщиков услуг электронной почты |  |X  |  |  |

### <a name="content-definition"></a>Определение содержимого

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
| ------- | :-----------: | :-------: | :--: | ----- |
| Страница ошибки (api.error) |  |  | X |  |
| Страница выбора поставщика удостоверений (api.idpselections) |  |  | X |  |
| Выбор поставщика удостоверений для регистрации (api.idpselections.signup) |  |  | X |  |
| Восстановление пароля (api.localaccountpasswordreset) |  |  | X |  |
| Вход в локальную учетную запись (api.localaccountsignin) |  |  | X |  |
| Регистрация локальной учетной записи (api.localaccountsignup) |  |  | X |  |
| Страница многофакторной проверки подлинности (api.phonefactor) |  |  | X |  |
| Регистрация с самостоятельно подтвержденной учетной записью социального страхования, API. selfasserted |  |  | X |  |
| Обновление профиля с самостоятельным подтверждением (api.selfasserted.profileupdate) |  |  | X |  |
| Унифицированная регистрация или страница входа, API. signuporsignin с параметром "Дисаблесигнуп" |  |  | X |  |
| JavaScript/макет страницы |  | X |  |  |

### <a name="app-ief-integration"></a>Интеграция приложения с Identity Experience Framework

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
| ------- | :-----------: | :-------: | :--: | ----- |
| Параметр строки запроса domain_hint |  |  | X | Доступно как утверждение, может быть передано в IDP. |
| Параметр строки запроса login_hint |  |  | X | Доступно как утверждение, может быть передано в IDP. |
| Вставка данных в формате JSON в UserJourney с помощью параметра client_assertion | X |  |  | Будет считаться устаревшим. |
| Вставка данных в формате JSON в UserJourney в виде параметра id_token_hint. |  | X |  | Метод Go-Forward для передачи JSON. |
| Передача ТОКЕНа IDP в приложение |  | X |  | Например, из Facebook в приложение. |

### <a name="session-management"></a>Управление сеансом

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
| ------- | :-----------: | :-------: | :--: | ----- |
| Поставщик сеансов единого входа |  |  | X |  |
| Поставщик сеансов внешнего входа |  |  | X |  |
| Поставщик сеансов единого входа SAML |  |  | X |  |
| Поставщик сеанса единого входа по умолчанию |  |  | X |  |

### <a name="security"></a>безопасность

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
|-------- | :-----------: | :-------: | :--: | ----- |
| Ключи политики — создание, смена вручную и передача |  |  | X |  |
| Ключи политики — RSA или сертификаты, секреты |  |  | X |  |
| Отправка политики |  |  | X |  |

### <a name="developer-interface"></a>Интерфейс разработчика

| Компонент | Разработка | Preview (Предварительный просмотр) | GA | Примечания |
| ------- | :-----------: | :-------: | :--: | ----- |
| Пользовательский интерфейс Identity Experience Framework на портале Azure |  |  | X |  |
| Журналы UserJourney в Application Insights |  | X |  | Используется для устранения неполадок во время разработки.  |
| Application Insights журналов событий (через шаги оркестрации) |  | X |  | Используется для мониторинга потоков пользователей в рабочей среде. |

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о [пользовательских политиках и различиях между потоками пользователей](custom-policy-overview.md).
