---
title: Что такое контроллер входящего трафика шлюза приложений Azure?
description: В этой статье приводятся общие сведения о контроллере входящего трафика шлюза приложений.
services: application-gateway
author: caya
ms.service: application-gateway
ms.topic: article
ms.date: 11/4/2019
ms.author: caya
ms.openlocfilehash: d6a63b6276c07b1fe6487b97f5c7fc255b6d3411
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "80335800"
---
# <a name="what-is-application-gateway-ingress-controller"></a>Что такое входной контроллер шлюза приложений?
Контроллер входящего трафика шлюза приложений (АГИК) — это приложение Kubernetes, которое позволяет клиентам [Azure Kubernetes Service (AKS)](https://azure.microsoft.com/services/kubernetes-service/) использовать собственный [шлюз](https://azure.microsoft.com/services/application-gateway/) нагрузки уровня 7 для Microsoft Azure, чтобы предоставить доступ к облачному программному обеспечению через Интернет. АГИК отслеживает кластер Kubernetes, на котором он размещен, и постоянно обновляет шлюз приложений, чтобы выбранные службы были доступны в Интернете.

Входной контроллер работает в своем собственном модуле в AKS клиента. АГИК отслеживает подмножество ресурсов Kubernetes для внесения изменений. Состояние кластера AKS преобразуется в конфигурацию шлюза приложений и применяется к [Azure Resource Manager (ARM)](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview).

## <a name="benefits-of-application-gateway-ingress-controller"></a>Преимущества контроллера входящего трафика шлюза приложений
АГИК позволяет вашему развертыванию управлять несколькими кластерами AKS с помощью единого входящего контроллера шлюза приложений. АГИК также помогает устранить необходимость создания другой подсистемы балансировки нагрузки или общедоступного IP-адреса перед кластером AKS и избежать нескольких прыжков в пути данных до достижения запросов к кластеру AKS. Шлюз приложений обращается к модулям Pod напрямую с помощью частных IP-адресов и не требует Нодепорт или Кубепрокси Services. Это также повышает производительность развертывания.

Входной контроллер поддерживается исключительно Standard_v2 и WAF_v2 SKU, что также приводит к преимуществам автоматического масштабирования. Шлюз приложений может реагировать в ответ на увеличение или уменьшение нагрузки на трафик и соответствующим образом масштабировать, не используя ресурсы из кластера AKS.

Использование шлюза приложений в дополнение к АГИК также помогает защитить кластер AKS, предоставляя политику TLS и функцию брандмауэра веб-приложения (WAF).

![Шлюз приложений Azure + AKS](./media/application-gateway-ingress-controller-overview/architecture.png)

АГИК настраивается с помощью [ресурса](https://kubernetes.io/docs/user-guide/ingress/)входящих данных Kubernetes, а также службы, развертываний и модулей Pod. Он предоставляет ряд функций, использующих балансировщик нагрузки уровня "Стандартный" шлюза приложений Azure. Вот некоторые из них:
  - Маршрутизация URL-адресов
  - Сходство на основе файлов cookie,
  - Терминирование TLS
  - Сквозной протокол TLS
  - Поддержка общедоступных, частных и гибридных веб-сайтов
  - Интегрированный брандмауэр веб-приложения

АГИК может работать с несколькими пространствами имен и имеет Прохибитедтаржетс. Это означает, что АГИК можно настроить шлюз приложений специально для AKS кластеров, не затрагивая другие существующие серверные возможности. 

## <a name="next-steps"></a>Дальнейшие шаги

- [**Развертывание нуля**](ingress-controller-install-new.md). инструкции по установке АГИК, AKS и шлюза приложений в инфраструктуре пустого материала.
- [**Развертывание серия статей Brownfield**](ingress-controller-install-existing.md): Установите агик на существующем AKS и шлюзе приложений.

