---
title: Управление службой "Конфигурация приложений Azure" | Документация Майкрософт
description: Общие сведения о том, как служба "Конфигурация приложений Azure" позволяет включать и отключать функции приложения по требованию
services: azure-app-configuration
documentationcenter: ''
author: yegu-ms
manager: maiye
editor: ''
ms.service: azure-app-configuration
ms.devlang: na
ms.topic: overview
ms.workload: tbd
ms.date: 04/19/2019
ms.author: yegu
ms.openlocfilehash: 304ca08275ccf4bf32d38e3fc89dd5cf07460fa4
ms.sourcegitcommit: 300cd05584101affac1060c2863200f1ebda76b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/08/2019
ms.locfileid: "65413771"
---
# <a name="feature-management"></a>управление функциями.

Традиционно внедрение новой функции приложения требует полного повторного развертывания приложения. Для тестирования функции вам, скорее всего, потребуется развернуть приложение много раз, чтобы иметь возможность управлять тем, когда оно становится видимым и кому. Управление функциями — современная методика разработки программного обеспечения, которая отделяет выпуск функций от развертывания кода и позволяет быстро вносить изменения в доступность функций по требованию. Она использует методику, называемую *флагом функции* (также известную как *ротация функций*, *коммутатор функций* и т д.), чтобы динамически управлять жизненным циклом функции. Она помогает разработчикам справиться со следующими проблемами:

* **Управление ветвью кода**. Флаги функций часто используются для создания оболочки новых функциональных возможностей приложения, которые находятся в стадии разработки. Такая функция по умолчанию скрыта. Вы можете безопасно отправить ее на устройство, хотя она и незавершенная, и она будет находится в неактивном состоянии в рабочей среде. При таком подходе, который называется *темным развертыванием*, вы можете выпускать весь свой код в конце каждого цикла развертывания. Вам больше не нужно поддерживать какую-либо ветвь кода в нескольких циклах, так как выполнение обработки функции занимает более одного периода.
* **Тестирование в рабочей среде**. Вы можете использовать флаги функций, чтобы предоставлять ранний доступ к новым функциональным возможностям в рабочей среде. Например, вы можете ограничить доступ только участниками команды или внутренними тестировщиками бета-версии. Эти пользователи получат полноценный опыт работы в рабочей среде, а не имитацию или опыт частичного использования в тестовой среде.
* **Фокус-тестирование**. Вы также можете использовать флаги функций для пошагового развертывания новых функциональных возможностей для пользователей. Сначала вы можете нацелиться на небольшой процент пользователей и, когда станете увереннее в реализации, постепенно увеличивать этот процент с течением времени.
* **Мгновенное отключение**. Флаги функций обеспечивают средство подстраховки при выпуске новых функций. С их помощью можно не только включать, но также и легко отключать функции приложений. Вы получаете возможность быстро отключать функцию по требованию без необходимости перестройки и повторного развертывания приложения.
* **Выборочная активация**. Хотя большинство флагов функций существуют только до того времени, когда их связанные функциональные возможности будут выпущены успешно, некоторые могут существовать в течение длительного времени. Вы можете использовать их в качестве способа разделения пользователей и предоставления определенного набора функций для каждой группы. Например, у вас может быть функция, работающая в определенном веб-браузере. Вы можете определить флаг функции таким образом, что только пользователи браузера могут видеть и использовать функцию. Преимущество этого подхода в том, что вы можете легко развернуть список поддерживаемых браузеров позднее без внесения изменений в код.

## <a name="basic-concepts"></a>Основные понятия

Ниже приведены несколько новых терминов, связанных с управлением функциями.

* **Флаг функции**. Это переменная с двоичным состоянием *вкл.* или *выкл.*, с которой связан блок кода. Его состояние определяет, выполняется ли блок функций.
* **Диспетчер функций**. Это пакет приложения, который обрабатывает жизненный цикл флагов всех функций в приложении. Обычно он предоставляет дополнительные функции, такие как кэширование флагов и обновление их состояния.
* **Фильтр**. Это правило для оценки состояния флага функции. Группа пользователей, тип устройства или браузера, геолокация, временное окно — это все примеры того, что может представлять фильтр.

Эффективная реализация управления функциями состоит по крайней мере из двух компонентов, которые работают вместе: приложение, которое использует флаги функций, и отдельный репозиторий, который хранит флаги функций и их текущие состояния. Ниже показано их взаимодействие.

## <a name="feature-flag-usage-in-code"></a>Использование флага функции в коде

Базовый шаблон для реализации флагов функций в приложении прост. Вы можете представить его как логическую переменную состояния, используемую в коде с условным оператором `if`.

```csharp
if (featureFlag) {
    // Run the following code
}
```

В этом случае, если параметру `featureFlag` присвоено значение `True`, вложенный блок кода выполняется, в ином случае — пропускается. Значение `featureFlag` можно задать статически:

```csharp
bool featureFlag = true;
```

Его также можно было вычислить на основе определенных правил:

```csharp
bool featureFlag = isBetaUser();
```

Чуть более сложный шаблон флага функции также включает оператор `else`.

```csharp
if (featureFlag) {
    // This following code will run if the featureFlag value is true
} else {
    // This following code will run if the featureFlag value is false
}
```

Однако этот шаблон можно преобразовать в базовый. В руководстве по [использованию флагов функций в приложении ASP.NET Core](./use-feature-flags-dotnet-core.md) показано преимущество стандартизации простого шаблона кода.

```csharp
if (featureFlag) {
    // This following code will run if the featureFlag value is true
}

if (!featureFlag) {
    // This following code will run if the featureFlag value is false
}
```

## <a name="feature-flag-repository"></a>Репозиторий флагов функций

Чтобы эффективно использовать их, необходимо переместить все флаги функций, используемые в приложении, во внешнее хранилище. Это позволит вам изменять состояние флагов функций без изменения и повторного развертывания самого приложения. Служба "Конфигурация приложений Azure" должна быть централизованным репозиторием для флагов функций. Вы можете использовать ее для определения различных видов флагов функций и быстро и легко управлять их состоянием. Затем вы можете легко получить доступ к этим флагам функций из своего приложения с помощью библиотек Конфигурации приложений для различных языковых платформ. В руководстве по [использованию флагов функций в приложении ASP.NET Core](./use-feature-flags-dotnet-core.md) показано, как поставщик Конфигурация приложений для .NET Core и библиотеки управления функциями совместно формируют полное решение для реализации флагов функций в веб-приложении ASP.NET.

## <a name="next-steps"></a>Дополнительная информация

> [!div class="nextstepaction"]
> [Краткое руководство по добавлению флагов функций в веб-приложение ASP.NET Core](./quickstart-feature-flag-aspnet-core.md)  
