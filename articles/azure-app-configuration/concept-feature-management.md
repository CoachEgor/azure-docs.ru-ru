---
title: Понимание управления функциями с помощью конфигурации приложений Azure
description: Включать и выключать функции с помощью конфигурации приложений Azure
author: lisaguthrie
ms.author: lcozzens
ms.service: azure-app-configuration
ms.topic: conceptual
ms.date: 02/20/2020
ms.openlocfilehash: 8227810c154078fc8424b2cadd373394d07e9730
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77523736"
---
# <a name="feature-management-overview"></a>Общие сведения об управлении функциями

Традиционно внедрение новой функции приложения требует полного повторного развертывания приложения. Тестирование функции часто требует нескольких развертываний приложения.  Каждое развертывание может изменить функцию или предоставить функцию различным клиентам для тестирования.  

Управление функциями — современная методика разработки программного обеспечения, которая отделяет выпуск функций от развертывания кода и позволяет быстро вносить изменения в доступность функций по требованию. Она использует методику, называемую *флагами функций* (также известную как *ротация функций*, *коммутатор функций* и т д.), чтобы динамически управлять жизненным циклом функций.

Управление функциями помогает разработчикам решить следующие проблемы:

* **Управление ветвью кода:** Используйте флаги функций для обертывания новой функциональности приложения, наиболее эффективной. Такая функция по умолчанию скрыта. Вы можете безопасно внедрить функцию, хотя она и не завершена, и она будет находится в неактивном состоянии в рабочей среде. При таком подходе, который называется *темным развертыванием*, вы можете выпускать весь свой код в конце каждого цикла развертывания. Вам больше не нужно поддерживать ветви кода на нескольких циклах разработки, поскольку данная функция требует более одного цикла для завершения.
* **Тест в производстве**: Используйте флаги функций, чтобы предоставить ранний доступ к новой функциональности в производстве. Например, можно ограничить доступ к членам команды или внутренним бета-тестерам. Эти пользователи будут испытывать полную точность производственного опыта вместо смоделированного или частичного опыта в тестовой среде.
* **Полет:** Используйте флаги функций для постепенного развертывания новых функциональных возможностей для конечных пользователей. Вы можете сначала настроить таргетинг на небольшой процент пользователей и постепенно увеличивать этот процент с течением времени.
* **Мгновенное переключение убить**: Функция флаги обеспечивают присущие безопасности для выпуска новых функций. Функции приложения можно включить и выключить без передислокации какого-либо кода. При необходимости можно быстро отключить функцию, не выполняя повторную сборку и развертывание приложения.
* **Селективная активация:** Используйте флаги функций для сегмента пользователей и доставки определенного набора функций для каждой группы. У вас может быть функция, которая работает только в определенном веб-браузере. Вы можете определить флаг функции таким образом, чтобы только пользователи этого браузера могли видеть и использовать данную функцию. С помощью этого подхода вы можете легко расширить список поддерживаемых браузеров позднее, не внося изменения в код.

## <a name="basic-concepts"></a>Основные понятия

Ниже приведено несколько новых терминов, связанных с управлением функциями.

* **Флаг функции**: Флаг функции является переменной с бинарным состоянием *включаемого* или *выключенного.* С флагом функции также связан блок кода. Состояние флага объекта вызывает ли блок кода.
* **Менеджер функций**: менеджер функций — это пакет приложений, который обрабатывает жизненный цикл всех флагов функций в приложении. Функциональный менеджер также предоставляет дополнительную функциональность, включая кэширование флагов функций и обновление их состояний.
* **Фильтр**: Фильтр является правилом для оценки состояния флага объекта. Потенциальные фильтры включают группы пользователей, типы устройств или браузеров, географические местоположения и временные окна.

Эффективная реализация управления функциями характеризуется по крайней мере двумя компонентами, которые работают вместе.

* Приложение, которое использует флаги функций.
* Отдельный репозиторий, в котором хранятся флаги функций и их текущее состояние.

## <a name="using-feature-flags-in-your-code"></a>Использование флагов функций в коде

Базовый шаблон для реализации флагов функций в приложении прост. Флаг функции — это переменная состояния Boolean, контролируя условную выписку в коде:

```csharp
if (featureFlag) {
    // Run the following code
}
```

Вы можете установить `featureFlag` значение статически.

```csharp
bool featureFlag = true;
```

Оценить состояние флага можно на основе определенных правил:

```csharp
bool featureFlag = isBetaUser();
```

Можно расширить условное поведение приложения для любого состояния:

```csharp
if (featureFlag) {
    // This following code will run if the featureFlag value is true
} else {
    // This following code will run if the featureFlag value is false
}
```

## <a name="feature-flag-repository"></a>Репозиторий флагов функций

Чтобы эффективно использовать их, необходимо переместить все флаги функций, используемые в приложении, во внешнее хранилище. Это позволяет изменять состояния флага функций без изменения и передислокации самого приложения.

Конфигурация приложений Azure предоставляет централизованное хранилище для флагов функций. Вы можете использовать ее, чтобы определить различные типы флагов функций и быстро и легко управлять их состоянием. Затем вы можете легко получить доступ к этим флагам функций из своего приложения с помощью библиотек Конфигурации приложений для различных платформ языков программирования.

В руководстве по [использованию флагов функций в приложении ASP.NET Core](./use-feature-flags-dotnet-core.md) показано, как поставщик Конфигурации приложений для .NET Core и библиотеки управления функциями используются для реализации флагов функций в веб-приложении ASP.NET.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Краткое руководство по добавлению флагов функций в веб-приложение ASP.NET Core](./quickstart-feature-flag-aspnet-core.md)  
