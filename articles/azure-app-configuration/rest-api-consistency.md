---
title: REST API конфигурации приложений Azure — согласованность
description: Справочные страницы по обеспечению согласованности в режиме реального времени с помощью конфигурации приложений Azure REST API
author: lisaguthrie
ms.author: lcozzens
ms.service: azure-app-configuration
ms.topic: reference
ms.date: 08/17/2020
ms.openlocfilehash: 4f11e6edcd4bc128f815db7e93b00b72bf990ea8
ms.sourcegitcommit: 7cc10b9c3c12c97a2903d01293e42e442f8ac751
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/06/2020
ms.locfileid: "93424543"
---
# <a name="real-time-consistency"></a>Согласованность в реальном времени

Из-за особенностей некоторых распределенных систем согласованность в реальном времени между запросами сложно реализовать неявно. Решение состоит в том, чтобы разрешить поддержку протокола в форме нескольких **маркеров синхронизации**. Токены синхронизации необязательны.

## <a name="initial-request"></a>Первоначальный запрос

Чтобы обеспечить согласованность в реальном времени между разными экземплярами и запросами клиента, используйте необязательные `Sync-Token` заголовки запроса и ответа.

Синтаксис:

```http
Sync-Token: <id>=<value>;sn=<sn>
```

|Параметр|Описание|
|--|--|
| `<id>` | ИДЕНТИФИКАТОР токена (непрозрачный) |
| `<value>` | Значение токена (непрозрачное). Разрешает строку в кодировке Base64 |
| `<sn>` | Порядковый номер маркера (версия). Выше означает более новую версию того же маркера. Обеспечивает лучшую параллельное и Клиентское кэширование. Клиент может использовать только последнюю версию токена, так как версии маркеров являются инклюзивными. Не требуется для запросов. |

## <a name="response"></a>Ответ

Служба предоставляет `Sync-Token` заголовок с каждым ответом.

```http
Sync-Token: jtqGc1I4=MDoyOA==;sn=28
```

## <a name="subsequent-requests"></a>Последующие запросы

Любой последующий запрос гарантирует целостность ответа в **реальном времени** относительно предоставленного `Sync-Token` .

```http
Sync-Token: <id>=<value>
```

Если в `Sync-Token` запросе пропущен заголовок, служба может ответить на кэшированные данные в течение короткого периода времени (до нескольких секунд), прежде чем она будет сопоставляться внутренним образом. Такое поведение может привести к нестабильному чтению, если изменения были выполнены непосредственно перед чтением.

## <a name="multiple-sync-tokens"></a>Несколько маркеров синхронизации

Сервер может отвечать с несколькими маркерами синхронизации для одного запроса. Чтобы обеспечить согласованность в **режиме реального времени** для следующего запроса, клиент должен ответить на все полученные токены Sync-tokens. В соответствии с RFC несколько значений заголовка должны быть разделены запятыми.

```http
Sync-Token: <token1-id>=<value>,<token2-id>=<value>
```
