---
title: Авторизация доступа к Конфигурации приложений Azure с помощью Azure Active Directory
description: Включение RBAC для авторизации доступа к экземпляру Конфигурации приложений Azure
author: lisaguthrie
ms.author: lcozzens
ms.date: 02/13/2020
ms.topic: conceptual
ms.service: azure-app-configuration
ms.openlocfilehash: d417fa4d6b444f4932338059e2ad499c12d6273e
ms.sourcegitcommit: f353fe5acd9698aa31631f38dd32790d889b4dbb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/29/2020
ms.locfileid: "87371844"
---
# <a name="authorize-access-to-azure-app-configuration-using-azure-active-directory"></a>Авторизация доступа к Конфигурации приложений Azure с помощью Azure Active Directory
Кроме использования код проверки подлинности сообщения на основе хэша (HMAC), конфигурация приложений Azure поддерживает использование Azure Active Directory (Azure AD) для авторизации запросов к экземплярам конфигурации приложения.  Azure AD поддерживает управление доступом на основе ролей (RBAC), чтобы предоставлять разрешения субъектам безопасности.  Субъект безопасности может быть пользователем, [управляемым удостоверением](../active-directory/managed-identities-azure-resources/overview.md) или [субъектом-службой приложения](../active-directory/develop/app-objects-and-service-principals.md).  См. сведения в статье [Дополнительные сведения о ролях](../role-based-access-control/overview.md).

## <a name="overview"></a>Обзор
Запросы, выполняемые субъектом безопасности для доступа к ресурсу конфигурации приложения, должны быть полномочными. В Azure AD доступ к ресурсу состоит из двух этапов:
1. Удостоверение субъекта безопасности проходит аутентификацию, которая возвращает токен OAuth 2.0.  Для запрашивания токена используется имя ресурса `https://login.microsoftonline.com/{tenantID}`, где `{tenantID}` соответствует идентификатору клиента Azure Active Directory, которому принадлежит субъект-служба.
2. Токен передается как часть запроса в Конфигурацию приложений для авторизации доступа к указанному ресурсу.

Для этапа аутентификации требуется, чтобы запрос от приложения содержал маркер доступа OAuth 2.0 в среде выполнения.  Если приложение выполняется внутри сущности Azure, например в приложении Функций Azure, веб-приложении Azure или на виртуальной машине Azure, оно может использовать управляемое удостоверение для обращения к ресурсам.  Сведения об аутентификации запросов от управляемого удостоверения к Конфигурации приложений Azure см. в статье [Интеграция с управляемыми удостоверениями Azure](howto-integrate-azure-managed-service-identity.md).

Для этапа авторизации требуется, чтобы субъекту безопасности были назначены одна или несколько ролей RBAC. Конфигурация приложений Azure предоставляет роли RBAC с разными наборами разрешений для ресурсов Конфигурации приложений. Назначенные субъекту безопасности роли определяют разрешения, предоставляемые этому субъекту. Дополнительные сведения о ролях RBAC см. [в статье встроенные роли Azure для конфигурации приложений Azure](#azure-built-in-roles-for-azure-app-configuration). 

## <a name="assign-rbac-roles-for-access-rights"></a>Назначение ролей RBAC для предоставления прав доступа
Azure Active Directory (Azure AD) разрешает права доступа к защищенным ресурсам с помощью [управления доступом на основе ролей (RBAC)](../role-based-access-control/overview.md).

Если субъекту безопасности назначена роль RBAC, Azure предоставляет этому субъекту безопасности доступ к соответствующим ресурсам. Доступ ограничивается ресурсом Конфигурации приложений. Субъектом безопасности в Azure AD может быть пользователь, субъект-служба приложения или [управляемое удостоверение службы для ресурсов Azure.](../active-directory/managed-identities-azure-resources/overview.md)

## <a name="azure-built-in-roles-for-azure-app-configuration"></a>Встроенные роли Azure для настройки приложений Azure
Azure предоставляет следующие встроенные роли Azure для авторизации доступа к данным конфигурации приложения с помощью Azure AD и OAuth:

- **Владелец данных Конфигурации приложений.** Эта роль предоставляет разрешение на доступ для чтения, записи и удаления данных Конфигурации приложений. Она не предоставляет разрешение на доступ к ресурсу Конфигурации приложений.
- **Читатель данных Конфигурации приложений.** Эта роль предоставляет разрешение на доступ для чтения данных Конфигурации приложений. Она не предоставляет разрешение на доступ к ресурсу Конфигурации приложений.
- **Участник**: Эта роль предназначена для управления ресурсом Конфигурации приложений. Хотя доступ к данным конфигурации приложения можно получить с помощью ключей доступа, эта роль не предоставляет прямой доступ к данным с помощью Azure AD.
- **Читатель**: Эта роль предоставляет разрешение на доступ для чтения ресурса Конфигурации приложений. Она не предоставляет разрешение на доступ к ключам доступа этого ресурса или данным, хранящимся в Конфигурации приложений.

> [!NOTE]
> В настоящее время портал Azure и CLI поддерживают только проверку подлинности HMAC для доступа к данным конфигурации приложения. Проверка подлинности Azure AD не поддерживается. Таким образом, пользователям портал Azure и CLI требуется, чтобы роль *участника* получала ключи доступа ресурса конфигурации приложения. Предоставление ролей для *модуля чтения данных конфигурации приложения* или *владельца данных конфигурации приложения* не влияет на доступ с помощью портала и интерфейса командной строки.

## <a name="next-steps"></a>Дальнейшие действия
См. сведения об использовании [управляемых удостоверений](howto-integrate-azure-managed-service-identity.md) для администрирования службы Конфигурации приложений.
