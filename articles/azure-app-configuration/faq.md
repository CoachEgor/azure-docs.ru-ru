---
title: Часто задаваемые вопросы о конфигурации приложений Azure
description: Часто задаваемые вопросы о конфигурации приложений Azure
services: azure-app-configuration
author: lisaguthrie
ms.service: azure-app-configuration
ms.topic: conceptual
ms.date: 02/19/2020
ms.author: lcozzens
ms.openlocfilehash: 25187fd055f40e8b32d840ead2a9c54882446b88
ms.sourcegitcommit: 8a9c54c82ab8f922be54fb2fcfd880815f25de77
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "80348785"
---
# <a name="azure-app-configuration-faq"></a>Часто задаваемые вопросы о конфигурации приложений Azure

В этой статье часто задаются вопросы о конфигурации приложений Azure.

## <a name="how-is-app-configuration-different-from-azure-key-vault"></a>Чем конфигурация приложений отличается от Azure Key Vault?

Конфигурация приложений помогает разработчикам управлять настройками приложений и управлять доступностью функций. Она направлена на упрощение многих задач работы со сложными данными конфигурации.

Поддержка конфигурации приложения:

- Иерархические пространства имен
- Добавление меток
- Обширные запросы
- Пакетное извлечение
- Специализированные управленческие операции
- Пользовательский интерфейс управления функциями

Конфигурация приложений дополняет Key Vault, и они должны использоваться бок о бок в большинстве развертываний приложений.

## <a name="should-i-store-secrets-in-app-configuration"></a>Должен ли я хранить секреты в конфигурации приложений?

Хотя конфигурация приложений обеспечивает усиленную безопасность, Key Vault по-прежнему является лучшим местом для хранения секретов приложений. Key Vault обеспечивает шифрование аппаратного уровня, политики детального доступа и операции управления, такие как ротация сертификатов.

Вы можете создать значения конфигурации приложений, которые ссылаются на секреты, хранящиеся в Key Vault. Для получения дополнительной информации смотрите [ссылки «Использование ключа Убежища» в приложении ASP.NET Core.](./use-key-vault-references-dotnet-core.md)

## <a name="does-app-configuration-encrypt-my-data"></a>Шифровала ли конфигурация приложения мои данные?

Да. Конфигурация приложения шифрует все ключевые значения, которые она удерживает, и шифрует сетевую связь. Имена ключей и метки используются в качестве индексов для извлечения данных конфигурации и не шифруются.

## <a name="how-is-app-configuration-different-from-azure-app-service-settings"></a>Чем конфигурация приложений отличается от настроек службы приложений Azure?

Служба приложений Azure позволяет определять настройки приложения для каждого экземпляра службы app. Эти параметры передаются как переменные среды в код приложения. При желании можно связать настройку с определенным слотом развертывания. Для получения дополнительной информации смотрите [настройки приложения Для настройки.](/azure/app-service/configure-common#configure-app-settings)

В отличие от этого, конфигурация приложений Azure позволяет определить параметры, которые могут быть общими между несколькими приложениями. Это включает в себя приложения, работающие в Службе Приложений, а также на других платформах. Код приложения получает доступ к этим параметрам через поставщиков конфигураций для .NET и Java, через SDK Azure или непосредственно через REST AIS.

Настройки импорта и экспорта можно импортировать и экспортировать между службой приложений и конфигурацией приложений. Эта возможность позволяет быстро настроить новый магазин конфигурации приложений на основе существующих настроек Службы приложений. Вы также можете поделиться конфигурацией с существующим приложением, которое опирается на настройки Службы приложений.

## <a name="are-there-any-size-limitations-on-keys-and-values-stored-in-app-configuration"></a>Существуют ли какие-либо ограничения по размеру ключей и значений, хранящихся в конфигурации приложений?

Для одного элемента ключевой стоимости установлен оцениваемый в 10 кБ.

## <a name="how-should-i-store-configurations-for-multiple-environments-test-staging-production-and-so-on"></a>Как хранить конфигурации для нескольких сред (тест, постановка, производство и так далее)?

Вы контролируете, кто может получить доступ к конфигурации приложения на уровне в каждом магазине. Используйте отдельный магазин для каждой среды, для которой требуются различные разрешения. Такой подход обеспечивает наилучшую изоляцию безопасности.

Если не требуется изоляция безопасности между средами, можно использовать метки для раздифференцирования значений конфигурации. [Использование меток для включения различных конфигураций для различных сред](./howto-labels-aspnet-core.md) является полным примером.

## <a name="what-are-the-recommended-ways-to-use-app-configuration"></a>Каковы рекомендуемые способы использования конфигурации приложений?

Посмотреть [лучшие практики](./howto-best-practices.md).

## <a name="how-much-does-app-configuration-cost"></a>Сколько стоит конфигурация приложения?

Существует два уровня ценообразования:

- Уровень "Бесплатный"
- Стандартный уровень.

Если вы создали магазин до введения стандартного уровня, он автоматически перешел на свободный уровень при общей доступности. Вы можете перейти на стандартный уровень или остаться на свободном уровне.

Вы не можете понизить рейтинг магазина со стандартного уровня до свободного уровня. Можно создать новый магазин в свободном уровне, а затем импортировать данные конфигурации в этот магазин.

## <a name="which-app-configuration-tier-should-i-use"></a>Какой уровень конфигурации приложений я должен использовать?

Оба уровня конфигурации приложений предлагают основные функциональные возможности, включая настройки конфигурации, флаги функций, ссылки Key Vault, основные операции управления, метрики и журналы.

Ниже приведены соображения для выбора уровня.

- **Ресурсы на подписку**: Ресурс состоит из одного магазина конфигурации. Каждая подписка ограничена одним магазином конфигурации в свободном ярусе. Подписка может иметь неограниченное количество магазинов конфигурации в стандартном уровне.
- **Хранение на ресурс**: В свободном уровне, каждый магазин конфигурации ограничен до 10 МБ памяти. В стандартном уровне каждый магазин конфигурации может использовать до 1 ГБ памяти.
- **История ключей**: Конфигурация приложений хранит историю всех изменений, внесенных в ключи. В свободном ярусе эта история хранится в течение семи дней. В стандартном уровне эта история хранится в течение 30 дней.
- **Запросы в день**: Бесплатные магазины уровня ограничены 1000 запросов в день. Как только магазин достигнет 1000 запросов, он вернет код статуса HTTP 429 для всех запросов до полуночи UTC.

    Для магазинов стандартного уровня, первые 200,000 запросов каждый день включены в ежедневную плату. Дополнительные запросы выставляются как избытки.

- **Соглашение об уровне обслуживания**: Стандартный уровень имеет SLA 99,9% доступности. Бесплатный уровень не имеет SLA.
- **Функции безопасности:** Оба уровня включают основные функциональные возможности безопасности, включая шифрование с помощью ключей, управляемых корпорацией Майкрософт, аутентификацию через HMAC или Активный каталог Azure, поддержку RBAC и управляемую идентификацию. Стандартный уровень предлагает более продвинутую функциональность безопасности, включая поддержку Private Link и шифрование с ключами, управляемыми клиентами.
- **Стоимость**: Магазины стандартного уровня имеют ежедневную плату за использование. Там также излишние заряда для запросов прошлом ежедневного распределения. Там нет стоимости, чтобы использовать бесплатный магазин уровня.

## <a name="can-i-upgrade-a-store-from-the-free-tier-to-the-standard-tier-can-i-downgrade-a-store-from-the-standard-tier-to-the-free-tier"></a>Могу ли я обновить магазин с свободного уровня до стандартного? Могу ли я понизить рейтинг магазина со стандартного уровня до свободного?

Вы можете перейти от свободного уровня до стандартного уровня в любое время.

Вы не можете понизить рейтинг магазина со стандартного уровня до свободного уровня. Можно создать новый магазин в свободном уровне, а затем [импортировать данные конфигурации в этот магазин.](howto-import-export-data.md)

## <a name="are-there-any-limits-on-the-number-of-requests-made-to-app-configuration"></a>Существуют ли какие-либо ограничения на количество запросов, сделанных в конфигурацию приложений?

Конфигурация магазинов в свободном уровне ограничена 1000 запросов в день. Конфигурация магазинов в стандартном уровне может столкнуться с временным регулированием, когда скорость запроса превышает 20 000 запросов в час.

Когда магазин достигнет своего предела, он возвращает код статуса HTTP 429 для всех запросов, сделанных до истечения срока. Заголовок `retry-after-ms` в ответе дает предлагаемое время ожидания (в миллисекундах) перед повторной попыткой запроса.

Если приложение регулярно имеет ответ на код статуса HTTP 429, рассмотрите возможность его редизайна, чтобы уменьшить количество сделанных запросов. Для получения дополнительной информации [см.](./howto-best-practices.md#reduce-requests-made-to-app-configuration)

## <a name="my-application-receives-http-status-code-429-responses-why"></a>Мое приложение получает код статуса HTTP 429 ответов. Почему?

При таких обстоятельствах вы получите ответ на код состояния HTTP 429:

* Превышение дневного лимита запроса для магазина в свободном ярусе.
* Временное регулирование из-за высокой скорости запроса на магазин в стандартном уровне.
* Чрезмерное использование пропускной способности.
* Попытка создать или изменить ключ при превышении котировки хранилища.

Проверьте тело ответа 429 по конкретной причине, по которой запрос не был сбой.

## <a name="how-can-i-receive-announcements-on-new-releases-and-other-information-related-to-app-configuration"></a>Как я могу получать объявления о новых выпусках и другую информацию, связанную с конфигурацией приложений?

Подпишитесь на наши [объявления GitHub репо](https://github.com/Azure/AppConfiguration-Announcements).

## <a name="how-can-i-report-an-issue-or-give-a-suggestion"></a>Как сообщить о проблеме или сделать предложение?

Вы можете связаться с нами непосредственно на [GitHub](https://github.com/Azure/AppConfiguration/issues).

## <a name="next-steps"></a>Дальнейшие действия

* [Сведения о службе "Конфигурация приложений Azure"](./overview.md)
