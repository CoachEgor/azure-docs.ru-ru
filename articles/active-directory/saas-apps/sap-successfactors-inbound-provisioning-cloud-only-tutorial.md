---
title: 'Учебник: Настройка SuccessFactors входящего обеспечения в Azure Active Directory (ru) Документы Майкрософт'
description: Узнайте, как настроить входящее представление от SuccessFactors до Azure AD
services: active-directory
author: cmmdesai
documentationcenter: na
manager: jodadzie
ms.assetid: fac4f61e-d942-4429-a298-9ba74db95077
ms.service: active-directory
ms.subservice: saas-app-tutorial
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 12/06/2019
ms.author: chmutali
ms.openlocfilehash: 09501a80d6ddcbbc9fa6cc08e36f47beb13d1663
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77063228"
---
# <a name="tutorial-configure-sap-successfactors-to-azure-ad-user-provisioning-preview"></a>Учебник: Настройка SAP SuccessFactors для подготовки пользователей Azure AD (Предварительный просмотр)
Цель этого руководства состоит в том, чтобы показать шаги, которые необходимо выполнить для предоставления данных о сотрудниках SuccessFactors В центре в Azure Active Directory, с дополнительным сносом адреса электронной почты для SuccessFactors. Эта интеграция находится в общедоступном предварительном просмотре и поддерживает получение более [70 атрибутов пользователя](../app-provisioning/sap-successfactors-attribute-reference.md) из Центра сотрудника SuccessFactors. 

>[!NOTE]
>Используйте этот учебник, если пользователи, которых вы хотите предоставить от SuccessFactors, являются пользователями только для облаков, которым не нужна предприимчательная учетная запись AD. Если пользователям требуется только на территории AD-аккаунта или как AD, так и учетная запись Azure AD, пожалуйста, обратитесь к учебнику по [настройке SAP SuccessFactors для](sap-successfactors-inbound-provisioning-tutorial.md#overview) подготовки пользователей Active Directory. 

## <a name="overview"></a>Обзор

Служба [предоставления услуг по предоставлению пользователей Azure Active Directory](../app-provisioning/user-provisioning.md) интегрируется с [Центром сотрудников SuccessFactors](https://www.successfactors.com/products-services/core-hr-payroll/employee-central.html) для управления жизненным циклом пользователей. 

Подготовка пользователей SuccessFactors, поддерживаемых службой предоставления услуг по предоставлению пользователей Azure AD, позволяет автоматизировать следующие сценарии управления жизненным циклом управления людскими ресурсами и жизненным циклом идентификации:

* **Наем новых сотрудников** - Когда новый сотрудник добавляется в SuccessFactors, учетная запись пользователя автоматически создается в Active Directory Azure и опционально Office 365 и [других приложениях SaaS, поддерживаемых Azure AD,](../app-provisioning/user-provisioning.md)с списанием адреса электронной почты в SuccessFactors.

* **Атрибут сотрудника и обновления профиля** - Когда запись сотрудника обновляется в SuccessFactors (например, их имя, название или менеджер), их учетная запись пользователя будет автоматически обновляться Azure Active Directory и опционально Office 365 и [другие приложения SaaS, поддерживаемые Azure AD.](../app-provisioning/user-provisioning.md)

* **Увольнения сотрудников** - Когда сотрудник прекращается в SuccessFactors, его учетная запись пользователя автоматически отключается в Active Directory Azure и опционально Office 365 и [других приложениях SaaS, поддерживаемых Azure AD.](../app-provisioning/user-provisioning.md)

* **Сотрудник повторно нанимает** - При повторном найме сотрудника в SuccessFactors его старая учетная запись может быть автоматически активирована или повторно подготовлена (в зависимости от ваших предпочтений) в Active Directory Azure active directory и опционально Office 365 и [другие приложения SaaS, поддерживаемые Azure AD.](../app-provisioning/user-provisioning.md)

### <a name="who-is-this-user-provisioning-solution-best-suited-for"></a>Кому это решение подготовки пользователей подходит лучше всего?

Это решение для подготовки пользователей SuccessFactors to Azure Active Directory идеально подходит для:

* Организации, желающие получить предварительно построенное облачное решение для подготовки пользователей SuccessFactors

* Организации, требующие прямого подготовки пользователей от SuccessFactors до Active Directory Azure

* Организации, которые требуют, чтобы пользователи были подготовлены с использованием данных, полученных от [Сотрудника SuccessFactors Central (EC)](https://www.successfactors.com/products-services/core-hr-payroll/employee-central.html)

* организаций, использующих Office 365 для электронной почты.

## <a name="solution-architecture"></a>Архитектура решения

В этом разделе описывается сквозная архитектура решений для пользователей, готовых к поиску облачных технологий. Имеется два связанных потока:

* **Авторитетный поток данных по персоналу – от SuccessFactors до активного каталога Azure:** В этом потоке события рабочего потока (например, новые наймы, переводы, прекращение действия) сначала происходят в облачном Центре Сотрудников Успеха, а затем данные событий перетекают в Active Directory Azure. В зависимости от события это может привести к созданию/обновлению/включить/отключить операции в Azure AD.
* **Электронная почта Сноверный поток - от находящихся в предпосылок Активный каталог SuccessFactors:** После завершения создания учетной записи в Active Directory Azure значение атрибута электронной почты или UPN, генерируемое в Azure AD, может быть записано обратно в SuccessFactors.

  ![Обзор](./media/sap-successfactors-inbound-provisioning/sf2aad-overview.png)

### <a name="end-to-end-user-data-flow"></a>Полноценный поток данных пользователей

1. Hr-команда выполняет транзакции для работников (Joiners/Movers/Leavers или New Hires/Transfers/Terminations) в Компании SuccessFactors Employee Central
2. Служба обеспечения aD Azure запускает запланированную синхронизацию идентификационных данных от SuccessFactors EC и определяет изменения, которые необходимо обрабатывать для синхронизации с предприимчивым Active Directory.
3. Служба обеспечения aD Azure определяет изменение и вызывает возможность создания/обновления/включения/отключать работу для пользователя в Azure AD.
4. Если [настроено приложение SuccessFactors Writeback,](sap-successfactors-writeback-tutorial.md) то адрес электронной почты пользователя извлекается из Azure AD. 
5. Служба предоставления AD Azure AD записывает обратный атрибут электронной почты на SuccessFactors, основываясь на используемом атрибуте соответствия.

## <a name="planning-your-deployment"></a>Планирование развертывания

Настройка подготовки пользователей с инициативой в области hr от SuccessFactors до Azure AD требует значительного планирования, охватывающего различные аспекты, такие как:

* Определение идентификатора соответствия 
* Сопоставление атрибутов
* Трансформация атрибутов 
* Фильтры области

Пожалуйста, обратитесь к [плану развертывания облачных кадров](../app-provisioning/plan-cloud-hr-provision.md) для получения всеобъемлющих рекомендаций по этим темам. 

## <a name="configuring-successfactors-for-the-integration"></a>Настройка SuccessFactors для интеграции

Общее требование всех разъемов подготовки SuccessFactors заключается в том, что они требуют учетных данных учетной записи SuccessFactors с правильными разрешениями для использования AA- иАДов SuccessFactors OData. В этом разделе описаны шаги по созданию учетной записи службы в SuccessFactors и предоставлению соответствующих разрешений. 

* [Создание/идентификация учетной записи пользователя API в SuccessFactors](#createidentify-api-user-account-in-successfactors)
* [Создание роли aPI-разрешений](#create-an-api-permissions-role)
* [Создание группы разрешений для пользователя API](#create-a-permission-group-for-the-api-user)
* [Роль разрешения гранта для Группы разрешений](#grant-permission-role-to-the-permission-group)

### <a name="createidentify-api-user-account-in-successfactors"></a>Создание/идентификация учетной записи пользователя API в SuccessFactors
Работайте с вашей командой админовов SuccessFactors или партнером по реализации, чтобы создать или идентифицировать учетную запись пользователя в SuccessFactors, которая будет использоваться для использования AIS OData. При настройке приложений для подготовки в Azure AD потребуется имя пользователя и учетные данные паролей этой учетной записи. 

### <a name="create-an-api-permissions-role"></a>Создание роли aPI-разрешений

* Войдите в SAP SuccessFactors с учетной записью пользователя, которая имеет доступ к Центру админ.
* Поиск *ролей разрешения управления*, а затем выберите **Управление Разрешение роли** из результатов поиска.
  ![Управление функциями разрешения](./media/sap-successfactors-inbound-provisioning/manage-permission-roles.png)
* Из списка ролей разрешения нажмите **«Создайте новое**».
  > [!div class="mx-imgBorder"]
  > ![Создание новой роли разрешения](./media/sap-successfactors-inbound-provisioning/create-new-permission-role-1.png)
* Добавьте **имя роли** и **описание** для новой роли разрешения. Имя и описание должны указывать, что роль предназначена для разрешений на использование API.
  > [!div class="mx-imgBorder"]
  > ![Деталь роли разрешения](./media/sap-successfactors-inbound-provisioning/permission-role-detail.png)
* В настройках разрешения нажмите **«Разрешение...»,** затем прокрутите список разрешений и нажмите **«Управляйте инструментами интеграции».** Проверьте поле для **разрешить admin для доступа к API OData через базовую аутентификацию.**
  > [!div class="mx-imgBorder"]
  > ![Управление инструментами интеграции](./media/sap-successfactors-inbound-provisioning/manage-integration-tools.png)
* Прокрутите вниз в одной коробке и выберите **Центральный API сотрудника.** Добавляйте разрешения, как показано ниже, для чтения с помощью API ODATA и редактсировать с помощью API ODATA. Выберите опцию отсвагивания, если вы планируете использовать ту же учетную запись для сценария Writeback to SuccessFactors. 
  > [!div class="mx-imgBorder"]
  > ![Читать разрешения на запись](./media/sap-successfactors-inbound-provisioning/odata-read-write-perm.png)
* Нажмите кнопку **Готово**. Нажмите кнопку **Сохранить изменения**.

### <a name="create-a-permission-group-for-the-api-user"></a>Создание группы разрешений для пользователя API

* В Центре поиска разрешений SuccessFactors выберите *группы*разрешений управления, а затем выберите **группы разрешений управления** из результатов поиска.
  > [!div class="mx-imgBorder"]
  > ![Управление группами разрешений](./media/sap-successfactors-inbound-provisioning/manage-permission-groups.png)
* Из окна группы разрешений Управления щелкните **Создать новый**.
  > [!div class="mx-imgBorder"]
  > ![Добавление новой группы](./media/sap-successfactors-inbound-provisioning/create-new-group.png)
* Добавьте название группы для новой группы. Название группы должно указывать, что группа предназначена для пользователей API.
  > [!div class="mx-imgBorder"]
  > ![Имя группы разрешений](./media/sap-successfactors-inbound-provisioning/permission-group-name.png)
* Добавление членов в группу. Например, можно выбрать **имя пользователя** из меню выпадения пула «Люди», а затем ввести имя пользователя учетной записи API, которая будет использоваться для интеграции. 
  > [!div class="mx-imgBorder"]
  > ![Добавление членов группы](./media/sap-successfactors-inbound-provisioning/add-group-members.png)
* Нажмите **«Сделано»,** чтобы завершить создание группы разрешений.

### <a name="grant-permission-role-to-the-permission-group"></a>Роль разрешения гранта для Группы разрешений

* В Центре поиска разрешений SuccessFactors, затем выберите **роли разрешения управления** из результатов поиска. *Manage Permission Roles*
* Из **списка ролей разрешения**выберите роль, созданную для разрешений на использование API.
* Под **Грант эту роль ...**, нажмите **Добавить ...**
* Выберите **Группу разрешения из** выпадающего меню, затем нажмите **Select...** 
  > [!div class="mx-imgBorder"]
  > ![Добавление группы разрешений](./media/sap-successfactors-inbound-provisioning/add-permission-group.png)
* Просмотрите разрешение на получение разрешения Группе разрешений. 
  > [!div class="mx-imgBorder"]
  > ![Деталь разрешения и детали группы](./media/sap-successfactors-inbound-provisioning/permission-role-group.png)
* Нажмите кнопку **Сохранить изменения**.

## <a name="configuring-user-provisioning-from-successfactors-to-azure-ad"></a>Настройка подготовки пользователей от SuccessFactors до Azure AD

В этом разделе представлены шаги для подготовки учетной записи пользователя от SuccessFactors до Azure AD.

* [Добавьте приложение для подготовки разъема и настройте подключение к SuccessFactors](#part-1-add-the-provisioning-connector-app-and-configure-connectivity-to-successfactors)
* [Настройка сопоставлений атрибутов](#part-2-configure-attribute-mappings)
* [Включение и запуск подготовки пользователей](#enable-and-launch-user-provisioning)

### <a name="part-1-add-the-provisioning-connector-app-and-configure-connectivity-to-successfactors"></a>Часть 1: Добавить приложение для подготовки разъема и настроить подключение к SuccessFactors

**Для настройки SuccessFactors на aD-подготовку Azure AD:**

1. Перейдите на сайт <https://portal.azure.com>.

2. В области навигации слева выберите **Azure Active Directory**.

3. Щелкните **Корпоративные приложения**, а затем — **Все приложения**.

4. Выберите **Добавить приложение** и выберите категорию **Все**.

5. Поиск **SuccessFactors для Azure Активный каталог пользователь Резервирование**, и добавить это приложение из галереи.

6. После добавления приложения и отображения экрана сведений о приложений выберите **Подготовка**.

7. Для параметра **Режим подготовки** **к работе** выберите значение **Автоматически**.

8. В разделе **Учетные данные администратора** заполните поля следующим образом.

   * **Имя пользователя Admin** - Введите имя пользователя учетной записи пользователя SuccessFactors API с приложеным идентификатором компании. Он имеет формат: **\@username companyID**

   * **Админ пароль -** Введите пароль учетной записи пользователя SuccessFactors API. 

   * **URL-адрес арендатора -** Введите название конечной точки Службы API SuccessFactors OData. Введите только имя хоста сервера без http или https. Это значение должно выглядеть следующим образом: **api-server-name.successfactors.com**.

   * **Адрес электронной почты для уведомлений** — введите адрес электронной почты и установите флажок "send email if failure occurs" (Отправлять по электронной почте в случае сбоя).
    > [!NOTE]
    > Служба подготовки Azure AD отправляет уведомление по электронной почте, если задание подготовки переходит в состояние [Карантин](/azure/active-directory/manage-apps/application-provisioning-quarantine-status).

   * Нажмите кнопку **Проверить подключение**. Если проверка подключения выполнена успешно, нажмите кнопку **Сохранить** в верхней части. Если это не удается, дважды проверьте, что учетные данные SuccessFactors и URL являются действительными.
    >[!div class="mx-imgBorder"]
    >![Портал Azure](./media/sap-successfactors-inbound-provisioning/sf2aad-provisioning-creds.png)

   * После успешного сохранения учетных данных в разделе **Картографирование** будет отображаться отображение отображения по умолчанию **Synchronize SuccessFactors Users в Active Directory Azure Active**

### <a name="part-2-configure-attribute-mappings"></a>Часть 2. Настройка сопоставлений атрибутов

В этом разделе вы будете настраивать, как потоки пользовательских данных от SuccessFactors к активному каталогу.

1. На вкладке "Подготовка" под **картографиями**нажмите **Synchronize SuccessFactors Users to Azure Active Directory.**

1. В поле **области исходного объекта** можно выбрать, какие наборы пользователей в SuccessFactors должны быть в рамках подготовки к Azure AD, определив набор фильтров на основе атрибутов. Область по умолчанию — это «все пользователи в SuccessFactors». Примеры фильтров

   * Пример: Область для пользователей с personIdExternal между 1000000 и 2000000 (за исключением 2000000)

      * Атрибут: personIdExternal

      * Оператор: REGEX Match

      * Значение: (1[0–9][0–9][0–9][0–9][0–9][0–9])

   * Пример: только сотрудники, а не временные работники

      * Атрибут: EmployeeID

      * Оператор: IS NOT NULL

   > [!TIP]
   > При первой настройке приложения подготовки необходимо проверить сопоставления атрибутов и выражения, чтобы получить желаемый результат. Корпорация Майкрософт рекомендует использовать фильтры для проверки в рамках **области исходных объектов** для тестирования карт с несколькими тест-пользователями из SuccessFactors. После проверки работоспособности сопоставлений можно либо удалить фильтр, либо постепенно расширять его, добавляя больше пользователей.

   > [!CAUTION] 
   > Поведение движка подготовки по умолчанию заключается в том, чтобы отключить/удалить пользователей, которые выходят за рамки. Это может быть нежелательным при интеграции SuccessFactors to Azure AD. Чтобы переопределить это поведение по умолчанию, обратитесь к статье [Skip удаления учетных записей пользователей, которые выходят за рамки](../app-provisioning/skip-out-of-scope-deletions.md)
  
1. В поле **Действия с целевыми объектами** можно в глобальном масштабе отфильтровать, какие действия доступны для выполнения в Active Directory. Самыми распространенными являются **создание** и **обновление**.

1. В разделе **отображение атрибутов** можно определить, как отдельные характеристики SuccessFactors приписывают карту атрибутам Active Directory.

  >[!NOTE]
  >Для получения полного списка атрибутов SuccessFactors, поддерживаемых приложением, пожалуйста, обратитесь к [SuccessFactors Attribute Reference](../app-provisioning/sap-successfactors-attribute-reference.md)


1. Щелкните существующее сопоставление атрибута, чтобы его обновить, или **Добавить новое сопоставление** в нижней части экрана, чтобы добавить новые сопоставления. Отдельное сопоставление атрибутов поддерживает следующие свойства:

      * **Тип сопоставления**

         * **Прямая** - Записывает значение атрибута SuccessFactors к атрибуту AD, без изменений

         * **Константа** — записывает статическое постоянное строковое значение в атрибут AD.

         * **Выражение** — Позволяет написать пользовательское значение атрибуту AD, основанное на одном или нескольких атрибутах SuccessFactors. [Дополнительные сведения см. в статье о выражениях](../app-provisioning/functions-for-customizing-application-data.md).

      * **Атрибут источника** - Атрибут пользователя от SuccessFactors

      * **Значение по умолчанию** — необязательно. Если исходный атрибут имеет пустое значение, сопоставление запишет это значение.
            В наиболее распространенной конфигурации это поле остается пустым.

      * **Целевой атрибут** — атрибут пользователя в Active Directory.

      * **Матч объектов с помощью этого атрибута** - Независимо от того, следует ли использовать это отображение для однозначной идентификации пользователей между SuccessFactors и Active Directory. Это значение обычно устанавливается на поле Идентификатора работника для SuccessFactors, которое обычно отображается в одном из атрибутов идентификатора сотрудника в Active Directory.

      * **Приоритет сопоставления** — возможность указания нескольких атрибутов сопоставления. При указании нескольких атрибутов сопоставления они вычисляются в порядке, заданном в этом поле. Как только соответствие найдено, дальнейшие атрибуты сопоставления не вычисляются.

      * **Применить это сопоставление**

         * **Всегда** - Приложить это отображение как на создание пользователя и обновления действий

         * **Только во время создания** - Приложить это отображение только на действиях создания пользователя

1. Чтобы сохранить отображение, нажмите **«Сохранить»** в верхней части раздела «Отображение атрибутов».

После завершения настройки сопоставления атрибутов [можно включить и запустить службу подготовки пользователей](#enable-and-launch-user-provisioning).

## <a name="enable-and-launch-user-provisioning"></a>Включение и запуск подготовки пользователей

После завершения подготовки конфигураций приложений SuccessFactors можно включить службу обеспечения на портале Azure.

> [!TIP]
> По умолчанию при включении службы подготовки она инициализирует операции подготовки для всех пользователей в области. При наличии ошибок в сопоставлении или проблем с данными Workday задание подготовки может завершиться ошибкой и перейти в состояние карантина. Чтобы избежать этого, рекомендуется настроить фильтр **Область исходного объекта** и протестировать сопоставления атрибутов с несколькими тестовыми пользователями перед запуском полной синхронизации всех пользователей. После проверки работоспособности сопоставлений и получения желаемых результатов можно либо удалить фильтр, либо постепенно расширять его, добавляя больше пользователей.

1. На вкладке **Подготовка** установите для параметра **Состояние подготовки** значение **Вкл**.

2. Нажмите **Сохранить**.

3. Эта операция запустит начальную синхронизацию, которая может занять переменное количество часов в зависимости от количества пользователей в арендаторе SuccessFactors. Можно проверить панель прогресса для отслеживания хода цикла синхронизации. 

4. В любой момент можно проверить вкладку **Журналы аудита** на портале Azure, чтобы узнать, какие действия выполнила служба подготовки. В журналах аудита перечислены все отдельные события синхронизации, выполняемые службой подготовки, например, какие пользователи считываются из Workday и впоследствии будут добавлены или обновлены в Active Directory. 

5. После завершения первичной синхронизации на вкладке **Подготовка** будет создан сводный отчет аудита, как показано ниже.

   > [!div class="mx-imgBorder"]
   > ![Подготовка панели прогресса](./media/sap-successfactors-inbound-provisioning/prov-progress-bar-stats.png)

## <a name="next-steps"></a>Дальнейшие действия

* [Узнайте больше об поддерживаемых атрибутах SuccessFactors для входящих подготовки](../app-provisioning/sap-successfactors-attribute-reference.md)
* [Узнайте, как настроить списание электронной почты на SuccessFactors](sap-successfactors-writeback-tutorial.md)
* [Сведения о просмотре журналов и получении отчетов о действиях по подготовке](../app-provisioning/check-status-user-account-provisioning.md)
* [Узнайте, как настроить одиночный врез между SuccessFactors и Активным каталогом Azure](successfactors-tutorial.md)
* [Узнайте, как интегрировать другие приложения SaaS с Azure Active Directory](tutorial-list.md).
* [Узнайте, как экспортировать и импортировать конфигурации подготовки](../app-provisioning/export-import-provisioning-configuration.md)


