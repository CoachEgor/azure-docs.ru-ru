---
title: Как ограничить приложение, зарегистрированное в Azure Active Directory, рядом пользователей
description: Сведения о предоставлении доступа к приложениям, зарегистрированным в AAD, только для выбранного набора пользователей.
services: active-directory
documentationcenter: ''
author: kalyankrishna1
manager: CelesteDG
editor: ''
ms.service: active-directory
ms.subservice: develop
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 09/24/2018
ms.author: kkrishna
ms.reviewer: ''
ms.custom: aaddev
ms.collection: M365-identity-device-management
ms.openlocfilehash: a51c49633e68fdc5f9afd4bf0205adaa625940ff
ms.sourcegitcommit: c8a102b9f76f355556b03b62f3c79dc5e3bae305
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/06/2019
ms.locfileid: "68812971"
---
# <a name="how-to-restrict-your-app-to-a-set-of-users"></a>Практическое руководство. Ограничение набора пользователей приложения

Приложения, зарегистрированные в клиенте Azure Active Directory (Azure AD), по умолчанию являются доступными для всех пользователей клиента, которые успешно прошли проверку подлинности.

Аналогичным образом, в частности в случае [мультитенантного](howto-convert-app-to-be-multi-tenant.md) приложения, все пользователи в клиенте Azure AD, в котором подготовлено это приложение, будут иметь возможность доступа к этому приложению сразу после успешной проверки подлинности в своих соответствующих клиентах.

У администраторов и разработчиков клиента часто есть требования относительно ограничения доступа к приложению определенным набором пользователей. Разработчики могут сделать то же самое, используя популярные шаблоны авторизации, такие как управление доступом на основе ролей (RBAC), но для этого подхода требуются значительные усилия со стороны разработчика.

Azure AD позволяет администраторам и разработчикам клиента ограничить доступ к приложению определенными пользователями или группами безопасности в клиенте.

## <a name="supported-app-configurations"></a>Поддерживаемые конфигурации приложения

Функция ограничения приложения для определенного набора пользователей или групп безопасности в клиенте работает со следующими типами приложений:

- Приложения, настроенные для федеративного единого входа с проверкой подлинности на основе SAML.
- Приложения прокси приложения, использующие предварительную проверку подлинности Azure AD.
- Приложения, созданные непосредственно на платформе приложений Azure AD, использующих проверку подлинности OAuth 2.0 или OpenID Connect после того, как пользователь или администратор согласились с условиями использования этого приложения.

     > [!NOTE]
     > Эта функция доступна только для веб-приложений, веб-API и корпоративных приложений. Приложения, зарегистрированные как [собственные](quickstart-v1-integrate-apps-with-azure-ad.md), нельзя ограничивать набором пользователей или групп безопасности в клиенте.

## <a name="update-the-app-to-enable-user-assignment"></a>Обновление приложения для включения назначения пользователя

Существует два способа создания приложения с включенным назначением пользователей. Одна из них требует роли **глобального администратора** , а вторая — нет.

### <a name="enterprise-applications-requires-the-global-adminstrator-role"></a>Корпоративные приложения (требуется роль глобального администратора)

1. Перейдите к [**портал Azure**](https://portal.azure.com/) и войдите в систему как **глобальный администратор**.
1. В верхней панели выберите учетную запись, с помощью которой выполнен вход. 
1. В разделе **каталога** выберите клиент Azure AD, в котором будет зарегистрировано приложение.
1. В области навигации слева выберите **Azure Active Directory**. Если Azure Active Directory недоступна в области навигации, выполните следующие действия.

    1. Выберите **Все службы** в верхней части главного меню навигации слева.
    1. Введите **Azure Active Directory** в поле фильтра поиска, а затем выберите элемент **Azure Active Directory** из результата.

1. На панели **Azure Active Directory** выберите **Корпоративные приложения** в меню навигации слева **Azure Active Directory**.
1. Щелкните **Все приложения**, чтобы просмотреть полный список приложений.

     Если приложение не отображается, используйте различные фильтры в верхней части списка **Все приложения**, чтобы сократить список, или прокрутите его вниз и найдите приложение.

1. Выберите из списка приложение, которое вы хотите назначить пользователю или группе безопасности.
1. На странице **Обзор** приложения в меню навигации слева приложения выберите **свойства** .
1. Найдите параметр **Требуется ли назн. польз.?** и присвойте ему значение **Да**. Если этот параметр имеет значение **Да**, пользователи сначала должны быть назначены этому приложению, прежде чем они смогут получить к нему доступ.
1. Нажмите кнопку **Сохранить**, чтобы сохранить это изменение конфигурации.

### <a name="app-registration"></a>Регистрация приложения

1. Перейдите к [**портал Azure**](https://portal.azure.com/).
1. В верхней панели выберите учетную запись, с помощью которой выполнен вход. 
1. В разделе **каталога** выберите клиент Azure AD, в котором будет зарегистрировано приложение.
1. В области навигации слева выберите **Azure Active Directory**.
1. В области **Azure Active Directory** выберите **Регистрация приложений** в меню навигации **Azure Active Directory** слева.
1. Создайте или выберите приложение, которым требуется управлять. Необходимо быть **владельцем** этой регистрации приложения.
1. На странице **Обзор** приложения перейдите по ссылке управляемое **приложение в локальном каталоге** в разделе Основные компоненты в верхней части страницы. Вы перейдете к _управляемому корпоративному приложению_ регистрации приложения.
1. В колонке навигации слева выберите **Свойства**.
1. Найдите параметр **Требуется ли назн. польз.?** и присвойте ему значение **Да**. Если этот параметр имеет значение **Да**, пользователи сначала должны быть назначены этому приложению, прежде чем они смогут получить к нему доступ.
1. Нажмите кнопку **Сохранить**, чтобы сохранить это изменение конфигурации.

## <a name="assign-users-and-groups-to-the-app"></a>Назначение пользователей и групп для приложения

После того как вы настроили приложение для включения назначения пользователя, вы можете продолжить и назначить приложению пользователей и группы.

1. Щелкните панель **Пользователи и группы** в меню навигации приложения слева.
1. Вверху списка **Пользователи и группы** нажмите кнопку **Добавить пользователя**, чтобы открыть панель **Добавление назначения**.
1. В области **добавления назначения** щелкните селектор **Пользователи**. 

     Отобразится список пользователей и групп безопасности, а также текстовое поле для поиска определенного пользователя или группы. На этом экране можно выбрать сразу несколько пользователей и групп.

1. Выбрав пользователей и группы, нажмите кнопку **Выбрать** внизу, чтобы перейти к следующей части.
1. Нажмите кнопку **Назначить** внизу, чтобы завершить назначение пользователей и групп для приложения. 
1. Убедитесь, что добавленные пользователи и группы отображаются в обновленном списке **Пользователи и группы**.

