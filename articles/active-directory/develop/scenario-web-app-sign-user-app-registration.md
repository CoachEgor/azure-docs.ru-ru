---
title: Зарегистрируйте веб-приложение, которое подписывается в пользователях - платформа идентификации Microsoft Azure
description: Узнайте, как зарегистрировать веб-приложение, которое подписывает в пользователях
services: active-directory
author: jmprieur
manager: CelesteDG
ms.service: active-directory
ms.subservice: develop
ms.topic: conceptual
ms.workload: identity
ms.date: 10/30/2019
ms.author: jmprieur
ms.custom: aaddev
ms.openlocfilehash: 7d2eb5356b1abc54508fd6bf8d35fd9fc39d02ec
ms.sourcegitcommit: d187fe0143d7dbaf8d775150453bd3c188087411
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80881585"
---
# <a name="web-app-that-signs-in-users-app-registration"></a>Веб-приложение, которое подписывает в пользователях: Регистрация приложений

В этой статье объясняется специфика регистрации приложения для веб-приложения, которое подписывается в пользователях.

Для регистрации заявки можно использовать:

- [Веб-приложение quickstarts](#register-an-app-by-using-the-quickstarts). Помимо того, что это первый опыт работы с приложением, quickstarts на портале Azure содержат кнопку под названием **Сделать это изменение для меня**. Эту кнопку можно использовать для настройки необходимых свойств даже для существующего приложения. Вам нужно будет адаптировать значения этих свойств к вашему собственному делу. В частности, URL-адрес Web API для вашего приложения, вероятно, будет отличаться от предлагаемого значения по умолчанию, что также повлияет на выписывание URI.
- Портал Azure для [регистрации приложения вручную.](#register-an-app-by-using-the-azure-portal)
- PowerShell и командные линии инструментов.

## <a name="register-an-app-by-using-the-quickstarts"></a>Зарегистрируйте приложение с помощью быстрых запусков

Вы можете использовать эти ссылки для bootstrap создания вашего веб-приложения:

- [ASP.NET Core](https://aka.ms/aspnetcore2-1-aad-quickstart-v2)
- [ASP.NET](https://ms.portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/applicationsListBlade/quickStartType/AspNetWebAppQuickstartPage/sourceType/docs)

## <a name="register-an-app-by-using-the-azure-portal"></a>Зарегистрируйте приложение с помощью портала Azure

> [!NOTE]
> Портал для использования отличается в зависимости от того, работает ли приложение в общедоступном облаке Microsoft Azure или в национальном или суверенном облаке. Для получения дополнительной информации [см.](./authentication-national-cloud.md#app-registration-endpoints)


1. Вопийте на [портале Azure,](https://portal.azure.com) используя либо рабочую или школьную учетную запись, либо личную учетную запись Майкрософт. Кроме того, вопием на порталaz, который будет использоваться для национального облака.
1. Если ваша учетная запись предоставляет вам доступ к более чем одному арендатору, выберите учетную запись в правом верхнем углу. Затем установите сеанс портала для желаемого клиента Azure Active Directory (Azure AD).
1. В левой панели выберите службу **Active Directory Azure,** а затем выберите **регистрацию** > приложений**Новая регистрация.**

# <a name="aspnet-core"></a>[ASP.NET Core](#tab/aspnetcore)

1. При **попавании страницы заявки** введите регистрационную информацию в ашего заявлении:
   1. Выберите поддерживаемые типы учетных записей для приложения. (См. [Поддерживаемые типы учетных записей](./v2-supported-account-types.md).)
   1. В разделе **Имя** введите понятное имя приложения, которое будет отображаться пользователям приложения. Например, введите **AspNetCore-WebApp**.
   1. Для **перенаправления URI**добавьте тип приложения и пункт назначения URI, который будет принимать ответы на возвращенные токены после успешной аутентификации. Например, **https://localhost:44321**введите . Затем щелкните **Регистрация**.
1. Выберите меню **Проверка подлинности**, а затем добавьте следующие сведения:
   1. Для **URL-адреса ответа**добавьте **https://localhost:44321/signin-oidc** **веб-тип**.
   1. В разделе **Дополнительные параметры** задайте для параметра **URL-адрес выхода** значение **https://localhost:44321/signout-oidc**.
   1. В разделе **Неявное предоставление разрешения** установите флажок **Токены идентификатора**.
   1. Щелкните **Сохранить**.

# <a name="aspnet"></a>[ASP.NET](#tab/aspnet)

1. При **попавании страницы заявки** введите регистрационную информацию в ашего заявлении:
   1. Выберите поддерживаемые типы учетных записей для приложения. (См. [Поддерживаемые типы учетных записей](./v2-supported-account-types.md).)
   1. В разделе **Имя** введите понятное имя приложения, которое будет отображаться пользователям приложения. Например, введите **MailApp-openidconnect-v2**.
   1. В разделе **Redirect URI (необязательно)** выберите **Web** в комбо-поле **https://localhost:44326/** и введите следующий перенаправление URI: .
1. Выберите **Зарегистрировать**, чтобы создать приложение.
1. Выберите меню **аутентификации.**
1. В разделе **Расширенные настройки** | **Неявного гранта** выберите **токены ID.** Этот пример [требует, чтобы неявный поток грантов](v2-oauth2-implicit-grant-flow.md) был включен для регистрации в пользователе.
1. Щелкните **Сохранить**.

# <a name="java"></a>[Java](#tab/java)

1. При **появлении страницы заявки** введите имя дисплея приложения. Например, введите **java-webapp**.
1. Выберите **учетные записи в любом каталоге организации и личных учетных записей Майкрософт (например, Skype, Xbox, Outlook.com),** а затем выберите **веб-приложение / API** для **типа приложений.**
1. Выберите **регистр** для регистрации заявки.
1. В левом меню выберите **аутентификацию**. Под **перенаправлением URIs**выберите **Веб**.

1. Введите два перенаправления URIs: один для страницы входа в систему и один для страницы графика. Для обоих используйте один и тот же номер порта и порт, за которым следуют **/msal4jsample/secure/aad** для страницы ввне и **msal4jsample/graph/me** для страницы информации пользователя.

   По умолчанию в образце используются:

   - **http://localhost:8080/msal4jsample/secure/aad**
   - **http://localhost:8080/msal4jsample/graph/me**

  Затем выберите **Сохранить**.

1. Выберите **сертификаты & секреты** из меню.
1. В разделе **Секреты Клиента** выберите **новый секрет клиента,** а затем:

   1. Введите описание ключа.
   1. Выберите ключевой срок **в 1 год**.
   1. Выберите **Добавить**.
   1. Когда появится ключевое значение, скопируйте его на потом. Это значение не будет отображаться снова или быть извлеченным любыми другими средствами.

# <a name="python"></a>[Python](#tab/python)

1. При **попавании страницы заявки** введите регистрационную информацию в ашего заявлении:
   1. В разделе **Имя** введите понятное имя приложения, которое будет отображаться пользователям приложения. Например, введите **python-webapp**.
   1. Изменение **поддерживаемых типов учетных записей** **в учетных записях в любом каталоге организаций и личных учетных записях Майкрософт (например, Skype, Xbox, Outlook.com)**.
   1. В разделе **Redirect URI (необязательно)** выберите **Web** в комбо-поле **http://localhost:5000/getAToken**и введите следующий перенаправление URI: .
1. Выберите **Зарегистрировать**, чтобы создать приложение.
1. На странице приложения **Обзор** найдите **идентификатор приложения (клиента)** и запишите его, чтобы использовать позже. Он понадобится для настройки файла конфигурации Visual Studio для этого проекта.
1. В левом меню выберите **Сертификаты & секреты.**
1. В разделе **Секреты клиента** выберите **новый секрет клиента,** а затем:

   1. Введите описание ключа.
   1. Выберите срок действия ключа**в 1 год**.
   1. Выберите **Добавить**.
   1. Когда появится ключевое значение, скопируйте его. Он понадобится вам позднее.
---

## <a name="register-an-app-by-using-powershell"></a>Зарегистрируйте приложение с помощью PowerShell

> [!NOTE]
> В настоящее время Azure AD PowerShell создает приложения только со следующими поддерживаемыми типами учетных записей:
>
> - MyOrg (счета только в этом каталоге организации)
> - AnyOrg (счета в любом организационном каталоге)
>
> Можно создать приложение, которое подписывается у пользователей с их личными учетными записями Майкрософт (например, Skype, Xbox или Outlook.com). Во-первых, создайте мультитенантное приложение. Поддерживаемые типы учетных записей являются учетными записями в любом каталоге организации. Затем измените `signInAudience` свойство в манифесте приложения с портала Azure. Для получения дополнительной [step 1.3](https://github.com/Azure-Samples/active-directory-aspnetcore-webapp-openidconnect-v2/tree/master/1-WebApp-OIDC/1-3-AnyOrgOrPersonal#step-1-register-the-sample-with-your-azure-ad-tenant) информации ASP.NET см. Вы можете обобщить этот шаг для веб-приложений на любом языке.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Конфигурация кода приложения](scenario-web-app-sign-user-app-configuration.md)
