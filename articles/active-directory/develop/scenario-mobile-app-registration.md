---
title: Регистрация мобильных приложений, которые вызывают веб-AI AIS Azure
titleSuffix: Microsoft identity platform
description: Узнайте, как создать мобильное приложение, которое вызывает web-апотированные данные (конфигурация кода приложения)
services: active-directory
documentationcenter: dev-center-name
author: jmprieur
manager: CelesteDG
ms.service: active-directory
ms.subservice: develop
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 05/07/2019
ms.author: jmprieur
ms.reviwer: brandwe
ms.custom: aaddev
ms.collection: M365-identity-device-management
ms.openlocfilehash: 75cfd304869bfb63131dfd2afed9f925c86d32fb
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77132444"
---
# <a name="register-mobile-apps-that-call-web-apis"></a>Регистрация мобильных приложений, которые вызывают веб-AI

Эта статья содержит инструкции, которые помогут вам зарегистрировать мобильное приложение, которое вы создаете.

## <a name="supported-account-types"></a>Поддерживаемые типы учетных записей

Типы учетных записей, поддерживаемые мобильными приложениями, зависят от возможностей и потоков, которые вы хотите использовать.

### <a name="audience-for-interactive-token-acquisition"></a>Аудитория для интерактивного приобретения токенов

Большинство мобильных приложений используют интерактивную аутентификацию. Если ваше приложение использует эту форму проверки подлинности, вы можете войти в число пользователей из любого [типа учетной записи.](quickstart-register-app.md#register-a-new-application-using-the-azure-portal)

### <a name="audience-for-integrated-windows-authentication-username-password-and-b2c"></a>Аудитория для интегрированной аутентификации Windows, имя пользователя-пароль, и B2C

Если у вас есть приложение Universal Windows Platform (UWP), вы можете использовать интегрированную аутентификацию Windows для регистрации пользователей. Чтобы использовать интегрированную аутентификацию Windows или проверку подлинности имени пользователя, ваше приложение должно войти в число пользователей в вашем собственном клиенто-бизнес-разработчика (LOB). В сценарии независимого поставщика программного обеспечения (ISV) приложение может войти в число пользователей в организациях Active Directory Azure. Эти потоки аутентификации не поддерживаются для личных учетных записей Майкрософт.

Вы также можете войти в число пользователей, используя социальные удостоверения, которые проходят B2C власти и политики. Для использования этого метода можно использовать только интерактивную аутентификацию и проверку подлинности имени пользователя. Проверка подлинности имен пользователей в настоящее время поддерживается только на Xamarin.iOS, Xamarin.Android и UWP.

Для получения дополнительной информации смотрите [сценарии и поддерживаемые потоки проверки подлинности](authentication-flows-app-scenarios.md#scenarios-and-supported-authentication-flows) и [сценарии и поддерживаемые платформы и языки.](authentication-flows-app-scenarios.md#scenarios-and-supported-platforms-and-languages)

## <a name="platform-configuration-and-redirect-uris"></a>Конфигурация платформы и перенаправление URIs  

### <a name="interactive-authentication"></a>Интерактивная аутентификация

При создании мобильного приложения, используюго интерактивную аутентификацию, наиболее важным шагом регистрации является перенаправление URI. Вы можете установить интерактивную аутентификацию через [конфигурацию платформы на лезвии **аутентификации.** ](https://aka.ms/MobileAppReg)

Этот опыт позволит вашему приложению получить одиночный вданный (SSO) через Microsoft Authenticator (и портал intune Company на Android). Он также будет поддерживать политику управления устройствами.

Портал регистрации приложений предоставляет предварительный просмотр, чтобы помочь вам вычислить посреднические ответы URI для iOS и Android приложений:

1. На портале регистрации приложений выберите **Authentication** > **Опробуйте новый опыт.**

   ![Лезвие аутентификации, где вы выбираете новый опыт](https://user-images.githubusercontent.com/13203188/60799285-2d031b00-a173-11e9-9d28-ac07a7ae894a.png)

2. Выберите **Добавить платформу**.

   ![Добавить платформу](https://user-images.githubusercontent.com/13203188/60799366-4c01ad00-a173-11e9-934f-f02e26c9429e.png)

3. При поддержке списка платформ выберите **iOS**.

   ![Выбрать мобильное приложение](https://user-images.githubusercontent.com/13203188/60799411-60de4080-a173-11e9-9dcc-d39a45826d42.png)

4. Введите идентификатор пакета, а затем выберите **Регистрацию.**

   ![Введите идентификатор пакета](https://user-images.githubusercontent.com/13203188/60799477-7eaba580-a173-11e9-9f8b-431f5b09344e.png)

Когда вы завершаете шаги, перенаправление URI вычисляется для вас, как и на следующем изображении.

![В результате перенаправить URI](https://user-images.githubusercontent.com/13203188/60799538-9e42ce00-a173-11e9-860a-015a1840fd19.png)

Если вы предпочитаете вручную настроить перенаправление URI, вы можете сделать это через манифест приложения. Вот рекомендуемый формат для манифеста:

- **iOS**:`msauth.<BUNDLE_ID>://auth` 
  - Например, введите `msauth.com.yourcompany.appName://auth`.
- **Android**:`msauth://<PACKAGE_NAME>/<SIGNATURE_HASH>`
  - Вы можете создать хэш подписи Android с помощью ключа релиза или отладки ключа через команду KeyTool.

### <a name="username-password-authentication"></a>Проверка подлинности имен пользователя и пароля

Если ваше приложение использует только проверку подлинности имени пользователя, вам не нужно регистрировать перенаправление URI для вашего приложения. Этот поток делает поездку туда и обратно в версию платформы Microsoft 2.0 endpoint. Ваше заявление не будет отозвано на каких-либо конкретных URI. 

Однако необходимо идентифицировать приложение как публичное клиентское приложение. Для этого начните в разделе **Аутентификация** вашего приложения. В подразделе **Расширенные настройки,** в пункте **типа клиента по умолчанию,** для приложения Treat в **качестве публичного клиента**выберите **Да**.

## <a name="api-permissions"></a>Разрешения API

Мобильные приложения называют AA от имени пользователя, вписаваемого в нее. Приложению необходимо запрашивать делегированные разрешения. Эти разрешения также называются областями. В зависимости от необходимого опыта можно запросить делегированные разрешения статические средства через портал Azure. Или вы можете запросить их динамически во время выполнения. 

Статически регистрируя разрешения, вы позволяете администраторам легко утвердить ваше приложение. Рекомендуется статической регистрации.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Конфигурация кода](scenario-mobile-app-configuration.md)
