---
title: Известные проблемы в браузерах (библиотека проверки подлинности Майкрософт для JavaScript) | Azure
description: Дополнительные сведения о известные проблемы при использовании библиотеки проверки подлинности Майкрософт для JavaScript (MSAL.js) с браузерами Internet Explorer и Microsoft Edge.
services: active-directory
documentationcenter: dev-center-name
author: navyasric
manager: CelesteDG
editor: ''
ms.service: active-directory
ms.subservice: develop
ms.devlang: na
ms.topic: troubleshooting
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 05/16/2019
ms.author: nacanuma
ms.reviewer: saeeda
ms.custom: aaddev
ms.collection: M365-identity-device-management
ms.openlocfilehash: c57ed956ec50c8bac26720a27894c07353928336
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "65873905"
---
# <a name="known-issues-on-internet-explorer-and-microsoft-edge-browsers-with-msaljs"></a>Известные проблемы в браузерах Internet Explorer и Microsoft Edge с MSAL.js

## <a name="issues-due-to-security-zones"></a>Проблемы из-за зоны безопасности
У нас было несколько сообщений о проблемах с проверкой подлинности в IE и Microsoft Edge (с момента обновления из *версия браузера Microsoft Edge для 40.15063.0.0*). Мы рассматриваем это и проинформируйте группа Microsoft Edge. Microsoft Edge работает над устранением, вот описание часто встречающихся проблемах и возможных решений, которые могут быть реализованы.

### <a name="cause"></a>Причина:
Причиной многих проблем выглядит следующим образом. Хранилища сеанса и локальное хранилище секционируются по зонам безопасности в браузере Microsoft Edge. В этой конкретной версии Microsoft Edge Если между зонами, перенаправляется приложение хранилища сеанса и локальное хранилище снимаются. В частности хранилища сеанса удаляются в области навигации регулярных браузера, а сеанс и локальное хранилище снимаются в режиме InPrivate браузера. MSAL.js сохраняет определенное состояние в хранилище данных сеанса и зависит от того, проверка этого состояния во время процессов проверки подлинности. Если хранилища сеанса установлен, это состояние теряется и поэтому приводит нарушение работы.

### <a name="issues"></a>Проблемы

- **Циклы бесконечный перенаправления и странице перезагружает во время проверки подлинности**. При входе пользователей в приложение в Microsoft Edge, они будут перенаправлены обратно на страницу входа AAD и являются вошел в цикл бесконечный перенаправления приводит перезагрузок повторяющиеся страницы. Это обычно сопровождается `invalid_state` ошибки в хранилище данных сеанса.

- **Infinite получения маркера циклы и ошибка AADSTS50058**. Когда приложения, работающего в Microsoft Edge пытается получить маркер для ресурса, приложение может задержаться в бесконечный цикл получения маркера вызова вместе с следующую ошибку из Azure AD в трассировки сети:

    `Error :login_required; Error description:AADSTS50058: A silent sign-in request was sent but no user is signed in. The cookies used to represent the user's session were not sent in the request to Azure AD. This can happen if the user is using Internet Explorer or Edge, and the web app sending the silent sign-in request is in different IE security zone than the Azure AD endpoint (login.microsoftonline.com)`

- **Всплывающее окно, не закрывает или зависла при использовании для проверки подлинности входа с помощью всплывающего окна**. При проверке подлинности через всплывающее окно, в Microsoft Edge или IE(InPrivate), после ввода учетных данных и выполните вход, если в области навигации участвуют несколько доменов в зонах безопасности не закрыть всплывающее окно, поскольку MSAL.js теряет дескриптор всплывающее окно.  

    Ниже приведены ссылки на эти проблемы в Microsoft Edge issue tracker.  
    - [Ошибка 13861050](https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/13861050/)
    - [Ошибка 13861663](https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/13861663/)

### <a name="update-fix-available-in-msaljs-023"></a>Обновление: Исправление недоступно в MSAL.js 0.2.3
Исправления для проблемы цикла перенаправления проверки подлинности, выпущенные за [MSAL.js 0.2.3](https://github.com/AzureAD/microsoft-authentication-library-for-js/releases). Включить флаг `storeAuthStateInCookie` в файле конфигурации MSAL.js, чтобы воспользоваться этим исправлением. По умолчанию этот флаг имеет значение false.

Когда `storeAuthStateInCookie` флаг включен, MSAL.js будет использовать файлы cookie браузера для сохранения состояния запроса, необходимые для проверки потоков проверки подлинности.

> [!NOTE]
> Это исправление, пока недоступен для оболочек msal angular и msal angularjs. Это исправление устраняет проблему с всплывающие окна.

Используйте представленные ниже.

#### <a name="other-workarounds"></a>Другие возможные решения
Не забудьте проверить, что проблема происходит только на определенную версию браузера Microsoft Edge и работает в других браузерах перед переходом на использование этих обходных путей.  
1. В качестве первого шага, чтобы обойти эти проблемы, убедитесь, что домен приложения, и любые другие сайты, участвующие в перенаправления потока проверки подлинности будут добавлены в список надежных сайтов в параметры безопасности браузера, таким образом, чтобы они принадлежат к одной и той же зоне безопасности.
Для этого выполните следующие действия.
    - Откройте **Internet Explorer** и щелкнуть **параметры** (значок шестеренки) в правом верхнем углу
    - Выберите **браузера**
    - Выберите **безопасности** вкладку
    - В разделе **Надежные узлы** , щелкните на **сайты** и добавьте URL-адреса в открывшемся диалоговом окне.

2. Как упоминалось ранее, так как только сеанс хранилища удаляются во время регулярного навигации, можно настроить MSAL.js вместо этого использовать локальное хранилище. Это можно задать в качестве `cacheLocation` параметра конфигурации при инициализации MSAL.

Обратите внимание, что это не решит проблему для просмотра InPrivate, так как сеанс и локального хранилища будут удалены.

## <a name="issues-due-to-popup-blockers"></a>Проблемы из-за блокировки всплывающих окон

Бывают случаи, когда всплывающие окна заблокированы в IE или Microsoft Edge, например, при возникновении во втором всплывающем во время многофакторной проверки подлинности. Вы получите оповещение в браузере, чтобы разрешить для контекстного меню, один раз или всегда. Если вы решили разрешить, браузер автоматически откроется всплывающее окно и возвращает `null` обработки для него. Таким образом библиотека не имеет дескриптор для окна, и нет способа для закрытия всплывающего окна. Та же проблема не происходит в Chrome, когда вам будет предложено разрешить всплывающие окна, так как он автоматически не открывается всплывающее окно.

Как **решение**, разработчикам понадобится разрешить всплывающие окна в IE и Microsoft Edge, прежде чем приступят к использованию их приложения, чтобы избежать этой проблемы.

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о [с помощью MSAL.js в Internet Explorer](msal-js-use-ie-browser.md).
