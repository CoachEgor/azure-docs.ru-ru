---
title: Приложение управляющей программы, вызывающее веб-API (регистрация приложений) — платформа Microsoft Identity
description: Узнайте, как создать управляющее приложение, вызывающее веб-API — регистрацию приложений
services: active-directory
documentationcenter: dev-center-name
author: jmprieur
manager: CelesteDG
editor: ''
ms.service: active-directory
ms.subservice: develop
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 09/15/2019
ms.author: jmprieur
ms.custom: aaddev
ms.collection: M365-identity-device-management
ms.openlocfilehash: 8d0d88f72cca45280bd76ac7bb9d7a6e0a1d37fb
ms.sourcegitcommit: 98ce5583e376943aaa9773bf8efe0b324a55e58c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/30/2019
ms.locfileid: "73175447"
---
# <a name="daemon-app-that-calls-web-apis---app-registration"></a>Приложение управляющей программы, вызывающее веб-API — регистрация приложений

Для управляющего приложения это необходимо знать при регистрации приложения.

## <a name="supported-account-types"></a>Поддерживаемые типы учетных записей

Учитывая, что управляющие приложения имеют смысл только в клиентах Azure AD, при создании приложения необходимо выбрать:

- **только учетные записи в этом каталоге Организации**. Это наиболее распространенный случай, поскольку управляющие приложения обычно пишутся разработчиками бизнес-приложений.
- или **учетные записи в любом каталоге Организации**. Этот вариант можно выбрать, если вы являетесь независимым поставщиком программного обеспечения, предоставляющего служебную программу клиентам. Чтобы утвердить клиенты, необходимо быть администратором клиентов.

## <a name="authentication---no-reply-uri-needed"></a>Проверка подлинности-URI ответа не требуется

Если конфиденциальное клиентское приложение использует **только** поток учетных данных клиента, URI ответа не требуется регистрировать. Он не нужен ни для настройки, ни для создания приложения. Поток учетных данных клиента не использует его.

## <a name="api-permissions---app-permissions-and-admin-consent"></a>Разрешения API — разрешения приложения и согласие администратора

Управляющее приложение может запрашивать разрешения приложения только для API-интерфейсов (не делегированных разрешений). На странице **разрешения API** для регистрации приложения после выбора **Добавить разрешение** и выбрать семейство API, выберите **разрешения приложения**, а затем выберите нужные разрешения.

![Разрешения приложения и согласие администратора](media/scenario-daemon-app/app-permissions-and-admin-consent.png)

> [!NOTE]
> Веб-API, который требуется вызвать, должен определять **разрешения приложения (роли приложения)** , а не делегированные разрешения. Дополнительные сведения о том, как предоставить такой API, см [. в разделе защищенный веб-API: регистрация приложения — при вызове веб-API с помощью управляющего приложения.](scenario-protected-web-api-app-registration.md#if-your-web-api-is-called-by-a-daemon-app)

Для приложений управляющей программы требуется предварительное согласие администратора клиента, вызывающего веб-API. Это согласие предоставляется на той же странице **разрешений API** , которую администратор клиента выбирает **предоставить согласие администратора для *нашей Организации***  .

Если вы являетесь независимым поставщиком программного обеспечения, создающим многоклиентское приложение, вам нужно проверить, есть ли у вас в этом [случае абзац развертывания для приложений управляющей программы из нескольких клиентов](scenario-daemon-production.md#deployment---case-of-multi-tenant-daemon-apps) .

[!INCLUDE [Pre-requisites](../../../includes/active-directory-develop-scenarios-registration-client-secrets.md)]

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Приложение управляющей программы — конфигурация кода приложения](./scenario-daemon-app-configuration.md)
