---
title: Расширенные параметры подписи сертификата в маркере SAML для предварительно интегрированных приложений в Azure Active Directory | Документация Майкрософт
description: Узнайте, как использовать расширенные параметры подписи сертификата в маркере SAML для предварительно интегрированных приложений в Azure Active Directory
services: active-directory
documentationcenter: ''
author: msmimart
manager: CelesteDG
ms.service: active-directory
ms.subservice: app-mgmt
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 03/25/2019
ms.author: mimart
ms.reviewer: jeedes
ms.custom: aaddev
ms.collection: M365-identity-device-management
ms.openlocfilehash: a084ceb841ea35bc62d9851f2b6c4821f4acb6fd
ms.sourcegitcommit: 47ce9ac1eb1561810b8e4242c45127f7b4a4aa1a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2019
ms.locfileid: "67807716"
---
# <a name="advanced-certificate-signing-options-in-the-saml-token-for-gallery-apps-in-azure-active-directory"></a>Расширенные параметры подписи сертификата в маркере SAML для приложений коллекции в Azure Active Directory

На сегодняшний день Azure Active Directory (Azure AD) поддерживает тысячи предварительно интегрированных приложений, доступных в коллекции приложений Azure Active Directory. Более 500 приложений поддерживают единый вход с помощью [Security Assertion Markup Language](https://wikipedia.org/wiki/Security_Assertion_Markup_Language) (SAML) 2.0 протокола, такие как [NetSuite](https://azuremarketplace.microsoft.com/marketplace/apps/aad.netsuite) приложения. Когда клиент проходит проверку подлинности приложения с помощью Azure AD с помощью SAML, Azure AD отправляет токен в приложение (через запрос HTTP POST). Затем приложение проверяет и использует маркер для входа в клиент вместо запроса имени пользователя и пароль. Данные токены SAML подписываются с помощью уникального сертификата, который создается в Azure AD, а также определенных стандартных алгоритмов.

Azure AD использует некоторые параметры по умолчанию для приложений коллекции. Значения по умолчанию настраиваются в зависимости от требований к приложению.

В Azure AD можно настроить параметры подписи сертификата и алгоритм подписывания сертификатов.

## <a name="certificate-signing-options"></a>Параметры подписи сертификата

Azure AD поддерживает три варианта подписывания сертификатов.

* **Утверждение знака SAML**. Этот параметр по умолчанию задается для большинства приложений коллекции. Если выбран этот параметр, Azure AD в качестве поставщика удостоверений (IdP) подпишет утверждение SAML и сертификат с [X.509](https://wikipedia.org/wiki/X.509) сертификата приложения.

* **Ответ знака SAML**. Если выбран этот параметр, Azure AD в качестве поставщика удостоверений подпишет ответ SAML с сертификатом X.509 приложения.

* **Ответ знака SAML и утверждение**. Если выбран этот параметр, Azure AD в качестве поставщика удостоверений подпишет весь токен SAML с сертификатом X.509 приложения.

## <a name="certificate-signing-algorithms"></a>Алгоритмы подписывания сертификатов

Azure AD поддерживает два алгоритма подписывания или безопасные алгоритмы хэширования (SHA), для подписи ответа SAML.

* **SHA-256**. Azure AD использует этот алгоритм по умолчанию для подписывания ответов SAML. Это последний разработанный алгоритм который безопаснее, чем SHA-1. Большинство приложений поддерживает алгоритм SHA-256. Если приложение поддерживает только алгоритм подписывания SHA-1, можно выбрать его. В противном случае рекомендуется использовать алгоритм SHA-256 для подписывания ответов SAML.

* **SHA-1**. Этот алгоритм является более ранней, и он считается меньшей безопасной, чем SHA-256. Если приложение поддерживает только этот алгоритм подписывания, его можно выбрать из раскрывающегося списка **Алгоритм подписывания**. В этом случае Azure AD будет подписывать ответы SAML с помощью алгоритма SHA-1.

## <a name="change-certificate-signing-options-and-signing-algorithm"></a>Изменить сертификат, параметры подписывания и алгоритм подписи

Чтобы изменить параметры подписи сертификата приложения SAML и алгоритм подписывания сертификатов, выберите приложение в вопросе:

1. В [портал Azure Active Directory](https://aad.portal.azure.com/), войдите свою учетную запись. **Центр администрирования Azure Active Directory** появится страница.
1. В области слева выберите **Корпоративные приложения**. Появится список корпоративных приложений в вашей учетной записи.
1. Выберите приложение. Отображается на странице "Обзор" для приложения.

   ![Пример: Общие сведения о странице приложения](./media/certificate-signing-options/application-overview-page.png)

Затем измените параметры подписи сертификата в маркере SAML для этого приложения:

1. В области слева на странице обзора приложения выберите **единого входа**.
1. Если **задать вверх единого входа в SAML - Preview** появится страница, перейдите к шагу 5.
1. Если **выберите один метод входа** страница не отображается, выберите **изменить режимы единого входа** чтобы отобразить соответствующую страницу.
1. В **выберите один метод входа** выберите **SAML** если он доступен. (Если **SAML** не доступны, приложение не поддерживает SAML, и можно проигнорировать, остальная часть этой процедуры и статья.)
1. В **задать вверх единого входа в SAML - Preview** найдите **сертификат подписи SAML** и выберите пункт **изменить** значок (Карандаш). **Сертификат подписи SAML** появится страница.

   ![Пример: Страница сертификат подписи SAML](./media/certificate-signing-options/saml-signing-page.png)

1. В **вариант подписывания** раскрывающегося списка выберите **ответ знака SAML**, **утверждение знака SAML**, или **ответ знака SAML и утверждение**. Описание этих параметров приведено выше в этой статье в [параметры подписи сертификата](#certificate-signing-options).
1. В **алгоритм подписывания** раскрывающегося списка выберите **SHA-1** или **SHA-256**. Описание этих параметров приведено выше в этой статье в [алгоритмы подписывания сертификатов](#certificate-signing-algorithms) раздел.
1. Если вы удовлетворены результатами выбранные параметры, выберите **Сохранить** применить новые параметры сертификата подписывания SAML. В противном случае выберите **X** отменить изменения.

## <a name="next-steps"></a>Следующие шаги

* [Настройка единого входа для приложений, которых нет в коллекции приложений Azure Active Directory](configure-federated-single-sign-on-non-gallery-applications.md)
* [Устранение неполадок единого входа на основе SAML](../develop/howto-v1-debug-saml-sso-issues.md)
