---
title: Проблемы при настройке единого входа с помощью пароля для приложений не из коллекции
description: Распространенные проблемы, возникающие при настройке единого входа по паролю для пользовательских приложений, которые отсутствуют в коллекции приложений Azure AD.
services: active-directory
documentationcenter: ''
author: CelesteDG
manager: mtillman
ms.assetid: ''
ms.service: active-directory
ms.subservice: app-mgmt
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 07/11/2017
ms.author: celested
ms.collection: M365-identity-device-management
ms.openlocfilehash: ed8bafe7f5bc28cf37205107f8ab6dd5cdb4907c
ms.sourcegitcommit: b1e25a8a442656e98343463aca706f4fde629867
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/27/2020
ms.locfileid: "74274133"
---
# <a name="problems-configuring-password-single-sign-on-for-a-non-gallery-application"></a>Проблемы при настройке единого входа по паролю для приложения не из коллекции

В этой статье описываются распространенные проблемы, которые могут возникнуть при настройке *единого входа по паролю* для приложения, не относящегося к коллекции.

## <a name="capture-sign-in-fields-for-an-app"></a>Запись полей входа для приложения

Запись полей входа поддерживается только для страниц входа, поддерживающих HTML. Она не поддерживается для нестандартных страниц входа, например для тех, кто использует Adobe Flash или другие технологии, не поддерживающие HTML.

Существует два способа записи полей входа для пользовательских приложений.

- **Автоматический захват полей входа** хорошо работает с большинством страниц входа, поддерживающих HTML, *если они используют известные идентификаторы div* в полях имя пользователя и пароль. HTML-код на странице забракован, чтобы найти идентификаторы DIV, соответствующие определенным критериям. Эти метаданные сохраняются, чтобы их можно было воспроизвести в приложении позже.

- **Захват поля входа вручную** используется, если поставщик приложения *не помечает поля ввода входа*. Ручной захват также используется, если поставщик *отображает несколько полей, которые не могут быть обнаружены автоматически*. Azure Active Directory (Azure AD) может хранить данные для любого количества полей на странице входа, если указать, где эти поля находятся на странице.

В общем случае, если автоматическое отслеживание полей входа не работает, попробуйте выполнить настройку вручную.

### <a name="automatically-capture-sign-in-fields-for-an-app"></a>Автоматически записывать поля входа для приложения

Чтобы настроить единый вход на основе пароля с помощью автоматического захвата полей входа, выполните следующие действия.

1. Откройте [портал Azure](https://portal.azure.com/). Войдите в систему как глобальный администратор или Соадминистратор.

2. В области навигации слева выберите **все службы** , чтобы открыть расширение Azure AD.

3. В поле фильтра поиска введите **Azure Active Directory** , а затем выберите **Azure Active Directory**.

4. Выберите **корпоративные приложения** в области навигации Azure AD.

5. Выберите **все приложения** , чтобы просмотреть список приложений.

   > [!NOTE]
   > Если нужное приложение не отображается, используйте элемент управления **Фильтр** в верхней части списка **все приложения** . Задайте для параметра " **Показывать** " значение "все приложения".

6. Выберите приложение, которое требуется настроить для единого входа.

7. После загрузки приложения выберите **единый вход** в области навигации в левой части.

8. Выберите режим **входа на основе пароля** .

9. Введите URL-адрес **входа**, который является URL страницы, где пользователи вводят имя пользователя и пароль для входа. *Убедитесь, что поля входа отображаются на странице предоставленного URL-адреса*.

10. Щелкните **Сохранить**.

    Страница автоматически забракована для полей ввода имени пользователя и пароля. Теперь вы можете использовать Azure AD для безопасной передачи паролей в это приложение с помощью расширения браузера панели доступа.

### <a name="manually-capture-sign-in-fields-for-an-app"></a>Ручная запись полей входа для приложения

Чтобы вручную записать поля входа, необходимо установить расширение "панель доступа" для обозревателя. Кроме того, браузер не может работать в режиме *InPrivate*, *режиме инкогнито*или *Private* .

Сведения об установке расширения см. в разделе [Установка расширения обозревателя панели доступа](#install-the-access-panel-browser-extension) этой статьи.

Чтобы настроить единый вход на основе пароля для приложения с помощью записи полей входа вручную, выполните следующие действия.

1. Откройте [портал Azure](https://portal.azure.com/). Войдите в систему как глобальный администратор или Соадминистратор.

2. В области навигации слева выберите **все службы** , чтобы открыть расширение Azure AD.

3. В поле фильтра поиска введите **Azure Active Directory** , а затем выберите **Azure Active Directory**.

4. Выберите **корпоративные приложения** в области навигации Azure AD.

5. Выберите **все приложения** , чтобы просмотреть список приложений.

   > [!NOTE] 
   > Если нужное приложение не отображается, используйте элемент управления **Фильтр** в верхней части списка **все приложения** . Задайте для параметра " **Показывать** " значение "все приложения".

6. Выберите приложение, которое требуется настроить для единого входа.

7. После загрузки приложения выберите **единый вход** в области навигации в левой части.

8. Выберите режим **входа на основе пароля** .

9. Введите **URL-адрес входа**, который представляет собой страницу, где пользователи вводят имя пользователя и пароль для входа. *Убедитесь, что поля входа отображаются на странице предоставленного URL-адреса*.

10. Выберите **настроить * &lt;AppName&gt; * пароль параметры единого входа**.

11. Выберите **вручную определять поля входа**.

14. Нажмите кнопку **ОК**.

15. Щелкните **Сохранить**.

16. Следуйте инструкциям по использованию панели доступа.

## <a name="troubleshoot-problems"></a>Устранение неполадок

### <a name="i-get-a-we-couldnt-find-any-sign-in-fields-at-that-url-error"></a>Я получаю сообщение об ошибке «не удалось найти поля входа по этому URL-адресу».

Это сообщение об ошибке появляется при сбое автоматического обнаружения полей входа. Чтобы устранить эту проблему, попробуйте выполнить обнаружение полей входа вручную. См. раздел [ручное отслеживание входных полей для приложения в](#manually-capture-sign-in-fields-for-an-app) этой статье.

### <a name="i-get-an-unable-to-save-single-sign-on-configuration-error"></a>Я получаю сообщение об ошибке "не удается сохранить конфигурацию единого входа"

В редких случаях обновление конфигурации единого входа не выполняется. Чтобы устранить эту проблему, попробуйте сохранить конфигурацию еще раз.

Если вы продолжаете получать ошибку, откройте обращение в службу поддержки. Включите сведения, описанные в сведениях об [уведомлении портала](#view-portal-notification-details) , и [отправьте сведения об уведомлении инженеру службы поддержки, чтобы получить разделы справки](#send-notification-details-to-a-support-engineer-to-get-help) по этой статье.

### <a name="i-cant-manually-detect-sign-in-fields-for-my-app"></a>Не удается определить поля входа для моего приложения вручную

При неработающем ручном обнаружении может возникнуть следующее поведение:

- Процесс ручного отслеживания работал, но захваченные поля неверны.

- При выполнении процесса отслеживания не выделяются правильные поля.

- Процесс записи переходит на страницу входа приложения, как ожидалось, но ничего не происходит.

- Запись вручную работает, но SSO не происходит, когда пользователи переходят к приложению из панели доступа.

При возникновении этих проблем выполните следующие действия.

- Убедитесь, что *установлена и включена*последняя версия расширения "панель доступа". См. раздел [Установка расширения обозревателя панели доступа](#install-the-access-panel-browser-extension) этой статьи.

- Убедитесь, что браузер не находится в *режиме инкогнито*, *InPrivate*или *частном* режиме во время процесса записи. Расширение панели доступа не поддерживается в этих режимах.

- Убедитесь, что пользователи не пытаются войти в приложение с панели доступа в *режиме инкогнито*, *InPrivate*или *частном режиме*.

- Попробуйте повторить процесс записи вручную. Убедитесь, что красные маркеры находятся над правильными полями.

- Если процесс ручного отслеживания, как кажется, перестает отвечать на запросы, или страница входа не отвечает, попробуйте вручную выполнить процесс записи. Но на этот раз после завершения процесса нажмите клавишу F12, чтобы открыть консоль разработчика в браузере. Перейдите на вкладку **консоль** . Введите **Window. Location = "*&lt;URL-адрес входа, указанный при настройке приложения&gt;*"**, а затем нажмите клавишу ВВОД. Это приводит к принудительному перенаправлению страницы, завершающему процесс отслеживания, и сохраняет записанные поля.

### <a name="contact-support"></a>Обращение в службу поддержки

Если проблемы по-прежнему возникают, откройте обращение с служба поддержки Майкрософт. Опишите, что вы попытались. Включите сведения, описанные в разделе [Просмотр сведений о уведомлениях портала](#view-portal-notification-details) , и [отправьте сведения об уведомлении инженеру службы поддержки для получения разделов справки](#send-notification-details-to-a-support-engineer-to-get-help) по этой статье (если применимо).

## <a name="install-the-access-panel-browser-extension"></a>Установить расширение "панель доступа" для браузера

Выполните следующие действия.

1. Откройте [панель доступа](https://myapps.microsoft.com) в поддерживаемом браузере. Войдите в Azure AD в качестве *пользователя*.

2. На панели доступа выберите **приложение для единого входа с паролем** .

3. Когда появится запрос на установку программного обеспечения, выберите **установить сейчас**.

4. Вы будете направлены на страницу загрузки браузера. Выберите, чтобы **Добавить** расширение.

5. При появлении запроса выберите **включить** или **Разрешить**.

6. После установки перезапустите браузер.

7. Войдите на панель доступа. Узнайте, можете ли вы открыть приложения с поддержкой единого входа с помощью пароля.

Вы также можете напрямую скачать расширение браузера для Chrome и Firefox с помощью следующих ссылок:

-   [Расширение панели доступа Chrome](https://chrome.google.com/webstore/detail/access-panel-extension/ggjhpefgjjfobnfoldnjipclpcfbgbhl)

-   [Расширение панели доступа Firefox](https://addons.mozilla.org/firefox/addon/access-panel-extension/)

## <a name="view-portal-notification-details"></a>Просмотр сведений об уведомлении портала

Чтобы просмотреть сведения о любом уведомлении портала, выполните следующие действия.

1. Щелкните значок **уведомления** (колокольчик) в правом верхнем углу портал Azure.

2. Выберите любое уведомление, показывающее состояние *ошибки* . (У них есть красный знак "!".)

   > [!NOTE]
   > Нельзя выбрать уведомления, которые находятся в состоянии " *успешно* " или " *выполняется* ".

3. Откроется панель **Сведения об уведомлении**. Дополнительные сведения о проблеме см. в этой статье.

5. Если вам по-прежнему нужна помощь, поделитесь информацией со специалистом службы поддержки или группой продуктов. Щелкните значок **копирования** справа от поля **Копировать ошибку** , чтобы скопировать сведения об уведомлении для совместного использования.

## <a name="send-notification-details-to-a-support-engineer-to-get-help"></a>Отправка сведений об уведомлении инженеру службы поддержки для получения справки

Важно поделиться *всеми* сведениями, перечисленными в этом разделе, с поддержкой, чтобы они могли быстро получить помощь. Чтобы записать его, можно создать снимок экрана или выбрать **ошибку копирования**.

В следующей информации объясняется, что означает каждый элемент уведомления, и приводятся примеры.

### <a name="essential-notification-items"></a>Ключевые элементы уведомлений

- **Title**: описательное название уведомления.

   Пример. *Параметры прокси приложения*

- **Описание**: что произошло в результате операции.

   Пример: *указанный внутренний URL-адрес уже используется другим приложением.*

- **ИД уведомления**: уникальный идентификатор уведомления.

    Пример: *клиентнотификатион-2adbfc06-2073-4678-A69F-7eb78d96b068*

- **Идентификатор запроса клиента**: конкретный идентификатор запроса, сделанный вашим браузером.

    Пример: *302fd775-3329-4670-a9f3-bea37004f0bc*

- **Метка времени UTC**: метка времени, когда было получено уведомление, в формате UTC.

    Пример: *2017-03-23T19:50:43.7583681 z*

- **Внутренний идентификатор транзакции**. Внутренний идентификатор, используемый для поиска ошибки в наших системах.

    Пример: **71a2f329-ca29-402f-aa72-bc00a7aca603**

- **UPN**: пользователь, запустивший операцию.

    Пример: *тперкинс\@f128.info*

- **Идентификатор клиента**: уникальный идентификатор клиента, членом которого является пользователь, запустивший операцию.

    Пример: *7918d4b5-0442-4a97-be2d-36f9f9962ece*

- **Идентификатор объекта пользователя**: уникальный идентификатор пользователя, выполнившего операцию.

    Пример: *17f84be4-51f8-483a-b533-383791227a99*

### <a name="detailed-notification-items"></a>Подробные элементы уведомления

- **Отображаемое имя**: (может быть пустым) более подробно отображаемое имя ошибки.

    Пример. *Параметры прокси приложения*

- **Состояние**: конкретное состояние уведомления.

    Пример: *сбой*

- **Идентификатор объекта**: (может быть пустым) идентификатор объекта, с которым была выполнена операция.

   Пример: *8e08161d-f2fd-40ad-a34a-a9632d6bb599*

- **Сведения**: подробное описание того, что произошло в результате операции.

    Пример: *внутренний URL-<https://bing.com/>адрес "" является недопустимым, так как он уже используется.*

- **Ошибка копирования**: позволяет выбрать **значок копирования** справа от текстового поля **Копировать ошибку** , чтобы скопировать сведения об уведомлении для получения поддержки.

    Например```{"errorCode":"InternalUrl\_Duplicate","localizedErrorDetails":{"errorDetail":"Internal url 'https://google.com/' is invalid since it is already in use"},"operationResults":\[{"objectId":null,"displayName":null,"status":0,"details":"Internal url 'https://bing.com/' is invalid since it is already in use"}\],"timeStampUtc":"2017-03-23T19:50:26.465743Z","clientRequestId":"302fd775-3329-4670-a9f3-bea37004f0bb","internalTransactionId":"ea5b5475-03b9-4f08-8e95-bbb11289ab65","upn":"tperkins@f128.info","tenantId":"7918d4b5-0442-4a97-be2d-36f9f9962ece","userObjectId":"17f84be4-51f8-483a-b533-383791227a99"}```

## <a name="next-steps"></a>Дальнейшие действия
[Реализация единого входа в приложения с помощью прокси приложения](application-proxy-configure-single-sign-on-with-kcd.md)
