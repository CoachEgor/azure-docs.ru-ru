---
title: Выберите протокол правой федерации для мультитенантного приложения
description: Рекомендации для независимых поставщиков программного обеспечения на интеграцию с Azure Active Directory
services: active-directory
author: barbaraselden
manager: CelesteDG
ms.service: active-directory
ms.subservice: app-mgmt
ms.topic: conceptual
ms.workload: identity
ms.date: 05/22/2019
ms.author: baselden
ms.reviewer: jeeds
ms.collection: M365-identity-device-management
ms.openlocfilehash: 53b315b87200b37cda215a29a65be9babaf54f43
ms.sourcegitcommit: 66237bcd9b08359a6cce8d671f846b0c93ee6a82
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2019
ms.locfileid: "67795197"
---
# <a name="choose-the-right-federation-protocol-for-your-multi-tenant-application"></a>Выберите протокол правой федерации для мультитенантного приложения

При разработке программного обеспечения как услуги (SaaS) приложение, необходимо выбрать протокол федерации, который лучше всего соответствует потребностям свой, так и клиентов. Это решение основано на платформу для разработки и периодичности выпуска для интеграции с данными, доступными в экосистеме клиентов Office 365 и Azure AD.

Полный список см. в разделе [протоколов, доступных для интеграции единого входа](what-is-single-sign-on.md) с Azure Active Directory.
В следующей таблице сравнивается 
* Open Authentication 2.0 (OAuth 2.0)
* Open ID Connect (OIDC)
* Security Assertion Markup Language (SAML)
* Web Services Federation (WSFed)

| Функция| OAuth или OIDC| SAML / WSFed |
| - |-|-|
| Веб единого входа| √| √ |
| Веб-единого выхода| √| √ |
| На базе мобильных технологий единого входа| √| √* |
| На базе мобильных технологий единого выхода| √| √* |
| Политики условного доступа для мобильных приложений| √| X |
| Легкое взаимодействие многофакторной проверки Подлинности для мобильных приложений| √| X |
| Access Microsoft Graph| √| X |

\* Возможно, но корпорация Майкрософт не предоставляет примеры и Общие руководства.

## <a name="oauth-20-and-open-id-connect"></a>OAuth 2.0 и Open ID Connect

OAuth 2.0 — [стандартных](https://oauth.net/2/) протокол для авторизации. OIDC (OpenID Connect) является [отраслевой стандарт](https://openid.net/connect/) уровня проверки подлинности удостоверений, построенный на базе протокола Oath 2.0.

### <a name="benefits"></a>Преимущества

Майкрософт рекомендует использовать OIDC/OAuth 2.0, так как они имеют проверки подлинности и авторизации, встроенной в протоколы. Кроме того, с помощью SAML, необходимо реализовать авторизации.

Авторизация, присущих этих протоколов позволяет вашему приложению для доступа и интеграции с широкими и данным организации через Microsoft Graph API.

С помощью OAuth 2.0 и OIDC упрощает взаимодействие с пользователем ваших заказчиков, при внедрении единого входа для приложения. Можно легко определить необходимые наборы разрешений, которой затем автоматически представлены для администратора или предоставление согласия конечного пользователя.

Кроме того с помощью этих протоколов позволяет клиентам с помощью условного доступа и многофакторной проверки Подлинности политик для управления доступом к приложениям. Корпорация Майкрософт предоставляет библиотеки и [примеры кода на различных платформах для технологии](https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/Samples) для упрощения разработки.  

### <a name="implementation"></a>Реализация

Зарегистрируйте свое приложение с помощью удостоверения Майкрософт, который является поставщиком OAuth 2.0. Может также зарегистрировать приложение на основе OAuth 2.0 с любыми другими поставщиками удостоверений, которую нужно интегрировать с. 

Сведения о том, как зарегистрировать приложение и внедрить эти протоколы для единого входа в веб-приложения, см. в разделе [авторизации доступа к веб-приложений с помощью OpenID Connect и Azure Active Directory](../develop/sample-v2-code.md).  Сведения о том, как внедрить эти протоколы для единого входа в мобильных приложениях см. в следующих: 

* [Android](../develop/quickstart-v2-android.md)

* [iOS](../develop/quickstart-v2-ios.md)

* [Универсальная платформа Windows](../develop/quickstart-v2-uwp.md)

## <a name="saml-20-and-wsfed"></a>SAML 2.0 и WSFed

Security Assertion Markup Language (SAML) обычно используется для веб-приложений. См. в разделе [как Azure использует протокол SAML](../develop/active-directory-saml-protocol-reference.md) Обзор. 

Web Services Federation (WSFed) является [отраслевой стандарт](http://docs.oasis-open.org/wsfed/federation/v1.2/ws-federation.html) обычно используется для веб-приложений, разработанных с помощью платформы .net.

### <a name="benefits"></a>Преимущества

SAML 2.0 — это зрелая стандарт и большинство технологий платформы поддержки библиотек с открытым кодом для SAML 2.0. Клиентам можно предоставить интерфейс администрирования для настройки единого входа SAML. Они могут настроить единый вход SAML для Microsoft Azure AD и любой другой поставщик идентификаторов, который поддерживает SAML 2

### <a name="trade-offs"></a>Преимущества и недостатки

При использовании протоколов SAML 2.0 или WSFed для мобильных приложений, определенные политики условного доступа, включая многофакторную идентификацию (MFA) будет ее возможности будут ограничены. Кроме того Если вы хотите получить доступ к Microsoft Graph, необходимо будет реализовать авторизации с помощью OAuth 2.0 для создания необходимых токенов. 

### <a name="implementation"></a>Реализация

Майкрософт не предоставляют библиотеки для реализации SAML или рекомендуем определенные библиотеки. Доступны многие библиотеки с открытым исходным кодом.

## <a name="sso-and-using-microsoft-graph-rest-api"></a>Единый вход и с помощью Microsoft Graph Rest API 

Microsoft Graph — это структуры данных во всех Microsoft 365, включая Office 365, Windows 10 и Enterprise Mobility и безопасности и дополнительных продуктов, таких как Dynamics 365. Сюда входят основные схемы сущности, такие как пользователей, групп, календарь, почта, файлы и многое другое, пользователя, повышение производительности. Microsoft Graph предлагает три интерфейса для разработчиков REST API на основе подключения данных Microsoft Graph и соединители, которые позволяют разработчикам позволяют добавлять свои собственные данные в Microsoft Graph.  

Использование выше протоколов для единого входа обеспечивает доступ приложения к мультимедийными данными, доступные через Microsoft Graph REST API. Это позволяет клиентам получать больше пользы от своих инвестиций в Microsoft 365. Например приложение может вызвать API Microsoft Graph для интеграции с экземпляра клиентов Office 365 и поверхности пользователей Microsoft Office и SharePoint элементы внутри приложения. 

Если вы используете Open ID Connect для проверки подлинности, а затем процесс разработки не вызывает затруднений, поскольку используется OAuth2, основой Open ID Connect, для получения маркеров может использоваться для вызова API-интерфейсов Microsoft Graph. Если приложение использует SAML или WSFed, необходимо добавить дополнительный код в приложении, чтобы получить эти OAuth2 для получения маркеров, необходимые для вызова API-интерфейсов Microsoft Graph. 

## <a name="next-steps"></a>Следующие шаги

[Включение единого входа для мультитенантного приложения](isv-sso-content.md)

[Создание документации для мультитенантного приложения](isv-create-sso-documentation.md)
