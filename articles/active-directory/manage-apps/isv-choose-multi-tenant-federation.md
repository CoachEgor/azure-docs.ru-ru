---
title: Выберите правильный протокол федерации для мультитенантного приложения
description: Руководство для независимых поставщиков программного обеспечения по интеграции с Active Directory Azure
services: active-directory
author: barbaraselden
manager: CelesteDG
ms.service: active-directory
ms.subservice: app-mgmt
ms.topic: conceptual
ms.workload: identity
ms.date: 05/22/2019
ms.author: baselden
ms.reviewer: jeeds
ms.collection: M365-identity-device-management
ms.openlocfilehash: 3b3edbbe037c3874d639476e516b3732b7573d9b
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "75443373"
---
# <a name="choose-the-right-federation-protocol-for-your-multi-tenant-application"></a>Выберите правильный протокол федерации для вашего мультитенантного приложения

При разработке программного обеспечения в качестве приложения для обслуживания (SaaS) необходимо выбрать протокол федерации, который наилучшим образом отвечает вашим потребностям и потребностям ваших клиентов. Это решение основано на вашей платформе разработки и желании интегрироваться с данными, доступными в экосистеме Office 365 и Azure AD.

Ознакомьтесь с полным списком [протоколов, доступных для интеграции SSO](what-is-single-sign-on.md) с помощью Active Directory Azure.
В следующей таблице сравнивается 
* Открытая аутентификация 2.0 (OAuth 2.0)
* Open ID Connect (OIDC)
* Security Assertion Markup Language (SAML)
* Федерация веб-услуг (WSFed)

| Функция| OAuth / OIDC| SAML / WSFed |
| - |-|-|
| Веб-однозначный вконки| √| √ |
| Веб-однозначный выход| √| √ |
| Мобильный единый вписаться| √| √* |
| Мобильный единый вывесок| √| √* |
| Политики условного доступа для мобильных приложений| √| X |
| Бесшовный опыт МИД для мобильных приложений| √| X |
| Доступ к графику Microsoft| √| X |

Возможно, но корпорация Майкрософт не предоставляет образцы или рекомендации.

## <a name="oauth-20-and-open-id-connect"></a>OAuth 2.0 и Open ID Connect

OAuth 2.0 является [стандартным](https://oauth.net/2/) отраслевым протоколом для авторизации. OIDC (OpenID Connect) — [это стандартный](https://openid.net/connect/) в отрасли уровень аутентификации личности, построенный поверх протокола OAuth 2.0.

### <a name="benefits"></a>Преимущества

Корпорация Майкрософт рекомендует использовать OIDC/OAuth 2.0, поскольку они имеют аутентификацию и авторизацию, встроенные в протоколы. С SAML необходимо дополнительно реализовать авторизацию.

Авторизация, присущая этим протоколам, позволяет приложению получать доступ к богатым пользовательским и организационным данным с помощью API Microsoft Graph.

Использование OAuth 2.0 и OIDC упрощает работу конечных пользователей ваших клиентов при использовании SSO для вашего приложения. Вы можете легко определить необходимые наборы разрешений, которые затем автоматически представляются администратору или конечному пользователю согласия.

Кроме того, использование этих протоколов позволяет вашим клиентам использовать политики условного доступа и МИД для контроля доступа к приложениям. Корпорация Майкрософт предоставляет библиотеки и [образцы кода на нескольких технологических платформах,](https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/Samples) чтобы помочь вашей разработке.  

### <a name="implementation"></a>Реализация

Вы регистрируете свое приложение в корпорации Майкрософт, которая является поставщиком Услуг OAuth 2.0. Затем вы также можете зарегистрировать приложение на основе OAuth 2.0 с любым другим поставщиком идентификационных данных, с которым вы хотите интегрироваться. 

Для получения информации о том, как зарегистрировать приложение и реализовать эти протоколы для SSO для веб-приложений, [см. Авторизовать доступ к веб-приложениям с помощью OpenID Connect и Azure Active Directory.](../develop/sample-v2-code.md)  Информацию о том, как реализовать эти протоколы для SSO в мобильных приложениях, можно узнать следующее: 

* [Android](../develop/quickstart-v2-android.md)

* [iOS](../develop/quickstart-v2-ios.md)

* [Универсальная платформа Windows](../develop/quickstart-v2-uwp.md)

## <a name="saml-20-and-wsfed"></a>SAML 2.0 и WSFed

Язык утверждения безопасности Markup Language (SAML) обычно используется для веб-приложений. [Узнайте, как Azure использует протокол SAML](../develop/active-directory-saml-protocol-reference.md) для просмотра. 

Федерация веб-услуг (WSFed) — [отраслевой стандарт,](https://docs.oasis-open.org/wsfed/federation/v1.2/ws-federation.html) обычно используемый для веб-приложений, разработанных с помощью платформы .Net.

### <a name="benefits"></a>Преимущества

SAML 2.0 является зрелым стандартом, и большинство технологических платформ поддерживают библиотеки с открытым исходным кодом для SAML 2.0. Вы можете предоставить своим клиентам интерфейс администрирования для настройки SAML SSO. Они могут настроить SAML SSO для Microsoft Azure AD и любого другого поставщика идентификационных данных, который поддерживает SAML 2

### <a name="trade-offs"></a>Компромиссы

При использовании протоколов SAML 2.0 или WSFed для мобильных приложений некоторые политики условного доступа, включая Многофакторную аутентификацию (MFA), будут иметь деградированный опыт. Кроме того, если вы хотите получить доступ к Microsoft Graph, вам необходимо реализовать авторизацию через OAuth 2.0 для создания необходимых токенов. 

### <a name="implementation"></a>Реализация

Корпорация Майкрософт не предоставляет библиотеки для реализации SAML и не рекомендует конкретные библиотеки. Есть много библиотек с открытым исходным кодом доступны.

## <a name="sso-and-using-microsoft-graph-rest-api"></a>SSO и использование Microsoft Graph Rest API 

Microsoft Graph — это система данных для всех Microsoft 365, включая Office 365, Windows 10 и Enterprise Mobility and Security, а также дополнительные продукты, такие как Dynamics 365. Это включает в себя основные схемы сущностей, таких как пользователи, группы, календарь, почта, файлы и многое другое, которые управляют производительностью пользователей. Microsoft Graph предлагает три интерфейса для разработчиков на основе REST API, Microsoft Graph данных подключения, и соединители, которые позволяют разработчикам добавлять свои собственные данные в Microsoft Graph.  

Использование любого из вышеперечисленных протоколов для SSO позволяет вашему приложению получить доступ к богатым данным, доступным через Microsoft Graph REST API. Это позволяет вашим клиентам получить больше пользы от своих инвестиций в Microsoft 365. Например, приложение может вызвать API Microsoft Graph для интеграции с экземплярами Office 365 и элементами Microsoft Office и SharePoint в приложении. 

Если вы используете Open ID Connect для проверки подлинности, то ваш опыт разработки является бесшовным, потому что вы будете использовать OAuth2, основу Open ID Connect, для приобретения токенов могут быть использованы для вызывая Microsoft Graph AIS. Если ваше приложение использует SAML или WSFed, необходимо добавить дополнительный код в приложение, чтобы получить эти OAuth2 для приобретения токенов, необходимых для использования AIS Microsoft Graph. 

## <a name="next-steps"></a>Next Steps

[Включение единого входа для мультитенантного приложения](isv-sso-content.md)

[Создание документации для мультитенантного приложения](isv-create-sso-documentation.md)
