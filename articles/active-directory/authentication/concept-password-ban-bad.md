---
title: Динамическая блокировка паролей — Azure Active Directory
description: Блокировка ненадежных паролей в среде с помощью функции динамической блокировки паролей Azure AD
services: active-directory
ms.service: active-directory
ms.subservice: authentication
ms.topic: conceptual
ms.date: 07/11/2018
ms.author: joflore
author: MicrosoftGuyJFlo
manager: daveba
ms.reviewer: rogoya
ms.collection: M365-identity-device-management
ms.openlocfilehash: c043b2ed1a626e362d7edd1a83429aa14046f8ac
ms.sourcegitcommit: c105ccb7cfae6ee87f50f099a1c035623a2e239b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/09/2019
ms.locfileid: "67703061"
---
# <a name="eliminate-bad-passwords-in-your-organization"></a>Исключение неправильных паролей в организации

Лидеров отрасли о том, не следует использовать тот же пароль в нескольких местах, чтобы упростить сложные и не создает простое, например «/ Password123». Как может организациям гарантировать, что их пользователи следуете советы и рекомендации? Как можно их убедитесь, что пользователи не при помощи слабые пароли, или даже вариации на слабые пароли?

Первым шагом в необходимости надежных паролей — рекомендации для пользователей. В настоящее время это руководство Майкрософт можно найти по следующей ссылке:

[Руководство по паролям](https://www.microsoft.com/research/publication/password-guidance)

Наличие хорошее руководство является важным, но даже с мы знаем, что многие пользователи по-прежнему окажутся Выбор слабые пароли. Защита паролей AD Azure защищает вашей организации, обнаружения и блокирования известных ненадежных паролей и их вариантов, а также при необходимости блокирование дополнительные слабые условия, характерные для вашей организации.

Дополнительные сведения о текущей деятельности по обеспечению безопасности см. в этом [отчете корпорации Майкрософт](https://www.microsoft.com/security/operations/security-intelligence-report).

## <a name="global-banned-password-list"></a>Список глобально заблокированных паролей

Команда защиты идентификации Azure AD постоянно анализирует данные телеметрии безопасности Azure AD, просмотра для часто используемых слабой или скомпрометированных паролей, а точнее, слабая к базе данных термины, которые часто используются в качестве основы для ненадежных паролей. При обнаружении таких слабых условия, они добавляются в список глобальных заблокированных паролей. Содержимое списка глобальных заблокированных паролей не основаны на любой внешний источник данных. Список глобальных паролей полностью основано на текущие результаты телеметрии безопасности Azure AD и анализа.

Каждый раз, когда новый пароль изменения или сброса для любого пользователя из любого клиента, в Azure AD, текущая версия список глобальных паролей используется в качестве входных данных при проверке стойкость пароля ключа. Такая проверка приводит к гораздо более надежные пароли для всех клиентов Azure AD.

> [!NOTE]
> Киберпреступники также применяют подобные атаки. Поэтому корпорация Майкрософт публикует содержимое этого списка публично.

## <a name="custom-banned-password-list"></a>пользовательский список заблокированных паролей

В некоторых организациях может потребоваться повысить безопасность еще дальше, добавив свои собственные изменения поверх список глобальных паролей в том, что Microsoft называет список пользовательских паролей. Корпорация Майкрософт рекомендует, что условия, добавить к этому списку в основном занимающихся на условиях организации конкретных такие как:

- Марок
- Названия продуктов
- Расположения (например, головной офис компании)
- Внутренняя условия конкретной компании
- Сокращения, которые имеют то есть компании.

После добавления условия в список пользовательских паролей, они будут добавлены к списку глобальных заблокированных паролей при проверке пароли.

> [!NOTE]
> Список пользовательских паролей ограничено, более 1000 условия. Она не предназначена для блокировки очень большие списки паролей. Чтобы в полной мере использовать преимущества список пользовательских паролей, корпорация Майкрософт рекомендует сначала изучить и понять алгоритм оценки пароля (см. в разделе [пароли Оценка](concept-password-ban-bad.md#how-are-passwords-evaluated)) прежде чем добавлять новые термины пользовательский список запрещенных. Понимание того, как работает алгоритм позволит предприятия для эффективного обнаружения и блокировки большого количества слабые пароли и их вариантов.

Например: рассмотрите возможность клиента с именем «Contoso», основанный в Лондоне, который делает продукт с именем «Мини-приложение». Для таких клиентов было бы дополнительными издержками, а также менее безопасный вариант пытаетесь заблокировать определенные варианты этих терминов, таких как:

- «Contoso! 1»
- "Contoso@London"
- «ContosoWidget»
- "! Contoso»
- «LondonHQ»
- ... д

Вместо этого он гораздо более эффективный и безопасный вариант — блокировать только основные базовые термины:

- «Contoso»
- «Лондон»
- «Мини-приложение»

Затем, алгоритм проверки пароля будет автоматически блокировать слабые варианты и сочетания перечисленных выше.

Пользовательским списком заблокированных паролей и возможностью включения локальной интеграции Active Directory можно управлять на портале Azure.

![Изменить список пользовательских паролей в разделе методов проверки подлинности](./media/concept-password-ban-bad/authentication-methods-password-protection.png)

## <a name="password-spray-attacks-and-third-party-compromised-password-lists"></a>Атаки для взлома пароля Распылитель и списки сторонних скомпрометированных паролей

Один ключ преимущества защиты пароля Azure AD — помочь вам защитить от атак Распылитель пароля. Большинство атак Распылитель пароль не пытайтесь для атаки данной отдельной учетной записи более чем несколько раз, так как такое поведение значительно повышает вероятность обнаружения, с помощью блокировки учетных записей или другими способами. Большая часть атак Распылитель пароль таким образом зависит от того, отправка только небольшое количество известных слабым пароли для каждой из учетных записей на предприятии. Этот метод позволяет злоумышленнику выполнять быстрый поиск учетной записи легко взламываемыми в то же время, как избежать потенциальных пороги обнаружения.

Защита паролей Azure AD позволяет эффективно блокировать все известные слабые пароли, которые могут использоваться в атаках Распылитель пароль, на основе данных телеметрии безопасности, как показано с помощью Azure AD.  Корпорации Майкрософт известно сторонних веб-сайтов, перечисления миллионы паролей, которые были скомпрометированы в предыдущем общеизвестных брешей в системе. Довольно часто для продуктов независимых производителей пароль проверки должен быть основан на сравнении методом грубой силы, этих миллионов пароли. Microsoft считает, что эти методы не лучший способ повышения надежности общий пароль при типичных стратегиях, используемых злоумышленниками Распылитель пароль.

> [!NOTE]
> Microsoft не является список глобальных паролей на основе ни при каких обстоятельствах любых данных сторонних источников, включая списки скомпрометированных паролей.

Несмотря на то, что глобальный список запрещенных Microsoft мал по сравнению с некоторых сторонних массового списков, его влияние на безопасность усиленный тот факт, что он происходит из телеметрии реальную на фактический пароль Распылитель атак, а также тот факт, Microsoft алгоритм проверки пароля использует интеллектуальные методы нечеткого соответствия. Конечным результатом является, что он будет эффективно обнаружения и блокировки миллионы наиболее распространенных простых паролей используется в вашей организации. Пользователи, Добавление терминов, относящихся к организации в список пользовательских паролей также преимущества и тот же алгоритм.

## <a name="on-premises-hybrid-scenarios"></a>Локальные гибридные сценарии

Защита учетных записей только для облака является полезной возможностью, но многие организации поддерживают гибридные сценарии, включая Windows Server Active Directory в локальной среде. Это можно установить защиту пароля Azure AD для Windows Server Active Directory агенты локальной для расширения списки заблокированных паролей в существующую инфраструктуру. Теперь пользователи и администраторы, которые меняют, устанавливают или сбрасывают пароли в локальной среде, обязаны соблюдать ту же политику паролей, что и облачные пользователи.

## <a name="how-are-passwords-evaluated"></a>Оценка паролей

Всякий раз, когда пользователь изменяет или сбрасывает свой пароль, новый пароль проверяется на надежность и сложность, как в глобальном, так и в пользовательском списке запрещенных паролей (если последний настроен).

Даже если пароль пользователя содержит запрещенный пароль, его все еще можно принять, если общий пароль достаточно надежный. Новый настроенный пароль пройдет через следующие шаги, чтобы оценить его общую надежность на принятие или отклонение.

### <a name="step-1-normalization"></a>Шаг 1. Нормализация

Новый пароль сначала проходит через процесс нормализации. Этот метод позволяет небольшой набор запрещенных пароли должны быть сопоставлены с гораздо больший набор потенциально ненадежных паролей.

Нормализация состоит из двух частей.  Во-первых, все прописные буквы меняются на нижний регистр.  Во-вторых, замены общих символов выполняются следующим образом:  

| Исходный символ  | Замененный символ |
| --- | --- |
| "0"  | "o" |
| 1  | "l" |
| "$"  | "s" |
| '\@'  | "а" |

Пример. Предположим, что пароль "blank" запрещен и пользователь пытается сменить пароль на Bl@nK. Несмотря на то что Bl@nk не был конкретно запрещен, процесс нормализации преобразует этот пароль в "blank", который является запрещенным паролем.

### <a name="step-2-check-if-password-is-considered-banned"></a>Шаг 2. Проверка того, является ли пароль заблокированным

#### <a name="fuzzy-matching-behavior"></a>Режим работы нечеткого соответствия

Нечеткое сопоставление используется для нормализованного пароля, чтобы определить, содержит ли он пароль, найденный либо в глобальном, либо в пользовательском списках запрещенных паролей. Процесс сопоставления основан на расстоянии редактирования одного (1) сравнения.  

Пример. Предположим, что пароль "abcdef" запрещен и пользователь пытается сменить пароль на один из следующих.

"abcdeg"     *(последний символ изменен с "f" на "g")* "abcdefg"    *("g" добавлен в конец) * "abcde"      *(завершающий "f" удалено с конца)* .

Каждый из вышеперечисленных паролей не соответствует конкретно запрещенному паролю "abcdef". Тем не менее так как каждый пример — в пределах расстояния редактирования 1 запрещенное термина «abcdef», они считаются как сопоставления буквы «abcdef».

#### <a name="substring-matching-on-specific-terms"></a>Совпадение строк (на определенных условиях)

Совпадение строк используется в нормализованном пароле для проверки имени и фамилии пользователя, а также имени владельца (обратите внимание, что сопоставление имени владельца не выполняется при проверке паролей на контроллере домена Active Directory).

Пример: предположим, что у нас есть пользователь, Pol, который хочет сбросить пароль для «P0l123fb». После нормализации этот пароль станет «pol123fb». Сравнение подстрок находит пароль должен содержать имя пользователя «Pol». Несмотря на то, что «P0l123fb» не была специально на любом из списков заблокированных паролей, сравнение подстрок найден «Pol» в пароле. Таким образом, этот пароль был бы отклонен.

#### <a name="score-calculation"></a>Оценки безопасности

Следующим шагом является идентификация всех экземпляров запрещенных паролей в новом нормализованном пароле пользователя. Затем сделайте следующее:

1. Каждый запрещенный пароль, найденный в пароле пользователя, получает один балл.
2. Каждый оставшийся уникальный символ получает один балл.
3. Пароль должен содержать по крайней мере пять (5) точки для они могут быть приняты.

В следующих двух примерах предположим, что компания Contoso использует защиту паролем Azure AD и имеет "contoso" в своем настраиваемом списке. Предположим также, что "blank" находится в глобальном списке.

Пример. Пользователь изменяет пароль на "C0ntos0Blank12".

После нормализации этот пароль будет выглядеть как "contosoblank12". Процесс сопоставления определяет, что этот пароль содержит запрещенные пароли: "contoso" и "blank". Этот пароль предоставляется оценку:

[contoso] + [пустой] + [1] + [2] = 4 очка поскольку данный пароль точки в разделе пяти (5), он будет отклонен.

Пример. Пользователь изменяет пароль на "ContoS0Bl@nkf9!".

После нормализации этот пароль будет выглядеть как "contosoblankf9". Процесс сопоставления определяет, что этот пароль содержит запрещенные пароли: "contoso" и "blank". Этот пароль предоставляется оценку:

[contoso] + [пустой] + [f] + [9] + [!] = 5 очков, так как этот пароль будет по крайней мере пять (5) точки, он будет принят.

   > [!IMPORTANT]
   > Обратите внимание, что алгоритм запрещенных паролей вместе с глобальным списком может и действительно изменится в любое время в Azure на основе текущего анализа и исследования безопасности. Для службы агента локального контроллера домена обновленные алгоритмы будет действовать только после переустановить программное обеспечение агента DC.

## <a name="license-requirements"></a>Требования лицензий

|   | Защита паролей Azure AD с помощью списка глобально заблокированных паролей | Защита паролей Azure AD с помощью настраиваемого списка заблокированных паролей|
| --- | --- | --- |
| Только пользователи облака | Azure AD уровня "Бесплатный" | Azure AD Premium (P1 или P2) |
| Пользователи, синхронизированные с локальным сервером Windows Server Active Directory | Azure AD Premium (P1 или P2) | Azure AD Premium (P1 или P2) |

> [!NOTE]
> Локальных пользователей Windows Server Active Directory, которые не синхронизированы с Azure Active Directory также воспользоваться преимуществами защиты пароля Azure AD в зависимости от существующих лицензионных для синхронизированных пользователей.

Дополнительные сведения о лицензировании, включая расходы, можно найти на [сайте с ценами на Azure Active Directory](https://azure.microsoft.com/pricing/details/active-directory/).

## <a name="what-do-users-see"></a>Что видят пользователи?

Когда пользователь попытается сбросить пароль на такой, который может быть заблокированным, появится следующее сообщение об ошибке:

К сожалению, ваш пароль содержит слово, фразу или сочетание символов, которые легко угадать. Попробуйте ввести другой пароль.

## <a name="next-steps"></a>Следующие шаги

- [Настройка пользовательского списка заблокированных паролей](howto-password-ban-bad.md)
- [Развертывание предварительной версии защиты паролем Azure AD](howto-password-ban-bad-on-premises-deploy.md)
