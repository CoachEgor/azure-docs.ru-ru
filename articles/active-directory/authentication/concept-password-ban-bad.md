---
title: Динамически запрещенные пароли - Активный каталог Azure
description: Блокировка ненадежных паролей в среде с помощью функции динамической блокировки паролей Azure AD
services: active-directory
ms.service: active-directory
ms.subservice: authentication
ms.topic: conceptual
ms.date: 07/11/2018
ms.author: iainfou
author: iainfoulds
manager: daveba
ms.reviewer: rogoya
ms.collection: M365-identity-device-management
ms.openlocfilehash: ef127d120b32f5344bce0f68d79f48401087f0ce
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79264002"
---
# <a name="eliminate-bad-passwords-in-your-organization"></a>Исключение неправильных паролей в организации

Лидеры отрасли говорят вам не использовать один и тот же пароль в нескольких местах, чтобы сделать его сложным, и не сделать его простым, как "Password123". Как организации могут гарантировать, что их пользователи следуют рекомендациям по наилучшей практике? Как они могут убедиться, что пользователи не используют слабые пароли или даже вариации на слабые пароли?

Первоначальный шаг в том, чтобы более надежные пароли, чтобы обеспечить руководство для ваших пользователей. В настоящее время это руководство Майкрософт можно найти по следующей ссылке:

[Руководство по паролям](https://www.microsoft.com/research/publication/password-guidance)

Имея хорошее руководство важно, но даже с этим мы знаем, что многие пользователи будут по-прежнему в конечном итоге выбор слабых паролей. Azure AD Password Protection защищает вашу организацию, обнаруживая и блокируя известные слабые пароли и их варианты, а также дополнительно блокируя дополнительные слабые термины, характерные для вашей организации.

Дополнительные сведения о текущей деятельности по обеспечению безопасности см. в этом [отчете корпорации Майкрософт](https://www.microsoft.com/security/operations/security-intelligence-report).

## <a name="global-banned-password-list"></a>Список глобально заблокированных паролей

Команда Azure AD Identity Protection постоянно анализирует данные телеметрии безопасности Azure AD, ища часто используемые слабые или скомпрометированные пароли, или, более конкретно, слабые базовые термины, которые часто используются в качестве основы для слабых паролей. При обнаружении таких слабых терминов они добавляются в глобальный список запрещенных паролей. Содержимое глобального списка запрещенных паролей не основано на каком-либо внешнем источнике данных. Глобальный список запрещенных паролей полностью основан на текущих результатах телеметрии и анализа безопасности Azure AD.

Всякий раз, когда новый пароль изменяется или сменяется для любого пользователя в Azure AD, текущая версия глобального списка запрещенных паролей используется в качестве ключевого ввода при проверке силы пароля. Эта проверка приводит к гораздо более сильным паролям для всех клиентов Azure AD.

> [!NOTE]
> Киберпреступники также используют аналогичные стратегии в своих атаках. Поэтому корпорация Майкрософт не публикует содержание этого списка публично.

## <a name="custom-banned-password-list"></a>пользовательский список заблокированных паролей

Некоторые организации могут захотеть еще больше повысить безопасность, добавив свои собственные настройки в верхней части глобального списка запрещенных паролей в том, что Microsoft называет пользовательским списком запрещенных паролей. Корпорация Майкрософт рекомендует, чтобы термины, добавленные в этот список, в первую очередь были ориентированы на организационные термины, такие как:

- Названия брендов
- Названия продуктов
- Места (например, штаб-квартира компании)
- Внутренние условия компании
- Аббревиаты, которые имеют определенное значение компании.

Как только термины будут добавлены в пользовательский список запрещенных паролей, они будут объединены с терминами в глобальном списке запрещенных паролей при проверке паролей.

> [!NOTE]
> Пользовательский список запрещенных паролей ограничен максимум 1000 терминов. Он не предназначен для блокировки очень больших списков паролей. Для того, чтобы в полной мере использовать преимущества пользовательского списка запрещенных паролей, Microsoft рекомендует сначала просмотреть и понять алгоритм оценки паролей [(см. Как оцениваются пароли),](concept-password-ban-bad.md#how-are-passwords-evaluated)прежде чем добавлять новые термины в пользовательский список запрещенных. Понимание того, как работает алгоритм, позволит вашему предприятию эффективно обнаруживать и блокировать большое количество слабых паролей и их вариантов.

Например: рассмотрим клиента по имени "Contoso", который базируется в Лондоне, и что делает продукт под названием "Widget". Для такого клиента было бы расточительно, а также менее безопасно пытаться блокировать конкретные варианты этих терминов, таких как:

- "Контосо!1"
- "Contoso@London"
- "ContosoWidget"
- "! Контосо"
- "ЛондонХз"
- ... и т.д.

Вместо этого гораздо эффективнее и безопаснее блокировать только ключевые базовые термины:

- "Contoso"
- "Лондон"
- "Виджет"

Алгоритм проверки пароля автоматически блокирует слабые варианты и комбинации вышеуказанного.

Пользовательским списком заблокированных паролей и возможностью включения локальной интеграции Active Directory можно управлять на портале Azure.

![Изменение пользовательского списка запрещенных паролей в соответствии с методами аутентификации](./media/concept-password-ban-bad/authentication-methods-password-protection.png)

## <a name="password-spray-attacks-and-third-party-compromised-password-lists"></a>Паролей спрей атак и сторонних скомпрометированных списков паролей

Одним из ключевых преимуществ azure AD для защиты паролей является помощь в защите от атак спрей паролей. Большинство атак спрей паролей не пытаются атаковать любой отдельный счет более чем в несколько раз, так как такое поведение значительно увеличивает вероятность обнаружения, либо с помощью блокировки учетной записи или другими средствами. Таким образом, большинство атак спрей паролей полагаются на отправку лишь небольшого числа известных самых слабых паролей против каждой из учетных записей на предприятии. Этот метод позволяет злоумышленнику быстро искать легко скомпрометированную учетную запись и в то же время избежать потенциальных порогов обнаружения.

Защита паролей Azure AD предназначена для эффективной блокировки всех известных слабых паролей, которые могут быть использованы в атаках спрей паролей, на основе реальных данных телеметрии безопасности, как видно из Azure AD.  Корпорация Майкрософт знает о сторонних веб-сайтах, которые перечислять миллионы паролей, которые были скомпрометированы в предыдущих общеизвестных нарушениях безопасности. Обычно сторонние продукты проверки паролей основываются на сравнении с этими миллионами паролей. Корпорация Майкрософт считает, что такие методы не являются лучшим способом для улучшения общей прочности пароля, учитывая типичные стратегии, используемые злоумышленниками спрей паролей.

> [!NOTE]
> Глобальный список запрещенных паролей Корпорации Майкрософт не основан на каких-либо сторонних источниках данных, включая скомпрометированные списки паролей.

Хотя глобальный список запрещенных Microsoft мал по сравнению с некоторыми списками сторонних навалом, его последствия безопасности усиливаются тем фактом, что он получен из реальной телеметрии безопасности на фактических атаках спрей паролей, плюс тот факт, что Microsoft Алгоритм проверки пароля использует интеллектуальные методы нечеткого соответствия. Конечным результатом является то, что он будет эффективно обнаруживать и блокировать миллионы наиболее распространенных слабых паролей от использования в вашем предприятии. Клиенты, которые решили добавить организационно-специфические термины в пользовательский список запрещенных паролей, также пользуются тем же алгоритмом.

Дополнительная информация о вопросах безопасности на основе паролей может быть рассмотрена на [Вашем Pa$$word не имеет значения.](https://techcommunity.microsoft.com/t5/Azure-Active-Directory-Identity/Your-Pa-word-doesn-t-matter/ba-p/731984)

## <a name="on-premises-hybrid-scenarios"></a>Локальные гибридные сценарии

Защита учетных записей только для облака является полезной возможностью, но многие организации поддерживают гибридные сценарии, включая Windows Server Active Directory в локальной среде. Преимущества защиты паролей Azure AD также могут быть распространены на среду активного каталога Windows Server через установку штатных агентов. Теперь пользователи и администраторы, которые меняют или сменяют пароли в Active Directory, обязаны соблюдать ту же политику паролей, что и пользователи только для облаков.

## <a name="how-are-passwords-evaluated"></a>Оценка паролей

Всякий раз, когда пользователь изменяет или сбрасывает свой пароль, новый пароль проверяется на прочность и сложность, проверяя его в соответствии с комбинированным списком терминов из глобальных и пользовательских списков запрещенных паролей (если последний настроен).

Даже если пароль пользователя содержит запрещенный пароль, его все еще можно принять, если общий пароль достаточно надежный. Новый настроенный пароль пройдет через следующие шаги, чтобы оценить его общую надежность на принятие или отклонение.

### <a name="step-1-normalization"></a>Шаг 1: Нормализация

Новый пароль сначала проходит через процесс нормализации. Этот метод позволяет нанести на карту небольшой набор запрещенных паролей гораздо большему набору потенциально слабых паролей.

Нормализация состоит из двух частей.  Во-первых, все прописные буквы меняются на нижний регистр.  Во-вторых, замены общих символов выполняются следующим образом:  

| Исходный символ  | Замененный символ |
| --- | --- |
| "0"  | "o" |
| 1  | "l" |
| '$'  | "s" |
| '\@'  | "а" |

Пример. Предположим, что пароль "blank" запрещен и пользователь пытается сменить пароль на Bl@nK. Несмотря на то что Bl@nk не был конкретно запрещен, процесс нормализации преобразует этот пароль в "blank", который является запрещенным паролем.

### <a name="step-2-check-if-password-is-considered-banned"></a>Шаг 2: Проверьте, считается ли пароль запрещенным

#### <a name="fuzzy-matching-behavior"></a>Режим работы нечеткого соответствия

Нечеткое сопоставление используется для нормализованного пароля, чтобы определить, содержит ли он пароль, найденный либо в глобальном, либо в пользовательском списках запрещенных паролей. Процесс сопоставления основан на расстоянии редактирования одного (1) сравнения.  

Пример. Предположим, что пароль "abcdef" запрещен и пользователь пытается сменить пароль на один из следующих.

'abcdeg' *(последний символ изменен с 'f' к 'g')* 'abcdefg' *'(g' прилагается до конца)* 'abcde' *(трейлинг 'f' был удален с конца)*

Каждый из вышеперечисленных паролей не соответствует конкретно запрещенному паролю "abcdef". Однако, поскольку каждый пример находится в пределах расстояния отсвасывания от 1 запрещенного термина 'abcdef', все они рассматриваются как матч с "abcdef".

#### <a name="substring-matching-on-specific-terms"></a>Совпадение строк (на определенных условиях)

Совпадение строк используется в нормализованном пароле для проверки имени и фамилии пользователя, а также имени владельца (обратите внимание, что сопоставление имени владельца не выполняется при проверке паролей на контроллере домена Active Directory).

Пример: предположим, что у нас есть пользователь, Пол, который хочет сбросить свой пароль к "P0l123fb". После нормализации этот пароль станет "pol123fb". Подстрока соответствия находит, что пароль содержит имя пользователя "Pol". Несмотря на то, что "P0l123fb" не был конкретно ни в одном из запрещенных список паролей, подстроки соответствия нашли "Пол" в пароле. Таким образом, этот пароль был бы отклонен.

#### <a name="score-calculation"></a>Оценки безопасности

Следующим шагом является идентификация всех экземпляров запрещенных паролей в новом нормализованном пароле пользователя. Затем сделайте следующее:

1. Каждый запрещенный пароль, найденный в пароле пользователя, получает один балл.
2. Каждый оставшийся уникальный символ получает один балл.
3. Пароль должен быть не менее пяти (5) баллов, чтобы он был принят.

В следующих двух примерах предположим, что компания Contoso использует защиту паролем Azure AD и имеет "contoso" в своем настраиваемом списке. Предположим также, что "blank" находится в глобальном списке.

Пример. Пользователь изменяет пароль на "C0ntos0Blank12".

После нормализации этот пароль будет выглядеть как "contosoblank12". Процесс сопоставления определяет, что этот пароль содержит запрещенные пароли: "contoso" и "blank". Этот пароль предоставляется оценку:

«Контозо» » » » » » » » » » 2 » 4 балла, так как этот пароль составляет менее пяти (5) точек, он будет отклонен.

Пример. Пользователь изменяет пароль на "ContoS0Bl@nkf9!".

После нормализации этот пароль будет выглядеть как "contosoblankf9". Процесс сопоставления определяет, что этот пароль содержит запрещенные пароли: "contoso" и "blank". Этот пароль предоставляется оценку:

«Контозо» » » » » » » » » » » » » » » » 5 баллов, так как этот пароль, по крайней мере пять (5) точек, он принимается.

   > [!IMPORTANT]
   > Обратите внимание, что алгоритм запрещенных паролей вместе с глобальным списком может и действительно изменится в любое время в Azure на основе текущего анализа и исследования безопасности. Для службы агентов постоянного тока обновленные алгоритмы вступят в силу только после того, как программное обеспечение агента ПОСТОЯННОГО ТОК будет переустановлено.

## <a name="license-requirements"></a>Требования лицензий

|   | Защита паролей Azure AD с помощью списка глобально заблокированных паролей | Защита паролей Azure AD с помощью настраиваемого списка заблокированных паролей|
| --- | --- | --- |
| Только пользователи облака | Azure AD уровня "Бесплатный" | Azure AD Premium (P1 или P2) |
| Пользователи, синхронизированные с локальным сервером Windows Server Active Directory | Azure AD Premium (P1 или P2) | Azure AD Premium (P1 или P2) |

> [!NOTE]
> Пользователи active Directory Windows Server, которые не синхронизированы с Azure Active Directory, также получают преимущества от защиты паролей Azure AD на основе существующего лицензирования для синхронизированных пользователей.

Дополнительные сведения о лицензировании, включая расходы, можно найти на [сайте с ценами на Azure Active Directory](https://azure.microsoft.com/pricing/details/active-directory/).

## <a name="what-do-users-see"></a>Что видят пользователи?

Когда пользователь попытается сбросить пароль на такой, который может быть заблокированным, появится следующее сообщение об ошибке:

К сожалению, ваш пароль содержит слово, фразу или сочетание символов, которые легко угадать. Попробуйте ввести другой пароль.

## <a name="next-steps"></a>Дальнейшие действия

- [Настройка пользовательского списка заблокированных паролей](howto-password-ban-bad.md)
- [Развертывание предварительной версии защиты паролем Azure AD](howto-password-ban-bad-on-premises-deploy.md)
