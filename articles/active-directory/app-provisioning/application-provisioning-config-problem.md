---
title: Проблема настройки подготовки пользователя к приложению Azure AD Gallery
description: Решение распространенных проблем при настройке подготовки пользователей для приложения из коллекции приложений Azure AD
services: active-directory
documentationcenter: ''
author: msmimart
manager: CelesteDG
ms.assetid: ''
ms.service: active-directory
ms.subservice: app-provisioning
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 09/03/2019
ms.author: mimart
ms.reviewer: asteen
ms.collection: M365-identity-device-management
ms.openlocfilehash: 3955b96e4a7edfc79a229d927523bdd4473409d4
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77522770"
---
# <a name="problem-configuring-user-provisioning-to-an-azure-ad-gallery-application"></a>Проблема при настройке подготовки пользователей для приложения из коллекции Azure AD

При настройке [автоматической подготовки пользователей](user-provisioning.md) для приложения (если она поддерживается) необходимо выполнить определенные инструкции для автоматической подготовки приложения. Затем можно настроить службу подготовки для синхронизации учетных записей пользователей для приложения на портале Azure.

Для начала следует найти руководство по настройке подготовки для вашего приложения. Затем выполните указанные в нем действия, чтобы создать подключение подготовки между приложением и Azure AD. Руководства по настройке для приложений можно найти в [Списке руководств по интеграции приложений SaaS в Azure Active Directory](../saas-apps/tutorial-list.md).

## <a name="how-to-see-if-provisioning-is-working"></a>Как проверить, работает ли развертывание 

После настройки службы большую часть сведений о работе службы можно найти в двух местах:

-   **Создание журналов (предварительный просмотр)** - [Журналы подготовки](../reports-monitoring/concept-provisioning-logs.md?context=azure/active-directory/manage-apps/context/manage-apps-context) записывают все операции, выполняемые службой обеспечения, включая запрос Azure AD для назначенных пользователей, которые находятся в возможности подготовки. запросы целевого приложения на наличие этих пользователей и сравнение объектов пользователя в разных системах. Затем добавьте, измените или отключите учетную запись пользователя в целевой системе на основе сравнения. Вы можете получить доступ к журналам подготовки на портале Azure, выбрав **журналы (предварительный просмотр»** &gt; **приложений для активных** &gt; **каталогов Azure,** то есть в разделе **«Активность».**

-   **Текущее состояние -** Резюме последнего запуска для данного приложения можно увидеть в разделе «Функциональное руководство ** &gt; &gt; \[приложениями\] &gt;для** приложений Azure» в нижней части экрана под настройками службы. В разделе "Текущее состояние" показано, начал ли цикл подготовки к подготовке учетных записей пользователей. Вы можете наблюдать за ходом цикла, видеть, сколько пользователей и групп было подготовлено, и видеть, сколько ролей создано. При наличии каких-либо ошибок, сведения можно найти в журналах «Обеспечение»(. /отчеты-мониторинг/концепция-подготовка-logs.md?context-azure/активный каталог/управление-приложения/контекст/управление-приложения).

## <a name="general-problem-areas-with-provisioning-to-consider"></a>Общие проблемные области при подготовке, которые необходимо учитывать

Ниже приведен список общих проблемных областей, в которые можно углубиться, если у вас есть какие-то идеи.

* [Служба подготовки не запускается](#provisioning-service-does-not-appear-to-start)
* Не удалось сохранить конфигурацию из-за недействительных учетных данных приложения
* [В журналах подготовки говорится, что пользователи «пропущены» и не подготовлены, даже если они назначены](#provisioning-logs-say-users-are-skipped-and-not-provisioned-even-though-they-are-assigned)

## <a name="provisioning-service-does-not-appear-to-start"></a>Служба подготовки не запускается

Предположим, что вы установили параметр **Состояние подготовки** в значение **Вкл** в разделе **Azure Active Directory &gt; Корпоративные приложения &gt; \[Имя приложения\] &gt;Подготовка** портала Azure. Однако при последующей перезагрузке никакие другие сведения о состоянии на этой странице не отображаются. Вполне вероятно, что служба работает, но еще не завершила первоначальный цикл. Проверьте **журналы подготовки,** описанные выше, чтобы определить, какие операции выполняет служба, и есть ли какие-либо ошибки.

>[!NOTE]
>Первоначальный цикл может занять от 20 минут до нескольких часов, в зависимости от размера каталога Azure AD и количества пользователей в области подготовки. Последующие синхронизации после первоначального цикла будут более быстрыми, так как служба обеспечения хранит водяные знаки, которые представляют состояние обеих систем после первоначального цикла, улучшая производительность последующих синхронизаций.
>
>

## <a name="cant-save-configuration-due-to-app-credentials-not-working"></a>Не удалось сохранить конфигурацию из-за недействительных учетных данных приложения

Для подготовки Azure AD требуются действительные учетные данные для подключения к API управления пользователями для этого приложения. Если эти учетные данные не работают или вы их не знаете, обратитесь к руководству по настройке этого приложения, приведенному выше.

## <a name="provisioning-logs-say-users-are-skipped-and-not-provisioned-even-though-they-are-assigned"></a>В журналах подготовки говорится, что пользователи пропущены и не подготовлены, даже если они назначены

Когда пользователь отображается как "пропущенный" в журналах подготовки, очень важно прочитать расширенные детали в сообщении журнала, чтобы определить причину. Ниже приведены распространенные причины и способы устранения ошибок:

- **Настроен фильтр области** **, который фильтрует пользователей на основе значения атрибута**. Для получения дополнительной [Attribute-based application provisioning with scoping filters](../app-provisioning/define-conditional-rules-for-provisioning-user-accounts.md)информации см.

- **Пользователь "не имеет фактических прав".** Если вы видите это сообщение об ошибке, это свидетельствует о наличии проблемы с записью назначения пользователя, которая хранится в Azure AD. Для устранения этой проблемы отмените назначение пользователя (или группы) для приложения и повторно назначьте пользователя (или группу). Для получения дополнительной информации обратитесь [к пользователю или группе в корпоративное приложение.](../manage-apps/assign-user-or-group-access-portal.md)

- **Обязательный атрибут для пользователя отсутствует или его значение не указано.** При настройке подготовки важно просмотреть и настроить сопоставления атрибутов и рабочие процессы, которые определяют, какие свойства пользователя (или группы) передаются из Azure AD в приложение. К ним относится "свойство сопоставления", используемое для уникальной идентификации и сопоставления пользователей или групп между двумя системами. Для получения дополнительной информации [Customizing user provisioning attribute-mappings](../app-provisioning/customize-application-attributes.md)об этом важном процессе см.

  * **Сопоставление атрибутов для групп:** подготовка имени группы и сведений о группе наряду с ее участниками (если поддерживается для некоторых приложений). Эту функциональность можно включить или отключить, включив или **отключив отображение карты** для групповых объектов, показанных во вкладке **«Подготовка».** Если группы подготовки включены, не забудьте просмотреть отображение атрибутов, чтобы убедиться, что соответствующее поле используется для "соответствующего идентификатора". В качестве этого поля может использоваться отображаемое имя или псевдоним электронной почты. Если соответствующее свойство для группы в Azure AD не указано или не заполнено, группа и ее участники не будут подготовлены.

## <a name="next-steps"></a>Дальнейшие действия
[Автоматизация обеспечения и деирование приложений SaaS с помощью active-каталога Azure](user-provisioning.md)
