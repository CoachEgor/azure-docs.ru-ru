---
title: Применить политику именования группы на группах Office 365 — Azure Active Directory | Документация Майкрософт
description: Как настроить политики именования групп Office 365 в Azure Active Directory
services: active-directory
documentationcenter: ''
author: curtand
manager: mtillman
editor: ''
ms.service: active-directory
ms.workload: identity
ms.subservice: users-groups-roles
ms.topic: article
ms.date: 05/06/2019
ms.author: curtand
ms.reviewer: krbain
ms.custom: it-pro;seo-update-azuread-jan
ms.collection: M365-identity-device-management
ms.openlocfilehash: 0c13b95028975c5463217455c940bb84c3867899
ms.sourcegitcommit: 4cdd4b65ddbd3261967cdcd6bc4adf46b4b49b01
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/06/2019
ms.locfileid: "66734784"
---
# <a name="enforce-a-naming-policy-on-office-365-groups-in-azure-active-directory"></a>Применение политики именования групп Office 365 в Azure Active Directory

Чтобы применить соответствующие соглашения об именовании групп Office 365, создаваемых или изменяемых пользователями, настройте политику именования групп для клиентов в Azure Active Directory (Azure AD). Например, политику именования можно использовать, чтобы указать функцию группы, членство, географический регион или создателя группы. Можно также использовать политику именования, чтобы классифицировать группы в адресной книге. Политику можно использовать для запрещения конкретных слов в именах и псевдонимах групп.

> [!IMPORTANT]
> С помощью Azure AD политики именования групп Office 365 требует должен присутствовать, но не обязательно назначьте лицензии Azure Active Directory Premium P1 или лицензии Azure AD Basic EDU для каждого уникального пользователя, который является членом одной или нескольких групп Office 365.

Политика именования применяется при создании или изменении групп, созданных для рабочих нагрузок (например, Outlook, Microsoft Teams, SharePoint, Exchange или службы "Планировщик"). Она применяется к имени и псевдониму группы. Если настроить политику именования в Azure AD и у вас есть политика именования групп Exchange, Azure AD, политика именования применяется в вашей организации.

## <a name="naming-policy-features"></a>Возможности политики именования

Принудительное применение политики именования для групп можно двумя разными способами:

- **Политика добавления префикса или суффикса**. Можно определить префиксы или суффиксы, которые затем автоматически добавляются к именам групп в соответствии с соглашением об именовании (например, в имени группы "ГРП\_РОССИЯ\_Моя группа\_Инженеры", "ГРП\_РОССИЯ\_" — это префикс, а "\_Инженеры" — суффикс). 

- **Настраиваемые запрещенные слова**. Можно передать набор запрещенных слов в вашей организации, которые не должны использоваться в именах групп, созданных пользователями (например, "гендир, зарплата, отдел_кадров").

### <a name="prefix-suffix-naming-policy"></a>Политика добавления префикса или суффикса

Общая структура соглашения об именовании: "префикс[имя_группы]суфикс". Хотя можно определить несколько префиксов и суффиксов, в параметре можно указать только одно значение [имя_группы]. Префиксом или суффиксом может быть фиксированная строка или атрибуты пользователя, например \[Department\], которые заменяются в зависимости от пользователя, создавшего группу. Общая допустимая длина строк префикса и суффикса составляет 53 знака. 

Префиксы и суффиксы могут содержать специальные знаки, которые поддерживаются в имени и псевдониме группы. Какие-либо знаки в префиксе или суффиксе, которые не поддерживаются в псевдониме группы, применяется в имени группы, но удаляются из ее псевдонима. Из-за этого ограничения префиксы и суффиксы, применяемые к имени группы, могут отличаться от тех, которые применяются к ее псевдониму. 

#### <a name="fixed-strings"></a>Фиксированные строки

Строки можно использовать, чтобы упростить проверку и различать группы в глобальном списке адресов, а также в левой области навигации, содержащей ссылки на рабочие нагрузки групп. Зачастую в качестве префиксов используются такие ключевые слова, как "грп\_имя", "\#имя, \_имя".

#### <a name="user-attributes"></a>Атрибуты пользователя

Можно использовать атрибуты, которые помогут вам и вашим пользователям определить, для какого отдела, офиса или географического региона была создана та или иная группа. Например, если вы определите политику именования `PrefixSuffixNamingRequirement = "GRP [GroupName] [Department]"`, и `User’s department = Engineering`, то полученное автоматически имя группы может иметь вид GRP My Group Engineering. Поддерживаются следующие атрибуты Azure AD: \[Department\], \[Company\], \[Office\], \[StateOrProvince\], \[CountryOrRegion \], \[Title\]. Неподдерживаемые атрибуты обрабатываются как фиксированные строки, например \[postalCode\]. Атрибуты расширения и настраиваемые атрибуты не поддерживаются.

Рекомендуется использовать атрибуты, которые имеют значения, указанные для всех пользователей в вашей организации, и не использовать атрибуты с длинными значениями.

### <a name="custom-blocked-words"></a>Настраиваемые запрещенные слова

Список запрещенных слов — это список разделенных запятыми фраз, которые запрещены в именах и псевдонимах групп. Поиск подстрок не выполняется. Для активации сбоя требуется, чтобы имя группы точно содержало одно или несколько настраиваемых запрещенных слов. Поиск подстрок не выполняется, поэтому пользователи могут использовать распространенные слова, например "Работа", даже если слово "бот" запрещено.

Правила списка запрещенных слов:

- Регистр запрещенных слов не учитывается.
- Когда пользователь вводит запрещенное слово в имени группы, отображается сообщение об ошибке, содержащее запрещенное слово.
- Ограничения знаков в запрещенных словах отсутствуют.
- В список запрещенных слов можно добавить не более 5000 фраз. 

### <a name="administrator-override"></a>Переопределение администратора

Выбранные администраторы могут быть исключены из этих политик во всех рабочих нагрузках и конечных точках групп, чтобы они могли создавать группы, используя запрещенные слова и свои соглашения об именовании. Ниже приведен список ролей администратора, исключенных из политики именования групп.

- Глобальный администратор.
- "Partner Tier 1 Support" (Поддержка для партнеров уровня 1);
- "Partner Tier 2 Support" (Поддержка для партнеров уровня 2);
- Администратор пользователей
- создатели каталогов;

## <a name="configure-naming-policy-in-azure-portal"></a>Настройка политики именования на портале Azure

1. Войдите в [Центр администрирования Azure AD](https://aad.portal.azure.com) с учетной записью администратора пользователей.
1. Чтобы открыть страницу политики именования, выберите **Группы**, а затем — **Политика именования**.

    ![Открытие страницы "Политика именования" в центре администрирования](./media/groups-naming-policy/policy.png)

### <a name="view-or-edit-the-prefix-suffix-naming-policy"></a>Просмотр или изменение политики именования добавления префикса или суффикса

1. На странице **Политика именования** выберите **Политика именования групп**.
1. Текущие политики изменения префикса или суффикса можно просматривать и изменять по отдельности, выбрав атрибуты или строки, которые необходимо применить в рамках политики именования.
1. Чтобы удалить префикс или суффикс из списка, выберите его, а затем нажмите **Удалить**. При этом можно удалить несколько элементов одновременно.
1. Сохранить изменения для новой политики вступить в силу, выбрав **Сохранить**.

### <a name="edit-custom-blocked-words"></a>Изменить настраиваемые запрещенные слова

1. На странице **Политика именования** выберите **Заблокированные слова**.

    ![Изменение и передача списка запрещенных слов для политики именования](./media/groups-naming-policy/blockedwords.png)

1. Для просмотра или изменения текущего списка настраиваемых запрещенных слов выберите **Загрузить**.
1. Передайте новый список настраиваемых запрещенных слов, щелкнув значок файла.
1. Сохранить изменения для новой политики вступить в силу, выбрав **Сохранить**.

## <a name="install-powershell-cmdlets"></a>Установка командлетов PowerShell

Обязательно удалите все старые версии Azure Active Directory PowerShell для модуля Graph для Windows PowerShell и установите [общедоступную предварительную версию Azure Active Directory PowerShell для Graph 2.0.0.137](https://www.powershellgallery.com/packages/AzureADPreview/2.0.0.137), прежде чем выполнять команды PowerShell.

1. Запустите приложение Windows PowerShell от имени администратора.
2. Удалите все предыдущие версии AzureADPreview.
  
   ``` PowerShell
   Uninstall-Module AzureADPreview
   ```

3. Установите последнюю версию AzureADPreview.
  
   ``` PowerShell
   Install-Module AzureADPreview
   ```

   При появлении запроса о доступе к ненадежного репозитория введите **Y**. Установка нового модуля может занять несколько минут.

## <a name="configure-naming-policy-in-powershell"></a>Настройка политики именования в PowerShell

1. Откройте окно Windows PowerShell на компьютере. Его можно открыть без более высокого уровня привилегий.

1. Выполните следующие команды, чтобы подготовить среду к выполнению командлетов.
  
   ``` PowerShell
   Import-Module AzureADPreview
   Connect-AzureAD
   ```

   На открывшемся экране **Вход в учетную запись** введите учетную запись администратора и пароль, чтобы подключиться к службе, затем выберите **Войти**.

1. Чтобы создать параметры группы для этого клиента, выполните инструкции в статье [Настройка параметров групп с помощью командлетов Azure Active Directory](groups-settings-cmdlets.md).

### <a name="view-the-current-settings"></a>Просмотр текущих параметров

1. Получите текущую политику именования, чтобы просмотреть действующие настройки.
  
   ``` PowerShell
   $Setting = Get-AzureADDirectorySetting -Id (Get-AzureADDirectorySetting | where -Property DisplayName -Value "Group.Unified" -EQ).id
   ```
  
1. Отобразите на экране текущие параметры групп.
  
   ``` PowerShell
   $Setting.Values
   ```
  
### <a name="set-the-naming-policy-and-custom-blocked-words"></a>Установка политики именования и настраиваемых запрещенных слов

1. Задайте префиксы и суффиксы имен групп в PowerShell для Azure AD. Для правильной работы функции включите [имя_группы] в параметр.
  
   ``` PowerShell
   $Setting["PrefixSuffixNamingRequirement"] =“GRP_[GroupName]_[Department]"
   ```
  
1. Задайте настраиваемые запрещенные слова. В следующем примере показано, как можно добавить собственные настраиваемые слова.
  
   ``` PowerShell
   $Setting["CustomBlockedWordsList"]=“Payroll,CEO,HR"
   ```
  
1. Сохраните параметры для новой политики вступить в силу, такие как в следующем примере.
  
   ``` PowerShell
   Set-AzureADDirectorySetting -Id (Get-AzureADDirectorySetting | where -Property DisplayName -Value "Group.Unified" -EQ).id -DirectorySetting $Setting
   ```
  
Вот и все. Вы настроили политику именования и добавили запрещенные слова.

## <a name="export-or-import-custom-blocked-words"></a>Экспорт или Импорт настраиваемых запрещенных слов

Дополнительные сведения см. в статье [Настройка параметров групп с помощью командлетов Azure Active Directory](groups-settings-cmdlets.md).

Ниже приведен пример сценария PowerShell для экспорта нескольких запрещенных слов:

``` PowerShell
$Words = (Get-AzureADDirectorySetting).Values | Where-Object -Property Name -Value CustomBlockedWordsList -EQ 
Add-Content "c:\work\currentblockedwordslist.txt" -Value $words.value.Split(",").Replace("`"","")  
```

Ниже приведен пример сценария PowerShell для импорта нескольких запрещенных слов.

``` PowerShell
$BadWords = Get-Content "C:\work\currentblockedwordslist.txt"
$BadWords = [string]::join(",", $BadWords)
$Settings = Get-AzureADDirectorySetting | Where-Object {$_.DisplayName -eq "Group.Unified"}
if ($Settings.Count -eq 0)
    {$Template = Get-AzureADDirectorySettingTemplate | Where-Object {$_.DisplayName -eq "Group.Unified"}
    $Settings = $Template.CreateDirectorySetting()
    New-AzureADDirectorySetting -DirectorySetting $Settings
    $Settings = Get-AzureADDirectorySetting | Where-Object {$_.DisplayName -eq "Group.Unified"}}
$Settings["CustomBlockedWordsList"] = $BadWords
Set-AzureADDirectorySetting -Id $Settings.Id -DirectorySetting $Settings 
```

## <a name="remove-the-naming-policy"></a>Удаление политики именования

### <a name="remove-the-naming-policy-using-azure-portal"></a>Удалить политику именования, с помощью портала Azure

1. На странице **Политика именования** выберите **Удалить политику**.
1. После подтверждения удаления, политика именования, в том числе все политики добавления префикса или суффикса и настраиваемые запрещенные слова, будут удалены.

### <a name="remove-the-naming-policy-using-azure-ad-powershell"></a>Удалить политику именования, с помощью Azure AD PowerShell

1. Удалите префиксы и суффиксы имен групп в PowerShell для Azure AD.
  
   ``` PowerShell
   $Setting["PrefixSuffixNamingRequirement"] =""
   ```
  
1. Удалите настраиваемые запрещенные слова
  
   ``` PowerShell
   $Setting["CustomBlockedWordsList"]=""
   ```
  
1. Сохраните параметры.
  
   ``` PowerShell
   Set-AzureADDirectorySetting -Id (Get-AzureADDirectorySetting | where -Property DisplayName -Value "Group.Unified" -EQ).id -DirectorySetting $Setting
   ```

## <a name="experience-across-office-365-apps"></a>Взаимодействие между приложениями Office 365

После того, как политика именования групп была задана в Azure AD, когда пользователь создает группу в приложении Office 365, он видит следующее.

- Предварительное имя в соответствии с политикой именования (с префиксами и суффиксами), отображаемое по мере ввода имени группы.
- Если пользователь введет запрещенные слова, он увидит сообщение об ошибке и сможет удалить эти слова.

Рабочая нагрузка | Соответствие требованиям
----------- | -------------------------------
Порталы Azure Active Directory | На портале Azure AD и портале панели доступа отображается имя в соответствии с политикой, когда пользователь вводит его в поле имени группы при создании или изменении группы. Когда пользователь вводит настраиваемое запрещенное слово, отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
Outlook Web Access (OWA) | Outlook Web Access отображает имя в соответствии с политикой именования, когда пользователь вводит имя или псевдоним группы. Когда пользователь вводит настраиваемое запрещенное слово, в пользовательском интерфейсе отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
Классическое приложение Outlook | Группы, созданные в классическом приложении Outlook, соответствуют параметрам политики именования. Классическое приложение Outlook еще не отображает предварительное имя группы и не возвращает ошибки из-за настраиваемых запрещенных слов, когда пользователь вводит имя группы. Однако политика именования применяется автоматически при создании или изменении группы, и пользователи видят сообщения об ошибках, если имя или псевдоним группы содержит настраиваемые запрещенные слова.
Microsoft Teams | Microsoft Teams отображает имя группы в соответствии с политикой именования, когда пользователь вводит имя команды. Когда пользователь вводит настраиваемое запрещенное слово, отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
SharePoint  |  SharePoint отображает имя в соответствии с политикой именования, когда пользователь вводит имя сайта или адрес электронной почты группы. Когда пользователь вводит настраиваемое запрещенное слово, отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
Microsoft Stream; | Microsoft Stream отображает имя в соответствии с политикой именования групп, когда пользователь вводит имя группы или псевдоним электронной почты для группы. Когда пользователь вводит настраиваемое запрещенное слово, отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
Приложение Outlook для iOS и Android | Группы, созданные в приложениях Outlook, соответствуют настроенной политике именования. Мобильное приложение Outlook еще не отображает предварительное имя в соответствии с политикой именования и не возвращает ошибки из-за настраиваемых запрещенных слов, когда пользователь вводит имя группы. Однако политика именования применяется автоматически при нажатии кнопки "Создать" или "Изменить", и пользователи видят сообщения об ошибках, если имя или псевдоним группы содержит настраиваемые запрещенные слова.
Мобильное приложение Groups | Группы, созданные в мобильном приложении Groups, соответствуют политике именования. Мобильное приложение Groups не отображает предварительное имя в соответствии с политикой именования и не возвращает ошибки из-за настраиваемых запрещенных слов, когда пользователь вводит имя группы. Однако политика именования применяется автоматически при создании или изменении группы, и пользователи видят соответствующие сообщения об ошибках, если имя или псевдоним группы содержит настраиваемые запрещенные слова.
Planner | Служба "Планировщик" соответствует требованиям политики именования. Служба "Планировщик" отображает предварительное имя в соответствии с политикой именования при вводе имени плана. Когда пользователь вводит настраиваемое запрещенное слово при создании плана, отображается сообщение об ошибке.
Dynamics 365 for Customer Engagement | Dynamics 365 for Customer Engagement соответствует требованиям политики именования. Dynamics 365 for Customer Engagement отображает имя в соответствии с политикой именования, когда пользователь вводит имя или псевдоним электронной почты для группы. Когда пользователь вводит настраиваемое запрещенное слово, отображается сообщение об ошибке с этим словом, чтобы пользователь мог удалить его.
School Data Sync (SDS) | Группы, созданные с помощью SDS, соответствуют политике именования, но политика именования не применяется автоматически. Администраторам SDS следует добавить префиксы и суффиксы в имена классов, для которых нужно создать группы, и затем передать их в SDS. В противном случае создание или изменение группы завершится сбоем.
Outlook Customer Manager (OCM) | Outlook Customer Manager соответствует требованиям политики именования, которая автоматически применяется к группам, создаваемым в Outlook Customer Manager. При обнаружении настраиваемого запрещенного слова создание группы в OCM блокируется, и пользователь не может использовать приложение OCM.
Приложение Classroom | Группы, созданные в приложении Classroom, соответствуют политике именования, но она не применяется автоматически, и предварительное имя в соответствии с политикой именования не отображается для пользователей при вводе имени группы аудиторий. Пользователи должны ввести имя группы аудиторий с префиксами и суффиксами в соответствии с политикой. В противном случае операция создания или изменения группы аудиторий завершится сбоем.
Power BI | Рабочие области Power BI соответствуют требованиям политики именования.    
Yammer | Если пользователь выполнил вход в Yammer с помощью учетной записи Azure Active Directory, это приводит к созданию группы или изменению имени имеющейся группы в соответствии с политикой именования. Это применимо к подключенным группам Office 365 и всем остальным группам Yammer.<br>При создании группы, подключенной к Office 365, до активации политики именования имя группы не будет автоматически соответствовать политикам именования. Если пользователь изменяет имя группы, появится запрос на добавление префикса и суффикса.
StaffHub  | Команды StaffHub не соответствуют политике именования, но базовая группа Office 365 соответствует ей. В имени команды StaffHub не используются префиксы и суффиксы и не проверяется наличие настраиваемых запрещенных слов. Но в StaffHub используются префиксы и суффиксы и удаляются запрещенные слова из базовой группы Office 365.
PowerShell для Exchange | Командлеты PowerShell для Exchange соответствуют требованиям политики именования. Пользователи видят соответствующие сообщения об ошибках, содержащие предлагаемые префиксы и суффиксы, а также настраиваемые запрещенные слова, если что-либо в имени или псевдониме группы (mailNickname) не соответствует политике именования.
Командлеты PowerShell для Azure Active Directory | Командлеты PowerShell для Azure Active Directory соответствуют требованиям политики именования. Пользователи видят соответствующие сообщения об ошибках, содержащие предлагаемые префиксы и суффиксы, а также настраиваемые запрещенные слова, если не следуют соглашению об именовании в именах или псевдонимах групп.
Центр администрирования Exchange | Центр администрирования Exchange соответствует требованиям политики именования. Пользователи видят соответствующие сообщения об ошибках, содержащие предлагаемые префиксы и суффиксы, а также настраиваемые запрещенные слова, если не следуют соглашению об именовании в имени или псевдониме группы.
Центр администрирования Microsoft 365 | Центр администрирования Microsoft 365 соответствует требованиям политики именования. При пользователь создает или изменяет имена групп, политика именования применяется автоматически, и пользователи будут видеть соответствующие сообщения об ошибках при вводе настраиваемых запрещенных слов. В центре администрирования Microsoft 365 еще не отображает окно предварительного просмотра политики именования и не возвращает ошибки настраиваемых запрещенных слов, когда пользователь вводит имя группы.

## <a name="next-steps"></a>Дальнейшие действия

В следующих статьях содержатся дополнительные сведения о группах Azure AD.

- [Просмотр существующих групп](../fundamentals/active-directory-groups-view-azure-portal.md)
- [Политика истечения срока действия для групп Office 365](groups-lifecycle.md)
- [Управление параметрами группы](../fundamentals/active-directory-groups-settings-azure-portal.md)
- [Управление участниками группы](../fundamentals/active-directory-groups-members-azure-portal.md)
- [Управление членством в группе](../fundamentals/active-directory-groups-membership-azure-portal.md)
- [Управление динамическими правилами для пользователей в группе](groups-dynamic-membership.md)
