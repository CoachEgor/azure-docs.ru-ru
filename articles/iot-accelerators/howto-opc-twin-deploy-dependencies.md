---
title: Как развернуть облачные зависимости OPC Twin в Azure Документы Майкрософт
description: В этой статье описывается, как развертывать зависимости OPC Twin Azure, необходимые для локальной разработки и отладки.
author: dominicbetts
ms.author: dobett
ms.date: 11/26/2018
ms.topic: conceptual
ms.service: industrial-iot
services: iot-industrialiot
manager: philmea
ms.openlocfilehash: 231d1efa02ec80e8ad56a8895d4262d774480111
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "73824103"
---
# <a name="deploying-dependencies-for-local-development"></a>Развертывание зависимостей для локального развития

В этой статье объясняется, как развертывать только службы платформы Azure, необходимые для локальной разработки и отладки.   В конце будет развернута группа ресурсов, которая содержит все необходимое для локальной разработки и отладки.

## <a name="deploy-azure-platform-services"></a>Развертывание служб платформы Azure

1. Убедитесь, что у вас установлены расширения PowerShell и [AzureRM PowerShell.](https://docs.microsoft.com/powershell/azure/azurerm/install-azurerm-ps)  Откройте командный запрос или терминал и запустите:

   ```bash
   git clone https://github.com/Azure/azure-iiot-components
   cd azure-iiot-components
   ```

   ```bash
   deploy -type local
   ```

2. Следуйте запросам, чтобы назначить имя группе ресурсов для развертывания.  Скрипт развертывает только зависимости этой группы ресурсов в подписке Azure, но не микрослужбы.  Скрипт также регистрирует приложение в Active Directory Azure.  Это необходимо для поддержки аутентификации на основе OAUTH.  Развертывание может занять несколько минут.

3. После завершения скрипта можно выбрать для сохранения файла .env.  Файл среды .env — это файл конфигурации всех служб и инструментов, которые вы хотите запустить на машине разработки.  

## <a name="troubleshooting-deployment-failures"></a>Устранение сбоев в развертывании

### <a name="resource-group-name"></a>Имя группы ресурсов

Убедитесь, что вы используете короткое и простое имя группы ресурсов.  Имя используется также для именования ресурсов как таковых, которые должны соответствовать требованиям именования ресурсов.  

### <a name="azure-active-directory-aad-registration"></a>Регистрация Активного каталога Azure (AAD)

Скрипт развертывания пытается зарегистрировать приложения AAD в Active Directory Azure.  В зависимости от ваших прав на выбранного арендатора AAD, это может привести к сбою.   Доступны три параметра:

1. Если вы выбрали арендатора AAD из списка арендаторов, перезапустите скрипт и выберите другой из списка.
2. Кроме того, развернуть частный арендатор AAD, перезапустить скрипт и выбрать его для его использования.
3. Продолжить без проверки подлинности.  Поскольку вы работаете ваши микро-услуги локально, это приемлемо, но не имитирует производственные среды.  

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы успешно развернули службы OPC Twin для существующего проекта, вот следующий шаг:

> [!div class="nextstepaction"]
> [Узнайте о том, как развернуть модули OPC Twin](howto-opc-twin-deploy-modules.md)
