---
title: Развертывание облачных зависимостей OPC двойника в Azure | Документация Майкрософт
description: В этой статье описывается развертывание зависимостей Azure для OPC двойника, необходимых для локальной разработки и отладки.
author: dominicbetts
ms.author: dobett
ms.date: 11/26/2018
ms.topic: conceptual
ms.service: industrial-iot
services: iot-industrialiot
manager: philmea
ms.openlocfilehash: 231d1efa02ec80e8ad56a8895d4262d774480111
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "73824103"
---
# <a name="deploying-dependencies-for-local-development"></a>Развертывание зависимостей для локальной разработки

В этой статье объясняется, как развернуть только службы платформы Azure, необходимые для локальной разработки и отладки.   В итоге будет развернута группа ресурсов, содержащая все необходимое для локальной разработки и отладки.

## <a name="deploy-azure-platform-services"></a>Развертывание служб платформы Azure

1. Убедитесь, что установлены расширения PowerShell PowerShell и [AzureRM](https://docs.microsoft.com/powershell/azure/azurerm/install-azurerm-ps) .  Откройте командную строку или терминал и выполните следующую команду:

   ```bash
   git clone https://github.com/Azure/azure-iiot-components
   cd azure-iiot-components
   ```

   ```bash
   deploy -type local
   ```

2. Следуйте инструкциям на экране, чтобы назначить имя группе ресурсов для развертывания.  Сценарий развертывает только зависимости в этой группе ресурсов в подписке Azure, но не на микрослужбах.  Скрипт также регистрирует приложение в Azure Active Directory.  Это необходимо для поддержки проверки подлинности на основе OAUTH.  Развертывание может занять несколько минут.

3. После завершения сценария можно сохранить файл. env.  Файл среды. env — это файл конфигурации всех служб и средств, которые требуется запускать на компьютере разработки.  

## <a name="troubleshooting-deployment-failures"></a>Устранение неполадок при развертывании

### <a name="resource-group-name"></a>Имя группы ресурсов

Убедитесь, что используется короткое и простое имя группы ресурсов.  Имя также используется для присвоения имен ресурсам, которые должны соответствовать требованиям к именованию ресурсов.  

### <a name="azure-active-directory-aad-registration"></a>Регистрация Azure Active Directory (AAD)

Сценарий развертывания пытается зарегистрировать приложения AAD в Azure Active Directory.  В зависимости от ваших прав на выбранного клиента AAD это может привести к сбою.   Доступны три параметра:

1. Если вы выбрали клиент AAD из списка клиентов, перезапустите сценарий и выберите другой из списка.
2. Кроме того, можно развернуть частный клиент AAD, перезапустить сценарий и выбрать его для использования.
3. Продолжить без проверки подлинности.  Так как вы используете микрослужбы локально, это приемлемо, но не имитирует рабочие среды.  

## <a name="next-steps"></a>Дальнейшие шаги

Теперь, когда службы двойника OPC успешно развернуты в существующем проекте, мы предлагаем следующий шаг:

> [!div class="nextstepaction"]
> [Дополнительные сведения о развертывании модулей двойника OPC](howto-opc-twin-deploy-modules.md)
