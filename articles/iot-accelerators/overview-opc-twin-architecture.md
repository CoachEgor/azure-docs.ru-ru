---
title: Архитектура OPC Twin — Azure | Документация Майкрософт
description: Архитектура двойника OPC
author: dominicbetts
ms.author: dobett
ms.date: 11/26/2018
ms.topic: overview
ms.service: industrial-iot
services: iot-industrialiot
manager: philmea
ms.openlocfilehash: 6ce9394f3d454bda5ead51f2c77a47db137a5136
ms.sourcegitcommit: f10ae7078e477531af5b61a7fe64ab0e389830e8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/05/2019
ms.locfileid: "67606181"
---
# <a name="opc-twin-architecture"></a>Архитектура двойника OPC

На приведенных ниже схемах изображена архитектура двойника OPC.

## <a name="discover-and-activate"></a>Обнаружение и активация

1. Оператор запускает сканирование сети в модуле или выполняет однократное обнаружение с помощью URL-адреса обнаружения. Сведения об обнаруженных конечных точках и приложении отправляются как данные телеметрии к агенту подключения для обработки.  Агент подключения устройства на основе унифицированной архитектуры OPC обрабатывает события обнаружения сервера на основе унифицированной архитектуры OPC, отправленные модулем IoT Edge двойника OPC в режиме обнаружения или сканирования. События обнаружения приводят к регистрации приложения и обновлению реестра устройства на основе унифицированной архитектуры OPC.

   ![Принцип работы двойника OPC](media/overview-opc-twin-architecture/opc-twin1.png)

1. Оператор проверяет сертификат обнаруженной конечной точки и активирует зарегистрированный двойник конечной точки для доступа. 

   ![Принцип работы двойника OPC](media/overview-opc-twin-architecture/opc-twin2.png)

## <a name="browse-and-monitor"></a>Обзор и мониторинг

1. После активации оператор с помощью REST API службы двойника может просматривать или проверять информационную модель сервера, читать и записывать переменные объекта или вызывать методы.  Пользователь использует упрощенный API-интерфейс на основе унифицированной архитектуры OPC, выраженный полностью в HTTP и JSON.

   ![Принцип работы двойника OPC](media/overview-opc-twin-architecture/opc-twin3.png)

1. Интерфейс REST службы двойника позволяет также создавать отслеживаемые элементы и подписки в издателе OPC. Издатель OPC позволяет отправлять данные телеметрии из серверных систем на основе унифицированной архитектуры OPC в Центр Интернета вещей. Дополнительные сведения об издателе OPC см. в [этой статье](overview-opc-publisher.md).

   ![Принцип работы двойника OPC](media/overview-opc-twin-architecture/opc-twin4.png)
