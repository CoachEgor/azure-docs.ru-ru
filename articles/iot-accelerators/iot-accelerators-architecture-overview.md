---
title: Эталонная архитектура акселераторов решений Интернета вещей в Azure | Документация Майкрософт
description: Сведения об эталонной архитектуре акселераторов решений Интернета вещей Azure. Существующие акселераторы решений используют эту эталонную архитектуру. Эталонную архитектуру также можно использовать при создании собственных настраиваемых решений Интернета вещей.
author: dominicbetts
ms.author: dobett
ms.date: 12/04/2018
ms.topic: conceptual
ms.custom: mvc
ms.service: iot-accelerators
services: iot-accelerators
manager: philmea
ms.openlocfilehash: ba5eb50dcf800c186124db348ac584ff6f55cebb
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61450319"
---
# <a name="introduction-to-the-azure-iot-reference-architecture"></a>Общие сведения об эталонной архитектуре Интернета вещей Azure

В этой статье описывается [эталонная архитектура Интернета вещей Azure](https://aka.ms/iotrefarchitecture) и приводятся примеры того, как [акселераторы решений Интернета вещей Azure](about-iot-accelerators.md) следуют ее рекомендациям.

Акселераторы решений [удаленного мониторинга](iot-accelerators-remote-monitoring-sample-walkthrough.md) и [подключенной фабрики](iot-accelerators-connected-factory-sample-walkthrough.md) с открытым исходным кодом соответствуют многим рекомендациям эталонной архитектуры. Вы можете использовать акселератор решений либо в качестве отправной точки для своего собственного решения Интернета вещей, либо в качестве инструментов обучения.

## <a name="overview"></a>Обзор

Эталонная архитектура описывает элементы решения Интернета вещей (например, принципы технологии, состав служб Интернета вещей Azure) и устройства. Архитектура также предоставляет рекомендации по технологиям реализации.

На самом высоком уровне вы можете рассматривать решение Интернета вещей как состоящее из следующего:

* Действий, которые создают и отправляют данные телеметрии, например измерения и события. В акселераторе решения для удаленного мониторинга такие устройства, как грузовые автомобили или лифты, отправляют данные телеметрии.
* Аналитические сведения, полученные из телеметрии, отправленной с вещей. В акселераторе решения для удаленного мониторинга правило создает аналитические сведения. Например, правило может определить, когда температура в подсистеме достигает порогового значения.
* Действия, основанные на аналитических сведениях, помогают улучшить бизнес или процесс. В акселераторе решения для удаленного мониторинга действие по электронной почте может уведомить оператора о потенциальной проблеме с подсистемой.

[Эталонная архитектура Интернета вещей Azure](https://aka.ms/iotrefarchitecture) является реальным обновлением документа по мере развития технологии.

## <a name="core-subsystems"></a>Подсистемы ядра

Эталонная архитектура идентифицирует подсистемы ядра, показанные на следующей диаграмме.

![Подсистемы ядра](media/iot-accelerators-architecture-overview/CoreSubsystems.png)

В следующих разделах описывается, как компоненты акселератора решения для удаленного мониторинга сопоставляются основным подсистемам.

### <a name="iot-devices"></a>Устройства Интернета вещей

Решение Интернета вещей должно обеспечивать безопасную, эффективную и надежную связь между практически любым типом устройства и облачным шлюзом. Устройства — это бизнес-ресурсы, которые варьируются от простых датчиков температуры к сложным производственным линиям с сотнями компонентов и датчиков.

Полевой шлюз или пограничное устройство — это специализированное устройство или программное обеспечение общего назначения, которое может действовать следующим образом.

* Средство связи для обработки преобразования протокола.
* Локальная система управления устройством и центр обработки телеметрии устройства. Пограничное устройство может обрабатывать данные телеметрии локально для управления устройствами без связи с облаком. Пограничное устройство также может фильтровать или агрегировать телеметрию устройства, чтобы уменьшить объем телеметрии, передаваемой в облако.

В решении для удаленного мониторинга устройства подключаются к центру Интернета вещей и отправляют данные телеметрии для обработки. Решение для удаленного мониторинга также позволяет операторам управлять устройствами с помощью заданий или автоматического управления устройствами. С помощью пакетов SDK для устройств Azure IoT можно реализовывать устройства.

Решение для удаленного мониторинга может развертывать и управлять устройствами IoT Edge. Обработка на границе помогает уменьшить объем телеметрии, отправляемой в облако, и ускорить реакцию на события устройства.

### <a name="cloud-gateway"></a>Облачный шлюз

Облачный шлюз позволяет обмениваться данными между обычными и пограничными устройствами. Эти устройства могут быть на различных удаленных сайтах.

Шлюз управляет связью устройства, включая управление соединением, защиту канала связи, проверку подлинности и авторизацию. Шлюз также обеспечивает соблюдение подключения и пропускной способности квот и собирает данные телеметрии, используемые для выставления счетов, диагностики и других задач мониторинга.

Решение для удаленного мониторинга развертывает центр Интернета вещей, чтобы обеспечить безопасную конечную точку для устройств, на которые отправляются данные телеметрии. Центр Интернета вещей также:

* включает хранилище идентификатора устройства для управления устройствами, которым разрешено подключаться к решению;
* активирует решение для отправки команд на устройства (например, открытие клапана, чтобы освободить давление);
* активирует массовое управление устройством (например, обновление встроенного ПО в наборе устройств).

### <a name="stream-processing"></a>Потоковая обработка

Поскольку решение принимает телеметрию, важно понимать, как может меняться поток обработки телеметрии. В зависимости от сценария записи данных могут проходить через различные этапы.

* Хранилище, например, кэши и временные очереди в памяти, и постоянные архивы.

* Анализ, чтобы выполнять телеметрию ввода через набор условий и создавать различные записи выходных данных. Например, телеметрия ввода, закодированная в Avro, может возвращать телеметрию вывода, закодированную в формате JSON.

* Исходные записи телеметрии ввода и выходных данных анализа обычно сохраняются и остаются доступными для отображения. Записи телеметрии ввода и записи выходных данных также могут запускать такие действия, как электронная почта, билеты инцидентов и команды устройств.

Маршрутизация может отправлять данные телеметрии на одну или несколько конечных точек хранения, процессов анализа и действий. Решение может объединять этапы в разных порядках и обрабатывать их одновременно выполняемыми параллельными задачами.

Решение для удаленного мониторинга использует [Azure Stream Analytics](/azure/stream-analytics/) для обработки потока данных. Механизм правил в решении использует запросы Stream Analytics для создания оповещений и действий. Например, решение может использовать запрос, чтобы определить, когда средняя температура в секции хранения грузовика в течение пяти минут падает ниже 36 градусов.

### <a name="storage"></a>Хранилище

Решения Интернета вещей могут создавать большие объемы данных, которые часто являются данными временных рядов. Эти данные должны храниться там, где они могут быть использованы для визуализации и отчетности. Позже решению также может потребоваться доступ к данным для анализа или дополнительной обработки. Существует разделение данных на теплое и автономное неструктурированное защищенное хранилище данных. Теплое хранилище данных содержит последние данные для доступа с низкой задержкой. Автономное неструктурированное защищенное хранилище данных обычно содержит архивные данные.

Решение для удаленного мониторинга использует [Аналитику временных рядов](/azure/time-series-insights/) в качестве теплого хранилища данных и Cosmos DB — как автономное неструктурированное защищенное хранилище данных.

### <a name="ui-and-reporting-tools"></a>Средства пользовательского интерфейса и создания отчетов

Пользовательский интерфейс решения может предоставить:

* доступ к результатам данных устройства и анализа, а также их визуализацию;
* обнаружение устройств через реестр;
* контроль и управление устройствами;
* рабочие процессы подготовки устройств;
* уведомления и оповещения;
* интеграцию с помощью активных, интерактивных панелей мониторинга для отображения данных из большого количества устройств;  
* службы географического расположения и распознавания расположения.

Решение для удаленного мониторинга включает в себя веб-интерфейс для использования этих возможностей. Веб-интерфейс включает:

* интерактивную карту для отображения положения устройств;
* доступ к обозревателю службы "Аналитика временных рядов" для создания запроса и анализа данных телеметрии.

### <a name="business-integration"></a>Интеграция бизнес-процессов

Уровень интеграции бизнес-процессов обеспечивает интеграцию решения Интернета вещей с такими бизнес-системами, как CRM и ERP, и бизнес-приложениями. Примеры включают выставление счетов за услуги, поддержку клиентов и поставку запасных частей.

При выполнении условия решение для удаленного мониторинга использует правила для отправки сообщений электронной почты. Например, решение может известить оператора о том, что температура в грузовике понизилась до 36 градусов.

## <a name="next-steps"></a>Дальнейшие действия

В этой статье вы узнали об эталонной архитектуре Интернета вещей Azure и увидели несколько примеров того, как акселератор решения для удаленного мониторинга следует ее рекомендациям. Следующий шаг — чтение статьи [Microsoft Azure IoT Reference Architecture](https://aka.ms/iotrefarchitecture) (Эталонная архитектура Центра интернета вещей Microsoft Azure).