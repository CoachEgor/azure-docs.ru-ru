---
title: Общие IP-адреса в Azure DevTest Labs | Документация Майкрософт
description: Узнайте, как с помощью общих IP-адресов в Azure DevTest Labs минимизировать количество общедоступных IP-адресов, необходимых для доступа к виртуальным машинам лаборатории.
services: devtest-lab,virtual-machines,lab-services
documentationcenter: na
author: spelluru
manager: femila
ms.assetid: ''
ms.service: lab-services
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/17/2018
ms.author: spelluru
ms.openlocfilehash: e7080901118dde33ed07c8a80f254b9b0d2e221c
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60623040"
---
# <a name="understand-shared-ip-addresses-in-azure-devtest-labs"></a>Общие IP-адреса в Azure DevTest Labs

Azure DevTest Labs позволяет виртуальным машинам лаборатории совместно использовать тот же общедоступный IP-адрес, чтобы минимизировать количество общедоступных IP-адресов, необходимых для доступа к отдельным виртуальным машинам лаборатории.  В этой статье описывается принцип работы общих IP-адресов и варианты их настройки.

## <a name="shared-ip-setting"></a>Настройка общих IP-адресов

Когда создается лаборатория, она размещается в подсети виртуальной сети.  При создании этой подсети параметру **Enable shared public IP** (Включить совместное использование общедоступного IP-адреса) по умолчанию задается значение *Yes* (Да).  При такой конфигурации создается общедоступный IP-адрес для всей подсети.  Дополнительные сведения о настройке виртуальных сетей и подсетей см. в статье [Настройка виртуальной сети в Azure DevTest Labs](devtest-lab-configure-vnet.md).

![Создание подсети лаборатории](media/devtest-lab-shared-ip/lab-subnet.png)

Вы можете включить этот параметр для всех имеющихся лабораторий, выбрав **Configuration and Policies (Конфигурация и политики) > Virtual Networks (Виртуальные сети)**. Затем выберите виртуальную сеть из списка и выберите **ENABLE SHARED PUBLIC IP** (Включить совместное использование общедоступного IP-адреса) для выбранной подсети. Можно также отключить этот параметр в любой лаборатории, если вы не хотите совместно использовать общедоступный IP-адрес на виртуальных машинах лаборатории.

На всех виртуальных машинах, созданных в этой лаборатории, по умолчанию используется общий IP-адрес.  При создании виртуальной машины этот параметр отображается в колонке **Дополнительные параметры** в разделе **Настройка IP-адреса**.

![Создание виртуальной машины](media/devtest-lab-shared-ip/new-vm.png)

- **Общий доступ:** Все виртуальные машины, созданные как **Shared** помещаются в одну группу ресурсов (группа Ресурсов). Этой группе ресурсов назначается отдельный IP-адрес, который будут использовать все виртуальные машины.
- **Общедоступные**. Каждой виртуальной Машины, созданные имеет собственный IP-адрес и создается в собственной группе ресурсов.
- **Частные**. Каждой виртуальной Машины, созданные использует частный IP-адрес. Вы не сможете подключиться к этой виртуальной машины напрямую из Интернета с помощью удаленного рабочего стола.

При каждом добавлении виртуальной Машины с включенным общим IP-подсети, DevTest Labs автоматически добавляет виртуальную Машину в подсистему балансировки нагрузки и назначает номер TCP-порта на общедоступный IP-адрес перенаправления к порту RDP на виртуальной Машине.  

## <a name="using-the-shared-ip"></a>Использование общего IP-адреса

- **Пользователи Linux:** SSH к виртуальной Машине с помощью IP-адрес или полное доменное имя, за которым следует двоеточие, за которой номер порта. Например, на приведенном ниже рисунке таким адресом RDP для подключения к виртуальной машине является `doclab-lab13998814308000.centralus.cloudapp.azure.com:51686`.

  ![Пример виртуальной машины](media/devtest-lab-shared-ip/vm-info.png)

- **Пользователи Windows:** Выберите **Connect** кнопку на портале Azure, чтобы скачать предварительно настроенный RDP-файл и получить доступ к виртуальной Машине.

## <a name="next-steps"></a>Дальнейшие действия

* [Управление всеми политиками лаборатории в Azure DevTest Labs](devtest-lab-set-lab-policy.md)
* [Настройка виртуальной сети в Azure DevTest Labs](devtest-lab-configure-vnet.md)





