---
title: Общие IP-адреса в Azure DevTest Labs | Документация Майкрософт
description: Узнайте, как с помощью общих IP-адресов в Azure DevTest Labs минимизировать количество общедоступных IP-адресов, необходимых для доступа к виртуальным машинам лаборатории.
services: devtest-lab,virtual-machines,lab-services
documentationcenter: na
author: spelluru
manager: femila
ms.assetid: ''
ms.service: lab-services
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/12/2019
ms.author: spelluru
ms.openlocfilehash: f7c9feedddab1aea031cb3a8879e868aae04df00
ms.sourcegitcommit: 2ce4f275bc45ef1fb061932634ac0cf04183f181
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2019
ms.locfileid: "65236852"
---
# <a name="understand-shared-ip-addresses-in-azure-devtest-labs"></a>Общие IP-адреса в Azure DevTest Labs

Azure DevTest Labs позволяет виртуальным машинам лаборатории совместно использовать тот же общедоступный IP-адрес, чтобы минимизировать количество общедоступных IP-адресов, необходимых для доступа к отдельным виртуальным машинам лаборатории.  В этой статье описывается принцип работы общих IP-адресов и варианты их настройки.

## <a name="shared-ip-setting"></a>Настройка общих IP-адресов

Когда вы создаете лабораторию, он будет создан в подсети виртуальной сети.  При создании этой подсети параметру **Enable shared public IP** (Включить совместное использование общедоступного IP-адреса) по умолчанию задается значение *Yes* (Да).  При такой конфигурации создается общедоступный IP-адрес для всей подсети.  Дополнительные сведения о настройке виртуальных сетей и подсетей см. в статье [Настройка виртуальной сети в Azure DevTest Labs](devtest-lab-configure-vnet.md).

![Создание подсети лаборатории](media/devtest-lab-shared-ip/lab-subnet.png)

Вы можете включить этот параметр для всех имеющихся лабораторий, выбрав **Configuration and Policies (Конфигурация и политики) > Virtual Networks (Виртуальные сети)**. Затем выберите виртуальную сеть из списка и выберите **ENABLE SHARED PUBLIC IP** (Включить совместное использование общедоступного IP-адреса) для выбранной подсети. Можно также отключить этот параметр в любой лаборатории, если вы не хотите совместно использовать общедоступный IP-адрес на виртуальных машинах лаборатории.

На всех виртуальных машинах, созданных в этой лаборатории, по умолчанию используется общий IP-адрес.  При создании виртуальной Машины, этот параметр можно наблюдать в **Дополнительные параметры** странице в разделе **конфигурацию IP-адресов**.

![Создание виртуальной машины](media/devtest-lab-shared-ip/new-vm.png)

- **Общий доступ:** Все виртуальные машины, созданные как **Shared** помещаются в одну группу ресурсов (группа Ресурсов). Этой группе ресурсов назначается отдельный IP-адрес, который будут использовать все виртуальные машины.
- **Общедоступные**. Каждой виртуальной Машины, созданные имеет собственный IP-адрес и создается в собственной группе ресурсов.
- **Частные**. Каждой виртуальной Машины, созданные использует частный IP-адрес. Не удается подключиться к этой виртуальной Машины непосредственно из Интернета с помощью удаленного рабочего стола.

При каждом добавлении виртуальной Машины с включенным общим IP-подсети, DevTest Labs автоматически добавляет виртуальную Машину в подсистему балансировки нагрузки и назначает номер TCP-порта на общедоступный IP-адрес перенаправления к порту RDP на виртуальной Машине.  

## <a name="using-the-shared-ip"></a>Использование общего IP-адреса

- **Пользователи Linux:** SSH к виртуальной Машине с помощью IP-адрес или полное доменное имя, за которым следует двоеточие, за которой номер порта. Например, на приведенном ниже рисунке таким адресом RDP для подключения к виртуальной машине является `mydevtestlab597975021002.eastus.cloudapp.azure.com:50661`.

  ![Пример виртуальной машины](media/devtest-lab-shared-ip/vm-info.png)

- **Пользователи Windows:** Выберите **Connect** кнопку на портале Azure, чтобы скачать предварительно настроенный RDP-файл и получить доступ к виртуальной Машине.

## <a name="next-steps"></a>Дальнейшие действия

* [Управление всеми политиками лаборатории в Azure DevTest Labs](devtest-lab-set-lab-policy.md)
* [Настройка виртуальной сети в Azure DevTest Labs](devtest-lab-configure-vnet.md)





