---
title: Краткое руководства по настройке лаборатории для служб лаборатории Azure
description: Это руководство поможет создателям лабораторий быстро настроить учетную запись лаборатории для использования в учебном заведении.
ms.topic: article
ms.date: 06/26/2020
ms.openlocfilehash: f7423a76fd3ceb238c8c5c1a4ea794ff83b28b4a
ms.sourcegitcommit: b4880683d23f5c91e9901eac22ea31f50a0f116f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/11/2020
ms.locfileid: "94491670"
---
# <a name="lab-setup-guide"></a>Руководства по настройке лаборатории

Процесс публикации лаборатории для учащихся может занять до нескольких часов.  Количество времени зависит от числа виртуальных машин, которые будут созданы в лаборатории. Разрешите в течение дня настройку лаборатории, чтобы убедиться, что она работает правильно, и достаточно времени для публикации виртуальных машин учащихся.

## <a name="understand-the-lab-requirements-of-your-class"></a>Обдумайте требования к лаборатории для вашего класса

Прежде чем начать заниматься установкой лаборатории, подумайте над следующими вопросами.

### <a name="what-software-requirements-does-the-class-have"></a>Какие требования к программному обеспечению есть у класса?

Исходя из целей обучения класса, определите, какие операционные системы, приложения и средства должны быть установлены на виртуальных машинах лаборатории. Для настройки виртуальных машин лаборатории доступны три варианта:

- **Образ Azure Marketplace**. Azure Marketplace предоставляет сотни образов, которые можно использовать при создании лаборатории. Может оказаться, что один из этих образов уже содержит все необходимое для вашего класса.

- **Создание собственного образа**. Вы можете создать собственный пользовательский образ, опираясь на образ из Azure Marketplace, и настроить его путем установки дополнительного программного обеспечения и внесения изменений в конфигурацию.

- **Использование существующего готового образа**. Вы можете повторно использовать созданные ранее пользовательские образы, или образы, созданные другими администраторами или преподавателями в вашем учебном заведении. Чтобы использовать пользовательские образы, администратору необходимо настроить общую коллекцию образов.  Коллекция общих образов — это репозиторий, который используется для сохранения пользовательских образов.

> [!NOTE]
> Вашим администраторам необходимо обеспечить включение образов Azure Marketplace и пользовательских образов для дальнейшего использования. Согласуйте использование образов с ИТ-отделом, чтобы убедиться в том, что нужные образы включены. Пользовательские образы автоматически включаются в созданные вами лаборатории.

### <a name="what-hardware-requirements-does-the-class-have"></a>Какие требования к оборудованию есть у класса?

Существует несколько различных размеров вычислений, которые можно выбрать.

- Вложенные размеры виртуализации позволяют предоставить учащимся доступ к виртуальной машине, на которой может размещаться несколько вложенных виртуальных машин. Например, этот размер вычислений можно использовать для сетевых или злонамеренных классов.

- Формат GPU, чтобы учащиеся могли использовать ресурсоемкие приложения. Например, этот вариант часто используется в искусственном интеллекте и машинном обучении.

Рекомендации по выбору подходящего размера виртуальной машины см. в следующих статьях:
- [Изменение размера виртуальной машины](https://docs.microsoft.com/azure/lab-services/classroom-labs/administrator-guide#vm-sizing)
- [Переход от физической лабораторной среды к службам лаборатории Azure](https://techcommunity.microsoft.com/t5/azure-lab-services/moving-from-a-physical-lab-to-azure-lab-services/ba-p/1654931)

> [!NOTE]
> Число доступных форматов вычислительных ресурсов зависит от региона вашей лаборатории. Как правило, следует выбирать наименьший формат ресурсов, ближе всего подходящий для ваших нужд. При необходимости в службах лаборатории Azure можно настроить новую лабораторию с другой емкостью вычислений.

### <a name="what-dependencies-does-the-class-have-on-external-azure-or-network-resources"></a>Какие зависимости к внешним ресурсам Azure или сети имеются у класса?
Виртуальным машинам лаборатории может потребоваться доступ к внешним ресурсам, таким как доступ к базе данных, общей папке или серверу лицензирования.  Чтобы разрешить виртуальным машинам лаборатории использовать внешние ресурсы, согласуйте их с ИТ администраторами.

> [!NOTE]
> Следует подумать о том, можно ли сократить зависимости лаборатории от сторонних ресурсов, предоставив замену непосредственно на виртуальной машине. Например, чтобы исключить необходимость чтения данных из внешней базы данных, можно установить ее напрямую на виртуальной машине.  

### <a name="how-will-costs-be-controlled"></a>Что делать с затратами?
В службах лаборатории применяется модель оплаты по мере использования. Это означает, что вы платите только за время работы виртуальной машины лаборатории. Для управления затратами можно использовать три варианта, которые обычно используются вместе:

- **Расписание** : Расписание позволяет автоматически управлять запуском и завершением работы виртуальных машин лаборатории.
- **Квота**. Квота определяет количество часов, в течение которых учащиеся будут иметь доступ к виртуальной машине вне расписания.  Когда учащийся использует виртуальную машину и достигается их квота, виртуальная машина автоматически завершает работу.  Виртуальную машину невозможно будет перезапустить без увеличения квоты.
- **Автозавершение работы**. при включении автоматического завершения работы виртуальные машины Windows автоматически завершаются после отключения учащихся от сеанса протокол удаленного рабочего стола (RDP). По умолчанию этот параметр отключен.

Дополнительные сведения см. в следующих статьях:
- [Оценка затрат](https://docs.microsoft.com/azure/lab-services/cost-management-guide#estimate-the-lab-costs)
- [Управление затратами](https://docs.microsoft.com/azure/lab-services/cost-management-guide#manage-costs)

### <a name="how-will-students-save-their-work"></a>Как учащиеся будут сохранять свои работы?
Каждому из учащихся назначается собственная виртуальная машина, которая будет использоваться в течение жизненного цикла лаборатории. Учащиеся могут по выбору:

- Сохранять данные непосредственно на виртуальной машине.
- Загружать работы на сторонний сайт, например OneDrive или GitHub.

Можно настроить автоматическую загрузку на OneDrive для учащихся на виртуальных машинах лаборатории.

> [!NOTE]
> Чтобы учащиеся не теряли доступ к сохраненной работе за пределами лаборатории по окончанию класса, мы рекомендуем, чтобы они сохраняли свои работы во внешнем репозитории.

### <a name="how-will-students-connect-to-their-vm"></a>Как студенты будут подключаться к своей виртуальной машине?
Для виртуальных машин удаленного рабочего стола Windows рекомендуется использовать [клиент "Удаленный рабочий стол"](https://docs.microsoft.com/windows-server/remote/remote-desktop-services/clients/remote-desktop-clients) от Майкрософт. Удаленный рабочий стол клиент поддерживает Mac, ноутбуки Chromebook и Windows.

Для виртуальных машин Linux учащиеся могут использовать либо SSH, либо RDP. Для подключения учащихся с помощью протокола RDP необходимо установить и настроить необходимые пакеты RDP и GUI.

### <a name="will-students-also-be-using-microsoft-teams"></a>Будут ли учащиеся также использовать Microsoft Teams?
Службы лаборатории Azure интегрируются с Microsoft Teams, чтобы преподаватели могли создавать свои лаборатории и управлять ими в рамках групп.  Аналогичным образом учащиеся могут получить доступ к лабораторию внутри группы.

Дополнительные сведения см. в следующей статье:
- [Службы лаборатории Azure в Microsoft Teams](https://docs.microsoft.com/azure/lab-services/lab-services-within-teams-overview)

## <a name="set-up-your-lab"></a>Установка и настройка лаборатории

После того как вы прояснили все требования класса, можно начать заниматься установкой. Перейдите по ссылкам в данной секции, чтобы узнать больше о настройке лаборатории.  Обратите внимание, что в зависимости от того, используются ли лабораторные работы в рабочих группах, задаются различные действия.

1. **Создание лаборатории.** Ознакомьтесь с учебниками по созданию лаборатории.
    - [Создайте лабораторную](https://docs.microsoft.com/azure/lab-services/classroom-labs/tutorial-setup-classroom-lab#create-a-classroom-lab) среду для получения инструкций.
    - [Создание лаборатории с помощью Teams](https://docs.microsoft.com/azure/lab-services/how-to-get-started-create-lab-within-teams)

    > [!NOTE]
    > Если вашему классу требуется вложенная виртуализация, вы найдете инструкции в разделе [Включение вложенной виртуализации](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-enable-nested-virtualization-template-vm).

1. **Настройка образов и публикация виртуальных машин лаборатории.** Подключитесь к специальной виртуальной машине, которая называется шаблонной. Действуйте по инструкциям, описанным в приведенных ниже статьях.
    - [Создание и управление шаблонной виртуальной машиной](https://docs.microsoft.com/azure/lab-services/classroom-labs/tutorial-setup-classroom-lab#publish-the-template-vm)
    - [Использование общей галереи образов](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-use-shared-image-gallery)

    > [!NOTE]
    > Если вы используете Windows, вам пригодится руководство по [созданию шаблонной машины на Windows](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-prepare-windows-template). В этих руководствах также содержится информация по подключению OneDrive и Office для использования учащимися.

1. **Управления пулом и емкостью виртуальных машин.** Можно легко масштабировать или управлять емкостью виртуальной машины в зависимости от нужд класса. Помните, что увеличение емкости виртуальной машины может занять несколько часов, так как выполняется настройка новых виртуальных машин. См. инструкции в следующих статьях:
    - [Настройка пула виртуальных машин и управление им](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-set-virtual-machine-passwords)
    - [Управление пулом виртуальных машин в службах лаборатории из рабочих групп](https://docs.microsoft.com/azure/lab-services/how-to-manage-vm-pool-within-teams)

1. **Добавление и управление пользователями лаборатории.** Чтобы добавить пользователей в вашу лабораторию, воспользуйтесь следующими руководствами.
   - [Добавление пользователей в лабораторию](https://docs.microsoft.com/azure/lab-services/classroom-labs/tutorial-setup-classroom-lab#add-users-to-the-lab)
   - [Отправка приглашений пользователям](https://docs.microsoft.com/azure/lab-services/classroom-labs/tutorial-setup-classroom-lab#send-invitation-emails-to-users)
   - [Управление списками пользователей служб лаборатории с командами](https://docs.microsoft.com/azure/lab-services/how-to-manage-user-lists-within-teams)

    Чтобы узнать о типах учетных записей, которые могут использовать учащиеся, перейдите на страницу [Учетные записи учащихся](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-configure-student-usage#student-accounts).
  
1. **Управление затратами.** Для управления затратами лаборатории установите расписания, квоты и автозавершение работы. Ознакомьтесь со следующими руководствами:

   - [Настройка расписания](https://docs.microsoft.com/azure/lab-services/classroom-labs/tutorial-setup-classroom-lab#set-a-schedule-for-the-lab)

        > [!NOTE]
        > В зависимости от типа установленной операционной системы для запуска виртуальной машины может потребоваться несколько минут. Чтобы убедиться, что виртуальная машина лаборатории готова к использованию в течение запланированных часов, рекомендуется запустить виртуальные машины на 30 минут раньше.

   - [Установка квот для пользователей](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-configure-student-usage#set-quotas-for-users) и [ дополнительных квот для конкретного пользователя](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-configure-student-usage#set-additional-quotas-for-specific-users)
  
   - [Активация автоматического отключения при потере связи](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-enable-shutdown-disconnect)

        > [!NOTE]
        > Расписания и квоты не применяются к шаблонной виртуальной машине, доступны только параметры автоматического завершения работы. 
        > 
        > При создании лаборатории будет создана шаблонная виртуальная машина, однако она не будет запущена. В дальнейшем ее можно будет запустить, подключиться к ней и установить необходимое программное обеспечение, а затем опубликовать ее. При публикации шаблонной виртуальной машины она автоматически выключится, если вы забыли это сделать самостоятельно. 
        > 
        > Работа шаблона виртуальной машины **оплачивается** , поэтому всегда останавливайте этот шаблон, пока он вам не нужен.

    - [Создание расписаний служб лаборатории и управление ими в командах](https://docs.microsoft.com/azure/lab-services/how-to-create-schedules-within-teams) 

1. **Использование панели управления.** Ознакомьтесь с инструкциями по [использованию панели управления лаборатории](https://docs.microsoft.com/azure/lab-services/classroom-labs/use-dashboard).

    > [!NOTE]
    > Оценочная стоимость, показанная на панели мониторинга, — это прогнозируемая максимальная стоимость использования в зависимости от количества учащихся в лаборатории. Например, вы *не будете платить* за неиспользованную квоту часов. В оценочных затратах *не* учитываются расходы на использование виртуальной машины шаблона, коллекции общих образов или когда создатель лаборатории запускает компьютер пользователя.

## <a name="next-steps"></a>Дальнейшие действия

- [Отслеживание использования лаборатории для аудитории](tutorial-track-usage.md)
  
- [Доступ к лаборатории для аудитории](tutorial-connect-virtual-machine-classroom-lab.md)
