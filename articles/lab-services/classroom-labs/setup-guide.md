---
title: Краткое справочное руководства по настройке лаборатории для служб лаборатории Azure
description: Это руководства поможет авторам лабораторий быстро настроить учетную запись лаборатории для использования в учебном заведении.
services: lab-services
documentationcenter: na
author: spelluru
manager: ''
editor: ''
ms.service: lab-services
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 3/18/2020
ms.author: spelluru
ms.openlocfilehash: e00b6dd5af1cb489aee9e8b4c9f3337eb02e4b14
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "80878108"
---
# <a name="classroom-lab-setup-guide"></a>Руководства по настройке лаборатории для занятий

Процесс публикации лаборатории для учащихся может занять до нескольких часов в зависимости от числа виртуальных машин, которые будут созданы в лаборатории. Разрешите в течение дня настройку лаборатории, чтобы убедиться в том, что она работает правильно и достаточно времени для публикации виртуальных машин учащихся.

## <a name="understand-the-lab-requirements-of-your-class"></a>Общие сведения о требованиях к лаборатории для вашего класса

Перед настройкой новой лабораторной работы следует рассмотреть следующие вопросы.

### <a name="what-software-requirements-does-the-class-have"></a>Какие требования к программному обеспечению есть у класса?

Исходя из целей обучения класса, определите, какая операционная система, приложения и средства должны быть установлены на виртуальных машинах лаборатории. Для настройки виртуальных машин лаборатории доступны три варианта:

- **Использование образа Azure Marketplace**. Azure Marketplace предоставляет сотни образов, которые можно использовать при создании лаборатории. Для некоторых классов один из этих образов уже может содержать все необходимое для вашего класса.

- **Создание нового пользовательского образа**. Вы можете создать собственный пользовательский образ с помощью образа Azure Marketplace в качестве отправной точки и настроить его путем установки дополнительного программного обеспечения и внесения изменений в конфигурацию.

- **Использование существующего пользовательского образа**. Вы можете повторно использовать существующие пользовательские образы, созданные ранее или созданные другими администраторами или преподавателями в вашем учебном заведении. Для этого администратору необходимо настроить общую галерею образов, которая является репозиторием для сохранения пользовательских образов.

> [!NOTE]
> Ваши администраторы несут ответственность за включение образов Azure Marketplace и пользовательских образов, чтобы их можно было использовать. Согласуйте с ИТ-отделом, чтобы убедиться в том, что нужные образы включены. Создаваемые пользовательские образы автоматически включаются в собственные лабораторные работы.

### <a name="what-hardware-requirements-does-the-class-have"></a>Какие требования к оборудованию имеет класс?

Вы можете выбрать различные размеры вычислений:

- Вложенные размеры виртуализации позволяют предоставить учащимся доступ к виртуальной машине, которая может размещать несколько вложенных виртуальных машин. Например, этот размер вычислений можно использовать для сетевых курсов.

- Размеры GPU, чтобы учащиеся могли использовать ресурсоемкие компьютерные типы приложений. Например, этот вариант может быть пригоден для искусственного интеллекта и машинного обучения.

Полный список доступных размеров вычислений см. в руководстве по [размерам виртуальных машин](https://docs.microsoft.com/azure/lab-services/classroom-labs/administrator-guide#vm-sizing) .

> [!NOTE]
> В зависимости от региона лаборатории можно увидеть меньше доступных размеров вычислений, так как это зависит от региона. Как правило, следует выбирать наименьший размер вычислений, ближайший к вашим потребностям. При необходимости в службах лаборатории Azure можно настроить новую лабораторию с другой емкостью вычислений.

### <a name="what-dependencies-does-the-class-have-on-external-azure-or-network-resources"></a>Какие зависимости применяют класс к внешним ресурсам Azure или сети?

Если виртуальным машинам лаборатории необходимо использовать внешние ресурсы, такие как база данных, файловый ресурс или сервер лицензирования, необходимо координировать работу администраторов, чтобы убедиться, что Лаборатория имеет доступ к этим ресурсам.

Для доступа к ресурсам Azure, которые *не* защищены виртуальной сетью, не требуется выполнять поиск дополнительных настроек администраторами. Доступ к этим ресурсам можно получить через общедоступный Интернет.

> [!NOTE]
> Следует подумать о том, можно ли сократить зависимости лаборатории до внешних ресурсов, предоставив ресурс непосредственно на виртуальной машине. Например, чтобы исключить необходимость чтения данных из внешней базы данных, можно установить базу данных непосредственно на виртуальной машине.  

### <a name="how-will-costs-be-controlled"></a>Как будут контролироваться затраты?

В службах лаборатории используется модель ценообразования с оплатой по мере использования. Это означает, что вы платите только за время запуска виртуальной машины лаборатории. Для управления затратами можно использовать три варианта, которые обычно используются совместно друг с другом:

- **Расписание**: Расписание позволяет автоматически управлять запуском и завершением работы виртуальных машин лаборатории.
- **Квота**. квота определяет количество часов, в течение которых учащиеся будут иметь доступ к виртуальной машине за пределами запланированных часов. Если квота достигнута во время использования учащегося, виртуальная машина автоматически завершает работу. Студент не может перезапустить виртуальную машину, пока не будет увеличена квота.
- **Автоматическое завершение работы**. Если этот параметр включен, виртуальные машины Windows автоматически завершают работу по истечении определенного промежутка времени после отключения учащегося от сеанса протокол удаленного рабочего стола (RDP). Эта функция отключена по умолчанию.  

    > [!NOTE]
    > Этот параметр сейчас существует только для Windows.

### <a name="how-will-students-save-their-work"></a>Как студенты будут сохранять свою работу?

Каждому из учащихся назначается собственная виртуальная машина, которая назначается им в течение жизненного цикла лаборатории. Они могут выбрать следующее:

- Сохраните данные непосредственно на виртуальной машине.
- Сохраните данные во внешнем расположении, например в OneDrive или GitHub.

Можно автоматически настроить OneDrive для учащихся на виртуальных машинах лаборатории.

> [!NOTE]
> Чтобы слушатели продолжали получать доступ к сохраненной работе за пределами лабораторной работы, а после окончания класса мы рекомендуем, чтобы студенты сохраняли свою работу во внешнем репозитории.

### <a name="how-will-students-connect-to-their-vm"></a>Как студенты будут подключаться к своей виртуальной машине?

Для виртуальных машин удаленного рабочего стола Windows рекомендуется использовать [клиент удаленный рабочий стол (Майкрософт)](https://docs.microsoft.com/windows-server/remote/remote-desktop-services/clients/remote-desktop-clients). Удаленный рабочий стол клиент поддерживает Mac, Чромебукс и Windows.

Для виртуальных машин Linux студенты могут использовать либо SSH, либо RDP. Для подключения учащихся с помощью протокола удаленного рабочего стола необходимо установить и настроить необходимые пакеты RDP и GUI.

## <a name="set-up-your-lab"></a>Настройка лаборатории

После того как вы понимаете требования к лаборатории класса, вы можете настроить его. Перейдите по ссылкам в этом разделе, чтобы узнать, как настроить лабораторию.

1. **Создайте лабораторию.** Инструкции см. в руководстве по [созданию лаборатории для занятий](https://docs.microsoft.com/azure/lab-services/classroom-labs/tutorial-setup-classroom-lab#create-a-classroom-lab) .

    > [!NOTE]
    > Если вашему классу требуется вложенная виртуализация, см. инструкции по [включению вложенной виртуализации](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-enable-nested-virtualization-template-vm).

1. **Настройка образов и публикация виртуальных машин лаборатории.** Подключитесь к специальной виртуальной машине, которая называется шаблонной виртуальной машиной. См. инструкции в следующих руководствах:
    - [Создание шаблона виртуальной машины и управление им](https://docs.microsoft.com/azure/lab-services/classroom-labs/tutorial-setup-classroom-lab#publish-the-template-vm)
    - [Использование коллекции общих образов](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-use-shared-image-gallery)

    > [!NOTE]
    > Если вы используете Windows, вы также можете ознакомиться с инструкциями в статье [Подготовка виртуальной машины шаблона Windows](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-prepare-windows-template). Эти инструкции включают действия по настройке OneDrive и Office для учащихся.

1. **Управление пулом виртуальных машин и емкостью.** Можно легко масштабировать емкость виртуальной машины в соответствии с требованиями класса. Помните, что увеличение емкости виртуальной машины может занять несколько часов, так как это включает в себя настройку новых виртуальных машин. См. инструкции по [настройке пула виртуальных машин и управлению им](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-set-virtual-machine-passwords).

1. **Добавление пользователей лаборатории и управление ими.** Чтобы добавить пользователей в лабораторию, ознакомьтесь с инструкциями в следующих учебниках:
   - [Добавление пользователей в лабораторию](https://docs.microsoft.com/azure/lab-services/classroom-labs/tutorial-setup-classroom-lab#add-users-to-the-lab)
   - [Отправка приглашений пользователям](https://docs.microsoft.com/azure/lab-services/classroom-labs/tutorial-setup-classroom-lab#send-invitation-emails-to-users)

    Сведения о типах учетных записей, которые могут использовать студенты, см. в статье об [учетных записях учащихся](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-configure-student-usage#student-accounts).
  
1. **Настройка средств управления затратами.** Для управления затратами лаборатории установите расписания, квоты и автоматическое завершение работы. Ознакомьтесь со следующими руководствами:

   - [Задание расписания](https://docs.microsoft.com/azure/lab-services/classroom-labs/tutorial-setup-classroom-lab#set-a-schedule-for-the-lab)
        > [!NOTE]
        > В зависимости от типа установленной операционной системы для запуска виртуальной машины может потребоваться несколько минут. Чтобы убедиться, что виртуальная машина лаборатории готова к использованию в течение запланированных часов, рекомендуется запустить виртуальные машины на 30 минут заранее.

   - [Установка квот для пользователей](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-configure-student-usage#set-quotas-for-users) и [Установка дополнительных квот для конкретного пользователя](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-configure-student-usage#set-additional-quotas-for-specific-users)
  
   - [Включение автоматического завершения работы при отключении](https://docs.microsoft.com/azure/lab-services/classroom-labs/how-to-enable-shutdown-disconnect)

        > [!NOTE]
        > Расписания, квоты и автоматическое завершение работы не применяются к виртуальной машине шаблона. В результате необходимо убедиться, что вы завершили работу виртуальной машины шаблона, когда она не используется. В противном случае она по мере необходимости будет взимать затраты. Кроме того, по умолчанию при создании лаборатории автоматически запускается виртуальная машина шаблона. Убедитесь, что вы немедленно завершили настройку лаборатории, и завершите работу с ней шаблона.

1. **Используйте панель мониторинга.** Инструкции см. [в разделе Использование панели мониторинга лаборатории](https://docs.microsoft.com/azure/lab-services/classroom-labs/use-dashboard).

    > [!NOTE]
    > Оценочная стоимость, показанная на панели мониторинга, — это максимальная стоимость использования учащихся в лаборатории. Например, для учащихся *не* будут использоваться часы неиспользованных квот. В оценочных затратах *не* учитываются расходы на использование виртуальной машины шаблона или коллекции общих образов.

## <a name="next-steps"></a>Дальнейшие шаги

- [Отслеживание использования лаборатории для аудитории](tutorial-track-usage.md)
  
- [Доступ к лаборатории для аудитории](tutorial-connect-virtual-machine-classroom-lab.md)