---
title: Настройте лабораторию, чтобы обучить разработку мобильных приложений с помощью Android Studio
titleSuffix: Azure Lab Services
description: Узнайте, как настроить лабораторию для обучения классу разработки мобильных приложений данных, использующего Android Studio.  В статье также обсуждаются изменения, которые необходимо выполнить при использовании Android Studio на виртуальной машине в Azure.
services: lab-services
author: emaher
ms.service: lab-services
ms.topic: article
ms.date: 1/23/2020
ms.author: enewman
ms.openlocfilehash: 0c257589a2e93ac4c15a639e7156d0c0944b033c
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "76849790"
---
# <a name="set-up-a-lab-to-teach-data-mobile-application-development-with-android-studio"></a>Настройка лаборатории для обучения разработке мобильных приложений данных с помощью Android Studio

В этой статье мы покажем, как настроить класс для разработки для мобильных приложений.  Этот класс посвящен мобильным приложениям Android, которые можно опубликовать в [Google Play Маркет](https://play.google.com/store/apps).  Учащиеся узнают, как использовать [Android Studio](https://developer.android.com/studio) для создания приложений.  [Эмулятор Visual Studio для Android](https://visualstudio.microsoft.com/vs/msft-android-emulator/) используется для локального тестирования приложения.

## <a name="lab-configuration"></a>Настройка лаборатории

Для настройки этой лабораторной работы требуется подписка Azure и учетная запись лаборатории. Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись](https://azure.microsoft.com/free/), прежде чем начинать работу. После получения подписки Azure можно создать новую учетную запись лаборатории в службах лаборатории Azure. Дополнительные сведения о создании учетной записи лаборатории см. [в руководстве по настройке учетной записи лаборатории](tutorial-setup-lab-account.md).  Можно также использовать существующую учетную запись лаборатории.

Выполните инструкции из [руководства по настройке лаборатории](tutorial-setup-classroom-lab.md) по созданию занятий, чтобы создать лабораторию, а затем примените следующие параметры.

| размер виртуальной машины; | Образ — |
| -------------------- | ----- |
| Средний (вложенная виртуализация) | Windows Server 2019 Datacenter |

## <a name="template-machine-configuration"></a>Конфигурация компьютера шаблона

После завершения создания шаблона компьютера [Запустите компьютер и подключитесь к нему](how-to-create-manage-template.md#update-a-template-vm) , чтобы выполнить следующие задачи.

1. Добавление роли Hyper-V
2. Скачайте и установите Java.  
3. Скачайте и установите эмулятор Visual Studio для Android.
4. Скачайте и установите Android Studio.
5. Настройка эмулятора Visual Studio для Android Studio.

## <a name="add-hyper-v-role"></a>Добавление роли Hyper-V

Для успешной установки эмулятора Visual Studio для Android необходимо включить Hyper-V.  Следуйте инструкциям из статьи [Включение вложенной виртуализации в статье о шаблоне виртуальной машины](how-to-enable-nested-virtualization-template-vm.md) .

## <a name="install-java"></a>Установка Java

Для Android Studio требуется Java.  Чтобы скачать последнюю версию Java, выполните следующие действия.

1. Перейдите на [страницу загрузки Java](https://www.java.com/download/). Нажмите кнопку **скачать Java** .
2. На веб-странице 64-bit Windows для Java нажмите кнопку с надписью **согласие и начните загрузку бесплатно**.
3. Когда появится установщик **программы установки Java** , нажмите кнопку **установить**.
4. Подождите, пока заголовок установщика не изменится на **установку Java — завершено**.  Нажмите кнопку **Закрыть** .

## <a name="install-visual-studio-emulator-for-android"></a>Установка эмулятора Visual Studio для Android

Для локального тестирования приложения Android необходимо использовать виртуализированную версию устройства Android.  Существует несколько доступных эмуляторов Android, которые позволяют разработчику тестировать свои приложения на своем компьютере.  Мы используем эмулятор Visual Studio для Android, так как это эмулятор, поддерживающий вложенную виртуализацию.  Так как виртуальная машина службы лаборатории уже является виртуальной машиной, необходим эмулятор, поддерживающий вложенную виртуализацию.  Встроенный эмулятор для Android Studio не поддерживает вложенную виртуализацию.  Сведения о том, какие Эмуляторы поддерживают вложенную виртуализацию, см. в разделе [аппаратное ускорение для производительности эмулятора (Hyper-V & HAXM)](https://docs.microsoft.com/xamarin/android/get-started/installation/android-emulator/hardware-acceleration).

Чтобы скачать и установить эмулятор Visual Studio для Android, выполните приведенные ниже инструкции.

1. Перейдите на домашнюю страницу [эмулятора Visual Studio для Android](https://visualstudio.microsoft.com/vs/msft-android-emulator/) .
2. Нажмите кнопку **загрузить эмулятор** .
3. После загрузки vs_emulatorsetup. exe запустите исполняемый файл.
4. Когда появится диалоговое окно установки Visual Studio, нажмите кнопку **установить** .
5. Дождитесь завершения установки.  Нажмите кнопку **Перезагрузить сейчас** , чтобы перезагрузить компьютер и завершить установку.

Сначала запустите эмулятор, прежде чем развертывать приложение с помощью Android Studio.  Дополнительные сведения о эмуляторе Visual Studio для Android см. в [документации по эмулятору Visual Studio для Android](https://docs.microsoft.com/visualstudio/cross-platform/visual-studio-emulator-for-android).

## <a name="install-android-studio"></a>Установка Android Studio

Следуйте приведенным ниже инструкциям, чтобы скачать и установить [Android Studio](https://developer.android.com/studio).

1. Перейдите на [страницу загрузки Android Studio](https://developer.android.com/studio#downloads).  
    > [!NOTE]
    > Internet Explorer не поддерживается этим сайтом.
2. Щелкните исполняемый Android Studio пакет Windows (64-bit).
3. Ознакомьтесь с юридическими условиями, написанными во всплывающем окне.  Когда все будет готово, установите флажок **я прочитал (а) и принимаю условия приведенных выше условий и настроил** кнопку **загрузить Android Studio для Windows** .
4. После скачивания исполняемого файла установки Android Studio запустите исполняемый файл.
5. На странице **приветствия Android Studio установки** **Android Studio установщика установки** нажмите кнопку **Далее**.
6. На странице **Параметры конфигурации** нажмите кнопку **Далее**.
7. На странице **Выбор папки меню "Пуск** " нажмите кнопку **установить**.
8. Дождитесь завершения установки.
9. На странице **Установка завершена** нажмите кнопку **Далее**.
10. На странице **завершение Android Studio установки** .  Нажмите кнопку **Готово**.
11. Android Studio запустится автоматически после завершения установки.
12. В диалоговом окне **Импорт параметров Android из...** выберите параметр не **импортировать параметры**. Нажмите кнопку **ОК**.
13. На странице **приветствия** **мастера установки Android Studio**нажмите кнопку **Далее**.
14. На странице **тип установки** выберите **стандартный**. Щелкните **Далее**.
15. На странице **Выбор темы пользовательского интерфейса** выберите нужную тему. Щелкните **Далее**.
16. На странице **Проверка параметров** нажмите кнопку **Далее**.
17. На странице **Загрузка компонентов** дождитесь загрузки всех компонентов.  Нажмите кнопку **Готово**.

    > [!IMPORTANT]
    > Ожидается, что установка HAXM завершается сбоем.  HAXM не поддерживает вложенную виртуализацию, поэтому мы установили эмулятор Visual Studio для Android ранее в этой статье.

18. После завершения работы мастера установки появится диалоговое окно **с приветствием Android Studio** .

## <a name="configure-android-studio-and-visual-studio-emulator-for-android"></a>Настройка Android Studio и эмулятора Visual Studio для Android

Android Studio почти готово к использованию.  Нам по-прежнему нужно сообщить эмулятору Visual Studio для Android, где установлена пакет SDK для Android.  При этом все эмуляторы, работающие в Visual Studio для Android, отображаются как целевые объекты развертывания для Android Studio отладки.

Необходимо задать конкретный раздел реестра, чтобы сообщить эмулятору Visual Studio для Android, где находится пакет SDK для Android.  Чтобы задать необходимый раздел реестра, выполните приведенный ниже сценарий.  В приведенном ниже сценарии PowerShell предполагается расположение установки пакета SDK для Android по умолчанию.  Если вы установили пакет SDK для Android в другом расположении, измените `$androidSdkPath` значение для перед запуском скрипта.

```powershell
$androidSdkPath = Resolve-Path $(Join-Path "$($env:APPDATA)" "../Local/Android/Sdk")

$registryKeyPath = "HKLM:Software\WOW6432NODE\Android Sdk Tools"
New-Item -Path $registryKeyPath
New-ItemProperty -Path $registryKeyPath -Name Path -PropertyType String -Value $androidSdkPath
```

> [!IMPORTANT]
> Перезапустите эмулятор Visual Studio для Android и Android Studio, чтобы использовался новый параметр.

Запустите версию, необходимую в эмуляторе Visual Studio.  Он будет отображаться как цель развертывания для приложения Android в Android Studio.  Минимальная версия проекта Android Studio должна поддерживать версию, работающую в эмуляторе Visual Studio для Android.  Теперь все готово для создания и отладки проектов с помощью Android Studio и эмулятора Visual Studio для Android.  Если у вас возникнут проблемы, см. раздел Устранение неполадок в эмуляторе Android.

## <a name="cost"></a>Стоимость

Если вы хотите оценить стоимость этой лабораторной работы, выполните приведенный ниже пример.
Для класса из 25 учащихся с 20 часов запланированного времени класса и 10 часов квоты для домашних заданий или назначений цена на лабораторию  

25 учащихся \* (20 запланированных + 10 квот) часов * 55 модулей лаборатории * 0,01 долларов США в час = 412,5 долл. США

Дополнительные сведения о ценах см. на странице [цен на службы лаборатории Azure](https://azure.microsoft.com/pricing/details/lab-services/).

## <a name="next-steps"></a>Дальнейшие шаги

Дальнейшие действия являются общими для настройки любой лаборатории.

- [Создание шаблона и управление им](how-to-create-manage-template.md)
- [Добавление пользователей](tutorial-setup-classroom-lab.md#add-users-to-the-lab)
- [Задать квоту](how-to-configure-student-usage.md#set-quotas-for-users)
- [Задание расписания](tutorial-setup-classroom-lab.md#set-a-schedule-for-the-lab)
- [Ссылки для регистрации электронной почты учащихся](how-to-configure-student-usage.md#send-invitations-to-users)
