---
title: Рабочий процесс аттестации Azure
description: Описание рабочего процесса аттестации Azure.
services: attestation
author: msmbaldwin
ms.service: attestation
ms.topic: overview
ms.date: 08/31/2020
ms.author: mbaldwin
ms.openlocfilehash: 240b27f897d8e7a34026701cf7fdc844eb9d4086
ms.sourcegitcommit: eb6bef1274b9e6390c7a77ff69bf6a3b94e827fc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/05/2020
ms.locfileid: "89237106"
---
# <a name="workflow"></a>Рабочий процесс

Аттестация Microsoft Azure получает свидетельство от анклавов и оценивает свидетельство с учетом базового уровня безопасности Azure и настраиваемых политик. После успешной проверки аттестация Azure создает маркер аттестации для подтверждения надежности анклава.

Рабочий поток аттестации Azure содержит такие субъекты:

- **Проверяющая сторона** — компонент, который использует аттестацию Azure для проверки допустимости анклава. 
- **Клиент** — компонент, собирающий сведения из анклава и отправляющий запросы в аттестацию Azure. 
- **Аттестация Azure** — компонент, который принимает свидетельство анклава от клиента, проверяет его и возвращает клиенту маркер аттестации.


## <a name="enclave-validation-work-flow"></a>Рабочий процесс проверки анклава

Ниже дано общее описание шагов типичного рабочего процесса аттестации анклава SGX (с использованием аттестации Azure).

1. Клиент собирает свидетельства из анклава. Свидетельство — это сведения о среде анклава и клиентской библиотеке, работающей в анклаве.
1. Клиенту присвоен универсальный код ресурса (URI), который ссылается на экземпляр аттестации Azure. Клиент выполняет проверку подлинности в Azure AD и получает маркер доступа.
1. Клиент отправляет доказательства в аттестацию Azure вместе с маркером доступа. Точная информация, отправляемая поставщику, зависит от типа анклава.
1. Аттестация Azure проверяет отправленные данные и оценивает их в соответствии с настроенной политикой. Если проверка завершается, аттестация Azure выдает маркер аттестации и возвращает его клиенту. В случае сбоя на этом шаге аттестация Azure сообщает клиенту об ошибке. 
1. Клиент отправляет маркер аттестации проверяющей стороне. Проверяющая сторона вызывает конечную точку метаданных открытого ключа аттестации Azure для получения сертификатов подписи. Затем проверяющая сторона проверяет подпись маркера аттестации и убеждается в надежности анклава. 

![Процесс проверки анклава](./media/validation-flow.png)


## <a name="next-steps"></a>Дальнейшие действия
- [Как создать и подписать файл политики аттестации](author-sign-policy.md)
- [Настройка службы "Аттестация Azure" с помощью PowerShell](quickstart-powershell.md)
