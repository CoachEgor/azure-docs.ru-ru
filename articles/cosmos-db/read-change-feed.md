---
title: Доступ к каналу изменений в Azure Cosmos DB
description: В этой статье описываются различные варианты, с помощью которых можно получать доступ к каналу изменений и читать его в Azure Cosmos DB.
author: TheovanKraay
ms.author: thvankra
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 11/25/2019
ms.openlocfilehash: fc7e78a44d03af8952c1e178a3e92b1ee0c6fe66
ms.sourcegitcommit: 48b7a50fc2d19c7382916cb2f591507b1c784ee5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2019
ms.locfileid: "74688120"
---
# <a name="reading-azure-cosmos-db-change-feed"></a>Чтение канала изменений Azure Cosmos DB

Вы можете работать с каналом изменений Azure Cosmos DB с помощью одного из следующих вариантов:

* Использование Функций Azure
* Использование библиотеки обработчика для канала изменений
* Использование пакета SDK для API SQL Azure Cosmos DB

## <a name="using-azure-functions"></a>Использование Функций Azure

Функции Azure — это самый простой и рекомендуемый вариант. При создании триггера функций Azure для Cosmos DB можно выбрать контейнер для подключения, и функция Azure активируется при каждом изменении контейнера. Триггеры можно создать на портале Функций Azure, на портале Azure Cosmos DB или программным способом с помощью пакета SDK. Visual Studio и VS Code обеспечивают поддержку для написания Функций Azure. Для кроссплатформенной разработки можно даже использовать CLI Функций Azure. Вы можете написать и отладить код на своем компьютере, а затем развернуть функцию одним щелчком мыши. Дополнительные сведения см. в статьях об [обработке бессерверной базы данных с помощью Функций Azure](serverless-computing-database.md) и [использовании канала изменений вместе с Функциями Azure](change-feed-functions.md).

## <a name="using-the-change-feed-processor-library"></a>Использование библиотеки обработчика для канала изменений

Библиотека обработчика канала изменений устраняет сложность и дает полный контроль над каналом изменений. В ней используется шаблон наблюдателя, в котором библиотека вызывает функцию обработки. Если у вас есть канал изменений с высокой пропускной способностью, можно создать несколько экземпляров клиентов, чтобы считывать данные канала изменений. Так как вы используете библиотеку обработчика для канала изменений, это автоматически распределит нагрузку между клиентами без необходимости реализовывать эту логику. Все задачи за вас выполнит библиотека. Если вам нужна собственная подсистема балансировки нагрузки, вы можете использовать `IPartitionLoadBalancingStrategy`, чтобы применить стратегию работы с несколькими секциями для обработки канала изменений. Дополнительные сведения см. в статье об [использовании библиотеки обработчика канала изменений](change-feed-processor.md).

## <a name="using-the-azure-cosmos-db-sql-api-sdk"></a>Использование пакета SDK для API SQL Azure Cosmos DB

С помощью пакета SDK вы получаете низкоуровневый контроль над каналом изменений. Вы можете управлять контрольной точкой, обращаться к конкретному ключу логической секции и т. д. Если у вас несколько читателей, можно использовать `ChangeFeedOptions` для распределения нагрузки чтения в разные потоки или разные клиенты.

## <a name="change-feed-in-apis-for-cassandra-and-mongodb"></a>Веб-канал изменений в API для Cassandra и MongoDB

Функция веб-канала изменений отображается как поток изменений в API MongoDB и запрос с предикатом в API Cassandra. Дополнительные сведения о реализации API MongoDB см. в статье [потоки изменений в api Azure Cosmos DB для MongoDB](mongodb-change-streams.md).

Собственная технология Apache Cassandra предоставляет систему отслеживания измененных данных (CDC), механизм пометки определенных таблиц для архивации, а также отклонять операции записи в эти таблицы после достижения настраиваемого размера на диске для журнала CDC. Функция веб-канала изменений в Azure Cosmos DB API для Cassandra расширяет возможность запроса изменений с помощью предиката через CQL. Дополнительные сведения о реализации см. в статье [веб-канал изменений в Azure Cosmos DB API для Cassandra](cassandra-change-feed.md).

## <a name="next-steps"></a>Дальнейшие действия

Вы можете продолжить знакомство с каналом изменений, перейдя к следующим статьям:

* [Работа с поддержкой веб-канала изменений в Azure Cosmos DB](change-feed.md)
* [How to use Azure Cosmos DB change feed with Azure Functions](change-feed-functions.md) (Использование канала изменений Azure Cosmos DB с Функциями Azure)
* [Using the Azure Cosmos DB change feed processor library](change-feed-processor.md) (Использование библиотеки обработчика канала изменений Azure Cosmos DB)
