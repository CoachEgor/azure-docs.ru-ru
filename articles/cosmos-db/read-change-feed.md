---
title: Доступ к каналу изменений в Azure Cosmos DB
description: В этой статье описываются различные параметры, доступные для чтения и доступа к веб-каналу изменений в Azure Cosmos DB.
author: timsander1
ms.author: tisande
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 05/06/2020
ms.reviewer: sngun
ms.openlocfilehash: 266a13b7702f567e69129c0b4e92c4bd7c0f29ef
ms.sourcegitcommit: 999ccaf74347605e32505cbcfd6121163560a4ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/08/2020
ms.locfileid: "82982502"
---
# <a name="reading-azure-cosmos-db-change-feed"></a>Чтение канала изменений Azure Cosmos DB

Вы можете работать с каналом изменений Azure Cosmos DB с помощью одного из следующих вариантов:

* Использование Функций Azure
* Использование обработчика веб-канала изменений
* Использование пакета SDK для API SQL Azure Cosmos DB
* Использование модели извлечения веб-канала изменений (Предварительная версия)

## <a name="using-azure-functions"></a>Использование Функций Azure

Функции Azure — это самый простой и рекомендуемый вариант. При создании триггера функций Azure для Cosmos DB можно выбрать контейнер для подключения, и функция Azure активируется при каждом изменении контейнера. Триггеры можно создать на портале Функций Azure, на портале Azure Cosmos DB или программным способом с помощью пакета SDK. Visual Studio и VS Code обеспечивают поддержку для написания Функций Azure. Для кроссплатформенной разработки можно даже использовать CLI Функций Azure. Вы можете написать и отладить код на своем компьютере, а затем развернуть функцию одним щелчком мыши. Дополнительные сведения см. в статьях об [обработке бессерверной базы данных с помощью Функций Azure](serverless-computing-database.md) и [использовании канала изменений вместе с Функциями Azure](change-feed-functions.md).

## <a name="using-the-change-feed-processor"></a>Использование обработчика веб-канала изменений

Обработчик веб-канала изменений скрывает сложность и обеспечивает полный контроль над каналом изменений. В ней используется шаблон наблюдателя, в котором библиотека вызывает функцию обработки. Если у вас есть канал изменений с высокой пропускной способностью, можно создать несколько экземпляров клиентов, чтобы считывать данные канала изменений. Так как вы используете библиотеку обработчика для канала изменений, это автоматически распределит нагрузку между клиентами без необходимости реализовывать эту логику. Все задачи за вас выполнит библиотека. Дополнительные сведения см. в разделе [использование обработчика веб-канала изменений](change-feed-processor.md). Обработчик веб-канала изменений входит в состав [Azure Cosmos DB пакета SDK v3](https://github.com/Azure/azure-cosmos-dotnet-v3).

## <a name="using-the-azure-cosmos-db-sql-api-sdk"></a>Использование пакета SDK для API SQL Azure Cosmos DB

С помощью пакета SDK вы получаете низкоуровневый контроль над каналом изменений. Вы можете управлять контрольной точкой, обращаться к конкретному ключу логической секции и т. д. При наличии нескольких читателей можно использовать `ChangeFeedOptions` для распределения нагрузки для чтения в разные потоки или разные клиенты.

## <a name="using-the-change-feed-pull-model"></a>Использование модели извлечения веб-канала изменений

[Модель извлечения веб-канала изменений](change-feed-pull-model.md) позволяет использовать веб-канал изменений в собственном темпе и параллельную обработку изменений с помощью фидранжес. Фидранже охватывает диапазон значений ключа секции. С помощью модели извлечения веб-канала изменений также можно легко обрабатывать изменения для определенного ключа секции.

> [!NOTE]
> Модель извлечения веб-канала изменений в настоящее время доступна в [предварительной версии только в пакете SDK для .net Azure Cosmos DB](https://www.nuget.org/packages/Microsoft.Azure.Cosmos/3.9.0-preview) . Предварительная версия еще недоступна для других версий пакета SDK.

## <a name="change-feed-in-apis-for-cassandra-and-mongodb"></a>Веб-канал изменений в API для Cassandra и MongoDB

Функция веб-канала изменений отображается как поток изменений в API MongoDB и запрос с предикатом в API Cassandra. Дополнительные сведения о реализации API MongoDB см. в статье [потоки изменений в api Azure Cosmos DB для MongoDB](mongodb-change-streams.md).

Собственная технология Apache Cassandra предоставляет систему отслеживания измененных данных (CDC), механизм пометки определенных таблиц для архивации, а также отклонять операции записи в эти таблицы после достижения настраиваемого размера на диске для журнала CDC. Функция веб-канала изменений в Azure Cosmos DB API для Cassandra расширяет возможность запроса изменений с помощью предиката через CQL. Дополнительные сведения о реализации см. в статье [веб-канал изменений в Azure Cosmos DB API для Cassandra](cassandra-change-feed.md).

## <a name="next-steps"></a>Дальнейшие действия

Вы можете продолжить знакомство с каналом изменений, перейдя к следующим статьям:

* [Работа с поддержкой веб-канала изменений в Azure Cosmos DB](change-feed.md)
* [Как использовать канал изменений Azure Cosmos DB с Функциями Azure](change-feed-functions.md)
* [Использование библиотеки обработчика веб-канала изменений](change-feed-processor.md)
