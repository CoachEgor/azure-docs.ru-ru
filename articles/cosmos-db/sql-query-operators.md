---
title: Операторы запросов SQL для Azure Cosmos DB
description: Сведения об операторах SQL, таких как равенство, сравнение и логические операторы, поддерживаемые Azure Cosmos DB.
author: timsander1
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 07/29/2020
ms.author: tisande
ms.openlocfilehash: dd1652781d7eae8beb400c52137a8f16891e2b2a
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "87498843"
---
# <a name="operators-in-azure-cosmos-db"></a>Операторы в Azure Cosmos DB

В этой статье подробно описаны различные операторы, поддерживаемые Azure Cosmos DB.

## <a name="equality-and-comparison-operators"></a>Операторы сравнения и равенства

Ниже приведена таблица, в которой собраны результаты сравнения равенства в SQL API между любыми двумя типами JSON.

| **Операцион** | **Определено** | **Null** | **Boolean** | **Число** | **String** | **Объект** | **массив**. |
|---|---|---|---|---|---|---|---|
| **Не определено** | Не определено | Не определено | Не определено | Не определено | Не определено | Не определено | Не определено |
| **Null** | Не определено. | **Хорошо** | Не определено | Не определено | Не определено | Не определено | Не определено |
| **Boolean** | Не определено | Не определено | **Хорошо** | Не определено | Не определено | Не определено | Не определено |
| **Число** | Не определено | Не определено | Не определено | **Хорошо** | Не определено | Не определено | Не определено |
| **String** | Не определено | Не определено | Не определено | Не определено | **Хорошо** | Не определено | Не определено |
| **Объект** | Не определено | Не определено | Не определено | Не определено | Не определено | **Хорошо** | Не определено. |
| **массив**. | Не определено | Не определено | Не определено | Не определено | Не определено | Не определено | **Хорошо** |

Для операторов сравнения, таких как `>` ,, `>=` `!=` , `<` и `<=` , сравнение по типам или между двумя объектами или массивами формируется `Undefined` .  

Если результат скалярного выражения равен `Undefined` , то элемент не включается в результат, поскольку `Undefined` не равен `true` .

Например, результатом сравнения между числом и строковым значением является следующее сравнение запроса `Undefined` . Поэтому фильтр не содержит никаких результатов.

```sql
SELECT *
FROM c
WHERE 7 = 'a'
```

## <a name="logical-and-or-and-not-operators"></a>Логические операторы (AND, OR или NOT)

Логические операторы работают над значениями типа Boolean. В следующих таблицах показаны логические таблицы истинности для этих операторов:

**Оператор OR**

Возвращает, `true` Если одно из условий имеет значение `true` .

|  | **True** | **False** | **Определено** |
| --- | --- | --- | --- |
| **True** |True |True |True |
| **False** |True |False |Не определено. |
| **Не определено** |True |Не определено |Не определено |

**Оператор AND**

Возвращает `true` , если оба выражения имеют значение `true` .

|  | **True** | **False** | **Определено** |
| --- | --- | --- | --- |
| **True** |True |False |Не определено. |
| **False** |False |False |False |
| **Не определено** |Не определено. |False |Не определено. |

**Оператор NOT**

Изменяет значение любого логического выражения на противоположное.

|  | **NOT** |
| --- | --- |
| **True** |False |
| **False** |True |
| **Не определено** |Не определено. |

**Приоритет операторов**

Логические операторы `OR` , `AND` и `NOT` имеют уровень приоритета, показанный ниже.

| **Оператор** | **Приоритет** |
| --- | --- |
| **NOT** |1 |
| **AND** |2 |
| **OR** |3 |

## <a name="-operator"></a>* - оператор

Специальный оператор * проецирует весь элемент как есть. При его использовании должно быть единственное отображаемое поле. Запрос, подобный `SELECT * FROM Families f` , является допустимым, но `SELECT VALUE * FROM Families f` и  `SELECT *, f.id FROM Families f` недопустимым.

## <a name="-and--operators"></a>? и?? операторы

Для создания условных выражений можно использовать операторы Ternary (?) и объединения (??), такие как языки программирования, такие как C# и JavaScript.

Вы можете использовать параметр? оператор для создания новых свойств JSON в режиме реального времени. Например, следующий запрос классифицирует уровни категории в `elementary` или `other` :

```sql
     SELECT (c.grade < 5)? "elementary": "other" AS gradeLevel
     FROM Families.children[0] c
```

Вы также можете вкладывать вызовы в? , как в следующем запросе: 

```sql
    SELECT (c.grade < 5)? "elementary": ((c.grade < 9)? "junior": "high") AS gradeLevel
    FROM Families.children[0] c
```

Как и в случае с другими операторами запроса,? Оператор исключает элементы, если отсутствуют свойства, на которые имеются ссылки, или если сравниваемые типы различаются.

Используйте параметр?? оператор для эффективной проверки свойства в элементе при запросе частично структурированного или смешанного типа данных. Например, следующий запрос возвращает значение `lastName` , если он есть, или значение, `surname` если отсутствует `lastName` .

```sql
    SELECT f.lastName ?? f.surname AS familyName
    FROM Families f
```

## <a name="next-steps"></a>Дальнейшие действия

- [Примеры .NET для Azure Cosmos DB](https://github.com/Azure/azure-cosmos-dotnet-v3)
- [Ключевые слова](sql-query-keywords.md)
- [Предложение SELECT](sql-query-select.md)
