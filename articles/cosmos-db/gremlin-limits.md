---
title: Границы Azure Космос DB Гремлин
description: Справочная документация для ограничений времени выполнения двигателя Graph
author: LuisBosquez
ms.service: cosmos-db
ms.subservice: cosmosdb-graph
ms.topic: reference
ms.date: 10/04/2019
ms.author: lbosq
ms.openlocfilehash: 76ad787990c355d29613c05ca9fce31885a2eccc
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "72029848"
---
# <a name="azure-cosmos-db-gremlin-limits"></a>Ограничения Azure Cosmos DB для Gremlin
В этой статье рассказывается о границах двигателя Azure Cosmos DB Gremlin и объясняется, как они могут повлиять на обходы клиентов.

Cosmos DB Gremlin построен на вершине инфраструктуры Cosmos DB. Из-за этого все ограничения, объясняемые в [Azure Cosmos DB,](https://docs.microsoft.com/azure/cosmos-db/concepts-limits) по-прежнему применяются. 

## <a name="limits"></a>Ограничения

При достигаете лимита Gremlin обход отменяется с кодом **x-ms-status** 429, указывающим на ошибку регулирования. Для получения дополнительной информации можно ознакомиться [с заголовками ответных заголовков серверов Gremlin.](gremlin-limits.md)

**Ресурсов**    | **Ограничение по умолчанию** | **Объяснение**
--- | --- | ---
*Длина скрипта* | **64 КБ** | Максимальная длина для скрипта обхода Gremlin на один запрос.
*Количество операторов* | **400** |  Общее количество уникальных шагов в обходе. Например, ```g.V().out()``` имеет количество оператора 2: V() ```g.V('label').repeat(out()).times(100)``` и вне(), имеет глубину оператора 3: ```.times(100)``` V(), ```.repeat()``` повторить(), и вне(), потому что является параметром для оператора.
*Степень параллелизма* | **32** | Максимальное количество секций хранилища, к которым можно отправить один запрос на уровне хранилища. Графики с сотнями перегородок будут затронуты этим ограничением.
*Ограничение повторов* | **32** | Максимальное количество итераций оператора ```.repeat()```. Каждая итерация ```.repeat()``` шага в большинстве случаев проходит в ширину-первый обход, что означает, что любой обход ограничен не более 32 хмеля между вершинами.
*Время ожидания обхода* | **30 секунд** | Траверсаль будет отменен, когда он превышает этот раз. Cosmos DB Graph — это база данных OLTP, большинство обходов в которой выполняется за миллисекунды. Для выполнения запросов OLAP на графике Cosmos DB используйте [Apache Spark](https://azure.microsoft.com/services/cosmos-db/) с [графическими кадрами данных](https://spark.apache.org/docs/latest/sql-programming-guide.html#datasets-and-dataframes) и [разъемом Cosmos DB Spark.](https://github.com/Azure/azure-cosmosdb-spark)
*Время простоя подключения* | **1 час**. | Количество времени, в течение которого служба Gremlin будет держать холостые соединения websocket открытыми. Пакеты TCP keep-alive или запросы НА СОХРАНЕНИЕ в режиме ожидания HTTP не продлевают срок службы соединения сверх этого предела. Двигатель Cosmos DB Graph считает, что соединения websocket простаивают, если на нем нет активных запросов Gremlin.
*Количество используемых маркеров ресурсов в час* | **100** | Число уникальных маркеров ресурсов, используемых клиентами Gremlin для подключения к учетной записи Gremlin в регионе. Когда приложение превышает почасовой уникальный `"Exceeded allowed resource token limit of 100 that can be used concurrently"` лимит маркеров, будет возвращен о следующем запросе на проверку подлинности.

## <a name="next-steps"></a>Дальнейшие действия
* [Заголовки ответных заголовков Azure Cosmos DB Gremlin](gremlin-headers.md) 
* [Маркеры ресурса Azure Cosmos DB с Gremlin](how-to-use-resource-tokens-gremlin.md)
