---
title: Предложение ORDER BY в Azure Cosmos DB
description: Дополнительные сведения о предложении SQL ORDER BY для Azure Cosmos DB. Используйте SQL в качестве языка запросов JSON Azure Cosmos DB.
author: markjbrown
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 06/10/2019
ms.author: mjbrown
ms.openlocfilehash: 14f61d14b59dca4bcf2e0f4b93e918f101a61833
ms.sourcegitcommit: 1d0b37e2e32aad35cc012ba36200389e65b75c21
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/15/2019
ms.locfileid: "72326839"
---
# <a name="order-by-clause-in-azure-cosmos-db"></a>Предложение ORDER BY в Azure Cosmos DB

Необязательное предложение ORDER BY задает порядок сортировки результатов, возвращаемых запросом.

## <a name="syntax"></a>Синтаксис
  
```sql  
ORDER BY <sort_specification>  
<sort_specification> ::= <sort_expression> [, <sort_expression>]  
<sort_expression> ::= {<scalar_expression> [ASC | DESC]} [ ,...n ]  
```  

## <a name="arguments"></a>Аргументы
  
- `<sort_specification>`  
  
   Указывает свойство или выражение, по которому производится сортировка результирующего набора запроса. Столбец сортировки может быть указан как имя или псевдоним свойства.  
  
   Можно указать несколько свойств. Имена свойств должны быть уникальными. Последовательность свойств сортировки в предложении ORDER BY определяет организацию отсортированного результирующего набора. То есть результирующий набор сортируется по первому свойству, а затем упорядоченный список сортируется по второму свойству и т. д.  
  
   Имена свойств, упоминаемых в предложении ORDER BY, должны соответствовать свойству в списке выбора или свойству, определенному в коллекции, указанной в предложении FROM без каких-либо неоднозначностей.  
  
- `<sort_expression>`  
  
   Задает одно или несколько свойств или выражений для сортировки результирующего набора запроса.  
  
- `<scalar_expression>`  
  
   Дополнительные сведения см. в разделе [Скалярные выражения](sql-query-scalar-expressions.md).  
  
- `ASC | DESC`  
  
   Указывает порядок сортировки значений в указанном столбце (по возрастанию или по убыванию). Если указать ASC, значения сортируются по возрастанию, а если DESC — по убыванию. По умолчанию значения сортируются по возрастанию. Значения Null рассматриваются как минимальные возможные значения.  
  
## <a name="remarks"></a>Примечания  
  
   Для предложения ORDER BY необходимо, чтобы политика индексирования включала в себя индекс для полей, для которых выполняется сортировка. Среда выполнения запросов Azure Cosmos DB поддерживает сортировку по имени свойства, а не к вычисленным свойствам. Azure Cosmos DB поддерживает несколько последовательностей по свойствам. Чтобы выполнить запрос с несколькими свойствами ORDER BY, необходимо определить [составной индекс](index-policy.md#composite-indexes) для полей, для которых выполняется сортировка.

## <a name="examples"></a>Примеры

Например, Вот запрос, извлекающий семейства в порядке возрастания названия резидентного города:

```sql
    SELECT f.id, f.address.city
    FROM Families f
    ORDER BY f.address.city
```

Получаются такие результаты:

```json
    [
      {
        "id": "WakefieldFamily",
        "city": "NY"
      },
      {
        "id": "AndersenFamily",
        "city": "Seattle"
      }
    ]
```

Следующий запрос получает семейство `id`s в порядке их даты создания элемента. `creationDate` элемента — это число, представляющее *время эпохи*, или время, истекшее с января 1, 1970 в секундах.

```sql
    SELECT f.id, f.creationDate
    FROM Families f
    ORDER BY f.creationDate DESC
```

Получаются такие результаты:

```json
    [
      {
        "id": "WakefieldFamily",
        "creationDate": 1431620462
      },
      {
        "id": "AndersenFamily",
        "creationDate": 1431620472
      }
    ]
```

Кроме того, можно упорядочить по нескольким свойствам. Запрос, который упорядочивается по нескольким свойствам, требует [составного индекса](index-policy.md#composite-indexes). Рассмотрим следующий запрос:

```sql
    SELECT f.id, f.creationDate
    FROM Families f
    ORDER BY f.address.city ASC, f.creationDate DESC
```

Этот запрос получает семейство `id` в порядке возрастания названия города. Если несколько элементов имеют одинаковое название города, запрос будет упорядочен по `creationDate` в порядке убывания.

## <a name="next-steps"></a>Дополнительная информация

- [Приступая к работе](sql-query-getting-started.md)
- [Предложение SELECT](sql-query-select.md)
- [Предложение ЛИМИТа смещения](sql-query-offset-limit.md)
