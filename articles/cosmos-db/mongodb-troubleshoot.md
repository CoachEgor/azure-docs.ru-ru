---
title: Устранение ошибок в распространенных ошибках в API API Azure Cosmos DB для Mongo DB
description: В этом документе обсуждаются способы устранения общих проблем, возникающих в API-и.п. Azure Cosmos DB для MongoDB.
author: LuisBosquez
ms.service: cosmos-db
ms.subservice: cosmosdb-mongo
ms.topic: troubleshooting
ms.date: 06/05/2019
ms.author: lbosq
ms.openlocfilehash: d9a4e336f582e866fd057f6c281f892ce07b34fc
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "75941851"
---
# <a name="troubleshoot-common-issues-in-azure-cosmos-dbs-api-for-mongodb"></a>Устранение проблем в aPI-иНоВ Для MongoDB в Azure Cosmos DB

Azure Cosmos DB реализует проводные протоколы общих баз данных НоСЗЛ, включая MongoDB. Благодаря реализации протокола провода можно прозрачно взаимодействовать с Azure Cosmos DB, используя существующие клиентские SDK, драйверы и инструменты, которые работают с базами данных НоСЗЛ. Azure Cosmos DB не использует исходный код баз данных для предоставления совместимых с проводами AIP для любой из баз данных НоСЗЛ. Любой драйвер клиента MongoDB, который понимает версии протокола проводов, может подключиться к Azure Cosmos DB.

В то время как API Azure Cosmos DB для MongoDB совместим с 3.2 версией протокола провода MongoDB (операторы запросов и функции, добавленные в версию 3.4, в настоящее время доступны в качестве предварительного просмотра), есть некоторые пользовательские коды ошибок, которые соответствуют Azure Cosmos DB конкретные ошибки. В этой статье объясняются различные ошибки, коды ошибок и шаги по устранению этих ошибок.

## <a name="common-errors-and-solutions"></a>Общие ошибки и решения

| Error               | Код  | Описание  | Решение  |
|---------------------|-------|--------------|-----------|
| TooManyRequests     | 16500 | Общее число использованных единиц запроса превысило число, подготовленное для коллекции, и было отрегулировано. | Рассмотрите возможность масштабирования пропускной переливы, назначенной контейнеру, или набора контейнеров с портала Azure или повторного проработки. |
| ExceededMemoryLimit | 16501 | Так как в этой службе несколько клиентов, операция превысила выделенную память для клиента. | Уменьшите область операции, применив более строгие критерии запроса, или обратитесь в службу поддержки на [портале Azure](https://portal.azure.com/?#blade/Microsoft_Azure_Support/HelpAndSupportBlade). Например, `db.getCollection('users').aggregate([{$match: {name: "Andy"}}, {$sort: {age: -1}}]))`. |
| Путь индекса, соответствующий указанному пункту заказа, исключается / Порядок по запросу не имеет соответствующего композитного индекса, из которого он может быть подан. | 2 | Запрос запрашивает сортировку на поле, которое не индексируется. | Создайте соответствующий индекс (или составной индекс) для попытки поиска сортировки. |
| Проблемы с версией протокола в MongoDB | - | Старые версии драйверов MongoDB не могут обнаружить имя учетной записи Azure Cosmos в строках соединения. | Приложение *appName **'имя учетной записиВай** @ * в конце API Вашего Cosmos DB для строки подключения MongoDB, где ***accountName*** является вашим именем учетной записи Cosmos DB. |


## <a name="next-steps"></a>Дальнейшие действия

- Узнайте, как [использовать Studio 3T](mongodb-mongochef.md) с API Azure Cosmos DB для MongoDB.
- Узнайте, как [использовать Robo 3T](mongodb-robomongo.md) с API Azure Cosmos DB для MongoDB.
- Ознакомьтесь с [примерами](mongodb-samples.md) MongoDB с API Azure Cosmos DB для MongoDB.

