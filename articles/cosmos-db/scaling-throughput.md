---
title: Масштабирование пропускной способности в Azure Cosmos DB
description: В этой статье описывается, как Azure Cosmos DB масштабирует пропускную способность в разных регионах, где подготавливается учетная запись Azure Cosmos.
author: SnehaGunda
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 12/02/2019
ms.author: sngun
ms.reviewer: sngun
ms.openlocfilehash: 94b5b3d2ab1f576f87ead23b389252ec96a20f11
ms.sourcegitcommit: 4313e0d13714559d67d51770b2b9b92e4b0cc629
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2020
ms.locfileid: "91397357"
---
# <a name="how-does-azure-cosmos-db-globally-scale-the-provisioned-throughput"></a>Как Azure Cosmos DB глобально масштабировать подготовленную пропускную способность?

В Azure Cosmos DB подготовленная пропускная способность представляется в виде единиц запросов в секунду (единиц запроса/s или форма множественного числа RUs). Эти единицы запросов измеряют стоимость операций чтения и записи в контейнере Cosmos, как показано на рисунке ниже.

:::image type="content" source="./media/scaling-throughput/request-unit-charge-of-read-and-write-operations.png" alt-text="Единицы запроса" border="false":::

Вы можете подготовить ЕЗ в контейнере Cosmos или базе данных Cosmos. Допускная подготовка для контейнера доступна только для операций, выполняемых в этом контейнере. ЕЗ, подготовленные в базе данных, распределяются между всеми контейнерами в этой базе данных (за исключением контейнеров с отдельно назначенными ЕЗ).

Для эластичного масштабирования подготовленной пропускной способности можно в любое время увеличить или уменьшить подготовленные единицы запросов в секунду. Дополнительные сведения см. в статьях [как подготавливать пропускную способность](set-throughput.md) и Эластичное масштабирование контейнеров и баз данных Cosmos. Для глобального масштабирования пропускной способности можно в любое время добавлять или удалять регионы из учетной записи Cosmos. Дополнительные сведения см. в разделе [Добавление и удаление регионов из учетной записи базы данных](how-to-manage-database-account.md#addremove-regions-from-your-database-account). Связывание нескольких регионов с учетной записью Cosmos важно во многих сценариях для достижения низкой задержки и [высокой доступности](high-availability.md) по всему миру.

## <a name="how-provisioned-throughput-is-distributed-across-regions"></a>Распределение подготовленной пропускной способности по регионам

Если вы подготавливаете *"r '* RUS в контейнере Cosmos (или базе данных), Cosmos DB гарантирует доступность *r* в *каждом* регионе, связанном с вашей учетной записью Cosmos. Каждый раз при добавлении нового региона в учетную запись Cosmos DB автоматически подготавливает *"R"* в добавленном регионе. Операции, выполняемые с контейнером Cosmos, гарантированно получат *"R"* в каждом регионе. Нельзя выборочно назначать ЕЗ для определенного региона. Объект RUs, подготовленный для контейнера Cosmos (или базы данных), подготавливается во всех регионах, связанных с вашей учетной записью Cosmos.

Предположим, что для контейнера Cosmos настроено значение *R* , а с учетной записью Cosmos связано *"N"* регионов, то:

- Если учетная запись Cosmos настроена с одним регионом записи, общее число получателей доступно глобально в контейнере = *R* x *N*.

- Если учетная запись Cosmos настроена с несколькими регионами записи, общее число получателей доступно глобально в контейнере = *R* x (*N*+ 1). Дополнительные *R* RUs автоматически подготавливаются для обработки конфликтов обновления и трафика защиты от энтропии в регионах.

Выбранная [Модель согласованности](consistency-levels.md) также влияет на пропускную способность. Вы можете получить приблизительно 2,5 пропускную способность чтения для более ослабленных уровней согласованности (например, *сеанса*, *согласованного префикса* и *окончательной* согласованности) по сравнению с более надежными уровнями согласованности (например, *ограниченной устаревания* или *строгой* согласованностью).

## <a name="next-steps"></a>Дальнейшие действия

Далее можно узнать, как настроить пропускную способность для контейнера или базы данных.

* [Настройка и получение пропускной способности контейнеров и базы данных Azure Cosmos DB](set-throughput.md) 

