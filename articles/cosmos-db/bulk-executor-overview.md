---
title: Массовый импорт и обновление данных в Azure Cosmos DB с помощью библиотеки массового исполнителя
description: Выполнение массовых операций в Azure Cosmos DB с помощью интерфейсов API массового импорта и массового обновления, предоставляемых библиотекой массового исполнителя.
author: tknandu
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 05/28/2019
ms.author: ramkris
ms.reviewer: sngun
ms.openlocfilehash: 8d2cb30e0f18485d500344e571b3ac5f2cde008f
ms.sourcegitcommit: e42c778d38fd623f2ff8850bb6b1718cdb37309f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2019
ms.locfileid: "69615703"
---
# <a name="azure-cosmos-db-bulk-executor-library-overview"></a>Общие сведения о библиотеке массового исполнителя в Azure Cosmos DB
 
Azure Cosmos DB — это быстрая, гибкая и глобально распределенная служба базы данных, которая предназначена для гибкого масштабирования. Она поддерживает: 

* высокую пропускную способность операций чтения и записи (миллионы операций в секунду);  
* хранение больших объемов (сотни терабайт и даже больше) транзакционных и операционных данных с прогнозируемой низкой задержкой.  

Библиотека массового исполнителя позволяет использовать эти высокую пропускную способность и емкость. Библиотека массового исполнителя позволяет выполнять массовые операции в Azure Cosmos DB с помощью интерфейсов API массового импорта и массового обновления. Дополнительные сведения о возможностях библиотеки массового исполнителя см. в указанных ниже разделах. 

> [!NOTE] 
> Сейчас библиотека массового исполнителя поддерживает операции импорта и обновления. Она может использоваться только учетными записями API SQL Azure Cosmos DB и API Gremlin.
 
## <a name="key-features-of-the-bulk-executor-library"></a>Основные возможности библиотеки массового исполнителя  
 
* Библиотека значительно уменьшает количество вычислительных ресурсов на стороне клиента, потребляющих пропускную способность, выделенную для контейнера. Однопоточное приложение, которое записывает данные с помощью API массового импорта, обеспечивает в 10 раз большую пропускную способность операции записи по сравнению с многопоточным приложением, которое параллельно записывает данные во время нагрузки ЦП клиентского компьютера.  

* Библиотека абстрагирует длительные задачи по написанию логики приложения для обработки ограничений частоты запросов, времени ожидания запросов и других временных исключений. Они эффективно обрабатываются внутри библиотеки.  

* Библиотека предоставляет упрощенный механизм для горизонтального масштабирования приложений, выполняющих массовые операции. Один экземпляр массового исполнителя, запущенный на виртуальной машине Azure, может потреблять более 500 000 ЕЗ/с. Вы можете достичь более высокой пропускной способности, добавив дополнительные экземпляры на отдельные клиентские виртуальные машины.  
 
* Эта библиотека позволяет выполнять массовый импорт данных размером больше терабайта в течение часа с помощью масштабируемой архитектуры.  

* Он может выполнять массовые обновления существующих данных в контейнерах Azure Cosmos в качестве исправлений. 
 
## <a name="how-does-the-bulk-executor-operate"></a>Как работает групповой исполнитель? 

Когда массовая операция импорта или обновления документов активируется с пакетом сущностей, данные сначала помещаются в группы, соответствующие их диапазону ключей разделов Azure Cosmos DB. В каждой группе, соответствующей диапазону ключей разделов, данные разбиваются на мини-группы, и каждая мини-группа выполняет роль полезных данных, фиксируемых на стороне сервера. Библиотека массового исполнителя имеет встроенные оптимизации для параллельного выполнения этих мини-групп как в рамках, так и за пределами диапазонов ключей разделов. На следующем рисунке показано, как массовый исполнитель объединяет данные в разные ключи раздела:  

![Архитектура массового исполнителя](./media/bulk-executor-overview/bulk-executor-architecture.png)

Библиотека операций с массовым исполнителем гарантирует максимальное использование пропускной способности, выделенной для коллекции. Она использует  [механизм управления перегрузкой в стиле AIMD](https://tools.ietf.org/html/rfc5681) для каждого диапазона ключей разделов Azure Cosmos DB, чтобы эффективно обрабатывать ограничения частоты запросов и время ожидания. 

## <a name="next-steps"></a>Следующие шаги 
  
* Дополнительные сведения см. в примерах приложений, использующих библиотеку небольшого выполнителя в [.NET](bulk-executor-dot-net.md) и [Java](bulk-executor-java.md).  
* Ознакомьтесь со сведениями и заметками о выпуске пакета SDK для массового исполнителя в статьях для [.NET](sql-api-sdk-bulk-executor-dot-net.md) и для [Java](sql-api-sdk-bulk-executor-java.md).
* Библиотека небольшого Исполнительного исполнителя интегрирована в соединитель Cosmos DB Spark. Дополнительные сведения см. в статье о [соединителе Azure Cosmos DB Spark](spark-connector.md) .  
* Библиотека массового исполнителя также интегрирована в новую версию [соединителя Azure Cosmos DB](https://aka.ms/bulkexecutor-adf-v2) для фабрики данных Azure в целях копирования данных.
