---
title: Планирование и управление затратами для Azure Cosmos DB
description: Узнайте, как планировать и управлять затратами на Azure Cosmos DB с помощью анализа затрат в портал Azure.
author: SnehaGunda
ms.author: sngun
ms.custom: subject-cost-optimization
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 02/02/2020
ms.openlocfilehash: 42421f745759d9aee75b285c3fbc6ea7217ba5c0
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85112707"
---
# <a name="plan-and-manage-costs-for-azure-cosmos-db"></a>Планирование и управление затратами для Azure Cosmos DB

В этой статье описывается планирование и управление затратами для Azure Cosmos DB. Во первых, вы используете калькулятор емкости Azure Cosmos DB, чтобы спланировать затраты перед добавлением ресурсов. После добавления ресурсов Azure можно ознакомиться с оценочными затратами. После начала работы с Azure Cosmos DB ресурсами используйте функции управления затратами для установки бюджетов и отслеживания затрат. Вы также можете ознакомиться с прогнозными затратами и выявление тенденций расходов для выявления областей, в которых вам может потребоваться действовать.

Изучите, что затраты на Azure Cosmos DB являются частью ежемесячных затрат в счете Azure. Если вы используете другие службы Azure, вам будет выставлен счет за все службы и ресурсы Azure, используемые в вашей подписке Azure, в том числе на сторонние службы. В этой статье описывается планирование и управление затратами для Azure Cosmos DB. После ознакомления с управлением затратами на Azure Cosmos DB можно применить аналогичные методы для управления затратами для всех служб Azure, используемых в вашей подписке.

## <a name="prerequisites"></a>Предварительные требования

Анализ стоимости поддерживает различные типы учетных записей Azure. Полный список поддерживаемых типов учетных записей см. в статье [Understand Cost Management data](../cost-management-billing/costs/understand-cost-mgt-data.md) (Интерпретация данных службы "Управление затратами"). Чтобы просмотреть данные о затратах, нужен как минимум доступ на чтение для учетной записи Azure. Дополнительные сведения о назначении доступа к данным службы "Управление затратами" Azure см. в [этой статье](../cost-management-billing/costs/assign-access-acm-data.md).

## <a name="review-estimated-costs-with-capacity-calculator"></a>Обзор оценочных затрат с помощью калькулятора емкости

Используйте [Калькулятор емкости Azure Cosmos DB](https://cosmos.azure.com/capacitycalculator/) , чтобы оценить затраты перед созданием ресурсов в учетной записи Azure Cosmos. Калькулятор емкости используется для оценки необходимой пропускной способности и стоимости рабочей нагрузки. Настройка баз данных и контейнеров Azure Cosmos с правильным объемом подготовленной пропускной способности или [единиц запроса (единицы запросов в секунду)](request-units.md)для вашей рабочей нагрузки очень важно для оптимизации затрат и производительности. Необходимо ввести такие сведения, как тип API, число регионов, размер элемента, количество запросов на чтение и запись в секунду, общий объем сохраненных данных для получения оценки затрат. Дополнительные сведения о калькуляторе емкости см. в статье об [оценке](estimate-ru-with-capacity-planner.md) .

На следующем снимке экрана показана пропускная способность и оценка затрат с помощью калькулятора емкости:

:::image type="content" source="./media/plan-manage-costs/capacity-calculator-cost-estimate.png" alt-text="Оценка затрат в калькуляторе Azure Cosmos DBной емкости":::

## <a name="review-estimated-costs-from-the-azure-portal"></a>Ознакомьтесь с оценочными затратами портал Azure

При создании Azure Cosmos DB ресурсов из портал Azure можно увидеть оценочные затраты. Чтобы ознакомиться с оценкой затрат, выполните следующие действия.

1. Войдите в портал Azure и перейдите к своей учетной записи Azure Cosmos.
1. Перейдите к **Обозреватель данных**.
1. Создание нового контейнера, например контейнера графа.
1. Введите пропускную способность, необходимую для рабочей нагрузки, например 400 единиц запросов в секунду. После ввода значения пропускной способности можно увидеть оценку цены, как показано на следующем снимке экрана:

   :::image type="content" source="./media/plan-manage-costs/cost-estimate-portal.png" alt-text="Оценка затрат в портал Azure":::

Если у вашей подписки Azure есть предельная сумма расходов, Azure не позволит вам тратить деньги на сумму кредита. При создании и использовании ресурсов Azure используются ваши кредиты. При достижении лимита кредита развернутые ресурсы отключаются в оставшейся части этого расчетного периода. Вы не можете изменить лимит кредита, но можете удалить его. Дополнительные сведения об ограничениях расходов см. в статье [предельная сумма расходов в Azure](../billing/billing-spending-limit.md).

## <a name="use-budgets-and-cost-alerts"></a>Использование оповещений о бюджете и затратах

Вы можете создать [бюджеты](../cost-management/tutorial-acm-create-budgets.md), чтобы управлять затратами и создавать оповещения, которые автоматически уведомляют заинтересованные лица о нетипичных и чрезмерных затратах. Оповещения основываются на расходах по сравнению с пороговыми значениями бюджета и затрат. Бюджеты и оповещения создаются для подписок Azure и групп ресурсов, поэтому они полезны в рамках общей стратегии мониторинга затрат. Однако они могут иметь ограниченную функциональность для управления отдельными затратами на службы Azure, например стоимостью Azure Cosmos DB, так как они предназначены для мониторинга затрат на более высоком уровне.

## <a name="monitor-costs"></a>Мониторинг затрат

При использовании ресурсов с Azure Cosmos DB взимается плата. Затраты на единицы использования ресурсов зависят от временных интервалов (секунды, минуты, часы и дни) или использования единиц запросов. После начала использования Azure Cosmos DB затраты изменяются, и их можно увидеть на панели [анализ затрат](../cost-management/quick-acm-cost-analysis.md) в портал Azure.

При использовании анализа затрат можно просматривать Azure Cosmos DBные затраты в диаграммах и таблицах для различных временных интервалов. Некоторые примеры относятся к дню, текущему, предыдущему месяцу и году. Вы также можете просматривать затраты по бюджету и прогнозируемым затратам. Переключение на более длительные представления с течением времени может помочь определить тенденции расходов и узнать, где могла произойти чрезмерное расходование. Если вы создали бюджеты, вы также сможете легко увидеть, где они превышаются. Просмотр Azure Cosmos DB затрат в анализе затрат:

1. Войдите на [портал Azure](https://portal.azure.com).

1. Откройте окно **Управление затратами + выставление счетов** , выберите в меню пункт **Управление затратами** , а затем выберите **анализ затрат**. Затем можно изменить область для конкретной подписки из раскрывающегося списка **область** .

1. По умолчанию стоимость всех служб показана на первой кольцевой диаграмме. Выберите область диаграммы с меткой "Azure Cosmos DB".

1. Чтобы уменьшить затраты на одну службу, например Azure Cosmos DB, щелкните **Добавить фильтр** , а затем выберите **имя службы**. Затем выберите **Azure Cosmos DB** из списка. Ниже приведен пример, показывающий затраты только на Azure Cosmos DB:
 
   :::image type="content" source="./media/plan-manage-costs/cost-analysis-pane.png" alt-text="Мониторинг затрат с помощью панели "анализ затрат"":::

В предыдущем примере отображаются текущие затраты на Azure Cosmos DB для месяца февраля. Диаграммы также содержат Azure Cosmos DB затраты по расположению и группе ресурсов.

## <a name="next-steps"></a>Дальнейшие шаги

Дополнительные сведения о том, как работают цены в Azure Cosmos DB, см. в следующих статьях:

* [Модели ценообразования в Azure Cosmos DB](how-pricing-works.md)
* [Optimize provisioned throughput cost in Azure Cosmos DB](optimize-cost-throughput.md) (Оптимизация стоимости подготовленной пропускной способности в Azure Cosmos DB)
* [Optimize query cost in Azure Cosmos DB](optimize-cost-queries.md) (Оптимизация затрат на отправку запросов в Azure Cosmos DB)
* [Оптимизация затрат на хранение в Azure Cosmos DB](optimize-cost-storage.md)