---
title: Планирование и управление затратами на Azure Cosmos DB
description: Узнайте, как планировать и управлять затратами на Azure Cosmos DB, используя анализ затрат на портале Azure.
author: SnehaGunda
ms.author: sngun
ms.custom: subject-cost-optimization
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 02/02/2020
ms.openlocfilehash: cf259dfa0b00393cf0fee259b199527569ba1792
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77152590"
---
# <a name="plan-and-manage-costs-for-azure-cosmos-db"></a>Планирование и управление затратами на Azure Cosmos DB

В этой статье описывается, как можно планировать и управлять затратами на Azure Cosmos DB. Во-первых, вы используете калькулятор емкости Azure Cosmos DB, чтобы помочь спланировать затраты перед добавлением ресурсов. Далее, при добавлении ресурсов Azure можно просмотреть сметные затраты. После того как вы начали использовать ресурсы Azure Cosmos DB, используйте функции управления затратами для настройки бюджетов и мониторинга затрат. Можно также просмотреть прогнозируемые затраты и определить тенденции расходов, чтобы определить области, в которых вы можете действовать.

Поймите, что затраты на Azure Cosmos DB составляют лишь часть ежемесячных расходов в вашем счете За Azure. Если вы используете другие службы Azure, вам выставляется счет за все службы и ресурсы Azure, используемые в подписке Azure, включая сторонние службы. В этой статье объясняется, как планировать и управлять затратами для Azure Cosmos DB. После того, как вы знакомы с управлением затратами для Azure Cosmos DB, вы можете применить аналогичные методы для управления затратами для всех служб Azure, используемых в подписке.

## <a name="prerequisites"></a>Предварительные требования

Анализ стоимости поддерживает различные типы учетных записей Azure. Полный список поддерживаемых типов учетных записей см. в статье [Understand Cost Management data](../cost-management-billing/costs/understand-cost-mgt-data.md) (Интерпретация данных службы "Управление затратами"). Чтобы просмотреть данные о затратах, нужен как минимум доступ на чтение для учетной записи Azure. Дополнительные сведения о назначении доступа к данным службы "Управление затратами" Azure см. в [этой статье](../cost-management-billing/costs/assign-access-acm-data.md).

## <a name="review-estimated-costs-with-capacity-calculator"></a>Обзор сметных затрат с помощью калькулятора емкости

Используйте [калькулятор емкости DB Azure Cosmos](https://cosmos.azure.com/capacitycalculator/) для оценки затрат перед созданием ресурсов в учетной записи Azure Cosmos. Калькулятор емкости используется для получения оценки требуемой пропускной способности и стоимости рабочей нагрузки. Настройка баз данных и контейнеров Azure Cosmos с нужным объемом прокладки, или [единиц запроса (RU/s),](request-units.md)для рабочей нагрузки необходимо для оптимизации затрат и производительности. Необходимо ввести такие сведения, как тип API, количество регионов, размер товара, запросы на чтение/запись в секунду, общие данные, хранящиеся для получения сметы затрат. Чтобы узнать больше о калькуляторе емкости, [см.](estimate-ru-with-capacity-planner.md)

На следующем скриншоте показана пропускная способность и оценка затрат с помощью калькулятора емкости:

![Смета затрат в калькуляторе емкости Azure Cosmos DB](./media/plan-manage-costs/capacity-calculator-cost-estimate.png)

## <a name="review-estimated-costs-from-the-azure-portal"></a>Обзор сметных затрат с портала Azure

При создании dB-ресурсов Azure Cosmos с портала Azure можно увидеть сметные затраты. Используйте следующие шаги для анализа сметы затрат:

1. Войдите на портал Azure и перейдите к учетной записи Azure Cosmos.
1. Перейдите к **исследователю данных.**
1. Создайте новый контейнер, например контейнер для графиков.
1. Ввод пропускной прокладки, необходимой для рабочей нагрузки, например 400 RU/s. После ввода значения пропускной связи можно увидеть оценку цен, показанную на следующем скриншоте:

   ![Смета расходов на портале Azure](./media/plan-manage-costs/cost-estimate-portal.png)

Если в подписке Azure есть лимит расходов, Azure не позволяет вам тратить сумму кредита. При создании и использовании ресурсов Azure используются кредиты. При достижении кредитного лимита развернутые ресурсы отключаются до конца этого периода выставления счетов. Вы не можете изменить свой кредитный лимит, но вы можете удалить его. Для получения дополнительной информации [Azure spending limit](../billing/billing-spending-limit.md)об ограничениях расходов см.

## <a name="use-budgets-and-cost-alerts"></a>Использование оповещений о бюджете и затратах

Вы можете создать [бюджеты](../cost-management/tutorial-acm-create-budgets.md), чтобы управлять затратами и создавать оповещения, которые автоматически уведомляют заинтересованные лица о нетипичных и чрезмерных затратах. Оповещения основываются на расходах по сравнению с пороговыми значениями бюджета и затрат. Бюджеты и оповещения создаются для подписок Azure и групп ресурсов, поэтому они полезны как часть общей стратегии мониторинга затрат. Однако они могут иметь ограниченную функциональность для управления индивидуальными затратами на обслуживание Azure, такими как стоимость Azure Cosmos DB, поскольку они предназначены для отслеживания затрат на более высоком уровне.

## <a name="monitor-costs"></a>Мониторинг затрат

При использовании ресурсов с Azure Cosmos DB вы несете расходы. Затраты на использование ресурсов варьируются в зависимости от временных интервалов (секунды, минуты, часы и дни) или использования единицы запроса. Как только начинается использование Azure Cosmos DB, понесенные расходы, и вы можете увидеть их в панели [анализа затрат](../cost-management/quick-acm-cost-analysis.md) на портале Azure.

При использовании анализа затрат можно просматривать затраты Azure Cosmos DB на графиках и таблицах с разными временными интервалами. Некоторые примеры по дням, текущий, предыдущий месяц, и год. Вы также можете просмотреть затраты в отношении бюджетов и прогнозируемых затрат. Переход на более длинные представления с течением времени может помочь вам определить тенденции расходов и увидеть, где может произойти перерасход средств. Если вы создали бюджеты, вы также можете легко увидеть, где они превышены. Для просмотра затрат Azure Cosmos DB при анализе затрат:

1. Войти на [портал Azure](https://portal.azure.com).

1. Откройте окно **управления затратами и выставлением счетов,** выберите **управление затратами** из меню, а затем выберите **анализ затрат.** Затем можно изменить область действия определенной подписки из момента выпадения **области.**

1. По умолчанию стоимость всех услуг отображается на первом графике пончиков. Выберите область в диаграмме с пометкой "Azure Cosmos DB".

1. Чтобы сократить расходы для одной службы, такой как Azure Cosmos DB, выберите **Добавить фильтр,** а затем выберите **имя службы.** Затем выберите **Azure Cosmos DB** из списка. Вот пример, показывающий затраты только для Azure Cosmos DB:
 
   ![Мониторинг затрат с помощью панели анализа затрат](./media/plan-manage-costs/cost-analysis-pane.png)

В предыдущем примере вы видите текущую стоимость Azure Cosmos DB за февраль. Диаграммы также содержат расходы Azure Cosmos DB по местоположению и группе ресурсов.

## <a name="next-steps"></a>Дальнейшие действия

Подробнее о том, как работает ценообразование, можно в Azure Cosmos DB:

* [Модели ценообразования в Azure Cosmos DB](how-pricing-works.md)
* [Optimize provisioned throughput cost in Azure Cosmos DB](optimize-cost-throughput.md) (Оптимизация стоимости подготовленной пропускной способности в Azure Cosmos DB)
* [Optimize query cost in Azure Cosmos DB](optimize-cost-queries.md) (Оптимизация затрат на отправку запросов в Azure Cosmos DB)
* [Оптимизация затрат на хранение в Azure Cosmos DB](optimize-cost-storage.md)