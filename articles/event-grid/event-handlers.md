---
title: Обработчики событий службы "Сетка событий Azure"
description: Описание обработчиков событий, поддерживаемых в службе "Сетка событий Azure"
services: event-grid
author: spelluru
ms.service: event-grid
ms.topic: conceptual
ms.date: 11/04/2019
ms.author: spelluru
ms.openlocfilehash: c88ef8c3996b1e7d998d3eff12c15077ec2482ff
ms.sourcegitcommit: 375b70d5f12fffbe7b6422512de445bad380fe1e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/06/2019
ms.locfileid: "74900732"
---
# <a name="event-handlers-in-azure-event-grid"></a>Обработчики событий в службе "Сетка событий Azure"

Обработчик событий — это место, куда отправляются события. Обработчик выполняет последующую обработку полученного события. Некоторые службы Azure автоматически настроены для обработки событий. Также для этого можно использовать любой веб-перехватчик. Для обработки событий, веб-перехватчик не обязательно размещать в Azure. Сетка событий поддерживает только конечные точки HTTPS веб-перехватчиков.

В этой статье представлены ссылки на информацию о каждом обработчике событий.

## <a name="azure-automation"></a>Автоматизация Azure

Используйте службу автоматизации Azure для обработки событий с помощью автоматизированных модулей runbook.

|Название  |Описание  |
|---------|---------|
|[Интеграция службы автоматизации Azure со службой "Сетка событий Azure" и Microsoft Teams](ensure-tags-exists-on-new-virtual-machines.md) |Создайте виртуальную машину, которая отправляет событие. Это событие вызывает runbook службы автоматизации, которая присваивает виртуальной машине тег и отправляет сообщение в канал Microsoft Teams. |

## <a name="azure-functions"></a>Функции Azure

Используйте службу "Функции Azure" для бессерверного реагирования на события.

При использовании Функций Azure в качестве обработчика используйте триггер службы "Сетка событий" вместо универсальных триггеров HTTP. Сетка событий автоматически проверяет триггеры функций Сетки событий. При использовании универсальных триггеров HTTP вам нужно реализовать [ответ проверки](security-authentication.md#webhook-event-delivery).

|Название  |Описание  |
|---------|---------|
| [Краткое руководство. обработчик событий с помощью функции](custom-event-to-function.md) | Отправляет пользовательское событие в функцию для обработки. |
| [Триггер службы "Сетка событий" для Функций Azure](../azure-functions/functions-bindings-event-grid.md) | Общие сведения об использовании триггера службы "Сетка событий" в Функциях Azure. |
| [Руководство. Автоматическое изменение размера переданных изображений с помощью службы "Сетка событий"](resize-images-on-storage-blob-upload-event.md) | Пользователи отправляют изображения в учетную запись хранения через веб-приложение. При создании большого двоичного объекта в хранилище служба "Сетка событий" отправляет событие приложению-функции, которое изменяет размер отправленного изображения. |
| [Потоковая передача больших данных в хранилище данных](event-grid-event-hubs-integration.md) | Когда Центры событий создают файл сбора, служба "Сетка событий" отправляет событие приложению-функции. Это приложение извлекает файл записи и перемещает данные в хранилище данных. |
| [Примеры интеграции служебной шины Azure со службой "Сетка событий Azure"](../service-bus-messaging/service-bus-to-event-grid-integration-example.md?toc=%2fazure%2fevent-grid%2ftoc.json) | Служба "Сетка событий" отправляет сообщения из раздела служебной шины в приложение-функцию и приложение логики. |

## <a name="event-hubs"></a>Концентраторы событий

Центры событий можно использовать, если решение получает больше событий, чем может обработать. Приложение обрабатывает события из Центров событий по собственному расписанию. Вы можете расширить параметры обработки входящих событий.

Центры событий могут действовать либо как источник события, либо как обработчик события. В следующей статьи показано, как использовать Центры событий в качестве обработчика.

|Название  |Описание  |
|---------|---------|
| [Краткое руководство. Перенаправление пользовательских событий в концентраторы событий Azure с помощью Azure CLI и службы "Сетка событий"](custom-event-to-eventhub.md) | Отправляет пользовательское событие в концентратор событий для обработки приложением. |
| [Шаблон Resource Manager для создания пользовательского раздела и конечной точки Центров событий](https://github.com/Azure/azure-quickstart-templates/tree/master/101-event-grid-event-hubs-handler)| Шаблон Resource Manager, который создает подписку для пользовательского раздела. Он отправляет события в Центры событий Azure. |

Примеры Центров событий в качестве источника, см. в [источнике Центров событий](event-sources.md#event-hubs).

## <a name="hybrid-connections"></a>Гибридные подключения

Гибридные подключения Azure Relay используются для отправки событий в приложения, которые находятся в корпоративной сети и не имеют общедоступной конечной точки.

|Название  |Описание  |
|---------|---------|
| [Руководство. Отправка пользовательских событий для службы Сетка событий Azure по гибридному подключению](custom-event-to-hybrid-connection.md) | Отправка пользовательских событий в существующее гибридное подключение для обработки приложением прослушивателя. |

## <a name="logic-apps"></a>приложения логики;

Используйте Logic Apps для автоматизации бизнес-процессов реагирования на события.

|Название  |Описание  |
|---------|---------|
| [Отслеживание изменений виртуальной машины с помощью Azure Logic Apps и службы "Сетка событий Azure"](monitor-virtual-machine-changes-event-grid-logic-app.md) | Приложение логики отслеживает изменения в виртуальной машине и отправляет сообщения электронной почты об этих изменениях. |
| [Отправка уведомлений электронной почты о событиях в Центре Интернета вещей Azure с помощью Logic Apps](publish-iot-hub-events-to-logic-apps.md) | Приложение логики отправляет уведомление по электронной почте каждый раз, когда добавляется устройство в Центр Интернета вещей. |
| [Примеры интеграции служебной шины Azure со службой "Сетка событий Azure"](../service-bus-messaging/service-bus-to-event-grid-integration-example.md?toc=%2fazure%2fevent-grid%2ftoc.json) | Служба "Сетка событий" отправляет сообщения из раздела служебной шины в приложение-функцию и приложение логики. |

## <a name="service-bus"></a>Служебная шина Azure

### <a name="service-bus-queues"></a>Очереди служебной шины

События в сетке событий можно маршрутизировать напрямую в очереди служебной шины для использования в сценариях управления буферизацией или командных & в корпоративных приложениях.

В портал Azure при создании подписки на события выберите "очередь служебной шины" в качестве типа конечной точки, а затем щелкните "выбрать конечную точку", чтобы выбрать очередь служебной шины.

#### <a name="using-cli-to-add-a-service-bus-queue-handler"></a>Добавление обработчика очереди служебной шины с помощью интерфейса командной строки

Для Azure CLI следующий пример подписывает и подключает раздел сетки событий к очереди служебной шины:

```azurecli-interactive
# If you haven't already installed the extension, do it now.
# This extension is required for preview features.
az extension add --name eventgrid

az eventgrid event-subscription create \
    --name <my-event-subscription> \
    --source-resource-id /subscriptions/{SubID}/resourceGroups/{RG}/providers/Microsoft.EventGrid/topics/topic1 \
    --endpoint-type servicebusqueue \
    --endpoint /subscriptions/{SubID}/resourceGroups/TestRG/providers/Microsoft.ServiceBus/namespaces/ns1/queues/queue1
```

### <a name="service-bus-topics"></a>Разделы служебной шины

События в сетке событий можно перенаправлять непосредственно в разделы служебной шины для обработки системных событий Azure с разделами служебной шины, а также для команд & управления обменом сообщениями.

В портал Azure при создании подписки на события выберите "раздел служебной шины" в качестве типа конечной точки, а затем щелкните "выбрать и конечную точку", чтобы выбрать раздел служебной шины.

#### <a name="using-cli-to-add-a-service-bus-topic-handler"></a>Добавление обработчика разделов служебной шины с помощью интерфейса командной строки

Для Azure CLI следующий пример подписывает и подключает раздел сетки событий к очереди служебной шины:

```azurecli-interactive
# If you haven't already installed the extension, do it now.
# This extension is required for preview features.
az extension add --name eventgrid

az eventgrid event-subscription create \
    --name <my-event-subscription> \
    --source-resource-id /subscriptions/{SubID}/resourceGroups/{RG}/providers/Microsoft.EventGrid/topics/topic1 \
    --endpoint-type servicebustopic \
    --endpoint /subscriptions/{SubID}/resourceGroups/TestRG/providers/Microsoft.ServiceBus/namespaces/ns1/topics/topic1
```

## <a name="queue-storage"></a>Хранилище очередей

Используйте хранилище очередей для получения событий, которые должны извлекаться. Вы можете использовать хранилище очередей при наличии процесса выполнения, для реагирования которого необходимо много времени. Отправляя события в хранилище очередей, приложение может запрашивать и обрабатывать события по собственному расписанию.

|Название  |Описание  |
|---------|---------|
| [Краткое руководство. Перенаправление пользовательских событий в хранилище очередей Azure с помощью Azure CLI и службы "Сетка событий"](custom-event-to-queue-storage.md) | Содержит сведения об отправке пользовательских событий в хранилище очередей. |

## <a name="webhooks"></a>Веб-перехватчики

Используйте веб-перехватчики для создания настраиваемых конечных точек, реагирующих на события.

|Название  |Описание  |
|---------|---------|
| Краткое руководство. Создание и перенаправление пользовательских событий с помощью [Azure CLI](custom-event-quickstart.md), [PowerShell](custom-event-quickstart-powershell.md) и [портала Azure](custom-event-quickstart-portal.md). | Содержит сведения об отправке пользовательских событий в веб-перехватчик. |
| Краткое руководство. Перенаправление событий хранилища BLOB-объектов в пользовательскую конечную веб-точку с помощью [Azure CLI](../storage/blobs/storage-blob-event-quickstart.md?toc=%2fazure%2fevent-grid%2ftoc.json), [PowerShell](../storage/blobs/storage-blob-event-quickstart-powershell.md?toc=%2fazure%2fevent-grid%2ftoc.json), и [портала Azure](blob-event-quickstart-portal.md). | Содержит сведения об отправке событий хранилища BLOB-объектов в веб-перехватчик. |
| [Быстрое руководство по отправке событий реестра контейнеров](../container-registry/container-registry-event-grid-quickstart.md?toc=%2fazure%2fevent-grid%2ftoc.json) | Содержит сведения об отправке событий Реестра контейнеров с помощью Azure CLI. |
| [Общие сведения. Получение событий через конечную точку HTTP](receive-events.md) | В этой статье описывается, как проверить получение событий на конечную точку HTTP из подписки на события, а также как получать события и десериализировать их. |

## <a name="next-steps"></a>Дальнейшие действия

* Общие сведения о сетке событий см. в статье [Сведения о сетке событий](overview.md).
* Сведения о том, как быстро приступить к использованию службы "Сетка событий", см. в разделе [Создание и перенаправление пользовательского события со службой "Сетка событий Azure"](custom-event-quickstart.md).
