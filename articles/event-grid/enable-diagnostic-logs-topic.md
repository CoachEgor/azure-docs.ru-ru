---
title: Azure Event Grid - Включить диагностические журналы для темы
description: В этой статье содержатся пошаговые инструкции о том, как включить диагностические журналы для темы сетки событий Azure.
services: event-grid
author: spelluru
ms.service: event-grid
ms.topic: how-to
ms.date: 01/30/2020
ms.author: spelluru
ms.openlocfilehash: a32d26629bb9efed4a4f1f49eee2f0534e1873a9
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "76960507"
---
#  <a name="diagnostic-logs-for-an-azure-event-grid-topic"></a>Диагностические журналы для темы сетки событий Azure
Диагностические настройки позволяют пользователям Event Grid захватывать и просматривать журналы сбоев публикаций и сработка доставки в одном из следующих мест: учетная запись хранения Azure, концентратор событий или рабочее пространство Log Analytics. В этой статье содержатся пошаговые инструкции для включения диагностических журналов для темы сетки событий.

## <a name="prerequisites"></a>Предварительные требования

- Подготовленная тема сетки событий
- Подготовленное предназначение для захвата диагностических журналов. Это может быть одним из следующих направлений:
    - Учетная запись хранения Azure.
    - концентратор событий;
    - Рабочая область Log Analytics


## <a name="steps-for-enabling-diagnostic-logs-for-a-topic"></a>Шаги для включения диагностических журналов для темы

1. Войдите на [портал Azure](https://portal.azure.com).
2. Перейдите к теме сетки событий, для которой требуется включить настройки диагностического журнала. 
3. Выберите **параметры диагностики** под **мониторингом** в левом меню.
4. На странице **диагностических настроек** выберите **Добавить новую диагностическую настройку.** 
    
    ![Добавление кнопки диагностической настройки](./media/enable-diagnostic-logs-topic/diagnostic-settings-add.png)
5. Укажите **имя** для диагностической настройки. 

    ![Диагностические настройки - имя](./media/enable-diagnostic-logs-topic/diagnostic-settings-name.png)     
6. Включите один или несколько пунктов назначения захвата для журналов, а затем нанимите их, выбрав ранее созданный ресурс захвата. 
    - Если вы выберете **Архив для учетной записи хранения,** выберите **учетную запись хранения - Настройка,** а затем выберите учетную запись хранилища в подписке Azure. 

        ![Архив учетной записи хранения Azure](./media/enable-diagnostic-logs-topic/archive-storage.png)
    - Если вы выберете **Stream в концентратор событий,** выберите **концентратор событий - Настройка,** а затем выберите пространство имен концентратора событий, концентратор событий и политику доступа. 
        ![Поток в центр событий](./media/enable-diagnostic-logs-topic/archive-event-hub.png)
    - При **выборе аналитики журнала**выберите рабочее пространство Log Analytics.
        ![Отправка в Log Analytics](./media/enable-diagnostic-logs-topic/send-log-analytics.png)
7. Выберите варианты **DeliveryFailures** и **PublishFailures** в разделе **Журнала.** 
    ![Выберите сбои](./media/enable-diagnostic-logs-topic/log-failures.png)
8. Нажмите кнопку **Сохранить**. Выберите **X** в правом углу, чтобы закрыть страницу. 
9. Теперь, назад на странице **диагностических настроек,** подтвердите, что вы видите новую запись в таблице **Настройки диагностики.** 
    ![Диагностическая настройка в списке](./media/enable-diagnostic-logs-topic/diagnostic-setting-list.png)

     Вы также можете включить сбор всех метрик для темы. 

## <a name="next-steps"></a>Дальнейшие действия
Если вам нужна дополнительная помощь, опубликуйте свой вопрос на [форуме Stack Overflow](https://stackoverflow.com/questions/tagged/azure-eventgrid) или откройте [билет поддержки.](https://azure.microsoft.com/support/options/) 
