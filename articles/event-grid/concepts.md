---
title: Основные понятия службы "Сетка событий Azure"
description: В статье описываются служба "Сетка событий Azure" и ее основные понятия. Также приводятся определения нескольких ключевых компонентов этой службы.
services: event-grid
author: spelluru
ms.service: event-grid
ms.topic: conceptual
ms.date: 08/03/2018
ms.author: spelluru
ms.openlocfilehash: 0821c749a6cb718e1b8abb74a2925bc041850eaf
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "66305257"
---
# <a name="concepts-in-azure-event-grid"></a>Основные понятия в службе "Сетка событий Azure"

В этой статье описаны основные понятия в службе "Сетка событий Azure".

## <a name="events"></a>События

Событие — минимальный объем информации, который полностью описывает нечто, произошедшее в системе. Каждое событие содержит такие общие сведения, как источник события, время, когда оно произошло, и уникальный идентификатор. Каждое событие также содержит определенные сведения, которые относятся к конкретному типу события. Например, событие создания файла в службе хранилища Azure содержит сведения о файле, такие как значение `lastTimeModified`. Или событие службы "Центры событий" имеет URL-адрес файла сбора данных. 

Событие размером до 64 КБ рассматривается, Общая доступность (GA) уровень соглашения об уровне обслуживания. Поддержка событие размером до 1 МБ в настоящее время доступна в предварительной версии. События более 64 КБ взимается с шагом в 64 КБ. 


Свойства, отправляемые в событии, см. в статье [о схеме событий службы "Сетка событий Azure"](event-schema.md).

## <a name="publishers"></a>Издатели

Издатель — это пользователь или организация, которая решает отправить события в службу "Сетка событий". Корпорация Майкрософт публикует события для нескольких служб Azure. Вы можете опубликовать события из своего приложения. Организации, чьи службы размещены за пределами Azure, могут публиковать события через службу "Сетка событий".

## <a name="event-sources"></a>Источники событий

Источник события — это место, где оно произошло. С каждым источником события связан один или несколько типов событий. Например, служба хранилища Azure — источник событий создания больших двоичных объектов. Центр Интернета вещей является источником событий, созданных устройством. Приложение является источником определяемых пользователем событий. Источники событий отвечают за отправку событий в службу "Сетка событий".

Сведения о реализации любого из поддерживаемых источников службы "Сетка событий" см. в разделе об [источниках событий в службе "Сетка событий Azure"](event-sources.md).

## <a name="topics"></a>Разделы

Раздел сетки событий предоставляет конечную точку, в которую источник отправляет события. Издатель создает раздел сетки событий и решает, сколько разделов нужно источнику событий: один или несколько. Раздел используется для коллекции связанных событий. Чтобы реагировать на события определенных типов, подписчикам следует решить, на какие из разделов подписаться.

Разделы системы — это встроенные разделы, предоставляемые службами Azure. Они не отображаются в подписке Azure, так как они принадлежат издателю, однако вы можете подписаться на них. Чтобы оформить подписку, укажите сведения о ресурсе, из которого вы хотите получать события. До тех пор, пока у вас есть доступ к ресурсу, можно подписаться на его события.

К пользовательским относятся разделы приложений и разделы сторонних поставщиков. После того как вы создадите или назначите доступ к пользовательскому разделу, он будет отображаться в вашей подписке.

При разработке приложения можно создать различное число разделов. Для больших решений создайте пользовательский раздел для каждой категории связанных событий. Например, рассмотрим приложение, которое отправляет события, связанные с изменением учетных записей пользователей и обработкой заказов. Маловероятно, что для обработчика событий потребуются обе категории событий. Создайте два пользовательских раздела, чтобы обработчик событий подписался на требующийся раздел. Для небольших решений, возможно, целесообразнее отправлять все события в один раздел. Подписчики на события могут отфильтровать данные по требуемым типам событий.

## <a name="event-subscriptions"></a>Подписки на события

Подписка сообщает службе "Сетка событий", какие события в разделе нужно получать. При создании подписки необходимо ввести конечную точку для обработки событий. Вы можете фильтровать события, которые отправляются в конечную точку. Можно задать фильтр по типу события или шаблону темы. Дополнительные сведения см. в разделе [Схема подписки для службы "Сетка событий"](subscription-creation-schema.md).

Примеры создания подписок см. по ссылкам ниже.

* [Примеры Azure CLI для службы "Сетка событий"](cli-samples.md)
* [Примеры Azure PowerShell для службы "Сетка событий"](powershell-samples.md)
* [Шаблоны Azure Resource Manager для службы "Сетка событий"](template-samples.md)

Дополнительные сведения см. в статье [Запрос к подпискам службы "Сетка событий Azure"](query-event-subscriptions.md).

## <a name="event-subscription-expiration"></a>Истечение срока действия подписки на событие
После этой даты подписка автоматически перестанет действовать. Задайте срок действия подписки на событие, которая необходима только в течение ограниченного времени и не нужно беспокоиться об очистке этих подписок. Например при создании подписки на события для тестирования сценария может потребоваться задать срок действия. 

Чтобы посмотреть пример настройки срока действия, перейдите в раздел [Подписка с дополнительными фильтрами](how-to-filter-events.md#subscribe-with-advanced-filters).

## <a name="event-handlers"></a>Обработчики событий

С точки зрения службы "Сетка событий" обработчик событий — это место, куда отправляются события. Обработчик выполняет последующую обработку полученного события. Служба "Сетка событий" поддерживает несколько типов обработчиков. В качестве обработчика можно использовать поддерживаемую службу Azure или собственный веб-перехватчик. В зависимости от типа обработчика служба "Сетка событий" применяет различные механизмы, гарантирующие доставку события. Для обработчиков событий веб-перехватчиков HTTP событие повторяется, пока обработчик не возвращает код состояния `200 – OK`. Для очереди службы хранилища Azure события повторяются, пока служба очередей не выполнит успешно отправку сообщения в очередь.

Сведения о реализации любого из поддерживаемых обработчиков службы "Сетка событий" см. в статье об [обработчиках событий в службе "Сетка событий Azure"](event-handlers.md).

## <a name="security"></a>Безопасность

Служба "Сетка событий" обеспечивает безопасность подписки на разделы и публикации разделов. При настройке подписки необходимо иметь соответствующие разрешения для ресурса или раздела сетки событий. При публикации необходимо пройти аутентификацию на основе маркера SAS или ключа для раздела. Дополнительные сведения см. в разделе [Сетка событий: безопасность и проверка подлинности](security-authentication.md).

## <a name="event-delivery"></a>Доставка событий

Если служба "Сетка событий" не может подтвердить, что событие было получено конечной точкой подписчика, служба отправляет его повторно. Дополнительные сведения см. в разделе [Доставка и повторные попытки доставки сообщений сетки событий](delivery-and-retry.md).

## <a name="batching"></a>Пакетная обработка

Если применяется пользовательский раздел, события всегда нужно публиковать в массиве. Для сценариев с низкой пропускной способностью это может быть один пакет. Но если публикуется большой объем данных, рекомендуем упаковать несколько событий, чтобы повысить эффективность. Максимальный размер пакета: 1 МБ. Каждое событие должно оставаться больше 64 КБ (общедоступная) или 1 МБ (Предварительная версия).

> [!NOTE]
> Событие размером до 64 КБ рассматривается, Общая доступность (GA) уровень соглашения об уровне обслуживания. Поддержка событие размером до 1 МБ в настоящее время доступна в предварительной версии. События более 64 КБ взимается с шагом в 64 КБ. 

## <a name="next-steps"></a>Дальнейшие действия

* Общие сведения о службе "Сетка событий" см. в разделе [Общие сведения о службе "Сетка событий Azure"](overview.md).
* Сведения о том, как быстро приступить к использованию службы "Сетка событий", см. в разделе [Создание и перенаправление пользовательского события со службой "Сетка событий Azure"](custom-event-quickstart.md).
