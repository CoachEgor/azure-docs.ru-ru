---
title: Мониторинг доставки сообщений Сетки событий Azure
description: В этой статье описывается, как использовать портал Azure для просмотра состояния доставки сообщений службы "Сетка событий Azure".
services: event-grid
author: spelluru
manager: timlt
ms.service: event-grid
ms.topic: conceptual
ms.date: 01/23/2020
ms.author: spelluru
ms.openlocfilehash: 7a01ab91fe84aaa1fe55018754eddbf8b8f89643
ms.sourcegitcommit: b396c674aa8f66597fa2dd6d6ed200dd7f409915
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2020
ms.locfileid: "82890852"
---
# <a name="monitor-event-grid-message-delivery"></a>Мониторинг доставки сообщений Сетки событий 

В этой статье описано, как использовать портал для просмотра состояния доставки событий.

Сетка событий обеспечивает надежную доставку. Она обеспечивает доставку каждого сообщения по крайней мере один раз для каждой подписки. Отправка событий для зарегистрированных веб-перехватчиков каждой подписки осуществляется мгновенно. Если веб-перехватчик не подтверждает получения события в течение 60 секунд с момента первой попытки доставки, сетка событий предпринимает повторную попытку доставить событие.

См. дополнительные сведения о [доставке сообщений и повторных попытках в Сетке событий](delivery-and-retry.md).

## <a name="delivery-metrics"></a>Метрики доставки

На портале отображаются метрики состояния доставки сообщений о событиях.

Ниже приведены некоторые метрики.

* **Публикация выполнена**: событие отправлено в раздел и обработано; получен ответ 2xx.
* **Публикация не выполнена**: события отправлены в раздел, но отклонены; получен код ошибки.
* **Не соответствует**: событие опубликовано в разделе, но оно не соответствует подписке на события; событие удалено.

Для подписок ниже приведены некоторые метрики.

* **Доставка выполнена**: событие доставлено в конечную точку подписки: получен ответ 2xx.
* **Сбой доставки**: каждый раз, когда служба пытается доставить сообщение, а обработчик событий не возвращает код успешного 2xxа, счетчик **сбоя доставки** увеличивается. Если мы попытаетесь доставить одно и то же событие несколько раз, счетчик ошибок **доставки** увеличивается на единицу при каждом сбое.
* **Срок действия событий истек**: событие не доставлено и отправлены все повторные попытки; событие удалено.
* **Соответствующие события**: событие в разделе сопоставлено подпиской на событие.

    > [!NOTE]
    > Полный список метрик см. в статье [метрики, поддерживаемые службой "Сетка событий Azure](metrics.md)".

## <a name="event-subscription-status"></a>Состояние подписки на событие

Чтобы просмотреть метрики подписки на события, можно выполнить поиск по типу подписки или по подпискам для конкретного ресурса.

Чтобы выполнить поиск по типу события подписки, выберите **Все службы**.

![Выбор всех служб](./media/monitor-event-delivery/all-services.png)

Выполните поиск по словосочетанию **сетка событий** и выберите из доступных вариантов **Подписки на сетку событий**.

![Поиск подписок на события](./media/monitor-event-delivery/search-and-select.png)

Отфильтруйте результаты поиска по типу события, подписке и расположению. Выберите **Метрики** для подписки для просмотра.

![Фильтрация подписок на события](./media/monitor-event-delivery/filter-events.png)

Просмотрите метрики для раздела событий и подписки на события.

![Просмотр метрик событий](./media/monitor-event-delivery/subscription-metrics.png)

Чтобы найти метрики для определенного ресурса, выберите необходимый ресурс. Затем щелкните **События**.

![Выбор событий для ресурса](./media/monitor-event-delivery/select-events.png)

Вы можете просмотреть метрики подписок для этого ресурса.

## <a name="custom-event-status"></a>Состояние настраиваемого события

При публикации пользовательского раздела можно просмотреть соответствующие метрики. Выберите группу ресурсов раздела, а затем выберите раздел.

![Выбор пользовательского раздела.](./media/monitor-event-delivery/select-custom-topic.png)

Просмотрите метрики для раздела пользовательских событий.

![Просмотр метрик событий](./media/monitor-event-delivery/custom-topic-metrics.png)

## <a name="set-alerts"></a>Задание предупреждений

Вы можете настроить оповещения для разделов и метрик уровня домена для пользовательских разделов и доменов событий. В колонке "Обзор" для выберите **оповещения** в левом меню ресурсов, чтобы просматривать, управлять и создавать правила генерации оповещений. [Дополнительные сведения об оповещениях Azure Monitor](../azure-monitor/platform/alerts-overview.md)

![Просмотр метрик событий](./media/monitor-event-delivery/select-alerts.png)

## <a name="next-steps"></a>Дальнейшие действия

* См. дополнительные сведения о [доставке сообщений и повторных попытках в Сетке событий](delivery-and-retry.md).
* Общие сведения о службе "Сетка событий" см. в разделе [Общие сведения о службе "Сетка событий Azure"](overview.md).
* Сведения о том, как быстро приступить к использованию службы "Сетка событий", см. в разделе [Создание и перенаправление пользовательского события со службой "Сетка событий Azure"](custom-event-quickstart.md).
