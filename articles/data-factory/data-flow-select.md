---
title: Преобразование "Выбор потока данных сопоставления фабрики данных Azure"
description: Преобразование "Выбор потока данных сопоставления фабрики данных Azure"
author: kromerm
ms.author: makromer
ms.service: data-factory
ms.topic: conceptual
ms.date: 02/12/2019
ms.openlocfilehash: 6ef9712dd2fd6b8d53fd4ad2c3e07e1d6c8f1aec
ms.sourcegitcommit: e0e6663a2d6672a9d916d64d14d63633934d2952
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/21/2019
ms.locfileid: "72387201"
---
# <a name="mapping-data-flow-select-transformation"></a>Преобразование "Выбор потока данных сопоставления"


Используйте это преобразование для избирательности столбцов (уменьшая число столбцов), псевдонимов столбцов и потоков, а затем Переупорядочивайте столбцы.

## <a name="how-to-use-select-transformation"></a>Как использовать преобразование «выбор»
Преобразование выбора позволяет создавать псевдонимы для всего потока или столбцов в этом потоке, назначать разные имена (псевдонимы) и затем ссылаться на эти новые имена в потоке данных. Это преобразование полезно для сценариев самосоединения. Чтобы реализовать самосоединение в средстве "Поток данных" Фабрики данных Azure, для потока следует создать новую ветвь (New Branch), а затем сразу же добавить преобразование выбора (Select). У этого потока теперь будет новое имя, которое вы можете использовать для присоединения к исходному потоку при самосоединении:

![Самостоятельная связь](media/data-flow/selfjoin.png "Самостоятельная связь")

На приведенной выше схеме преобразование выбора показано сверху. При этом исходному потоку присваивается псевдоним OrigSourceBatting. В выделенном преобразовании «соединение» под ним видно, что мы используем этот параметр поток псевдонима в качестве правого объединения, что позволяет ссылаться на тот же ключ в левой & правой части внутреннего объединения.

Преобразование выбора можно также использовать для отмены выбора столбцов в потоке данных. Например, если в вашем приемнике определено шесть столбцов, но вы хотите преобразовать только три столбца, а затем передать их в приемник, с помощью преобразования выбора вы можете выбрать только эти три столбца.

![Выбор преобразования](media/data-flow/newselect1.png "Выбрать псевдоним")

## <a name="options"></a>Параметры
* По умолчанию в преобразование выбора включаются все входящие столбцы, а их исходные имена сохраняются. Вы можете присвоить потоку псевдоним, задав имя для преобразования выбора.
* Чтобы указать псевдонимы для отдельных столбцов, отключите параметр Select All (Выбрать все) и выполните сопоставление столбцов в нижней части экрана.
* Выберите Пропустить дубликаты, чтобы исключить дублированные столбцы из входных или выходных метаданных.

![Пропустить дубликаты](media/data-flow/select-skip-dup.png "Пропустить дубликаты")

* Если вы решили пропустить дубликаты, результаты будут отображаться на вкладке Проверка. ADF сохранит первое вхождение столбца, и вы увидите, что каждое последующее вхождение этого столбца было удалено из последовательности.

> [!NOTE]
> Чтобы очистить правила сопоставления, нажмите кнопку " **Сброс** ".

## <a name="mapping"></a>Сопоставление
По умолчанию преобразование «выбор» автоматически сопоставляет все столбцы, что будет проходить через все входящие столбцы с тем же именем в выходных данных. Имя выходного потока, заданное в параметрах SELECT, определяет новое имя псевдонима для потока. Если вы сохраняете выбор Set для автоподбора, вы можете создать псевдоним для всего потока со всеми столбцами.

![Выбор правил преобразования](media/data-flow/rule2.png "Сопоставление на основе правил")

Если вы хотите создать псевдонимы, удалить, переименовать или переупорядочить столбцы, необходимо сначала отключить параметр автоmap. По умолчанию вы увидите правило по умолчанию, которое было введено с именем «все входные столбцы». Это правило можно оставить на месте, если предполагается, что все входящие столбцы будут сопоставляться с одним и тем же именем на выходе.

Однако если вы хотите добавить настраиваемые правила, щелкните "добавить сопоставление". Сопоставление полей предоставит вам список имен входящих и исходящих столбцов для сопоставления и псевдонима. Выберите "сопоставление на основе правил", чтобы создать правила сопоставления шаблонов.

## <a name="rule-based-mapping"></a>Сопоставление на основе правил
При выборе сопоставления на основе правил вы указываете ADF, что необходимо оценить выражение сопоставления, чтобы оно соответствовало входящим правилам шаблона, и определить имена исходящих полей. Вы можете добавить любое сочетание сопоставлений полей и на основе правил. Затем имена полей создаются в среде выполнения ADF на основе входящих метаданных из источника. Имена созданных полей можно просмотреть во время отладки и с помощью панели предварительного просмотра данных.

Дополнительные сведения о сопоставлении шаблонов можно найти в [документации по шаблону столбцов](concepts-data-flow-column-pattern.md).

## <a name="next-steps"></a>Дальнейшие действия
* После использования инструкции SELECT для переименования, изменения порядка и псевдонима столбцов используйте [Преобразование «приемник](data-flow-sink.md) » для размещения данных в хранилище данных.
