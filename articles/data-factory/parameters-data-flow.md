---
title: Параметризация потоков данных для сопоставления
description: Узнайте, как параметризировать поток данных отображения из конвейеров фабрики данных
author: kromerm
ms.author: makromer
ms.reviewer: daperlov
ms.service: data-factory
ms.topic: conceptual
ms.date: 01/07/2020
ms.openlocfilehash: c717d9ab44493d15589030073cd2ab260ef52e1c
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "76760221"
---
# <a name="parameterizing-mapping-data-flows"></a>Параметризация потоков данных для сопоставления

Картирование потоков данных в Azure Data Factory поддерживает использование параметров. Можно определить параметры внутри определения потока данных, которые затем можно использовать на протяжении всего выражения. Значения параметра могут быть установлены конвейером вызова через действие «Поток данных выполнения». У вас есть три варианта настройки значений в выражениях активности потока данных:

* Используйте язык выражения потока управления конвейером для настройки динамического значения
* Используйте язык выражения потока данных для создания динамического значения
* Используйте любой язык выражения для установки статического буквального значения

Используйте эту возможность, чтобы сделать потоки данных общим и многоразовыми. Можно параметризировать настройки и выражения потока данных с помощью этих параметров.

## <a name="create-parameters-in-a-mapping-data-flow"></a>Создание параметров в потоке данных отображения

Чтобы добавить параметры в поток данных, нажмите на пустую часть холста потока данных, чтобы увидеть общие свойства. В панели настроек вы увидите вкладку **под названием Parameter.** Выберите **новый** для создания нового параметра. Для каждого параметра необходимо назначить имя, выбрать тип и дополнительно установить значение по умолчанию.

![Создание параметров потока данных](media/data-flow/create-params.png "Создание параметров потока данных")

## <a name="use-parameters-in-a-mapping-data-flow"></a>Использование параметров в потоке данных отображения 

Параметры могут быть отсылкой в любом выражении потока данных. Параметры начинаются с $ и неизменяемы. Список доступных параметров находится внутри expression Builder под вкладкой **Параметры.**

![Выражение параметра потока данных](media/data-flow/parameter-expression.png "Выражение параметра потока данных")

Вы можете быстро добавить дополнительные параметры, выбрав **новый параметр** и указав имя и тип.

![Выражение параметра потока данных](media/data-flow/new-parameter-expression.png "Выражение параметра потока данных")

### <a name="passing-in-a-column-name-as-a-parameter"></a>Прохождение в названии столбца в качестве параметра

Общим шаблоном является прохождение в названии столбца в качестве значения параметра. Для ссылки на столбец, `byName()` связанный с параметром, используйте функцию. Не забудьте бросить столбец в соответствующий `toString()`тип с функцией литья, такой как.

Например, если вы хотите сопоставить столбец `columnName`строки на основе параметра, `toString(byName($columnName))`можно добавить выведенное преобразование столбца, равное преобразованию.

![Прохождение в названии столбца в качестве параметра](media/data-flow/parameterize-column-name.png "Прохождение в названии столбца в качестве парамета")

## <a name="assign-parameter-values-from-a-pipeline"></a>Присваивая значения параметров из конвейера

После создания потока данных с параметрами его можно выполнить из конвейера с помощью действия «Потоков данных». После добавления действия в холст конвейера вам будут представлены доступные параметры потока данных во вкладке **Параметры** активности.

![Настройка параметра потока данных](media/data-flow/parameter-assign.png "Настройка параметра потока данных")

Если тип параметра является строкой, при нажатии на текстовое поле для набора значений параметров можно ввести либо конвейер, либо выражение потока данных. Если вы выберете выражение конвейера, вам будет представлена панель выражения конвейера. Убедитесь в том, чтобы включить функции конвейера в синтаксис интерполяции строки, используя, например: `'@{<expression>}'`

```'@{pipeline().RunId}'```

Если ваш параметр не является строкой типа, вам всегда будет представлен builder выражения потока данных. Здесь можно ввести любое выражение или буквальные значения, которые, по желанию, соответствуют типу параметра. Ниже приведены примеры выражения потока данных и буквальная строка от строителя выражения:

* ```toInteger(Role)```
* ```'this is my static literal string'```

Каждый поток картографических данных может иметь любую комбинацию параметров конвейера и выражения потока данных. 

![Пример параметров потока данных](media/data-flow/parameter-example.png "Пример параметров потока данных")



## <a name="next-steps"></a>Дальнейшие действия
* [Выполнение активности потока данных](control-flow-execute-data-flow-activity.md)
* [Управление выражениями потока](control-flow-expression-language-functions.md)
