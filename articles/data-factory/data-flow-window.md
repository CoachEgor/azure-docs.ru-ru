---
title: Преобразование окна Потока данных для сопоставления в Фабрике данных Azure
description: Преобразование окна Потока данных для сопоставления в Фабрике данных Azure
author: kromerm
ms.author: makromer
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.date: 01/30/2019
ms.openlocfilehash: cf58db14398026da62ed13c66be815be8fe166a2
ms.sourcegitcommit: 11265f4ff9f8e727a0cbf2af20a8057f5923ccda
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/08/2019
ms.locfileid: "72029903"
---
# <a name="azure-data-factory-window-transformation"></a>Преобразование окна фабрики данных Azure



Преобразование окна позволяет определять агрегирования столбцов на основе окон в ваших потоках данных. В построителе выражений вы можете определить различные типы объединений на основе данных или временных окон (предложение SQL OVER, например LEAD, LAG, NTILE, CUMEDIST, RANK и т. д.). В ваших выходных данных будет сгенерировано новое поле, которое будет включать такие агрегаты. Вы также можете включить дополнительные поля "Группировать по".

![Параметры окна](media/data-flow/windows1.png "окно 1")

## <a name="over"></a>Over
Задайте секционирование данных столбцов для своего преобразования окна. Эквивалент в SQL — это параметр ```Partition By``` в предложении Over в SQL. Если вы хотите создать расчет или выражение для секционирования, вы можете сделать это, наведя курсор на имя столбца и выбрав "Вычисляемый столбец".

![Параметры окна](media/data-flow/windows4.png "окно 4")

## <a name="sort"></a>Сортировка
Еще одна функция предложения Over —это установка параметра ```Order By```. Он задает порядок сортировки данных. Вы также можете создать выражение для значения расчета в этом поле столбца для сортировки.

![Параметры окна](media/data-flow/windows5.png "окно 5")

## <a name="range-by"></a>Range By
Затем задайте для рамки окна параметр "Неограниченная" или "Ограниченная". Чтобы сделать рамку окна неограниченной, установите ползунок в положение "Неограниченная" с двух концов. Если вы выберете вариант между положениями "Неограниченная" и "Текущая строка", вам нужно задать начальное и конечное значение смещения. Оба значения должны быть положительными целыми числами. Вы можете использовать относительные числа или значения из своих данных.

Ползунок окна задает два значения: значения перед текущей строкой и значения после текущей строки. Начальное и конечное значения смещения соответствуют двум селекторам на ползунке.

![Параметры окна](media/data-flow/windows6.png "окно 6")

## <a name="window-columns"></a>Столбцы окна
Наконец, с помощью построителя выражений определите объединения, которые вы хотите использовать с окнами данных, например RANK, COUNT, MIN, MAX, DENSE RANK, LEAD, LAG и т. д.

![Параметры окна](media/data-flow/windows7.png "окно 7")

Полный список объединений и аналитических функций, которые доступны вам для использования в языке выражений Потока данных ADF через построитель выражений, приведены здесь: https://aka.ms/dataflowexpressions.

## <a name="next-steps"></a>Следующие шаги

Если вы ищете простое агрегирование по группам, используйте [Преобразование «Статистическая обработка](data-flow-aggregate.md) »
