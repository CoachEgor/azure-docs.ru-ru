---
title: Обработка текстовых файлов фиксированной длины с сопоставлением потоков данных в фабрике данных Azure
description: Узнайте, как обрабатывать текстовые файлы с фиксированной длиной в фабрике данных Azure с помощью сопоставления потоков данных.
services: data-factory
author: balakreshnan
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
ms.date: 8/18/2019
ms.author: makromer
ms.openlocfilehash: e1ba09f459152616941071c23f7a6545ec2a8b73
ms.sourcegitcommit: d470d4e295bf29a4acf7836ece2f10dabe8e6db2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/02/2019
ms.locfileid: "70210680"
---
# <a name="process-fixed-length-text-files-using-data-factory-mapping-data-flows"></a>Обработка текстовых файлов фиксированной длины с помощью потоков данных сопоставления фабрики данных

Потоки данных сопоставления фабрики данных поддерживают данные преобразования из текстовых файлов с фиксированной шириной. Будет определен набор данных для текстового файла без разделителя, а затем настроены разбиения подстрок на основе порядкового номера.

## <a name="create-a-pipeline"></a>Создание конвейера

1. Перейдите в раздел **+ Новый конвейер** , чтобы запустить новый конвейер.

2. Добавить действие потока данных, которое будет использоваться для обработки файлов с фиксированной шириной

  ![Конвейер фиксированной ширины](media/data-flow/fwpipe.png)

3. В действии поток данных выберите новый поток данных сопоставления.

4. Добавление преобразования «источник», «производный столбец», «выбор» и «приемник»

  ![Поток данных фиксированной ширины](media/data-flow/fw2.png)

5. Настройка преобразования «источник» для использования нового набора данных, который будет иметь текстовый тип с разделителями

6. Не задавать разделители столбцов и без заголовков

Мы будем просто устанавливать начальные точки и длины для этого содержимого файла:

```
1234567813572468
1234567813572468
1234567813572468
1234567813572468
1234567813572468
1234567813572468
1234567813572468
1234567813572468
1234567813572468
1234567813572468
1234567813572468
1234567813572468
1234567813572468
```

7. На вкладке проекция преобразования «источник» должен отобразиться один строковый столбец с именем «column_1».

8. Теперь в производном столбце создайте новый столбец.

9. Мы предоставим простые имена столбцов, такие как col1.

10. Затем в построителе выражений введите:

  ```substring(Column_1,1,4)```

  ![производный столбец](media/data-flow/fwderivedcol1.png)

10. Повторите это действие для всех столбцов, которые необходимо проанализировать

12. Щелкните вкладку Проверка, чтобы просмотреть новые столбцы, которые будут созданы.

  ![обследован](media/data-flow/fwinspect.png)

13. Используйте команду выбрать преобразование, чтобы удалить все столбцы, которые не требуются для преобразования.

  ![Выбор преобразования](media/data-flow/fwselect.png)

14. Наконец, используйте приемник для вывода данных в папку:

  ![приемник фиксированной ширины](media/data-flow/fwsink.png)

  Вот как будут выглядеть выходные данные:

  ![вывод фиксированной ширины](media/data-flow/fxdoutput.png)

  Теперь данные с фиксированной шириной разделяются четырьмя символами и присвоены значениям col1, col2, Col3, Col4,... На основе приведенного выше примера данные разбиваются на 4 столбца

## <a name="next-steps"></a>Следующие шаги

* Создание остальной части логики потока данных с помощью [преобразований](concepts-data-flow-overview.md) потока данных сопоставления
