---
title: Обработка текстовых файлов с фиксированной длиной с картографическими потоками данных в Azure Data Factory
description: Узнайте, как обрабатывать текстовые файлы с фиксированной длиной в Azure Data Factory с помощью картографических потоков данных.
services: data-factory
author: balakreshnan
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
ms.date: 8/18/2019
ms.author: makromer
ms.openlocfilehash: d6885e9b30cc71bda822a29574c4d574f2b020a0
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "72387046"
---
# <a name="process-fixed-length-text-files-by-using-data-factory-mapping-data-flows"></a>Обработка текстовых файлов с фиксированной длиной с помощью картографических потоков данных Data

Используя картографические потоки данных в Microsoft Azure Data Factory, можно преобразовать данные из текстовых файлов с фиксированной шириной. В следующей задаче мы определим набор данных для текстового файла без делимитера, а затем настроим сплиты подстроки на основе ординатальное положение.

## <a name="create-a-pipeline"></a>Создание конвейера

1. Для создания нового конвейера выберите **новый трубопровод.**

2. Добавьте действие потока данных, которое будет использоваться для обработки файлов с фиксированной шириной:

    ![Трубопровод фиксированной ширины](media/data-flow/fwpipe.png)

3. В потоке данных выберите **новый поток картографических данных.**

4. Добавьте преобразование Исходного, Производного, Выберите и Преобразование раковины:

    ![Поток данных с фиксированной шириной](media/data-flow/fw2.png)

5. Настроили преобразование Исходного кода, чтобы использовать новый набор данных, который будет оттипа Delimited Text.

6. Не устанавливайте ни одного разграничивого столбца или заголовки.

   Теперь мы установить отправные точки поля и длины для содержимого этого файла:

    ```
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    1234567813572468
    ```

7. На вкладке **"Проекция"** преобразования Исхода следует увидеть столбец строки, названный *Column_1.*

8. В колонке Derived создайте новую колонку.

9. Мы дадим столбцы простые имена, такие как *col1*.

10. В проекте builder введите следующее:

    ```substring(Column_1,1,4)```

    ![производный столбец](media/data-flow/fwderivedcol1.png)

11. Повторите шаг 10 для всех столбцов, которые необходимо разобрать.

12. Выберите вкладку **Inspect,** чтобы увидеть новые столбцы, которые будут сгенерированы:

    ![Проверить](media/data-flow/fwinspect.png)

13. Используйте преобразование Select для удаления любого из столбцов, которые не нужны для преобразования:

    ![выбрать преобразование](media/data-flow/fwselect.png)

14. Используйте Sink для вывода данных в папку:

    ![фиксированная ширина раковины](media/data-flow/fwsink.png)

    Вот как выглядит выход:

    ![выход фиксированной ширины](media/data-flow/fxdoutput.png)

  Данные с фиксированной шириной теперь разделены, с четырьмя символами каждый и назначены Col1, Col2, Col3, Col4, и так далее. На основе предыдущего примера данные делятся на четыре столбца.

## <a name="next-steps"></a>Дальнейшие действия

* Создайте остальную часть логики потока данных с помощью [преобразования потоков данных](concepts-data-flow-overview.md)для картирования.
