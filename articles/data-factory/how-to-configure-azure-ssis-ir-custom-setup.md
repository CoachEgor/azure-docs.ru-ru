---
title: Пользовательская установка для среды выполнения интеграции Azure–SSIS
description: В этой статье описано, как использовать интерфейс пользовательской установки для среды выполнения интеграции Azure–SSIS и установить дополнительные компоненты или изменить параметры
services: data-factory
documentationcenter: ''
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
author: swinarko
ms.author: sawinark
manager: mflasko
ms.reviewer: douglasl
ms.custom: seo-lt-2019
ms.date: 12/23/2019
ms.openlocfilehash: ccf7ba2fd27dabdb090be87c5438ad68471996da
ms.sourcegitcommit: f0dfcdd6e9de64d5513adf3dd4fe62b26db15e8b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/26/2019
ms.locfileid: "75497064"
---
# <a name="customize-setup-for-the-azure-ssis-integration-runtime"></a>Пользовательская установка для среды выполнения интеграции Azure–SSIS

С помощью пользовательских настроек можно добавить собственные шаги установки во время подготовки или перенастройки среды выполнения интеграции Azure–SSIS. 

Настройки пользователя позволяют изменить стандартную рабочую конфигурацию либо среду (например, запустить дополнительные службы Windows или сохранить учетные данные доступа для общих папок) или установить дополнительные компоненты (например, сборки, драйверы или расширения) на каждом узле среды выполнения интеграции Azure-SSIS.

Существует два способа выполнить пользовательские установки на Azure-SSIS IR: Экспресс настраиваемых настроек без сценариев и стандартных пользовательских настроек с помощью скриптов.

С помощью Экспресс-настраиваемых настроек можно запускать некоторые распространенные системные конфигурации или команды Windows или устанавливать некоторые популярные или Рекомендуемые дополнительные компоненты без использования скриптов.  

При использовании стандартных пользовательских настроек необходимо подготовить скрипт и связанные с ним файлы и передать их вместе в контейнер больших двоичных объектов в учетной записи хранения Azure. Затем вы предоставляете универсальный код ресурса (URI) подписанного URL-кода (SAS) для контейнера при подготовке или повторной настройке Azure-SSIS IR. После этого каждый узел Azure-SSIS IR загрузит скрипт и связанные с ним файлы из контейнера и запустит пользовательскую установку с повышенными привилегиями. После завершения пользовательской установки каждый узел будет отправлять стандартные выходные данные выполнения и другие журналы в контейнер.

Вы можете установить как бесплатные, так и нелицензированные, а также платные и лицензированные компоненты с помощью быстрых и стандартных настраиваемых настроек. Если вы являетесь независимым поставщиком программного обеспечения, см. нашу документацию по [разработке платных или лицензированных компонентов для Azure-SSIS IR](how-to-develop-azure-ssis-ir-licensed-components.md).

> [!IMPORTANT]
> Узлы версии 2 Azure-SSIS IR не подходят для пользовательской установки, поэтому рекомендуется использовать вместо них узлы версии 3.  Если вы уже используете узлы версии 2, перейдите на узлы версии 3 как можно скорее.

## <a name="current-limitations"></a>Текущие ограничения

Следующие ограничения применяются только к стандартным пользовательским настройкам.

- Если вы хотите использовать `gacutil.exe` в скрипте для установки сборок в глобальный кэш сборок (GAC), необходимо предоставить `gacutil.exe` в рамках пользовательской установки или использовать копию, указанную в нашем общедоступном контейнере предварительной версии.

- Если в скрипт нужно добавить ссылку на вложенную папку, не используйте `msiexec.exe`. Эта команда не поддерживает нотацию `.\` для ссылки на корневую папку. Вместо `msiexec /i ".\MySubfolder\MyInstallerx64.msi" ...` используйте такую команду, как `msiexec /i "MySubfolder\MyInstallerx64.msi" ...`.

- Административные общие папки, т. е. скрытые сетевые ресурсы, автоматически создаваемые Windows, сейчас не поддерживаются в Azure-SSIS IR.

- Драйвер ODBC для IBM iSeries Access не поддерживается в Azure-SSIS IR. Вы можете столкнуться с ошибками установки во время пользовательской установки. Обратитесь за помощью в службу поддержки IBM.

## <a name="prerequisites"></a>Технические условия

[!INCLUDE [updated-for-az](../../includes/updated-for-az.md)]

Чтобы настроить Azure SSIS IR, необходимо следующее:

- [Подписка Azure.](https://azure.microsoft.com/)

- [Подготовка Azure-SSIS IR](https://docs.microsoft.com/azure/data-factory/tutorial-deploy-ssis-packages-azure)

- [Учетная запись хранения Azure.](https://azure.microsoft.com/services/storage/) Не требуется для Экспресс пользовательских настроек. Для стандартных пользовательских настроек вы отправляете и сохраняете пользовательский скрипт установки и связанные с ним файлы в контейнере больших двоичных объектов. Процесс пользовательской установки отправляет свои журналы выполнения в тот же контейнер больших двоичных объектов.

## <a name="instructions"></a>Instructions

1. Если вы хотите подготавливать или перенастроить Azure-SSIS IR с помощью PowerShell, скачайте и установите [Azure PowerShell](/powershell/azure/install-az-ps). Для быстрых пользовательских настроек перейдите к шагу 4.

1. Подготовьте свой собственный скрипт пользовательской установки и связанные с ним файлы (например, файлы BAT, CMD, EXE, DLL, MSI или PS1).

   1. Необходимо иметь файл скрипта с именем `main.cmd`, который является точкой входа в пользовательской установке.

   1. Необходимо убедиться, что скрипт может быть выполнен автоматически, рекомендуется сначала протестировать сценарий на локальном компьютере.

   1. Если необходимо, чтобы в контейнер отправлялись дополнительные журналы, генерируемые другими инструментами (например, `msiexec.exe`), укажите предопределенную переменную среды `CUSTOM_SETUP_SCRIPT_LOG_DIR` в качестве папки журнала в ваших скриптах (например, `msiexec /i xxx.msi /quiet /lv %CUSTOM_SETUP_SCRIPT_LOG_DIR%\install.log`).

1. Загрузите, установите и запустите [Обозреватель службы хранилища Azure](https://storageexplorer.com/).

   1. В узле **(Local and Attached)** (Локальные и присоединенные) щелкните правой кнопкой мыши **Учетные записи хранения**, а затем — **Connect to Azure storage** (Подключиться к службе хранилища Azure).

      ![Подключение к службе хранилища Azure](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image1.png)

   1. Выберите **Use a storage account name and key** (Использовать имя и ключ учетной записи хранения), а затем нажмите кнопку **Далее**.

      ![Использование имени и ключа учетной записи хранения](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image2.png)

   1. Введите имя и ключ учетной записи хранения Azure, нажмите кнопку **Далее**, а затем — **Подключить**.

      ![Укажите имя и ключ учетной записи хранения](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image3.png)

   1. В разделе подключенной учетной записи хранения Azure щелкните правой кнопкой мыши **Контейнеры больших двоичных объектов**, выберите **Создать контейнер BLOB-объектов** и присвойте имя новому контейнеру.

      ![Создание контейнера BLOB-объектов](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image4.png)

   1. Выберите новый контейнер и передайте скрипт пользовательской установки и связанные с ним файлы. Убедитесь, что `main.cmd` отправлен в верхний уровень вашего контейнера, а не в любую другую папку. Кроме того, убедитесь, что контейнер содержит только необходимые для пользовательской установки файлы. Таким образом, их дальнейшая загрузка на ваш Azure-SSIS IR не займет много времени. Максимальный период для настраиваемой установки в данный момент задается в течение 45 минут до истечения времени ожидания. Это включает время на загрузку всех файлов из контейнера и их установку на Azure-SSIS IR. Если требуется более длительный период, отправьте запрос в службу поддержки.

      ![Отправка файлов в контейнер больших двоичных объектов](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image5.png)

   1. Щелкните правой кнопкой мыши контейнер и выберите **Get Shared Access Signature** (Получить подписанный URL-адрес).

      ![Получение подписанного URL-адреса для контейнера](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image6.png)

   1. Создайте URI SAS для своего контейнера с достаточно длительным сроком действия, а также разрешениями чтения, записи и вывода списка. URI SAS нужен для скачивания и выполнения сценария выборочной установки и связанных с ним файлов всякий раз, когда пересоздается или перезапускается образ какого-либо узла Azure-SSIS IR. Разрешение на запись необходимо для отправки журналов выполнения программы установки.

      > [!IMPORTANT]
      > Убедитесь, что URI SAS не истекает, и ресурсы пользовательской установки всегда доступны во время всего жизненного цикла Azure-SSIS IR, от создания до удаления, особенно в том случае, когда вы регулярно останавливаете и запускаете Azure-SSIS IR в течение этого периода.

      ![Создание подписанного URL-адреса для контейнера](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image7.png)

   1. Скопируйте и сохраните URI SAS контейнера.

      ![Копирование и сохранение подписанного URL-адреса](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image8.png)

1. При подготовке или повторной настройке Azure-SSIS IR с помощью пользовательского интерфейса фабрики данных можно добавить или удалить пользовательские настройки, установив флажок **настроить Azure-SSIS Integration Runtime с дополнительными конфигурациями системы или установками компонентов** в разделе **Дополнительные параметры** панели настройки среды выполнения интеграции. 

   Если вы хотите добавить стандартные пользовательские настройки, введите URI SAS контейнера в поле **URI SAS контейнера пользовательской установки** . 
   
   Если необходимо добавить Экспресс пользовательские установки, выберите **создать** , чтобы открыть панель **Добавить Экспресс Выборочная настройка** , а затем выберите любой тип в раскрывающемся меню **Быстрая пользовательская установка тип** :

   1. При выборе типа **команды Run cmdkey** можно сохранить учетные данные доступа для общих файловых ресурсов или файлов Azure на Azure-SSIS IR, введя целевое имя компьютера/домена, имя учетной записи или имя пользователя, ключ учетной записи и пароль в полях **/Add**, **/User**и **/Пасс** соответственно. Это похоже на выполнение команды Windows [cmdkey](https://docs.microsoft.com/windows-server/administration/windows-commands/cmdkey) на локальном компьютере.
   
   1. Если выбрать тип **переменной среды добавить** , можно добавить переменные среды Windows, которые будут использоваться в пакетах, выполняемых на Azure-SSIS IR, введя имя переменной среды и значение в полях **имя переменной** и **значение переменной** . Это похоже на выполнение команды Windows [Set](https://docs.microsoft.com/windows-server/administration/windows-commands/set_1) на локальном компьютере.

   1. Если выбран тип **компонента установить лицензированный** , можно выбрать все интегрированные компоненты наших партнеров независимых поставщиков программных продуктов в раскрывающемся меню **имя компонента** :

      1. При выборе компонента **фабрики задач SentryOne** можно установить набор компонентов [фабрики задач](https://www.sentryone.com/products/task-factory/high-performance-ssis-components) из SentryOne на Azure-SSIS IR, введя лицензионный ключ продукта, который вы приобрели в поле **лицензионного ключа** . Текущая интегрированная версия — **2019.4.3**.

      1. При выборе **OH22'S Хедда. Компонент ввода-вывода** можно установить [Хедда. ](https://hedda.io/ssis-component/)Компонент качества или очистки данных ввода-вывода из oh22 на Azure-SSIS IR после приобретения службы. Текущая интегрированная версия — **1.0.13**.

      1. Если вы выберете компонент **oh22's SQLPhonetics.NET** , вы можете установить компонент качества и сопоставления данных [SQLPhonetics.NET](https://sqlphonetics.oh22.is/sqlphonetics-net-for-microsoft-ssis/) из oh22 на Azure-SSIS IR, введя лицензионный ключ продукта, который вы приобрели в поле **лицензионного ключа** . Текущая интегрированная версия — **1.0.43**.
   
   В разделе **Дополнительные параметры** отобразятся добавленные Экспресс пользовательские настройки. Чтобы удалить их, можно установить их флажки, а затем нажать кнопку **Удалить**.

   ![Дополнительные параметры с пользовательскими установками](./media/tutorial-create-azure-ssis-runtime-portal/advanced-settings-custom.png)

   При подготовке или повторной настройке Azure-SSIS IR с помощью PowerShell можно добавить или удалить пользовательские настройки, выполнив командлет `Set-AzDataFactoryV2IntegrationRuntime` перед началом Azure-SSIS IR.
   
   Для стандартных пользовательских настроек можно предоставить универсальный код ресурса (URI) SAS контейнера в качестве значения параметра `SetupScriptContainerSasUri`. Пример.

   ```powershell
   Set-AzDataFactoryV2IntegrationRuntime -DataFactoryName $MyDataFactoryName `
                                         -Name $MyAzureSsisIrName `
                                         -ResourceGroupName $MyResourceGroupName `
                                         -SetupScriptContainerSasUri $MySetupScriptContainerSasUri

   Start-AzDataFactoryV2IntegrationRuntime -DataFactoryName $MyDataFactoryName `
                                           -Name $MyAzureSsisIrName `
                                           -ResourceGroupName $MyResourceGroupName
   ```
   
   После завершения стандартной пользовательской установки и запуска Azure-SSIS IR можно найти стандартные выходные данные `main.cmd` и других журналов выполнения в папке `main.cmd.log` контейнера хранилища.

1. Чтобы просмотреть примеры стандартных пользовательских настроек, подключитесь к нашему общедоступному контейнеру предварительной версии с Обозреватель службы хранилища Azure.

   1. В узле **(Local and Attached)** (Локальные и присоединенные) щелкните правой кнопкой мыши **Учетные записи хранения**, выберите пункт **Connect to Azure storage** (Подключиться к службе хранилища Azure), а затем — **Use a storage account name and key** (Использовать имя и ключ учетной записи хранения) и нажмите кнопку **Далее**.

      ![Подключение к хранилищу Azure с помощью подписанного URL-адреса](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image9.png)

   1. Выберите **Use a SAS URI** (Использовать URI SAS) и введите следующий URI SAS для контейнера общедоступной предварительной версии. Нажмите кнопку **Далее**, а затем выберите **подключить**.

      `https://ssisazurefileshare.blob.core.windows.net/publicpreview?sp=rl&st=2018-04-08T14%3A10%3A00Z&se=2020-04-10T14%3A10%3A00Z&sv=2017-04-17&sig=mFxBSnaYoIlMmWfxu9iMlgKIvydn85moOnOch6%2F%2BheE%3D&sr=c`

      ![Предоставление подписанного URL-адреса для контейнера](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image10.png)

   1. Выберите подключенный контейнер общедоступной предварительной версии и дважды щелкните папку `CustomSetupScript`. Внутри этой папки находятся следующие элементы:

      1. Папка `Sample`, где содержится файл пользовательской установки для установки базовой задачи на каждом узле Azure SSIS IR. Задача не делает ничего, только несколько секунд находится в спящем режиме. Папка также содержит папку `gacutil`, все содержимое которой (`gacutil.exe`, `gacutil.exe.config` и `1033\gacutlrc.dll`) можно скопировать в контейнер.

      1. Папка `UserScenarios`, которая содержит несколько пользовательских примеров установки из сценариев реальных пользователей.

      ![Содержимое контейнера общедоступной предварительной версии](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image11.png)

   1. Дважды щелкните папку `UserScenarios`, чтобы найти следующие элементы:

      1. Папка `.NET FRAMEWORK 3.5`, в которой содержится конфигурация пользовательской установки для установки более ранней версии .NET Framework, которая может потребоваться для пользовательских компонентов на каждом узле вашей Azure SSIS IR.

      1. Папка `BCP`, которая содержит файл пользовательской установки для установки служебных программ командной строки SQL Server (`MsSqlCmdLnUtils.msi`), включая программу массового копирования (`bcp`), на каждом узле Azure SSIS IR.

      1. Папка `EXCEL`, содержащая пользовательский сценарий установки (`main.cmd`) для установки C# сборок и библиотек, которые можно использовать в задачах скриптов для динамического чтения и записи файлов Excel на каждом узле Azure-SSIS IR. Сначала скачайте `ExcelDataReader.dll` [отсюда и `DocumentFormat.OpenXml.dll` отсюда, а затем](https://www.nuget.org/packages/ExcelDataReader/) отправьте их вместе с `main.cmd` в контейнер. [](https://www.nuget.org/packages/DocumentFormat.OpenXml/) Кроме того, если вы просто хотите использовать стандартный диспетчер соединений, источник или назначение, то необходимый распространяемый пакет Access уже предварительно установлен на Azure-SSIS IR, поэтому пользовательская настройка не требуется.
      
      1. Папка `MYSQL ODBC`, которая содержит настраиваемый сценарий установки (`main.cmd`) для установки драйверов ODBC MySQL в каждом узле Azure-SSIS IR. Эта программа установки позволяет подключиться к серверу MySQL с помощью диспетчера соединений ODBC, источника и назначения. Сначала скачайте последние 64-разрядные и 32-разрядные версии установщиков драйверов ODBC для MySQL, например `mysql-connector-odbc-8.0.13-winx64.msi` и `mysql-connector-odbc-8.0.13-win32.msi`-из [MySQL](https://dev.mysql.com/downloads/connector/odbc/), а затем отправьте их вместе с `main.cmd` в контейнер.

      1. Папка `ORACLE ENTERPRISE`, которая содержит пользовательский скрипт установки (`main.cmd`) и файл конфигурации автоматической установки (`client.rsp`), позволяющие установить соединители Oracle и драйвер OCI на каждом узле Azure-SSIS IR Enterprise Edition. Эта программа установки позволяет использовать диспетчер соединений Oracle, источник и назначение для подключения к серверу Oracle. Прежде всего скачайте соединители Microsoft версии 5.0 для Oracle (`AttunitySSISOraAdaptersSetup.msi` и `AttunitySSISOraAdaptersSetup64.msi`) из [центра загрузки Майкрософт](https://www.microsoft.com/en-us/download/details.aspx?id=55179) и последнюю версию клиента Oracle — например, версию `winx64_12102_client.zip` с сайта [Oracle](https://www.oracle.com/technetwork/database/enterprise-edition/downloads/database12c-win64-download-2297732.html), и отправьте их в контейнер вместе с `main.cmd` и `client.rsp`. Если TNS используется для подключения к Oracle, необходимо загрузить файл `tnsnames.ora`, изменить его и отправить в контейнер, чтобы его можно было скопировать в папку установки Oracle во время установки.

      1. Папка `ORACLE STANDARD ADO.NET`, где содержится скрипт пользовательской установки (`main.cmd`) для установки драйвера Oracle ODP.NET на каждом узле Azure SSIS IR. Эта программа установки позволяет использовать диспетчер соединений ADO.NET, источник и назначение для подключения к серверу Oracle. Сначала скачайте последнюю версию драйвера Oracle ODP.NET, например `ODP.NET_Managed_ODAC122cR1.zip`-FROM [Oracle](https://www.oracle.com/technetwork/database/windows/downloads/index-090165.html), а затем отправьте ее вместе с `main.cmd` в контейнер.
       
      1. Папка `ORACLE STANDARD ODBC`, где содержится сценарий пользовательской установки (`main.cmd`) для установки драйвера Oracle ODBC и настройки имени источника данных на каждом узле Azure-SSIS IR. Эта установка позволяет использовать диспетчер подключений ODBC, источник и назначение или диспетчер подключений Power Query и источник с источником данных ODBC для подключения к серверу Oracle. Сначала скачайте последнюю версию клиента Oracle Instant Client (базовый пакет или базовый пакет Lite) и пакет ODBC, например 64-разрядные пакеты [отсюда (базовый](https://www.oracle.com/technetwork/topics/winx64soft-089540.html) пакет: `instantclient-basic-windows.x64-18.3.0.0.0dbru.zip`, базовый пакет lite: `instantclient-basiclite-windows.x64-18.3.0.0.0dbru.zip`, пакет odbc: `instantclient-odbc-windows.x64-18.3.0.0.0dbru.zip`) или 32-разрядные пакеты [отсюда (базовый](https://www.oracle.com/technetwork/topics/winsoft-085727.html) пакет: `instantclient-basic-nt-18.3.0.0.0dbru.zip`, базовый пакет Lite: `instantclient-basiclite-nt-18.3.0.0.0dbru.zip`, пакет ODBC: `instantclient-odbc-nt-18.3.0.0.0dbru.zip`), а затем передать их вместе с `main.cmd` в контейнер.

      1. Папка `ORACLE STANDARD OLEDB`, содержащая пользовательский скрипт установки (`main.cmd`) для установки драйвера Oracle OLEDB на каждом узле Azure-SSIS IR. Эта установка позволяет подключиться к серверу Oracle с помощью диспетчера соединений OLEDB, источника и назначения. Сначала скачайте последнюю версию драйвера Oracle OLEDB, например `ODAC122010Xcopy_x64.zip`-FROM [Oracle](https://www.oracle.com/partners/campaign/index-090165.html), а затем отправьте ее вместе с `main.cmd` в контейнер.

      1. Папка `POSTGRESQL ODBC`, содержащая пользовательский сценарий установки (`main.cmd`) для установки драйверов PostgreSQL ODBC на каждом узле Azure-SSIS IR. Эта программа установки позволяет использовать диспетчер соединений ODBC/источник/назначение для подключения к серверу PostgreSQL. Сначала скачайте последние 64-разрядные и 32-разрядные версии установщиков ODBC Driver PostgreSQL, например `psqlodbc_x64.msi` и `psqlodbc_x86.msi`-FROM [PostgreSQL](https://www.postgresql.org/ftp/odbc/versions/msi/), а затем отправьте их вместе с `main.cmd` в контейнер.

      1. Папка `SAP BW`, содержащая пользовательский сценарий установки (`main.cmd`) для установки сборки соединителя SAP .NET (`librfc32.dll`) на каждом узле Azure-SSIS IR Enterprise Edition. Эта программа установки позволяет использовать диспетчер соединений SAP BW, источник и назначение для подключения к серверу SAP BW. Сначала загрузите 64-разрядную или 32-разрядную версию `librfc32.dll` из папки установки SAP вместе с `main.cmd` в контейнер. Затем скрипт скопирует сборку SAP в папку `%windir%\SysWow64` или `%windir%\System32` во время установки.

      1. Папка `STORAGE`, где содержится файл пользовательской установки для установки Azure PowerShell на каждом узле Azure SSIS IR. Эта установка позволяет развертывать и запускать пакеты SSIS, которые запускают [скрипты PowerShell для работы с учетной записью хранения Azure](https://docs.microsoft.com/azure/storage/blobs/storage-how-to-use-blobs-powershell). Скопируйте `main.cmd`, пример `AzurePowerShell.msi` (или используйте последнюю версию) и `storage.ps1` в контейнер. Используйте PowerShell.dtsx в качестве шаблона для пакетов. Шаблон пакета объединяет [задачу загрузки большого двоичного объекта Azure](https://docs.microsoft.com/sql/integration-services/control-flow/azure-blob-download-task), которая загружает `storage.ps1` в качестве изменяемого скрипта PowerShell, и [задачу обработки выполнения](https://blogs.msdn.microsoft.com/ssis/2017/01/26/run-powershell-scripts-in-ssis/), которая выполняет скрипт на каждом узле.

      1. Папка `TERADATA`, которая содержит скрипт пользовательской установки (`main.cmd`), связанный файл (`install.cmd`) и пакеты установщика (`.msi`). Эти файлы устанавливают соединители Teradata, API TPT и ODBC-драйвер для каждого узла Azure-SSIS IR Enterprise Edition. Эта установка позволяет подключиться к серверу Teradata с помощью диспетчера подключений и источника или назначения Teradata. Сначала скачайте zip-файл средств Teradata и служебные программы 15. x (например, `TeradataToolsAndUtilitiesBase__windows_indep.15.10.22.00.zip`) из [Teradata](http://partnerintelligence.teradata.com), а затем отправьте его вместе с приведенными выше файлами `.cmd` и `.msi` в контейнер.

      1. Папка `ZULU OPENJDK`, которая содержит пользовательский сценарий установки (`main.cmd`) и файл PowerShell (`install_openjdk.ps1`) для установки Zulu OpenJDK на каждом узле Azure-SSIS IR. Эта настройка позволяет использовать Azure Data Lake Storeные или гибкие соединители файлов для обработки файлов ORC/Parquet. Дополнительные сведения см. [здесь](https://docs.microsoft.com/sql/integration-services/azure-feature-pack-for-integration-services-ssis?view=sql-server-ver15#dependency-on-java) . Сначала скачайте последнюю версию Zulu OpenJDK, например `zulu8.33.0.1-jdk8.0.192-win_x64.zip`- [отсюда, а](https://www.azul.com/downloads/zulu/zulu-windows/)затем отправьте ее вместе с `main.cmd` и `install_openjdk.ps1` в контейнер.

      ![Папки в папке сценариев пользователя](media/how-to-configure-azure-ssis-ir-custom-setup/custom-setup-image12.png)

   1. Чтобы попробовать эти пользовательские образцы установки, скопируйте и вставьте содержимое из выбранной папки в контейнер.
   
      При подготовке или повторной настройке Azure-SSIS IR с помощью пользовательского интерфейса фабрики данных установите флажок **настроить Azure-SSIS Integration Runtime с дополнительными конфигурациями системы или установками компонентов** в разделе **Дополнительные параметры** и введите универсальный код ресурса (URI) SAS контейнера в поле **URI SAS контейнера пользовательской установки** .
   
      При подготовке или повторной настройке Azure-SSIS IR с помощью PowerShell выполните командлет `Set-AzDataFactoryV2IntegrationRuntime` с URI SAS контейнера в качестве значения параметра `SetupScriptContainerSasUri`.

## <a name="next-steps"></a>Дальнейшие действия

-   [Выпуск Enterprise Edition среды выполнения интеграции Azure SSIS](how-to-configure-azure-ssis-ir-enterprise-edition.md)

-   [Разработка платных или лицензионных пользовательских компонентов для среды выполнения интеграции Azure SSIS](how-to-develop-azure-ssis-ir-licensed-components.md)
