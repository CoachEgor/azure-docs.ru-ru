---
title: Управление пакетами с помощью Azure-SSIS Integration Runtime хранилища пакетов
description: Узнайте, как управлять пакетами с помощью Azure-SSIS Integration Runtime хранилища пакетов.
services: data-factory
documentationcenter: ''
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
author: swinarko
ms.author: sawinark
ms.reviewer: douglasl
manager: mflasko
ms.custom: seo-lt-2019
ms.date: 05/25/2020
ms.openlocfilehash: fa1ab60ae5690bd3782e4c849ca7cb5c29d640c2
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "84198871"
---
# <a name="manage-packages-with-azure-ssis-integration-runtime-package-store"></a>Управление пакетами с помощью Azure-SSIS Integration Runtime хранилища пакетов

[!INCLUDE[appliesto-adf-asa-md](includes/appliesto-adf-asa-md.md)]

Чтобы претянуть & сдвиги локальных рабочих нагрузок SQL Server Integration Services (SSIS) в облако, вы можете подготавливать Azure-SSIS Integration Runtime (IR) в фабрике данных Azure (ADF). Дополнительные сведения см. в разделе [подготавливает Azure-SSIS IR](https://docs.microsoft.com/azure/data-factory/tutorial-deploy-ssis-packages-azure). Среда выполнения интеграции Azure-SSIS поддерживает следующие возможности:

- выполнение пакетов, развернутых в каталоге SSIS (SSISDB), которые размещаются на сервере Базы данных SQL Azure или в Управляемом экземпляре (модель развертывания для проектов);
- выполнение пакетов, развернутых в файловой системе, службе "Файлы Azure" или базе данных SQL Server (MSDB), которые размещаются в Управляемом экземпляре SQL Azure (модель развертывания для пакетов).

При использовании модели развертывания пакетов можно выбрать, нужно ли подготавливать Azure-SSIS IR с хранилищами пакетов, которые предоставляют уровень управления пакетами поверх файловой системы, а также файлов Azure или MSDB, размещенных в Azure SQL Управляемый экземпляр. Azure-SSIS IR хранилище пакетов позволяет импортировать, экспортировать, удалять и запускать пакеты, а также отслеживать и прекращать выполнение пакетов с помощью SQL Server Management Studio (SSMS), аналогичного [устаревшему хранилищу пакетов служб SSIS](https://docs.microsoft.com/sql/integration-services/service/package-management-ssis-service?view=sql-server-2017). 

## <a name="connect-to-azure-ssis-ir"></a>Подключение к Azure-SSIS IR

После подготовки Azure-SSIS IR можно подключиться к ней, чтобы просмотреть ее хранилища пакетов в среде SSMS.

![Подключение к Azure-SSIS IR](media/azure-ssis-integration-runtime-package-store/ssms-package-store-connect.png)

В окне **обозревателя объектов** SSMS выберите **Azure-SSIS Integration Runtime** в раскрывающемся меню **Подключение** . Затем войдите в Azure и выберите подходящую подписку, ADF и Azure-SSIS IR, к которым будут присоединены хранилища пакетов. В Azure-SSIS IR будут отображаться узлы **Запуск пакетов** и **Хранимые пакеты** под. Разверните узел **Сохраненные пакеты** , чтобы просмотреть хранилища пакетов. Разверните хранилища пакетов, чтобы просмотреть папки и пакеты под ним. Возможно, вам будет предложено ввести учетные данные доступа для хранилищ пакетов, если SSMS не удается автоматически подключиться к ним. Например, если вы развернете хранилище пакетов поверх базы данных MSDB, вам может быть предложено сначала подключиться к Azure SQL Управляемый экземпляр.

![Подключение к Azure SQL Управляемый экземпляр](media/azure-ssis-integration-runtime-package-store/ssms-package-store-connect2.png)

## <a name="manage-folders-and-packages"></a>Управление папками и пакетами

При просмотре Azure-SSIS IR в среде SSMS можно щелкнуть правой кнопкой мыши любое хранилище пакетов, папки или пакеты, чтобы открыть меню и выбрать пункт **создать папку**, **импортировать пакет**, **экспортировать пакет**, **Удалить**или **Обновить**.

   ![Управление папками и пакетами](media/azure-ssis-integration-runtime-package-store/ssms-package-store-manage.png)

   *  Выберите **создать папку** , чтобы создать новую папку для импортированных пакетов.

   *  Выберите **импортировать пакет** , чтобы импортировать пакеты из **файловой системы**, **SQL Server** (msdb) или из устаревшего **хранилища пакетов служб SSIS** в хранилище пакетов.

      ![Импорт пакета](media/azure-ssis-integration-runtime-package-store/ssms-package-store-import.png)

      В зависимости от **расположения пакета** для импорта выберите соответствующий **Server** / **тип проверки подлинности**сервера, при необходимости введите учетные данные для доступа, выберите **путь к пакету**и введите новое **имя пакета**. При импорте пакетов их уровень защиты нельзя изменить. Чтобы изменить его, используйте SQL Server Data Tools (SSDT) или `dtutil` служебную программу командной строки.

   *  Выберите **Экспорт пакета** для экспорта пакетов из хранилища пакетов в **файловую систему**, **SQL Server** (msdb) или устаревшее **хранилище пакетов служб SSIS**.

      ![Экспорт пакета](media/azure-ssis-integration-runtime-package-store/ssms-package-store-export.png)

      В зависимости от **расположения пакета** для экспорта выберите соответствующий **Server** / **тип проверки подлинности**сервера, при необходимости введите учетные данные доступа и выберите путь к **пакету**. При экспорте пакетов, если они зашифрованы, введите пароли для их расшифровки, а затем измените уровень защиты, например, чтобы не сохранять конфиденциальные данные или шифровать все/конфиденциальные данные с помощью ключа пользователя и пароля.

   *  Выберите **Удалить** , чтобы удалить существующие папки или пакеты из хранилища пакетов.

   *  Выберите **Обновить** , чтобы отобразить только что добавленные папки или пакеты в хранилище пакетов.

## <a name="execute-packages"></a>Выполнение пакетов

При просмотре Azure-SSIS IR в среде SSMS можно щелкнуть правой кнопкой мыши любой сохраненный пакет, чтобы открыть меню и выбрать пункт **выполнить пакет**.  Откроется диалоговое окно **служебная программа для запуска пакетов** , где можно настроить выполнение пакета на Azure-SSIS IR как выполнение действий пакета служб SSIS в конвейерах ADF.

![Служебная программа для запуска пакетов страниц 1 & 2](media/azure-ssis-integration-runtime-package-store/ssms-package-store-execute.png)

![Служебная программа для запуска пакетов стр. 3 & 4](media/azure-ssis-integration-runtime-package-store/ssms-package-store-execute2.png)

Страницы " **Общие**", " **конфигурации**", " **Параметры выполнения**" и " **ведение журнала** " диалогового окна " **служебная программа для запуска пакетов** " соответствуют вкладке " **Параметры** " действия "выполнение пакета служб SSIS", где можно ввести пароль для шифрования для пакета, получить сведения о файле конфигурации пакета, учетные данные выполнения пакета, свойства и сведения о доступе к папке журнала.  Страница « **Задание значений** » диалогового окна **служебная программа для запуска пакетов** соответствует вкладке « **переопределения свойств** » действия «выполнение пакета служб SSIS», где можно ввести существующие свойства пакета для переопределения. Дополнительные сведения см. [в разделе Запуск пакетов служб SSIS как выполнение действий пакета служб SSIS в конвейерах ADF](https://docs.microsoft.com/azure/data-factory/how-to-invoke-ssis-package-ssis-activity).

При нажатии кнопки **выполнить** диалогового окна **служебная программа для запуска пакетов** будет автоматически создано и активирован новый конвейер ADF с ДЕЙСТВИЕМ выполнить пакет служб SSIS. Если конвейер ADF с такими же параметрами выполнения пакета уже существует, он будет перезапущен, а новый конвейер не будет создан. Действие конвейера ADF и выполнения пакета служб SSIS будет иметь имя `Pipeline_SSMS_YourPackageName_HashString` и `Activity_SSMS_YourPackageName` соответственно.

![Кнопка служебная программа для запуска пакетов](media/azure-ssis-integration-runtime-package-store/ssms-package-store-execute3.png)

![Действие "Выполнение пакета SSIS"](media/azure-ssis-integration-runtime-package-store/ssis-activity-package-store.png)

## <a name="monitor-and-stop-running-packages"></a>Мониторинг и завершение выполнения пакетов

При просмотре Azure-SSIS IR в среде SSMS можно развернуть узел " **выполняющиеся пакеты** ", чтобы просмотреть текущие выполняемые пакеты.  Щелкните правой кнопкой мыши любую из них, чтобы открыть меню, и выберите команду " **Закрыть** " или " **Обновить**".

   ![Мониторинг и завершение выполнения пакетов](media/azure-ssis-integration-runtime-package-store/ssms-package-store-monitor.png)

   *  Выберите **остановить** , чтобы отменить выполняющийся в данный момент конвейер ADF, который запускает пакет как действие выполнить пакет служб SSIS.

   *  Выберите **Обновить** , чтобы отобразить только что выполняемые пакеты из хранилищ пакетов.

## <a name="monitor-azure-ssis-ir-and-edit-package-stores"></a>Мониторинг Azure-SSIS IR и изменение хранилищ пакетов

При просмотре Azure-SSIS IR в среде SSMS можно щелкнуть ее правой кнопкой мыши, чтобы открыть меню, и выбрать пункт **Перейти на портал фабрики данных Azure** или **Обновить**.

   ![Переход на портал ADF](media/azure-ssis-integration-runtime-package-store/ssms-package-store-monitor2.png)

   *  Выберите **Перейти на портал фабрики данных Azure** , чтобы открыть страницу **среды выполнения интеграции** центра мониторинга ADF, где можно отслеживать Azure-SSIS IR. На плитке **хранилища пакетов** можно увидеть количество хранилищ пакетов, прикрепленных к Azure-SSIS IR.  При выборе этого номера откроется окно, в котором можно изменить связанные службы ADF, в которых хранятся сведения о доступе для хранилищ пакетов.

      ![Изменение хранилищ пакетов](media/azure-ssis-integration-runtime-package-store/ssms-package-store-monitor3.png)

   *  Выберите **Обновить** , чтобы отобразить только что добавленные папки или пакеты в пакете, в котором хранятся и запускаются пакеты из хранилищ пакетов.

## <a name="next-steps"></a>Дальнейшие шаги

Вы можете повторно выполнить или изменить автоматически созданные конвейеры ADF с помощью действия "выполнение пакета служб SSIS" или создать новые на портале ADF. Дополнительные сведения см. [в разделе Запуск пакетов служб SSIS как выполнение действий пакета служб SSIS в конвейерах ADF](https://docs.microsoft.com/azure/data-factory/how-to-invoke-ssis-package-ssis-activity).