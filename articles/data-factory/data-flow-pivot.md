---
title: Преобразование потоков данных сопоставления в Фабрике данных Azure с помощью функции сведения
description: Сводить данные из строк и столбцы с помощью Azure данных фабрики сопоставление данных потока преобразование «Сведение»
author: kromerm
ms.author: makromer
ms.service: data-factory
ms.topic: conceptual
ms.date: 01/30/2019
ms.openlocfilehash: e16cac281b77f3ca93d9ef358ae806203bc8b663
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61348505"
---
# <a name="azure-data-factory-pivot-transformation"></a>Преобразование "Сведение" фабрики данных Azure
[!INCLUDE [notes](../../includes/data-factory-data-flow-preview.md)]

Сведение потока данных Фабрики данных Azure (ADF) используется как статистическая функция, которая преобразовывает уникальные значения строк из одного или нескольких столбцов группирования в отдельные столбцы. По сути сведение позволяет сформировать новые столбцы из значений строк (превратить данные в метаданные).

![Параметры сведения](media/data-flow/pivot1.png "Сведение 1")

## <a name="group-by"></a>Группировать по

![Параметры сведения](media/data-flow/pivot2.png "Сведение 2")

Сначала укажите столбцы, по которым вы хотите группировать данные для агрегирования сводных данных. Здесь можно задать несколько столбцов, используя знак "+" рядом со списком столбцов.

## <a name="pivot-key"></a>Ключ сведения

![Параметры сведения](media/data-flow/pivot3.png "Сведение 3")

Ключом сведения называется столбец, по которому ADF выполняет сведение от строки к столбцу. По умолчанию каждое уникальное значение в наборе данных для этого поля будет сводиться к столбцу. Но вы можете при желании ввести из набора данных значения, которые хотите свести к значениям столбца. Это столбец, который будет определять новые столбцы, которые будут созданы.

## <a name="pivoted-columns"></a>Сведенный столбцов

![Параметры сведения](media/data-flow/pivot4.png "Сведение 4")

Наконец, выберите агрегирование, которое вы хотите использовать для сведенных значений, и способ отображения столбцов в новой выходной проекции преобразования.

(Необязательно.) Вы можете задать шаблон именования с префиксом, серединой и суффиксом, которые будут добавляться к каждому новому имени столбца из значений строки.

Например, сведение таблицы Sales (Продажи) по Region (Регион) создаст новые значения столбцов из каждого значения продаж, например "25", "50", "1000" и т. д. Тем не менее если задать значение префикса «Sales-», каждое значение столбца добавить «Sales-» в начале значения.

![Параметры сведения](media/data-flow/pivot5.png "Сведение 5")

Если для параметра Column Arrangement (Расположение столбцов) выбрано значение Normal (Обычное), все столбцы при сведении сгруппируются вместе с их агрегированными значениями. Вариант Lateral (Боковое) для расположения столбцов создает чередование столбцов и значений.

### <a name="aggregation"></a>Агрегирование

Чтобы настроить агрегирование, которое вам нужно для сведенных значений, щелкните поле в нижней части панели Pivoted Columns (Сведенные столбцы). Откроется построитель выражений потока данных Фабрики данных Azure, где вы можете создать выражение статистической обработки и присвоить описательный псевдоним новым агрегированным значениям.

Используйте язык выражений потока данных Фабрики данных Azure, чтобы описать преобразования сведенных столбцов в построителе выражений: https://aka.ms/dataflowexpressions.

## <a name="pivot-metadata"></a>PIVOT метаданных

Преобразование "Сведение" создаст новые имена столбцов, которые являются динамическими, основанные на входящих данных. Ключ сведения формирует значения для каждого нового имени столбца. Если не указывать отдельные значения и хотите создать имена динамических столбцов для каждого уникального значения ключа Pivot, пользовательский Интерфейс не будет отображаться в инспектировать метаданные, и будет существовать распространения нет столбца для преобразования в качестве приемника. Если задать значения для ключа сведения, затем ADF можно определить новые имена столбцов и эти имена столбцов будут доступны в инспектировать и приемника сопоставления.

### <a name="landing-new-columns-in-sink"></a>Целевая новые столбцы в качестве приемника

Даже с именами динамических столбцов в сводной таблице можно по-прежнему получить новые имена столбцов и значений в хранилище данных назначения. Просто включен «Разрешить смещение схемы» в параметрах приемника. В метаданные столбца не вы увидите новые динамические имена, но параметр Смещение схемы позволяет поместить данные.

### <a name="view-metadata-in-design-mode"></a>Просмотр метаданных в режиме конструктора

Если вы хотите просмотреть новые имена столбцов как метаданные в инспектировать и вы хотите видеть столбцы распространить явным образом для преобразования в качестве приемника, задайте явные значения на вкладке "ключа сведения".

### <a name="how-to-rejoin-original-fields"></a>Повторное присоединение исходных полей
Преобразование "Сведение" будет передавать только те столбцы, которые использовались в действиях агрегирования, группирования и сведения. Если вы хотите включить другие столбцы из предыдущего шага в последовательности, используйте новую ветвь из предыдущего шага и использовать шаблон самосоединение для подключения последовательности с исходные метаданные.

## <a name="next-steps"></a>Дальнейшие действия

Попробуйте [преобразование отмены свертывания](data-flow-unpivot.md) для преобразования значений столбцов в значения строк. 
