---
title: Делимитированный формат текста в Azure Data Factory
description: В этой теме описывается, как обращаться с разграниченным форматом текста в Azure Data Factory.
author: linda33wj
manager: shwang
ms.reviewer: craigg
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
ms.date: 01/09/2020
ms.author: jingwang
ms.openlocfilehash: f2e70a7b900ad918cda05ce34204e2de1e6e67ef
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "75830196"
---
# <a name="delimited-text-format-in-azure-data-factory"></a>Делимитированный формат текста в Azure Data Factory

Следуйте этой статье, когда вы хотите **разобрать делимитированные текстовые файлы или написать данные в формате делимитированных текстов.** 

Формат разграничения текста поддерживается для следующих разъемов: [Amazon S3](connector-amazon-simple-storage-service.md), [Azure Blob](connector-azure-blob-storage.md), [Azure Data Lake Storage Gen1](connector-azure-data-lake-store.md), [Azure Data Lake Storage Gen2](connector-azure-data-lake-storage.md), [Azure File Storage](connector-azure-file-storage.md), File [System](connector-file-system.md), [FTP,](connector-ftp.md) [Google Cloud Storage](connector-google-cloud-storage.md), [HDFS,](connector-hdfs.md) [HTTP](connector-http.md)и [SFTP](connector-sftp.md).

## <a name="dataset-properties"></a>Свойства набора данных

Полный список разделов и свойств, доступных для определения наборов данных, см. в статье о [наборах данных](concepts-datasets-linked-services.md). В этом разделе приводится список свойств, поддерживаемых набором данных с ограниченным текстом.

| Свойство         | Описание                                                  | Обязательно |
| ---------------- | ------------------------------------------------------------ | -------- |
| type             | Свойство типа набора данных должно быть установлено в **DelimitedText.** | Да      |
| location         | Настройки расположения файла (ы). Каждый файл на основе разъема имеет `location`свой собственный тип местоположения и поддерживается свойства под .  | Да      |
| columnDelimiter  | Символ (ы) используется для разделения столбцов в файле. В настоящее время мульти-шар-делимитер поддерживается только для отображения потока данных, но не для копирования деятельности. <br>Значение по умолчанию является **запятой, `,` **когда делимитер столбца определяется как пустая строка, что означает отсутствие разграничения, вся строка берется за одну колонку. | нет       |
| rowDelimiter     | Один символ или «Зрон» используется для разделения строк в файле.<br>Значение по умолчанию является любым из следующих значений **на следующем: «зрён», «Зр», «Зрн»** и **«Зн» или «Зн» или «Зр» на записи,** отображая поток данных и активность копирования соответственно. <br>Когда `rowDelimiter` не установлен на делимитер (пустая строка), `columnDelimiter` должен быть установлен как не делимитер (пустая строка), а это означает, что для лечения всего содержимого в качестве одного значения. | нет       |
| quoteChar        | Один символ для цитирования значений столбца, если он содержит делимитер столбца. <br>Значение по умолчанию — **двойные котировки.** `"` <br>Для отображения потока данных `quoteChar` не может быть пустой строкой. <br>Для активности Copy, когда `quoteChar` определяется как пустая строка, это означает, `escapeChar` что нет символа цитаты и значение столбца не цитируется, и используется для выхода из обезлимителятеля столбца и себя. | нет       |
| escapeChar       | Один символ, чтобы избежать котировки внутри котируемой стоимости.<br>Значение по умолчанию **является backslash. `\` ** <br>Для отображения потока данных `escapeChar` не может быть пустой строкой. <br/>Для действия Copy, когда `escapeChar` она определяется как пустая строка, `quoteChar` должна быть установлена как пустая строка, и в этом случае убедитесь, что все значения столбца не содержат делимитеров. | нет       |
| firstRowAsHeader | Определяет, следует ли рассматривать/делать первый ряд в качестве заголовка с именами столбцов.<br>Разрешенные значения **верны** и **ложны** (по умолчанию). | нет       |
| nullValue        | Определяет изображение строки нулевого значения. <br>Значение по умолчанию является **пустой строкой.** | нет       |
| encodingName     | Тип кодирования, используемый для чтения/записи тестовых файлов. <br>Разрешенные значения: "UTF-8", "UTF-16", "UTF-16BE", "UTF-32", "UTF-32BE", "US-ASCII", "UTF-7", "BIG5", "EUC-JP", "EUC-KR", "GB2312", "GB18030", "JOHAB", "SHIFT-JIS", "CP875", "CP866", "IBM00858", "IBM037", "IBM27", "IBM", "IBM", "IBM", "IBM", "IBM", "IBM IBM737", "IBM775", "IBM850", "IBM852", "IBM855", "IBM857", "IBM860", "IBM861", "IBM863", "IBM864", "IBM865", "IBM869", "IBM870", "IBM01140", "IBM01141", "IBM01142", "IBM01143", "IBM01144", "IBM01145", "IBM01146", "IBM01147", "IBM01148", IBM , "ИСО-2022-JP", "ISO-2022-KR", "ISO-8859-1", "ISO-8859-2", "ISO-8859-3", "ISO-8859-4", "ISO-8859-5", "ИСО-8859-6", "ИСО-8859-7", "ИСО-8859-8", "ИСО-8859-9", "ИСО-8859-13", "ИСО-8859-15", "WINDOWS-874", "WINDOWS-1250", "WINDOWS-1250", "WINDOWS-1250", "WINDOWS-1250", "WINDOWS-121",, "WINDOWS-121"," ОКНА-1252", "ОКНА-1253", "ОКНА-1254", "ОКНА-1255", "ОКНА-1256", "ОКНА-1257", "ОКНА-1258".<br>Поток данных отображения заметок не поддерживает кодирование UTF-7. | нет       |
| компрессионныйкод | Кодек сжатия, используемый для чтения/записи текстовых файлов. <br>Разрешенные значения **bzip2**, **gzip**, **сдувать**, **зиффлировать**, **быстро**, или **lz4**. использовать при сохранении файла. <br>Примечание в настоящее время Копирование деятельности не поддерживает "быстрый" & "lz4", и отображение потока данных не поддерживает "Зиппелат". <br>Обратите внимание при использовании копирования деятельности для декомпрессии файла (ы) и записи в `<path specified in dataset>/<folder named as source zip file>/`файл на основе хранения данных о раковине, файлы будут извлечены в папку: . | нет       |
| Уровень сжатия | Коэффициент сжатия. <br>Разрешенные значения **оптимальны** или **быстры.**<br>- **Самый быстрый:** Операция сжатия должна завершиться как можно быстрее, даже если полученный файл не сжимается оптимально.<br>- **Оптимальная**: Операция сжатия должна быть оптимально сжата, даже если операция занимает больше времени. Дополнительные сведения см. в разделе [Уровень сжатия](https://msdn.microsoft.com/library/system.io.compression.compressionlevel.aspx). | нет       |

Ниже приведен пример разграниченного набора текстовых данных по хранению Azure Blob:

```json
{
    "name": "DelimitedTextDataset",
    "properties": {
        "type": "DelimitedText",
        "linkedServiceName": {
            "referenceName": "<Azure Blob Storage linked service name>",
            "type": "LinkedServiceReference"
        },
        "schema": [ < physical schema, optional, retrievable during authoring > ],
        "typeProperties": {
            "location": {
                "type": "AzureBlobStorageLocation",
                "container": "containername",
                "folderPath": "folder/subfolder",
            },
            "columnDelimiter": ",",
            "quoteChar": "\"",
            "firstRowAsHeader": true,
            "compressionCodec": "gzip"
        }
    }
}
```

## <a name="copy-activity-properties"></a>Свойства действия копирования

Полный список разделов и свойств, используемых для определения действий, см. в статье [Конвейеры и действия в фабрике данных Azure](concepts-pipelines-activities.md). В этом разделе приводится список свойств, поддерживаемых разграниченным источником текста и раковиной.

### <a name="delimited-text-as-source"></a>Делимитированый текст как источник 

Следующие свойства поддерживаются в разделе *** \*источника активности\* *** копирования.

| Свойство       | Описание                                                  | Обязательно |
| -------------- | ------------------------------------------------------------ | -------- |
| type           | Свойство типа источника активности копирования должно быть установлено на **DelimitedTextSource.** | Да      |
| форматНастройкы | Группа свойств. Обратитесь к **таблице настроек Delimited, приведенной** ниже. | нет       |
| storeSettings  | Группа свойств о том, как считывать данные из хранилища данных. Каждый файл на основе разъема `storeSettings`имеет свои собственные поддерживаемые настройки чтения под . | нет       |

Поддерживаемые **настройки чтения с разграниченным текстом** под: `formatSettings`

| Свойство      | Описание                                                  | Обязательно |
| ------------- | ------------------------------------------------------------ | -------- |
| type          | Тип форматаНастройкы должны быть установлены на **DelimitedTextReadSettings.** | Да      |
| skipLineCount | Указывает количество **непустых** строк, которые нужно пропустить при чтении данных из входных файлов. <br>Если указаны skipLineCount и firstRowAsHeader, то сначала пропускаются строки, а затем считываются данные заголовка из входного файла. | нет       |

### <a name="delimited-text-as-sink"></a>Делимитированый текст как раковина

Следующие свойства поддерживаются в разделе *** \*раковины активности\* *** копирования.

| Свойство       | Описание                                                  | Обязательно |
| -------------- | ------------------------------------------------------------ | -------- |
| type           | Свойство типа источника активности копирования должно быть установлено на **DelimitedTextSink.** | Да      |
| форматНастройкы | Группа свойств. Обратитесь к **таблице настроек Delimited text, приведенной** ниже. |          |
| storeSettings  | Группа свойств о том, как записывать данные в хранилище данных. Каждый разъем на основе файлов имеет `storeSettings`свои собственные поддерживаемые настройки записи под .  | нет       |

Поддерживаемый **делимитировайтекст написать настройки текста** под: `formatSettings`

| Свойство      | Описание                                                  | Обязательно                                              |
| ------------- | ------------------------------------------------------------ | ----------------------------------------------------- |
| type          | Тип форматаНастройкы должны быть установлены на **DelimitedTextWriteSettings.** | Да                                                   |
| файлЭксив | Расширение файла используется для названия выходных `.csv`файлов, например, `.txt`. Он должен быть `fileName` указан, когда не указан в выходных DelimitedText набор данных. Когда имя файла настроено в наборе выходных данных, оно будет использоваться в качестве имени файла раковины и параметр расширения файла будет проигнорирован.  | Да, когда имя файла не указано в наборе выходных данных |

## <a name="mapping-data-flow-properties"></a>Отображение свойств потока данных

Узнайте подробности из [преобразования источника](data-flow-source.md) и [преобразования раковины](data-flow-sink.md) в потоке данных отображения.

## <a name="next-steps"></a>Дальнейшие действия

- [Общие сведения о действии копирования](copy-activity-overview.md)
- [Картирование потока данных](concepts-data-flow-overview.md)
- [Активность поиска](control-flow-lookup-activity.md)
- [Действие получения метаданных в Фабрике данных Azure](control-flow-get-metadata-activity.md)
