---
title: Текстовый формат с разделителями в фабрике данных Azure
description: В этом разделе описывается, как работать с текстовым форматом с разделителями в фабрике данных Azure.
author: linda33wj
manager: shwang
ms.reviewer: craigg
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
ms.date: 11/26/2019
ms.author: jingwang
ms.openlocfilehash: 77d2daf3fa17632d8a1c633c23815e0035e45481
ms.sourcegitcommit: a5ebf5026d9967c4c4f92432698cb1f8651c03bb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/08/2019
ms.locfileid: "74931254"
---
# <a name="delimited-text-format-in-azure-data-factory"></a>Текстовый формат с разделителями в фабрике данных Azure

Если нужно **проанализировать текстовые файлы с разделителями или записать данные в текстовый формат с разделителями**, следуйте этой статье. 

Формат текста с разделителями поддерживается для следующих соединителей: [Amazon S3](connector-amazon-simple-storage-service.md), [большой двоичный объект Azure](connector-azure-blob-storage.md), [Azure Data Lake Storage 1-го поколения](connector-azure-data-lake-store.md), [Azure Data Lake Storage 2-го поколения](connector-azure-data-lake-storage.md), [хранилище файлов Azure](connector-azure-file-storage.md), [Файловая система](connector-file-system.md), [FTP](connector-ftp.md), [Google Cloud Storage](connector-google-cloud-storage.md), [HDFS](connector-hdfs.md), [http](connector-http.md)и [SFTP](connector-sftp.md).

## <a name="dataset-properties"></a>Свойства набора данных

Полный список разделов и свойств, доступных для определения наборов данных, см. в статье о [наборах данных](concepts-datasets-linked-services.md). В этом разделе содержится список свойств, поддерживаемых текстовым набором данных с разделителями.

| Свойство         | Описание                                                  | Обязательно для заполнения |
| ---------------- | ------------------------------------------------------------ | -------- |
| Тип             | Свойство Type набора данных должно иметь значение **DelimitedText**. | ДА      |
| location         | Параметры расположения файлов. Каждый файловый соединитель имеет собственный тип расположения и поддерживаемые свойства в разделе `location`.  | ДА      |
| columnDelimiter  | Символы, используемые для разделения столбцов в файле. В настоящее время разделитель с несколькими символами поддерживается только для потока данных сопоставления, но не для действия копирования. <br>Значение по умолчанию — **запятая `,`** , если разделитель столбцов определен как пустая строка, что означает отсутствие разделителя, вся строка принимается как один столбец. | Нет       |
| rowDelimiter     | Отдельный символ или "\r\n", используемый для разделения строк в файле.<br>Значение по умолчанию — любое из следующих значений **при чтении: ["\r\n", "\r", "\n"]** и **"\n" или "\r\n" при записи** с сопоставлением потока данных и действия копирования соответственно. <br>Если `rowDelimiter` имеет значение без разделителя (пустая строка), `columnDelimiter` должен быть задан как разделитель (пустая строка), а это означает, что все содержимое будет считаться одним значением. | Нет       |
| quoteChar        | Одиночный символ для заключения в кавычки значений столбца, если он содержит разделитель столбцов. <br>Значение по умолчанию — **двойные кавычки** `"`. <br>Для потока данных сопоставления `quoteChar` не может быть пустой строкой. <br>Для действия копирования, если `quoteChar` определен как пустая строка, это означает, что кавычки не существуют, а значение столбца не заключено в кавычки, а `escapeChar` используется для экранирования разделителя столбцов и самого себя. | Нет       |
| escapeChar       | Одиночный символ для экранирования кавычек внутри значения в кавычках.<br>Значение по умолчанию — **обратная косая черта `\`** . <br>Для потока данных сопоставления `escapeChar` не может быть пустой строкой. <br/>Для действия копирования, если `escapeChar` определен как пустая строка, `quoteChar` необходимо задать как пустую строку. в этом случае все значения столбцов не должны содержать разделители. | Нет       |
| firstRowAsHeader | Указывает, следует ли обрабатывать или делать первую строку в виде строки заголовка с именами столбцов.<br>Допустимые значения: **true** и **false** (по умолчанию). | Нет       |
| nullValue        | Задает строковое представление значения NULL. <br>Значение по умолчанию — **пустая строка**. | Нет       |
| encodingName     | Тип кодировки, используемый для чтения и записи тестовых файлов. <br>Допустимы следующие значения: "UTF-8", "UTF-16", "UTF-16BE", "UTF-32", "UTF-32BE", "US-ASCII", "UTF-7", "BIG5", "EUC-JP", "EUC-KR", "GB2312", "GB18030", "JOHAB", "SHIFT-JIS", "CP875", "CP866", "IBM00858", "IBM037", "IBM273", "IBM437", "IBM500", " IBM737", "IBM775", "IBM850", "IBM852", "IBM855", "IBM857", "IBM860", "IBM861", "IBM863", "IBM864", "IBM865", "IBM869", "IBM870", "IBM01140", "IBM01141", "IBM01142", "IBM01143", "IBM01144", "IBM01145", "IBM01146", "IBM01147", "IBM01148", "IBM01149" , "ISO-2022-JP", "ISO-2022-KR", "ISO-8859-1", "ISO-8859-2", "ISO-8859-3", "ISO-8859-4", "ISO-8859-5", "ISO-8859-6", "ISO-8859-7", "ISO-8859-8", "ISO-8859-9", "ISO-8859-13", "ISO-8859-15", "WINDOWS-874", "WINDOWS-1250", "WINDOWS-1251", " WINDOWS-1252 "," WINDOWS-1253 "," WINDOWS-1254 "," WINDOWS-1255 "," WINDOWS-1256 "," WINDOWS-1257 "," WINDOWS-1258 ".<br>Примечание. поток данных сопоставления не поддерживает кодировку UTF-7. | Нет       |
| компрессионкодек | Кодек сжатия, используемый для чтения и записи текстовых файлов. <br>Допустимые значения: **bzip2**, **gzip**, **Deflate**, **ZipDeflate**, **привязки**или **lz4**. для использования при сохранении файла. <br>Примечание. в настоящее время действие копирования не поддерживает "привязку" & "lz4", а поток данных сопоставления не поддерживает "ZipDeflate". <br>Примечание. при использовании действия копирования для распаковки файлов ZipDeflate и записи в файловый файл хранилища данных файлы будут извлечены в папку: `<path specified in dataset>/<folder named as source zip file>/`. | Нет       |
| compressionLevel | Коэффициент сжатия. <br>Допустимые значения: **оптимальный** или **самый быстрый**.<br>- **быстрее.** операция сжатия должна завершиться как можно быстрее, даже если итоговый файл не будет оптимально сжат.<br>- **оптимально**. операция сжатия должна быть оптимально сжата, даже если выполнение операции займет больше времени. Дополнительные сведения см. в разделе [Уровень сжатия](https://msdn.microsoft.com/library/system.io.compression.compressionlevel.aspx). | Нет       |

Ниже приведен пример текстового набора данных с разделителями в хранилище BLOB-объектов Azure.

```json
{
    "name": "DelimitedTextDataset",
    "properties": {
        "type": "DelimitedText",
        "linkedServiceName": {
            "referenceName": "<Azure Blob Storage linked service name>",
            "type": "LinkedServiceReference"
        },
        "schema": [ < physical schema, optional, retrievable during authoring > ],
        "typeProperties": {
            "location": {
                "type": "AzureBlobStorageLocation",
                "container": "containername",
                "folderPath": "folder/subfolder",
            },
            "columnDelimiter": ",",
            "quoteChar": "\"",
            "firstRowAsHeader": true,
            "compressionCodec": "gzip"
        }
    }
}
```

## <a name="copy-activity-properties"></a>Свойства действия копирования

Полный список разделов и свойств, используемых для определения действий, см. в статье [Конвейеры и действия в фабрике данных Azure](concepts-pipelines-activities.md). В этом разделе содержится список свойств, поддерживаемых источником и приемником текста с разделителями.

### <a name="delimited-text-as-source"></a>Текст с разделителями в качестве источника 

Следующие свойства поддерживаются в разделе действие копирования ***\*источник\**** .

| Свойство       | Описание                                                  | Обязательно для заполнения |
| -------------- | ------------------------------------------------------------ | -------- |
| Тип           | Свойство Type источника действия копирования должно иметь значение **делимитедтекстсаурце**. | ДА      |
| форматсеттингс | Группа свойств. См. таблицу **параметров чтения текста с разделителями** ниже. | Нет       |
| сторесеттингс  | Группа свойств для чтения данных из хранилища данных. Каждый файловый соединитель имеет собственные Поддерживаемые параметры чтения в разделе `storeSettings`. | Нет       |

Поддерживаемые **параметры чтения текста с разделителями** в разделе `formatSettings`:

| Свойство      | Описание                                                  | Обязательно для заполнения |
| ------------- | ------------------------------------------------------------ | -------- |
| Тип          | Для типа Форматсеттингс должно быть задано значение **делимитедтекстреадсеттинг**. | ДА      |
| skipLineCount | Указывает количество **непустых** строк, которые нужно пропустить при чтении данных из входных файлов. <br>Если указаны skipLineCount и firstRowAsHeader, то сначала пропускаются строки, после чего из входного файла считываются данные заголовка. | Нет       |

### <a name="delimited-text-as-sink"></a>Текст с разделителями в качестве приемника

В разделе\*действия копирования ***\*приемника*** поддерживаются следующие свойства.

| Свойство       | Описание                                                  | Обязательно для заполнения |
| -------------- | ------------------------------------------------------------ | -------- |
| Тип           | Свойство Type источника действия копирования должно иметь значение **делимитедтекстсинк**. | ДА      |
| форматсеттингс | Группа свойств. См. таблицу **параметров записи текста с разделителями** ниже. |          |
| сторесеттингс  | Группа свойств для записи данных в хранилище данных. Каждый соединитель на основе файлов имеет собственные Поддерживаемые параметры записи в разделе `storeSettings`.  | Нет       |

Поддерживаемые **Параметры записи текста с разделителями** в разделе `formatSettings`:

| Свойство      | Описание                                                  | Обязательно для заполнения                                              |
| ------------- | ------------------------------------------------------------ | ----------------------------------------------------- |
| Тип          | Для типа Форматсеттингс должно быть задано значение **делимитедтекствритесеттинг**. | ДА                                                   |
| FileExtension | Расширение файла, используемое для именования выходных файлов, например `.csv`, `.txt`. Он должен быть указан, если `fileName` не указан в выходном наборе данных DelimitedText. | Да, если имя файла не указано в выходном наборе данных |

## <a name="mapping-data-flow-properties"></a>Сопоставление свойств потока данных

Дополнительные сведения см. в статье преобразование [источника](data-flow-source.md) и [Преобразование приемника](data-flow-sink.md) в потоке данных сопоставления.

## <a name="next-steps"></a>Дальнейшие действия

- [Действие копирования в фабрике данных Azure](copy-activity-overview.md)
- [Поток данных сопоставления](concepts-data-flow-overview.md)
- [Действие поиска](control-flow-lookup-activity.md)
- [Действие получения метаданных в Фабрике данных Azure](control-flow-get-metadata-activity.md)
