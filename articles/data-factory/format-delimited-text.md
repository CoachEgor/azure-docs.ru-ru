---
title: Текстовый формат с разделителями в фабрике данных Azure
description: В этом разделе описывается, как работать с текстовым форматом с разделителями в фабрике данных Azure.
author: linda33wj
manager: shwang
ms.reviewer: craigg
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
ms.date: 04/09/2020
ms.author: jingwang
ms.openlocfilehash: 696c175f55ecdb09b1b88f9766c4c678afe2c4ec
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "81417093"
---
# <a name="delimited-text-format-in-azure-data-factory"></a>Текстовый формат с разделителями в фабрике данных Azure
[!INCLUDE[appliesto-adf-asa-md](includes/appliesto-adf-asa-md.md)]

Если нужно **проанализировать текстовые файлы с разделителями или записать данные в текстовый формат с разделителями**, следуйте этой статье. 

Формат текста с разделителями поддерживается для следующих соединителей: [Amazon S3](connector-amazon-simple-storage-service.md), [большой двоичный объект Azure](connector-azure-blob-storage.md), [Azure Data Lake Storage 1-го поколения](connector-azure-data-lake-store.md), [Azure Data Lake Storage 2-го поколения](connector-azure-data-lake-storage.md), [хранилище файлов Azure](connector-azure-file-storage.md), [Файловая система](connector-file-system.md), [FTP](connector-ftp.md), [Google Cloud Storage](connector-google-cloud-storage.md), [HDFS](connector-hdfs.md), [http](connector-http.md)и [SFTP](connector-sftp.md).

## <a name="dataset-properties"></a>Свойства набора данных

Полный список разделов и свойств, доступных для определения наборов данных, см. в статье о [наборах данных](concepts-datasets-linked-services.md). В этом разделе содержится список свойств, поддерживаемых текстовым набором данных с разделителями.

| Свойство         | Описание                                                  | Обязательный |
| ---------------- | ------------------------------------------------------------ | -------- |
| type             | Свойство Type набора данных должно иметь значение **DelimitedText**. | Да      |
| location         | Параметры расположения файлов. Каждый файловый соединитель имеет собственный тип расположения и поддерживаемые свойства в разделе `location`.  | Да      |
| columnDelimiter  | Символы, используемые для разделения столбцов в файле. <br>Значение по умолчанию **— `,`запятая **. Если разделитель столбцов определен как пустая строка, что означает отсутствие разделителя, вся строка принимается как один столбец.<br>В настоящее время разделитель столбцов как пустая строка или Multi-char поддерживается только для потока данных сопоставления, но не для действия копирования.  | Нет       |
| rowDelimiter     | Отдельный символ или "\r\n", используемый для разделения строк в файле. <br>Значение по умолчанию — любое из следующих значений **при чтении: ["\r\n", "\r", "\n"]** и **"\n" или "\r\n" при записи** с сопоставлением потока данных и действия копирования соответственно. <br>Если разделителю строк присвоено значение No разделитель (пустая строка), то разделитель столбцов должен быть также установлен в качестве разделителя (пустая строка), что означает, что все содержимое обрабатывается как одно значение.<br>В настоящее время разделитель строк как пустая строка поддерживается только для потока данных сопоставления, но не для действия копирования. | Нет       |
| quoteChar        | Одиночный символ для заключения в кавычки значений столбца, если он содержит разделитель столбцов. <br>Значение по умолчанию — **двойные кавычки** `"`. <br>Для потока данных сопоставления `quoteChar` не может быть пустой строкой. <br>Для действия копирования, если `quoteChar` определен как пустая строка, это означает, что кавычки не существуют, а значение столбца не заключено в `escapeChar` кавычки и используется для экранирования разделителя столбцов и самого себя. | Нет       |
| escapeChar       | Одиночный символ для экранирования кавычек внутри значения в кавычках.<br>Значение по умолчанию **— `\`обратная косая черта **. <br>Для потока данных сопоставления `escapeChar` не может быть пустой строкой. <br/>Для действия копирования, если `escapeChar` определен как пустая строка, параметр `quoteChar` должен быть задан как пустая строка. в этом случае убедитесь, что все значения столбца не содержат разделители. | Нет       |
| firstRowAsHeader | Указывает, следует ли обрабатывать или делать первую строку в виде строки заголовка с именами столбцов.<br>Допустимые значения: **true** и **false** (по умолчанию). | Нет       |
| nullValue        | Задает строковое представление значения NULL. <br>Значение по умолчанию — **пустая строка**. | Нет       |
| encodingName     | Тип кодировки, используемый для чтения и записи тестовых файлов. <br>Допустимы следующие значения: "UTF-8", "UTF-16", "UTF-16BE", "UTF-32", "UTF-32BE", "US-ASCII", "UTF-7", "BIG5", "EUC-JP", "EUC-KR", "GB2312", "GB18030", "JOHAB", "SHIFT-JIS", "CP875", "CP866", "IBM00858", "IBM037", "IBM273", "IBM437", "IBM500", "IBM737", "IBM775", "IBM850", "IBM852", "IBM855", "IBM857", "IBM860", "IBM861", "IBM863", "IBM864", "IBM865", "IBM869", "IBM870", "IBM01140", "IBM01141", "IBM01142", "IBM01143", "IBM01144", "IBM01145", "IBM01146", "IBM01147", "IBM01148", "IBM01149", "ISO-2022-JP", "ISO-2022-KR", "ISO-8859-1", "ISO-8859-2", "ISO-8859-3", "ISO-8859-4", "ISO-8859-5", "ISO-8859-6", "ISO-8859-7", "ISO-8859-8", "ISO-8859-9", "ISO-8859-13" , "ISO-8859-15", "WINDOWS-874", "WINDOWS-1250", "WINDOWS-1251", "WINDOWS-1252", "WINDOWS-1253", "WINDOWS-1254", "WINDOWS-1255", "WINDOWS-1256", "WINDOWS-1257", "WINDOWS-1258".<br>Примечание. поток данных сопоставления не поддерживает кодировку UTF-7. | Нет       |
| компрессионкодек | Кодек сжатия, используемый для чтения и записи текстовых файлов. <br>Допустимые значения: **bzip2**, **gzip**, **Deflate**, **ZipDeflate**, **привязки**или **lz4**. Значение по умолчанию не сжато. <br>**Примечание** . в настоящее время действие копирования не поддерживает "привязку" & "lz4", а поток данных сопоставления не поддерживает "ZipDeflate". <br>**Примечание** . при использовании действия копирования для распаковки файлов ZipDeflate и записи в хранилище данных приемника файлов файлы будут извлечены в папку: `<path specified in dataset>/<folder named as source zip file>/`. | Нет       |
| compressionLevel | Коэффициент сжатия. <br>Допустимые значения: **оптимальный** или **самый быстрый**.<br>- **Самый быстрый:** Операция сжатия должна завершиться как можно быстрее, даже если итоговый файл не сжимается оптимально.<br>- **Оптимально**. операция сжатия должна быть оптимально сжата, даже если выполнение операции займет больше времени. Дополнительные сведения см. в разделе [Уровень сжатия](https://msdn.microsoft.com/library/system.io.compression.compressionlevel.aspx). | Нет       |

Ниже приведен пример текстового набора данных с разделителями в хранилище BLOB-объектов Azure.

```json
{
    "name": "DelimitedTextDataset",
    "properties": {
        "type": "DelimitedText",
        "linkedServiceName": {
            "referenceName": "<Azure Blob Storage linked service name>",
            "type": "LinkedServiceReference"
        },
        "schema": [ < physical schema, optional, retrievable during authoring > ],
        "typeProperties": {
            "location": {
                "type": "AzureBlobStorageLocation",
                "container": "containername",
                "folderPath": "folder/subfolder",
            },
            "columnDelimiter": ",",
            "quoteChar": "\"",
            "escapeChar": "\"",
            "firstRowAsHeader": true,
            "compressionCodec": "gzip"
        }
    }
}
```

## <a name="copy-activity-properties"></a>Свойства действия копирования

Полный список разделов и свойств, используемых для определения действий, см. в статье [Конвейеры и действия в фабрике данных Azure](concepts-pipelines-activities.md). В этом разделе содержится список свойств, поддерживаемых источником и приемником текста с разделителями.

### <a name="delimited-text-as-source"></a>Текст с разделителями в качестве источника 

В разделе *** \*источник\* *** действия копирования поддерживаются следующие свойства.

| Свойство       | Описание                                                  | Обязательный |
| -------------- | ------------------------------------------------------------ | -------- |
| type           | Свойство Type источника действия копирования должно иметь значение **делимитедтекстсаурце**. | Да      |
| форматсеттингс | Группа свойств. См. таблицу **параметров чтения текста с разделителями** ниже. | Нет       |
| сторесеттингс  | Группа свойств для чтения данных из хранилища данных. Каждый файловый соединитель имеет собственные Поддерживаемые параметры чтения в разделе `storeSettings`. | Нет       |

Поддерживаемые **параметры чтения текста с разделителями** в разделе `formatSettings`:

| Свойство      | Описание                                                  | Обязательный |
| ------------- | ------------------------------------------------------------ | -------- |
| type          | Для типа Форматсеттингс должно быть задано значение **делимитедтекстреадсеттингс**. | Да      |
| skipLineCount | Указывает количество **непустых** строк, которые нужно пропустить при чтении данных из входных файлов. <br>Если указаны skipLineCount и firstRowAsHeader, то сначала пропускаются строки, а затем считываются данные заголовка из входного файла. | Нет       |

### <a name="delimited-text-as-sink"></a>Текст с разделителями в качестве приемника

В разделе *** \*приемника\* *** действия копирования поддерживаются следующие свойства.

| Свойство       | Описание                                                  | Обязательный |
| -------------- | ------------------------------------------------------------ | -------- |
| type           | Свойство Type источника действия копирования должно иметь значение **делимитедтекстсинк**. | Да      |
| форматсеттингс | Группа свойств. См. таблицу **параметров записи текста с разделителями** ниже. |          |
| сторесеттингс  | Группа свойств для записи данных в хранилище данных. Каждый соединитель на основе файлов имеет собственные Поддерживаемые параметры записи в `storeSettings`.  | Нет       |

Поддерживаемые **Параметры записи текста с разделителями** в разделе `formatSettings`:

| Свойство      | Описание                                                  | Обязательный                                              |
| ------------- | ------------------------------------------------------------ | ----------------------------------------------------- |
| type          | Для типа Форматсеттингс должно быть задано значение **делимитедтекствритесеттингс**. | Да                                                   |
| fileExtension | Расширение файла, используемое для именования выходных файлов, например `.csv` `.txt`. Он должен быть указан, `fileName` если не указан в выходном наборе данных DelimitedText. Если имя файла настроено в выходном наборе данных, оно будет использоваться в качестве имени файла приемника, а параметр расширения файла будет проигнорирован.  | Да, если имя файла не указано в выходном наборе данных |

## <a name="mapping-data-flow-properties"></a>Сопоставление свойств потока данных

Дополнительные сведения см. в статье преобразование [источника](data-flow-source.md) и [Преобразование приемника](data-flow-sink.md) в потоке данных сопоставления.

## <a name="next-steps"></a>Дальнейшие шаги

- [Общие сведения о действии копирования](copy-activity-overview.md)
- [Поток данных сопоставления](concepts-data-flow-overview.md)
- [Действие поиска](control-flow-lookup-activity.md)
- [Действие получения метаданных в Фабрике данных Azure](control-flow-get-metadata-activity.md)
