---
title: Текстовый формат с разделителями в фабрике данных Azure | Документация Майкрософт
description: В этом разделе описывается, как работать с текстовый формат с разделителями в фабрике данных Azure.
author: linda33wj
manager: craigg
ms.reviewer: craigg
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
ms.date: 04/29/2019
ms.author: jingwang
ms.openlocfilehash: 4e365ef01b8c7a89d61efad25bd18943e7b2d1a4
ms.sourcegitcommit: 2c09af866f6cc3b2169e84100daea0aac9fc7fd0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2019
ms.locfileid: "64877973"
---
# <a name="delimited-text-format-in-azure-data-factory"></a>Текстовый формат с разделителями в фабрике данных Azure

Выполните в этой статье, если вы хотите **синтаксический анализ текстовых файлов с разделителями или записи данных в текстовый формат с разделителями**. 

Текстовый формат с разделителями поддерживается для следующих соединителей: [Amazon S3](connector-amazon-simple-storage-service.md), [BLOB-объектов Azure](connector-azure-blob-storage.md), [Gen1 хранилища Озера данных Azure](connector-azure-data-lake-store.md), [хранилища Озера данных Azure 2-го поколения](connector-azure-data-lake-storage.md), [хранилища файлов Azure](connector-azure-file-storage.md), [Файловая система](connector-file-system.md), [FTP](connector-ftp.md), [Google Cloud Storage](connector-google-cloud-storage.md), [HDFS](connector-hdfs.md), [HTTP](connector-http.md)и [ SFTP](connector-sftp.md).

## <a name="dataset-properties"></a>Свойства набора данных

Полный список разделов и свойств, доступных для определения наборов данных, см. в статье о [наборах данных](concepts-datasets-linked-services.md). Этот раздел содержит список свойств, поддерживаемых набором данных с разделителями.

| Свойство         | ОПИСАНИЕ                                                  | Обязательно для заполнения |
| ---------------- | ------------------------------------------------------------ | -------- |
| Тип             | Свойство type набора данных должно быть присвоено **DelimitedText**. | Yes      |
| location         | Параметры расположения файлов. Каждый соединитель на основе файлов имеет собственный тип расположения и поддерживаемые свойства в разделе `location`. **Подробнее см. в статье о соединителе "->" в разделе "Свойства набора данных"**. | Yes      |
| columnDelimiter  | Символы, используемые для разделения столбцов в файле. В настоящее время несколькими char разделителя поддерживается только для сопоставления потока данных, но не для действия копирования. <br>Значение по умолчанию — **разделителями `,`** , если разделитель столбцов определен как пустая строка, что означает разделитель не всю строку, рассматривается как один столбец. | Нет        |
| rowDelimiter     | Одним символом или «\r\n» используется для разделения строк в файле.<br>Значение по умолчанию — любой из следующих значений **для чтения: [«\r\n», «\r», «\n»]**, и **«\n» или «\r\n» при записи** путем сопоставления данных потока и действие копирования соответственно. <br>При `rowDelimiter` имеет значение (пустую строку), разделитель не `columnDelimiter` должен быть задан как нет разделителя (пустую строку), означающее, следует считать все содержимое в одно значение. | Нет        |
| quoteChar        | Символ для заключения в кавычки значения столбца, если он содержит разделитель столбцов. <br>Значение по умолчанию — **двойные кавычки** `"`. <br>Для сопоставления «поток данных» `quoteChar` не может быть пустой строкой. <br>Для действия копирования когда `quoteChar` определен как пустая строка, значит, что имеется не цитата (знак) и значение столбца не заключен в кавычки, и `escapeChar` используется для экранирования разделителя столбцов и сам. | Нет        |
| escapeChar       | Один символ для экранирования кавычки внутри значения в кавычках.<br>Значение по умолчанию — **обратная косая черта `\`** . <br>Для сопоставления «поток данных» `escapeChar` не может быть пустой строкой. <br/>Для действия копирования когда `escapeChar` определен как пустая строка, `quoteChar` должно быть задано в виде пустой строки, а также, в этом случае убедитесь, что все значения столбцов не содержит разделители. | Нет        |
| firstRowAsHeader | Указывает, следует ли рассматривать/сделать первую строку как строку заголовка с именами столбцов.<br>Допустимые значения: **true** и **false** (по умолчанию). | Нет        |
| nullValue        | Задает строковое представление значения null. <br>Значение по умолчанию — **пустая строка**. | Нет        |
| encodingName     | Тип кодировки, используемый для чтения и записи файлов теста. <br>Допустимые значения: следующим образом: «UTF-8", «UTF-16", «UTF-16BE», «UTF-32", «UTF-32BE», «US ASCII», «UTF-7", «BIG5», «EUC-JP», «EUC-KR», «GB2312», «GB18030», «ДЖОХАБ», «SHIFT-JIS», «CP875», «CP866», «IBM00858», «IBM037», «IBM273», «IBM437», «IBM500», «IBM737», «IBM775», «IBM850», " IBM852», «IBM855», «IBM857», «IBM860», «IBM861», «IBM863», «IBM864», «IBM865», «IBM869», «IBM870», «IBM01140», «IBM01141», «IBM01142», «IBM01143», «IBM01144», «IBM01145», «IBM01146», «IBM01147», «IBM01148», «IBM01149», «ISO-2022-JP», «ISO-2022-KR «, «ISO-8859-1», «ISO-8859-2", «ISO-8859-3", «ISO-8859-4", «ISO-8859-5", «ISO-8859-6", «ISO-8859-7", «ISO-8859-8", «ISO-8859-9", «ISO-8859-13", «ISO-8859-15", «WINDOWS-874", «WINDOWS-1250", «WINDOWS-1251", «WINDOWS-1252", «WINDOWS-1253"," WINDOWS-1254 ", «WINDOWS-1255», «WINDOWS-1256», «WINDOWS-1257», «WINDOWS-1258».<br>Обратите внимание, что сопоставление потока данных не поддерживает кодировку UTF-7. | Нет        |
| compressionCodec | Кодек сжатия, используемый для чтения и записи текстовых файлов. <br>Допустимые значения: **bzip2**, **gzip**, **deflate**, **ZipDeflate**, **snappy**, или **lz4**. для использования при сохранении файла. <br>Обратите внимание, в настоящее время не поддерживается действием копирования, «snappy» & «lz4» сопоставление потока данных не поддерживает «ZipDeflate». | Нет        |
| CompressionLevel | Коэффициент сжатия. <br>Допустимые значения: **Optimal** или **Fastest**.<br>- **Самый быстрый:** операция сжатия должна выполняться как можно быстрее, даже если итоговый файл сжимается не оптимально.<br>- **Оптимальное**: операция сжатия должна выполняться оптимально, даже если для ее завершения требуется больше времени. Дополнительные сведения см. в разделе [Уровень сжатия](https://msdn.microsoft.com/library/system.io.compression.compressionlevel.aspx). | Нет        |

Ниже приведен пример набора данных с разделителями в хранилище BLOB-объектов:

```json
{
    "name": "DelimitedTextDataset",
    "properties": {
        "type": "DelimitedText",
        "linkedServiceName": {
            "referenceName": "<Azure Blob Storage linked service name>",
            "type": "LinkedServiceReference"
        },
        "schema": [ < physical schema, optional, auto retrieved during authoring > ],
        "typeProperties": {
            "location": {
                "type": "AzureBlobStorageLocation",
                "container": "containername",
                "folderPath": "folder/subfolder",
            },
            "columnDelimiter": ",",
            "quoteChar": "\"",
            "firstRowAsHeader": true,
            "compressionCodec": "gzip"
        }
    }
}
```

## <a name="copy-activity-properties"></a>Свойства действия копирования

Полный список разделов и свойств, используемых для определения действий, см. в статье [Конвейеры и действия в фабрике данных Azure](concepts-pipelines-activities.md). Этот раздел содержит список свойств, поддерживаемых текстовый файл с разделителями источника и приемника.

### <a name="delimited-text-as-source"></a>Текстовый файл с разделителями в качестве источника 

Следующие свойства поддерживаются в действии копирования ***\*источника\**** раздел.

| Свойство       | ОПИСАНИЕ                                                  | Обязательно для заполнения |
| -------------- | ------------------------------------------------------------ | -------- |
| Тип           | Свойство type источника действия копирования должно быть присвоено **DelimitedTextSource**. | Yes      |
| formatSettings | Группа свойств. Ссылаться на **текст с разделителями для чтения параметров** в следующей таблице. | Нет        |
| storeSettings  | Группа свойств о том, как считывать данные из хранилища данных. Каждый соединитель на основе файлов имеет свой собственный поддерживаемых параметров чтения в группе `storeSettings`. **Подробнее см. в статье о соединителе "->" в разделе "Свойства" Действие копирования**. | Нет        |

Поддерживается **текстовый файл с разделителями чтение параметров** под `formatSettings`:

| Свойство      | ОПИСАНИЕ                                                  | Обязательно для заполнения |
| ------------- | ------------------------------------------------------------ | -------- |
| Тип          | Тип formatSettings должно быть присвоено **DelimitedTextReadSetting**. | Yes      |
| skipLineCount | Указывает количество **непустых** строк, которые нужно пропустить при чтении данных из входных файлов. <br>Если указаны skipLineCount и firstRowAsHeader, то сначала пропускаются строки, после чего из входного файла считываются данные заголовка. | Нет        |

### <a name="delimited-text-as-sink"></a>Текстовый файл с разделителями в качестве приемника

Следующие свойства поддерживаются в действии копирования ***\*приемника\**** раздел.

| Свойство       | ОПИСАНИЕ                                                  | Обязательно для заполнения |
| -------------- | ------------------------------------------------------------ | -------- |
| Тип           | Свойство type источника действия копирования должно быть присвоено **DelimitedTextSink**. | Yes      |
| formatSettings | Группа свойств. Ссылаться на **текста с разделителями запись параметров** в следующей таблице. |          |
| storeSettings  | Группа свойств о том, как записывать данные в хранилище данных. Каждый соединитель на основе файлов имеет свои собственные параметры записи, поддерживаемые в разделе `storeSettings`. **Подробнее см. в статье о соединителе "->" в разделе "Свойства" Действие копирования**. | Нет        |

Поддерживается **текстовый файл с разделителями запись параметров** под `formatSettings`:

| Свойство      | ОПИСАНИЕ                                                  | Обязательно для заполнения                                              |
| ------------- | ------------------------------------------------------------ | ----------------------------------------------------- |
| Тип          | Тип formatSettings должно быть присвоено **DelimitedTextWriteSetting**. | Yes                                                   |
| Добавляемое | Расширение файла, используемое для именования выходных файлов, например `.csv`, `.txt`. Он должен быть указан при `fileName` не указан в выходных данных DelimitedText набора данных. | Да, если имя файла не указан в выходной набор данных |

## <a name="mapping-data-flow-properties"></a>Сопоставление свойств потока данных

Дополнительные сведения см. в [преобразование исходного](data-flow-source.md) и [приемника преобразования](data-flow-sink.md) в сопоставление потока данных.

## <a name="next-steps"></a>Дальнейшие действия

- [Действие копирования в фабрике данных Azure](copy-activity-overview.md)
- [Процесс сопоставления данных](concepts-data-flow-overview.md)
- [Действие поиска](control-flow-lookup-activity.md)
- [Действие получения метаданных в Фабрике данных Azure](control-flow-get-metadata-activity.md)