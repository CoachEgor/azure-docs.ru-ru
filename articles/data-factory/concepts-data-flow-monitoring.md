---
title: Сопоставление визуального мониторинга потока данных
description: Инструкции по визуальному мониторингу потоков данных в службе "Фабрики данных Azure".
author: kromerm
ms.author: makromer
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.custom: seo-lt-2019
ms.date: 04/17/2020
ms.openlocfilehash: 18099e853aa44e4434a14d7ea913f968593021ec
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "81687912"
---
# <a name="monitor-data-flows"></a>Мониторинг потоков данных

[!INCLUDE[appliesto-adf-asa-md](includes/appliesto-adf-asa-md.md)]

После создания и отладки потока данных вы, возможно, захотите настроить его выполнение по расписанию в контексте конвейера. Вы можете запланировать запуск конвейера из службы "Фабрика данных Azure" с помощью триггеров. Кроме того, с помощью параметра Trigger Now (Запустить сейчас) в построителе конвейеров в службе "Фабрика данных Azure" вы можете инициировать однократное выполнение, чтобы проверить поток данных в контексте конвейера.

Во время выполнения конвейера вы сможете осуществлять его мониторинг и всех содержащихся в нем действий, в том числе действие потока данных. Щелкните значок мониторинга на панели слева пользовательского интерфейса службы "Фабрика данных Azure". Появится экран, аналогичный показанному ниже. Выделенные значки позволят посмотреть подробные сведения о действиях в конвейере, в том числе действие потока данных.

![Мониторинг потока данных](media/data-flow/mon001.png "Мониторинг потоков данных")

Вы увидите статистику на этом уровне, включая время выполнения и состояние. Идентификаторы выполнения на уровне действия и конвейера отличаются. На предыдущем уровне приведен идентификатор выполнения конвейера. Если щелкнуть значок очков, появятся подробные сведения о выполнении потока данных.

![Мониторинг потока данных](media/data-flow/mon002.png "Мониторинг потоков данных")

В представлении графического мониторинга узла приведена упрощенная доступная только для просмотра версия графа потока данных.

![Мониторинг потока данных](media/data-flow/mon003.png "Мониторинг потоков данных")

Ниже приведено видео о мониторинге производительности потоков данных с экрана мониторинга ADF:

> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RE4u4mH]

## <a name="view-data-flow-execution-plans"></a>Просмотр планов выполнения потоков данных

Когда поток данных выполняется в Spark, фабрика данных Azure определяет оптимальные пути кода, основываясь на полном объеме потока данных. Кроме того, пути выполнения могут возникнуть на разных узлах горизонтального масштабирования и в разных секциях данных. Таким образом, граф мониторинга представляет структуру потока, принимая во внимание путь выполнения преобразований. Если щелкнуть отдельные узлы, вы увидите группирования, представляющие код, который выполнялся вместе в кластере. Время и числа, которые вы видите, относятся к этим группам, а не отдельным этапам в структуре.

![Мониторинг потока данных](media/data-flow/mon004.png "Мониторинг потоков данных")

* Если щелкнуть пустое место в окне мониторинга, в нижней области появится статистика со временем и количеством строк по каждому приемнику, а также преобразования, данные из приемника которых отображаются в журнале преобразований.

* При выборе отдельных преобразований на правой панели будет отображаться дополнительная обратная связь, на которой показаны Статистика разделов, количество столбцов, асимметрия (равномерное распределение данных по секциям) и эксцесс (как пиковых данные).

* Если щелкнуть приемник в представлении узла, вы увидите журнал преобразований столбцов. Существуют три различных метода накопления столбцов в потоке данных перед попаданием в приемник. Они приведены ниже.

  * Вычисляемый. столбец используется для условной обработки или в выражении в потоке данных, но не наземный его в приемнике
  * Derived: столбец — это новый столбец, созданный в последовательности, т. е. он отсутствует в источнике.
  * Сопоставлено: столбец получен из источника, и вы сопоставляете его с полем приемника
  * Состояние потока данных: текущее состояние выполнения
  * Время запуска кластера: время, необходимое для получения вычислительной среды с JIT-компилятором Spark для выполнения потока данных
  * Число преобразований: количество шагов преобразования, выполняемых в потоке
  
![Мониторинг потока данных](media/data-flow/monitornew.png "Новый мониторинг потока данных")  
  
## <a name="monitor-icons"></a>Значки мониторинга

Этот значок означает, что данные преобразования уже были кэшированы в кластере, поэтому это учитывается при расчете времени и определении пути выполнения.

![Мониторинг потока данных](media/data-flow/mon004.png "Мониторинг потоков данных")

Кроме того, вы увидите зеленые круглые значки в преобразовании. Это количество приемников, в которые передаются данные.
