---
title: Режим отладки функции сопоставления потоков данных в Фабрике данных Azure
description: Запуск интерактивного сеанса отладки при создании потоков данных
author: kromerm
ms.author: makromer
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.date: 10/04/2018
ms.openlocfilehash: a50778db5fd57202c17f05407045259371912586
ms.sourcegitcommit: 509e1583c3a3dde34c8090d2149d255cb92fe991
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/27/2019
ms.locfileid: "66239193"
---
# <a name="mapping-data-flow-debug-mode"></a>Режим отладки функции сопоставления потоков данных

[!INCLUDE [notes](../../includes/data-factory-data-flow-preview.md)]

Azure фабрики сопоставление данных поток данных имеет режим отладки, который можно переключить данных потока отладки кнопку в верхней части области конструктора. Если при разработке потоков данных включить режим отладки, вы сможете интерактивно просматривать преобразование формы данных при создании и отладке потоков данных. Сеанс отладки может использоваться как в занятиях по проектированию потока данных, а также во время выполнения отладки конвейера потоков данных.

![Отладка кнопку](media/data-flow/debugbutton.png "кнопку отладки")

## <a name="overview"></a>Обзор
Если включен режим отладки, будет формировать в интерактивном режиме с кластером Spark активного потока данных. Сеанс будет закрыт после отключения отладки в Фабрике данных Azure. Следует помнить о почасовой оплате, которая взимается в Azure Databricks за время, когда сеанс отладки был включен.

В большинстве случаев рекомендуется создавать потоки данных в режиме отладки, чтобы можно было проверить бизнес-логику и просматривать преобразования данных перед публикацией данных в Фабрике данных Azure. Также следует использовать кнопку «Отладка» на панели «конвейер» для проверки потока данных в конвейере.

> [!NOTE]
> Во время отладки режим горит зеленым на панели инструментов фабрики данных, вы оплачиваете отладки скорость потока данных 8 ядер в час для общих вычислительных с 60 минут time-to-live 

## <a name="debug-mode-on"></a>Режим отладки на
При включении режима отладки появится форма боковой панели с запросом указать интерактивный кластер Azure Databricks и выбрать параметры для выборки источника. Необходимо использовать интерактивный кластер из Azure Databricks и выбрать размер выборки из каждого преобразования источника или выбрать текстовый файл для тестовых данных.

<img src="media/data-flow/upload.png" width="400">

> [!NOTE]
>Если при работе с Потоком данных включен режим отладки, данные не записываются в преобразование приемника. Сеанс отладки предназначен для использования в качестве окружения теста для преобразования. Приемники не нужны во время отладки и игнорируются в потоке данных. Если вы хотите протестировать запись данных в приемник, выполните поток данных из конвейера Фабрики данных Azure и используйте выполнение отладки из конвейера.

## <a name="debug-settings"></a>Параметры отладки
Параметры отладки может быть каждый источник, из потока данных, будут отображаться в боковой панели можно также изменить, выбрав «параметры источника» на панели инструментов конструктора потока данных. Вы можете выбрать ограничения и/или источник файлов для каждого преобразования источника. Ограничения строк в этом параметре используются только для текущего сеанса отладки. Также можно использовать параметр выборки в источнике для ограничения строк в преобразование «источник».

## <a name="cluster-status"></a>Состояние кластера
В верхней части области конструктора размещен индикатор состояния кластера, который станет зеленым, когда кластер будет готов для отладки. Если кластер уже готов, тогда зеленый индикатор появится практически мгновенно. Если кластер не был запущен во время перехода в режим отладки, то необходимо будет подождать 5–7 минут для его запуска. Световой индикатор будет желтым, пока кластер не будет готов. Когда кластер будет готов для отладки Потока данных, световой индикатор станет зеленым.

Когда вы закончите отладку, отключите ключом Debug, чтобы кластер Azure Databricks можно завершить, и больше не выставляются для отладки действия.

<img src="media/data-flow/datapreview.png" width="400">

## <a name="data-preview"></a>Предварительный просмотр данных
В режиме отладки вкладка "Предварительный просмотр данных" засветится на нижней панели. Если режим отладки отключен, в Потоке данных отобразятся только текущие входящие и исходящие метаданные каждого из преобразований на вкладке "Проверка". Предварительный просмотр данных будет запрашивать только количество строк, которые были заданы как лимит в параметры отладки. Чтобы обновить предварительный просмотр данных, щелкните Fetch data (Получить данные).

<img src="media/data-flow/stats.png" width="400">

## <a name="data-profiles"></a>Профили данных
После выбора отдельных столбцов на вкладке "Предварительный просмотр данных" появится всплывающее окно диаграммы в крайнем правом углу сетки данных с подробной статистикой о каждом поле. Фабрика данных Azure будет принимать решения на основе выборки данных того типа диаграммы, который нужно отобразить. Поля с высокой кратностью по умолчанию будут использовать диаграммы NULL или NOT NULL, а категориальные и числовые данные с низкой кратностью будут отображать линейчатые диаграммы, показывающие частоту значений данных. Вы также увидите максимальное и фактическое количество знаков в строковых полях, максимальное и минимальное значения в числовых полях, стандартное отклонение, процентили, счетчики и средние значения. 

<img src="media/data-flow/chart.png" width="400">

## <a name="next-steps"></a>Дальнейшие действия

Когда вы будете завершено построение и отладка потока данных, [выполнить его из конвейера.](control-flow-execute-data-flow-activity.md)

При тестировании конвейер с помощью потока данных, использование конвейера [параметр выполнения запуска отладки.](iterative-development-debugging.md)
