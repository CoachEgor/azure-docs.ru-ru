---
title: Режим отображения потока данных
description: Запуск интерактивного сеанса отладки при создании потоков данных
ms.author: makromer
author: kromerm
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.custom: seo-lt-2019
ms.date: 09/06/2019
ms.openlocfilehash: 18848695327a374f12fbe5a34d03366b050d8b65
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "74928365"
---
# <a name="mapping-data-flow-debug-mode"></a>Режим отображения потока данных

## <a name="overview"></a>Обзор

Режим отладки потока данных Azure Data Factory позволяет интерактивно наблюдать за преобразованием формы данных при сборке и отладке потоков данных. Сеанс отладки может использоваться как в сеансах проектирования data Flow, так и во время отладки выполнения потоков данных. Чтобы включить режим отладки, используйте кнопку "Data Flow Debug" в верхней части поверхности конструкции.

![Ползунок debug](media/data-flow/debugbutton.png "Ползунок debug")

Как только вы включите ползунок, вам будет предложено выбрать, какую интеграцию конфигурации времени выполнения вы хотите использовать. Если выберет AutoResolveIntegrationRuntime, будет создан кластер с восемью ядрами общего вычисления с 60-минутным временем для жизни. Для получения дополнительной информации о [Data flow performance](concepts-data-flow-performance.md#increasing-compute-size-in-azure-integration-runtime)времени выполнения интеграции потоков данных см.

![Выбор ИК-разбавить](media/data-flow/debugbutton2.png "Выбор ИК-разбавить")

При вздыхаем режиме Debug, вы будете интерактивно создавать поток данных с помощью активного кластера Spark. Сеанс будет закрыт после отключения отладки в Фабрике данных Azure. Следует помнить о почасовой оплате, которая взимается в Azure Databricks за время, когда сеанс отладки был включен.

В большинстве случаев создание потоков данных в режиме отладки является хорошей практикой, чтобы можно было проверить бизнес-логику и просмотреть преобразования данных перед публикацией работы в Azure Data Factory. Используйте кнопку "Debug" на панели конвейера для проверки потока данных в конвейере.

## <a name="cluster-status"></a>Состояние кластера

Индикатор статуса кластера в верхней части поверхности конструкции становится зеленым, когда кластер готов к отладке. Если кластер уже готов, тогда зеленый индикатор появится практически мгновенно. Если кластер еще не работал при входе в режим отладки, то вам придется ждать 5-7 минут, пока кластер раскрутится. Индикатор будет вращаться до готовности.

Когда вы закончите отладку, выключите отключите отключание от ключа, чтобы кластер Azure Databricks был завершен, и вы больше не будете выставлять счета за отладку.

## <a name="debug-settings"></a>Параметры отладки

Настройки отожения можно редактировать, нажав на кнопку "Настройки отгулов" на панели инструментов canvas Data Flow. Вы можете выбрать лимит строки или источник файла для каждого из преобразований Исходного кода здесь. Ограничения строки в этом параметре только для текущего сеанса отладки. Вы также можете выбрать плагинную службу, которая будет использоваться для источника S'L DW. 

![Параметры отладки](media/data-flow/debug-settings.png "Параметры отладки")

Если у вас есть параметры в потоке данных или в одном из упомянутых наборов данных, можно указать, какие значения использовать во время отладки, выбрав вкладку **Параметры.**

![Параметры параметров настройки отожения](media/data-flow/debug-settings2.png "Параметры параметров настройки отожения")

## <a name="data-preview"></a>Предварительный просмотр данных

В режиме отладки вкладка "Предварительный просмотр данных" засветится на нижней панели. Без отладки режим, поток данных покажет вам только текущие метаданные в и из каждого из ваших преобразований во вкладке Inspect. Предварительный просмотр данных будет только запрос число строк, которые вы установили в качестве предела в настройках отладки. Нажмите **Обновление,** чтобы получить предварительный просмотр данных.

![Предварительный просмотр данных](media/data-flow/datapreview.png "Предварительный просмотр данных")

> [!NOTE]
> Источники файлов ограничивают только строки, которые вы видите, а не строки, читаемые. Для очень больших наборов данных рекомендуется взять небольшую часть этого файла и использовать его для тестирования. Можно выбрать временный файл в настройках debug для каждого источника, который является типом набора файлов.

Если при работе с Потоком данных включен режим отладки, данные не записываются в преобразование приемника. Сеанс Debug предназначен для того, чтобы служить в качестве тестового ремня для преобразований. Приемники не нужны во время отладки и игнорируются в потоке данных. Если вы хотите протестировать написание данных в sink, выполните поток данных из конвейера фабрики данных Azure и используйте выполнение debug из конвейера.

### <a name="testing-join-conditions"></a>Условия тестирования соединения

При преобразовании соединений, существует или поиска, убедитесь, что вы используете небольшой набор известных данных для теста. Вы можете использовать опцию Настройки ошибки выше, чтобы установить временный файл для использования для тестирования. Это необходимо, потому что при ограничении или выборке строк из большого набора данных невозможно предсказать, какие строки и какие клавиши будут считываться в поток едлят тестирование. Результат не детерминирован, что означает, что условия соединения могут выйти из строя.

### <a name="quick-actions"></a>Быстрые действия

После просмотра предварительного просмотра данных можно создать быструю трансформацию для набранной, удаляемых или внесения изменений в столбец. Нажмите на заголовок столбца, а затем выберите один из вариантов из панели инструментов предварительного просмотра данных.

![Быстрые действия](media/data-flow/quick-actions1.png "Быстрые действия")

Как только вы выберете модификацию, предварительный просмотр данных немедленно обновится. Нажмите **Подтвердите** в правом верхнем углу, чтобы создать новую трансформацию.

![Быстрые действия](media/data-flow/quick-actions2.png "Быстрые действия")

**Typecast** и **Modify** создаст преобразование производных столбцов, а **Удаление** создаст преобразование Select.

![Быстрые действия](media/data-flow/quick-actions3.png "Быстрые действия")

> [!NOTE]
> При необходимости изменения потока данных необходимо повторно получить предварительный просмотр данных, прежде чем добавлять быструю трансформацию.

### <a name="data-profiling"></a>Профилирование данных

Выбор столбца во вкладке предварительного просмотра данных и нажатие **На кнопку «Статистика»** в панели инструментов предварительного просмотра данных будет всплывать диаграмма на крайнем правом правом месте сетки данных с подробной статистикой о каждом поле. Фабрика данных Azure будет принимать решения на основе выборки данных того типа диаграммы, который нужно отобразить. Поля высокой степени кардинализма будут по умолчанию по умолчанию для null/NOT NULL диаграммы в то время как категориальные и численные данные, которые имеют низкую кардинальность будет отображать диаграммы баров, показывающие частоту значения данных. Вы также увидите максимальную/леновскую длину строльных полей, мин/максимум значений в числовых полях, стандартных девикулах, процентилях, подсчетах и среднем.

![Статистика по столбцам](media/data-flow/stats.png "Статистика по столбцам")

## <a name="next-steps"></a>Дальнейшие действия

* После завершения строительства и отладки потока данных [выполните его из конвейера.](control-flow-execute-data-flow-activity.md)
* При тестировании конвейера с помощью потока данных используйте [опцию выполнения](iterative-development-debugging.md) выполнения ошибки конвейера.
