---
title: Устранение неполадок с потоками данных
description: Узнайте, как устранять неполадки с потоками данных в Фабрике данных Azure.
services: data-factory
ms.author: makromer
author: kromerm
manager: anandsub
ms.service: data-factory
ms.topic: troubleshooting
ms.date: 08/16/2020
ms.openlocfilehash: 0a691b562ebf030712eb0c13a688ea9a52fdb164
ms.sourcegitcommit: 64ad2c8effa70506591b88abaa8836d64621e166
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "88263475"
---
# <a name="troubleshoot-data-flows-in-azure-data-factory"></a>Устранение неполадок с потоками данных в Фабрике данных Azure

[!INCLUDE[appliesto-adf-xxx-md](includes/appliesto-adf-xxx-md.md)]

В этой статье рассматриваются распространенные методы устранения неполадок для потоков данных в Фабрике данных Azure.

## <a name="common-errors-and-messages"></a>Распространенные ошибки и сообщения

### <a name="error-code-df-executor-sourceinvalidpayload"></a>Код ошибки: DF-Executor-SourceInvalidPayload
- **Сообщение**. Не удалось выполнить предварительный просмотр данных, отладку и поток данных конвейера, так как контейнер не существует
- **Причины**. Набор данных содержит контейнер, который не существует в хранилище.
- **Рекомендация**. Убедитесь, что контейнер, указанный в наборе данных, существует или доступен.

### <a name="error-code-df-executor-systemimplicitcartesian"></a>Код ошибки: DF-Executor-SystemImplicitCartesian

- **Сообщение**. Неявное декартово произведение для внутреннего соединения не поддерживается, используйте перекрестное соединение. Столбцы, используемые при соединении, должны создавать уникальные ключи для строк.
- **Причины**. Неявное декартово произведение для внутреннего соединения между логическими планами не поддерживается. Если столбцы, используемые в соединении, создают уникальный ключ, требуется по крайней мере один столбец с обеих сторон связи.
- **Рекомендация**. Для соединений на основе неравенства необходимо выбрать пользовательское перекрестное соединение.

### <a name="error-code-df-executor-systeminvalidjson"></a>Код ошибки: DF-Executor-SystemInvalidJson

- **Сообщение**. Ошибка синтаксического анализа JSON, неподдерживаемая кодировка или многострочность
- **Причины**. Возможные проблемы с файлом JSON: неподдерживаемая кодировка, поврежденные байты или использование источника JSON как отдельного документа во многих вложенных строках.
- **Рекомендация**. Убедитесь, что кодировка JSON-файла поддерживается. В преобразовании источника, использующего набор данных JSON, разверните узел "Параметры JSON" и включите параметр "Один документ".
 
### <a name="error-code-df-executor-broadcasttimeout"></a>Код ошибки: DF-Executor-BroadcastTimeout

- **Сообщение**. Ошибка окончания времени ожидания трансляции. Убедитесь, что широковещательный поток создает данные в течение 60 секунд во время отладки и 300 секунд при выполнении заданий.
- **Причины**. Время ожидания трансляции по умолчанию составляет 60 секунд для отладки и 300 секунд для заданий. Вероятно, поток, выбранный для трансляции, слишком большой, чтобы уложиться в это ограничение.
- **Рекомендация**. Перейдите на вкладку "Оптимизация" в области преобразования потока данных для операций Join, Exists и Lookup. Параметр по умолчанию для трансляции — "Авто". Если этот параметр задан или вы вручную настраиваете левую или правую сторону для трансляции в режиме "Фиксировано", можно задать более крупную конфигурацию Azure Integration Runtime или отключить трансляцию. Для лучшей производительности потоков данных рекомендуется разрешить Spark трансляции в режиме "Авто" и использовать оптимизированную для памяти Azure IR.

### <a name="error-code-df-executor-conversion"></a>Код ошибки: DF-Executor-Conversion

- **Сообщение**. Сбой преобразования в дату или время из-за недопустимого символа
- **Причины**. Формат данных отличается от ожидаемого.
- **Рекомендация**. Используйте правильный тип данных

### <a name="error-code-df-executor-invalidcolumn"></a>Код ошибки: DF-Executor-InvalidColumn

- **Сообщение**. Необходимо указать имя столбца в запросе, задайте псевдоним при использовании функции SQL
- **Причины**. Имя столбца не было указано.
- **Рекомендация**. Задайте псевдоним при использовании функции SQL, например min()/max() и т. д.

### <a name="error-code-getcommand-outputasync-failed"></a>Код ошибки: Сбой команды OutputAsync

- **Сообщение**. Во время отладки потока данных и предварительного просмотра данных Сбой команды GetCommand OutputAsync с...
- **Причины**. Это ошибка серверной службы. Вы можете повторить операцию, а также перезапустить сеанс отладки.
- **Рекомендация**. Если повторная попытка и перезапуск не помогли устранить проблему, обратитесь в службу поддержки.

### <a name="error-code-hit-unexpected-exception-and-execution-failed"></a>Код ошибки: Возникло непредвиденное исключение, и произошел сбой выполнения.

- **Сообщение**. Во время выполнения действия потока данных: возникло непредвиденное исключение, и произошел сбой выполнения.
- **Причины**. Это ошибка серверной службы. Вы можете повторить операцию, а также перезапустить сеанс отладки.
- **Рекомендация**. Если повторная попытка и перезапуск не помогли устранить проблему, обратитесь в службу поддержки.

### <a name="error-code-debug-data-preview-no-output-data-on-join"></a>Код ошибки: Отладочные данные предварительный просмотр не выходные данные при соединении

- **Сообщение**: существует большое количество значений NULL или отсутствующих значений, которые могут быть вызваны тем, что вычислено слишком мало строк. Попробуйте обновить ограничение для строк отладки и обновить данные.
- **Причины**: условие объединения не соответствует ни одной строке или привело к большому ЧИСЛУ значений NULL при предварительном просмотре данных.
- **Рекомендация**: перейдите в раздел Параметры отладки и увеличьте число строк в пределах исходной строки. Убедитесь, что выбрано и Azure IR с большим количеством кластеров потоков данных для обработки дополнительных данных.


## <a name="general-troubleshooting-guidance"></a>Общие рекомендации по устранению неполадок

1. Проверьте состояние подключений к набору данных. В каждом преобразовании источника и приемника проверьте связанную службу для каждого набора данных, который вы используете, и протестируйте соединения.
1. Проверьте состояние подключения файла и таблицы в конструкторе потока данных. Чтобы убедиться, что у вас есть доступ к данным, переключитесь на отладку и щелкните "Предварительный просмотр данных" в преобразовании источника.
1. Если в предварительном просмотре все выглядит нормально, перейдите в конструктор конвейера и разместите поток данных в действии конвейера. Выполните отладку конвейера для комплексного тестирования.

## <a name="next-steps"></a>Дальнейшие действия

Для получения дополнительных сведений об устранении неполадок воспользуйтесь следующими ресурсами:
*  [Блог о Фабрике данных](https://techcommunity.microsoft.com/t5/azure-data-factory/bg-p/AzureDataFactoryBlog)
*  [Запросы на добавление функции в Фабрику данных](https://feedback.azure.com/forums/270578-data-factory)
*  [Видео по Azure](https://www.youtube.com/channel/UC2S0k7NeLcEm5_IhHUwpN0g/videos)
*  [Страница вопросов (раздел вопросов и ответов на сайте Майкрософт)](https://docs.microsoft.com/answers/topics/azure-data-factory.html)
*  [Форум Stack Overflow по Фабрике данных](https://stackoverflow.com/questions/tagged/azure-data-factory)
*  [Сведения о Фабрике данных в Twitter](https://twitter.com/hashtag/DataFactory)
*  [Руководство по производительности потоков данных для сопоставления в Фабрике данных Azure](concepts-data-flow-performance.md)
