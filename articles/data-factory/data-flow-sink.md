---
title: Преобразование приемника в потоке данных сопоставления
description: Узнайте, как настроить преобразование приемника в потоке данных сопоставления.
author: kromerm
ms.author: makromer
ms.reviewer: daperlov
manager: anandsub
ms.service: data-factory
ms.topic: conceptual
ms.custom: seo-lt-2019
ms.date: 12/12/2019
ms.openlocfilehash: 4b10a4c98abd6bec4074bf35764a9cbb85d5b157
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "81605971"
---
# <a name="sink-transformation-in-mapping-data-flow"></a>Преобразование приемника в потоке данных сопоставления

[!INCLUDE[appliesto-adf-asa-md](includes/appliesto-adf-asa-md.md)]

После преобразования данных можно принять их в целевой набор данных. Для каждого потока данных требуется по крайней мере одно преобразование приемника, но при необходимости можно выполнить запись в любое количество приемников для завершения потока преобразования. Для записи в дополнительные приемники создайте новые потоки с помощью новых ветвей и условных разбиений.

Каждое преобразование приемника связано только с одним набором данных фабрики данных. Набор данных определяет форму и расположение данных, в которые необходимо выполнить запись.

## <a name="supported-sink-connectors-in-mapping-data-flow"></a>Поддерживаемые соединители приемников в потоке данных сопоставления

В настоящее время в преобразовании приемника можно использовать следующие наборы данных:
    
* [Хранилище BLOB-объектов Azure](connector-azure-blob-storage.md#mapping-data-flow-properties) (JSON, Avro, Text, Parquet)
* [Azure Data Lake Storage 1-го поколения](connector-azure-data-lake-store.md#mapping-data-flow-properties) (JSON, Avro, Text, Parquet)
* [Azure Data Lake Storage 2-го поколения](connector-azure-data-lake-storage.md#mapping-data-flow-properties) (JSON, Avro, Text, Parquet)
* [Azure Synapse Analytics](connector-azure-sql-data-warehouse.md#mapping-data-flow-properties)
* [База данных SQL Azure](connector-azure-sql-database.md#mapping-data-flow-properties)
* [Azure CosmosDB](connector-azure-cosmos-db.md#mapping-data-flow-properties)

Параметры, относящиеся к этим соединителям, находятся на вкладке " **Параметры** ". сведения об этих параметрах находятся в документации по соединителю. 

Фабрика данных Azure имеет доступ к более чем [90 собственным соединителям](connector-overview.md). Чтобы записать данные в другие источники из потока данных, используйте действие копирования, чтобы загрузить эти данные из одной из поддерживаемых промежуточных областей после завершения потока данных.

## <a name="sink-settings"></a>Параметры приемника

После добавления приемника настройте его с помощью вкладки **приемник** . Здесь можно выбрать или создать набор данных, в который будет записываться приемник. Ниже приведен видеоролик, объясняющий ряд различных параметров приемника для типов файлов с разделителями текста:

> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RE4tf7T]

![Параметры приемника](media/data-flow/sink-settings.png "Параметры приемника")

Отклонение **схемы.** [смещение схемы](concepts-data-flow-schema-drift.md) — это способность фабрики данных в собственном коде управлять гибкими схемами в потоках данных без необходимости явно определять изменения столбцов. Включите параметр **Разрешить смещение схемы** , чтобы записать дополнительные столбцы поверх того, что определено в схеме данных приемника.

**Проверить схему:** Если выбран параметр проверить схему, поток данных завершится ошибкой, если какой-либо столбец входящей исходной схемы не найден в исходной проекции или если типы данных не совпадают. Используйте этот параметр, чтобы обеспечить соответствие исходных данных контракту определенной проекции. В сценариях источника базы данных очень удобно, чтобы сообщить, что имена или типы столбцов изменились.

## <a name="field-mapping"></a>Сопоставление полей

Аналогично преобразованию «выбор» на вкладке « **сопоставление** » приемника можно выбрать, какие входящие столбцы будут записаны. По умолчанию сопоставляются все входные столбцы, включая смещенные столбцы. Это называется **автосопоставлением**.

При отключении автоматического сопоставления можно добавить либо фиксированные сопоставления на основе столбцов, либо сопоставления на основе правил. Сопоставления на основе правил позволяют писать выражения с сопоставлением шаблонов, в то время как фиксированное сопоставление будет сопоставлять логические и физические имена столбцов. Дополнительные сведения о сопоставлении на основе правил см. [в разделе Шаблоны столбцов в потоке данных сопоставления](concepts-data-flow-column-pattern.md#rule-based-mapping-in-select-and-sink).

## <a name="custom-sink-ordering"></a>Заказ настраиваемых приемников

По умолчанию данные записываются в несколько приемников в недетерминированном порядке. Подсистема выполнения будет записывать данные параллельно по мере завершения логики преобразования, и порядок приемников может меняться при каждом запуске. Чтобы задать и точное упорядочение приемников, включите **заказ настраиваемых приемников** на вкладке Общие потока данных. Если этот флажок включен, приемники будут записываться последовательно в порядке возрастания.

![Заказ настраиваемых приемников](media/data-flow/custom-sink-ordering.png "Заказ настраиваемых приемников")

## <a name="data-preview-in-sink"></a>Предварительный просмотр данных в приемнике

При выборке предварительной версии данных в отладочном кластере данные в приемник не записываются. Будет возвращен моментальный снимок данных, которые выглядят, но в назначение ничего не будет записано. Чтобы проверить запись данных в приемник, запустите отладку конвейера из холста конвейера.

## <a name="next-steps"></a>Дальнейшие шаги
Теперь, когда вы создали поток данных, добавьте [в конвейер действие потока данных](concepts-data-flow-overview.md).
