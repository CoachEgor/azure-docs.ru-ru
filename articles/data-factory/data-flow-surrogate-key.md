---
title: Преобразование суррогатного ключа сопоставления потока данных Фабрики данных Azure
description: Использование фабрики данных Azure сопоставление потока суррогатный ключ преобразования данных для формирования последовательных значений ключей
author: kromerm
ms.author: makromer
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.date: 02/12/2019
ms.openlocfilehash: eaa1c577f7e208400d3430222b006e0dbbd7956a
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "61350620"
---
# <a name="mapping-data-flow-surrogate-key-transformation"></a>Сопоставление преобразование ключа суррогат потока данных

[!INCLUDE [notes](../../includes/data-factory-data-flow-preview.md)]

Используйте преобразование суррогатного ключа, чтобы добавить увеличивающееся значение некоммерческого произвольного ключа в ваш набор строк потока данных. Это полезно при разработке таблиц измерений в аналитической модели данных в виде схемы типа "звезда", где каждому члену в ваших таблицах измерений необходимо иметь уникальный ключ, который является некоммерческим ключом, частью методологии Kimball DW.

![Преобразование суррогатного ключа](media/data-flow/surrogate.png "Преобразование суррогатного ключа")

"Ключевой столбец" — это имя, которое вы дадите новому столбцу суррогатного ключа.

"Начальное значение" является начальной точкой добавочного значения.

## <a name="increment-keys-from-existing-sources"></a>Приращение ключи из существующих источников

Если вы хотите начать свою последовательность из значения, которое находится в источнике, можно использовать преобразование «Производный столбец» сразу после преобразования в суррогатный ключ и сложения двух значений:

![SK добавить Max](media/data-flow/sk006.png "Max добавить преобразования суррогатный ключ")

В качестве начального значения ключа на предыдущем max, есть два способа, которые можно использовать:

### <a name="database-sources"></a>Источников баз данных

Используйте параметр «Запрос» для выбора MAX() из источника с помощью преобразования "источник":

![Суррогатные ключа запроса](media/data-flow/sk002.png "суррогатные запрос ключа преобразования")

### <a name="file-sources"></a>Файловые источники

Если ваш предыдущий максимальное значение в файле, можно использовать свое преобразование источника вместе с преобразование статистические и позволяет получить предыдущее значение max функции MAX() выражения:

![Суррогатные файл ключа](media/data-flow/sk008.png "суррогатные файл ключа")

В обоих случаях необходимо присоединить входящие данные вместе с источника, который содержится максимальное значение:

![Суррогатные соединения по ключу](media/data-flow/sk004.png "суррогатные соединения по ключу")

## <a name="next-steps"></a>Дальнейшие действия

В этих примерах используется [Join](data-flow-join.md) и [производный столбец](data-flow-derived-column.md) преобразования.
