---
title: Визуальный мониторинг фабрик данных Azure | Документация Майкрософт
description: Сведения о визуальном мониторинге фабрик данных Azure
services: data-factory
documentationcenter: ''
author: sharonlo101
manager: craigg
ms.reviewer: douglasl
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.topic: conceptual
ms.date: 01/19/2018
ms.author: shlo
ms.openlocfilehash: df684860cd3d1b6a002a300682ca4c6398461ba6
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60717074"
---
# <a name="visually-monitor-azure-data-factories"></a>Визуальный мониторинг фабрик данных Azure
Фабрика данных Azure — это облачная служба интеграции данных, которая позволяет создавать управляемые данными рабочие процессы в облаке для оркестрации и автоматизации перемещения и преобразования данных. С помощью фабрики данных Azure можно создавать и включать в расписание управляемые данными рабочие процессы (конвейеры), которые могут принимать данные из разнородных хранилищ данных, обрабатывать и преобразовывать эти данные с помощью служб вычислений (например, Azure HDInsight Hadoop, Spark, Azure Data Lake Analytics и машинного обучения Azure), а также публиковать выходные данные в хранилища данных (например, хранилище данных SQL Azure) для использования приложениями бизнес-аналитики.

В этом кратком руководстве вы узнаете, как визуально отслеживать конвейеры Фабрики данных без записывания единой строки кода.

Если у вас еще нет подписки Azure, создайте [бесплатную](https://azure.microsoft.com/free/) учетную запись Azure, прежде чем начинать работу.

## <a name="monitor-data-factory-pipelines"></a>Мониторинг конвейеров в фабрике данных

Выполнения конвейера и действий можно отслеживать в простом интерфейсе с представлением списка. Все выполнения отображаются по времени часового пояса в локальном браузере. Если вы измените локальные настройки часового пояса, все поля даты и времени автоматически переключатся на новый часовой пояс.  

1. Запустите веб-браузер **Microsoft Edge** или **Google Chrome**. Сейчас только эти браузеры поддерживают пользовательский интерфейс фабрики данных.
2. Войдите на [портал Azure](https://portal.azure.com/).
3. Перейдите к созданной колонке фабрики данных и щелкните плитку "Мониторинг и управление", чтобы запустить интерфейс визуального мониторинга фабрики данных.

## <a name="monitor-pipeline-runs"></a>Мониторинг выполнений конвейера
В представлении списка отображается каждый запуск конвейера вашей фабрики данных версии 2. В представление включаются следующие столбцы.

| **Имя столбца** | **Описание** |
| --- | --- |
| Имя конвейера | Имя конвейера. |
| Действия | Здесь доступно одно действие для просмотра выполнений действий. |
| Run Start | Дата и время начала выполнения конвейера (ММ/ДД/ГГГГ ЧЧ:ММ:СС AM/PM) |
| Длительность | Длительность выполнения (ЧЧ:ММ:СС) |
| Triggered By | Срабатывание по ручному (Manual) или запланированному (Schedule) триггеру. |
| Статус | Сбой (Failed), Успешно (Succeeded), Выполняется (In Progress) |
| Параметры | Параметры запуска конвейера (пары "имя — значение") |
| Ошибка | Ошибки выполнения конвейера (если есть) |
| ИД запуска | Идентификатор выполнения конвейера. |

![Мониторинг выполнений конвейера](media/monitor-visually/pipeline-runs.png)

## <a name="monitor-activity-runs"></a>Мониторинг выполнений действий
В представлении списка отображаются выполнения действий, соответствующие каждому запуску конвейера. Щелкните значок **Выполнения действий** под столбцом **Действия**, чтобы увидеть все выполнения действий для каждого выполнения конвейера. В представление включаются следующие столбцы.

| **Имя столбца** | **Описание** |
| --- | --- |
| Имя активности | Имя действия в конвейере. |
| Тип действия | Тип действия, например копирование (Copy), HDInsightSpark, HDInsightHive и т. д. |
| Run Start | Дата и время начала выполнения действия (ММ/ДД/ГГГГ ЧЧ:ММ:СС AM/PM) |
| Длительность | Длительность выполнения (ЧЧ:ММ:СС) |
| Статус | Сбой (Failed), Успешно (Succeeded), Выполняется (In Progress) |
| Вход | Массив JSON, описывающий входные данные действия |
| Выход | Массив JSON, описывающий выходные данные действия |
| Ошибка | Ошибки выполнения действия (если есть) |

![Мониторинг выполнений действий](media/monitor-visually/activity-runs.png)

> [!IMPORTANT]
> Щелкните значок **Обновить** вверху, чтобы обновить список выполнений конвейеров и (или) действий. В настоящее время автообновление не поддерживается.

![Обновить](media/monitor-visually/refresh.png)

## <a name="select-a-data-factory-to-monitor"></a>Выбор фабрики данных для мониторинга
Наведите указатель мыши на значок **Фабрика данных** в верхнем левом углу. Щелкните значок "Стрелка", чтобы просмотреть список подписок Azure и фабрик данных, которые доступны для мониторинга.

![Выбор фабрики данных](media/monitor-visually/select-datafactory.png)

## <a name="configure-the-list-view"></a>Настройка представления списка

### <a name="apply-rich-ordering-and-filtering"></a>Применение расширенных возможностей упорядочивания и фильтрации

Список выполнений конвейеров можно упорядочить по времени запуска (по возрастанию или по убыванию), а также отфильтровать по значениям следующих столбцов.

| **Имя столбца** | **Описание** |
| --- | --- |
| Имя конвейера | Имя конвейера. Предусмотрены быстрые фильтры, например "за последние 24 часа", "за последнюю неделю", "за последние 30 дней", также здесь можно выбрать произвольные дату и время. |
| Run Start | Дата и время начала выполнения конвейера |
| Run Status | Выбор выполнений по определенному состоянию: сбой (Failed), успешно (Succeeded), выполняется (In Progress) |

![Фильтр](media/monitor-visually/filter.png)

### <a name="add-or-remove-columns"></a>Добавление и удаление столбцов
Щелкните правой кнопкой мыши заголовок представления списка и выберите столбцы, которые вы хотите отображать в этом представлении

![Столбцы](media/monitor-visually/columns.png)

### <a name="adjust-column-widths"></a>Настройка ширины столбцов
Чтобы увеличить или уменьшить ширину столбца в представлении списка, наведите указатель мыши на заголовок столбца

## <a name="promote-user-properties-to-monitor"></a>Распространение свойств пользователя для отслеживания

Можно повысить уровень любого свойства действий конвейера как свойства пользователя, чтобы сделать его сущностью, которую вы можете отслеживать. Например, можно повысить уровень свойств **Источник** и **Назначение** действия копирования в конвейере как свойств пользователя. Можно также выбрать **Автоматическое создание**, чтобы создать свойства пользователя **Источник** и **Назначения** для действия копирования.

![Создание свойств пользователя](media/monitor-visually/monitor-user-properties-image1.png)

> [!NOTE]
> В качестве свойств пользователя можно повысить уровень максимум для пяти свойств действий конвейера.

После создания свойств пользователя их можно отслеживать в представлениях списка мониторинга. Если источник действия копирования является именем таблицы, можно отслеживать имя исходной таблицы в качестве столбца в представлении списка выполнений действия.

![Список выполнений действия без свойств пользователя](media/monitor-visually/monitor-user-properties-image2.png)

![Добавление столбцов для свойств пользователя в список выполнений действия](media/monitor-visually/monitor-user-properties-image3.png)

![Список выполнений действия со столбцами для свойств пользователя](media/monitor-visually/monitor-user-properties-image4.png)

## <a name="rerun-activities-inside-a-pipeline"></a>Повторное выполнение действий в конвейере

Вы можете повторно выполнить действия в конвейере. Щелкните **View activity runs** (Просмотреть выполнение действий) и выберите действие в конвейере, с какой точки вы хотите его повторно выполнить.

![Просмотр выполнений действий](media/monitor-visually/rerun-activities-image1.png)

![Выбор выполнения действия](media/monitor-visually/rerun-activities-image2.png)

### <a name="view-rerun-history"></a>Просмотр журнала повторного выполнения

Вы можете просмотреть журнал повторного выполнения для всех выполнений конвейера в представлении списка.

![Просмотр истории](media/monitor-visually/rerun-history-image1.png)

Вы также можете просмотреть журнал повторного выполнения для запуска определенного конвейера.

![Просмотр журнала для выполнения конвейера](media/monitor-visually/rerun-history-image2.png)

## <a name="guided-tours"></a>Интерактивные руководства
Щелкните значок "Сведения" в нижнем левом углу и выберите действие "Интерактивные руководства", чтобы получить пошаговые инструкции по мониторингу выполнений конвейеров и действий.

![Интерактивные руководства](media/monitor-visually/guided-tours.png)

## <a name="feedback"></a>Отзыв
Щелкните значок "Отзыв", чтобы поделиться мнением об используемых функциях или сообщить о проблемах, с которыми вы столкнулись.

![Отзыв](media/monitor-visually/feedback.png)

## <a name="alerts"></a>Оповещения

Вы можете создавать оповещения на основе поддерживаемых метрик фабрики данных. Чтобы приступить к работе, на странице монитора Фабрики данных выберите **Монитор -> Оповещения и Метрики** .

![](media/monitor-visually/alerts01.png)

Уделите 7 минут своего времени, чтобы просмотреть следующее видео с кратким обзором и демонстрацией этой функции.

> [!VIDEO https://channel9.msdn.com/shows/azure-friday/Monitor-your-Azure-Data-Factory-pipelines-proactively-with-alerts/player]

### <a name="create-alerts"></a>Создать оповещения

1.  Нажмите кнопку **Новое правило генерации оповещений** , чтобы создать оповещение.

    ![](media/monitor-visually/alerts02.png)

1.  Укажите имя правила и выберите уровень **серьезности**.

    ![](media/monitor-visually/alerts03.png)

1.  Выберите условие оповещения.

    ![](media/monitor-visually/alerts04.png)

    ![](media/monitor-visually/alerts05.png)

1.  Настройте логику оповещений. Можно создать оповещение для выбранной метрики для всех конвейеров и соответствующих действий. Можно также выбрать определенный тип действия, имя действия, имя конвейера или тип сбоя.

    ![](media/monitor-visually/alerts06.png)

1.  Настройте уведомления по **электронной почте, SMS, push- и голосовые уведомления** для этого оповещения. Создайте или выберите существующую **группу действий** для уведомлений.

    ![](media/monitor-visually/alerts07.png)

    ![](media/monitor-visually/alerts08.png)

1.  Создайте правило генерации оповещений.

    ![](media/monitor-visually/alerts09.png)

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о мониторинге и управлении конвейерами см. в статье [Отслеживание фабрики данных Azure с помощью программных средств](https://docs.microsoft.com/azure/data-factory/monitor-programmatically).
