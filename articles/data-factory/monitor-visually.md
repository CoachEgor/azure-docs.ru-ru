---
title: Визуальный мониторинг фабрики данных Azure
description: Узнайте, как визуально отслеживать фабрики данных Azure
services: data-factory
documentationcenter: ''
author: djpmsft
ms.author: daperlov
ms.reviewer: maghan
ms.service: data-factory
ms.workload: data-services
ms.topic: conceptual
ms.date: 11/19/2018
ms.openlocfilehash: 40b1b8d040c4b3ea76372920f88551fba35c5f26
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "81419448"
---
# <a name="visually-monitor-azure-data-factory"></a>Визуальный мониторинг фабрики данных Azure

[!INCLUDE[appliesto-adf-xxx-md](includes/appliesto-adf-xxx-md.md)]

После создания и публикации конвейера в фабрике данных Azure его можно связать с триггером или вручную запустить прямое выполнение. Вы можете отслеживать все выполняемые конвейеры в пользовательском интерфейсе фабрики данных Azure. Чтобы открыть процесс мониторинга, выберите плитку **мониторинг & управление** в колонке фабрика данных [портал Azure](https://portal.azure.com/). Если вы уже находитесь в интерфейсе ADF, щелкните значок **монитор** на левой боковой панели.

Все запуски фабрики данных отображаются в местном часовом поясе браузера. При изменении часового пояса все поля даты и времени будут привязаны к выбранному.

## <a name="monitor-pipeline-runs"></a>Мониторинг выполнений конвейера

Представление мониторинга по умолчанию — список запусков конвейера за выбранный период времени. Отображаются следующие столбцы.

| **Имя столбца** | **Описание** |
| --- | --- |
| Pipeline Name | Имя конвейера. |
| Действия | Значки, позволяющие просматривать сведения о действиях, отменять или повторно запускать конвейер. |
| Run Start | Дата и время начала выполнения конвейера (мм/дд/гггг, чч: мм: сс AM/PM) |
| Duration | Длительность выполнения (ЧЧ:ММ:СС) |
| Triggered By | Имя триггера, запустившего конвейер |
| Состояние | **Сбой**, **успешно**, **выполняется,** **отменен**или **поставлен в очередь** |
| Заметки | Фильтруемые теги, связанные с конвейером  |
| Параметры | Параметры для выполнения конвейера (пары "имя-значение") |
| Ошибка | Если конвейер завершился ошибкой, то ошибка запуска |
| Run ID | Идентификатор выполнения конвейера. |

![Представление списка для выполнения конвейера мониторинга](media/monitor-visually/pipeline-runs.png)

Необходимо вручную нажать кнопку **Обновить** , чтобы обновить список запусков конвейера и действий. Автоматическое обновление в настоящее время не поддерживается.

![Кнопка "Обновить"](media/monitor-visually/refresh.png)

## <a name="monitor-activity-runs"></a>Мониторинг выполнений действий

Чтобы просмотреть запуски действий для каждого выполнения конвейера, выберите значок **Просмотреть выполняемые действия** в столбце **действия** . В представлении списка отображаются запуски действий, соответствующие каждому выполнению конвейера.

| **Имя столбца** | **Описание** |
| --- | --- |
| Activity Name | Имя действия в конвейере |
| Activity Type | Тип действия, например **Copy**, **ексекутедатафлов**или **азуремлексекутепипелине** |
| Действия | Значки, позволяющие просматривать входные данные JSON, выходные данные JSON или подробные сведения о наблюдении за конкретными действиями | 
| Run Start | Дата и время начала выполнения действия (мм/дд/гггг, чч: мм: сс AM/PM) |
| Duration | Длительность выполнения (ЧЧ:ММ:СС) |
| Состояние | **Сбой**, **успешно**, **выполняется**или **отменен** |
| Integration Runtime | В каком Integration Runtime было запущено действие |
| Свойства пользователя | Определяемые пользователем свойства действия |
| Ошибка | Если действие завершилось сбоем, ошибка запуска |
| Run ID | Идентификатор выполнения действия. |

![Представление списка для выполнения действий мониторинга](media/monitor-visually/activity-runs.png)

### <a name="promote-user-properties-to-monitor"></a>Распространение свойств пользователя для отслеживания

Повысить любое свойство действия конвейера как свойство пользователя, чтобы оно стало отслеживаемой сущностью. Например, можно повысить уровень свойств **источника** и **назначения** действия копирования в конвейере в качестве свойств пользователя. Выберите **Автоматическое создание** , чтобы создать **исходные** и **конечные** свойства пользователя для действия копирования.

![Создание свойств пользователя](media/monitor-visually/monitor-user-properties-image1.png)

> [!NOTE]
> В качестве свойств пользователя можно распространить до пяти свойств действий конвейера.

После создания свойств пользователя их можно отслеживать в представлениях списка наблюдения. Если источником действия копирования является имя таблицы, можно отслеживать имя исходной таблицы в виде столбца в представлении списка для выполнения действий.

![Список выполнений действия без свойств пользователя](media/monitor-visually/monitor-user-properties-image2.png)

![Добавление столбцов для свойств пользователя в список запусков действий](media/monitor-visually/monitor-user-properties-image3.png)

![Список выполнений действия со столбцами для свойств пользователя](media/monitor-visually/monitor-user-properties-image4.png)

## <a name="configure-the-list-view"></a>Настройка представления списка

### <a name="order-and-filter"></a>Порядок и фильтр

Указывает, будут ли запускаться конвейеры в порядке убывания или по возрастанию в соответствии с временем начала выполнения. Фильтры запуска конвейера с использованием следующих столбцов:

| **Имя столбца** | **Описание** |
| --- | --- |
| Pipeline Name | Фильтрация по имени конвейера. |
| Run Start |  Определите диапазон времени для отображаемых запусков конвейера. К параметрам относятся быстрые фильтры за **последние 24 часа**, за **последнюю неделю**и за **последние 30 дней** , а также выбор настраиваемой даты и времени. |
| Run Status | Выполнение фильтра по состоянию: **выполнено**, **сбой**, **поставлено в очередь**, **отменено**или **выполняется**. |
| Заметки | Фильтрация по тегам, примененным к каждому конвейеру |
| Запуски | Фильтр для просмотра конвейеров реран |

![Параметры фильтрации](media/monitor-visually/filter.png)

### <a name="add-or-remove-columns"></a>Добавление и удаление столбцов
Щелкните правой кнопкой мыши заголовок представления списка и выберите столбцы, которые должны отображаться в представлении списка.

![Параметры для столбцов](media/monitor-visually/columns.png)

### <a name="adjust-column-widths"></a>Настройка ширины столбцов
Увеличьте и уменьшите ширину столбцов в представлении списка, наведя указатель мыши на заголовок столбца.

## <a name="rerun-activities-inside-a-pipeline"></a>Повторное выполнение действий в конвейере

Вы можете повторно запустить действия в конвейере. Выберите **Просмотреть запуски действий**, а затем выберите действие в конвейере, с которого нужно повторно запустить конвейер.

![Просмотр выполнений действий](media/monitor-visually/rerun-activities-image1.png)

![Выбор выполнения действия](media/monitor-visually/rerun-activities-image2.png)

### <a name="rerun-from-failed-activity"></a>Повторное выполнение из невыполненной операции

Если действие завершается ошибкой, время ожидания или отменяется, можно повторно запустить конвейер из этого действия, которое не удалось выполнить, выбрав **действие повторное выполнение из действия сбой**.

![Повторное выполнение действия, завершившееся сбоем](media/monitor-visually/rerun-failed-activity.png)

### <a name="view-rerun-history"></a>Просмотр журнала повторного выполнения

Вы можете просмотреть журнал повторного выполнения для всех выполнений конвейера в представлении списка.

![Просмотр истории](media/monitor-visually/rerun-history-image1.png)

Вы также можете просмотреть журнал повторного выполнения для запуска определенного конвейера.

![Просмотр журнала для выполнения конвейера](media/monitor-visually/rerun-history-image2.png)

## <a name="gantt-views"></a>Представления диаграммы Ганта

Используйте представления Ганта, чтобы быстро визуализировать конвейеры и выполнения действий.

![Пример диаграммы Ганта](media/monitor-visually/gantt1.png)

Вы можете просмотреть представление диаграммы Ганта на конвейер или сгруппировать по заметкам или тегам, созданным в конвейерах.

![Заметки диаграммы Ганта](media/monitor-visually/gantt2.png)

Длина строки информирует время конвейера. Можно также выбрать строку для просмотра дополнительных сведений.

![Длительность диаграммы Ганта](media/monitor-visually/gantt3.png)

## <a name="guided-tours"></a>Интерактивные руководства
Выберите значок **сведений** в нижнем левом углу. Затем выберите **Интерактивные обзоры** , чтобы получить пошаговые инструкции по мониторингу конвейера и выполнению действий.

![Интерактивные руководства](media/monitor-visually/guided-tours.png)

## <a name="alerts"></a>Предупреждения

Вы можете создавать оповещения на основе поддерживаемых метрик фабрики данных. Чтобы приступить к работе, выберите **монитор** > **оповещения & метрики** на странице мониторинга фабрики данных.

![Страница монитора фабрики данных](media/monitor-visually/alerts01.png)

Уделите 7 минут своего времени, чтобы просмотреть следующее видео с кратким обзором и демонстрацией этой функции.

> [!VIDEO https://channel9.msdn.com/shows/azure-friday/Monitor-your-Azure-Data-Factory-pipelines-proactively-with-alerts/player]

### <a name="create-alerts"></a>Создание оповещений

1.  Выберите **новое правило генерации оповещений** , чтобы создать новое оповещение.

    ![Кнопка создания нового правила генерации оповещений](media/monitor-visually/alerts02.png)

1.  Укажите имя правила и выберите серьезность предупреждения.

    ![Поля для имени и серьезности правила](media/monitor-visually/alerts03.png)

1.  Выберите критерии оповещения.

    ![Поле для целевого критерия](media/monitor-visually/alerts04.png)

    ![Список критериев](media/monitor-visually/alerts05.png)

1.  Настройте логику оповещения. Можно создать оповещение для выбранной метрики для всех конвейеров и соответствующих действий. Можно также выбрать конкретный тип действия, имя действия, имя конвейера или тип сбоя.

    ![Параметры для настройки логики оповещений](media/monitor-visually/alerts06.png)

1.  Настройте сообщения электронной почты, SMS, Push-уведомления и Голосовое уведомление. Создайте группу действий или выберите существующую, чтобы получить уведомления об оповещениях.

    ![Параметры для настройки уведомлений](media/monitor-visually/alerts07.png)

    ![Параметры для добавления уведомления](media/monitor-visually/alerts08.png)

1.  Создайте правило генерации оповещений.

    ![Параметры для создания правила генерации оповещений](media/monitor-visually/alerts09.png)

## <a name="next-steps"></a>Дальнейшие шаги

Дополнительные сведения о мониторинге конвейеров и управлении ими см. в статье [мониторинг конвейеров и управление ими программными средствами](https://docs.microsoft.com/azure/data-factory/monitor-programmatically) .
