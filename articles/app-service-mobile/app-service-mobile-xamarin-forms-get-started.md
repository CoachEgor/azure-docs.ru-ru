---
title: Начало работы с Xamarin.Forms
description: Этот учебник поможет приступить к использованию функции "Мобильные приложения"в разработке для Xamarin.Forms
ms.assetid: 5e692220-cc89-4548-96c8-35259722acf5
ms.tgt_pltfrm: mobile-xamarin
ms.devlang: dotnet
ms.topic: conceptual
ms.date: 06/25/2019
ms.openlocfilehash: 9ae97ccbcc358a150e914a6e950579a972fef0bc
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77461340"
---
# <a name="create-a-xamarinforms-app-with-azure"></a>Создание приложения Xamarin.Forms в Azure

[!INCLUDE [app-service-mobile-selector-get-started](../../includes/app-service-mobile-selector-get-started.md)]

## <a name="overview"></a>Обзор
В этом учебнике рассказывается, как добавить облачную серверную службу в мобильное приложение Xamarin.Forms с помощью функции "Мобильные приложения" службы приложений Azure в качестве серверной части. Вы создадите новую серверную часть при помощи функции "Мобильные приложения" и простое приложение Xamarin.Forms для списка дел, в котором в Azure хранятся данные приложения.

Завершение изучения этого учебника является необходимым условием для работы со всеми другими учебниками, посвященными мобильным приложениям для приложений Xamarin.Forms.

## <a name="prerequisites"></a>Предварительные требования

Для работы с этим учебником требуется:

* Активная учетная запись Azure. Если у вас нет учетной записи, можно зарегистрироваться для получения бесплатной пробной версии Azure и получить до 10 бесплатных мобильных приложений, которые можно использовать и после окончания пробного периода. Дополнительные сведения см. на странице [Создайте бесплатную учетную запись Azure уже сегодня](https://azure.microsoft.com/pricing/free-trial/).

* Visual Studio Tools для Xamarin, в Visual Studio 2017 или позже, или Visual Studio для Mac. Инструкции можно найти на [странице установки Xamarin][Install Xamarin].

* (Необязательно) Чтобы создать приложение iOS, потребуется компьютер Mac с установкой Xcode 9.0 или более поздней версии. Visual Studio для Mac может быть использован для разработки приложений для iOS, или Visual Studio 2017 или позже может быть использован (до тех пор, как Mac доступен в сети).

## <a name="create-a-new-mobile-apps-back-end"></a>Создание серверной части при помощи функции "Мобильные приложения"
[!INCLUDE [app-service-mobile-dotnet-backend-create-new-service](../../includes/app-service-mobile-dotnet-backend-create-new-service.md)]

## <a name="create-a-database-connection-and-configure-the-client-and-server-project"></a>Создание соединения базы данных и настройка проекта клиента и сервера
[!INCLUDE [app-service-mobile-configure-new-backend.md](../../includes/app-service-mobile-configure-new-backend.md)]

## <a name="run-the-xamarinforms-solution"></a>Выполнить решение Xamarin.Forms

Инструменты Visual Studio для Xamarin необходимы, чтобы открыть решение, как описано в [инструкциях по установке Xamarin][Install Xamarin]. Если эти инструменты уже установлены, сделайте следующее, чтобы скачать и открыть решение:

### <a name="visual-studio-windows-and-mac"></a>Визуальная студия (Windows и Mac)

1. Перейдите на [портал Azure](https://portal.azure.com/) и перейдите к созданного вами мобильному приложению. На `Overview` лезвии ищите URL-адрес, который является общедоступной точкой зрения для вашего мобильного приложения. Пример - название сайта для моего приложения имя https://test123.azurewebsites.net"test123" будет .

2. Откройте `Constants.cs` файл в этой папке - xamarin.forms/UMOAPPNAME. Имя приложения — `ZUMOAPPNAME`.

3. В `Constants.cs` классе `ZUMOAPPURL` замените переменную общедоступной конечной точкой выше.

    `public static string ApplicationURL = @"ZUMOAPPURL";`

    becomes

    `public static string ApplicationURL = @"https://test123.azurewebsites.net";`
    
4. Приведенные ниже инструкции позволяют запустить проект Android или Windows, а если в сети есть доступный компьютер Mac, то и проект iOS.

## <a name="optional-run-the-android-project"></a>(Необязательно) Запуск проекта Android

В этом разделе вы запустите проект Xamarin.Android. Пропустите этот раздел, если вы не работаете с устройствами Android.

### <a name="visual-studio"></a>Visual Studio

1. Щелкните правой кнопкой мыши проект Android (Droid) и выберите пункт **Назначить запускаемым проектом**.

2. В меню **Сборка** выберите пункт **Диспетчер конфигураций**.

3. В диалоговом окне **Диспетчер конфигураций** установите флажки **Сборка** и **Развертывание** рядом с проектом Android и проверьте наличие флажка **Сборка** у проекта общего кода.

4. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе Android, нажмите клавишу **F5** или щелкните **Пуск**.

### <a name="visual-studio-for-mac"></a>Visual Studio для Mac

1. Щелкните правой кнопкой мыши проект Android и выберите пункт **Назначить запускаемым проектом**.

2. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе Android, щелкните пункт меню **Выполнить**, а затем **Начать отладку**.

В приложении введите содержательный текст, например *Изучение Xamarin*, и выберите знак плюса (**+**).

![Приложение Android для списка задач][11]

После этого в новую серверную часть, созданную при помощи функции "Мобильные приложения" и размещенную в Azure, будет отправлен запрос POST. Данные из запроса вставляются в таблицу TodoItem. Элементы, хранящиеся в таблице, возвращаются серверной частью, созданной при помощи функции "Мобильные приложения", а данные отображаются в списке.

> [!NOTE]
> Код, который обращается к серверной части мобильного приложения, расположен в файле C# **TodoItemManager.cs** в проекте общего кода для вашего решения.
>

## <a name="optional-run-the-ios-project"></a>(Необязательно) Запуск проекта iOS

В этом разделе описано, как запустить проект Xamarin.iOS для устройств под управлением iOS. Пропустите этот раздел, если вы не работаете с устройствами iOS.

### <a name="visual-studio"></a>Visual Studio

1. Нажмите правой кнопкой мыши на проект еio, а затем выберите **Set как StartUp Project.**

2. В меню **Сборка** выберите пункт **Диспетчер конфигураций**.

3. В диалоговом окне **Диспетчер конфигураций** установите флажки **Сборка** и **Развертывание** рядом с проектом iOS и проверьте наличие флажка **Сборка** у проекта общего кода.

4. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе iPhone, нажмите клавишу **F5**.

### <a name="visual-studio-for-mac"></a>Visual Studio для Mac

1. Щелкните проект iOS правой кнопкой мыши и выберите параметр **Назначить запускаемым проектом**.

2. В меню **Выполнить** выберите **Начать отладку**, чтобы выполнить сборку проекта и запустить приложение в эмуляторе iPhone.

В приложении введите содержательный текст, например *Изучение Xamarin*, и выберите знак плюса (**+**).

![Приложение iOS для списка задач][10]

После этого в новую серверную часть, созданную при помощи функции "Мобильные приложения" и размещенную в Azure, будет отправлен запрос POST. Данные из запроса вставляются в таблицу TodoItem. Элементы, хранящиеся в таблице, возвращаются серверной частью, созданной при помощи функции "Мобильные приложения", а данные отображаются в списке.

> [!NOTE]
> Код, который обращается к серверной части мобильного приложения, расположен в файле C# **TodoItemManager.cs** в проекте общего кода для вашего решения.
>

## <a name="optional-run-the-windows-project"></a>(Необязательно) Запуск проекта Windows

В этом разделе описано, как запустить проект Xamarin.Forms универсальной платформы Windows (UWP) для устройств Windows. Пропустите этот раздел, если вы не работаете с устройствами Windows.

### <a name="visual-studio"></a>Visual Studio

1. Щелкните проект UWP правой кнопкой мыши и выберите **Назначить запускаемым проектом**.

2. В меню **Сборка** выберите пункт **Диспетчер конфигураций**.

3. В диалоговом окне **Диспетчер конфигураций** установите флажки **Сборка** и **Развертывание** рядом с нужным проектом Windows и проверьте наличие флажка **Сборка** у проекта общего кода.

4. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе Windows, нажмите клавишу **F5** или щелкните **Пуск** (Здесь должно быть указано **Локальный компьютер**).

> [!NOTE]
> Проект Windows нельзя запускать на macOS.

В приложении введите содержательный текст, например *Изучение Xamarin*, и выберите знак плюса (**+**).

После этого в новую серверную часть, созданную при помощи функции "Мобильные приложения" и размещенную в Azure, будет отправлен запрос POST. Данные из запроса вставляются в таблицу TodoItem. Элементы, хранящиеся в таблице, возвращаются серверной частью, созданной при помощи функции "Мобильные приложения", а данные отображаются в списке.

![Приложение UWP для списка задач][12]

> [!NOTE]
> Код, который обращается к серверной части мобильного приложения, располагается в файле C# **TodoItemManager.cs** в проекте переносимой библиотеки классов для вашего решения.
>

## <a name="troubleshooting"></a>Устранение неполадок

При проблемах со сборкой проекта запустите диспетчер пакетов NuGet и выполните обновление до последней версии `Xamarin.Forms`, а для проекта Android — обновите еще и пакеты поддержки `Xamarin.Android`. Проекты быстрого запуска не всегда включают самые свежие версии.

Обратите внимание, что все пакеты поддержки, на которые содержатся ссылки в проекте Android, должны быть одной версии. [Пакет NuGet для мобильных приложений Azure](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Client/) имеет зависимость `Xamarin.Android.Support.CustomTabs` для платформы Android, поэтому если в проекте используются пакеты поддержки более новой версии, во избежание конфликтов необходимо установить требуемую версию пакета.

<!-- Images. -->
[10]: ./media/app-service-mobile-xamarin-forms-get-started/mobile-quickstart-startup-ios.png
[11]: ./media/app-service-mobile-xamarin-forms-get-started/mobile-quickstart-startup-android.png
[12]: ./media/app-service-mobile-xamarin-forms-get-started/mobile-quickstart-startup-windows.png

<!-- URLs. -->
[Install Xamarin]: https://docs.microsoft.com/xamarin/cross-platform/get-started/installation/
