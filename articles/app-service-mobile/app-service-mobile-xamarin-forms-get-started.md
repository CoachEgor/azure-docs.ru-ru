---
title: Начало работы с функцией "Мобильные приложения" с использованием Xamarin.Forms
description: Этот учебник поможет приступить к использованию функции "Мобильные приложения"в разработке для Xamarin.Forms
services: app-service\mobile
documentationcenter: xamarin
author: elamalani
manager: crdun
ms.assetid: 5e692220-cc89-4548-96c8-35259722acf5
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile-xamarin
ms.devlang: dotnet
ms.topic: conceptual
ms.date: 06/25/2019
ms.author: emalani
ms.openlocfilehash: e891bc34840e8c8bb61be1a9da607c43a93f2d17
ms.sourcegitcommit: bb65043d5e49b8af94bba0e96c36796987f5a2be
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2019
ms.locfileid: "72388464"
---
# <a name="create-a-xamarinforms-app-with-azure"></a>Создание приложения Xamarin.Forms в Azure

[!INCLUDE [app-service-mobile-selector-get-started](../../includes/app-service-mobile-selector-get-started.md)]

> [!NOTE]
> Центр приложений Visual Studio поддерживает комплексные и интегрированные службы для разработки мобильных приложений. Разработчики могут использовать службы **сборки**, **тестирования** и **распространения** для настройки конвейера непрерывной интеграции и доставки. После развертывания приложения разработчики могут отслеживать состояние и использование своих приложений с помощью служб **аналитики** и **диагностики** , а также привлекать пользователей с помощью службы **push-уведомлений** . Разработчики также **могут использовать проверку подлинности** для аутентификации пользователей и службы **данных** , чтобы сохранять и синхронизировать данные приложений в облаке.
>
> Если вы хотите интегрировать облачные службы в мобильное приложение, зарегистрируйтесь в [центре приложений](https://appcenter.ms/?utm_source=zumo&utm_medium=Azure&utm_campaign=zumo%20doc) уже сегодня.

## <a name="overview"></a>Краткое описание
В этом учебнике рассказывается, как добавить облачную серверную службу в мобильное приложение Xamarin.Forms с помощью функции "Мобильные приложения" службы приложений Azure в качестве серверной части. Вы создадите новую серверную часть при помощи функции "Мобильные приложения" и простое приложение Xamarin.Forms для списка дел, в котором в Azure хранятся данные приложения.

Завершение изучения этого учебника является необходимым условием для работы со всеми другими учебниками, посвященными мобильным приложениям для приложений Xamarin.Forms.

## <a name="prerequisites"></a>Технические условия

Для работы с этим учебником требуется:

* Активная учетная запись Azure. Если у вас нет учетной записи, можно зарегистрироваться для получения бесплатной пробной версии Azure и получить до 10 бесплатных мобильных приложений, которые можно использовать и после окончания пробного периода. Дополнительные сведения см. на странице [Создайте бесплатную учетную запись Azure уже сегодня](https://azure.microsoft.com/pricing/free-trial/).

* Инструменты Visual Studio для Xamarin, в Visual Studio 2017 или более поздней версии или Visual Studio для Mac. Инструкции см. на [странице установки Xamarin][Install Xamarin] .

* (Необязательно) Чтобы создать приложение iOS, потребуется компьютер Mac с установкой Xcode 9.0 или более поздней версии. Visual Studio для Mac можно использовать для разработки приложений iOS, можно использовать Visual Studio 2017 или более поздней версии (если компьютер Mac доступен в сети).

## <a name="create-a-new-mobile-apps-back-end"></a>Создание серверной части при помощи функции "Мобильные приложения"
[!INCLUDE [app-service-mobile-dotnet-backend-create-new-service](../../includes/app-service-mobile-dotnet-backend-create-new-service.md)]

## <a name="create-a-database-connection-and-configure-the-client-and-server-project"></a>Создание подключения к базе данных и настройка клиентского и серверного проекта
[!INCLUDE [app-service-mobile-configure-new-backend.md](../../includes/app-service-mobile-configure-new-backend.md)]

## <a name="run-the-xamarinforms-solution"></a>Запуск решения Xamarin. Forms

Инструменты Visual Studio для Xamarin требуется открыть решение, см. [инструкции по установке Xamarin][Install Xamarin]. Если эти инструменты уже установлены, сделайте следующее, чтобы скачать и открыть решение:

### <a name="visual-studio-windows-and-mac"></a>Visual Studio (Windows и Mac)

1. Перейдите к [портал Azure](https://portal.azure.com/) и перейдите к созданному вами мобильному приложению. В колонке `Overview` найдите URL-адрес, который является общедоступной конечной точкой для мобильного приложения. Пример. имя сайта для имени моего приложения "test123" будет https://test123.azurewebsites.net.

2. Откройте файл `Constants.cs` в этой папке — Xamarin. Forms/ЗУМОАППНАМЕ. Имя приложения — `ZUMOAPPNAME`.

3. В классе `Constants.cs` Замените переменную `ZUMOAPPURL` общедоступной конечной точкой выше.

    `public static string ApplicationURL = @"ZUMOAPPURL";`

    обретает

    `public static string ApplicationURL = @"https://test123.azurewebsites.net";`
    
4. Приведенные ниже инструкции позволяют запустить проект Android или Windows, а если в сети есть доступный компьютер Mac, то и проект iOS.

## <a name="optional-run-the-android-project"></a>(Необязательно) Запуск проекта Android

В этом разделе вы запустите проект Xamarin.Android. Пропустите этот раздел, если вы не работаете с устройствами Android.

### <a name="visual-studio"></a>Visual Studio

1. Щелкните правой кнопкой мыши проект Android (Droid) и выберите пункт **Назначить запускаемым проектом**.

2. В меню **Сборка** выберите пункт **Диспетчер конфигураций**.

3. В диалоговом окне **Диспетчер конфигураций** установите флажки **Сборка** и **Развертывание** рядом с проектом Android и проверьте наличие флажка **Сборка** у проекта общего кода.

4. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе Android, нажмите клавишу **F5** или щелкните **Пуск**.

### <a name="visual-studio-for-mac"></a>Visual Studio для Mac

1. Щелкните правой кнопкой мыши проект Android и выберите пункт **Назначить запускаемым проектом**.

2. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе Android, щелкните пункт меню **Выполнить**, а затем **Начать отладку**.

В приложении введите содержательный текст, например *Изучение Xamarin*, и выберите знак плюса ( **+** ).

![Приложение Android для списка задач][11]

После этого в новую серверную часть, созданную при помощи функции "Мобильные приложения" и размещенную в Azure, будет отправлен запрос POST. Данные из запроса вставляются в таблицу TodoItem. Элементы, хранящиеся в таблице, возвращаются серверной частью, созданной при помощи функции "Мобильные приложения", а данные отображаются в списке.

> [!NOTE]
> Код, который обращается к серверной части мобильного приложения, расположен в файле C# **TodoItemManager.cs** в проекте общего кода для вашего решения.
>

## <a name="optional-run-the-ios-project"></a>(Необязательно) Запуск проекта iOS

В этом разделе описано, как запустить проект Xamarin.iOS для устройств под управлением iOS. Пропустите этот раздел, если вы не работаете с устройствами iOS.

### <a name="visual-studio"></a>Visual Studio

1. Щелкните проект iOS правой кнопкой мыши и выберите параметр **Назначить запускаемым проектом**.

2. В меню **Сборка** выберите пункт **Диспетчер конфигураций**.

3. В диалоговом окне **Диспетчер конфигураций** установите флажки **Сборка** и **Развертывание** рядом с проектом iOS и проверьте наличие флажка **Сборка** у проекта общего кода.

4. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе iPhone, нажмите клавишу **F5**.

### <a name="visual-studio-for-mac"></a>Visual Studio для Mac

1. Щелкните проект iOS правой кнопкой мыши и выберите параметр **Назначить запускаемым проектом**.

2. В меню **Выполнить** выберите **Начать отладку**, чтобы выполнить сборку проекта и запустить приложение в эмуляторе iPhone.

В приложении введите содержательный текст, например *Изучение Xamarin*, и выберите знак плюса ( **+** ).

![Приложение iOS для списка задач][10]

После этого в новую серверную часть, созданную при помощи функции "Мобильные приложения" и размещенную в Azure, будет отправлен запрос POST. Данные из запроса вставляются в таблицу TodoItem. Элементы, хранящиеся в таблице, возвращаются серверной частью, созданной при помощи функции "Мобильные приложения", а данные отображаются в списке.

> [!NOTE]
> Код, который обращается к серверной части мобильного приложения, расположен в файле C# **TodoItemManager.cs** в проекте общего кода для вашего решения.
>

## <a name="optional-run-the-windows-project"></a>(Необязательно) Запуск проекта Windows

В этом разделе описано, как запустить проект Xamarin.Forms универсальной платформы Windows (UWP) для устройств Windows. Пропустите этот раздел, если вы не работаете с устройствами Windows.

### <a name="visual-studio"></a>Visual Studio

1. Щелкните проект UWP правой кнопкой мыши и выберите **Назначить запускаемым проектом**.

2. В меню **Сборка** выберите пункт **Диспетчер конфигураций**.

3. В диалоговом окне **Диспетчер конфигураций** установите флажки **Сборка** и **Развертывание** рядом с нужным проектом Windows и проверьте наличие флажка **Сборка** у проекта общего кода.

4. Чтобы выполнить сборку проекта и запустить приложение в эмуляторе Windows, нажмите клавишу **F5** или щелкните **Пуск** (Здесь должно быть указано **Локальный компьютер**).

> [!NOTE]
> Проект Windows нельзя запускать на macOS.

В приложении введите содержательный текст, например *Изучение Xamarin*, и выберите знак плюса ( **+** ).

После этого в новую серверную часть, созданную при помощи функции "Мобильные приложения" и размещенную в Azure, будет отправлен запрос POST. Данные из запроса вставляются в таблицу TodoItem. Элементы, хранящиеся в таблице, возвращаются серверной частью, созданной при помощи функции "Мобильные приложения", а данные отображаются в списке.

![Приложение UWP для списка задач][12]

> [!NOTE]
> Код, который обращается к серверной части мобильного приложения, располагается в файле C# **TodoItemManager.cs** в проекте переносимой библиотеки классов для вашего решения.
>

## <a name="troubleshooting"></a>Устранение неисправностей

При проблемах со сборкой проекта запустите диспетчер пакетов NuGet и выполните обновление до последней версии `Xamarin.Forms`, а для проекта Android — обновите еще и пакеты поддержки `Xamarin.Android`. Проекты быстрого запуска не всегда включают самые свежие версии.

Обратите внимание, что все пакеты поддержки, на которые содержатся ссылки в проекте Android, должны быть одной версии. [Пакет NuGet для мобильных приложений Azure](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Client/) имеет зависимость `Xamarin.Android.Support.CustomTabs` для платформы Android, поэтому если в проекте используются пакеты поддержки более новой версии, во избежание конфликтов необходимо установить требуемую версию пакета.

<!-- Images. -->
[10]: ./media/app-service-mobile-xamarin-forms-get-started/mobile-quickstart-startup-ios.png
[11]: ./media/app-service-mobile-xamarin-forms-get-started/mobile-quickstart-startup-android.png
[12]: ./media/app-service-mobile-xamarin-forms-get-started/mobile-quickstart-startup-windows.png

<!-- URLs. -->
[Install Xamarin]: https://docs.microsoft.com/xamarin/cross-platform/get-started/installation/
