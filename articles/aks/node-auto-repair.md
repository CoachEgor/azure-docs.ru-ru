---
title: Автоматическиремонт узлов Службы Лазурного Кубернетес (AKS)
description: Узнайте о функции автоматического ремонта узлов и о том, как AKS исправляет сломанные рабочие узлы.
services: container-service
ms.topic: conceptual
ms.date: 03/10/2020
ms.openlocfilehash: 9bf9df69a0a6bfa4d9f4029278d2a146811980c8
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "80284846"
---
# <a name="azure-kubernetes-service-aks-node-auto-repair"></a>Azure Kubernetes Service (AKS) узел авторемонта

AKS постоянно проверяет состояние работоспособности рабочих узлов и выполняет автоматический ремонт узлов, если они становятся нездоровыми. В этой документации описывается, как служба Azure Kubernetes (AKS) отслеживает рабочие узлы и восстанавливает неработоспособные рабочие узлы.  Документация должна информировать операторов AKS о поведении функциональности ремонта узлов. Важно также отметить, что платформа Azure [выполняет техническое обслуживание на виртуальных машинах,][vm-updates] которые испытывают проблемы. AKS и Azure работают вместе, чтобы свести к минимуму сбои в работе кластеров.

> [!Important]
> Функциональность автоматического ремонта узлов в настоящее время не поддерживается для пулов узлов Windows Server.

## <a name="how-aks-checks-for-unhealthy-nodes"></a>Как AKS проверяет нездоровые узлы

> [!Note]
> AKS принимает меры по ремонту узлов с **учетной записью пользователя aks-remediator.**

AKS использует правила для определения того, является ли узла неработоспособным состоянием и нуждается в ремонте. AKS использует следующие правила, чтобы определить, нужен ли автоматический ремонт.

* Узел сообщает о состоянии **NotReady** при последовательных проверках в течение 10-минутного периода времени
* Узла не сообщается о состоянии в течение 10 минут

Вы можете вручную проверить состояние работоспособности узлов с помощью kubectl. 

```
kubectl get nodes
```

## <a name="how-automatic-repair-works"></a>Как работает автоматический ремонт

> [!Note]
> AKS принимает меры по ремонту узлов с **учетной записью пользователя aks-remediator.**

Такое поведение для **виртуальных наборов шкалы машин.**  Авторемонт занимает несколько шагов для ремонта сломанного узла.  Если узла определяется как неработоспособный, AKS пытается несколько шагов по исправлению.  Шаги выполняются в таком порядке:

1. После того, как время выполнения контейнера не реагирует на 10 минут, неисправные службы времени выполнения перезапускаются на уде.
2. Если узел не готов в течение 10 минут, узел перезагружается.
3. Если узел не готов в течение 30 минут, узел повторно изобразяется.

> [!Note]
> Если несколько узлов нездоровы, они восстанавливаются один за раз

## <a name="next-steps"></a>Дальнейшие действия

Используйте [зоны доступности][availability-zones] для повышения доступности с помощью рабочих нагрузок кластера AKS.

<!-- LINKS - External -->

<!-- LINKS - Internal -->
[availability-zones]: ./availability-zones.md
[vm-updates]: ../virtual-machines/maintenance-and-updates.md
