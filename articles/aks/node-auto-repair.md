---
title: Автоматическое восстановление узлов Azure Kubernetes Service (AKS)
description: Сведения о функции автоматического восстановления узла и о том, как AKS устраняет неисправные рабочие узлы.
services: container-service
ms.topic: conceptual
ms.date: 06/02/2020
ms.openlocfilehash: 91384461567634faabaaa1dd588d6e7ec6ece60e
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "84735631"
---
# <a name="azure-kubernetes-service-aks-node-auto-repair"></a>Автоматическое восстановление узла службы Azure Kubernetes Service (AKS)

AKS постоянно проверяет состояние работоспособности рабочих узлов и выполняет автоматическое восстановление узлов, если они становятся неработоспособными. Этот документ информирует операторов о том, как осуществляется автоматическое восстановление узла. В дополнение к восстановлению AKS, платформа виртуальной машины Azure [выполняет обслуживание на виртуальных машинах][vm-updates] , которые также испытывают проблемы. AKS и виртуальные машины Azure совместно работают, чтобы минимизировать перерывы в обслуживании для кластеров.

> [!Important]
> Функция автоматического восстановления узла в настоящее время не поддерживается для пулов узлов Windows Server.

## <a name="how-aks-checks-for-unhealthy-nodes"></a>Как AKS проверяет наличие неработоспособных узлов

> [!Note]
> AKS выполняет действия по восстановлению узлов с учетной записью пользователя **AKS-ремедиатор**.

AKS использует правила, чтобы определить, является ли узел неработоспособным, и требуется ли его восстановление. AKS использует следующие правила, чтобы определить, требуется ли автоматическое восстановление.

* Узел сообщает о состоянии **NotReady** при последовательных проверках в течение 10 минут.
* Узел не сообщает о состоянии в течение 10 минут.

Состояние работоспособности узлов можно проверить вручную с помощью kubectl. 

```
kubectl get nodes
```

## <a name="how-automatic-repair-works"></a>Как работает автоматическое восстановление

> [!Note]
> AKS инициирует операции восстановления с учетной записью пользователя **AKS-ремедиатор**.

Автоматическое восстановление поддерживается по умолчанию для кластеров с набором **масштабируемых наборов виртуальных машин**. Если узел определен как неработоспособный в соответствии с приведенными выше правилами, AKS перезагружает узел после 10 последовательных неработоспособных минут. Если после первоначальной операции восстановления узлы остаются неработоспособными, дополнительные исправления изучаются инженерами AKS.
  
В случае неработоспособности нескольких узлов во время проверки работоспособности каждый узел восстанавливается отдельно перед началом восстановления.

## <a name="next-steps"></a>Дальнейшие действия

Примените [Зоны доступности][availability-zones], чтобы повысить уровень доступности для рабочих нагрузок кластера AKS.

<!-- LINKS - External -->

<!-- LINKS - Internal -->
[availability-zones]: ./availability-zones.md
[vm-updates]: ../virtual-machines/maintenance-and-updates.md
