---
title: Усиление безопасности на узлах виртуальных машин AKS
description: Сведения о усилении безопасности в ОС узла виртуальной машины AKS
services: container-service
author: saudas
ms.service: container-service
ms.topic: article
ms.date: 09/11/2019
ms.author: saudas
ms.custom: mvc
ms.openlocfilehash: 8b7e50fdc02ab47c50cecb95073f1b51393db898
ms.sourcegitcommit: cf36df8406d94c7b7b78a3aabc8c0b163226e1bc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2019
ms.locfileid: "73885642"
---
# <a name="security-hardening-in-aks-virtual-machine-hosts"></a>Усиление безопасности на узлах виртуальных машин AKS 

Служба Azure Kubernetes Service (AKS) — это безопасная служба, соответствующая стандартам SOC, ISO, PCI DSS и HIPAA. В этой статье рассматривается усиление безопасности, применяемое к узлам виртуальных машин AKS. Дополнительные сведения о безопасности AKS см. [в статье основные понятия безопасности для приложений и кластеров в службе Kubernetes Azure (AKS)](https://docs.microsoft.com/azure/aks/concepts-security).

Кластеры AKS развертываются на виртуальных машинах узла, на которых выполняется оптимизированная для системы безопасности ОС. В настоящее время эта ОС узла основана на образе Ubuntu 16.04. LTS с набором дополнительных примененных действий по укреплению безопасности (см. подробные сведения о усилении безопасности).   

Целью операционной системы, зафиксированной в системе безопасности, является сокращение контактной зоны атаки и обеспечение безопасного развертывания контейнеров. 

> [!Important]
> ОС с усиленной защитой не является CI. Хотя существуют перекрытия с помощью тестов производительности CI, цель не должна быть совместимой с CIS. Целью усиления защиты ОС узла является конвергенция уровня безопасности, согласованного с собственными внутренними стандартами безопасности узла корпорации Майкрософт. 

## <a name="security-hardening-features"></a>Функции усиления безопасности 

* По умолчанию AKS предоставляет операционную систему узла, оптимизированную для безопасности. Нет текущего варианта выбора альтернативной операционной системы. 

* Azure применяет ежедневные исправления (включая исправления безопасности) к узлам виртуальных машин AKS. Некоторые из этих исправлений потребует перезагрузки, а другие не будут. Вы несете ответственность за планирование перезагрузки узла виртуальной машины AKS по мере необходимости. Инструкции по автоматизации установки исправлений AKS см. в разделе [Установка исправлений на УЗЛАХ AKS](https://docs.microsoft.com/azure/aks/node-updates-kured).

Ниже приведена сводка работы по повышению защищенности изображений, реализованной в AKS Engine для создания операционной системы узла, оптимизированной для безопасности. Работа была реализована [в этом проекте GitHub](https://github.com/Azure/aks-engine/projects/7).  

AKS-Engine в настоящее время не применяет или не придерживается какой-либо какой-либо конкретный стандарт безопасности, но для удобства там, где это применимо, предоставляются идентификаторы аудита CIS (центр для Интернет-безопасности). 

## <a name="whats-configured"></a>Что настроено?

| СОСТОЯНИИ  | Описание аудита| 
|---|---|
| 1.1.1.1 |Убедитесь, что подключение файловой системы крамфс отключено.|
| 1.1.1.2 |Убедитесь, что подключение файловой системы фривксфс отключено.|
| 1.1.1.3 |Убедитесь, что подключение файловой системы JFFS2 отключено.|
| 1.1.1.4 |Убедитесь, что подключение файловой системы HFS отключено.|
| 1.1.1.5 |Отключите подключение файловой системы HFS Plus|
|1.4.3 |Проверка подлинности, необходимая для однопользовательского режима |
|1.7.1.2 |Убедитесь, что баннер предупреждения локального входа настроен правильно |
|1.7.1.3 |Убедитесь, что баннер предупреждения удаленного входа настроен правильно |
|1.7.1.5 |Убедитесь, что настроены разрешения для/ЕТК/Иссуе |
|1.7.1.6 |Убедитесь, что настроены разрешения для/ЕТК/Иссуе.нет |
|2.1.5 |Убедитесь, что для параметра--Stream-Connection-Idle-Timeout не задано значение 0. |
|3.1.2 |Убедитесь, что отправка перенаправления пакетов отключена |
|3.2.1 |Убедитесь, что исходные перенаправляемые пакеты не приняты |
|3.2.2 |Проверка того, что перенаправления ICMP не принимаются |
|3.2.3 |Убедитесь, что перенаправления безопасных ICMP не приняты |
|3.2.4 |Обеспечение журнала подозрительных пакетов |
|3.3.1 |Убедитесь, что объявления маршрутизатора IPv6 не приняты |
|3.5.1 |Убедитесь, что ДККП отключен |
|3.5.2 |Убедитесь, что SCTP отключен |
|3.5.3 |Убедитесь, что служба удаленных рабочих столов отключена |
|3.5.4 |Убедитесь, что ТИПК отключен |
|4.2.1.2 |Убедитесь, что ведение журнала настроено |
|5.1.2 |Убедитесь, что настроены разрешения для/etc/crontab. |
|5.2.4 |Убедитесь, что пересылка SSH X11 отключена |
|5.2.5 |Убедитесь, что для SSH Максаустриес задано значение 4 или меньше |
|5.2.8 |Убедитесь, что корневое имя входа SSH отключено. |
|5.2.10 |Убедитесь, что SSH Пермитусеренвиронмент отключен |
|5.2.11 |Убедитесь, что используются только утвержденные МАКСИМАЛЬные алгоритмы. |
|5.2.12 |Убедитесь, что настроен интервал ожидания простоя SSH |
|5.2.13 |Убедитесь, что для SSH Логинграцетиме задана одна минута или меньше |
|5.2.15 |Убедитесь, что баннер предупреждения SSH настроен |
|5.3.1 |Убедитесь, что настроены требования для создания пароля. |
|5.4.1.1 |Срок действия пароля истекает не более 90 дней. |
|5.4.1.4 |Обеспечение неактивной блокировки пароля — 30 дней или меньше |
|5.4.4 |Убедитесь, что пользователь по умолчанию umask является 027 или более узким |
|5.6 |Убедитесь, что доступ к команде SU ограничен.|

## <a name="additional-notes"></a>Дополнительные замечания
 
* Чтобы еще больше сократить контактную зону для атак, в ОС были отключены некоторые ненужные драйверы модулей ядра. 

* Операционная система с усиленной защитой не поддерживается за пределами платформы AKS. 

## <a name="next-steps"></a>Дополнительная информация  

Дополнительные сведения о безопасности AKS см. в следующих статьях: 

[Служба Azure Kubernetes (AKS)](https://docs.microsoft.com/azure/aks/intro-kubernetes)

[Вопросы безопасности AKS](https://docs.microsoft.com/azure/aks/concepts-security)

[Рекомендации по AKS](https://docs.microsoft.com/azure/aks/best-practices)
