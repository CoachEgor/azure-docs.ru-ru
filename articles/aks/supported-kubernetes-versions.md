---
title: Поддерживаемые версии Kubernetes в Службе Azure Kubernetes
description: Сведения о политике поддержки версии Kubernetes и жизненном цикле кластеров в Службе Azure Kubernetes (AKS).
services: container-service
author: sauryadas
ms.service: container-service
ms.topic: article
ms.date: 05/20/2019
ms.author: saudas
ms.openlocfilehash: b7910ee6f58c582b824cec834d92a24c0e184bfb
ms.sourcegitcommit: b7a44709a0f82974578126f25abee27399f0887f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/18/2019
ms.locfileid: "67205277"
---
# <a name="supported-kubernetes-versions-in-azure-kubernetes-service-aks"></a>Поддерживаемые версии Kubernetes в Службе Azure Kubernetes (AKS)

Сообщество Kubernetes выпускает дополнительные версии примерно каждые три месяца. Эти выпуски содержат новые функции и улучшения. Исправления выпускаются чаще (иногда еженедельно) и предназначены только для устранения критических ошибок в дополнительной версии. Эти выпуски исправлений включают устранение уязвимостей безопасности или серьезных ошибок, влияющих на многих клиентов и большое количество продуктов, выполняющихся в рабочей среде на основе Kubernetes.

AKS, которая сертифицировать и выпуска новых версий Kubernetes в течение 30 дней вышестоящего выпуска, распространяются стабильность выпуска.

## <a name="kubernetes-versions"></a>Версии Kubernetes

Kubernetes использует стандартную [семантического управления версиями](https://semver.org/) схемы управления версиями. Это означает, что каждая версия Kubernetes соответствует такой схеме нумерации:

```
[major].[minor].[patch]

Example:
  1.12.14
  1.12.15
  1.13.7
```

Каждое число в версии указывает общая совместимость с предыдущими версиями:

* Изменение основных версий при несовместимые изменения API или обратной совместимости могут оказаться поврежденными.
* Дополнительный номер версии изменены при внесении изменений функциональные возможности, поддерживающие обратную совместимость, чтобы другие вспомогательные версии.
* Вносятся изменения версии исправления после исправления ошибок обратную совместимость.

Как правило, старайтесь пользователей для запуска последним выпуском исправлений для дополнительный номер версии, они выполняются, например, если рабочий кластер находится в *1.13.6* и *1.13.7* является последние исправления версия, доступная для *1.13* рядов, то следует установить *1.13.7* вы у вас есть возможность убедиться в том кластера полностью и внесения необходимых исправлений.

## <a name="kubernetes-version-support-policy"></a>Политика поддержки версии Kubernetes

AKS поддерживает четыре дополнительные версии Kubernetes:

* Текущий дополнительный номер версии, предоставляемая в AKS (N)
* Три предыдущие дополнительные версии. Каждая поддерживаемая дополнительная версия также поддерживает два стабильных исправления.

Это называется «N-3»-(N (последний выпуск) - 3 (дополнительный номер версии)).

Например, если представлены AKS *1.13.x* в настоящее время поддержка предоставляется для следующих версий:

Новый дополнительный номер версии    |    Список поддерживаемых версий
-----------------    |    ----------------------
1.13.x               |    1.12.a, 1.12.b, 1.11.a, 1.11.b, 1.10.a, 1.10.b

Где «x» и «.a» и «.b» версий репрезентативной исправлений.

Дополнительные сведения о связи относительно изменения версии и ожиданий см. в разделе «Подключения» ниже.

Когда вводится новый дополнительный номер версии, самая старая дополнительный номер версии продукта и исправления выпуски поддерживаются признаны устаревшими и удалены. Например, если текущий список версии поддерживаемых будет:

<a name="supported-version-list"></a>Список поддерживаемых версий
----------------------
1.12.a, 1.12.b, 1.11.a, 1.11.b, 1.10.a, 1.10.b, 1.9.a, 1.9.b

И AKS освобождает 1.13.x, это означает, что версии 1.9.x (все версии 1.9) будет удален и не поддерживается.

> [!NOTE]
> Обратите внимание, что если клиенты работают под управлением неподдерживаемой версии Kubernetes, им будет предложено обновить при обращении в службу поддержки для кластера. Кластеры под управлением неподдерживаемых версий Kubernetes не охваченных [AKS поддерживают политики](https://docs.microsoft.com/azure/aks/support-policies).


В дополнение к вышесказанному на вспомогательные версии AKS поддерживает две, последняя *patch** версиях данного дополнительного номера версии. Например если следующих поддерживаемых версий:

<a name="supported-version-list"></a>Список поддерживаемых версий
----------------------
1.12.1, 1.12.2, 1.11.4, 1.11.5

Вышестоящая платформа Kubernetes запущен 1.12.3 и 1.11.6, и освобождает AKS те обновить версии, самая старая версия исправления признаны устаревшими и удалены, а список поддерживаемых версий становится:

<a name="supported-version-list"></a>Список поддерживаемых версий
----------------------
1.12.*2*, 1.12.*3*, 1.11.*5*, 1.11.*6*

> [!NOTE]
> Клиентам не следует закрепить создания кластера, CI или других автоматизированных заданий к выпускам установке исправлений. 

### <a name="communications"></a>Связь

* Для новых **незначительные** версий Kubernetes
  * Все пользователи получают уведомление публично новой версии и какие версии будут удалены.
  * При выпуске новой версии исправления, самая старая выпуском исправлений удаляется в то же время.
  * Клиенты имеют **60 дней** с даты открытых источников обновления до версии поддерживаемых дополнительный номер версии.
* Для новых **patch** версий Kubernetes
  * Все пользователи получают уведомление новой версии исправлений, выпущенных и выполнить обновление до последней версии исправления.
  * Пользователи имеют **30 дней** выполнить обновление до выпуска новое, поддерживаемое исправление. Пользователи имеют **30 дней** до поддерживаемых исправлении перед удалением самого старого.

AKS определяет «» выпускаются по лицензии с общей доступностью, в все цели уровня Обслуживания включена / качества службы измерений и доступно во всех регионах.

> [!NOTE]
> Уведомление о Kubernetes версии выпусков и возражения, когда дополнительного номера версии является устаревшим или удалять пользователей предоставляется 60 дней для обновления до поддерживаемой версии. В случае выпуска исправлений клиенты получают 30 дней до поддерживаемой версии.

Уведомления отправляются через:

* [Заметки о выпуске AKS](https://aka.ms/aks/releasenotes)
* Портал Azure уведомления
* [Канал обновления Azure][azure-update-channel]

### <a name="policy-exceptions"></a>Исключения политики

AKS оставляет за собой право на добавление и удаление новых или существующих версий, которые определены для имеют один или несколько важных рабочих, влияющие на ошибок или проблем безопасности без уведомления.

Выпуски установке исправлений могут быть пропущены, или развертывание ускоряется зависимости от серьезности ошибки, проблемы безопасности.

### <a name="azure-portal-and-cli-default-versions"></a>Портал Azure и интерфейса командной строки версии по умолчанию

Когда вы развертываете кластер AKS на портале или с помощью Azure CLI, кластер всегда присваивается дополнительный номер версии n-1 и последних исправлений. Например, если служба AKS поддерживает *1.13.x*, *1.12.a* + *1.12.b*, *1.11.a*  +   *1.11.b*, *1.10.a* + *1.10b*, версия по умолчанию для новых кластеров — *1.12.b*.

AKS по умолчанию n-1 (minor.latestPatch, например 1.12.b) для предоставления клиентам известных, стабильной и обновленные версии по умолчанию.

## <a name="list-currently-supported-versions"></a>Список поддерживаемых версий

Чтобы узнать, какие версии доступны в настоящее время для вашей подписки и региона, используйте команду [​​az aks get-versions][az-aks-get-versions]. В следующем примере перечислены доступные версии Kubernetes для региона *EastUS*:

```azurecli-interactive
az aks get-versions --location eastus --output table
```

Результат, аналогичный приведенному ниже, указывающие, что версия Kubernetes *1.13.5* доступен самой последней версии:

```
KubernetesVersion    Upgrades
-------------------  ------------------------
1.13.5               None available
1.12.7               1.13.5
1.12.6               1.12.7, 1.13.5
1.11.9               1.12.6, 1.12.7
1.11.8               1.11.9, 1.12.6, 1.12.7
1.10.13              1.11.8, 1.11.9
1.10.12              1.10.13, 1.11.8, 1.11.9
```

## <a name="faq"></a>Часто задаваемые вопросы

**Что происходит, когда клиент обновляет кластер Kubernetes с неподдерживаемой дополнительной версией?**

Если вы используете *n-4* версии, находятся вне поддержки и будет предложено обновить. Если обновление с версии n-4 до n-3 завершается успешно, теперь вы находитесь в правилах поддержки. Пример:

- Если поддерживаются версии AKS *1.13.x*, *1.12.a* + *1.12.b*, *1.11.c*  +  *1.11d*, и *1.10.e* + *1.10F* , и используется *1.9.g* или *1.9.h*, находятся вне поддержки.
- Если обновление с *1.9.g* или *1.9.h* для *1.10.e* или *1.10.f* завершается успешно, вы снова находитесь в в правилах поддержки.

Обновления до версий старше *n-4* не поддерживаются. В таких случаях мы рекомендуем клиентам создать новые кластеры AKS и повторно развернуть их рабочие нагрузки.

**Что означает «Out of Support»**

«За пределами Support» означает, что версии, которую вы используете находится за пределами списка поддерживаемых версий, и вам будет предложено обновить кластер до поддерживаемой версии, при обращении в службу поддержки. Кроме того AKS не выполняет любой среды выполнения или других гарантий для кластеров только в списке поддерживаемых версий.

**Что происходит, когда клиент выполняет масштабирование кластера Kubernetes с неподдерживаемой дополнительной версией?**

Свертывание и развертывание для дополнительных версий, не поддерживаемых AKS, выполняется без сбоев.

**Может ли клиент всегда использовать одну версию Kubernetes?**

Да. Тем не менее если кластер не находится в одной из версий, поддерживаемых AKS, кластеру выходит за политики поддержки AKS. Azure не обновляет и не удаляет ваш кластер автоматически.

**Какую версию поддерживает главный кластер, если кластер агента не использует ни одну из поддерживаемых версий AKS?**

Главный кластер автоматически обновляется до последней поддерживаемой версии.

## <a name="next-steps"></a>Дальнейшие действия

Сведения об обновлении см. в статье [Обновление кластера Службы Azure Kubernetes (AKS)][aks-upgrade].

<!-- LINKS - External -->
[aks-engine]: https://github.com/Azure/aks-engine
[azure-update-channel]: https://azure.microsoft.com/updates/?product=kubernetes-service

<!-- LINKS - Internal -->
[aks-upgrade]: upgrade-cluster.md
[az-aks-get-versions]: /cli/azure/aks#az-aks-get-versions
