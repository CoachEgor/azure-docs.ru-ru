---
title: Поддерживаемые версии Kubernetes в Службе Azure Kubernetes
description: Сведения о политике поддержки версии Kubernetes и жизненном цикле кластеров в Службе Azure Kubernetes (AKS).
services: container-service
author: sauryadas
ms.topic: article
ms.date: 12/09/2019
ms.author: saudas
ms.openlocfilehash: 77d64391888957a1697a5823a1485413686682d1
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77593450"
---
# <a name="supported-kubernetes-versions-in-azure-kubernetes-service-aks"></a>Поддерживаемые версии Kubernetes в Службе Azure Kubernetes (AKS)

Сообщество Kubernetes выпускает дополнительные версии примерно каждые три месяца. Эти выпуски содержат новые функции и улучшения. Исправления выпускаются чаще (иногда еженедельно) и предназначены только для устранения критических ошибок в дополнительной версии. Эти выпуски исправлений включают устранение уязвимостей безопасности или серьезных ошибок, влияющих на многих клиентов и большое количество продуктов, выполняющихся в рабочей среде на основе Kubernetes.

AKS стремится сертифицировать и выпускать новые версии Kubernetes в течение 30 дней после выпуска вверх по течению, при условии стабильности релиза.

## <a name="kubernetes-versions"></a>Кuberнетес версии

Kubernetes использует стандартную схему версий [Semantic Versioning.](https://semver.org/) Это означает, что каждая версия Kubernetes следует этой схеме нумеринга:

```
[major].[minor].[patch]

Example:
  1.12.14
  1.12.15
```

Каждое число в версии указывает общую совместимость с предыдущей версией:

* Основные версии меняются при несовместимости изменений API или совместимости назад.
* Незначительные версии меняются при внесении изменений функциональности, совместимых с другими незначительными версиями.
* Версии патчей меняются при исправлении ошибок, совместимых с обратном, исправления ошибок.

Пользователи должны стремиться запустить последний выпуск патча несовершеннолетней версии, которой они управляют, например, если производственный кластер находится на *1.12.14* и *1.12.15* является последней доступной версией патча, доступной для серии *1.12,* вы должны обновиться до *1.12.15,* как только вы сможете обеспечить полную исправление и поддержку кластера.

## <a name="kubernetes-version-support-policy"></a>Политика поддержки версии Kubernetes

AKS поддерживает три незначительные версии Kubernetes:

* Текущая незначительная версия, выпущенная в AKS (N)
* Две предыдущие второстепенные версии. Каждая поддерживаемая дополнительная версия также поддерживает два стабильных исправления.

Это известно как "N-2": (N (Последний релиз) - 2 (незначительные версии)).

Например, если AKS вводит *1.15.a* сегодня, поддержка предоставляется для следующих версий:

Новая незначительная версия    |    Поддерживаемый список версий
-----------------    |    ----------------------
1.15.a               |    1.15.a, 1.15.b, 1.14.c, 1.14.d, 1.13.e, 1.13.f

Где ".письмо" является представителем патч-версий.

Подробную информацию о сообщениях об изменениях и ожиданиях версий можно узнать ниже.

Когда новая незначительная версия вводится, старейшая незначительная версия и поддерживаемые патч-релизы удаляются и удаляются. Например, если текущий список поддерживаемых версий:

```
1.15.a
1.15.b
1.14.c
1.14.d
1.13.e
1.13.f
```

А AKS выпускает 1.16. *, это означает, что 1.13.* версии (все 1,13 версии) будут удалены и не поддерживаются.

> [!NOTE]
> Обратите внимание, что если клиенты запустят неподдерживаемую версию Kubernetes, им будет предложено обновиться при запросе поддержки кластера. Кластеры, запускаемые неподдерживаемыми релизами Kubernetes, не охватываются [политиками поддержки AKS.](https://docs.microsoft.com/azure/aks/support-policies)

В дополнение к вышесказанным на незначительных версиях, AKS поддерживает два последних **релиза патча** данной незначительной версии. Например, с учетом следующих поддерживаемых версий:

```
Current Supported Version List
------------------------------
1.15.2, 1.15.1, 1.14.5, 1.14.4
```

Если вверх по течению Kubernetes выпустили 1.15.3 и 1.14.6 и AKS выпускает эти версии патча, старейшие версии патча удаляются и удаляются, а поддерживаемый список версий становится:

```
New Supported Version List
----------------------
1.15.*3*, 1.15.*2*, 1.14.*6*, 1.14.*5*
```

### <a name="communications"></a>Взаимодействие

* Для новых **второстепенных** версий Kubernetes
  * Все пользователи публично уведомляются о новой версии и о том, какая версия будет удалена.
  * Когда новая версия патча выпущена, старейший выпуск патча удаляется в то же время.
  * Клиенты имеют **30 дней** от публичной даты уведомления для обновления до поддерживаемой несовершеннолетней версии релиза.
* Для **patch** новых патч-версий Kubernetes
  * Все пользователи получают уведомление о выпуске новой версии патча и обновлении до последнего выпуска патчей.
  * У пользователей есть **30 дней** на обновление до более нового, поддерживаемого выпуска патча, прежде чем старейший будет удален.

AKS определяет "выпущенную версию" как общедоступные версии, включенные во все измерения SLO /Качества обслуживания и доступные во всех регионах. AKS может также поддерживать версии предварительного просмотра, которые явно помечены и подпадают под условия предварительного просмотра.

#### <a name="notification-channels-for-aks-changes"></a>Каналы уведомления для изменений AKS

AKS публикует регулярные обновления сервиса, которые обобщают новые версии Kubernetes, изменения в сервисе и обновления компонентов, которые были выпущены на сервисе на [GitHub.](https://github.com/Azure/AKS/releases)

Эти изменения свернуты для всех клиентов как часть регулярного обслуживания, которое предлагается как часть управляемой службы, некоторые требуют явного обновления, в то время как другие не требуют никаких действий.

Уведомления также отправляются через:

* [Заметки о выпуске AKS](https://aka.ms/aks/releasenotes)
* Уведомления на портале Azure
* [Канал обновления Azure][azure-update-channel]

### <a name="supported-versions-policy-exceptions"></a>Исключения политики поддерживаемых версий

AKS оставляет за собой право добавлять или удалять новые/существующие версии, которые, как было установлено, имеют одну или несколько критическиважных производственных проблем или проблем безопасности без предварительного уведомления.

Конкретные выпуски патчей могут быть пропущены или ускорены развертыванием в зависимости от серьезности ошибки или проблемы безопасности.

### <a name="azure-portal-and-cli-default-versions"></a>Версии портала Azure и CLI по умолчанию

При развертывании кластера AKS в портале или с Azure CLI кластер по умолчанию по умолчанию по умолчанию по умолчанию в незначительную версию N-1 и последний патч. Например, если AKS поддерживает *1.15.a*, *1.15.b,* *1.14.c,* *1.14.d,* *1.13.e,* и *1.13.f*, выбранная версия по умолчанию *1.14.c.*

AKS выбирает по умолчанию N-1, чтобы предоставить клиентам известную, стабильную и исправленную версию по умолчанию.

## <a name="list-currently-supported-versions"></a>Список поддерживаемых версий

Чтобы узнать, какие версии доступны в настоящее время для вашей подписки и региона, используйте команду [​​az aks get-versions][az-aks-get-versions]. В следующем примере перечислены доступные версии Kubernetes для региона *EastUS*:

```azurecli-interactive
az aks get-versions --location eastus --output table
```

## <a name="faq"></a>часто задаваемые вопросы

**Что происходит, когда клиент обновляет кластер Kubernetes с неподдерживаемой дополнительной версией?**

Если вы находитесь на *n-3* версии, вы находитесь вне поддержки и будет предложено обновить. Если ваше обновление с версии n-3 на n-2 удается, вы теперь в рамках наших политик поддержки. Пример:

- Если самая старая поддерживаемая версия AKS *1.13.a,* а вы находитесь на *1.12.b* или старше, вы находитесь вне поддержки.
- Если обновление с *1.12.b* до *1.13.a* или выше успешно, вы снова в рамках наших политик поддержки.

Обновления до версий старше поддерживаемого окна *N-2* не поддерживаются. В таких случаях мы рекомендуем клиентам создавать новые кластеры AKS и перераспределять свои рабочие нагрузки с версиями в поддерживаемом окне.

**Что означает «Вне поддержки»**

«Вне поддержки» означает, что запущенная версия находится за пределами списка поддерживаемых версий, и при запросе поддержки вам будет предложено обновить кластер до поддерживаемой версии. Кроме того, AKS не дает никаких гарантий времени выполнения или других гарантий для кластеров за пределами списка поддерживаемых версий.

**Что происходит, когда клиент выполняет масштабирование кластера Kubernetes с неподдерживаемой дополнительной версией?**

Для незначительных версий, не поддерживаемых AKS, масштабирование в или из должны продолжать работать, но настоятельно рекомендуется обновить, чтобы привести кластер обратно в поддержку.

**Может ли клиент всегда использовать одну версию Kubernetes?**

Да. Однако, если кластер не находится на одной из версий, поддерживаемых AKS, кластер выходит из политики поддержки AKS. Azure не обновляет и не удаляет ваш кластер автоматически.

**Какую версию поддерживает плоскость управления, если пул узлов не находится в одной из поддерживаемых версий AKS?**

Самолет управления должен находиться в окне версий из всех узловых бассейнов. Для получения подробной информации об обновлении пулов управления или узлов, посетите документацию по [модернизации узлов бассейнов.](use-multiple-node-pools.md#upgrade-a-cluster-control-plane-with-multiple-node-pools)

## <a name="next-steps"></a>Дальнейшие действия

Сведения об обновлении см. в статье [Обновление кластера Службы Azure Kubernetes (AKS)][aks-upgrade].

<!-- LINKS - External -->
[aks-engine]: https://github.com/Azure/aks-engine
[azure-update-channel]: https://azure.microsoft.com/updates/?product=kubernetes-service

<!-- LINKS - Internal -->
[aks-upgrade]: upgrade-cluster.md
[az-aks-get-versions]: /cli/azure/aks#az-aks-get-versions
