---
title: Политики поддержки для службы Azure Kubernetes (AKS)
description: Дополнительные сведения о политики поддержки службы Azure Kubernetes (AKS), ответственности и функции, которые находятся в предварительной версии (или альфа или бета-версия).
services: container-service
author: jnoller
ms.service: container-service
ms.topic: article
ms.date: 04/01/2019
ms.author: jenoller
ms.openlocfilehash: 9b779021eca11638e8ee52ec11d082e5b0e89cd4
ms.sourcegitcommit: 8fc5f676285020379304e3869f01de0653e39466
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/09/2019
ms.locfileid: "65506686"
---
# <a name="support-policies-for-azure-kubernetes-service"></a>Политики поддержки для службы Azure Kubernetes

Эта статья содержит сведения о политиках технической поддержки и ограничения для службы Azure Kubernetes (AKS). Здесь также подробно управления узла рабочей роли, компоненты плоскости управляемого элемента управления, сторонних компонентов с открытым кодом и управления безопасности или исправления.

## <a name="service-updates-and-releases"></a>Обновления службы и выпуски

* Сведения о выпуске, см. в разделе [заметки о выпуске AKS](https://github.com/Azure/AKS/releases).
* Сведения о функциях в предварительной версии, см. в разделе [AKS предварительного просмотра, функции и связанные проекты](https://github.com/Azure/AKS/blob/master/previews.md).

## <a name="managed-features-in-aks"></a>Управляемые компоненты в AKS

Базовой инфраструктуры как услуги (IaaS) облачных компонентов, например вычислительных ресурсов или сетевыми компонентами, предоставить пользователям доступ к низкоуровневые элементы управления и параметры настройки. Напротив AKS предоставляет готовое к использованию развертывания Kubernetes, которая предоставляет общий набор конфигурации и возможности, которые необходимы клиентам. AKS клиенты имеют ограниченную настройки, развертывания и другие параметры. Эти клиенты не нужно беспокоиться о или непосредственного управления кластеры Kubernetes.

С помощью AKS, клиент получает это полностью управляемая *плоскость управления*. Эта плоскость содержит все компоненты и службы, необходимые клиенту для эксплуатации и предоставления кластеров Kubernetes для конечных пользователей. Все компоненты Kubernetes сопровождение и эксплуатацию корпорацией Майкрософт.

Корпорация Майкрософт управляет и отслеживает следующие компоненты на панели управления:

* Серверы Kubelet или Kubernetes API
* Etcd или совместимый хранилище значений ключей, обеспечивая качества обслуживания (QoS), масштабируемость и среды выполнения
* Службы DNS (например, kube-dns или CoreDNS)
* Прокси-сервера Kubernetes или журнал сетевых подключений

AKS не решение полностью управляемый кластер. Некоторые компоненты, такие как рабочие узлы *разделения ответственности*, где пользователи должны обеспечить кластер AKS. Ввод данных пользователем требуется, например, применение исправления безопасности операционной системы (ОС) узла рабочей роли.

Службы, *управляемых* в том смысле, что Microsoft и группой AKS развертывает работает и отвечает за доступность службы и функции. Клиентам не удается изменить эти управляемые компоненты. Microsoft ограничивает возможности настройки, чтобы обеспечить взаимодействие с пользователями согласованными и масштабируемыми. Полностью настраиваемые возможности решения, см. в разделе [AKS ядра](https://github.com/Azure/aks-engine).

> [!NOTE]
> AKS рабочие узлы отображаются на портале Azure как обычных ресурсов Azure IaaS. Но эти виртуальные машины развертываются в группу пользовательских ресурсов Azure (с MC префиксом\\*). Это можно изменить рабочих узлов AKS. Например, можно использовать Secure Shell (SSH) для изменения рабочих узлов AKS способ изменения обычные виртуальные машины (нельзя однако изменить базовый образ ОС, и изменения могут не сохраниться даже после обновления или перезагрузке), и другие ресурсы Azure можно подключить к AKS рабочие узлы. Однако при внесении изменений *внешнего управления и настройки,* кластер AKS станет поддерживать. Избегайте изменения рабочих узлов, если не направляет технической поддержки Майкрософт, для внесения изменений.

## <a name="shared-responsibility"></a>Общая ответственность

При создании кластера, клиент определяет рабочие узлы Kubernetes, создаваемые AKS. Пользовательских рабочих нагрузок выполняются на этих узлах. Клиенты владельцем и можно просмотреть или изменить рабочие узлы.

Так как узлы кластера клиента выполнить частного кода и хранить конфиденциальные данные, технической поддержки Майкрософт можно получить доступ к их только ограниченный. Технической поддержки Майкрософт не сможет войти, выполнить команды в, или просмотреть журналы для этих узлов без разрешения express клиента и помощь.

Так, как чувствительных рабочих узлов, корпорация Майкрософт принимает меры, чтобы ограничить их управление фона. Во многих случаях рабочей нагрузки продолжит работу, даже если Kubernetes главные узлы, etcd и других сбоев компонентов, управляемых корпорацией Майкрософт. Деликатность измененных рабочих узлов может привести к потери данных и рабочих нагрузок и может сделать кластер неподдерживаемых.

## <a name="aks-support-coverage"></a>AKS поддержки покрытия

Корпорация Майкрософт предоставляет техническую поддержку в следующих целях:

* Подключение ко всем компонентам Kubernetes, служба Kubernetes обеспечивает и поддерживает, таких как сервер API.
* Управление, работоспособности, качества обслуживания и использования Kubernetes управлять службами плоскости (главные узлы Kubernetes, API сервера, etcd и kube-dns).
* Etcd. Поддержка включает в себя прозрачное автоматические резервные копии все данные etcd каждые 30 минут для аварийного восстановления состояния планирования и кластера. Эти резервные копии недоступны непосредственно клиентам или пользователям. Они обеспечивают надежность данных и согласованность.
* Все точки интеграции, в драйвер поставщика облака Azure для Kubernetes. К ним относятся интеграция с другими службами Azure, такие как подсистемы балансировки нагрузки, постоянные тома или журнал сетевых подключений (Azure CNI и Kubernetes).
* Вопросы или проблемы, о настройке компонентов плоскости управления, таких как сервер Kubernetes API, etcd и kube-dns.
* Проблемы, связанные с сетевыми проблемами, таких как Azure CNI, kubenet, или другие доступа к сети и функциональные возможности. Проблемы могут включать DNS разрешения, потери пакетов, маршрутизации и т. д. Корпорация Майкрософт поддерживает различные сетевые сценарии:
  * Kubenet (basic) и усовершенствованной организации сети (Azure CNI) в кластере и связанные компоненты
  * Подключение к другим службам Azure и приложений
  * Входящие контроллеры и конфигураций подсистемы балансировки входящего трафика или нагрузки
  * Производительность сети и задержки

Майкрософт не предоставляет техническую поддержку в следующих целях:

* Вопросы об использовании Kubernetes. Например технической поддержки Майкрософт не предоставляет советы о том, как создать пользовательский входящие контроллеры, использовать рабочие нагрузки приложений или применять пакеты программного обеспечения сторонних или открытым исходным кодом или средства.
  > [!NOTE]
  > Поддержка Microsoft может уведомить о AKS функциональные возможности кластера, настройки и настройка (например, сбоев в работе Kubernetes и процедуры).
* Сторонних проектов с открытым кодом, которые не поставляются как часть Kubernetes панели управления и развертываться вместе с кластерах AKS. Эти проекты могут включать Istio, Helm, Envoy или другим пользователям.
  > [!NOTE]
  > Microsoft могут обеспечить поддержку усилия для сторонних проектов с открытым кодом, таких как Helm и Kured. Там, где средство с открытым исходным сторонних интегрируется с поставщика облачных служб Kubernetes Azure или другие ошибки, относящиеся к AKS, корпорация Майкрософт поддерживает примеры и приложений из документации Майкрософт.
* Программное обеспечение независимых производителей закрытым исходным кодом. Это программное обеспечение может включать средства проверки безопасности и сетевые устройства или программного обеспечения.
* Проблемы, связанные с комбинированный или множества поставщиков построения распределения по уровням. Например Корпорация Майкрософт не поддерживает проблемы, связанные с запуском федеративного облачного multipublic решение стороннего поставщика.
* Сетевые настройки, не перечисленные в [документацией по AKS](https://docs.microsoft.com/azure/aks/).
  > [!NOTE]
  > Корпорация Майкрософт поддерживает проблемы и ошибки, связанные с группами безопасности сети (Nsg). Например технической поддержки Майкрософт можно ответить на вопросы, невозможность обновления группы безопасности сети или неожиданное поведение подсистемы балансировки нагрузки или группе NSG.

## <a name="aks-support-coverage-for-worker-nodes"></a>AKS поддержки покрытия для рабочих узлов

### <a name="microsoft-responsibilities-for-aks-worker-nodes"></a>Обязанности корпорации Майкрософт для рабочих узлов AKS

Майкрософт и клиентов разделяют ответственность для рабочих узлов Kubernetes где:

* Базовый образ ОС, который требовался дополнения (например, мониторинг и сетевых агентов).
* Рабочие узлы автоматически получать исправлений ОС.
* Проблемы с Kubernetes управления плоскости, в которой выполняется автоматическое исправление компонентов, которые работают на рабочих узлах. Следующие компоненты:
  * прокси-сервер kube
  * сетевые туннелей, которые предоставляют каналы связи в Kubernetes главные компоненты
  * kubelet
  * Управляющая программа docker или Кита

> [!NOTE]
> На рабочем узле Если компонент плоскости управления не работает, команда AKS может потребоваться перезагрузить весь рабочий узел. Из-за их ограниченный доступ к активной рабочей нагрузкой заказчика и данные AKS команда перезагружает рабочий узел только в том случае, если клиент передает управление проблему. Везде, где это возможно, группа AKS работает во избежание влияния на приложение требует перезагрузки.

### <a name="customer-responsibilities-for-aks-worker-nodes"></a>Обязанности клиента для рабочих узлов AKS

Microsoft не автоматической перезагрузке рабочих узлов в применении исправлений на уровне операционной системы. Несмотря на то, что исправлений ОС доставляются в рабочие узлы *клиента* отвечает за перезагрузка рабочих узлов, чтобы применить изменения. Автоматически применены исправления для общих библиотек, управляющих программах, таких как гибридные твердотельных дисков (SSHD) и другие компоненты на уровне системы или операционной системы.

Клиенты несут ответственность за выполнение обновления Kubernetes. Они могут выполнять обновления панели управления Azure или Azure CLI. Это применимо для обновления, содержащие данные безопасности или улучшения функциональности в Kubernetes.

> [!NOTE]
> Так как AKS *управляемой службы*, его конечными целями включают удаление ответственность за исправления, обновления и журнала коллекции для управления службами более полный и без участия пользователя. По мере увеличения емкости службы для управления end-to-end будущих выпусках может пропустить некоторые функции (например, перезагрузка узла и автоматическая установка исправлений).

### <a name="security-issues-and-patching"></a>Проблемы безопасности и установки исправлений

При обнаружении уязвимости безопасности в один или несколько компонентов AKS AKS команда выполняется обновление всех затронутых кластеров для устранения этой проблемы. Кроме того команда дает пользователю руководства по обновлению.

Для рабочих узлов, что влияет безопасности дефект, если обновление без простоя доступен команда AKS, исправление и уведомить пользователей об изменении.

Исправление системы безопасности, требующей перезагрузки узла рабочей роли, корпорация Майкрософт уведомит клиентов этого требования. Клиент несет ответственность для перезагрузки или обновления для получения исправления кластера. Если пользователи не применять исправления в соответствии с руководство по AKS, их кластера будут продолжать подвержена уязвимости безопасности.

### <a name="node-maintenance-and-access"></a>Узел обслуживанием и доступом

Рабочие узлы находятся под общей ответственностью и которые принадлежат клиентов. По этой причине клиенты имеют возможность войти в свои рабочие узлы и вносить потенциально опасные изменения, например обновлений ядра и при установке или удалении пакетов.

Если клиентам изменять уничтожения данных или вызвать элемент управления плоскости компоненты в автономный режим или привести к нарушению, AKS обнаружит этот сбой и автоматически восстановить рабочем узле в предыдущее рабочее состояние.

Несмотря на то, что клиенты могут войти и изменение рабочих узлов, это не рекомендуется, поскольку изменения можно внести кластер неподдерживаемых.

## <a name="network-ports-access-and-nsgs"></a>Сетевые порты, доступ и группы безопасности сети

Как это управляемая служба AKS имеет определенные требования к сети и подключения. Эти требования являются менее гибкими, чем требования для обычных компонентов IaaS. В AKS операции, такие как Настройка правил группы безопасности сети, блокирует определенный порт (например, с помощью правила брандмауэра, блокирующие исходящий порт 443), и добавление URL-адресов можно сделать неподдерживаемых кластера.

> [!NOTE]
> В настоящее время AKS не позволяет полностью заблокировать исходящий трафик из кластера (например, явного домена или порт в список разрешений). Список URL-адресов и портов может быть изменена без предупреждения. Обновленный список можно получить, создав запрос в службу поддержки Azure. В списке можно только клиентов, имеющих принимать, что их доступность кластера может повлиять на работу *в любое время.*

## <a name="unsupported-alpha-and-beta-kubernetes-features"></a>Неподдерживаемые функции Kubernetes альфа- и бета-версии

Служба AKS поддерживает только стабильные функции в рамках вышестоящего проекта Kubernetes. Если в документации, AKS не поддерживает альфа- и бета-версии функции, доступные в высокоуровневый проект Kubernetes.

Они обычно доступны в двух сценариях может быть сменен альфа или бета-версии функции:

* Клиенты выполнены с AKS продукта, поддержки или инженеров и предлагается, попробуйте следующие новые функции.
* Эти функции были [включаемые флаг компонента](https://github.com/Azure/AKS/blob/master/previews.md). Необходимо явным образом можно воспользоваться функцией для использования этих функций.

## <a name="preview-features-or-feature-flags"></a>Функции предварительной версии или флагов компонентов

Для функций и функций, которые расширенных тестирование и отзывы пользователей корпорация Майкрософт выпускает новые функции предварительной версии или компонентов флаг компонентов. Рассмотрим эти функции в качестве функции предварительной версии или бета-версии.

Предварительные версии компонентов или компонентов флаг компонента не предназначены для рабочей среды. Текущие изменения в API-интерфейсы и поведение, исправления ошибок и другие изменения может привести к нестабильной работе кластеров и время простоя.

Возможности в общедоступной предварительной версии, попадает в «оптимальных затрат» поддержки, как эти функции доступны в предварительной версии и не предназначены для рабочей среды и поддерживаются группы технической поддержки AKS только в рабочие часы. Дополнительные сведения см.:

* [Часто задаваемые вопросы о поддержке Azure](https://azure.microsoft.com/en-us/support/faq/)

> [!NOTE]
> Функции предварительной версии вступят в силу с Azure *подписки* уровень. Не устанавливайте функции предварительной версии на в производственной подписке. На в производственной подписке функции предварительной версии можно изменить поведение по умолчанию API и повлиять на обычную работу.

## <a name="upstream-bugs-and-issues"></a>Вышестоящий ошибки и проблемы

Получает скорости разработки в высокоуровневый проект Kubernetes, ошибки неизменно возникают. Некоторые из этих ошибок не может исправить или обойти в системе AKS. Вместо этого исправления ошибок требуют большего размера исправления для вышестоящего проектов (например, Kubernetes, операционные системы узла или рабочей роли и ядер). Для компонентов, которыми владеет Microsoft (такими как поставщик облака Azure) AKS и Azure персонал фиксируются на решение проблем вышестоящий источник в сообществе.

Когда основная причина, по одной или нескольких ошибок вышестоящего технической поддержки, будет AKS команды поддержки разработки и проектирования:

* Определение и связывание вышестоящего сообщений об ошибках с любые вспомогательные сведения, помогающие пояснить, почему эта проблема затрагивает кластера или рабочей нагрузки. Клиенты получают ссылки на необходимые репозитории, чтобы они могли просмотреть проблемы и убедитесь, что когда новый выпуск будет достигнуть исправления.
* Укажите возможные обходные пути или способы их устранения. Если проблему можно обойти, [известная проблема](https://github.com/Azure/AKS/issues?q=is%3Aissue+is%3Aopen+label%3Aknown-issue) будут храниться в хранилище AKS. Описаны известные проблемы хранения:
  * Проблемы, включая ссылки на вышестоящий ошибок.
  * Обходной путь, а также сведения о какого- либо другой сохраняемости решения.
  * Примерная временных шкал для включения проблему, в зависимости от вышестоящего выпускать.
