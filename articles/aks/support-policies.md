---
title: Политики поддержки службы Azure Kubernetes (AKS)
description: Дополнительные сведения о политики поддержки службы Azure Kubernetes (AKS), ответственности, предварительная версия/альфа-/ бета-функции.
services: container-service
author: jnoller
ms.service: container-service
ms.topic: article
ms.date: 04/01/2019
ms.author: jenoller
ms.openlocfilehash: f173fc7c794729eae8c60cceefa88d153800a816
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61032476"
---
# <a name="azure-kubernetes-service-aks-support-policies"></a>Политики поддержки службы Azure Kubernetes (AKS)

Эта статья содержит сведения о политике технической поддержки AKS, ограничения, и сведения, включая управление узла рабочей роли, управляемые контролировать компоненты плоскости, компоненты независимых производителей открытым исходным кодом и безопасности / управление исправлениями.

## <a name="service-updates--releases"></a>Обновления службы и выпуски

* Сведения о выпуске, см. в разделе [заметки о выпуске AKS][1]
* Функции в общедоступной предварительной версии, см. в разделе [функции предварительной версии AKS и связанные проекты][2]

## <a name="what-is-managed"></a>Что «управляется»

В отличие от базового IaaS облачные компоненты например вычислительные или журнал сетевых подключений, которые предоставляют низкоуровневые элементы управления и параметры настройки для пользователям применять, служба AKS предоставляет развертывании Kubernetes под ключ, который представляет общий набор конфигураций и возможности, необходимые для Kubernetes. Пользователи, использующие эту службу имеют ограниченное число настройки, развертывания и другие параметры. Это также означает, что пользователям не нужно беспокоиться или прямое управление кластеров Kubernetes.

С помощью AKS, клиент получает это полностью управляемая **плоскость управления** — где плоскости управления содержит все компоненты и службы, необходимые для эксплуатации и предоставления кластеров Kubernetes для конечных пользователей. Все компоненты Kubernetes сопровождение и эксплуатацию корпорацией Майкрософт.

Управляемые **плоскость управления** управляются и отслеживаются корпорацией Майкрософт следующие компоненты:

* Kubelet / сервера Kubernetes API
* Etcd или совместимый хранилище ключ-значение — включая качество обслуживания, масштабируемость и среды выполнения
* Службы DNS (например, dns-kube / CoreDNS)
* Kubernetes прокси-сервера и сети

AKS не равно 100% управляемые **кластера** решения. Некоторые компоненты (например, рабочие узлы) содержать определенные **совместные обязанности** случаев, когда действия для поддержания кластер AKS требуется взаимодействие с пользователем. Например рабочий узел программы обновления безопасности операционной системы.

 **Управляемые**, означает, что Microsoft и группой AKS развертывается, работает и отвечает на доступность и работоспособность этих служб. **Клиенты не могут изменять эти компоненты**. Настройки ограничено обеспечить взаимодействие с пользователями согласованными и масштабируемыми. Полностью настраиваемые возможности решения, см. в разделе [AKS-Engine](https://github.com/Azure/aks-engine).

> [!NOTE]
> Важно понимать, что служба Azure Kubernetes рабочих узлов отображается на портале Azure в виде обычных ресурсов IaaS Azure, несмотря на то, что эти виртуальные машины развертываются в пользовательскую группу ресурсов Azure (с MC префиксом\\*). Пользователь может их изменить, SSH в них так же, как обычные виртуальные машины (нельзя однако изменить базовый образ ОС, и изменения могут не сохраниться даже после обновления или перезагрузке), и можно подключить другого ресурса Azure, к ним или изменять их. **Тем не менее это из внешнего управления и настройки означает, что сам кластер AKS станет поддерживать. Избегайте изменения узла рабочей роли иное службой поддержки Майкрософт.**

## <a name="what-is-shared-responsibility"></a>Какова общая ответственность

Во время создания кластера AKS создается некоторое количество рабочих узлов Kubernetes, определяются клиентом. Эти узлы, как было отмечено, где выполняются рабочие нагрузки клиентов. Клиенты владельцем и можно просмотреть или изменить эти рабочих узлов.

Поскольку эти узлы выполняются частного кода, а также хранить конфиденциальные данные, технической поддержки Майкрософт должен **ограниченный доступ** клиенту все узлы кластера. Технической поддержки Майкрософт не может войти, выполнять команды или просмотреть журналы для этих узлов без разрешения express клиента и/или помощь для выполнения команды отладки, как предписано в службу поддержки.

Из-за конфиденциального характера этих рабочих узлов Корпорация Майкрософт принимает меры для ограничения управления «за кулисами» из этих узлов. Даже если Kubernetes главные узлы, etcd и другие компоненты, сбой (управляемый корпорацией Майкрософт) рабочей нагрузки продолжится во многих случаях. Если рабочих узлов изменяется без внимания, его можно привести к потере данных и (или) рабочей нагрузки и отображать неподдерживаемых кластера.

## <a name="azure-kubernetes-service-support-coverage"></a>Azure покрытие поддержки службы Kubernetes

**Корпорация Майкрософт предоставляет техническую поддержку в следующих целях:**

* Подключение ко всем компонентам Kubernetes, предоставляемая и поддерживаемая службой Kubernetes (например, API server)
* Управление, время работы, QoS и использования Kubernetes управление службами плоскости (Kubernetes Master узлов, сервер API etcd, kube-dns, например.
* Etcd поддержка включает в себя прозрачное автоматические резервные копии все данные etcd каждые 30 минут для аварийного восстановления состояния планирования и кластера. Эти резервные копии недоступны напрямую для клиентов и пользователей и используются для обеспечения надежности данных и согласованность
* Все точки интеграции в драйвера поставщика облачных служб Azure для Kubernetes, например интеграции в Azure, других службах, таких как подсистемы балансировки нагрузки, постоянные тома, сетевые подключения (Azure CNI и Kubernetes)
* Вопросы или проблемы, связанные с настройки компонентов плоскости управления, таких как сервер Kubernetes API, etcd и kube-dns.
* Выдает о сетях, например Azure CNI, Kubenet или другой сети доступ и функциональность проблемы (DNS разрешения, потери пакетов, маршрутизации и т. д.).
  * Сетевые сценарии, поддерживаемые включают Kubenet (Basic) и Advanced Networking (Azure CNI) в пределах кластера и связанных компонентов, подключение к другим службам Azure и приложений. Кроме того входящие контроллеры и конфигурации подсистемы балансировки входящего трафика и нагрузки, производительность сети и задержки поддерживаются корпорацией Майкрософт.

**Майкрософт не предоставляет техническую поддержку в следующих целях:**

* Рекомендации / вопросы «Практическое руководство» использование Kubernetes, например создание пользовательских входящие контроллеры, вопросы рабочей нагрузки приложения, и третьей стороной OSS/пакетов или средств выходят за пределы области.
  * Рекомендация билеты для AKS кластера функциональные возможности, настройки, например Kubernetes операции, проблемы и практические-tos находятся в области — настройки.
* Не предоставляется как часть Kubernetes сторонних проектов с открытым кодом панели управления и развертываться вместе с AKS кластеров, например Istio, Helm, Envoy и другим пользователям.
  * Для проектов с открытым кодом независимых производителей, таких как Helm и Kured, негарантированной поддержкой предоставляется примеры и приложения, поставляемые в документации корпорации Майкрософт и где средство с открытым кодом, сторонних интегрируется с поставщика облачных служб Kubernetes Azure или другие ошибки, относящиеся к AKS.
* Программное обеспечение независимых производителей закрытым исходным кодом — сюда может входить проверка средств, сети или программного обеспечения безопасности.
* Проблемы, связанные с «многооблачный» или нескольких поставщиков построения схемы не поддерживаются, например запуск общедоступное облако поставщика федеративных множественного решения не поддерживается.
* Определенных сетевых настроек, отличные от описанных в официальном [документацией по AKS][3].
  > [!NOTE]
  > Поддерживается проблемы и ошибки, связанные группы безопасности сети. Например поддержка может ответить на вопросы, вокруг группы безопасности сети, не удалось обновить или непредвиденное поведение группы безопасности сети или подсистемы балансировки нагрузки.

## <a name="azure-kubernetes-service-support-coverage-worker-nodes"></a>Покрытие Azure поддержка службы Kubernetes (рабочих узлов)

### <a name="microsoft-responsibilities-for-azure-kubernetes-service-worker-nodes"></a>Обязанности корпорации Майкрософт для рабочих узлов службы Kubernetes Azure

Как отмечалось в `shared responsibility` раздел, Kubernetes, рабочие узлы попадают в модель совместной ответственности, где:

* Предоставляет базовый образ операционной системы с указанием необходимых элементов (например, мониторинг и сетевых агентов)
* Автоматическая доставка исправления операционной системы на рабочих узлах.
* Автоматическое исправление проблемы с Kubernetes управления компонентов плоскости, работающих на рабочих узлах, такие как:
  * прокси-сервер kube
  * сетевые туннелей, которые предоставляют каналы связи в Kubernetes главные компоненты
  * kubelet
  * управляющая программа docker/Кита

> [!NOTE]
> Если компонент плоскости управления не в рабочем состоянии на рабочем узле, команда AKS может потребоваться перезагрузить весь рабочий узел для устранения проблемы. Это делается от имени пользователя и не выполняется в том случае, если укрупнение клиента (из-за доступ к данным и активной рабочей нагрузкой клиентов). Каждый раз, когда будет возможно персонала AKS работу, чтобы сделать все необходимые перезагрузите влияния на не относящимися к приложению.

### <a name="customer-responsibilities-for-azure-kubernetes-service-worker-nodes"></a>Обязанности клиента для службы Azure Kubernetes рабочих узлов

**Майкрософт не поддерживает:**

- Автоматически перезагрузка рабочих узлов для OS уровень исправления вступили в силу **(в настоящее время см. ниже)**

Исправления для операционной системы предоставляются в рабочие узлы, тем не менее это **обязанность** к перезагрузке рабочих узлов, чтобы изменения вступили в силу. Это автоматическое исправление включает в себя общие библиотеки, управляющие программы, такие как SSHD и другие компоненты уровня системы/OS.

При обновлении Kubernetes **клиенты несут ответственность за выполнение обновления** с помощью панели управления Azure или Azure CLI. Это применимо для обновлений, содержащую безопасности или улучшения функциональности в Kubernetes.

> [!NOTE]
> Так как AKS `managed service` конечных целей службы включают удаление ответственность за исправлений, обновлений, сбор журналов и чтобы улучшить ее дополнительные службы полностью управляемые и без участия пользователя. Эти элементы (Перезагрузка узла, автоматическая установка исправлений) могут быть удалены в будущих выпусках, увеличении наших возможностей для сквозной управления.

### <a name="security-issues-and-patching"></a>Проблемы безопасности и установки исправлений

В некоторых случаях (например, CVE) уязвимости безопасности может находиться в одном или нескольких компонентов службы AKS. В таких случаях AKS будет исправлять все затронутые кластеры, чтобы устранить проблему, если это возможно, или предоставить пользователям руководства по обновлению.

Для рабочих узлов, влияют такие брешь в системе безопасности Если исправление проблемы без простоя, команда AKS применения этого исправления и уведомить пользователей об изменении.

Если требуется исправление системы безопасности перезагружает рабочий узел, корпорация Майкрософт уведомит клиентов это требование и клиент отвечает на выполнение перезагрузки или обновления для получения исправления для их кластера. Если пользователи не применяются исправления согласно рекомендациям AKS, их кластера будут продолжать уязвимым для ошибки.

### <a name="node-maintenance-and-access"></a>Узел обслуживанием и доступом

Поскольку рабочие узлы являются ответственность и во владении клиентов, клиенты могут войти в эти рабочие процессы и выполнять потенциально опасные изменения, такие как обновления ядра, удаление пакетов и установка новых пакетов.

Если клиентам выполнять разрушительные действия или действия, которые активируют компоненты плоскости управления для перехода в автономный режим или в противном случае становятся нефункциональные, службы AKS обнаружит этот сбой и выполнять автоматическое обновление для восстановления предыдущей работающей рабочий узел состояние.

Несмотря на то, что клиенты могут войти и alter рабочих узлов, это *, не рекомендуется* так, как это может сделать кластер неподдерживаемых.

## <a name="network-ports-access-and-network-security-groups"></a>Сетевые порты, доступ и группы безопасности сети

Как это управляемая служба AKS имеет определенные требования к сети и подключения. Эти требования являются менее гибкими, чем обычные компоненты IaaS. В отличие от других компонентов IaaS определенные операции (например, Настройка правил группы безопасности сети, блокирует определенный порт, список разрешенных URL-адрес и т. д.) может отображать неподдерживаемых кластера (например, правила брандмауэра блокирует исходящий порт 443).

> [!NOTE]
> Полностью блокировки исходящего трафика (например, список разрешенных явных домена и порт) из своего кластера не является поддерживаемым сценарием AKS в данный момент. Список URL-адресов и портов может быть изменена без предупреждения и могут быть предоставлены службой поддержки Azure через запрос в службу. Предоставленный список предназначен только для клиентов, имеющих допустима, *доступность кластера может повлиять на работу в любое время.*

## <a name="alphabeta-kubernetes-features-not-supported"></a>Kubernetes альфа-/ бета-функции (не поддерживается)

AKS поддерживает только стабильные функций в пределах вышестоящего проекта Kubernetes. Альфа-/ бета-функции, доступные в Вышестоящая платформа Kubernetes не поддерживаются, если в противном случае передается и описаны.

Существует два случая, где альфа или бета-версии функции может быть распространен до общедоступной версии:

* Клиенты выполнены с AKS продукта, поддержки или инженеров и явным образом попросили попробуйте эти новые функции.
* Эти функции были [включить, используя флаг компонента] [ 2] (явные opt-in)

## <a name="preview-features--feature-flags"></a>Функции предварительной версии / флаги компонентов

Для функций, которые требуют расширенного тестирования, сообщества и обсуждения пользователями Корпорация Майкрософт выпускает новые функции предварительной версии, или функций флаг компонентов. Эти функции можно рассматривать предварительных / бета-версии того они предоставляются для предоставления пользователям возможность опробовать эти новые функции.

Тем не менее эти предварительной версии, / флаг компонента, функции не предназначены для использования в рабочей среде — API-интерфейсы, изменение поведения, исправления ошибок и другие изменения можно сделать, может привести к нестабильной работе кластеров и время простоя. Поддержка этих возможностей ограничиваться ошибку или проблему. Не включайте эти инструменты на рабочих системах или подписок.

> [!NOTE]
> Включение функции предварительной версии вступает в силу в Azure **подписки** уровень. Не устанавливайте функции предварительной версии в производственной подписке, как его можно изменить поведение по умолчанию API, влияющие на обычных операций.

## <a name="upstream-bugs-and-issues"></a>Вышестоящий ошибки и проблемы

Получает скорости разработки в высокоуровневый проект Kubernetes, существуют неизменно ошибок, которые невозможно исправить или работал вокруг в системе AKS и вместо этого требуют большего размера исправления для вышестоящего проектов (например, Kubernetes, операционные системы или на рабочем узле и ядер). Для компонентов, которые (такими как поставщик облака Azure) фиксируются сотрудники AKS и Azure, для исправления проблемы вышестоящий источник в сообществе.

Для случаев, где технической поддержки — основная причина для одной или нескольких ошибок вышестоящего поддерживают AKS и проектирование сделает следующее:

* Определение и связывание вышестоящего сообщений об ошибках с любые вспомогательные сведения о том, почему это влияет на кластере и/или рабочей нагрузки. Клиенты будут предоставлены ссылки на необходимые репозитории/проблемы для просмотра проблем и см. в разделе, когда новый выпуск Kubernetes и другие будет включать fix(es)
* Потенциальные пути обхода проблем или способы их устранения: В некоторых случаях можно решить эту проблему – в данном случае "[известная проблема](https://github.com/Azure/AKS/issues?q=is%3Aissue+is%3Aopen+label%3Aknown-issue)" будут храниться в репозитории AKS объяснением:
  * Проблема и ссылка на вышестоящий ошибок
  * Обходной путь, а также сведения, обновления или иное сохраняемости решения
  * Примерная временных шкал для включения в зависимости от вышестоящего выпускать

[1]: https://github.com/Azure/AKS/releases
[2]: https://github.com/Azure/AKS/blob/master/previews.md
[3]: https://docs.microsoft.com/azure/aks/
