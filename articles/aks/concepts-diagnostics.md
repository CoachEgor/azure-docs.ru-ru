---
title: Обзор диагностики службы Azure Kubernetes (AKS)
description: Узнайте, как самостоятельно диагностировать кластеры в службе Kubernetes Azure.
services: container-service
author: yunjchoi
ms.service: container-service
ms.topic: conceptual
ms.date: 11/04/2019
ms.author: yunjchoi
ms.openlocfilehash: 2148c6c8c9d78355847b3240b54349f1e7789921
ms.sourcegitcommit: 7221918fbe5385ceccf39dff9dd5a3817a0bd807
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/21/2020
ms.locfileid: "76291385"
---
# <a name="azure-kubernetes-service-aks-diagnostics-overview"></a>Обзор диагностики службы Azure Kubernetes (AKS)

Устранение неполадок кластера Azure Kubernetes Service (AKS) является важной частью обслуживания кластера, особенно если в кластере выполняются критически важные рабочие нагрузки. Диагностика AKS — это интеллектуальная самодиагностическая процедура, которая помогает выявление и устранение проблем в кластере. Диагностика AKS является машинным кодом в облаке, и ее можно использовать без дополнительной настройки или затрат на выставление счетов.

## <a name="open-aks-diagnostics"></a>Открыть диагностику AKS

Чтобы получить доступ к диагностике AKS:

- Перейдите к кластеру Kubernetes в [портал Azure](https://portal.azure.com).
- В области навигации слева щелкните **Диагностика и устранение проблем** , после чего откроется AKSная диагностика.
- Выберите категорию, наилучшим образом описывающую неполадку кластера, с помощью ключевых слов на плитке домашней страницы или введите ключевое слово, наиболее точно описывающее вашу ошибку на панели поиска, например _проблемы с узлом кластера_.

![Домашняя страница](./media/concepts-diagnostics/aks-diagnostics-homepage.png)

## <a name="view-a-diagnostic-report"></a>Просмотр диагностического отчета

После щелчка категории можно просмотреть диагностический отчет, относящийся к кластеру. Диагностический отчет выполняет интеллектуальный вызов при возникновении проблем в кластере со значками состояния. Можно выполнить детализацию по каждому разделу, щелкнув **Дополнительные сведения** , чтобы просмотреть подробное описание проблемы, Рекомендуемые действия, ссылки на полезные документы, связанные метрики и данные журнала. Диагностические отчеты создаются на основе текущего состояния кластера после выполнения различных проверок. Диагностические отчеты могут быть полезным средством для выявления проблемы в кластере и поиска дальнейших действий по устранению проблемы.

![Диагностический отчет](./media/concepts-diagnostics/diagnostic-report.png)

![Расширенный диагностический отчет](./media/concepts-diagnostics/node-issues.png)

## <a name="cluster-insights"></a>Аналитика кластера

В **аналитике кластера**доступны следующие диагностические проверки.

### <a name="cluster-node-issues"></a>Проблемы с узлом кластера

При возникновении проблем с узлом кластера проверяется наличие проблем, связанных с узлами, которые могут привести к непредвиденному поведению кластера.

- Проблемы готовности узла
- Сбои узлов
- Недостаточно ресурсов
- Узел с отсутствующим IP-конфигурацией
- Сбои CNI узла
- Узел не найден
- Выключение питания узла
- Сбой проверки подлинности узла
- Node KUBE — устаревший прокси-сервер

### <a name="create-read-update--delete-operations"></a>Операции создания, чтения, обновления & удаления

Операции CRUD проверяют любые операции CRUD, которые могут вызвать проблемы в кластере.

- Ошибка операции удаления используемой подсети
- Ошибка операции удаления группы безопасности сети
- Ошибка операции удаления в таблице маршрутов
- Ошибка подготовки ресурса, на который указывает ссылка
- Ошибка операции удаления общедоступного IP-адреса
- Сбой развертывания из-за квоты развертывания
- Ошибка операции из-за политики Организации
- Отсутствует регистрация подписки
- Ошибка подготовки расширения виртуальной машины
- Емкость подсети
- Ошибка превышения квоты

### <a name="identity-and-security-management"></a>Управление идентификаторами и безопасностью

Управление удостоверениями и безопасностью обнаруживает ошибки проверки подлинности и авторизации, которые могут препятствовать взаимодействию с кластером.

- Сбои авторизации узла
- ошибки 401
- Ошибки 403

## <a name="next-steps"></a>Дальнейшие действия

Собирайте журналы, чтобы упростить устранение неполадок кластера с помощью [AKS Periscope](https://aka.ms/aksperiscope).

Опубликуйте свои вопросы или отзывы в [UserVoice](https://feedback.azure.com/forums/914020-azure-kubernetes-service-aks) , добавив "[DIAG]" в заголовке.
