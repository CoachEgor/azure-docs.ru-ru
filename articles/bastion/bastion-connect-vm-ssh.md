---
title: Подключение к Linux VM с помощью Azure Bastion
description: В этой статье узнайте, как подключиться к Linux Virtual Machine с помощью Azure Bastion.
services: bastion
author: cherylmc
ms.service: bastion
ms.topic: conceptual
ms.date: 02/24/2020
ms.author: cherylmc
ms.openlocfilehash: 381f45a51002188c72174cff83c26b829912a0b9
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77596833"
---
# <a name="connect-using-ssh-to-a-linux-virtual-machine-using-azure-bastion"></a>Подключите с помощью SSH к виртуальной машине Linux с помощью Azure Bastion

В этой статье показано, как безопасно и беспрепятственно сходить на SSH для ваших Linux VMs в виртуальной сети Azure. Подключиться к VM можно непосредственно с портала Azure. При использовании Azure Bastion им. А. Для получения дополнительной информации о Azure Bastion смотрите [обзор](bastion-overview.md).

Для подключения к виртуальной машине Linux с помощью SSH можно использовать Azure Bastion. Для проверки подлинности можно использовать как имя пользователя/пароль, так и sSH-ключи. Вы можете подключиться к Вашему VM с помощью ключей SSH, используя любой из:

* Частный ключ, в который вы вводите вручную
* Файл, содержащий конфиденциальную ключевую информацию

Частный ключ SSH должен быть в `"-----BEGIN RSA PRIVATE KEY-----"` формате, который начинается и заканчивается `"-----END RSA PRIVATE KEY-----"`с .

## <a name="before-you-begin"></a>Перед началом

Убедитесь, что вы создали хост Azure Bastion для виртуальной сети, в которой находится VM. Для получения дополнительной информации [см.](bastion-create-host-portal.md) После того, как служба Bastion будет подготовлена и развернута в виртуальной сети, вы можете использовать ее для подключения к любому VM в этой виртуальной сети. 

При использовании Bastion для подключения предполагается, что для подключения к Windows VM используется RDP, а sSH — для подключения к Linux VMs. Для получения информации о подключении к Windows VM, [см.](bastion-connect-vm-rdp.md)

### <a name="required-roles"></a>Обязательные роли

Для подключения нужны такие роли:

* роль читателя на виртуальной машине;
* роль читателя на сетевом адаптере с частным IP-адресом для виртуальной машины;
* роль читателя в ресурсе Бастиона Azure.

### <a name="ports"></a>порты;

Для подключения к Linux VM через SSH, вы должны иметь следующие порты открыты на вашем VM:

* Входящий порт: SSH (22)

## <a name="connect-using-username-and-password"></a><a name="username"></a>Подключение: Использование имени пользователя и пароля

1. Откройте [портал Azure](https://portal.azure.com). Перейдите к виртуальной машине, к которую вы хотите подключиться, затем нажмите **Connect** и выберите **Бастион** из выпадения.

   ![Подключение](./media/bastion-connect-vm-ssh/connect.png)
1. После нажатия На Бастион появляется боковая панель, которая имеет три вкладки - RDP, SSH и Bastion. Если Бастион был подготовлен для виртуальной сети, вкладка Бастион активна по умолчанию. Если вы не предусмотрели Бастион для виртуальной сети, [см.](bastion-create-host-portal.md)

   ![Бастион](./media/bastion-connect-vm-ssh/bastion.png)
1. Введите имя пользователя и пароль для SSH в виртуальную машину.
1. Нажмите кнопку **Подключения** после ввода ключа.

## <a name="connect-manually-enter-a-private-key"></a><a name="privatekey"></a>Подключение: Вручную введите закрытый ключ

1. Откройте [портал Azure](https://portal.azure.com). Перейдите к виртуальной машине, к которую вы хотите подключиться, затем нажмите **Connect** и выберите **Бастион** из выпадения.

   ![Подключение](./media/bastion-connect-vm-ssh/connect.png)
1. После нажатия На Бастион появляется боковая панель, которая имеет три вкладки - RDP, SSH и Bastion. Если Бастион был подготовлен для виртуальной сети, вкладка Бастион активна по умолчанию. Если вы не предусмотрели Бастион для виртуальной сети, [см.](bastion-create-host-portal.md)

   ![Бастион](./media/bastion-connect-vm-ssh/bastion.png)
1. Введите имя пользователя и выберите **SSH Private Key.**
1. Введите свой закрытый ключ в текстовую область **SSH Private Key** (или вставьте его напрямую).
1. Нажмите кнопку **Подключения** после ввода ключа.

## <a name="connect-using-a-private-key-file"></a><a name="ssh"></a>Подключение: Использование файла закрытого ключа

1. Откройте [портал Azure](https://portal.azure.com). Перейдите к виртуальной машине, к которую вы хотите подключиться, затем нажмите **Connect** и выберите **Бастион** из выпадения.

   ![Подключение](./media/bastion-connect-vm-ssh/connect.png)
1. После нажатия На Бастион появляется боковая панель, которая имеет три вкладки - RDP, SSH и Bastion. Если Бастион был подготовлен для виртуальной сети, вкладка Бастион активна по умолчанию. Если вы не предусмотрели Бастион для виртуальной сети, [см.](bastion-create-host-portal.md)

   ![Бастион](./media/bastion-connect-vm-ssh/bastion.png)
1. Введите имя пользователя и выберите **SSH Private Key из локального файла.**
1. Нажмите кнопку **«Просмотр»** (значок папки в локальном файле).
1. Просмотрите файл, а затем нажмите **Open**.
1. Нажмите **Подключитесь** для подключения к VM. Как только вы нажмете Connect, SSH на этой виртуальной машине будет непосредственно открыт на портале Azure. Это соединение над HTML5 используя порт 443 на обслуживании Бастиона над приватным IP вашей виртуальной машины.

## <a name="next-steps"></a>Дальнейшие действия

Прочитайте [часто задаваемые вопросы «Бастион»](bastion-faq.md)
