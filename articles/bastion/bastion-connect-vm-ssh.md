---
title: Подключение к виртуальной Машине Linux с помощью Azure Бастиона | Документация Майкрософт
description: В этой статье сведения о подключении к виртуальной машине Linux с помощью Azure Бастиона.
services: bastion
author: cherylmc
ms.service: bastion
ms.topic: conceptual
ms.date: 06/03/2019
ms.author: cherylmc
ms.openlocfilehash: 572043598c71a400e154c5c2e9e6c2f1e9b4ab49
ms.sourcegitcommit: 156b313eec59ad1b5a820fabb4d0f16b602737fc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/18/2019
ms.locfileid: "67191802"
---
# <a name="connect-using-ssh-to-a-linux-virtual-machine-using-azure-bastion-preview"></a>Подключение с использованием SSH к виртуальной машине Linux с помощью Бастиона Azure (Предварительная версия)

В этой статье показано, как для безопасно и без проблем SSH для виртуальных машин Linux в виртуальной сети Azure. Подключиться к виртуальной машине можно непосредственно на портале Azure. При использовании службы "Бастион Azure" на виртуальной машине не нужно устанавливать клиенты, агенты или дополнительное программное обеспечение. Дополнительные сведения о Бастиона Azure, см. в разделе [Обзор](bastion-overview.md).

Бастиона Azure можно использовать для подключения к виртуальной машине Linux с помощью SSH. Имя пользователя и пароль и ключи SSH можно использовать для проверки подлинности. Вы можете подключиться к виртуальной Машине с помощью ключей SSH с помощью:

* Закрытый ключ, который был введен вручную
* Файл, содержащий данные закрытого ключа

Закрытый ключ SSH должен быть в формате, который начинается с `"-----BEGIN RSA PRIVATE KEY-----"` и заканчивается `"-----END RSA PRIVATE KEY-----"`.

> [!IMPORTANT]
> Эта общедоступная предварительная версия предоставляется без соглашения об уровне обслуживания и не должна использоваться для производственных рабочих нагрузок. Некоторые функции могут не поддерживаться, иметь ограничения и быть доступными не во всех расположениях Azure. См. [дополнительные условия использования для предварительных версий Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/).
>

## <a name="before-you-begin"></a>Перед началом работы

Убедитесь, что вы настроили Azure бастионом для виртуальной сети, в котором размещается виртуальная машина. Дополнительные сведения см. в разделе [создать узел-Бастион Azure](bastion-create-host-portal.md). Как только служба Бастиона подготовить и развернуть в виртуальной сети, его можно использовать для подключения к любой виртуальной Машины в этой виртуальной сети. В этой предварительной версии при использовании Бастиона для подключения, предполагается, что вы используете RDP для подключения к виртуальной Машине Windows и SSH для подключения к виртуальным машинам Linux.

Чтобы создать подключение, необходимы следующие роли:

* Роль читателя на виртуальной машине
* Роль читателя в сетевой КАРТЕ частный IP-адресом виртуальной машины
* Роль читателя в ресурсе Azure Бастиона

## <a name="username"></a>Подключение: Имя пользователя и пароль


1. В [портала Azure](https://aka.ms/BastionHost) для предварительного просмотра Бастиона, перейдите к виртуальной машине, который вы хотите подключиться к, а затем нажмите кнопку **Connect**. При использовании SSH-подключение виртуальной Машины следует виртуальной машины Linux.
1. После нажатия кнопки Connect боковой панели появится, содержит три вкладки — по протоколу RDP, SSH и Бастиона. Если Бастиона был подготовлен для виртуальной сети, по умолчанию активна вкладка Бастиона. Если вы не подготавливаете Бастиона для виртуальной сети, см. в разделе [Настройка Бастиона](bastion-create-host-portal.md). Если вы не видите **Бастиона** в списке, не открыты на портале предварительной версии. Откройте портал, используя [эту ссылку](https://aka.ms/BastionHost).

      ![Подключение виртуальной Машины](./media/bastion-connect-vm-ssh/bastion.png)

1. Введите имя пользователя и пароль для SSH к виртуальной машине.
1. Нажмите кнопку **Connect** кнопку после ввода ключа.

## <a name="privatekey"></a>Подключение: Вручную введите закрытый ключ

1. В [портала Azure](https://aka.ms/BastionHost) для предварительного просмотра Бастиона, перейдите к виртуальной машине, который вы хотите подключиться к, а затем нажмите кнопку **Connect**. При использовании SSH-подключение виртуальной Машины следует виртуальной машины Linux.
1. После нажатия кнопки Connect боковой панели появится, содержит три вкладки — по протоколу RDP, SSH и Бастиона. Если Бастиона был подготовлен для виртуальной сети, по умолчанию активна вкладка Бастиона. Если вы не подготавливаете Бастиона для виртуальной сети, см. в разделе [Настройка Бастиона](bastion-create-host-portal.md). Если вы не видите **Бастиона** в списке, не открыты на портале предварительной версии. Откройте портал, используя [эту ссылку](https://aka.ms/BastionHost).

      ![Подключение виртуальной Машины](./media/bastion-connect-vm-ssh/bastion.png)

1. Введите имя пользователя и выберите **закрытый ключ SSH**.
1. Введите ваш закрытый ключ в текстовой области **закрытый ключ SSH** (или вставить его напрямую).
1. Нажмите кнопку **Connect** кнопку после ввода ключа.

## <a name="ssh"></a>Подключение: Используя файл закрытого ключа

1. В [портала Azure](https://aka.ms/BastionHost) для предварительного просмотра Бастиона, перейдите к виртуальной машине, который вы хотите подключиться к, а затем нажмите кнопку **Connect**. При использовании SSH-подключение виртуальной Машины следует виртуальной машины Linux.

    ![Подключение виртуальной Машины](./media/bastion-connect-vm-ssh/connect.png)

1. После нажатия кнопки Connect боковой панели появится, содержит три вкладки — по протоколу RDP, SSH и Бастиона. Если Бастиона был подготовлен для виртуальной сети, по умолчанию активна вкладка Бастиона. Если вы не подготавливаете Бастиона для виртуальной сети, см. в разделе [Настройка Бастиона](bastion-create-host-portal.md). Если вы не видите **Бастиона** в списке, не открыты на портале предварительной версии. Откройте портал, используя [эту ссылку](https://aka.ms/BastionHost).

    ![Подключение виртуальной Машины](./media/bastion-connect-vm-ssh/bastion.png)

1. Введите имя пользователя и выберите **SSH закрытого ключа из локального файла**.
1. Нажмите кнопку **Обзор** (значок папки в локальном файле).
1. Перейдите к файлу, а затем нажмите кнопку **откройте**.
1. Нажмите кнопку **Connect** для подключения к виртуальной Машине. Как только вы нажмете кнопку Connect, SSH для этой виртуальной машины будет напрямую открыть на портале Azure. Это соединение установлено по HTML5 с помощью порта 443 на Бастиона службы через частный IP-адрес виртуальной машины.

## <a name="next-steps"></a>Дальнейшие действия

Чтение [Бастиона часто задаваемые вопросы](bastion-faq.md)