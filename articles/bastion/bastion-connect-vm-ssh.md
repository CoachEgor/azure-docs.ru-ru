---
title: Подключение к виртуальной машине Linux с помощью Azure бастиона | Документация Майкрософт
description: Из этой статьи вы узнаете, как подключиться к виртуальной машине Linux с помощью Azure бастиона.
services: bastion
author: cherylmc
ms.service: bastion
ms.topic: conceptual
ms.date: 10/15/2019
ms.author: cherylmc
ms.openlocfilehash: b88327ea0b5d2958cc1c86fa317415f2441af894
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73494480"
---
# <a name="connect-using-ssh-to-a-linux-virtual-machine-using-azure-bastion"></a>Подключение по протоколу SSH к виртуальной машине Linux с помощью Azure бастиона

В этой статье показано, как безопасно и легко подключаться по протоколу SSH к виртуальным машинам Linux в виртуальной сети Azure. Подключиться к виртуальной машине можно непосредственно на портале Azure. При использовании службы "Бастион Azure" на виртуальной машине не нужно устанавливать клиенты, агенты или дополнительное программное обеспечение. Дополнительные сведения об Azure бастиона см. в [обзоре](bastion-overview.md).

Вы можете использовать Azure бастиона для подключения к виртуальной машине Linux с помощью SSH. Для проверки подлинности можно использовать и имя пользователя, и пароль, и ключи SSH. Подключиться к виртуальной машине с помощью ключей SSH можно одним из следующих способов:

* Закрытый ключ, который вы вводите вручную
* Файл, содержащий сведения о закрытом ключе

Закрытый ключ SSH должен быть в формате, который начинается с `"-----BEGIN RSA PRIVATE KEY-----"` и заканчивается `"-----END RSA PRIVATE KEY-----"`.

## <a name="before-you-begin"></a>Перед началом работы

Убедитесь, что вы настроили узел бастиона Azure для виртуальной сети, в которой находится виртуальная машина. Дополнительные сведения см. в статье [Создание узла бастиона Azure](bastion-create-host-portal.md). После подготовки и развертывания службы бастиона в виртуальной сети ее можно использовать для подключения к любой виртуальной машине в этой виртуальной сети. При использовании бастиона для подключения предполагается, что вы используете RDP для подключения к виртуальной машине Windows и SSH для подключения к виртуальным машинам Linux.

Для подключения нужны такие роли:

* роль читателя на виртуальной машине;
* роль читателя на сетевом адаптере с частным IP-адресом для виртуальной машины;
* роль читателя в ресурсе Бастиона Azure.

## <a name="username"></a>Подключение: использование имени пользователя и пароля

1.   Откройте [портал Azure](https://portal.azure.com). Перейдите к виртуальной машине, к которой необходимо подключиться, и нажмите кнопку **подключить**. При использовании SSH-подключения виртуальная машина должна быть виртуальной машиной Linux.
1. После нажатия кнопки подключить появится боковая панель с тремя вкладками: RDP, SSH и бастиона. Если бастиона был подготовлен для виртуальной сети, вкладка бастиона активна по умолчанию. Если вы не подготовили бастиона для виртуальной сети, см. статью [Настройка бастиона](bastion-create-host-portal.md).

   ![Подключение ВМ](./media/bastion-connect-vm-ssh/bastion.png)
1. Введите имя пользователя и пароль для подключения SSH к виртуальной машине.
1. После ввода ключа нажмите кнопку **подключить** .

## <a name="privatekey"></a>Подключение: ввод закрытого ключа вручную

1. Откройте [портал Azure](https://portal.azure.com). Перейдите к виртуальной машине, к которой необходимо подключиться, и нажмите кнопку **подключить**. При использовании SSH-подключения виртуальная машина должна быть виртуальной машиной Linux.
1. После нажатия кнопки подключить появится боковая панель с тремя вкладками: RDP, SSH и бастиона. Если бастиона был подготовлен для виртуальной сети, вкладка бастиона активна по умолчанию. Если вы не подготовили бастиона для виртуальной сети, см. статью [Настройка бастиона](bastion-create-host-portal.md).

   ![Подключение ВМ](./media/bastion-connect-vm-ssh/bastion.png)
1. Введите имя пользователя и выберите **закрытый ключ SSH**.
1. Введите закрытый ключ в текстовое поле **закрытый ключ SSH** (или вставьте его напрямую).
1. После ввода ключа нажмите кнопку **подключить** .

## <a name="ssh"></a>Подключение: использование файла закрытого ключа

1. Откройте [портал Azure](https://portal.azure.com). Перейдите к виртуальной машине, к которой необходимо подключиться, и нажмите кнопку **подключить**. При использовании SSH-подключения виртуальная машина должна быть виртуальной машиной Linux.

   ![Подключение ВМ](./media/bastion-connect-vm-ssh/connect.png)
1. После нажатия кнопки подключить появится боковая панель с тремя вкладками: RDP, SSH и бастиона. Если бастиона был подготовлен для виртуальной сети, вкладка бастиона активна по умолчанию. Если вы не подготовили бастиона для виртуальной сети, см. статью [Настройка бастиона](bastion-create-host-portal.md).

   ![Подключение ВМ](./media/bastion-connect-vm-ssh/bastion.png)
1. Введите имя пользователя и выберите **закрытый ключ SSH из локального файла**.
1. Нажмите кнопку **обзора** (значок папки в локальном файле).
1. Найдите файл и нажмите кнопку **Открыть**.
1. Нажмите кнопку **Подключиться** , чтобы подключиться к виртуальной машине. После нажатия кнопки подключить SSH-подключение к этой виртуальной машине будет открываться непосредственно в портал Azure. Это подключение работает через HTML5 через порт 443 службы бастиона на частном IP-адресе виртуальной машины.

## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [часто задаваемыми вопросами о бастиона](bastion-faq.md)