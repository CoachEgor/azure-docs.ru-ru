---
title: Рекомендации по производительности для Azure NetApp Files | Документация Майкрософт
description: Сведения о производительности для Azure NetApp Files, включая отношения квот и ограничения пропускной способности, а также динамическое увеличение и уменьшение квоты тома.
services: azure-netapp-files
documentationcenter: ''
author: b-juche
manager: ''
editor: ''
ms.assetid: ''
ms.service: azure-netapp-files
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 06/25/2019
ms.author: b-juche
ms.openlocfilehash: 5f88b4755c7b4c0b20f27065cf9de2351251bc1c
ms.sourcegitcommit: 29400316f0c221a43aff3962d591629f0757e780
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/02/2020
ms.locfileid: "87513882"
---
# <a name="performance-considerations-for-azure-netapp-files"></a>Рекомендации по ускорению Azure NetApp Files

[Ограничение пропускной способности](azure-netapp-files-service-levels.md) для тома определяется сочетанием квоты, назначенной тому, и выбранного уровня обслуживания. При создании планов производительности, касающихся Azure NetApp Files, необходимо ознакомиться с некоторыми соображениями. 

## <a name="quota-and-throughput"></a>Квота и пропускная способность  

Ограничение пропускной способности — это только один определитель реальной производительности, который будет реализован.  

Типичные рекомендации по производительности хранилища, в том числе сочетание операций чтения и записи, размер передачи, случайные или последовательные шаблоны, а также многие другие факторы влияют на общую производительность.  

Максимальная пропускная способность, которая наблюдалась при тестировании, — 4 500 MiB/с.  На уровне хранилища уровня "Премиум" квота тома, равная 70,31 Тиб, обеспечит высокую пропускную способность, достаточную для достижения этого уровня производительности.  

Если вы планируете назначить объемы квоты тома свыше 70,31 Тиб, для хранения дополнительных данных может быть назначена дополнительная квота. Однако добавленная квота не приведет к увеличению реальной пропускной способности.  

## <a name="overprovisioning-the-volume-quota"></a>Повторная инициализация квоты тома

Если производительность рабочей нагрузки ограничена пропускной способностью, можно отменить квоту тома, чтобы задать более высокий уровень пропускной способности и повысить производительность.  

Например, если том на уровне хранилища Premium имеет только 500 гиб данных, но требует пропускной способности 128 MiB/с, можно задать для квоты значение 2 Тиб, чтобы уровень пропускной способности был установлен соответствующим образом (64 MiB/s за ТБ * 2 Тиб = 128 MiB/s).  

Если вы постоянно подготавливаете том для достижения более высокой пропускной способности, рекомендуется использовать более высокий уровень обслуживания.  В приведенном выше примере можно добиться того же ограничения пропускной способности с половиной квоты тома, используя вместо этого уровень Ultra Storage (128 MiB/s на Тиб * 1 Тиб = 128 MiB/с).

## <a name="dynamically-increasing-or-decreasing-volume-quota"></a>Динамическое увеличение или уменьшение квоты тома

Если требования к производительности являются временными, или если в течение фиксированного периода времени возрастает потребность в производительности, можно динамически увеличить или уменьшить квоту тома, чтобы мгновенно настроить ограничение пропускной способности.  Обратите внимание на следующие моменты: 

* Квота тома может быть увеличена или уменьшена без необходимости приостановки операций ввода-вывода, а доступ к тому не прерывается или не затронут.  

    Квоту можно настроить во время активной транзакции ввода-вывода на томе.  Обратите внимание, что квота тома не может быть снижена ниже объема логических данных, хранящихся в томе.

* При изменении квоты тома соответствующее изменение ограничения пропускной способности практически мгновенно. 

    Изменение не прерывает или не влияет на доступ к тому или на операции ввода-вывода.  

* Для регулировки квоты тома требуется изменение размера пула мощностей.  

    Размер пула емкости можно настроить динамически и без влияния на доступность или операции ввода-вывода.

## <a name="next-steps"></a>Дальнейшие действия

- [Уровни обслуживания для Azure NetApp Files](azure-netapp-files-service-levels.md)
- [Тесты производительности для Linux](performance-benchmarks-linux.md)