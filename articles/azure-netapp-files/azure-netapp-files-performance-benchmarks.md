---
title: Показатели производительности для службы файлов Azure NetApp | Документация Майкрософт
description: Описывает результаты тестов производительности производительности для NetApp службы файлов Azure на уровне тома.
services: azure-netapp-files
documentationcenter: ''
author: b-juche
manager: ''
editor: ''
ms.assetid: ''
ms.service: azure-netapp-files
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 04/22/2019
ms.author: b-juche
ms.openlocfilehash: aca0668fc364518fe45d9fe94d089ee366b25676
ms.sourcegitcommit: e7d4881105ef17e6f10e8e11043a31262cfcf3b7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2019
ms.locfileid: "64870887"
---
# <a name="performance-benchmarks-for-azure-netapp-files"></a>Показатели производительности для службы файлов Azure NetApp

Этой статье описываются результаты тестов производительности производительности для NetApp службы файлов Azure на уровне тома. 

## <a name="sample-application-used-for-the-tests"></a>Пример приложения, используемого для тестов

С помощью примера приложения, использующих службу файлов Azure NetApp выполнялись тесты производительности. Приложение имеет следующие характеристики: 

* Приложение под управлением Linux, предназначенных для облака
* Можно линейно зависеть от добавленных виртуальных машин (ВМ) для повышения вычислительной мощности, при необходимости
* Требуется быстрая доступность data lake
* Содержит шаблоны ввода-вывода, которые иногда находятся иногда последовательных и случайных 
    * Шаблон случайных требует низкой задержкой для большого количества операций ввода-вывода. 
    * Шаблон последовательного требует большого объема пропускной способности. 

## <a name="about-the-workload-generator"></a>О генератор рабочей нагрузки

Результаты поступают из файлов сводных Vdbench. [Vdbench](https://www.oracle.com/technetwork/server-storage/vdbench-downloads-1901681.html) — это программа командной строки, которая создает рабочих нагрузок дискового ввода-вывода для проверки производительности хранилища. Клиент сервер конфигурацию, используемую масштабируется.  Он включает один смешанной master/клиент и 14 выделенные клиентские виртуальные машины.

## <a name="about-the-tests"></a>О тестах

Тесты предназначены для определения ограничения, которые могут иметь пример приложения и время отклика, кривых в установленных пределах.  

Выполнялись следующие тесты: 

* Чтение 8 Киб случайный 100%
* 100% 8 произвольной записи Киб
* Чтение 100% последовательные 64 Киб
* 100% 64 Киб последовательной записи
* 50% 64 Киб последовательного чтения, 50% 64 Киб последовательной записи
* Чтение 8 Киб случайных 50%, 50% 8 произвольной записи Киб

## <a name="bandwidth"></a>Пропускная способность

Служба файлов Azure NetApp предоставляет несколько [уровней обслуживания](azure-netapp-files-service-levels.md). Каждый уровень службы предлагает различный объем пропускной способности сети / Тиб подготовленной емкости (квота на количество). Ограничение пропускной способности для тома подготавливается на основе сочетания уровня обслуживания и квота на количество. Обратите внимание, что ограничение пропускной способности только один фактор при определении фактический объем пропускной способности, которая будет обеспечиваться.  

В настоящее время 4500 MiB является наивысшей производительности, что выполнено рабочую нагрузку для одного тома в тестировании.  С помощью уровня обслуживания "премиум" Квота на количество из 70.31 Тиб будет подготовить пропускную способность для реализации этой пропускная способность для каждого вычисления ниже: 

![Формула пропускной способности](../media/azure-netapp-files/azure-netapp-files-bandwidth-formula.png)

![Квоты и уровня обслуживания](../media/azure-netapp-files/azure-netapp-files-quota-service-level.png)

## <a name="throughput-intensive-workloads"></a>Рабочие нагрузки с интенсивным использованием пропускной способности

Тест пропускной способности используется Vdbench и сочетание 12xD32s V3 хранилища виртуальных машин. Пример тома в тесте удалось добиться следующие номера пропускной способности.

![Тест пропускной способности](../media/azure-netapp-files/azure-netapp-files-throughput-test.png)

## <a name="io-intensive-workloads"></a>Рабочие нагрузки ввода-вывода

Операций ввода-вывода тестировании применялась Vdbench и сочетание 12xD32s V3 хранилища виртуальных машин. Пример тома в тесте удалось добиться следующих чисел ввода/вывода.

![Операций ввода-вывода тестов](../media/azure-netapp-files/azure-netapp-files-io-test.png)

## <a name="latency"></a>Latency

Расстояние между тестовых виртуальных машин и тома службы файлов Azure NetApp оказывает влияние на производительность операций ввода-вывода.  На представленной ниже диаграмме сравниваются операций ввода-ВЫВОДА и кривые задержки ответа для двух разных наборов виртуальных машин.  Один набор виртуальных машин приближается к службе файлов Azure NetApp и другой — дальнейшие немедленно.  Обратите внимание на то, что повышенная задержка для дальнейшего набор виртуальных машин оказывает влияние на объем операций ввода-ВЫВОДА, реализовать на данном уровне параллелизма.  В любом случае операций чтения в томе может превышать 300 000 операций ввода-ВЫВОДА, как показано ниже: 

![Пример использования задержки](../media/azure-netapp-files/azure-netapp-files-latency-study.png)

## <a name="summary"></a>Сводка

Рабочих нагрузок с небольшими задержками (баз данных) может иметь один раз ответ миллисекунды. Производительность транзакций может быть более чем 300 тысяч операций ввода-ВЫВОДА для одного тома.

Приложений, чувствительных к пропускной способности (для потоковой передачи и работы с образами) может иметь 4.5GiB / с пропускной способностью прибл.
