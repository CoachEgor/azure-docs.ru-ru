---
title: Модель данных для диагностических событий azure Backup
description: Эта модель данных отсылает к ресурсо-специфическому режиму отправки диагностических событий в Log Analytics (LA).
ms.topic: conceptual
ms.date: 10/30/2019
ms.openlocfilehash: 267753ee1647739e36d92b64f50d8a8be87537d9
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77583390"
---
# <a name="data-model-for-azure-backup-diagnostics-events"></a>Модель данных для событий диагностики резервного копирования Azure

## <a name="coreazurebackup"></a>CoreAzureBackup

В этой таблице содержится информация о основных объектах резервного копирования, таких как хранилища и элементы резервного копирования.

| **Поле**                         | **Тип данных** | **Описание**                                              |
| --------------------------------- | ------------- | ------------------------------------------------------------ |
| ResourceId                        | Text          | Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища восстановления служб. |
| OperationName                     | Text          | Это поле представляет название текущей операции - BackupItem, BackupItemAssociation или ProtectedContainer. |
| Категория                          | Text          | Это поле представляет собой категорию диагностических данных, отодвинутых в журналы Azure Monitor. Например, CoreAzureBackup. |
| AgentVersion                      | Text          | Номер версии резервного копирования агента или агента защиты (в случае SC DPM и MABS) |
| AzureBackupAgentVersion           | Text          | Версия агента резервного копирования Azure на сервере управления резервным копированием |
| AzureDataCenter                   | Text          | Центр обработки данных, где находится хранилище                       |
| BackupItemAppVersion              | Text          | Версия приложения элемента резервного копирования                       |
| BackupItemFriendlyName            | Text          | Дружественное название элемента резервного копирования                             |
| BackupItemName                    | Text          | Имя элемента резервного копирования                                      |
| Резервное копированиеЗащитагосударства         | Text          | Состояние защиты элемента резервного копирования                          |
| BackupItemFrontEndSize            | Text          | Передний конец размера элемента резервного копирования                            |
| BackupItemType                    | Text          | Тип элемента резервного копирования. Например: VM, FileFolder             |
| BackupItemUniqueId                | Text          | Уникальный идентификатор архивируемого элемента                         |
| Резервное копированиеManagementServerType        | Text          | Тип сервера управления резервным копированием, как в MABS, SC DPM     |
| Резервное копированиеМенеджментЕсууникальныйии    | Text          | Поле для уникальной идентификации сервера управления резервным копированием      |
| BackupManagementType              | Text          | Тип поставщика для сервера, выполняя работу по резервному копированию. Например, IaaSVM, FileFolder |
| Резервное копированиеManagementServerName        | Text          | Название сервера управления резервным копированием                         |
| Резервное копированиеУправлениеServerOSVersion   | Text          | Версия управления резервным копированием                   |
| Резервное копированиеManagementServerVersion     | Text          | Версия сервера управления резервным копированием                      |
| ПоследнееВосстановлениеПойнтЛокация       | Text          | Расположение последней точки восстановления для элемента резервного копирования    |
| LatestRecoveryPointTime           | Дата и время      | Время датирования последней точки восстановления для элемента резервного копирования   |
| СтарейшееВосстановлениеПойнтЛокация       | Text          | Расположение самой старой точки восстановления для элемента резервного копирования    |
| СтарейшийВосстановлениеПойнтТайм           | Дата и время      | Время датирования последней точки восстановления для элемента резервного копирования   |
| PolicyUniqueId                    | Text          | Уникальный идентификатор для определения политики                             |
| ЗащищенныйконтейнерДружелюбныеИмена    | Text          | Дружественное имя защищенного сервера                        |
| ЗащищенныйКонтейнерЛокация        | Text          | Находится ли защищенный контейнер в помещениях или в Azure |
| ЗащищенныйконтейнерНамик            | Text          | Название защищенного контейнера                            |
| ЗащищенныйконтейнерОСТип          | Text          | Тип защищенного контейнера ОС                          |
| ЗащищенныйКонтейнерОСВерсия       | Text          | Версия защищенного контейнера Для ОС                        |
| ЗащищенныйконтейнерПротексГосударство | Text          | Состояние защиты защищенного контейнера                  |
| ЗащищенныйконтейнерТип            | Text          | Является ли защищенный контейнер сервером или контейнером  |
| ЗащищенныйКонтейнерУникальныйId        | Text          | Уникальный идентификатор, используемый для идентификации защищенного контейнера для всего, кроме ВМ, резервного копирования с помощью DPM, MABS |
| ЗащищенныйконтейнерWorkloadType    | Text          | Тип защищенного контейнера резервного копирования. Например, IaaSVMContainer |
| ProtectionGroupName               | Text          | Название группы защиты, в каком элементе резервного копирования защищено, для SC DPM и MABS, если это применимо |
| ResourceGroupName                 | Text          | Группа ресурсов ресурса (например, хранилище служб восстановления) для сбора данных |
| schemaVersion                     | Text          | Это поле обозначает текущую версию схемы, это **V2** |
| ВторичноеBackupProtectionStateГосударство    | Text          | Включена ли вторая защита для элемента резервного копирования  |
| Штат                             | Text          | Состояние объекта элемента резервного копирования. Например, Активный, Удаленный |
| StorageReplicationType            | Text          | Тип репликации хранилища для хранилища. Например, GeoRedundant |
| SubscriptionId                    | Text          | Идентификатор подписки ресурса (например, хранилище служб восстановления), для которого собираются данные |
| Vaultname                         | Text          | Имя хранилища                                            |
| VaultTags                         | Text          | Теги, связанные с ресурсом хранилища                    |
| VaultUniqueId                     | Text          | Уникальный идентификатор хранилища                             |
| SourceSystem                      | Text          | Исходная система текущих данных - Azure                  |

## <a name="addonazurebackupalerts"></a>АддоназуреРепаупОконс

Эта таблица содержит сведения о полях, связанных с предупреждением.

| **Поле**                      | **Тип данных** | **Описание**                                              |
| :----------------------------- | ------------- | ------------------------------------------------------------ |
| ResourceId                     | Text          | Уникальный идентификатор для ресурса, по которому собираются данные. Например, идентификатор ресурса хранилища восстановления служб |
| OperationName                  | Text          | Название текущей операции. Например, оповещение            |
| Категория                       | Text          | Категория данных диагностики, отодвинутых в журналы Azure Monitor - AddonAzureBackupAlerts |
| AlertCode                      | Text          | Код для однозначного определения типа оповещения                     |
| AlertConsolidationStatus       | Text          | Определить, является ли оповещение консолидированным оповещение или нет         |
| AlertOccurrenceDateTime        | Дата и время      | Дата и время создания оповещения                     |
| AlertRaisedon                  | Text          | Тип сущности, на который поднято оповещение                        |
| AlertSeverity                  | Text          | Серьезность оповещения. Например, критические                 |
| AlertStatus                    | Text          | Состояние оповещения. Например, Active                     |
| AlerttimeToResolveInMinutes    | Number        | Время, задействовававено на устранение оповещения. Пустой для активных оповещений.     |
| AlertType                      | Text          | Тип оповещения. Например, резервное копирование                           |
| AlertUniqueId                  | Text          | Уникальный идентификатор генерируемого оповещения                    |
| BackupItemUniqueId             | Text          | Уникальный идентификатор элемента резервного копирования, связанный с оповещением |
| Резервное копированиеМенеджментЕсууникальныйии | Text          | Поле для однозначной идентификации сервера управления резервным копированием Элемент резервного копирования защищен, если это применимо |
| BackupManagementType           | Text          | Тип поставщика для сервера, выполняющего работу резервного копирования, например, IaaSVM, FileFolder |
| CountOfAlertsконсолидированный      | Number        | Количество предупреждений, консолидированных, если это консолидированное оповещение  |
| ЗащищенныйКонтейнерУникальныйId     | Text          | Уникальный идентификатор защищенного сервера, связанного с оповещением |
| РекомендуемаяАкция              | Text          | Действия, рекомендованные для устранения оповещения                      |
| schemaVersion                  | Text          | Текущая версия схемы, например **V2**            |
| Штат                          | Text          | Текущее состояние объекта предупреждения, например "Активный" или "Удален" |
| ХранениеUniqueИиИии                | Text          | Уникальный идентификатор, используемый для идентификации объекта хранения данных                |
| VaultUniqueId                  | Text          | Уникальный идентификатор, используемый для идентификации хранилища, связанного с оповещением    |
| SourceSystem                   | Text          | Исходная система текущих данных (Azure)                    |

## <a name="addonazurebackupprotectedinstance"></a>АддоназурЕБэкапЗащищенныйInstance

В этой таблице приведены основные защищенные поля, связанные с экземплярами.

| **Поле**                      | **Тип данных** | **Описание**                                              |
| ------------------------------ | ------------- | ------------------------------------------------------------ |
| ResourceId                     | Text          | Уникальный идентификатор для ресурса, о котором собираются данные. Например, идентификатор ресурса хранилища восстановления служб |
| OperationName                  | Text          | Название операции, например ЗащищенныйInstance         |
| Категория                       | Text          | Категория данных диагностики, отодвинутых на мониторинг журналов Azure Monitor - AddonAzureBackupProtectedInstance |
| BackupItemUniqueId             | Text          | Уникальный идентификатор элемента резервного копирования                                 |
| Резервное копированиеМенеджментЕсууникальныйии | Text          | Поле для однозначной идентификации сервера управления резервным копированием Элемент резервного копирования защищен, если это применимо |
| BackupManagementType           | Text          | Тип поставщика для сервера, выполняющего работу резервного копирования, например, IaaSVM, FileFolder |
| ЗащищенныйКонтейнерУникальныйId     | Text          | Уникальный идентификатор для определения защищенного контейнера, на который работает задание |
| ЗащищенныйInstanceCount         | Text          | Подсчет защищенных инстанций для связанного элемента резервного копирования или защищенного контейнера в этот момент даты |
| schemaVersion                  | Text          | Текущая версия схемы, например **V2**            |
| Штат                          | Text          | Состояние объекта элемента резервного копирования, например, Active, Deleted |
| VaultUniqueId                  | Text          | Уникальный идентификатор защищенного хранилища, связанный с защищенным экземпляром |
| SourceSystem                   | Text          | Исходная система текущих данных (Azure)                    |

## <a name="addonazurebackupjobs"></a>АддоназурЕБэкапДжобс

Эта таблица содержит сведения о полях, связанных с заданием.

| **Поле**                      | **Тип данных** | **Описание**                                              |
| ------------------------------ | ------------- | ------------------------------------------------------------ |
| ResourceId                     | Text          | Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища «Восстановление служб» |
| OperationName                  | Text          | Имя текущей операции (Job)    |
| Категория                       | Text          | Это поле представляет собой категорию диагностических данных, отодвинутых в журналы Azure Monitor - AddonAzureBackupJobs |
| АдхокорПланконная работа            | Text          | Поле для указания, является ли задание Ad Hoc или запланировано           |
| BackupItemUniqueId             | Text          | Уникальный идентификатор, используемый для идентификации элемента резервного копирования, связанного с сущностью хранилища |
| Резервное копированиеМенеджментЕсууникальныйии | Text          | Уникальный идентификатор, используемый для идентификации сервера управления резервным копированием, связанного с сущностью хранилища |
| BackupManagementType           | Text          | Тип поставщика для выполнения резервного копирования, например, IaaSVM, FileFolder, которому принадлежит это оповещение |
| ДанныеПеренесенныеInMB            | Number        | Переданные данные (в МБ) для этого задания                          |
| JobDurationInSecs              | Number        | Общая длительность задания в секундах                                |
| JobFailureCode                 | Text          | Строка кода ошибки, из-за которой произошел сбой задания    |
| JobOperation                   | Text          | Операция, для выполнения которой, например, резервное копирование, восстановление, настройка резервного копирования |
| JobOperationSubType            | Text          | Подтип операции "Работа". Например, 'Log', в случае работы резервного копирования журнала |
| JobStartDateTime               | Дата и время      | Дата и время начала выполнения задания                       |
| JobStatus                      | Text          | Состояние завершенного задания, например "Завершено" или "Ошибка"   |
| JobUniqueId                    | Text          | Уникальный идентификатор для идентификации задания                                |
| ЗащищенныйКонтейнерУникальныйId     | Text          | Уникальный идентификатор защищенного сервера, связанного с оповещением |
| ВосстановлениеНаправление         | Text          | Назначение задания восстановления, где данные восстанавливаются   |
| ВосстановлениеДжорпДатит          | Дата и время      | Дата, время создания точки восстановления, которая восстанавливается, |
| ВосстановлениеРаботаЛокация            | Text          | Место, где хранилась точка восстановления, которая восстанавливается |
| ВосстановлениеЛокацияТип           | Text          | Тип местоположения восстановления                                |
| schemaVersion                  | Text          | Текущая версия схемы, например **V2**            |
| Штат                          | Text          | Текущее состояние объекта оповещения, например, Active, Deleted |
| VaultUniqueId                  | Text          | Уникальный идентификатор защищенного хранилища, связанный с оповещением |
| SourceSystem                   | Text          | Исходная система текущих данных (Azure)                    |

## <a name="addonazurebackuppolicy"></a>АддоназурЕБэкПолитики

Эта таблица содержит сведения о полях, связанных с политикой.

| **Поле**                       | **Тип данных**  | **Описание**                                              |
| ------------------------------- | -------------- | ------------------------------------------------------------ |
| ResourceId                      | Text           | Уникальный идентификатор для ресурса, о котором собираются данные. Например, идентификатор ресурса хранилища восстановления служб |
| OperationName                   | Text           | Название операции, например, Политика или ПолитикаАссоциация |
| Категория                        | Text           | Категория диагностических данных, отодвинутых на мониторинг журналов Azure Monitor - AddonAzureBackupPolicy |
| BackupDaysOfTheWeek             | Text           | Дни недели, на которые запланированы задания архивации            |
| BackupFrequency                 | Text           | Частота выполнения резервных копирований. Например, ежедневно, еженедельно |
| BackupManagementType            | Text           | Тип поставщика для сервера, выполняя работу по резервному копированию. Например, IaaSVM, FileFolder |
| Резервное копированиеМенеджментЕсууникальныйии  | Text           | Поле для однозначной идентификации сервера управления резервным копированием Элемент резервного копирования защищен, если это применимо |
| BackupTimes                     | Text           | Дата и время запланированной архивации                     |
| DailyRetentionDuration          | Whole Number   | Общая длительность хранения (в днях) для настроенных резервных копий      |
| DailyRetentionTimes             | Text           | Дата и время настройки ежедневного сохранения            |
| DiffBackupDaysOfTheWeek         | Text           | Дни недели для резервного копирования дифференциальных данных для S'L в резервном копировании Azure VM |
| ДиффБэкапФормат                | Text           | Формат для дифференциальных резервных копирований для S'L в резервном копировании Azure VM   |
| ДиффБэкапУкацияДлительно     | Десятичное число | Продолжительность хранения для резервного копирования дифференциалов для S'L в резервном копировании Azure VM |
| DiffBackupTime                  | Time           | Время для дифференциальных резервных копирований для S'L в резервном копировании Azure VM     |
| LogBackupЧастота              | Десятичное число | Частота резервного копирования журнала для S'L                            |
| LogBackupRetentionDuration      | Десятичное число | Продолжительность хранения резервных копий журнала для S'L в резервном копировании Azure VM |
| MonthlyRetentionDaysOfTheMonth  | Text           | Недели месяца, когда настраивается ежемесячное удержание.  Например, First, Last и т.д. |
| MonthlyRetentionDaysOfTheWeek   | Text           | Дни недели, выбранные для ежемесячного хранения              |
| MonthlyRetentionDuration        | Text           | Общая длительность хранения (в месяцах) для настроенных резервных копий    |
| MonthlyRetentionFormat          | Text           | Тип конфигурации для ежемесячного удержания. Например, ежедневно в течение дня, еженедельно в течение недели на основе |
| MonthlyRetentionTimes           | Text           | Дата и время настройки ежемесячного хранения           |
| MonthlyRetentionWeeksOfTheMonth | Text           | Недели месяца, когда настраивается ежемесячное удержание.   Например, First, Last и т.д. |
| PolicyName                      | Text           | Указанное имя политики                                   |
| PolicyUniqueId                  | Text           | Уникальный идентификатор для определения политики                             |
| ПолитикаTime'one                  | Text           | Временной пояс, в котором поля времени политики указаны в журналах |
| УдержаниеПродолжительностная               | Text           | Длительность хранения настроенных резервных копий                    |
| RetentionType                   | Text           | Тип удержания                                            |
| schemaVersion                   | Text           | Это поле обозначает текущую версию схемы, это **V2** |
| Штат                           | Text           | Текущее состояние объекта политики. Например, Активный, Удаленный |
| СинхронизацияЧастотаPerDay  | Whole Number   | Количество раз в день синхронизация резервного копирования файлов для SC DPM и MABS |
| VaultUniqueId                   | Text           | Уникальный идентификатор хранилища, к которому принадлежит эта политика          |
| WeeklyRetentionDaysOfTheWeek    | Text           | Дни недели, выбранные для еженедельного хранения               |
| WeeklyRetentionDuration         | Десятичное число | Общая недельная продолжительность хранения в неделях для настроенных резервных копирований |
| WeeklyRetentionTimes            | Text           | Дата и время настройки еженедельного хранения            |
| YearlyRetentionDaysOfTheMonth   | Text           | Дни месяца, выбранные для ежегодного хранения             |
| YearlyRetentionDaysOfTheWeek    | Text           | Дни недели, выбранные для ежегодного хранения               |
| YearlyRetentionDuration         | Десятичное число | Общая длительность хранения (в годах) для настроенных резервных копий     |
| YearlyRetentionFormat           | Text           | Тип конфигурации для ежегодного удержания, например, ежедневно в течение дня на основе, еженедельно в течение недели на основе |
| YearlyRetentionMonthsOfTheYear  | Text           | Месяцы года, выбранные для ежегодного хранения             |
| YearlyRetentionTimes            | Text           | Дата и время настройки ежегодного хранения            |
| YearlyRetentionWeeksOfTheMonth  | Text           | Недели месяца, выбранные для ежегодного удержания             |
| SourceSystem                    | Text           | Исходная система текущих данных (Azure)                    |

## <a name="addonazurebackupstorage"></a>АддоназуреРеАусХранение

Эта таблица содержит сведения о полях, связанных с хранилищем.

| **Поле**                      | **Тип данных** | **Описание**                                              |
| ------------------------------ | ------------- | ------------------------------------------------------------ |
| ResourceId                     | Text          | Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища «Восстановление служб» |
| OperationName                  | Text          | Это поле представляет название текущей операции - Хранение или хранениеАссоциация |
| Категория                       | Text          | Это поле представляет собой категорию диагностических данных, отодвинутых в журналы Azure Monitor - AddonAzureBackupStorage |
| BackupItemUniqueId             | Text          | Уникальный идентификатор, используемый для идентификации элемента резервного копирования для вс-карт, резервного копирования с помощью DPM, MABS |
| Резервное копированиеМенеджментЕсууникальныйии | Text          | Поле для однозначной идентификации сервера управления резервным копированием Элемент резервного копирования защищен, если это применимо |
| BackupManagementType           | Text          | Тип поставщика для сервера, выполняя работу по резервному копированию. Например, IaaSVM, FileFolder |
| ПредпочтительнаярабочаянагрузкаТом      | Text          | Рабочая нагрузка, для которой этот объем является предпочтительным хранилищем      |
| ЗащищенныйКонтейнерУникальныйId     | Text          | Уникальный идентификатор защищенного сервера, связанного с оповещением |
| schemaVersion                  | Text          | Версия схемы. Например, **V2**                   |
| Штат                          | Text          | Состояние объекта элемента резервного копирования. Например, Активный, Удаленный |
| Хранениераспределенныеми          | Number        | Размер хранилища, выделенного соответствующим элементом резервного копирования в соответствующем хранилище типа Disk |
| ХранениеПонущinелаInMBs           | Number        | Размер хранилища, потребляемого соответствующим элементом резервного копирования в соответствующем хранилище |
| StorageName                    | Text          | Наименование объекта хранения. Например, E:»                      |
| ХранениеTotalsizeingbs          | Text          | Общий размер хранилища в ГБ, потребляемый системой хранения     |
| StorageType                    | Text          | Тип хранения, например облако, объем, диск             |
| ХранениеUniqueИиИии                | Text          | Уникальный идентификатор, используемый для идентификации объекта хранения данных                |
| VaultUniqueId                  | Text          | Уникальный идентификатор, используемый для идентификации хранилища, связанного с объектом хранения |
| VolumeFriendlyName             | Text          | Дружественное название объема хранилища                          |
| SourceSystem                   | Text          | Исходная система текущих данных (Azure)                    |

## <a name="next-steps"></a>Дальнейшие действия

- [Узнайте, как отправить данные о диагностике в журнал Analytics](https://docs.microsoft.com/azure/backup/backup-azure-diagnostic-events)
- [Узнайте, как писать запросы в конкретных таблицах Ресурсов](https://docs.microsoft.com/azure/backup/backup-azure-monitoring-use-azuremonitor#sample-kusto-queries)