---
title: Модель данных для событий диагностики Azure Backup
description: Эта модель данных является ссылкой на режим, относящийся к ресурсу, для отправки диагностических событий в Log Analytics (LA).
ms.topic: conceptual
ms.date: 10/30/2019
ms.openlocfilehash: af1e4159ff2794f8d4dd11480eb7f1789e034c06
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "84484505"
---
# <a name="data-model-for-azure-backup-diagnostics-events"></a>Модель данных для событий диагностики Azure Backup

## <a name="coreazurebackup"></a>кореазуребаккуп

Эта таблица содержит сведения о базовых сущностях резервного копирования, таких как хранилища и элементы резервного копирования.

| **Поле**                         | **Тип данных** | **Описание**                                              |
| --------------------------------- | ------------- | ------------------------------------------------------------ |
| ResourceId                        | текст          | Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища служб восстановления. |
| OperationName                     | Text          | Это поле представляет имя текущей операции — Баккупитем, БаккупитемассоЦиатион или Протектедконтаинер. |
| Категория                          | Text          | Это поле представляет категорию диагностических данных, отправленных в журналы Azure Monitor. Например, Кореазуребаккуп. |
| AgentVersion                      | Text          | Номер версии агента резервного копирования или агента защиты (в случае с SC DPM и MABS) |
| AzureBackupAgentVersion           | Text          | Версия агента Azure Backup на сервере управления резервным копированием |
| AzureDataCenter                   | Text          | Центр обработки данных, в котором расположено хранилище                       |
| баккупитемаппверсион              | Text          | Версия приложения для элемента резервного копирования                       |
| BackupItemFriendlyName            | Text          | Понятное имя элемента архивации                             |
| BackupItemName                    | Text          | Имя элемента резервного копирования                                      |
| баккупитемпротектионстате         | Text          | Состояние защиты элемента резервного копирования                          |
| баккупитемфронтендсизе            | Text          | Внешний размер элемента резервного копирования                            |
| BackupItemType                    | Text          | Тип элемента резервного копирования. Например: VM, FileFolder             |
| баккупитемуникуеид                | Text          | Уникальный идентификатор архивируемого элемента                         |
| баккупманажементсервертипе        | Text          | Тип сервера управления архивацией, как в MABS, SC DPM     |
| баккупманажементсерверуникуеид    | Text          | Поле для уникальной идентификации сервера управления резервным копированием      |
| BackupManagementType              | Text          | Тип поставщика для сервера, выполняющего задание резервного копирования. Например, IaaSVM, FileFolder |
| баккупманажементсервернаме        | Text          | Имя сервера управления резервным копированием                         |
| баккупманажементсерверосверсион   | Text          | Версия ОС для сервера управления резервным копированием                   |
| баккупманажементсерверверсион     | Text          | Версия сервера управления резервным копированием                      |
| латестрековерипоинтлокатион       | текст          | Расположение самой новой точки восстановления для элемента резервного копирования    |
| латестрековерипоинттиме           | Дата и время      | Дата и время самой новой точки восстановления для элемента резервного копирования   |
| олдестрековерипоинтлокатион       | Text          | Расположение самой старой точки восстановления для элемента резервного копирования    |
| олдестрековерипоинттиме           | Дата и время      | Дата и время самой новой точки восстановления для элемента резервного копирования   |
| PolicyUniqueId                    | Text          | Уникальный идентификатор для политики                             |
| протектедконтаинерфриендлинаме    | Text          | Понятное имя защищенного сервера                        |
| протектедконтаинерлокатион        | Text          | Находится ли защищенный контейнер в локальной среде или в Azure |
| протектедконтаинернаме            | Text          | Имя защищенного контейнера                            |
| протектедконтаинеростипе          | Text          | Тип ОС защищенного контейнера                          |
| протектедконтаинеросверсион       | Text          | Версия ОС защищенного контейнера                        |
| протектедконтаинерпротектионстате | Text          | Состояние защиты для защищенного контейнера                  |
| протектедконтаинертипе            | Text          | Указывает, является ли защищенный контейнер сервером или контейнером  |
| протектедконтаинеруникуеид        | Text          | Уникальный идентификатор, используемый для идентификации защищенного контейнера для всего, кроме виртуальных машин, резервное копирование которых осуществлялось с помощью DPM, MABS |
| протектедконтаинерворклоадтипе    | Text          | Тип защищенного контейнера, резервная копия которого была создана. Например, IaaSVMContainer |
| ProtectionGroupName               | Text          | Имя группы защиты, в которой защищен элемент резервного копирования, для SC DPM и MABS, если применимо |
| ResourceGroupName                 | Text          | Группа ресурсов ресурса (например, хранилище служб восстановления) для собираемых данных |
| schemaVersion                     | Text          | Это поле обозначает текущую версию схемы, то есть **v2** |
| секондарибаккуппротектионстате    | Text          | Включена ли дополнительная защита для элемента резервного копирования  |
| Область                             | Text          | Состояние объекта резервного элемента. Например, "Активный" или "Удален" |
| StorageReplicationType            | Text          | Тип репликации хранилища для хранилища. Например, геоизбыточность |
| SubscriptionId                    | текст          | Идентификатор подписки ресурса (например, хранилище служб восстановления), для которого собираются данные |
| Vaultname                         | текст          | Имя хранилища                                            |
| VaultTags                         | Text          | Теги, связанные с ресурсом хранилища                    |
| ваултуникуеид                     | Text          | Уникальный идентификатор хранилища                             |
| SourceSystem                      | Text          | Исходная система текущих данных — Azure                  |

## <a name="addonazurebackupalerts"></a>аддоназуребаккупалертс

Эта таблица содержит сведения о полях, связанных с предупреждением.

| **Поле**                      | **Тип данных** | **Описание**                                              |
| :----------------------------- | ------------- | ------------------------------------------------------------ |
| ResourceId                     | Text          | Уникальный идентификатор для ресурса, по которому собираются данные. Например, идентификатор ресурса хранилища служб восстановления |
| OperationName                  | Text          | Имя текущей операции. Например, Alert            |
| Категория                       | Text          | Категория диагностических данных, отправленных в журналы Azure Monitor — Аддоназуребаккупалертс |
| алерткоде                      | Text          | Код для уникальной идентификации типа оповещения                     |
| алертконсолидатионстатус       | Text          | Определяет, является ли оповещение консолидированным         |
| алертоккурренцедатетиме        | Дата и время      | Дата и время создания оповещения                     |
| алертраиседон                  | Text          | Тип сущности, для которой выдается оповещение                        |
| AlertSeverity                  | Text          | Серьезность оповещения. Например, критические                 |
| AlertStatus                    | Text          | Состояние предупреждения. Например, Active                     |
| алерттиметоресолвеинминутес    | Number        | Время, затраченное на разрешение оповещения. Пустое значение для активных оповещений     |
| AlertType                      | Text          | Тип оповещения. Например, Backup                           |
| AlertUniqueId                  | Text          | Уникальный идентификатор созданного предупреждения                    |
| баккупитемуникуеид             | Text          | Уникальный идентификатор элемента резервной копии, связанного с предупреждением |
| баккупманажементсерверуникуеид | Text          | Поле для уникальной идентификации сервера управления архивацией, с которым защищен элемент резервного копирования, если применимо |
| BackupManagementType           | Text          | Тип поставщика для сервера, выполняющего задание резервного копирования, например IaaSVM, FileFolder |
| каунтофалертсконсолидатед      | number        | Число консолидированных оповещений, если это консолидированное оповещение  |
| протектедконтаинеруникуеид     | Text          | Уникальный идентификатор защищенного сервера, связанного с предупреждением |
| рекоммендедактион              | Text          | Рекомендованное действие для разрешения оповещения                      |
| schemaVersion                  | Text          | Текущая версия схемы, например **V2**            |
| Область                          | Text          | Текущее состояние объекта предупреждения, например "Активный" или "Удален" |
| сторажеуникуеид                | Text          | Уникальный идентификатор для сущности хранилища                |
| ваултуникуеид                  | Text          | Уникальный идентификатор, используемый для идентификации хранилища, связанного с предупреждением    |
| SourceSystem                   | Text          | Исходная система текущих данных (Azure)                    |

## <a name="addonazurebackupprotectedinstance"></a>аддоназуребаккуппротектединстанце

Эта таблица содержит основные поля, связанные с защищенными экземплярами.

| **Поле**                      | **Тип данных** | **Описание**                                              |
| ------------------------------ | ------------- | ------------------------------------------------------------ |
| ResourceId                     | текст          | Уникальный идентификатор ресурса, по которому собираются данные. Например, идентификатор ресурса для хранилища Служб восстановления |
| OperationName                  | Text          | Имя операции, например Протектединстанце         |
| Категория                       | Text          | Категория диагностических данных, отправленных в журналы Azure Monitor — Аддоназуребаккуппротектединстанце |
| баккупитемуникуеид             | Text          | Уникальный идентификатор элемента резервного копирования                                 |
| баккупманажементсерверуникуеид | Text          | Поле для уникальной идентификации сервера управления архивацией, с которым защищен элемент резервного копирования, если применимо |
| BackupManagementType           | Text          | Тип поставщика для сервера, выполняющего задание резервного копирования, например IaaSVM, FileFolder |
| протектедконтаинеруникуеид     | Text          | Уникальный идентификатор для идентификации защищенного контейнера, на котором выполняется задание |
| протектединстанцекаунт         | Text          | Число защищенных экземпляров для связанного элемента резервного копирования или защищенного контейнера в этот момент времени |
| schemaVersion                  | Text          | Текущая версия схемы, например **V2**            |
| Область                          | Text          | Состояние объекта резервного элемента, например "активный", "удален" |
| ваултуникуеид                  | Text          | Уникальный идентификатор защищенного хранилища, связанного с защищенным экземпляром |
| SourceSystem                   | Text          | Исходная система текущих данных (Azure)                    |

## <a name="addonazurebackupjobs"></a>аддоназуребаккупжобс

Эта таблица содержит сведения о полях, связанных с заданием.

| **Поле**                      | **Тип данных** | **Описание**                                              |
| ------------------------------ | ------------- | ------------------------------------------------------------ |
| ResourceId                     | текст          | Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища Служб восстановления |
| OperationName                  | Text          | Имя текущей операции (Job)    |
| Категория                       | Text          | Это поле представляет категорию диагностических данных, отправленных в Azure Monitor журналы — Аддоназуребаккупжобс |
| адхокорсчедуледжоб            | Text          | Поле, определяющее, является ли задание специализированным или запланированным           |
| баккупитемуникуеид             | Text          | Уникальный идентификатор для элемента резервного копирования, связанного с сущностью хранилища |
| баккупманажементсерверуникуеид | текст          | Уникальный идентификатор для сервера управления резервным копированием, связанного с сущностью хранилища |
| BackupManagementType           | Text          | Тип поставщика для выполнения архивации, например IaaSVM, FileFolder, к которому относится это задание |
| дататрансферрединмб            | Number        | Переданные данные (в МБ) для этого задания                          |
| жобдуратионинсекс              | Number        | Общая длительность задания в секундах                                |
| JobFailureCode                 | Text          | Строка кода ошибки, из-за которой произошел сбой задания    |
| JobOperation                   | Text          | Операция, для которой выполняется задание, например резервное копирование, восстановление, Настройка резервного копирования |
| жобоператионсубтипе            | Text          | Подтип операции задания. Например, "log", в случае задания резервного копирования журнала |
| жобстартдатетиме               | Дата и время      | Дата и время начала выполнения задания                       |
| JobStatus                      | Text          | Состояние завершенного задания, например "Завершено" или "Ошибка"   |
| JobUniqueId                    | Text          | Уникальный идентификатор для задания                                |
| протектедконтаинеруникуеид     | Text          | Уникальный идентификатор защищенного сервера, связанного с заданием |
| рековерижобдестинатион         | Text          | Назначение задания восстановления, куда восстанавливаются данные   |
| рековерижобрпдатетиме          | Дата и время      | Дата и время создания восстанавливаемой точки восстановления |
| рековерижоблокатион            | Text          | Место хранения восстанавливаемой точки восстановления |
| рековерилокатионтипе           | Text          | Тип расположения восстановления                                |
| schemaVersion                  | Text          | Текущая версия схемы, например **V2**            |
| Область                          | Text          | Текущее состояние объекта задания, например "активный" или "удален" |
| ваултуникуеид                  | Text          | Уникальный идентификатор защищенного хранилища, связанного с заданием |
| SourceSystem                   | Text          | Исходная система текущих данных (Azure)                    |

## <a name="addonazurebackuppolicy"></a>аддоназуребаккупполици

Эта таблица содержит сведения о полях, связанных с политикой.

| **Поле**                       | **Тип данных**  | **Описание**                                              |
| ------------------------------- | -------------- | ------------------------------------------------------------ |
| ResourceId                      | текст           | Уникальный идентификатор ресурса, по которому собираются данные. Например, идентификатор ресурса для хранилища Служб восстановления |
| OperationName                   | Text           | Имя операции, например Policy или ПолициассоЦиатион |
| Категория                        | Text           | Категория диагностических данных, отправленных в журналы Azure Monitor — Аддоназуребаккупполици |
| BackupDaysOfTheWeek             | Text           | Дни недели, на которые запланированы задания архивации            |
| BackupFrequency                 | Text           | Частота, с которой выполняются резервные копии. Например, ежедневно, еженедельно |
| BackupManagementType            | Text           | Тип поставщика для сервера, выполняющего задание резервного копирования. Например, IaaSVM, FileFolder |
| баккупманажементсерверуникуеид  | Text           | Поле для уникальной идентификации сервера управления архивацией, с которым защищен элемент резервного копирования, если применимо |
| BackupTimes                     | Text           | Дата и время запланированной архивации                     |
| DailyRetentionDuration          | Whole Number   | Общая длительность хранения (в днях) для настроенных резервных копий      |
| DailyRetentionTimes             | текст           | Дата и время настройки ежедневного сохранения            |
| диффбаккупдайсофсевик         | Text           | Дни недели для разностных резервных копий SQL в службе архивации виртуальных машин Azure |
| диффбаккупформат                | Text           | Формат для разностных резервных копий для SQL в резервной копии виртуальных машин Azure   |
| диффбаккупретентиондуратион     | Десятичное число | Продолжительность хранения разностных резервных копий для SQL в службе архивации виртуальных машин Azure |
| диффбаккуптиме                  | Время           | Время для разностных резервных копий для SQL в резервной копии виртуальных машин Azure     |
| логбаккупфрекуенци              | Десятичное число | Периодичность резервного копирования журналов для SQL                            |
| логбаккупретентиондуратион      | Десятичное число | Продолжительность хранения резервных копий журналов для SQL в службе архивации виртуальных машин Azure |
| MonthlyRetentionDaysOfTheMonth  | Text           | Недели месяца, в которых настроено ежемесячное хранение.  Например, первая, последняя и т. д. |
| MonthlyRetentionDaysOfTheWeek   | Text           | Дни недели, выбранные для ежемесячного хранения              |
| MonthlyRetentionDuration        | Text           | Общая длительность хранения (в месяцах) для настроенных резервных копий    |
| MonthlyRetentionFormat          | Text           | Тип конфигурации для ежемесячного хранения. Например, ежедневно на основе дня, еженедельно по неделям |
| MonthlyRetentionTimes           | Text           | Дата и время настройки ежемесячного хранения           |
| MonthlyRetentionWeeksOfTheMonth | Text           | Недели месяца, в которых настроено ежемесячное хранение.   Например, первая, последняя и т. д. |
| PolicyName                      | Text           | Указанное имя политики                                   |
| PolicyUniqueId                  | Text           | Уникальный идентификатор для политики                             |
| полицитимезоне                  | Text           | Часовой пояс, в котором указаны поля времени политики в журналах. |
| ретентиондуратион               | Text           | Длительность хранения настроенных резервных копий                    |
| RetentionType                   | Text           | Тип удержания                                            |
| schemaVersion                   | Text           | Это поле обозначает текущую версию схемы, то есть **v2** |
| Область                           | Text           | Текущее состояние объекта политики. Например, "активный", "удален" |
| синчронисатионфрекуенципердай  | Whole Number   | Число раз в день синхронизации резервной копии файлов для SC DPM и MABS |
| ваултуникуеид                   | Text           | Уникальный идентификатор хранилища, к которому относится эта политика          |
| WeeklyRetentionDaysOfTheWeek    | Text           | Дни недели, выбранные для еженедельного хранения               |
| WeeklyRetentionDuration         | Десятичное число | Общий еженедельный срок хранения в неделях для настроенных резервных копий |
| WeeklyRetentionTimes            | Text           | Дата и время настройки еженедельного хранения            |
| YearlyRetentionDaysOfTheMonth   | текст           | Дни месяца, выбранные для ежегодного хранения             |
| YearlyRetentionDaysOfTheWeek    | Text           | Дни недели, выбранные для ежегодного хранения               |
| YearlyRetentionDuration         | Десятичное число | Общая длительность хранения (в годах) для настроенных резервных копий     |
| YearlyRetentionFormat           | Text           | Тип конфигурации для ежегодного хранения, например ежедневно в день на основе дня, еженедельно по неделям |
| YearlyRetentionMonthsOfTheYear  | Text           | Месяцы года, выбранные для ежегодного хранения             |
| YearlyRetentionTimes            | Text           | Дата и время настройки ежегодного хранения            |
| YearlyRetentionWeeksOfTheMonth  | Text           | Недели месяца, выбранные для ежегодного хранения             |
| SourceSystem                    | Text           | Исходная система текущих данных (Azure)                    |

## <a name="addonazurebackupstorage"></a>аддоназуребаккупстораже

Эта таблица содержит сведения о полях, связанных с хранилищем.

| **Поле**                      | **Тип данных** | **Описание**                                              |
| ------------------------------ | ------------- | ------------------------------------------------------------ |
| ResourceId                     | текст          | Идентификатор ресурса для собираемых данных. Например, идентификатор ресурса хранилища служб восстановления |
| OperationName                  | Text          | Это поле представляет имя текущей операции-Storage или СторажеассоЦиатион |
| Категория                       | Text          | Это поле представляет категорию диагностических данных, отправленных в Azure Monitor журналы — Аддоназуребаккупстораже |
| баккупитемуникуеид             | Text          | Уникальный идентификатор, используемый для идентификации элемента резервного копирования для виртуальных машин, резервное копирование которых осуществляется с помощью DPM, MABS |
| баккупманажементсерверуникуеид | Text          | Поле для уникальной идентификации сервера управления архивацией, с которым защищен элемент резервного копирования, если применимо |
| BackupManagementType           | Text          | Тип поставщика для сервера, выполняющего задание резервного копирования. Например, IaaSVM, FileFolder |
| PreferredWorkloadOnVolume      | Text          | Рабочая нагрузка, для которой этот том является предпочтительным хранилищем      |
| протектедконтаинеруникуеид     | Text          | Уникальный идентификатор защищенного контейнера, связанного с элементом резервного копирования |
| schemaVersion                  | Text          | Версия схемы. Например, **v2**                   |
| Область                          | Text          | Состояние объекта резервного элемента. Например, "активный", "удален" |
| сторажеаллокатединмбс          | number        | Размер хранилища, выделенного соответствующим элементом резервного копирования в соответствующем хранилище типа "диск" |
| сторажеконсумединмбс           | number        | Размер хранилища, используемого соответствующим элементом резервного копирования в соответствующем хранилище |
| StorageName                    | Text          | Имя сущности хранилища. Например, E:\                      |
| сторажетоталсизеингбс          | текст          | Общий размер хранилища в гигабайтах, потребляемый сущностью хранилища     |
| StorageType                    | Text          | Тип хранилища, например облако, том, диск             |
| сторажеуникуеид                | Text          | Уникальный идентификатор для сущности хранилища                |
| ваултуникуеид                  | Text          | Уникальный идентификатор, используемый для идентификации хранилища, связанного с сущностью хранилища |
| волумефриендлинаме             | Text          | Понятное имя тома хранилища                          |
| SourceSystem                   | текст          | Исходная система текущих данных (Azure)                    |

## <a name="next-steps"></a>Дальнейшие шаги

- [Узнайте, как отправить диагностические данные в Log Analytics](https://docs.microsoft.com/azure/backup/backup-azure-diagnostic-events)
- [Сведения о написании запросов к таблицам, относящимся к ресурсам](https://docs.microsoft.com/azure/backup/backup-azure-monitoring-use-azuremonitor#sample-kusto-queries)
