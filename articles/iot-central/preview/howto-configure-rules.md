---
title: Настройка правил и действий в Azure IoT Central | Документация Майкрософт
description: В этом пошаговом руководстве показано, как настроить правила и действия на основе телеметрии в приложении IoT Central Azure.
author: vavilla
ms.author: vavilla
ms.date: 11/27/2019
ms.topic: conceptual
ms.service: iot-central
services: iot-central
manager: philmea
ms.openlocfilehash: f528135445824a17a8d8c95913adf6934cc87eb0
ms.sourcegitcommit: 2a2af81e79a47510e7dea2efb9a8efb616da41f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/17/2020
ms.locfileid: "76260137"
---
# <a name="configure-rules-preview-features"></a>Настройка правил (Предварительная версия компонентов)

[!INCLUDE [iot-central-pnp-original](../../../includes/iot-central-pnp-original-note.md)]

*Эта статья предназначена для операторов, разработчиков и администраторов.*

Правила в IoT Central служат настраиваемым средством реагирования, которое активирует активные отслеживаемые события с подключенных устройств. В следующих разделах описывается, как оцениваются правила.

## <a name="select-target-devices"></a>Выбор целевых устройств

Используйте раздел целевые устройства, чтобы выбрать устройства, к которым будет применяться это правило. Фильтры позволяют дополнительно уточнить, какие устройства должны быть добавлены. Фильтры используют свойства в шаблоне устройства для фильтрации набора устройств. Сами фильтры не активируют действие. На следующем снимке экрана целевые устройства имеют тип шаблона устройства **холодильник**. Фильтр указывает, что правило должно включать только **рефрижераторс** , где свойство « **штат производства** » равно **Вашингтон**.

![Условия](media/howto-configure-rules/filters.png)

## <a name="use-multiple-conditions"></a>Использование нескольких условий

Условия запускаются правилами. В настоящее время при добавлении нескольких условий к правилу они логически и объединяются. Иными словами, должны быть выполнены все условия, чтобы правило вычисляют значение true.  

На следующем снимке экрана условия проверяют, когда температура превышает 70&deg; F, а влажность меньше 10. Если оба этих оператора имеют значение true, правило принимает значение true и активирует действие.

![Условия](media/howto-configure-rules/conditions.png)

## <a name="use-aggregate-windowing"></a>Использовать агрегированное окно

Правила оценивают совокупное время в виде окон "переворачивающегося". На следующем снимке экрана интервал времени составляет 5 минут. Каждые пять минут правило оценивается за последние пять минут данных. Данные оцениваются только один раз в окне, к которому они соответствуют.

![Переворачивающиеся окна](media/howto-configure-rules/tumbling-window.png)

## <a name="use-rules-with-iot-edge-modules"></a>Использование правил с модулями IoT Edge

Ограничение применяется к правилам, применяемым к IoT Edgeным модулям. Правила для телеметрии из разных модулей не оцениваются как допустимые правила. В качестве примера возьмем следующий пример. Первое условие правила находится в телеметрии температуры из модуля а. Второе условие правила находится на телеметрии влажности на модуле B. Так как два условия относятся к разным модулям, это недопустимый набор условий. Правило недопустимо, и при попытке сохранить правило будет выдано сообщение об ошибке.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы узнали, как настроить правило в приложении IoT Central Azure, вы можете:

> [!div class="nextstepaction"]
> [Анализ данных в режиме реального времени](howto-create-analytics.md)
