---
title: Настройка правил и действий в Azure IoT Central | Документация Майкрософт
description: В этом пошаговом руководстве показано, как настроить правила и действия на основе телеметрии в приложении IoT Central Azure.
author: vavilla
ms.author: vavilla
ms.date: 11/27/2019
ms.topic: how-to
ms.service: iot-central
services: iot-central
manager: philmea
ms.openlocfilehash: f6e85ba5aafaad973d28f799a251b6f3aae548e3
ms.sourcegitcommit: f57297af0ea729ab76081c98da2243d6b1f6fa63
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/06/2020
ms.locfileid: "82871943"
---
# <a name="configure-rules"></a>Настройка правил

*Эта статья предназначена для операторов, разработчиков и администраторов.*

Правила в IoT Central служат настраиваемым средством реагирования, которое активирует активные отслеживаемые события с подключенных устройств. В следующих разделах описывается, как оцениваются правила.

## <a name="select-target-devices"></a>Выбор целевых устройств

Используйте раздел целевые устройства, чтобы выбрать устройства, к которым будет применяться это правило. Фильтры позволяют дополнительно уточнить, какие устройства должны быть добавлены. Фильтры используют свойства в шаблоне устройства для фильтрации набора устройств. Сами фильтры не активируют действие. На следующем снимке экрана целевые устройства имеют тип шаблона устройства **холодильник**. Фильтр указывает, что правило должно включать только **рефрижераторс** , где свойство « **штат производства** » равно **Вашингтон**.

![Условия](media/howto-configure-rules/filters.png)

## <a name="use-multiple-conditions"></a>Использование нескольких условий

Условия запускаются правилами. В настоящее время при добавлении нескольких условий к правилу они логически и объединяются. Иными словами, должны быть выполнены все условия, чтобы правило вычисляют значение true.  

На следующем снимке экрана условия проверяют, когда температура превышает 70&deg; F, а влажность меньше 10. Если оба этих оператора имеют значение true, правило принимает значение true и активирует действие.

![Условия](media/howto-configure-rules/conditions.png)

### <a name="use-a-cloud-property-in-a-value-field"></a>Использование свойства облака в поле значения

Вы можете ссылаться на свойство облака из шаблона устройства в поле **значение** для условия. Свойство облака и значение телеметрии должны иметь похожие типы. Например, если **температура** имеет тип Double, то в раскрывающемся списке **значение** можно только свойства облака типа Double показывать как параметры.

Если выбрано значение телеметрии типа события, раскрывающийся список **значение** включает параметр **любой**. Параметр **ANY** означает, что правило срабатывает, когда приложение получает событие этого типа, независимо от полезной нагрузки.

## <a name="use-aggregate-windowing"></a>Использовать агрегированное окно

Правила оценивают совокупное время в виде окон "переворачивающегося". На следующем снимке экрана интервал времени составляет 5 минут. Каждые пять минут правило оценивается за последние пять минут данных. Данные оцениваются только один раз в окне, к которому они соответствуют.

![Переворачивающиеся окна](media/howto-configure-rules/tumbling-window.png)

## <a name="use-rules-with-iot-edge-modules"></a>Использование правил с модулями IoT Edge

Ограничение применяется к правилам, применяемым к IoT Edgeным модулям. Правила для телеметрии из разных модулей не оцениваются как допустимые правила. В качестве примера возьмем следующий пример. Первое условие правила находится в телеметрии температуры из модуля а. Второе условие правила находится на телеметрии влажности на модуле B. Так как два условия относятся к разным модулям, это недопустимый набор условий. Правило недопустимо, и при попытке сохранить правило будет выдано сообщение об ошибке.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы узнали, как настроить правило в приложении IoT Central Azure, вы можете:

> [!div class="nextstepaction"]
> [Анализ данных в режиме реального времени](howto-create-analytics.md)
