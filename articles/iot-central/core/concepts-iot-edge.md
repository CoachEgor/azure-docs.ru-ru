---
title: Azure IoT Edge и Azure IoT Central | Документация Майкрософт
description: Узнайте, как использовать Azure IoT Edge с приложением IoT Central.
author: dominicbetts
ms.author: dobett
ms.date: 12/12/2019
ms.topic: conceptual
ms.service: iot-central
services: iot-central
ms.openlocfilehash: 69660152458de26e9dbcbf1f50db6ce6824351d0
ms.sourcegitcommit: 21e33a0f3fda25c91e7670666c601ae3d422fb9c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/05/2020
ms.locfileid: "77027073"
---
# <a name="connect-azure-iot-edge-devices-to-an-azure-iot-central-application"></a>Подключение устройств Azure IoT Edge к приложению IoT Central Azure

IoT Edge состоит из трех компонентов:

* **Модули IoT Edge** — это контейнеры, в которых выполняются службы Azure, партнерские службы или ваш собственный код. Модули развертываются на устройства IoT Edge и выполняются на них локально.
* **Среда выполнения IoT Edge** запускается на каждом устройстве IoT Edge и позволяет управлять модулями, развернутыми на каждом устройстве.
* С помощью **облачного интерфейса** вы можете осуществлять мониторинг устройств IoT Edge и управлять ими удаленно. Роль облачного интерфейса выполняет IoT Central.

Устройство **Azure IoT Edge** может представлять собой устройство шлюза с подчиненными устройствами, подключенными к устройству IoT Edge. В этой статье содержатся дополнительные сведения о схемах подключения подчиненных устройств.

**Шаблон устройства** определяет возможности устройства и модулей IoT Edge. К возможностям относятся отправляемые модулем данные телеметрии, свойства этого модуля и команды, на которые он реагирует.

## <a name="downstream-device-relationships-with-a-gateway-and-modules"></a>Связи подчиненных устройств со шлюзом и модулями

Подчиненные устройства могут подключаться к устройству шлюза IoT Edge через модуль `$edgeHub`. В этом сценарии это устройство IoT Edge становится прозрачным шлюзом.

![Схема прозрачного шлюза](./media/concepts-iot-edge/gateway-transparent.png)

Подчиненные устройства также могут подключаться к устройству шлюза IoT Edge через настраиваемый модуль. В следующем сценарии подчиненные устройства подключаются через настраиваемый модуль Modbus.

![Схема подключения настраиваемого модуля](./media/concepts-iot-edge/gateway-module.png)

На следующей схеме показано подключение к устройству шлюза IoT Edge через модули обоих типов (настраиваемый и `$edgeHub`).  

![Схема подключения с помощью обоих модулей подключения](./media/concepts-iot-edge/gateway-module-transparent.png)

Наконец, подчиненные устройства могут подключаться к устройству шлюза IoT Edge через несколько настраиваемых модулей. На следующей схеме показаны подчиненные устройства, подключающиеся через настраиваемый модуль Modbus, настраиваемый модуль BLE и модуль `$edgeHub`. 

![Схема подключения с помощью нескольких настраиваемых модулей](./media/concepts-iot-edge/gateway-module2-transparent.png)

## <a name="deployment-manifests-and-device-templates"></a>Манифесты развертывания и шаблоны устройств

В IoT Edge можно развертывать модули бизнес-логики и управлять этими модулями. Модуль IoT Edge представляет собой наименьшую единицу вычислительных ресурсов, которыми управляет IoT Edge. Эти модули могут содержать службы Azure (например, Azure Stream Analytics) или пользовательский код для конкретного решения. Чтобы понять, как модули разрабатываются, развертываются и обслуживаются, ознакомьтесь со статьей [Understand Azure IoT Edge modules](../../iot-edge/iot-edge-modules.md) (Общие сведения о модулях Azure IoT Edge).

В общих чертах манифест развертывания представляет собой список двойников модулей, для которых настроены требуемые свойства. Манифест развертывания сообщает устройству IoT Edge (или группе устройств), какие модули нужно установить и как их нужно настроить. Манифесты развертывания содержат требуемые свойства для каждого двойника модуля. Устройства IoT Edge передают сообщаемые свойства от каждого модуля.

Используйте Visual Studio Code для создания манифеста развертывания. Дополнительные ведения об Azure IoT Edge для Visual Studio Code см. [здесь](https://marketplace.visualstudio.com/items?itemName=vsciot-vscode.azure-iot-edge).

В IoT Central Azure можно импортировать манифест развертывания, чтобы создать шаблон устройства. На следующей блок-схеме приведен жизненный цикл манифеста развертывания в IoT Central.

![Блок-схема жизненного цикла манифеста развертывания](./media/concepts-iot-edge/dmflow.png)

Plug and Play IoT (Предварительная версия) моделирует устройство IoT Edge следующим образом:

* В каждом шаблоне устройства IoT Edge есть модель возможностей устройства.
* Для каждого настраиваемого модуля, указанного в манифесте развертывания, создается модель возможностей модуля.
* Между каждой моделью возможностей модуля и моделью возможностей устройства устанавливается связь.
* Модель возможностей модуля реализует интерфейсы модуля.
* Каждый интерфейс модуля содержит данные телеметрии, свойства и команды.

![Схема моделирования IoT Edge](./media/concepts-iot-edge/edgemodelling.png)

## <a name="iot-edge-gateway-devices"></a>Устройства шлюза IoT Edge

Если вы выбрали устройство IoT Edge в качестве устройства шлюза, можно добавить подчиненные связи к моделям возможностей устройств для устройств, которые необходимо подключить к устройству шлюза.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы знакомы с IoT Central шаблонами приложений, приступайте [к созданию IOT Central приложения](quick-deploy-iot-central.md).