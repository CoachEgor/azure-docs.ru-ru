---
title: Azure IoT Edge и Azure IoT Central Документы Майкрософт
description: Понять, как использовать Azure IoT Edge с помощью центрального приложения IoT.
author: dominicbetts
ms.author: dobett
ms.date: 12/12/2019
ms.topic: conceptual
ms.service: iot-central
services: iot-central
ms.openlocfilehash: 89d068fbd835a5b4f8886a2ed77691f94a701bb0
ms.sourcegitcommit: 31e9f369e5ff4dd4dda6cf05edf71046b33164d3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/22/2020
ms.locfileid: "81759107"
---
# <a name="connect-azure-iot-edge-devices-to-an-azure-iot-central-application"></a>Подключение устройств Azure IoT Edge к центральному приложению Azure IoT

*Эта статья относится к разработчикам решений и разработчикам устройств.*

IoT Edge состоит из трех компонентов:

* **Модули IoT Edge** — это контейнеры, в которых выполняются службы Azure, партнерские службы или ваш собственный код. Модули развертываются на устройства IoT Edge и выполняются на них локально.
* **Время выполнения IoT Edge** работает на каждом устройстве IoT Edge и управляет модулями, развернутыми на каждом устройстве.
* С помощью **облачного интерфейса** вы можете осуществлять мониторинг устройств IoT Edge и управлять ими удаленно. Роль облачного интерфейса выполняет IoT Central.

Устройство **Azure IoT Edge** может представлять собой устройство шлюза с подчиненными устройствами, подключенными к устройству IoT Edge. В этой статье представлена более подробная информация о моделях подключения устройств ниже по течению.

**Шаблон устройства** определяет возможности устройства и модулей IoT Edge. К возможностям относятся отправляемые модулем данные телеметрии, свойства этого модуля и команды, на которые он реагирует.

## <a name="downstream-device-relationships-with-a-gateway-and-modules"></a>Связи подчиненных устройств со шлюзом и модулями

Подчиненные устройства могут подключаться к устройству шлюза IoT Edge через модуль `$edgeHub`. В этом сценарии это устройство IoT Edge становится прозрачным шлюзом.

![Схема прозрачного шлюза](./media/concepts-iot-edge/gateway-transparent.png)

Подчиненные устройства также могут подключаться к устройству шлюза IoT Edge через настраиваемый модуль. В следующем сценарии подчиненные устройства подключаются через настраиваемый модуль Modbus.

![Схема подключения настраиваемого модуля](./media/concepts-iot-edge/gateway-module.png)

На следующей схеме показано подключение к устройству шлюза IoT Edge через модули обоих типов (настраиваемый и `$edgeHub`).  

![Схема подключения с помощью обоих модулей подключения](./media/concepts-iot-edge/gateway-module-transparent.png)

Наконец, подчиненные устройства могут подключаться к устройству шлюза IoT Edge через несколько настраиваемых модулей. На следующей схеме показаны подчиненные устройства, подключающиеся через настраиваемый модуль Modbus, настраиваемый модуль BLE и модуль `$edgeHub`. 

![Схема подключения с помощью нескольких настраиваемых модулей](./media/concepts-iot-edge/gateway-module2-transparent.png)

## <a name="deployment-manifests-and-device-templates"></a>Манифесты развертывания и шаблоны устройств

В IoT Edge можно развертывать модули бизнес-логики и управлять этими модулями. Модуль IoT Edge представляет собой наименьшую единицу вычислительных ресурсов, которыми управляет IoT Edge. Эти модули могут содержать службы Azure (например, Azure Stream Analytics) или пользовательский код для конкретного решения. Чтобы понять, как модули разрабатываются, развертываются и обслуживаются, ознакомьтесь со статьей [Understand Azure IoT Edge modules](../../iot-edge/iot-edge-modules.md) (Общие сведения о модулях Azure IoT Edge).

В общих чертах манифест развертывания представляет собой список двойников модулей, для которых настроены требуемые свойства. Манифест развертывания сообщает устройству IoT Edge (или группе устройств), какие модули нужно установить и как их нужно настроить. Манифесты развертывания содержат требуемые свойства для каждого двойника модуля. Устройства IoT Edge передают сообщаемые свойства от каждого модуля.

Используйте Visual Studio Code для создания манифеста развертывания. Дополнительные ведения об Azure IoT Edge для Visual Studio Code см. [здесь](https://marketplace.visualstudio.com/items?itemName=vsciot-vscode.azure-iot-edge).

В Azure IoT Central можно импортировать манифест развертывания для создания шаблона устройства. На следующей блок-схеме приведен жизненный цикл манифеста развертывания в IoT Central.

![Блок-схема жизненного цикла манифеста развертывания](./media/concepts-iot-edge/dmflow.png)

IoT Plug and Play (предварительный просмотр) моделирует устройство IoT Edge следующим образом:

* В каждом шаблоне устройства IoT Edge есть модель возможностей устройства.
* Для каждого настраиваемого модуля, указанного в манифесте развертывания, создается модель возможностей модуля.
* Между каждой моделью возможностей модуля и моделью возможностей устройства устанавливается связь.
* Модель возможностей модуля реализует интерфейсы модуля.
* Каждый интерфейс модуля содержит данные телеметрии, свойства и команды.

![Схема моделирования IoT Edge](./media/concepts-iot-edge/edgemodelling.png)

## <a name="iot-edge-gateway-devices"></a>Устройства шлюза IoT Edge

Если вы выбрали устройство IoT Edge в качестве устройства шлюза, можно добавить подчиненные связи к моделям возможностей устройств для устройств, которые необходимо подключить к устройству шлюза.

## <a name="next-steps"></a>Следующие шаги

Если вы разработчик устройств, следующим шагом является изучение [типов устройств шлюза в IoT Central.](./tutorial-define-gateway-device-type.md)
