---
title: Создание и запуск заданий в приложении Azure IoT Central | Документация Майкрософт
description: Задания IoT Central Azure позволяют выполнять дополнительные функции управления устройствами, такие как обновление свойств или выполнение команды.
ms.service: iot-central
services: iot-central
author: sarahhubbard
ms.author: sahubbar
ms.date: 06/08/2020
ms.topic: how-to
ms.openlocfilehash: 406881a9131aae35b91dcab248745bb426cecf0e
ms.sourcegitcommit: c5021f2095e25750eb34fd0b866adf5d81d56c3a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/25/2020
ms.locfileid: "88797842"
---
# <a name="create-and-run-a-job-in-your-azure-iot-central-application"></a>Создание и выполнение задания в приложении IoT Central Azure

Вы можете использовать Microsoft Azure IoT Central для управления подключенными устройствами в масштабе по заданиям. Задания позволяют выполнять групповые обновления свойств устройства и выполнять команды. В этой статье показано, как приступить к работе с заданиями в собственном приложении.

## <a name="create-and-run-a-job"></a>Создание и запуск заданий

В этом разделе показано, как создать и запустить задание в форме установки порога освещения для группы устройств логистического шлюза.

1. На левой панели выберите **задания**.

2. Выберите **+ Создать**.

   ![Снимок экрана, на котором показаны элементы, выделенные для создания задания.](./media/howto-run-a-job/create-new-job.png)

3. Введите имя и описание, чтобы указать создаваемое задание.

4. Выберите группу целевых устройств, к которой должно применяться задание. Количество устройств, к которым применяется конфигурация задания, можно увидеть в разделе **сводки** .

5. Выберите **свойство облака**, **свойство**или **команду** в качестве типа задания для настройки. 

   Чтобы настроить конфигурацию задания **свойств** , выберите свойство и задайте его новое значение. Чтобы настроить конфигурацию **командного** задания, выберите команду для выполнения. Задание свойства может задавать несколько свойств.

   ![Снимок экрана, на котором показаны элементы, выделенные для создания задания свойства с именем "задать освещение".](./media/howto-run-a-job/configure-job.png)

6. Выберите **выполнить** или **сохранить**. Теперь задание отображается на главной странице **заданий** . На этой странице можно увидеть текущее выполняемое задание и историю всех ранее выполненных или сохраненных заданий. Вы можете в любое время повторно открыть сохраненное задание, чтобы продолжить его редактирование или запустить.

   ![Снимок экрана, показывающий имя, состояние и описание созданного задания.](./media/howto-run-a-job/view-job.png)

   > [!NOTE]
   > Вы можете просмотреть историю ранее выполненных заданий в течение 30 дней.

7. Выберите сохраненное задание и запустите его, нажав кнопку **выполнить** . 

   Откроется диалоговое окно **Запуск задания** . Подтвердите, нажав кнопку **выполнить задание** . 

   ![Снимок экрана с диалоговым окном, которое подтверждает, что вы хотите выполнить задание.](./media/howto-run-a-job/run-job.png)

8. Задание проходит через этапы ожидания, выполнения и завершения. Сведения о выполнении задания содержат метрики результата, сведения о длительности и сетку списка устройств. 

   В этом обзоре можно также выбрать **журнал результатов** , чтобы скачать CSV-файл сведений о задании, включая устройства и их значения состояния. Эти сведения могут быть полезны для устранения неполадок.

   ![Снимок экрана, показывающий состояние устройства.](./media/howto-run-a-job/download-details.png)

## <a name="manage-jobs"></a>Управление заданиями

Чтобы прерывать выполнение задания, откройте его и выберите пункт " **Закрыть**". Состояние задания изменяется в соответствии с тем, что задание остановлено. В разделе " **Сводка** " показано, какие устройства были завершены, завершились с ошибками или все еще ожидаются.

![Снимок экрана, на котором показано выполняющееся задание, и кнопка для остановки задания.](./media/howto-run-a-job/manage-job.png)

Когда задание находится в остановленном состоянии, можно нажать кнопку **продолжить** , чтобы возобновить выполнение задания. Состояние задания изменяется в соответствии с тем, что задание теперь запускается снова. Раздел **сводки** продолжит обновляться с учетом последнего хода выполнения.

![Снимок экрана, на котором показано остановленное задание, и кнопка для продолжения задания.](./media/howto-run-a-job/stopped-job.png)

## <a name="copy-a-job"></a>Копирование задания

Чтобы скопировать одно из существующих заданий, выберите его на странице **задания** и щелкните **сведения о задании**. Откроется страница **сведений о задании** . 

![Снимок экрана, на котором показана страница сведений о задании.](./media/howto-run-a-job/job-details.png)

Нажмите **Копировать**.

![Снимок экрана, на котором изображена кнопка копирования.](./media/howto-run-a-job/job-details-copy.png)

Будет открыта копия конфигурации задания для изменения, а **копирование** добавляется к имени задания. Вы можете сохранить или запустить новое задание.

![Снимок экрана, на котором показана копия конфигурации задания.](./media/howto-run-a-job/copy-job.png)

## <a name="view-job-status"></a>Просмотр состояния задания

После создания задания в столбце **состояние** будет добавлено Последнее сообщение о состоянии для задания. В следующей таблице перечислены возможные значения состояния задания.

| Сообщение о состоянии       | Значение состояния                                          |
| -------------------- | ------------------------------------------------------- |
| Завершено            | Это задание запущено на всех устройствах.              |
| Сбой               | Это задание завершилось сбоем и не было полностью запущено на устройствах.  |
| Ожидает              | Это задание еще не запущено на устройствах.         |
| Запущен              | Это задание в настоящее время выполняется на устройствах.             |
| Остановлена              | Пользователь вручную остановил это задание.           |

После сообщения о состоянии следует обзор устройств в задании. В следующей таблице перечислены возможные значения состояния устройства.

| Сообщение о состоянии       | Значение состояния                                                     |
| -------------------- | ------------------------------------------------------------------ |
| Выполнено            | Число устройств, на которых успешно выполнялось задание.       |
| Сбой               | Число устройств, на которых не удалось запустить задание.       |

Чтобы просмотреть состояние задания и всех затронутых устройств, откройте задание. Рядом с каждым именем устройства отображается одно из следующих сообщений о состоянии:

| Сообщение о состоянии       | Значение состояния                                                                |
| -------------------- | ----------------------------------------------------------------------------- |
| Завершено            | Задание запущено на этом устройстве.                                     |
| Сбой               | Не удалось запустить задание на этом устройстве. В сообщении об ошибке содержатся дополнительные сведения.  |
| Ожидает              | Задание еще не запущено на этом устройстве.                                   |

Чтобы скачать CSV-файл, содержащий сведения о задании, а также список устройств и их значения состояния, выберите **скачать**.

## <a name="filter-the-device-list"></a>Фильтрация списка устройств

Вы можете отфильтровать список устройств на странице **сведений о задании** , щелкнув значок фильтра. Можно выполнить фильтрацию по полю Идентификатор или **состояние** **устройства** .

:::image type="content" source="media/howto-run-a-job/filter.png" alt-text="Снимок экрана, на котором показаны параметры фильтрации списка устройств.":::

## <a name="customize-columns-in-the-device-list"></a>Настройка столбцов в списке устройств

Можно выбрать дополнительные столбцы, которые будут отображаться в списке устройств, выбрав значок Параметры столбца.

:::image type="content" source="media/howto-run-a-job/column-options.png" alt-text="Снимок экрана, на котором показан значок параметров столбца.":::

Диалоговое окно позволяет выбрать столбцы, которые будут отображаться в списке устройств. Выберите столбцы, которые необходимо отобразить, щелкните стрелку вправо и нажмите кнопку **ОК**. Чтобы выбрать все доступные столбцы, установите флажок **выбрать все**.

:::image type="content" source="media/howto-run-a-job/column-picker-popup.png" alt-text="Снимок экрана, на котором показано диалоговое окно выбора отображаемых столбцов.":::

Выбранные столбцы появятся в списке устройств.

:::image type="content" source="media/howto-run-a-job/column-picker-column-selected.png" alt-text="Снимок экрана, на котором показаны выбранные столбцы в списке устройств.":::

Выбранные столбцы сохраняются в пользовательском сеансе или в пользовательских сеансах, имеющих доступ к приложению.

## <a name="rerun-jobs"></a>Повторное выполнение заданий

Можно повторно запустить задание, которое содержит неисправные устройства. **Не удалось**выбрать повторный запуск.

:::image type="content" source="media/howto-run-a-job/rerun.png" alt-text="Снимок экрана, на котором показана кнопка для перезапуска задания на устройствах с ошибками.":::

Введите имя и описание задания, а затем выберите **повторное задание**. Новое задание отправляется для повторного выполнения действия на неисправных устройствах.

:::image type="content" source="media/howto-run-a-job/rerun-failed.png" alt-text="Снимок экрана, на котором показано диалоговое окно для перезапуска неисправных устройств.":::

> [!NOTE]
> Невозможно одновременно запустить более пяти заданий из приложения IoT Central Azure.
>
> После завершения задания и удаления устройства, которое находится в списке устройств задания, запись устройства отображается как удаленная в имени устройства. Ссылка на сведения недоступна для удаленного устройства.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы узнали, как создавать задания в приложении IoT Central Azure, выполните следующие действия.

- [Управление устройствами](howto-manage-devices.md)
- [Создание версии шаблона нового устройства](howto-version-device-template.md)
