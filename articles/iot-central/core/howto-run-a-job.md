---
title: Создание и запуск заданий в приложении Azure IoT Central | Документация Майкрософт
description: Задания IoT Central Azure позволяют выполнять дополнительные функции управления устройствами, такие как обновление свойств или выполнение команды.
ms.service: iot-central
services: iot-central
author: sarahhubbard
ms.author: sahubbar
ms.date: 09/10/2020
ms.topic: how-to
ms.openlocfilehash: 82a370bcda2d762abb36e6e43ab755c45348e4c5
ms.sourcegitcommit: 43558caf1f3917f0c535ae0bf7ce7fe4723391f9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2020
ms.locfileid: "90020001"
---
# <a name="create-and-run-a-job-in-your-azure-iot-central-application"></a>Создание и выполнение задания в приложении IoT Central Azure

Вы можете использовать IoT Central Azure для управления подключенными устройствами в масштабных заданиях. Задания позволяют выполнять групповые обновления свойств устройства и облака, а также выполнять команды. В этой статье показано, как приступить к работе с заданиями в собственном приложении.

## <a name="create-and-run-a-job"></a>Создание и запуск заданий

В следующем примере показано, как создать и запустить задание, чтобы задать пороговое значение освещения для группы устройств шлюза логистической цепочки. Мастер заданий используется для создания и запуска заданий. Вы можете сохранить задание для последующего выполнения.

1. На левой панели выберите **задания**.

1. Выберите **+ создать задание**.

1. На странице **Настройка задания** введите имя и описание, чтобы определить создаваемое задание.

1. Выберите группу целевых устройств, к которой должно применяться задание. Вы можете увидеть, сколько устройств использует конфигурация задания под выбранной **группой устройств** .

1. Выберите **свойство облака**, **свойство**или **команду** в качестве **типа задания**:

    Чтобы настроить конфигурацию задания **свойств** , выберите свойство и задайте его новое значение. Чтобы настроить конфигурацию **командного** задания, выберите команду для выполнения. Задание свойства может задавать несколько свойств.

    :::image type="content" source="media/howto-run-a-job/configure-job.png" alt-text="Снимок экрана, на котором показаны параметры для создания задания свойства с именем "задать освещение"":::

    Выберите **сохранить и выйти** , чтобы добавить задание в список сохраненных заданий на странице **задания** . Позже можно вернуться к заданию из списка сохраненных заданий.

    Нажмите кнопку **Далее** , чтобы перейти на страницу **Проверка** . На странице * * Проверка * * * отображаются сведения о конфигурации задания. Выберите **выполнить** , чтобы отправить задание.

    :::image type="content" source="media/howto-run-a-job/job-wizard-review.png" alt-text="Снимок экрана: страница проверки мастера заданий":::

1. Задание проходит через *отложенные*, *выполняющиеся*и *Завершенные* этапы. Сведения о выполнении задания содержат метрики результата, сведения о длительности и сетку списка устройств.

    После завершения задания можно выбрать **журнал результатов** , чтобы скачать CSV-файл сведений о задании, включая устройства и их значения состояния. Эти сведения могут быть полезны для устранения неполадок.

    :::image type="content" source="media/howto-run-a-job/download-details.png" alt-text="Снимок экрана, отображающий состояние устройства":::

1. Теперь задание отображается в списке **последних 30 дней** на странице **задания** . На этой странице отображаются текущие выполняемые задания и журнал всех ранее выполненных или сохраненных заданий.

    > [!NOTE]
    > Вы можете просмотреть историю ранее выполненных заданий в течение 30 дней.

## <a name="manage-jobs"></a>Управление заданиями

Чтобы прерывать выполнение задания, откройте его и выберите пункт " **Закрыть**". Состояние задания изменяется в соответствии с тем, что задание остановлено. В разделе " **Сводка** " показано, какие устройства были завершены, завершились с ошибками или все еще ожидаются.

:::image type="content" source="media/howto-run-a-job/manage-job.png" alt-text="Снимок экрана, на котором показано выполняющееся задание и кнопка для остановки задания":::

Если задание находится в остановленном состоянии, можно нажать кнопку **продолжить** , чтобы возобновить выполнение задания. Состояние задания изменяется в соответствии с тем, что задание теперь запускается снова. В разделе " **Сводка** " продолжается обновление с учетом последнего хода выполнения.

:::image type="content" source="media/howto-run-a-job/stopped-job.png" alt-text="Снимок экрана, на котором показано остановленное задание и кнопка для продолжения задания":::

## <a name="copy-a-job"></a>Копирование задания

Чтобы скопировать существующее задание, выберите выполненное задание. На странице "результаты задания" или "сведения о заданиях" выберите **Копировать** .

:::image type="content" source="media/howto-run-a-job/job-details-copy.png" alt-text="Снимок экрана, на котором изображена кнопка копирования":::

Будет открыта копия конфигурации задания для изменения, а **копирование** добавляется к имени задания.

## <a name="view-job-status"></a>Просмотр состояния задания

После создания задания в столбце **состояние** обновляется Последнее сообщение о состоянии задания. В следующей таблице перечислены возможные значения *состояния задания* .

| Сообщение о состоянии       | Значение состояния                                          |
| -------------------- | ------------------------------------------------------- |
| Завершено            | Это задание запущено на всех устройствах.              |
| Failed               | Это задание завершилось сбоем и не было полностью запущено на устройствах.  |
| Pending              | Это задание еще не запущено на устройствах.         |
| Выполнение              | Это задание в настоящее время выполняется на устройствах.             |
| Остановлена              | Пользователь вручную остановил это задание.           |

После сообщения о состоянии следует обзор устройств в задании. В следующей таблице перечислены возможные значения *состояния устройства* .

| Сообщение о состоянии       | Значение состояния                                                     |
| -------------------- | ------------------------------------------------------------------ |
| Успешно            | Число устройств, на которых успешно выполнялось задание.       |
| Failed               | Число устройств, на которых не удалось запустить задание.       |

Чтобы просмотреть состояние задания и всех затронутых устройств, откройте задание. Рядом с каждым именем устройства отображается одно из следующих сообщений о состоянии:

| Сообщение о состоянии       | Значение состояния                                                                |
| -------------------- | ----------------------------------------------------------------------------- |
| Завершено            | Задание запущено на этом устройстве.                                     |
| Failed               | Не удалось запустить задание на этом устройстве. В сообщении об ошибке содержатся дополнительные сведения.  |
| Pending              | Задание еще не запущено на этом устройстве.                                   |

Чтобы скачать CSV-файл, содержащий сведения о задании, а также список устройств и их значения состояния, выберите **журнал результатов**.

## <a name="filter-the-device-list"></a>Фильтрация списка устройств

Вы можете отфильтровать список устройств на странице **сведений о задании** , щелкнув значок фильтра. Можно выполнить фильтрацию по полю Идентификатор или **состояние** **устройства** :

:::image type="content" source="media/howto-run-a-job/filter.png" alt-text="Снимок экрана, на котором показаны параметры фильтрации списка устройств.":::

## <a name="customize-columns-in-the-device-list"></a>Настройка столбцов в списке устройств

Вы можете добавить столбцы в список устройств, выбрав значок Параметры столбца:

:::image type="content" source="media/howto-run-a-job/column-options.png" alt-text="Снимок экрана, на котором показан значок параметров столбца.":::

Используйте диалоговое окно **Параметры столбца** для выбора столбцов списка устройств. Выберите столбцы, которые необходимо отобразить, щелкните стрелку вправо и нажмите кнопку **ОК**. Чтобы выбрать все доступные столбцы, выберите **выбрать все**. Выбранные столбцы появятся в списке устройств.

Выбранные столбцы сохраняются в пользовательском сеансе или во всех пользовательских сеансах, имеющих доступ к приложению.

## <a name="rerun-jobs"></a>Повторное выполнение заданий

Можно повторно запустить задание, которое содержит неисправные устройства. Не удалось выбрать повторный **Запуск в случае сбоя**:

:::image type="content" source="media/howto-run-a-job/rerun.png" alt-text="Снимок экрана, на котором показана кнопка для перезапуска задания на устройствах с ошибками.":::

Введите имя и описание задания, а затем выберите **повторное задание**. Новое задание отправляется для повторного выполнения действия на неисправных устройствах.

> [!NOTE]
> Невозможно одновременно запустить более пяти заданий из приложения IoT Central Azure.
>
> После завершения задания и удаления устройства, которое находится в списке устройств задания, запись устройства отображается как удаленная в имени устройства. Ссылка на сведения недоступна для удаленного устройства.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы узнали, как создавать задания в приложении IoT Central Azure, выполните следующие действия.

- [Управление устройствами](howto-manage-devices.md)
- [Создание версии шаблона нового устройства](howto-version-device-template.md)
