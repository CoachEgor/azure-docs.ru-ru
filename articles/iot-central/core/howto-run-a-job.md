---
title: Создание и запуск заданий в приложении Azure IoT Central | Документация Майкрософт
description: Задания IoT Central Azure позволяют выполнять дополнительные функции управления устройствами, такие как обновление свойств или запуск команды.
ms.service: iot-central
services: iot-central
author: sarahhubbard
ms.author: sahubbar
ms.date: 06/08/2020
ms.topic: how-to
ms.openlocfilehash: dec9abc38bc0354ef3d22994a7988bfb006f5769
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "84609748"
---
# <a name="create-and-run-a-job-in-your-azure-iot-central-application"></a>Создание и выполнение задания в приложении IoT Central Azure

Вы можете использовать Microsoft Azure IoT Central для управления подключенными устройствами в масштабе с использованием заданий. Задания позволяют выполнять групповые обновления свойств устройства и выполнять команды. В этой статье показано, как приступить к работе с заданиями в собственном приложении.

## <a name="create-and-run-a-job"></a>Создание и запуск заданий

В этом разделе показано, как создать и запустить задание. Здесь показано, как задать пороговое значение освещения для группы устройств логистического шлюза.

1. На левой панели перейдите к **заданиям** .

2. Выберите **+ создать** , чтобы создать новое задание:

    ![Создание задания](./media/howto-run-a-job/create-new-job.png)

3. Введите имя и описание, чтобы указать создаваемое задание.

4. Выберите целевую группу устройств, к которой должно применяться задание. Количество устройств, к которым применяется конфигурация задания, можно увидеть в разделе **сводки** .

5. Затем выберите **свойство облака**, **свойство**или **команду** в качестве типа задания для настройки. Чтобы настроить конфигурацию задания **свойств** , выберите свойство и задайте его новое значение. Чтобы настроить **команду**, выберите команду для выполнения. Задание свойства может задавать несколько свойств:

    ![Настройка задания](./media/howto-run-a-job/configure-job.png)

6. После создания задания выберите **выполнить** или **сохранить**. Теперь задание отображается на главной странице **заданий** . На этой странице можно увидеть текущее выполняемое задание и историю всех ранее выполненных или сохраненных заданий. Сохраненное задание можно снова открыть в любое время, чтобы продолжить его редактирование или запустить.

    ![Просмотр задания](./media/howto-run-a-job/view-job.png)

    > [!NOTE]
    > Вы можете просмотреть историю ранее выполненных заданий в течение 30 дней.

7. Чтобы получить общие сведения о задании, выберите задание для просмотра из списка. Этот обзор содержит сведения о задании, устройствах и состоянии устройств. В этом обзоре можно также выбрать команду **скачать сведения о задании** , чтобы скачать CSV-файл сведений о задании, включая устройства и их значения состояния. Эти сведения могут быть полезны при устранении неполадок:

    ![Просмотр состояния устройства](./media/howto-run-a-job/download-details.png)

## <a name="manage-jobs"></a>Управление заданиями

Чтобы отключить одно из выполняемых заданий, откройте его и выберите пункт " **Закрыть**". Состояние задания изменится на отражать, что задание остановлено. В разделе " **Сводка** " показано, какие устройства были завершены, завершились сбоем или все еще ожидают выполнения.

Чтобы запустить задание, которое в данный момент остановлено, выберите его и нажмите кнопку **выполнить**. Состояние задания изменится, чтобы отразить задание, теперь оно снова запускается. В разделе " **Сводка** " продолжается обновление с учетом последнего хода выполнения.

![Управление заданием](./media/howto-run-a-job/manage-job.png)

## <a name="copy-a-job"></a>Копирование задания

Чтобы скопировать одно из существующих заданий, выберите его на странице **задания** и щелкните **Копировать**. Будет открыта копия конфигурации задания для изменения, а **копирование** добавляется к имени задания. Вы можете сохранить или запустить новое задание:

![Задание копирования](./media/howto-run-a-job/copy-job.png)

## <a name="view-job-status"></a>Просмотр состояния задания

После создания задания в столбце **состояние** обновляется Последнее сообщение о состоянии задания. В следующей таблице перечислены возможные значения состояния.

| Сообщение о состоянии       | Значение состояния                                          |
| -------------------- | ------------------------------------------------------- |
| Completed            | Это задание было выполнено на всех устройствах.              |
| Ошибка               | Это задание завершилось сбоем и выполнено не полностью на устройствах.  |
| Не завершен              | Это задание еще не начала выполняться на устройствах.         |
| Запущен              | Это задание в данный момент выполняется на устройствах.             |
| Остановлена              | Это задание вручную остановлено пользователем.           |

После сообщения о состоянии следует обзор устройств в задании. В следующей таблице перечислены возможные значения состояния устройства.

| Сообщение о состоянии       | Значение состояния                                                     |
| -------------------- | ------------------------------------------------------------------ |
| Успешно            | Число устройств, на которых задание было успешно выполнено.       |
| Ошибка               | Число устройств, на которых не удалось выполнить задание.       |

### <a name="view-the-device-status-values"></a>Просмотр значений состояния устройства

Чтобы просмотреть состояние задания и всех затронутых устройств, откройте задание. Рядом с каждым именем устройства отображается одно из следующих сообщений о состоянии:

| Сообщение о состоянии       | Значение состояния                                                                |
| -------------------- | ----------------------------------------------------------------------------- |
| Completed            | Задание, выполняемое на этом устройстве.                                     |
| Ошибка               | Не удалось выполнить задание на этом устройстве. В сообщении об ошибке содержатся дополнительные сведения.  |
| Не завершен              | Задание еще не выполнялось на этом устройстве.                                   |

Чтобы скачать CSV-файл, содержащий сведения о задании, а также список устройств и их значения состояния, выберите **скачать**.

### <a name="filter-the-list-of-devices"></a>Фильтрация списка устройств

Вы можете отфильтровать список устройств на странице сведений о задании, щелкнув значок фильтра. Вы можете отфильтровать по полям идентификатор или **состояние** **устройства** :

:::image type="content" source="media/howto-run-a-job/filter.png" alt-text="Фильтрация списка устройств":::

### <a name="customize-columns-in-the-device-list"></a>Настройка столбцов в списке устройств

Можно выбрать дополнительные столбцы, которые будут отображаться в списке устройств, выбрав значок Параметры столбца:

:::image type="content" source="media/howto-run-a-job/column-options.png" alt-text="Параметры столбцов":::

Появится диалоговое окно, позволяющее выбрать столбцы, которые будут отображаться в списке устройств. Выберите столбцы, которые необходимо отобразить, щелкните значок со стрелкой вправо и нажмите кнопку **ОК**. Чтобы выбрать все доступные столбцы, установите флажок **выбрать все**:

:::image type="content" source="media/howto-run-a-job/column-picker-popup.png" alt-text="Диалоговое окно выбора столбцов":::

Выбранные столбцы отображаются в списке устройств:

:::image type="content" source="media/howto-run-a-job/column-picker-column-selected.png" alt-text="Выбор столбцов":::

Выбранные столбцы сохраняются в пользовательском сеансе или в пользовательских сеансах, имеющих доступ к приложению.

## <a name="rerun-jobs"></a>Повторное выполнение заданий

Можно повторно запустить задание, которое содержит неисправные устройства. Выберите **Повторное**выполнение:

:::image type="content" source="media/howto-run-a-job/rerun.png" alt-text="Перезапустить задание":::

Введите имя и описание задания, а затем выберите **повторное задание**. Будет отправлено новое задание, чтобы повторить действие на устройствах с ошибками:

:::image type="content" source="media/howto-run-a-job/rerun-failed.png" alt-text="Повторное выполнение неисправных устройств":::

> [!NOTE]
> Нельзя выполнять более пяти заданий одновременно из приложения IoT Central.

> [!NOTE]
> После завершения задания и удаления устройства из списка устройств задания запись устройства отображается как удаленная в поле имя устройства и ссылка на сведения об устройстве недоступны для удаленного устройства.

## <a name="next-steps"></a>Дальнейшие шаги

Теперь, когда вы узнали, как создавать задания в приложении IoT Central Azure, выполните следующие действия.

- [Управление устройствами](howto-manage-devices.md)
- [Создание версии шаблона нового устройства](howto-version-device-template.md)
