---
title: Мониторинг работоспособности приложения IoT Central Azure | Документация Майкрософт
description: В качестве оператора или администратора Отслеживайте общую работоспособность устройств, подключенных к приложению IoT Central.
author: dominicbetts
ms.author: dobett
ms.date: 05/14/2020
ms.topic: how-to
ms.service: iot-central
services: iot-central
ms.openlocfilehash: 664819b209aeb09093ce8711456b86ff4d3e8949
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "84249479"
---
# <a name="monitor-the-overall-health-of-the-devices-connected-to-an-iot-central-application"></a>Отслеживание общей работоспособности устройств, подключенных к IoT Centralному приложению

*Эта статья относится к операторам и администраторам.*

Из этой статьи вы узнаете, как использовать набор метрик, предоставляемых IoT Central, для оценки общей работоспособности устройств, подключенных к приложению IoT Central.

Метрики включены по умолчанию для приложения IoT Central и к ним можно получить доступ из [портал Azure](https://portal.azure.com/). [Платформа данных Azure Monitor предоставляет эти метрики](../../azure-monitor/platform/data-platform-metrics.md) и предоставляет несколько способов взаимодействия с ними. Например, диаграммы можно использовать в портал Azure, REST API или в запросах PowerShell или Azure CLI.

### <a name="trial-applications"></a>Пробные версии приложений

Приложения, использующие бесплатный план пробного использования, не имеют связанной подписки Azure, поэтому не поддерживают метрики Azure Monitor. Вы можете [преобразовать приложение в стандартный план ценообразования](./howto-view-bill.md#move-from-free-to-standard-pricing-plan) и получить доступ к этим метрикам.

## <a name="view-metrics-in-the-azure-portal"></a>Просмотр метрик в портал Azure

В следующих шагах предполагается, что у вас есть [IOT Centralное приложение](./quick-deploy-iot-central.md) с некоторыми [подключенными устройствами](./tutorial-connect-device-nodejs.md).

Чтобы просмотреть метрики IoT Central на портале, сделайте следующее:

1. Перейдите к ресурсу приложения IoT Central на портале. По умолчанию ресурсы IoT Central находятся в группе ресурсов с именем **ИОТК**.
1. Чтобы создать диаграмму на основе метрик приложения, выберите **метрики** в разделе **мониторинг** .

### <a name="azure-portal-permissions"></a>портал Azure разрешения

Доступом к метрикам в портал Azure управляет [Управление доступом на основе ролей Azure](../../role-based-access-control/overview.md). Используйте портал Azure, чтобы добавить пользователей в IoT Central приложение, группу ресурсов или подписку, чтобы предоставить им доступ. Необходимо добавить пользователя на портале, даже если они уже добавлены в приложение IoT Central. Используйте [встроенные роли Azure для более](../../role-based-access-control/built-in-roles.md) детального контроля доступа.

## <a name="iot-central-metrics"></a>Метрики IoT Central

В следующей таблице описаны метрики, доступные в данный момент для IoT Central.

| Метрика | Отображаемое имя метрики | Единицы | Тип агрегирования | Описание: |
|--------|---------------------|------|------------------|-------------|
| connectedDeviceCount         | Всего подключенных устройств                              | Count  | Итог             | Число устройств, подключенных к IoT Central                               |
| C2D. свойство. Read. Success    | Успешное чтение свойства устройства из IoT Central    | Count  | Итог             | Число всех успешных операций чтения свойств, инициированных из IoT Central    |
| C2D. свойство. Read. Failure    | Сбой чтения свойства устройства из IoT Central        | Count  | Итог             | Число всех неудачных операций чтения свойств, инициированных из IoT Central        |
| D2C. свойство. Read. Success    | Успешное чтение свойств устройства с устройств        | Count  | Итог             | Число всех успешных операций чтения свойств, инициированных с устройств        |
| D2C. свойство. Read. Failure    | Сбой чтения свойств устройства с устройств            | Count  | Итог             | Число всех неудачных операций чтения свойств, инициированных с устройств            |
| C2D. свойство. Update. Success  | Успешное обновление свойств устройства с IoT Central  | Count  | Итог             | Число всех успешных обновлений свойств, инициированных из IoT Central  |
| C2D. свойство. обновление. сбой  | Не удалось обновить свойства устройства с IoT Central      | Count  | Итог             | Число всех неудачных обновлений свойств, инициированных из IoT Central      |
| D2C. свойство. Update. Success  | Успешное обновление свойств устройства с устройств      | Count  | Итог             | Число всех успешных обновлений свойств, инициированных с устройств      |
| D2C. свойство. обновление. сбой  | Не удалось обновить свойства устройства с устройств          | Count  | Итог             | Число всех неудачных обновлений свойств, инициированных с устройств          |

### <a name="metrics-and-invoices"></a>Метрики и счета

Метрики могут отличаться от чисел, указанных в счете Azure IoT Central. Эта ситуация возникает по ряду причин:

- IoT Central [планы стандартных ценообразований](https://azure.microsoft.com/pricing/details/iot-central/) включают два устройства и различные квоты сообщений бесплатно. Хотя свободные элементы исключаются из выставления счетов, они по-прежнему учитываются в метриках.

- IoT Central автоматически создает один идентификатор тестового устройства для каждого шаблона устройства в приложении. Этот идентификатор устройства отображается на странице " **Управление тестовым устройством** " для шаблона устройства. Сборщики решений могут [проверить свои шаблоны устройств](./overview-iot-central.md#create-device-templates) перед их публикацией, создав код, использующий эти идентификаторы устройств. Хотя эти устройства исключаются из выставления счетов, они по-прежнему учитываются в метриках.

- Хотя метрики могут показывать подмножество обмена данными между устройством и облаком, весь обмен данными между устройством и облаком [считается сообщением для выставления счетов](https://azure.microsoft.com/pricing/details/iot-central/).

## <a name="next-steps"></a>Дальнейшие шаги

Теперь, когда вы узнали, как использовать шаблоны приложений, предлагаем следующий шаг — Узнайте, как [управлять IOT Central из портал Azure](howto-manage-iot-central-from-portal.md)
