---
title: Мониторинг подключения устройств с помощью обозревателя Azure IoT Central
description: Отслеживайте сообщения с устройств и изменения двойников устройств с помощью интерфейса командной строки обозревателя IoT Central.
author: viv-liu
ms.author: viviali
ms.date: 06/17/2019
ms.topic: conceptual
ms.service: iot-central
services: iot-central
manager: peterpr
ms.openlocfilehash: ec3ccc0a9fa6d1ae5d6193aacd1b068f2d97afe0
ms.sourcegitcommit: 4c3d6c2657ae714f4a042f2c078cf1b0ad20b3a4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2019
ms.locfileid: "72949616"
---
# <a name="monitor-device-connectivity-using-the-azure-iot-central-explorer"></a>Мониторинг подключения устройств с помощью обозревателя Azure IoT Central

*Этот раздел предназначен для разработчиков и администраторов.*

С помощью интерфейса командной строки (CLI) обозревателя IoT Central можно просматривать сообщения, которые устройства отправляют в IoT Central, и следить за изменениями двойников в центре Интернета вещей. Это средство с открытым кодом позволяет получать более полную информацию о состоянии подключения устройств и диагностировать проблемы с доставкой сообщений от устройств в облако или реакцией устройств на изменение двойников.

[Посетите репозиторий ИОТК-Explorer в GitHub.](https://aka.ms/iotciotcexplorercligithub)

## <a name="prerequisites"></a>Технические условия

+ Node.js версии 8.x или более поздней — https://nodejs.org
+ Администратор приложения должен создать маркер доступа для использования в ИОТК-Explorer.

## <a name="install-iotc-explorer"></a>Установка ИОТК-Explorer

Чтобы установить средство, в командной строке выполните следующую команду:

```cmd/sh
npm install -g iotc-explorer
```

> [!NOTE]
> Обычно необходимо выполнить команду install с `sudo` в средах, подобных Unix.

## <a name="run-iotc-explorer"></a>Запуск ИОТК-Explorer

В следующих разделах описаны общие команды и параметры, которые можно использовать при запуске `iotc-explorer`. Чтобы просмотреть полный набор команд и параметров, передайте `--help` `iotc-explorer` или любой из ее подкоманд.

### <a name="login"></a>Вход

Прежде чем приступать к работе, необходимо попросить администратора приложения IoT Central создать для вас маркер доступа. Администратору потребуется выполнить указанные ниже действия.

1. Перейдите в раздел **Администрирование** и выберите **токены доступа**.
1. Выберите **создать токен**.
    ![Снимок экрана страницы "Маркеры доступа"](media/howto-use-iotc-explorer/accesstokenspage.png)

1. Введите имя маркера, нажмите кнопку **Далее**, а затем **скопируйте**.
    > [!NOTE]
    > Значение маркера отображается только один раз, поэтому перед закрытием диалогового окна его необходимо скопировать. После закрытия диалогового окна оно никогда не отображается.

    ![Снимок экрана диалогового окна, в котором копируется маркер доступа](media/howto-use-iotc-explorer/copyaccesstoken.png)

Токен можно использовать для входа в CLI следующим образом:

```cmd/sh
iotc-explorer login "<Token value>"
```

Если вы предпочитаете не сохранять маркер в журнале оболочки, можно оставить маркер и предоставить его при появлении соответствующего запроса:

```cmd/sh
iotc-explorer login
```

### <a name="monitor-device-messages"></a>Отслеживание сообщений с устройств

Вы можете отслеживать сообщения, поступающие с конкретного устройства или со всех устройств, где используется приложение, с помощью команды `monitor-messages`. Эта команда запускает наблюдатель, который постоянно выводит новые сообщения по мере их прибытия:

Чтобы непрерывно отслеживать все устройства в приложении, выполните следующую команду:

```cmd/sh
iotc-explorer monitor-messages
```

Выходные данные:

![выходные данные команды monitor-messages](media/howto-use-iotc-explorer/monitormessages.png)

Чтобы просмотреть конкретное устройство, просто добавьте идентификатор устройства в конец команды:

```cmd/sh
iotc-explorer monitor-messages <your-device-id>
```

Кроме того, можно выводить более понятный формат компьютера, добавив параметр `--raw` в команду:

```cmd/sh
iotc-explorer monitor-messages --raw
```

### <a name="get-device-twin"></a>Получение двойника устройства

С помощью команды `get-twin` можно получить содержимое двойника для устройства IoT Central. Для этого выполните следующую команду:

```cmd/sh
iotc-explorer get-twin <your-device-id>
```

Выходные данные:

![выходные данные команды get-twin](media/howto-use-iotc-explorer/getdevicetwin.png)

Так же как и в случае с командой `monitor-messages`, вы можете получить данные в машинном формате, передав параметр `--raw`:

```cmd/sh
iotc-explorer get-twin <your-device-id> --raw
```

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы узнали, как использовать проводник IoT Central, предлагаем следующий шаг — изучение [управления устройствами IOT Central](howto-manage-devices.md).
