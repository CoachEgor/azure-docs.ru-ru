---
title: Запрет назначений для ресурсов Azure | Документация Майкрософт
description: Сведения о запрете назначений для ресурсов Azure при управлении доступом на основе ролей (RBAC).
services: active-directory
documentationcenter: ''
author: rolyon
manager: mtillman
ms.assetid: ''
ms.service: role-based-access-control
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 03/13/2019
ms.author: rolyon
ms.reviewer: bagovind
ms.custom: ''
ms.openlocfilehash: 497571a65510f806d7d7994c9dc37f9a00b65a5f
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60197142"
---
# <a name="understand-deny-assignments-for-azure-resources"></a>Запрет назначений для ресурсов Azure

*Запрет назначений*, как и назначение ролей, привязывает набор запрещающих действий к пользователю, группе или субъекту-службе в определенной области с целью отказа в доступе. Запрещающие назначения блокируют выполнение определенных действий ресурсов Azure пользователями, даже если назначение роли предоставляет им доступ. Теперь некоторые поставщики ресурсов в Azure включают запрет назначений.

В некотором смысле запрет назначений отличается от назначения ролей. Запрет назначений может исключить субъекты и запретить наследование к дочерним областям. Запрет назначений также применяется к назначению [классического администратора подписки](rbac-and-directory-admin-roles.md).

В этой статье описывается, как определять запреты назначений.

> [!NOTE]
> В настоящее время единственный способ добавить собственный запрет назначений обеспечивает — использовать Azure Blueprints. Дополнительные сведения см. в статье о [защите новых ресурсов с помощью блокировок ресурсов Azure Blueprints](../governance/blueprints/tutorials/protect-new-resources.md).

## <a name="deny-assignment-properties"></a>Свойства запретов назначений

 Запрет назначений имеет следующие свойства:

> [!div class="mx-tableFixed"]
> | Свойство | Обязательно для заполнения | type | ОПИСАНИЕ |
> | --- | --- | --- | --- |
> | `DenyAssignmentName` | Да | String | Отображаемое имя запрета назначения. Имена должны быть уникальными в пределах области. |
> | `Description` | Нет  | String | Описание запрета назначения. |
> | `Permissions.Actions` | Минимум один Actions или один DataActions. | String[] | Массив строк, определяющих операции управления, к которым запрет назначения блокирует доступ. |
> | `Permissions.NotActions` | Нет  | String[] | Массив строк, определяющих операции управления, освобожденные от запрета назначения. |
> | `Permissions.DataActions` | Минимум один Actions или один DataActions. | String[] | Массив строк, определяющих операции данных, к которым запрет назначения блокирует доступ. |
> | `Permissions.NotDataActions` | Нет  | String[] | Массив строк, определяющих операции данных, исключенные из запрета назначения. |
> | `Scope` | Нет  | String | Строка, определяющая область применения запрета назначения. |
> | `DoNotApplyToChildScopes` | Нет  | Boolean | Указывает, применяется ли запрет назначения к дочерним областям. Значение по умолчанию — false. |
> | `Principals[i].Id` | Yes | String[] | Массив идентификаторов объектов для субъектов Azure AD (пользователь, группа, субъект-служба или управляемое удостоверение), к которым применяется запрет назначения. Чтобы охватить все субъекты, оставьте GUID пустым (`00000000-0000-0000-0000-000000000000`). |
> | `Principals[i].Type` | Нет  | String[] | Массив типов объектов, представленный Principals[i].Id. Чтобы охватить все субъекты, укажите значение `SystemDefined`. |
> | `ExcludePrincipals[i].Id` | Нет  | String[] | Массив идентификаторов объектов для субъектов Azure AD (пользователь, группа, субъект-служба или управляемое удостоверение), к которым не применяется запрет назначения. |
> | `ExcludePrincipals[i].Type` | Нет  | String[] | Массив типов объектов, представленный ExcludePrincipals[i].Id. |
> | `IsSystemProtected` | Нет  | Boolean | Указывает, был ли запрет назначения создан Azure, а значит, не может быть изменен или удален. В настоящее время все запреты назначений защищаются системой. |

## <a name="system-defined-principal"></a>Субъект System-Defined

Для поддержки запретов назначений используется субъект **System-Defined**. Этот субъект представляет всех пользователей, группы, субъекты-службы и управляемые удостоверения в каталоге Azure AD. Если идентификатор субъекта имеет нулевое значение GUID (`00000000-0000-0000-0000-000000000000`), а тип субъекта — `SystemDefined`, субъект представляет все субъекты. `SystemDefined` можно сочетать с `ExcludePrincipals`, чтобы запретить все субъекты, кроме некоторых пользователей. Для `SystemDefined` действуют следующие ограничения:

- Может использоваться только в `Principals` и не может использоваться в `ExcludePrincipals`.
- Для параметра `Principals[i].Type` нужно задать значение `SystemDefined`.

## <a name="next-steps"></a>Дальнейшие действия

* [Представление запретить назначения для ресурсов Azure с помощью портала Azure](deny-assignments-portal.md)
* [Общие сведения об определениях ролей для ресурсов Azure](role-definitions.md)
