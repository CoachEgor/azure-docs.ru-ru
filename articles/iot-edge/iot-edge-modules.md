---
title: Информация о том, как модули запускают приложения логики на ваших устройствах. Azure IoT Edge | Документация Майкрософт
description: Модули Azure IoT Edge — это контейнерные единицы приложений логики, которые можно развертывать и которыми можно управлять удаленно, чтобы запускать приложения бизнес-логики на устройствах IoT Edge
author: kgremban
manager: philmea
ms.author: kgremban
ms.date: 03/21/2019
ms.topic: conceptual
ms.service: iot-edge
services: iot-edge
ms.custom: seodec18
ms.openlocfilehash: 65cac484a9395aca47a38e2ba430b80c868267f5
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "65152665"
---
# <a name="understand-azure-iot-edge-modules"></a>Общие сведения о модулях Azure IoT Edge

Azure IoT Edge позволяет развертывать *модули* бизнес-логики на пограничных устройствах и управлять этими модулями. Модуль Azure IoT Edge представляет собой наименьшую единицу вычислительных ресурсов, которыми управляет IoT Edge. Эти модули могут содержать службы Azure (например, Azure Stream Analytics) или пользовательский код для конкретного решения. Чтобы понять, как модули разработанных, развертывания и обслуживания, полезно думать о четырех концептуальной элементов модуля:

* **Образ модуля** — это пакет с программным обеспечением для модуля.
* **Экземпляр модуля** — это единица вычислительных ресурсов, выполняющая образ модуля на устройстве IoT Edge. Экземпляр модуля запускается средой выполнения IoT Edge.
* **Идентификатор модуля** — это сведения о модуле (включая учетные данные безопасности), которые хранятся в Центре Интернета вещей и относятся к конкретному экземпляру модуля.
* **Двойник модуля** — это документ JSON, хранящийся в Центре Интернета вещей, который содержит данные о состоянии экземпляра модуля, в том числе метаданные, конфигурации и условия. 

## <a name="module-images-and-instances"></a>Образы и экземпляры модулей

Образы модулей IoT Edge содержат приложения, в которых используются функции управления, безопасности и обмена данными среды выполнения IoT Edge. Вы можете создавать собственные образы модулей или экспортировать их из поддерживаемых служб Azure, таких как Azure Stream Analytics.
Образы существуют в облаке, и вы можете обновлять их, изменять и развертывать в разных решениях. Например, существует отдельный модуль, который прогнозирует мощность производственной линии с применением технологий машинного обучения, и другой модуль, который использует компьютерное зрение для управления дроном. 

Каждый раз, когда среда выполнения IoT Edge запускает развернутый на устройстве образ модуля, она создает новый экземпляр этого модуля. Два устройства в разных частях света могут использовать тот же образ модуля. Тем не менее каждое устройство будет иметь свой собственный экземпляр модуля при запуске модуля на устройстве. 

![Диаграмма. Образы модулей в облаке — экземпляры модулей на устройствах](./media/iot-edge-modules/image_instance.png)

На практике образы модулей существуют как образы контейнеров в хранилище данных, а экземпляры модулей реализованы как контейнеры на устройствах. 

<!--
As use cases for Azure IoT Edge grow, new types of module images and instances will be created. For example, resource constrained devices cannot run containers so may require module images that exist as dynamic link libraries and instances that are executables. 
-->

## <a name="module-identities"></a>Идентификаторы модулей

Когда в среде выполнения IoT Edge создается новый экземпляр модуля, он сопоставляется с определенным идентификатором модуля. Идентификатор модуля хранится в Центре Интернета вещей и работает как область адресации и безопасности для всех локальных и облачных взаимодействий с конкретным экземпляром модуля.

Имя идентификатора составляется из идентификатора устройства, на котором запущен этот экземпляр, и имени модуля, указанного в вашем решении. Например, когда вы вызываете модуль `insight`, в котором используется Azure Stream Analytics, и развертываете его на устройстве `Hannover01`, среда выполнения IoT Edge создает для него идентификатор модуля с именем `/devices/Hannover01/modules/insight`.

Иногда нужно развернуть один образ модуля несколько раз на одном устройстве. В таком случае для экземпляров будут использоваться разные имена.

![Диаграмма. Идентификаторы модулей уникальны в рамках каждого устройства и на всех устройствах](./media/iot-edge-modules/identity.png)

## <a name="module-twins"></a>Двойники модулей

С каждым экземпляром модуля сопоставлен определенный двойник модуля, который применяется для настройки экземпляра. Экземпляр и двойник связаны друг с другом через идентификатор модуля. 

Двойник модуля представляет собой документ JSON, в котором собраны сведения о модуле и параметры его конфигурации. Эта концепция работает так же, как и [двойник устройства](../iot-hub/iot-hub-devguide-device-twins.md) в Центре Интернета вещей. Структура двойника модуля идентична структуре двойника устройства. Для взаимодействия с двойниками обоих типов используются одни и те же API-интерфейсы. Единственное различие между ними — идентификатор, который применяется для создания экземпляра клиентского пакета SDK. 

```csharp
// Create a ModuleClient object. This ModuleClient will act on behalf of a 
// module since it is created with a module’s connection string instead 
// of a device connection string. 
ModuleClient client = new ModuleClient.CreateFromEnvironmentAsync(settings); 
await client.OpenAsync(); 
 
// Get the module twin 
Twin twin = await client.GetTwinAsync(); 
```

## <a name="offline-capabilities"></a>Возможности автономной работы

Модули Azure IoT Edge может работать автономно неопределенное время, после синхронизации с центром Интернета вещей, по крайней мере один раз. Устройства IoT Edge также можно расширить этот режим работы вне сети для других устройств Интернета вещей. Дополнительные сведения см. в разделе [Сведения о расширенных возможностях автономной работы устройств, модулей и дочерних устройств IoT Edge](offline-capabilities.md).

## <a name="next-steps"></a>Дальнейшие действия
 - [Сведения о требованиях и средствах разработки модулей IoT Edge](module-development.md)
 - [Общие сведения о среде выполнения Azure IoT Edge и ее архитектуре](iot-edge-runtime.md)

