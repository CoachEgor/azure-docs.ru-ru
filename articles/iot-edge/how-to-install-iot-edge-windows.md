---
title: Установка Azure IoT Edge в Windows | Документация Майкрософт
description: Инструкции по установке Azure IoT Edge в Windows 10, Windows Server и Windows IoT Базовая
author: kgremban
manager: philmea
ms.reviewer: veyalla
ms.service: iot-edge
services: iot-edge
ms.topic: conceptual
ms.date: 04/09/2020
ms.author: kgremban
ms.openlocfilehash: 61b382f1c286209a12d0be39a81e6817806d3251
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "81113458"
---
# <a name="install-the-azure-iot-edge-runtime-on-windows"></a>Установка среды выполнения Azure IoT Edge в Windows

Среда выполнения Azure IoT Edge превращает устройство в устройство IoT Edge. Среду выполнения можно развернуть на всех устройствах — от небольшого Raspberry Pi до технического сервера. Как только на устройстве будет настроена среда выполнения IoT Edge, вы можете начать развертывать в нее бизнес-логику из облака.

Дополнительные сведения о среде выполнения IoT Edge см. в статье [Общие сведения о среде выполнения Azure IoT Edge и ее архитектуре](iot-edge-runtime.md).

В этой статье перечислены действия по установке среды выполнения Azure IoT Edge в системе Windows x64 (AMD и Intel) с помощью контейнеров Windows.

> [!NOTE]
> Известная ошибка операционной системы Windows не позволяет переходить в спящий режим и режим гибернации при IoT Edgeных модулях (контейнеры Windows Nano Server с изолированной обработкой). Эта проблема влияет на время работы батареи устройства.
>
> В качестве обходного решения используйте команду `Stop-Service iotedge` , чтобы прерывать работающие IOT Edge модули перед использованием этих режимов питания.

Использование контейнеров Linux в системах Windows не является рекомендуемым или поддерживаемым производственной конфигурацией для Azure IoT Edge. Однако его можно использовать для целей разработки и тестирования. Дополнительные сведения см. в статье [использование IOT EDGE в Windows для запуска контейнеров Linux](how-to-install-iot-edge-windows-with-linux.md).

Сведения о том, что входит в последнюю версию IoT Edge, см. в разделе [Azure IOT Edge выпуски](https://github.com/Azure/azure-iotedge/releases).

## <a name="prerequisites"></a>Предварительные условия

В этом разделе можно посмотреть, поддерживает ли устройство Windows IoT Edge, а также подготовить его для подсистемы контейнеров перед установкой.

### <a name="supported-windows-versions"></a>Поддерживаемые версии Windows

IoT Edge для Windows требуется версия Windows 1809/Build 17763, которая является последней [сборкой долгосрочной поддержки Windows](https://docs.microsoft.com/windows/release-information/). Сведения о поддержке SKU Windows см. в разделе что поддерживается в зависимости от того, готовитесь ли вы к производственным сценариям или к сценариям разработки и тестирования:

* **Рабочая среда**. последние сведения о том, какие операционные системы в настоящее время поддерживаются в рабочих сценариях, см. в разделе [Azure IOT Edge Поддерживаемые системы](support.md#operating-systems).
* **Разработка и тестирование**. в сценариях разработки и тестирования Azure IOT Edge с контейнерами Windows можно установить в любой версии Windows 10 или windows Server 2019, поддерживающей функцию контейнеров.

Устройства центра Интернета вещей должны включать дополнительный компонент контейнеров Windows IoT Core для поддержки IoT Edge среды выполнения. Используйте следующую команду в [удаленном сеансе PowerShell](https://docs.microsoft.com/windows/iot-core/connect-your-device/powershell) , чтобы проверить, поддерживаются ли на устройстве контейнеры Windows:

```powershell
Get-Service vmcompute
```

Если служба присутствует, вы должны получить успешный ответ со статусом службы в списке **выполняется**. Если `vmcompute` служба не найдена, устройство не соответствует требованиям для IOT Edge. Обратитесь к поставщику оборудования, чтобы узнать о поддержке этой функции.

### <a name="prepare-for-a-container-engine"></a>Подготовка для подсистемы контейнеров

Служба Azure IoT Edge использует подсистему контейнеров, [совместимую с OCI](https://www.opencontainers.org/). В рабочей среде используйте подсистему Moby, включенную в скрипт установки, для запуска контейнеров Windows на устройстве Windows.

## <a name="install-iot-edge-on-a-new-device"></a>Установка IoT Edge на новое устройство

>[!NOTE]
>Использование программных пакетов Azure IoT Edge регулируется условиями лицензии, содержащейся в самих пакетах (в каталоге LICENSE). Прежде чем использовать пакет, ознакомьтесь с условиями лицензии. Установка и использование пакета означают, что вы принимаете эти условия. Если вы не согласны с условиями лицензии, не используйте пакет.

Сценарий PowerShell загружает и устанавливает управляющую программу безопасности Azure IoT Edge. Управляющая программа безопасности запускает первый из двух модулей среды выполнения, агент IoT Edge, который обеспечивает удаленные развертывания других модулей.

>[!TIP]
>Для устройств IoT Core рекомендуется выполнять команды установки с помощью сеанса Ремотеповершелл. Дополнительные сведения см. [в статье Использование PowerShell для Windows IOT](https://docs.microsoft.com/windows/iot-core/connect-your-device/powershell).

При установке среды выполнения IoT Edge в первый раз на устройстве нужно подготовить устройство с помощью удостоверения из центра Интернета вещей. Отдельное IoT Edge устройство можно подготовить вручную, используя строку подключения устройства, предоставленную Центром Интернета вещей. Вы также можете использовать службу подготовки устройств (DPS) для автоматической подготовки устройств, что полезно при наличии множества устройств для настройки. В зависимости от выбранного способа подготовки выберите соответствующий скрипт установки.

Следующие разделы описывают распространенные варианты использования и параметров для скрипта установки IoT Edge на новое устройство.

### <a name="option-1-install-and-manually-provision"></a>Вариант 1. Установка и подготовка вручную

В этом первом варианте вы задаете **строку подключения устройства** , созданную центром Интернета вещей для инициализации устройства.

В этом примере демонстрируется установка вручную с контейнерами Windows.

1. Если вы еще этого не сделали, зарегистрируйте новое устройство IoT Edge и получите **строку подключения устройства**. Скопируйте строку подключения для использования далее в этом разделе. Этот шаг можно выполнить с помощью следующих средств:

   * [Портал Azure](how-to-register-device.md#register-in-the-azure-portal)
   * [Azure CLI](how-to-register-device.md#register-with-the-azure-cli)
   * [Visual Studio Code](how-to-register-device.md#register-with-visual-studio-code)

2. Откройте сеанс PowerShell от имени администратора.

   >[!NOTE]
   >Для установки IoT Edge используйте сеанс AMD64 PowerShell, а не PowerShell (x86). Чтобы узнать, какой тип сеанса используется, выполните следующую команду:
   >
   >```powershell
   >(Get-Process -Id $PID).StartInfo.EnvironmentVariables["PROCESSOR_ARCHITECTURE"]
   >```

3. Команда **deploy-IoTEdge** проверяет, что компьютер Windows находится в поддерживаемой версии, включает функцию контейнеров, а затем загружает среду выполнения значок Кита и среду выполнения IOT Edge. Команда по умолчанию использует контейнеры Windows.

   ```powershell
   . {Invoke-WebRequest -useb https://aka.ms/iotedge-win} | Invoke-Expression; `
   Deploy-IoTEdge
   ```

4. На этом этапе устройства IoT Core могут перезапускаться автоматически. Другие устройства Windows 10 или Windows Server могут предложить перезагрузку. Если да, перезагрузите устройство прямо сейчас. Когда устройство будет готово, снова запустите PowerShell от имени администратора.

5. Команда **Initialize-IoTEdge** настраивает среду выполнения IoT Edge на вашем компьютере. По умолчанию при выполнении команды применяется подготовка вручную с помощью контейнеров Windows.

   ```powershell
   . {Invoke-WebRequest -useb https://aka.ms/iotedge-win} | Invoke-Expression; `
   Initialize-IoTEdge
   ```

6. При появлении запроса введите строку подключения устройства, полученную на шаге 1. Строка подключения устройства связывает физическое устройство с ИДЕНТИФИКАТОРом устройства в центре Интернета вещей.

   Строка подключения устройства имеет следующий формат и не должна содержать кавычки:`HostName={IoT hub name}.azure-devices.net;DeviceId={device name};SharedAccessKey={key}`

7. Выполните действия, описанные в разделе [Проверка успешной установки](#verify-successful-installation) , чтобы проверить состояние IOT EDGE на устройстве.

Когда вы устанавливаете и подготавливаете устройство вручную, можно использовать дополнительные параметры для изменения установки, том числе сделать следующее.

* Направить трафик через прокси-сервер.
* Указать установщику автономный каталог.
* Объявить определенный образ контейнера агента и указать учетные данные, если он находится в частном реестре.

Дополнительные сведения об этих параметрах установки см. в статье о [всех параметрах установки](#all-installation-parameters).

### <a name="option-2-install-and-automatically-provision"></a>Вариант 2. Установка и автоматическая подготовка

Во втором варианте подготовка устройства выполняется с помощью службы подготовки устройств к добавлению в Центр Интернета вещей. Укажите **идентификатор области** из экземпляра службы подготовки устройств, а также другие сведения, относящиеся к предпочтительному [механизму аттестации](../iot-dps/concepts-security.md#attestation-mechanism):

* [Создание и инициализация имитации устройства IoT Edge с помощью виртуального доверенного платформенного модуля в Windows](how-to-auto-provision-simulated-device-windows.md)
* [Создание и инициализация имитации IoT Edge устройства с помощью сертификатов X. 509](how-to-auto-provision-x509-certs.md)
* [Создание и инициализация устройства IoT Edge с помощью аттестации симметричных ключей](how-to-auto-provision-symmetric-keys.md)

При автоматической установке и подготовке устройства можно использовать дополнительные параметры для изменения установки, в том числе:

* Направить трафик через прокси-сервер.
* Указать установщику автономный каталог.
* Объявить определенный образ контейнера агента и указать учетные данные, если он находится в частном реестре.

Дополнительные сведения об этих параметрах установки вы найдете далее в этой статье. Вы можете пропустить этот раздел и ознакомиться со [всеми параметрами установки](#all-installation-parameters).

## <a name="offline-or-specific-version-installation"></a>Установка в автономном режиме или с определенной версией

Во время установки будут скачаны три файла:

* Сценарий PowerShell, содержащий инструкции по установке
* Microsoft Azure IoT Edge CAB-файл, содержащий управляющую программу IoT Edge (иотеджед), контейнер значок Кита и интерфейс командной строки значок Кита
* Установщик Visual C++ распространяемого пакета (среда выполнения VC)

Если устройство будет отключено во время установки или вы хотите установить определенную версию IoT Edge, эти файлы можно загрузить на устройство заранее. Когда пора установить, наведите сценарий установки в каталог, содержащий Скачанные файлы. Установщик сначала проверяет каталог, а затем загружает только те компоненты, которые не найдены. Если все файлы доступны в автономном режиме, можно установить без подключения к Интернету.

Можно также использовать параметр пути автономной установки для обновления IoT Edge. Дополнительные сведения см. в разделе [Обновление управляющей программы безопасности и среды выполнения IoT Edge](how-to-update-iot-edge.md).

1. Последние файлы установки IoT Edge вместе с предыдущими версиями см. в разделе [Azure IOT Edge выпуски](https://github.com/Azure/azure-iotedge/releases).

2. Найдите версию, которую вы хотите установить, и скачайте следующие файлы из раздела " **активы** " заметки о выпуске на устройство IOT:

   * Иотеджесекуритидаемон. ps1
   * Microsoft-Azure-IoTEdge-amd64. cab из выпусков 1.0.9 или более поздней версии или Микрософт-Азуре-иотедже. cab из выпусков 1.0.8 и более старых версий.

   Microsoft-Azure-IotEdge-arm32. cab также доступен начиная с 1.0.9 только в целях тестирования. IoT Edge в настоящее время не поддерживается на устройствах Windows ARM32.

   Очень важно использовать сценарий PowerShell из того же выпуска, что и используемый CAB-файл, так как функциональность изменяется для поддержки функций в каждом выпуске.

3. Если загруженный CAB-файл имеет суффикс архитектуры, переименуйте файл в **Микрософт-Азуре-иотедже. cab**.

4. При необходимости скачайте установщик для распространяемого пакета Visual C++. Например, сценарий PowerShell использует эту версию: [vc_redist. x64. exe](https://download.microsoft.com/download/0/6/4/064F84EA-D1DB-4EAA-9A5C-CC2F0FF6A638/vc_redist.x64.exe). Сохраните установщик в той же папке на устройстве IoT, что и файлы IoT Edge.

5. Чтобы установить с автономными компонентами, [источником точки](https://docs.microsoft.com/powershell/module/microsoft.powershell.core/about/about_scripts?view=powershell-7#script-scope-and-dot-sourcing) является локальная копия сценария PowerShell. Затем используйте параметр в `-OfflineInstallationPath` составе `Deploy-IoTEdge` команды и укажите абсолютный путь к каталогу файла. Например, примененная к объекту директива

   ```powershell
   . <path>\IoTEdgeSecurityDaemon.ps1
   Deploy-IoTEdge -OfflineInstallationPath <path>
   ```

   Команда развертывания будет использовать все компоненты, найденные в указанном каталоге локальных файлов. Если CAB-файл или установщик Visual C++ отсутствуют, он попытается скачать их.

6. Выполните `Initialize-IoTEdge` команду для подготовки устройства с удостоверением в центре Интернета вещей. Укажите строку подключения устройства для подготовки вручную или выберите один из методов, описанных в предыдущем разделе [автоматической подготовки](#option-2-install-and-automatically-provision) .

   Если устройство перезагружено после выполнения `Deploy-IoTEdge`, перед запуском `Initialize-IoTEdge`запустите сценарий PowerShell с помощью точки.

Дополнительные сведения о параметрах установки в автономном режиме см. в статье [все параметры установки](#all-installation-parameters).

## <a name="verify-successful-installation"></a>Проверка установки

Проверьте состояние службы IoT Edge. Оно должно быть указано как работает.  

```powershell
Get-Service iotedge
```

Просмотрите журналы службы за последние пять минут. Если вы только что установили среду выполнения IoT Edge, может отобразиться список ошибок с момента запуска **deploy-IoTEdge** и **Initialize-IoTEdge**. Эти ошибки являются ожидаемыми, так как служба пытается запуститься перед настройкой.

```powershell
. {Invoke-WebRequest -useb https://aka.ms/iotedge-win} | Invoke-Expression; Get-IoTEdgeLog
```

Выполните автоматическую проверку наиболее распространенных ошибок конфигурации и сети.

```powershell
iotedge check
```

Просмотрите список запущенных модулей. После новой установки единственным модулем, который вы должны увидеть, является **edgeAgent**. После первого [развертывания модулей IOT Edge](how-to-deploy-modules-portal.md) на устройстве будет запущен другой системный модуль **edgeHub**.

```powershell
iotedge list
```

## <a name="manage-module-containers"></a>Управление контейнерами модулей

Для работы службы IoT Edge требуется, чтобы на устройстве выполнялся модуль контейнера. При развертывании модуля на устройстве среда выполнения IoT Edge использует подсистему контейнеров для извлечения образа контейнера из реестра в облаке. Служба IoT Edge позволяет взаимодействовать с модулями и получать журналы, но иногда может потребоваться использовать модуль контейнеров для взаимодействия с самим контейнером.

Дополнительные сведения об основных понятиях модуля см. в разделе [Знакомство с Azure IOT Edge модулями](iot-edge-modules.md).

Если вы используете контейнеры Windows на устройстве Windows IoT Edge, то IoT Edgeная установка включала подсистему контейнеров значок Кита. Подсистема значок Кита была основана на тех же стандартах, что и DOCKER, и была разработана для параллельного выполнения на том же компьютере, что и DOCKER Desktop. По этой причине, если вы хотите нацелить контейнеры, управляемые подсистемой значок Кита, необходимо специально указать эту подсистему вместо DOCKER.

Например, чтобы получить список всех образов DOCKER, используйте следующую команду:

```powershell
docker images
```

Чтобы получить список всех образов значок Кита, измените ту же команду, указав указатель на подсистему значок Кита:

```powershell
docker -H npipe:////./pipe/iotedge_moby_engine images
```

Универсальный код ресурса (URI) обработчика указан в выходных данных скрипта установки, или его можно найти в разделе Параметры среды выполнения контейнера для файла config. YAML.

![moby_runtime URI в файле config. YAML](./media/how-to-install-iot-edge-windows/moby-runtime-uri.png)

Дополнительные сведения о командах, которые можно использовать для взаимодействия с контейнерами и изображениями, работающими на устройстве, см. в разделе [интерфейсы командной строки DOCKER](https://docs.docker.com/engine/reference/commandline/docker/).

## <a name="uninstall-iot-edge"></a>Удаление IoT Edge

Если вы хотите удалить установку IoT Edge с устройства Windows, используйте следующую команду в окне администратора PowerShell. Эта команда удаляет среду выполнения IoT Edge вместе с существующей конфигурацией и данными подсистемы Moby.

```powershell
. {Invoke-WebRequest -useb aka.ms/iotedge-win} | Invoke-Expression; `
Uninstall-IoTEdge
```

Команда uninstall-IoTEdge не работает в Windows IoT базовая. Чтобы удалить IoT Edge с устройств Windows IoT Core, необходимо повторно развернуть образ Windows IoT Core.

Для получения дополнительных сведений о параметрах удаления используйте команду `Get-Help Uninstall-IoTEdge -full`.

## <a name="verify-installation-script"></a>Проверка сценария установки

Команды установки, приведенные в этой статье, используют командлет Invoke-WebRequest для запроса скрипта установки из `aka.ms/iotedge-win`. Эта ссылка указывает на`IoTEdgeSecurityDaemon.ps1` скрипт из последней [версии IOT Edge](https://github.com/Azure/azure-iotedge/releases). Вы также можете скачать этот скрипт или версию скрипта из определенного выпуска, чтобы выполнить команды установки на устройстве IoT Edge.

Предоставленный скрипт подписывается для повышения безопасности. Проверить подпись можно, загрузив сценарий на устройство, а затем выполнив следующую команду PowerShell:

```powershell
Get-AuthenticodeSignature "C:\<path>\IotEdgeSecurityDaemon.ps1"
```

Состояние вывода **допустимо** , если подпись проверена.

## <a name="all-installation-parameters"></a>Все параметры установки

В предыдущих разделах представлены общие сценарии установки с примерами того, как использовать параметры для изменения скрипта установки. В этом разделе содержатся справочные таблицы по общим параметрам, используемым для установки, обновления или удаления IoT Edge.

### <a name="deploy-iotedge"></a>Deploy-IoTEdge

Команда deploy-IoTEdge скачивает и развертывает управляющую программу безопасности IoT Edge и ее зависимости. Команда развертывания принимает эти общие параметры, а также другие. Для полного списка используйте команду `Get-Help Deploy-IoTEdge -full`.  

| Параметр | Допустимые значения | Комментарии |
| --------- | --------------- | -------- |
| **ContainerOs** | **Windows** или **Linux** | Если не указана операционная система контейнера, значение по умолчанию — Windows.<br><br>Для контейнеров Windows IoT Edge использует подсистему контейнеров значок Кита, входящую в установку. Для контейнеров Linux необходимо установить подсистему контейнеров перед началом установки. |
| **Прокси** | URL-адрес прокси-сервера. | Включите этот параметр, если ваше устройство подключается к Интернету через прокси-сервер. Дополнительные сведения см. в статье [Настройка устройства IoT Edge для обмена данными через прокси-сервер](how-to-configure-proxy-support.md). |
| **OfflineInstallationPath** | Путь к каталогу. | Если этот параметр включен, установщик будет проверять указанный каталог на наличие файлов MSI для IoT Edge CAB и среды выполнения VC, необходимых для установки. Скачаны все файлы, не найденные в каталоге. Если оба файла находятся в каталоге, можно установить IoT Edge без подключения к Интернету. Этот параметр также можно использовать для использования определенной версии. |
| **InvokeWebRequestParameters** | Хэш-таблица параметров и значений. | Во время установки выполняется несколько веб-запросов. Используйте это поле, чтобы задать параметры для этих веб-запросов. Этот параметр нужен, чтобы настроить учетные данные для прокси-серверов. Дополнительные сведения см. в статье [Настройка устройства IoT Edge для обмена данными через прокси-сервер](how-to-configure-proxy-support.md). |
| **рестартифнидед** | none | Этот флаг позволяет скрипту развертывания перезапускать компьютер без запроса при необходимости. |

### <a name="initialize-iotedge"></a>Initialize-IoTEdge

Команда Initialize-IoTEdge настраивает IoT Edge с помощью строки подключения устройства и сведений о работе. Большая часть информации, создаваемой этой командой, сохраняется в файле иотедже\конфиг.ямл. Команда инициализации принимает и другие общие параметры. Для полного списка используйте команду `Get-Help Initialize-IoTEdge -full`.

| Параметр | Допустимые значения | Комментарии |
| --------- | --------------- | -------- |
| **Manual** (Вручную) | Нет | **Параметр Switch**. Если тип подготовки не указан, по умолчанию используется значение вручную.<br><br>Объявляет, что вы предоставите строку подключения устройства для подготовки устройства вручную. |
| **Сможет** | Нет | **Параметр Switch**. Если тип подготовки не указан, по умолчанию используется значение вручную.<br><br>Объявляет, что вы предоставите идентификатор области службы подготовки устройств (DPS) и идентификатор регистрации устройства для подготовки через DPS.  |
| **девицеконнектионстринг** | Строка подключения из устройства IoT Edge, зарегистрированного в Центре Интернета вещей, в одинарных кавычках. | **Требуется** для подготовки вручную. Если вы не предложит строку подключения в параметрах сценария, вам будет предложено ввести ее. |
| **ScopeId** | Идентификатор области из экземпляра службы подготовки устройств, связанного с Центром Интернета вещей. | **Требуется** для подготовки политики диагностики. Если вы не предложит идентификатор области в параметрах сценария, вам будет предложено ввести его. |
| **RegistrationId** | Идентификатор регистрации, созданный вашим устройством. | **Требуется** для подготовки DPS при использовании TPM или аттестации симметричного ключа. **Необязательно** , если используется аттестация сертификата X. 509. |
| **X509IdentityCertificate** | Путь URI к сертификату удостоверения устройства X. 509 на устройстве. | **Требуется** для подготовки DPS при использовании аттестации сертификата X. 509. |
| **X509IdentityPrivateKey** | Путь URI к ключу сертификата удостоверения устройства X. 509 на устройстве. | **Требуется** для подготовки DPS при использовании аттестации сертификата X. 509. |
| **SymmetricKey** | Симметричный ключ, используемый для подготовки удостоверения устройства IoT Edge при использовании DPS | **Требуется** для подготовки DPS при использовании аттестации симметричных ключей. |
| **ContainerOs** | **Windows** или **Linux** | Если не указана операционная система контейнера, значение по умолчанию — Windows.<br><br>Для контейнеров Windows IoT Edge использует подсистему контейнеров значок Кита, входящую в установку. Для контейнеров Linux необходимо установить подсистему контейнеров перед началом установки. |
| **InvokeWebRequestParameters** | Хэш-таблица параметров и значений. | Во время установки выполняется несколько веб-запросов. Используйте это поле, чтобы задать параметры для этих веб-запросов. Этот параметр нужен, чтобы настроить учетные данные для прокси-серверов. Дополнительные сведения см. в статье [Настройка устройства IoT Edge для обмена данными через прокси-сервер](how-to-configure-proxy-support.md). |
| **AgentImage** | URI образа агента IoT Edge. | По умолчанию новая установка IoT Edge использует последний тег для образа агента IoT Edge. Используйте этот параметр, чтобы задать определенный тег для версии образа, или предоставьте свой образ агента. Дополнительные сведения см. в статье [Основные сведения о тегах IoT Edge](how-to-update-iot-edge.md#understand-iot-edge-tags). |
| **Имя пользователя** | Имя пользователя реестра контейнеров | Используйте этот параметр только в том случае, если вы задаете значение параметра -AgentImage для контейнера в частном реестре. Укажите имя пользователя с доступом к реестру. |
| **Пароль** | Строка надежного пароля. | Используйте этот параметр только в том случае, если вы задаете значение параметра -AgentImage для контейнера в частном реестре. Укажите пароль для доступа к реестру. |

### <a name="update-iotedge"></a>Update-IoTEdge

| Параметр | Допустимые значения | Комментарии |
| --------- | --------------- | -------- |
| **ContainerOs** | **Windows** или **Linux** | Если ОС контейнера не указана, по умолчанию используется значение Windows. Для контейнеров Windows подсистема контейнеров будет включена в установку. Для контейнеров Linux необходимо установить подсистему контейнеров перед началом установки. |
| **Прокси** | URL-адрес прокси-сервера. | Включите этот параметр, если ваше устройство подключается к Интернету через прокси-сервер. Дополнительные сведения см. в статье [Настройка устройства IoT Edge для обмена данными через прокси-сервер](how-to-configure-proxy-support.md). |
| **InvokeWebRequestParameters** | Хэш-таблица параметров и значений. | Во время установки выполняется несколько веб-запросов. Используйте это поле, чтобы задать параметры для этих веб-запросов. Этот параметр нужен, чтобы настроить учетные данные для прокси-серверов. Дополнительные сведения см. в статье [Настройка устройства IoT Edge для обмена данными через прокси-сервер](how-to-configure-proxy-support.md). |
| **OfflineInstallationPath** | Путь к каталогу. | Если этот параметр включен, установщик будет проверять указанный каталог на наличие файлов MSI для IoT Edge CAB и среды выполнения VC, необходимых для установки. Скачаны все файлы, не найденные в каталоге. Если оба файла находятся в каталоге, можно установить IoT Edge без подключения к Интернету. Этот параметр также можно использовать для использования определенной версии. |
| **рестартифнидед** | none | Этот флаг позволяет скрипту развертывания перезапускать компьютер без запроса при необходимости. |

### <a name="uninstall-iotedge"></a>Uninstall-IoTEdge

| Параметр | Допустимые значения | Комментарии |
| --------- | --------------- | -------- |
| **Перевести** | none | Этот флаг принудительно выполняет удаление, если предыдущая попытка удаления завершилась неудачно.
| **рестартифнидед** | none | Этот флаг позволяет сценарию удаления перезапускать компьютер без запроса при необходимости. |

## <a name="next-steps"></a>Дальнейшие шаги

Теперь, когда подготовлено устройство IoT Edge и установлена среда выполнения, вы можете [развернуть модули IoT Edge](how-to-deploy-modules-portal.md).

Если вам не удается установить IoT Edge, перейдите на страницу со сведениями об [устранении неполадок](troubleshoot.md).

Чтобы обновить существующую установку до последней версии IoT Edge, см. раздел [Обновление управляющей программы безопасности и среды выполнения IoT Edge](how-to-update-iot-edge.md).
