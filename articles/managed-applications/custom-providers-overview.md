---
title: Обзор предварительной версии Azure настраиваемые поставщики
description: Рассматриваются сведения о создании собственный поставщик ресурсов с помощью Azure Resource Manager
author: MSEvanhi
ms.service: managed-applications
ms.topic: conceptual
ms.date: 05/01/2019
ms.author: evanhi
ms.openlocfilehash: bbfb10f612690af0f4fd3683e0f58986a21048d8
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "65159860"
---
# <a name="azure-custom-providers-preview-overview"></a>Общие сведения о предварительной версии настраиваемые поставщики Azure

С помощью настраиваемых поставщиков Azure вы можете расширить Azure для работы с вашей службой. Можно создать собственный поставщик ресурсов, включая настроенный ресурс типов и действий. Пользовательский поставщик интегрируется с Azure Resource Manager. Функции диспетчера ресурсов, такие как шаблоны-развертывания и управления доступом на основе ролей, можно использовать для развертывания и защиты службы.

В этой статье обзор настраиваемых поставщиков и ее возможностях. Ниже приведен рабочий процесс для ресурсов и действий, определенных в пользовательского поставщика.

![Обзор пользовательского поставщика](./media/custom-providers-overview/overview.png)

> [!IMPORTANT]
> Настраиваемые поставщики сейчас находится в общедоступной предварительной версии.
> Эта предварительная версия предоставляется без соглашения об уровне обслуживания и не рекомендована для использования рабочей среде. Некоторые функции могут не поддерживаться или их возможности могут быть ограничены. Дополнительные сведения см. в статье [Дополнительные условия использования предварительных выпусков Microsoft Azure](https://azure.microsoft.com/support/legal/preview-supplemental-terms/).

## <a name="define-your-custom-provider"></a>Определение пользовательского поставщика

Сначала, позволяя Azure Resource Manager знать о пользовательского поставщика. Развертывание в Azure ресурс пользовательского поставщика, который использует тип ресурса **Microsoft.CustomProviders/resourceProviders**. В этот ресурс определить ресурсы и действия для службы.

Например, если службе нужна тип ресурса с именем **пользователей**, включите этот тип ресурса в определение настраиваемого поставщика. Для каждого типа ресурсов необходимо предоставить конечную точку, которая предоставляет операции REST (PUT, GET, DELETE) для этого типа ресурса. Конечная точка может размещаться в любой среде, и он содержит логику для как служба обрабатывает операции с типом ресурса.

Можно также определить пользовательские действия для поставщика ресурсов. Действия представляют операции POST. Использовать действия для операций, таких как запуск, остановка и перезапуск. Вы предоставить конечную точку, которая обрабатывает запрос.

В следующем примере показано, как для определения пользовательского поставщика с помощью действия и тип ресурса.

```json
{
  "apiVersion": "2018-09-01-preview",
  "type": "Microsoft.CustomProviders/resourceProviders",
  "name": "[parameters('funcName')]",
  "location": "[parameters('location')]",
  "properties": {
    "actions": [
      {
        "name": "ping",
        "routingType": "Proxy",
        "endpoint": "[concat('https://', parameters('funcName'), '.azurewebsites.net/api/{requestPath}')]"
      }
    ],
    "resourceTypes": [
      {
        "name": "users",
        "routingType": "Proxy,Cache",
        "endpoint": "[concat('https://', parameters('funcName'), '.azurewebsites.net/api/{requestPath}')]"
      }
    ]
  }
},
```

Для **routingType**, допустимые значения `Proxy` и `Cache`. Прокси-сервера означает, что запросы для типа ресурса или действие обрабатываются конечной точкой. Параметр кэша поддерживается только для типов ресурсов, не действия. Чтобы указать кэш, необходимо также указать прокси-сервера. Кэш означает, что для оптимизации операций чтения хранятся ответы от конечной точки. С помощью параметра кэша упрощает реализацию интерфейсом API, согласованный и совместимые с другими службами Resource Manager.

## <a name="deploy-your-resource-types"></a>Развертывание типов ресурсов

После определения пользовательского поставщика, вы можете развернуть настроенный ресурс типы. В следующем примере показано JSON, что вы включили в шаблон для развертывания типа ресурса для пользовательского поставщика. Этот тип ресурса могут развертываться в том же шаблоне, с другими ресурсами Azure.

```json
{
    "apiVersion": "2018-09-01-preview",
    "type": "Microsoft.CustomProviders/resourceProviders/users",
    "name": "[concat(parameters('rpname'), '/santa')]",
    "location": "[parameters('location')]",
    "properties": {
        "FullName": "Santa Claus",
        "Location": "NorthPole"
    }
}
```

## <a name="manage-access"></a>Управление доступом

Используйте Azure [управление доступом на основе ролей](../role-based-access-control/overview.md) для управления доступом к поставщику ресурсов. Вы можете назначить [встроенные роли](../role-based-access-control/built-in-roles.md) например владельца, участника или читателя пользователям. Или можно определить [пользовательские роли](../role-based-access-control/custom-roles.md) , которые относятся к операциям в поставщике ресурсов.

## <a name="next-steps"></a>Дальнейшие действия

В этой статье вы узнали о настраиваемых поставщиков. Перейдите к следующей статье, чтобы создать пользовательский поставщик.

> [!div class="nextstepaction"]
> [Учебник. Создание пользовательского поставщика и развертывание настраиваемых ресурсов](create-custom-provider.md)
