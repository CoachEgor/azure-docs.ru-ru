---
title: Тестирование определения пользовательского интерфейса для Управляемых приложений Azure | Документация Майкрософт
description: В этой статье приводятся сведения о тестировании пользовательского интерфейса для создания Управляемого приложения Azure с помощью портала.
author: tfitzmac
ms.service: managed-applications
ms.topic: conceptual
ms.date: 05/26/2019
ms.author: tomfitz
ms.openlocfilehash: 99ca319910be2cb20214172826eb40361abe72f0
ms.sourcegitcommit: 25a60179840b30706429c397991157f27de9e886
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/28/2019
ms.locfileid: "66257586"
---
# <a name="test-your-portal-interface-for-azure-managed-applications"></a>Тестирования портала интерфейса для управляемых приложений Azure

После [Создание файл createUiDefinition.json](create-uidefinition-overview.md) для управляемого приложения необходимо протестировать взаимодействие с пользователем. Чтобы упростить тестирование, используйте среде «песочницы», который загружает файл на портале. Вам не нужно развертывать управляемое приложение. «Песочницы» предоставляет пользовательский интерфейс на портале текущий, весь экран. Или можно использовать сценарий PowerShell для тестирования интерфейса, но он использует устаревшие представление портала. В этой статье описаны оба подхода. Песочница — рекомендуемый способ Предварительный просмотр интерфейса.

## <a name="prerequisites"></a>Технические условия

* Файл **createUiDefinition.json**. Если у вас нет, этот файл, скопируйте [образец файла](https://github.com/Azure/azure-quickstart-templates/blob/master/100-marketplace-sample/createUiDefinition.json).

* Подписка Azure. Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись Azure](https://azure.microsoft.com/free/), прежде чем начинать работу.

## <a name="use-sandbox"></a>Изолированная среда используется

1. Откройте [Создание "песочницы" для определения пользовательского интерфейса](https://portal.azure.com/?feature.customPortal=false&#blade/Microsoft_Azure_CreateUIDef/SandboxBlade).

   ![Показать "песочницы"](./media/test-createuidefinition/show-sandbox.png)

1. Замените содержимое файла createUiDefinition.json пустое определение. Выберите **предварительной версии**.

   ![Щелкните значок предварительного просмотра](./media/test-createuidefinition/select-preview.png)

1. Отображается форма, которую вы создали. Можно пошагово взаимодействие с пользователем и заполните значения.

   ![Просмотр формы](./media/test-createuidefinition/show-ui-form.png)

### <a name="troubleshooting"></a>Устранение неполадок

Если формы не отображается после выбора **предварительной версии**, может содержать синтаксическую ошибку. Найдите красный индикатор на полосе прокрутки вправо и перейдите к нему.

![Показать синтаксическая ошибка](./media/test-createuidefinition/show-syntax-error.png)

Если не отображает форму, а вместо этого вы увидите значок облака с помощью перетаскивания разрыва, в форме есть ошибка, например отсутствует свойство. Откройте веб-инструменты для разработчиков в браузере. В **консоли** отображаются важные сообщения об интерфейсе.

![Отображение ошибки](./media/test-createuidefinition/show-error.png)

## <a name="use-test-script"></a>Запустите тестовый скрипт

Чтобы протестировать свой интерфейс на портале, скопируйте один из следующих сценариев на локальный компьютер:

* [PowerShell side-load script](https://github.com/Azure/azure-quickstart-templates/blob/master/SideLoad-CreateUIDefinition.ps1)
* [Azure CLI side-load script](https://github.com/Azure/azure-quickstart-templates/blob/master/sideload-createuidef.sh)

Чтобы просмотреть файл интерфейса на портале, запустите загруженный сценарий. Сценарий создаст учетную запись хранения в вашей подписке Azure и загрузит файл createUiDefinition.json в эту учетную запись хранения. Учетная запись хранения создается при первом запуске скрипта или в случае удаления учетной записи хранения. Если учетная запись хранения уже существует в подписке Azure, скрипт повторно использует ее. Затем он откроет портал и загрузит файл из учетной записи хранения.

Укажите расположение учетной записи хранения и папку, в которой содержится файл createUiDefinition.json.

Для PowerShell используйте команду:

```powershell
.\SideLoad-CreateUIDefinition.ps1 `
  -StorageResourceGroupLocation southcentralus `
  -ArtifactsStagingDirectory .\100-Marketplace-Sample
```

Для интерфейса командной строки Azure:

```azurecli
./sideload-createuidef.sh \
  -l southcentralus \
  -a .\100-Marketplace-Sample
```

Если файл createUiDefinition.json находится в той же папке, что и скрипт, и вы уже создали учетную запись хранения, указывать эти параметры не нужно.

Для PowerShell используйте команду:

```powershell
.\SideLoad-CreateUIDefinition.ps1
```

Для интерфейса командной строки Azure:

```azurecli
./sideload-createuidef.sh
```

Сценарий откроет новую вкладку в браузере. В ней отобразится портал с интерфейсом для создания управляемого приложения.

![Просмотр портала](./media/test-createuidefinition/view-portal.png)

Укажите значения для полей. По завершении вы увидите значения, переданные в шаблон.

![Отображение значений](./media/test-createuidefinition/show-json.png)

Эти значения можно использовать как файл параметров для тестирования шаблона развертывания.

Если портал зависает на странице «Сводка», в разделе выходных данных может быть ошибки. Например, возможно, вы ссылаетесь на несуществующий элемент управления. Если параметр в выходных данных не задан, параметр может ссылаться на свойство, которое не существует. Например, ссылка на элемент управления является допустимой, а ссылка на свойство — нет.

## <a name="test-your-solution-files"></a>Тестирование файлов решения

Теперь, когда вы проверили, что ваш интерфейс портала работает так, как ожидается, пришло время проверить, что ваш файл createUiDefinition правильно интегрирован с файлом mainTemplate.json. Можно запустить тестирование сценария проверки для проверки содержимого файлов решения, включая файл createUiDefinition. Сценарий проверяет синтаксис JSON, регулярные выражения в текстовых полях и обеспечивает соответствие выходных значений интерфейса портала параметрам шаблона. Со сведениями о запуске этого сценария можно ознакомиться в статье, посвященной [запуску статических проверок шаблонов](https://github.com/Azure/azure-quickstart-templates/tree/master/test/template-validation-tests).

## <a name="next-steps"></a>Дальнейшие действия

После проверки интерфейса портала узнайте, как [обеспечить доступность управляемых приложений Azure в Marketplace](publish-marketplace-app.md).
