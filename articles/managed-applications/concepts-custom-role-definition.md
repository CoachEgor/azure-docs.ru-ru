---
title: Общие сведения о пользовательских определениях ролей в управляемых приложениях Azure | Документация Майкрософт
description: Описывает концепцию создания пользовательских определений ролей для управляемых приложений.
services: managed-applications
ms.service: managed-applications
ms.topic: conceptual
ms.author: jobreen
author: jjbfour
ms.date: 09/16/2019
ms.openlocfilehash: d645eebefde473e404f7760d2bc8a67c7e3e9087
ms.sourcegitcommit: c62a68ed80289d0daada860b837c31625b0fa0f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/05/2019
ms.locfileid: "73609038"
---
# <a name="custom-role-definition-artifact-in-azure-managed-applications"></a>Артефакт настраиваемого определения роли в управляемых приложениях Azure

Определение пользовательской роли является необязательным артефактом в управляемых приложениях. Он используется для определения разрешений, необходимых управляемому приложению для выполнения своих функций.

В этой статье представлен обзор артефакта определения пользовательской роли и его возможностей.

## <a name="custom-role-definition-artifact"></a>Артефакт определения пользовательской роли

Артефакт пользовательского определения роли должен называться **кустомроледефинитион. JSON** и размещен на том же уровне, что и **createUiDefinition. JSON** и **mainTemplate. JSON** в ZIP-пакете, который создает определение управляемого приложения. Сведения о том, как создать ZIP-пакет и опубликовать определение управляемого приложения, см [. в статье публикация определения управляемого приложения.](publish-managed-app-definition-quickstart.md)

## <a name="custom-role-definition-schema"></a>Схема пользовательского определения роли

Файл **кустомроледефинитион. JSON** имеет свойство `roles` верхнего уровня, которое является массивом ролей. Каждая из этих ролей является разрешениями, которые должны работать управляемое приложение. В настоящее время разрешены только встроенные роли, но можно указать несколько ролей. На роль может ссылаться идентификатор определения роли или имя роли.

Пример JSON для определения пользовательской роли:

```json
{
    "contentVersion": "0.0.0.1",
    "roles": [
        {
            "properties": {
                "roleName": "Contributor"
            }
        },
        {
            "id": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
        },
        {
            "id": "/providers/Microsoft.Authorization/roledefinitions/9980e02c-c2be-4d73-94e8-173b1dc7cf3c"
        }
    ]
}
```

## <a name="role"></a>Роль

Роль состоит из `$.properties.roleName` или `id`.

```json
{
    "id": null,
    "properties": {
        "roleName": "Contributor"
    }
}
```

> [!Note]
> Требуется только одно из полей `id` или `roleName`. Эти поля используются для поиска применяемого определения роли. Если указаны оба значения, будет использоваться поле `id`.

|Свойство|Обязательно|Description (Описание)|
|---------|---------|---------|
|ИД|*да*|Идентификатор встроенной роли. Это свойство может быть полным ИДЕНТИФИКАТОРом или просто идентификатором GUID.|
|RoleName|*да*|Имя встроенной роли.|