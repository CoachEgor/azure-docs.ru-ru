---
title: Включение и запросить доступ just-in-time для управляемых приложений Azure
description: Описывает, каким образом издатели управляемых приложений Azure запросить доступ just-in-time к управляемому приложению.
author: MSEvanhi
ms.service: managed-applications
ms.topic: conceptual
ms.date: 06/03/2019
ms.author: evanhi
ms.openlocfilehash: ea933f5382cb42c01de523326b094c1813401132
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "66481779"
---
# <a name="enable-and-request-just-in-time-access-for-azure-managed-applications"></a>Включение и запросить доступ just-in-time для управляемых приложений Azure

Потребители управляемого приложения неохотой предоставить постоянный доступ к управляемой группе ресурсов. Как издатель приложения manager может потребоваться, что пользователи знают, только если вам требуется доступ к управляемые ресурсы. Предоставление клиентам больший контроль над предоставлением доступа к управляемых ресурсов, управляемых приложений Azure предусмотрена возможность доступа just-in-time (JIT), которая в настоящее время в предварительной версии.

JIT-доступ позволяет запрашивать повышенные права доступа к ресурсам управляемого приложения для диагностики или обслуживания. У вас всегда есть доступ только для чтения к ресурсам, но для конкретного периода времени вы сможете получить больше.

— Рабочий процесс предоставления доступа:

1. Добавление управляемого приложения в Marketplace и указать, что JIT-доступ к доступен.

1. Во время развертывания потребитель включает JIT-доступ для этого экземпляра, управляемого приложения.

1. После развертывания потребитель можно изменить параметры для JIT-доступ.

1. Отправить запрос на доступ, для устранения неполадок или обновить управляемые ресурсы.

1. Потребитель утвердит ваш запрос.

В этой статье рассматриваются действия, которые издатели предпринять, чтобы включить JIT-доступ и отправлять запросы. Дополнительные сведения об утверждении запросов JIT-доступа, см. в разделе [утвердить доступ just-in-time в управляемых приложений Azure](approve-just-in-time-access.md).

## <a name="add-jit-access-step-to-ui"></a>Добавить шаг доступа JIT для пользовательского интерфейса

Файл CreateUiDefinition.json — так же, как файл пользовательского интерфейса, который создается для постоянный доступ, за исключением того, необходимо включить в шаг, который позволяет потребителям включить JIT-доступ. Дополнительные сведения о публикации управляемого приложения первого предложения в Azure Marketplace, см. в разделе [управляемых приложений Azure в Marketplace](publish-marketplace-app.md).

Для поддержки возможности JIT-компилятора для вашего предложения, добавьте следующее содержимое в файл CreateUiDefinition.json:

В «действия»:

```json
{
    "name": "jitConfiguration",
    "label": "JIT Configuration",
    "subLabel": {
        "preValidation": "Configure JIT settings for your application",
        "postValidation": "Done"
    },
    "bladeTitle": "JIT Configuration",
    "elements": [
        {
          "name": "jitConfigurationControl",
          "type": "Microsoft.Solutions.JitConfigurator",
          "label": "JIT Configuration"
        }
    ]
}
```
 
В «outputs»:

```json
"jitAccessPolicy": "[parse(concat('{\"jitAccessEnabled\":', string(steps('jitConfiguration').jitConfigurationControl.jitEnabled), ',\"jitApprovalMode\":\"', steps('jitConfiguration').jitConfigurationControl.jitApprovalMode, '\",\"maximumJitAccessDuration\":\"', steps('jitConfiguration').jitConfigurationControl.maxAccessDuration, '\",\"jitApprovers\":', string(steps('jitConfiguration').jitConfigurationControl.approvers), '}'))]"
```

> [!NOTE]
> JIT-доступ к находится в предварительной версии. Схема для JIT-конфигурация может измениться в будущих итераций.

## <a name="enable-jit-access"></a>Включить JIT-доступ

При определении вашего предложения в marketplace, убедитесь, что включить JIT-доступ.

1. Войдите в [публикации портал Cloud Partner](https://cloudpartner.azure.com).

1. Укажите значения для публикации управляемого приложения в marketplace. Выберите **Да** для **включить JIT-доступ?**

   ![Включение JIT-доступа](./media/request-just-in-time-access/marketplace-enable.png)

Вы добавили шаг настройки JIT для пользовательского интерфейса и включения JIT-доступа в предложения marketplace. Если потребители развертывание управляемого приложения, они могут [включить JIT-доступ к экземпляру клиента](approve-just-in-time-access.md#enable-during-deployment).

## <a name="request-access"></a>Запрос доступа

Если вам требуется доступ к его управляемые ресурсы, отправке запроса для определенной роли, время и длительность. Потребитель должен утвердить запрос.

Чтобы отправить запрос на JIT-доступ к:

1. Выберите **JIT-доступ к** для управляемого приложения, необходимо получить доступ к.

1. Выберите **соответствующих ролей**и выберите **активировать** в столбце ДЕЙСТВИЙ для роли, требуется.

   ![Активировать запрос на доступ](./media/request-just-in-time-access/send-request.png)

1. На **активировать роль** выберите время начала и длительность для вашей роли должна быть активной. Выберите **активировать** для отправки запроса.

   ![Активировать доступ](./media/request-just-in-time-access/activate-access.png) 

1. Просмотрите уведомления, чтобы увидеть, что новый запрос на JIT-компилятора успешно отправляется получателю.

   ![Уведомление](./media/request-just-in-time-access/in-progress.png)

   Теперь необходимо дождаться потребителю [утверждение запроса](approve-just-in-time-access.md#approve-requests).

1. Чтобы просмотреть состояние всех запросов JIT для управляемого приложения, выберите **JIT-доступ к** и **запросить журнал**.

   ![Просмотр состояния](./media/request-just-in-time-access/view-status.png)

## <a name="known-issues"></a>Известные проблемы

Идентификатор участника, запрос JIT-доступ к учетной записи должны быть явно указаны в определении управляемого приложения. Учетная запись не может быть включены только через группу, которая указана в пакете. Это ограничение будет исправлена в будущих выпусках.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения об утверждении запросов для JIT-доступ, см. в разделе [утвердить доступ just-in-time в управляемых приложений Azure](approve-just-in-time-access.md).
