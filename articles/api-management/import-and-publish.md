---
title: Импорт и публикация вашего первого API в Управлении API Azure
description: Узнайте, как импортировать программный интерфейс спецификации OpenAPI в Управлении API Azure и протестировать свой API на портале Azure.
services: api-management
documentationcenter: ''
author: mikebudzynski
manager: cfowler
editor: ''
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.custom: mvc
ms.topic: tutorial
ms.date: 04/20/2020
ms.author: apimpm
ms.openlocfilehash: 38b723cb823547d4737a68576575c2b629f5eb67
ms.sourcegitcommit: 3541c9cae8a12bdf457f1383e3557eb85a9b3187
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/09/2020
ms.locfileid: "86206280"
---
# <a name="import-and-publish-your-first-api"></a>Импорт и публикация первого API

В этом руководстве показано, как импортировать API серверной части спецификации OpenAPI в формате JSON в Управление API Azure. Мы предоставляем API серверной части в Azure по адресу [https://conferenceapi.azurewebsites.net?format=json](https://conferenceapi.azurewebsites.net?format=json).

Когда API серверной части будет импортирован в службу "Управление API", ваш программный интерфейс Управления API будет использоваться как фасад для API серверной части. Вы можете настраивать фасад в Управлении API согласно своим потребностям, не используя API серверной части. Дополнительные сведения см. в статье [Transform and protect your API](transform-api.md) (Преобразование и защита API).

В этом руководстве описано следующее:

> [!div class="checklist"]
> * импорт API в Управление API;
> * проверка API на портале Azure;

![Новый API](./media/api-management-import-and-publish/created-api.png)

## <a name="prerequisites"></a>Предварительные требования

- Ознакомьтесь с [терминологией службы "Управление API" в Azure](api-management-terminology.md).
- [Создание экземпляра службы управления API Azure](get-started-create-service-instance.md).

[!INCLUDE [api-management-navigate-to-instance.md](../../includes/api-management-navigate-to-instance.md)]

## <a name="import-and-publish-a-backend-api"></a><a name="create-api"> </a>Импорт и публикация API серверной части

В этом разделе показано, как импортировать и опубликовать API серверной части "Спецификация OpenAPI".

1. В левой области навигации своего экземпляра "Управление API" выберите подраздел **Интерфейсы API** в разделе **Управление API**.
1. Выберите плитку **OpenAPI**, а затем во всплывающем окне выберите вариант **Полный**.
1. Чтобы создать API, в окне **Создание из спецификации OpenAPI** используйте значения из следующей таблицы.

   Красная звездочка рядом с полем в форме указывает на то, что поле является обязательным. Можно задать значения API во время создания или позже, перейдя на вкладку **Параметры**.

   ![Создание API](./media/api-management-import-and-publish/create-api.png)

   |Параметр|Значение|Описание|
   |-------|-----|-----------|
   |**Спецификация OpenAPI**|*https:\//conferenceapi.azurewebsites.net?format=json*|Служба, которая реализует API. Портал управления API направит запросы по этому адресу.|
   |**Отображаемое имя**|Управление API заполняет это поле на основе кода JSON после ввода указанного выше URL-адреса службы.|Это имя отображается на портале разработчика.|
   |**имя**;|Управление API заполняет это поле на основе кода JSON после ввода указанного выше URL-адреса службы.|Уникальное имя API.|
   |**Описание**|Управление API заполняет это поле на основе кода JSON после ввода указанного выше URL-адреса службы.|Необязательное описание API.|
   |**Схема URL-адресов**|**HTTPS**|Определяет, какие протоколы можно использовать для доступа к этому API.|
   |**Суффикс URL-адреса API**|*conference*|Этот суффикс добавляется к основному URL-адресу службы "Управление API". Управление API различает API по их суффиксу. Поэтому у каждого API для заданного издателя суффикс должен быть уникальным.|
   |**Теги**| |Теги для упорядочивания API для поиска, группирования или фильтрации.|
   |**Продукты**|**Unlimited**|Ассоциация из одного или нескольких API. Каждый экземпляр "Управление API" поставляется с двумя демонстрационными продуктами: **Starter** и **Unlimited**. Чтобы опубликовать API, его нужно связать с определенным продуктом, в этом примере — с продуктом **Unlimited**.<br/>Вы можете объединить в продукте несколько API и предлагать их разработчикам через портал разработчика. Чтобы добавить этот API в другой продукт, введите или выберите название продукта. Повторите этот шаг, чтобы добавить API в несколько продуктов. Вы также можете добавить API в продукты позже на странице **Параметры**.<br/>Чтобы получить доступ к API, разработчикам необходимо сначала подписаться на продукт. После этого они получат ключ подписки, который подходит для любого API в этом продукте. <br/>Создавая экземпляр "Управление API", вы автоматически становитесь его администратором. Поэтому вы будете подписаны на все соответствующие продукты в экземпляре.|
   |**Шлюзы**|**Управляемые**|Шлюзы API, которые предоставляют API. Это поле доступно только в службах уровня **Разработка** и **Премиум**.<br/>**Управляемый** шлюз обозначает шлюз, встроенный в службу управления API и размещенный корпорацией Майкрософт в Azure. Другие шлюзы являются [локальными шлюзами](self-hosted-gateway-overview.md) и доступны только в службах уровня "Разработка" и "Премиум". Вы можете развернуть их локально или в других облаках.<br/>Если шлюзы не выбраны, API не будет доступен и запросы к API не будут выполнены.|
   |**Версия этого API**|Установите или снимите флажок|Дополнительные сведения об управлении версиями см. в статье [Публикация нескольких версий API](api-management-get-started-publish-versions.md).|

   > [!NOTE]
   > Чтобы опубликовать API для потребителей, его нужно связать с определенным продуктом.

2. Нажмите кнопку **создания**.

Если вы столкнулись с проблемами при импорте определения API, см. [список известных проблем и ограничений](api-management-api-import-restrictions.md).

## <a name="test-the-new-api-in-the-azure-portal"></a>Проверка нового API на портале Azure

Операции API можно вызывать напрямую на портале Azure. Это удобный способ просмотра и проверки операций.

1. В левой области навигации своего экземпляра "Управление API" выберите подраздел **Интерфейсы API** в разделе **Управление API**, а затем — **Demo Conference API**.
1. Выберите вкладку **Тест**, а затем — **GetSpeakers**. На странице будут показаны **параметры запроса** и **заголовки**, если они есть. Параметр **Ocp-Apim-Subscription-Key** заполняется автоматически ключом подписки, связанным с этим API.
1. Нажмите кнопку **Отправить**.

   ![Карта тестирования API](./media/api-management-import-and-publish/01-import-first-api-01.png)

   Служба серверной части вернет ответ **200 OK** и другие данные.

## <a name="next-steps"></a><a name="next-steps"> </a>Дальнейшие действия

В этом руководстве вы узнали, как выполнять следующие задачи:

> [!div class="checklist"]
> * импорт API;
> * проверка API на портале Azure;

Перейдите к следующему учебнику, чтобы узнать, как создать и опубликовать продукт:

> [!div class="nextstepaction"]
> [Создание и публикация продукта](api-management-howto-add-products.md)