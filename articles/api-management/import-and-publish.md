---
title: Импорт и публикация API в службе управления API Azure | Документация Майкрософт
description: Сведения о том, как импортировать и опубликовать ваш первый API с помощью службы управления API.
services: api-management
documentationcenter: ''
author: mikebudzynski
manager: cfowler
editor: ''
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.custom: mvc
ms.topic: tutorial
ms.date: 02/24/2019
ms.author: apimpm
ms.openlocfilehash: 6a1ae2966e8d5535a5fd9aeffb5ddc3a788f85ee
ms.sourcegitcommit: 82499878a3d2a33a02a751d6e6e3800adbfa8c13
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/28/2019
ms.locfileid: "70072099"
---
# <a name="import-and-publish-your-first-api"></a>Импорт и публикация первого API 

В этом руководстве показано, как импортировать API серверной части "Спецификация OpenAPI", расположенный по адресу https://conferenceapi.azurewebsites.net?format=json. Этот API серверной части предоставляется корпорацией Майкрософт. Он размещен в Azure. 

Когда API серверной части будет импортирован в службу управления API, этот API будет использоваться как фасад для API серверной части. Когда вы импортируете API серверной части, исходный API и API службы управления API являются идентичными. Служба управления API позволяет настраивать фасад согласно вашим потребностям, не используя API серверной части. Дополнительные сведения см. в статье [Transform and protect your API](transform-api.md) (Преобразование и защита API). 

Из этого руководства вы узнаете, как выполнять следующие задачи:

> [!div class="checklist"]
> * импорт API;
> * проверка API на портале Azure;
> * проверка API на портале разработчика.

![Новый API](./media/api-management-get-started/created-api.png)

## <a name="prerequisites"></a>Предварительные требования

+ Ознакомьтесь с [терминологией службы управления API в Azure](api-management-terminology.md).
+ Выполните инструкции из краткого руководства — [Создание экземпляра службы управления API Azure](get-started-create-service-instance.md).

[!INCLUDE [api-management-navigate-to-instance.md](../../includes/api-management-navigate-to-instance.md)]

## <a name="create-api"> </a>Импорт и публикация API серверной части

В этом разделе показано, как импортировать и опубликовать API серверной части "Спецификация OpenAPI".
 
1. Выберите **Интерфейсы API** в разделе **УПРАВЛЕНИЕ API**.
2. Выберите **Спецификация OpenAPI** в списке и щелкните **Полная** во всплывающем окне.

    ![Создание API](./media/api-management-get-started/create-api.png)

    Можно задать значения API во время создания или позже, перейдя на вкладку **Параметры**. Красная звездочка рядом с полем указывает на то, что поле является обязательным.

    Используйте значения из таблицы ниже для создания первого API.

    | Параметр                   | Значение                                              | ОПИСАНИЕ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
    |---------------------------|----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | **Спецификация OpenAPI** | https://conferenceapi.azurewebsites.net?format=json | Определяет службу, которая реализует API-интерфейс. Портал управления API направит запросы по этому адресу.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
    | **Отображаемое имя**          | *Demo Conference API*                              | Если нажать клавишу табуляции после ввода URL-адреса службы, служба управления API заполнит это поле информацией из объекта json. <br/>Это имя отображается на портале разработчика.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
    | **Имя**                  | *demo-conference-api*                              | Содержит уникальное имя API. <br/>Если нажать клавишу табуляции после ввода URL-адреса службы, служба управления API заполнит это поле информацией из объекта json.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
    | **Описание**           | Необязательное описание API.        | Если нажать клавишу табуляции после ввода URL-адреса службы, служба управления API заполнит это поле информацией из объекта json.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
    | **Схема URL-адресов**            | *HTTPS*                                            | Определяет, какие протоколы можно использовать для доступа к этому API.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
    | **Суффикс URL-адреса API**        | *conference*                                       | Этот суффикс добавляется к основному URL-адресу службы управления API. API Management отличает интерфейсы API по их суффиксу. Следовательно, суффикс должен быть уникальным для каждого API для заданного издателя.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
    | **Продукты**              | *Unlimited*                                        | Продуктами называют ассоциации из одного или нескольких API. Вы можете объединить в продукте несколько API и предлагать их разработчикам через портал разработчика. <br/>Чтобы опубликовать API, его нужно связать с определенным продуктом (в этом примере — с продуктом *Unlimited*). Чтобы добавить этот новый API в продукт, введите имя продукта (это можно сделать позже на странице **Параметры**). Этот шаг можно повторить несколько раз, чтобы добавить API в несколько продуктов.<br/>Чтобы получить доступ к API, разработчикам необходимо сначала подписаться на продукт. После этого они получат ключ подписки, который подходит для любого API в этом продукте. <br/> Создавая экземпляр службы управления API, вы автоматически становитесь его администратором. Поэтому вы будете подписаны на все продукты.<br/> По умолчанию каждый экземпляр API управления поставляется с двумя демонстрационными продуктами: **Starter** и **Unlimited**. |
    | **Теги**                  |                                                    | Теги для упорядочивания API. Теги можно использовать для поиска, группирования или фильтрации.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
    | **Версия этого API**     |                                                    | Дополнительные сведения об управлении версиями см. в статье [Публикация нескольких версий API](api-management-get-started-publish-versions.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

    >[!NOTE]
    > Чтобы опубликовать API, его нужно связать с определенным продуктом. Это можно сделать на странице **Параметры**.

3. Нажмите кнопку **Создать**.

> [!TIP]
> Если вы столкнулись с проблемами при импорте собственного определения API, [см. список известных проблем и ограничений](api-management-api-import-restrictions.md).

## <a name="test-the-new-apim-api-in-the-azure-portal"></a>Проверка нового API службы управления API на портале Azure

![Карта тестирования API](./media/api-management-get-started/01-import-first-api-01.png)

Операции можно вызывать непосредственно на портале Azure. Это удобный способ просмотра и проверки операций API.

1. Выберите API, созданный на предыдущем шаге (на вкладке **Интерфейсы API**).
2. Откройте вкладку **Тест**.
3. Щелкните **GetSpeakers**. Эта страница отображает поля для параметров запроса (в нашем примере параметры не используются) и заголовки. Один из заголовков, Ocp-Apim-Subscription-Key, содержит ключ подписки для продукта, связанного с этим API. Значение ключа будет заполнено автоматически.
4. Нажмите кнопку **Отправить**.

    Служба серверной части вернет ответ **200 — ОК** и другие данные.

## <a name="call-operation"> </a>Вызов операции с портала разработчика

Также операции можно вызвать через **портал разработчиков**, чтобы проверить API.

1. Перейдите на **портал разработчика**.

    ![Developer portal](./media/api-management-get-started/developer-portal.png)

2. Выберите **API**, щелкните **Demo Conference API** и выберите **GetSpeakers**.

    Эта страница отображает поля для параметров запроса (в нашем примере параметры не используются) и заголовки. Один из заголовков, Ocp-Apim-Subscription-Key, содержит ключ подписки для продукта, связанного с этим API. Как создатель экземпляра службы управления API, вы автоматически являетесь администратором, поэтому сведения о ключе будут заполнены автоматически.

3. Щелкните **Попробовать**.
4. Нажмите кнопку **Отправить**.

    После вызова операции на портале разработчиков отображаются ответы.  

## <a name="next-steps"> </a>Дальнейшие действия

Из этого руководства вы узнали, как выполнить следующие задачи:

> [!div class="checklist"]
> * импорт API;
> * проверка API на портале Azure;
> * проверка API на портале разработчика.

Перейдите к следующему руководству:

> [!div class="nextstepaction"]
> [Создание и публикация продукта](api-management-howto-add-products.md)
