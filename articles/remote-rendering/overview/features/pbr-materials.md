---
title: Материалы PBR
description: Описывает тип материала PBR.
author: jakrams
ms.author: jakras
ms.date: 02/11/2020
ms.topic: article
ms.openlocfilehash: 64553506f75451c50a87932904f00a7275ea9286
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "80680262"
---
# <a name="pbr-materials"></a>Материалы PBR

*Материалы* типа "PBR" — это один из поддерживаемых [типов материалов](../../concepts/materials.md) в службе удаленной подготовки Azure. Они используются для [сеток](../../concepts/meshes.md) , которые должны получить реалистичное освещение.

PBR означает **P**хисикалли **B**АСЕД **R**ендеринг и означает, что материал описывает визуальные свойства поверхности физически правдоподобные способом, чтобы реалистичные результаты были доступны при любых условиях освещения. Большинство современных игровых ядер и средств создания содержимого поддерживают PBR-материалы, так как они считаются наилучшей аппроксимацией реальных сценариев для отрисовки в режиме реального времени.

![Образец модели Helmet Глтф, отображаемый при помощи ARR](media/helmet.png)

Однако материалы по PBR не являются универсальными решениями. Существуют материалы, отражающие цвет по-разному в зависимости от угла обзора. Например, некоторые структуры или автомобиль закрашивается. Эти виды материалов не обрабатываются стандартной моделью PBR и сейчас не поддерживаются службой удаленной подготовки Azure. Сюда входят расширения PBR, такие как *тонкие пленки* (многоуровневые поверхности) и *четкие покрытие* (для рисования автомобилей).

## <a name="common-material-properties"></a>Общие свойства материала

Эти свойства являются общими для всех материалов:

* **албедоколор:** Этот цвет умножается на другие цвета, такие как *албедомап* или *цвета вершин*. Если в материале включена *прозрачность* , альфа-канал используется для настройки непрозрачности, `1` что означает полностью прозрачное `0` и абсолютное значение. Значение по умолчанию — белый.

  > [!NOTE]
  > Если материал PBR является полностью прозрачным, как и полностью чистый фрагмент, он по-прежнему отражает среду. Яркие участки, такие как солнце, по-прежнему отображаются в отражении. Это отличается для [цветовых материалов](color-materials.md).

* **албедомап:** [Двухмерная текстура](../../concepts/textures.md) для значений албедо на пиксель.

* **алфаклипенаблед** и **Алфаклипсрешолд:** если *алфаклипенаблед* имеет значение true, все пиксели, где значение албедо Alpha меньше, чем *алфаклипсрешолд* , не будут выводиться. Альфа-обрезание можно использовать даже без включения прозрачности и гораздо быстрее для визуализации. Тем не менее, альфа обрезанные материалы по-прежнему медленнее отображаются, чем полностью непрозрачные материалы. По умолчанию альфа-обрезка отключена.

* **текстурекурдинатескале** и **текстурекурдинатеоффсет.** шкала умножается на координаты плоскости UV, к которой добавляется смещение. Можно использовать для растяжения и сдвига текстур. Масштаб по умолчанию — (1, 1), а смещение — (0, 0).

* **усевертексколор:** Если сетка содержит цвета вершин и этот параметр включен, цвета вершин сетки умножаются в *албедоколор* и *албедомап*. По умолчанию цвета вершин отключены.

* **исдаублесидед:** Если для параметра двусторонняя задано значение true, треугольники с этим материалом подготавливаются, даже если камера просматривает их задние грани. Для освещения «Освещение материалов» также правильно вычисляются для задних граней. По умолчанию этот параметр отключен. См. также [односторонняя отрисовка](single-sided-rendering.md).

## <a name="pbr-material-properties"></a>Свойства "PBR Material"

Основная идея физической отрисовки заключается в использовании свойств *басеколор*, *металлического*и *грубого* представления для имитации широкого спектра реальных материалов. Подробное описание параметра PBR выходит за рамки этой статьи. Дополнительные сведения о параметре PBR см. в разделе [другие источники](http://www.pbr-book.org). Следующие свойства относятся к материалам PBR:

* **басеколор:** В материалах PBR *Цвет албедо* называется *базовым цветом*. В удаленной отрисовке Azure свойство *цвета албедо* уже присутствует через общие свойства материала, поэтому дополнительное свойство базового цвета отсутствует.

* «нечеткость» и « **раугхнессмап:** грубая **степень» определяет** , насколько грубая или гладкая поверхность. Приблизительные поверхности разбросают освещение в большем направлении, чем гладкие поверхности, что делает отрезки размытия, а не резки. Диапазон значений — от `0.0` до. `1.0` Если `roughness` значение `0.0`равно, отражения будут очень четкими. При `roughness` значении Equals `0.5`отражение станет размытым.

  Если указаны как значение грубости, так и таблица грубых значений, то окончательное значение будет являться произведением двух.

* **металлическое** и **металнессмапе:** в физике это свойство соответствует тому, является ли поверхность назначением или электрическим. У обучающих материалов разные отражающие свойства, и они, как правило, могут быть отражены без албедо цвета. В материалах PBR это свойство влияет на то, насколько поверхность отражает окружающую среду. Диапазон значений — `0.0` от `1.0`до. Когда состояние металла имеет `0.0`значение, цвет албедо будет полностью виден, а материал будет выглядеть как пластик или церамикс. При наличии металлического `0.5`металла он выглядит как окрашенный металл. Когда металлическая `1.0`, поверхность почти полностью теряет свой цвет албедо и отражает только окружающую окружение. Например, если `metalness` имеет значение `1.0` и `roughness` `0.0` , то поверхность выглядит как фактическое зеркало.

  Если передаются и значение металла, и схема металла, Последнее значение будет являться произведением двух.

  ![металлическое и неровное](./media/metalness-roughness.png)

  На рисунке выше сфера в правом нижнем углу выглядит как реальный материал, Нижняя левая часть выглядит как церамик или пластик. Цвет албедо также изменяется в соответствии с физическими свойствами. При увеличении неровности материал теряет четкость отражения.

* **нормалмап:** Для имитации детализированной детализации можно предоставить [нормальную карту](https://en.wikipedia.org/wiki/Normal_mapping) .

* **окклусионмап** и **аоскале:** [внешний перекрытия](https://en.wikipedia.org/wiki/Ambient_occlusion) делает объекты с кревицес более реалистичными, добавляя тени в перекрыто области. Значение перекрытия в диапазоне `0.0` от `1.0`до, `0.0` где означает затемнение (перекрыто `1.0` ) и означает отсутствие окклусионс. Если в качестве перекрытияной схемы указана двухмерная текстура, то этот результат будет включен, а *аоскале* выступает в качестве множителя.

  ![Перекрытия Map](./media/boom-box-ao2.gif)

* **прозрачный:** Для PBR-материалов существует только один параметр прозрачности: он включен или нет. Непрозрачность определяется альфа-каналом цвета албедо. Если этот флажок включен, вызывается более сложный конвейер отрисовки для рисования полупрозрачных поверхностей. Удаленная визуализация Azure реализует [независимую от порядка прозрачность](https://en.wikipedia.org/wiki/Order-independent_transparency) (OIT).

  Прозрачная геометрия является дорогостоящей для визуализации. Если вам нужны только отверстия на поверхности, например для конечных элементов дерева, лучше использовать альфа-обрезку.

  ![Уведомление](./media/transparency.png) о прозрачности на рисунке выше, как самая правая сфера полностью прозрачна, но отражение все еще отображается.

  > [!IMPORTANT]
  > Если какой-либо материал должен быть переключен от непрозрачного на прозрачный во время выполнения, [модуль подготовки отчетов должен использовать режим рендеринга](../../concepts/rendering-modes.md) *тилебаседкомпоситион* . Это ограничение не относится к материалам, которые преобразуются в виде прозрачных материалов, начинающихся с.

## <a name="technical-details"></a>Технические сведения

Удаленная визуализация Azure использует Торранце Micro-Facet БРДФ с ГГКС NDF, Счликк Френелю, а также сопоставленный с ГГКС Смит термин видимости с Ламбертаным термином. В настоящее время эта модель представляет собой промышленный стандарт де-факто. Более подробные сведения см. в этой статье: [физическая визуализация — Торранце Кука](http://www.codinglabs.net/article_physically_based_rendering_cook_torrance.aspx)

 Альтернативой *модели PBR,* используемой в удаленной отрисовке Azure, является модель PBR с *отраженным глянца* . Эта модель может представлять более широкий спектр материалов. Однако это более дорого и обычно не работает для случаев в реальном времени.
Не всегда можно выполнить преобразование из *блика-глянца* в *металлическую* , так как существуют пары значений *(диффузные, отражающие)* , которые не могут быть преобразованы в *(басеколор, металл)*. Преобразование в другом направлении проще и точнее, так как все пары *(басеколор, металлы)* соответствуют четко определенным *(диффузию, отражающим)* парам.

## <a name="next-steps"></a>Дальнейшие шаги

* [Цветовые материалы](color-materials.md)
* [Текстуры](../../concepts/textures.md)
* [Сетки](../../concepts/meshes.md)
