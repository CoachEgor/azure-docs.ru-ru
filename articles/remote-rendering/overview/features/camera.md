---
title: Камера
description: Описание параметров и вариантов использования камеры
author: christophermanthei
ms.author: chmant
ms.date: 03/07/2020
ms.topic: article
ms.openlocfilehash: 5ad39ad9f5e585029cff5d573a026702f259607e
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "90564915"
---
# <a name="camera"></a>Камера

Чтобы убедиться, что локальное и удаленно визуализированное содержимое можно легко составить, необходимо синхронизировать различные свойства камеры между сервером и клиентом. В особенности это преобразование и проекция камеры. Например, локально визуализированное содержимое должно использовать то же преобразование и проекцию камеры, что и последняя Удаленная рамка.

![Локальная и удаленная Камера](./media/camera.png)

На приведенном выше рисунке локальная Камера была перемещена по сравнению с удаленной рамкой, отправленной сервером. В результате локальное содержимое должно быть визуализировано с той же перспективы, что и удаленный кадр, и, наконец, полученный образ переносится в локальное пространство камеры, что подробно объясняется в разделе Переработка [позднего этапа](late-stage-reprojection.md).

Задержка между удаленной и локальной визуализациями означает, что любые изменения этих параметров применяются с задержкой. Таким образом, любое новое значение не может использоваться сразу же и в одном кадре.

В параметрах камеры можно задать расстояния близко и далеко. В HoloLens 2 оставшиеся данные преобразования и проекции определяются оборудованием. При использовании [модели рабочего стола](../../concepts/graphics-bindings.md)они задаются с помощью входных данных своей `Update` функции.

Измененные значения можно использовать локально сразу после поступления первого удаленного кадра, который был визуализирован вместе с ними. В HoloLens 2 данные, используемые для отрисовки, предоставляются *холографикфраме* , как и в любом другом holographic приложении. При [моделировании настольных систем](../../concepts/graphics-bindings.md)они извлекаются с помощью выходных данных `Update` функции.

## <a name="camera-settings"></a>Параметры камеры

В параметрах камеры можно изменить следующие свойства:

**Ближайшее и далекое плоскость:**

Чтобы гарантировать, что недопустимые диапазоны не могут быть заданы, свойства **неарплане** и **фарплане** доступны только для чтения, а отдельная функция **сетнеарандфарплане** существует для изменения диапазона. Эти данные будут отправлены на сервер в конце кадра.

> [!IMPORTANT]
> В Unity это происходит автоматически при изменении основной камеры вблизи и дальней плоскости.

**Енабледепс**:

Иногда бывает полезно отключить запись буфера глубины удаленного образа для целей отладки. Отключение глубины также останавливает сервер на отправку данных глубины, уменьшая таким образом пропускную способность.

> [!TIP]
> В Unity предоставляется компонент отладки с именем **енабледепскомпонент** , который может использоваться для переключения этой функции в пользовательском интерфейсе редактора.

Изменение параметров камеры можно выполнить следующим образом.

```cs
void ChangeCameraSetting(AzureSession session)
{
    CameraSettings settings = session.Actions.CameraSettings;

    settings.SetNearAndFarPlane(0.1f, 20.0f);
    settings.EnableDepth = false;
}
```

```cpp
void ChangeStageSpace(ApiHandle<AzureSession> session)
{
    ApiHandle<CameraSettings> settings = session->Actions()->GetCameraSettings();

    settings->SetNearAndFarPlane(0.1f, 20.0f);
    settings->SetEnableDepth(false);
}
```

## <a name="api-documentation"></a>Документирование API

* [Камерасеттингс C#](https://docs.microsoft.com/dotnet/api/microsoft.azure.remoterendering.camerasettings)
* [Камерасеттингс C++](https://docs.microsoft.com/cpp/api/remote-rendering/camerasettings)
* [C# GraphicsBindingSimD3d11. Update, функция](https://docs.microsoft.com/dotnet/api/microsoft.azure.remoterendering.graphicsbindingsimd3d11.update)
* [Функция C++ GraphicsBindingSimD3d11:: Update](https://docs.microsoft.com/cpp/api/remote-rendering/graphicsbindingsimd3d11#update)

## <a name="next-steps"></a>Дальнейшие шаги

* [Графическая привязка](../../concepts/graphics-bindings.md)
* [Перепроецирование на позднем этапе](late-stage-reprojection.md)
