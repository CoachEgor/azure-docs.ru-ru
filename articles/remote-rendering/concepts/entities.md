---
title: Сущности
description: Определение сущностей в области API удаленной подготовки к просмотру Azure
author: florianborn71
ms.author: flborn
ms.date: 02/03/2020
ms.topic: conceptual
ms.openlocfilehash: d7b9ecd048b080ae0ec9fd3fb7a4fb35009551b8
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "80681952"
---
# <a name="entities"></a>Сущности

*Сущность* представляет перемещаемый объект в пространстве и является фундаментальным стандартным блоком удаленного визуализированного содержимого.

## <a name="entity-properties"></a>Свойства сущности

Сущности имеют преобразование, определяемое положением, поворотом и масштабом. Сами сущности не имеют наблюдаемых функциональных возможностей. Вместо этого поведение добавляется через компоненты, которые присоединяются к сущностям. Например, при присоединении [кутпланекомпонент](../overview/features/cut-planes.md) в позиции сущности будет создана вырезанная плоскость.

Наиболее важным аспектом самой сущности является иерархия и итоговое иерархическое преобразование. Например, если несколько сущностей присоединены как дочерние элементы в общей родительской сущности, все эти сущности можно перемещать, поворачивать и масштабировать в одновременном, изменяя преобразование родительской сущности.

Сущность уникально принадлежит родительскому элементу, т. е. Если родительский `Entity.Destroy()`элемент уничтожается с помощью, то есть его дочерние элементы и все подключенные [компоненты](components.md). Поэтому удаление модели из сцены осуществляется путем вызова метода `Destroy` в корневом узле модели, возвращенном `AzureSession.Actions.LoadModelAsync()` или его варианте `AzureSession.Actions.LoadModelFromSASAsync()`SAS.

Сущности создаются, когда сервер загружает содержимое или когда пользователь хочет добавить объект в сцену. Например, если пользователь хочет добавить плоскость вырезания для визуализации внутренней части сетки, пользователь может создать сущность, в которой должна существовать плоскость, а затем добавить к ней компонент «вырезать плоскость».

## <a name="query-functions"></a>Функции запросов

Существует два типа функций запросов в сущностях: синхронные и асинхронные вызовы. Синхронные запросы можно использовать только для данных, имеющихся на клиенте, и не требует больших вычислений. Примерами являются запросы к компонентам, относительным преобразованиям объектов или связям "родители-потомки". Асинхронные запросы используются для данных, которые находятся только на сервере или требуют дополнительных вычислений, которые могут быть слишком ресурсоемкими для выполнения на клиенте. Примерами являются запросы пространственных границ или запросы Meta Data.

### <a name="querying-components"></a>Запросы к компонентам

Чтобы найти компонент определенного типа, используйте `FindComponentOfType`:

```cs
CutPlaneComponent cutplane = (CutPlaneComponent)entity.FindComponentOfType(ObjectType.CutPlaneComponent);

// or alternatively:
CutPlaneComponent cutplane = entity.FindComponentOfType<CutPlaneComponent>();
```

### <a name="querying-transforms"></a>Запросы преобразований

Запросы преобразования — это синхронные вызовы к объекту. Важно отметить, что преобразования, запрашиваемые через API, являются локальными преобразованиями пространства относительно родителя объекта. Исключения — это корневые объекты, для которых не совпадают локальные и мировые пространства.

> [!NOTE]
> Нет выделенного API для запроса преобразования «мировое пространство» произвольных объектов.

```cs
// local space transform of the entity
Double3 translation = entity.Position;
Quaternion rotation = entity.Rotation;
```

### <a name="querying-spatial-bounds"></a>Запрос пространственных границ

Запросы к границам — это асинхронные вызовы, которые работают с полной иерархией объектов, используя одну сущность в качестве корня. См. выделенную главу о [границах объектов](object-bounds.md).

### <a name="querying-metadata"></a>Запрос метаданных

Метаданные — это дополнительные данные, хранящиеся на объектах, которые игнорируются сервером. Метаданные объекта по сути представляют собой набор пар (имен, значений), где _значение_ может иметь числовой, логический или строковый тип. Метаданные можно экспортировать с помощью модели.

Запросы метаданных — это асинхронные вызовы определенной сущности. Запрос возвращает только метаданные одной сущности, а не объединенные данные вложенного графа.

```cs
MetadataQueryAsync metaDataQuery = entity.QueryMetaDataAsync();
metaDataQuery.Completed += (MetadataQueryAsync query) =>
{
    if (query.IsRanToCompletion)
    {
        ObjectMetaData metaData = query.Result;
        ObjectMetaDataEntry entry = metaData.GetMetadataByName("MyInt64Value");
        System.Int64 intValue = entry.AsInt64;

        // ...
    }
};
```

Запрос будет выполнен, даже если объект не хранит метаданные.

## <a name="next-steps"></a>Дальнейшие шаги

* [Компоненты](components.md)
* [Границы объектов](object-bounds.md)
