---
title: Режимы рендеринга
description: Описывает различные режимы визуализации стороны сервера
author: florianborn71
ms.author: flborn
ms.date: 02/03/2020
ms.topic: conceptual
ms.openlocfilehash: 7f2b1031659864ae338bb0aa320c048ea23c21f3
ms.sourcegitcommit: 642a297b1c279454df792ca21fdaa9513b5c2f8b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80681705"
---
# <a name="rendering-modes"></a>Режимы рендеринга

Дистанционное рендеринг предлагает два основных режима работы: режим **TileBasedComposition** и режим **DepthBasedComposition.** Эти режимы определяют распределение рабочей нагрузки между несколькими графическими процессорами на сервере. Режим должен быть указан во время соединения и не может быть изменен во время выполнения.

Оба режима поставляются с преимуществами, но и с присущими ограничениями функции, так что выбор наиболее подходящий режим является использование конкретного случая.

## <a name="modes"></a>Режимы

Эти два режима теперь обсуждаются более подробно.

### <a name="tilebasedcomposition-mode"></a>Режим 'TileBasedComposition'

В режиме **TileBasedComposition** каждый участвующий GPU отображает на экране определенные субъмылки (плитки). Основной графический процессор составляет окончательное изображение из плитки перед отправкой в качестве видеорамки клиенту. Соответственно, все графические процессоры должны иметь один и тот же набор ресурсов для рендеринга, поэтому загруженные активы должны вписываться в одну память графического процессора.

Качество рендеринга в этом режиме немного лучше, чем в режиме **DepthBasedComposition,** так как MSAA может работать над полным набором геометрии для каждого графического процессора. Следующий скриншот показывает, что антиалиазирование работает должным образом для обоих краев также:

![MSAA в TileBasedКомпозициа](./media/service-render-mode-quality.png)

Кроме того, в этом режиме каждая часть может быть переключена на прозрачный материал или переключена в **прозрачный** режим через [HierarchicalStateOverrideComponent](../overview/features/override-hierarchical-state.md)

### <a name="depthbasedcomposition-mode"></a>Режим «ГлубинаНаоснове»

В режиме **DepthBasedComposition** каждый участвующий Графический процессор отображает в полном разрешении экрана, но только подмножество сеток. Окончательная композиция изображения на главном GPU заботит сягражно еде будет правильно слиты в соответствии с их информацией глубины. Естественно, полезная нагрузка памяти распределяется по графическим процессорам, что позволяет делать модели, которые не вписываются в одну память gPU.

Каждый GPU использует MSAA для антиалиместного контента. Тем не менее, может быть присуще псевдоним между краями из различных графических процессоров. Этот эффект смягчается путем постобработки окончательного изображения, но качество MSAA все еще хуже, чем в режиме **TileBasedComposition.**

Артефакты MSAA иллюстрируются ![на следующем изображении: MSAA в DepthBased](./media/service-render-mode-balanced.png)

Антилятивная работа между скульптурой и занавесом работает должным образом, так как обе части отображаются на одном gPU. С другой стороны, край между занавесом и стеной показывает некоторое псевдоним, потому что эти две части состоят из различных графических процессоров.

Самым большим ограничением этого режима является то, что геометрические детали не могут быть переключены на прозрачные материалы динамически и не работает **прозрачный** режим для [HierarchicalStateOverrideComponent.](../overview/features/override-hierarchical-state.md) Другие функции переопределения состояния (план, цветной тон, ...) работают, хотя. Кроме того, материалы, которые были помечены как прозрачные во время преобразования, работают должным образом в этом режиме.

### <a name="performance"></a>Производительность

Характеристики производительности для обоих режимов действительно варьируются в зависимости от случая использования, и трудно рассуждать или давать общие рекомендации. Если вы не ограничены ограничениями, упомянутыми выше (память или прозрачность/прозрачный), рекомендуется опробовать оба режима и контролировать производительность с помощью различных позиций камеры.

## <a name="setting-the-render-mode"></a>Настройка режима рендеринга

Режим рендеринга, используемый на удаленном `AzureSession.ConnectToRuntime` рендеринге VM, указан во время использования `ConnectToRuntimeParams`.

```cs
async void ExampleConnect(AzureSession session)
{
    ConnectToRuntimeParams parameters = new ConnectToRuntimeParams();

    // Connect with one rendering mode
    parameters.mode = ServiceRenderMode.TileBasedComposition;
    await session.ConnectToRuntime(parameters).AsTask();

    session.DisconnectFromRuntime();

    // Wait until session.IsConnected == false

    // Reconnect with a different rendering mode
    parameters.mode = ServiceRenderMode.DepthBasedComposition;
    await session.ConnectToRuntime(parameters).AsTask();
}
```

## <a name="next-steps"></a>Дальнейшие действия

* [Сеансы](../concepts/sessions.md)
* [Компонент переопределения иерархического состояния](../overview/features/override-hierarchical-state.md)
