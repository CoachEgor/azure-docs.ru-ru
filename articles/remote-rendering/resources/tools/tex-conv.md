---
title: TexConv - инструмент преобразования текстур
description: Руководство пользователя для инструмента командной строки TexConv
author: jakrams
ms.author: jakras
ms.date: 02/11/2020
ms.topic: article
ms.openlocfilehash: 1d9b2ca163b70435a6c0e245e66492e8e2866639
ms.sourcegitcommit: 642a297b1c279454df792ca21fdaa9513b5c2f8b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/06/2020
ms.locfileid: "80680028"
---
# <a name="texconv---texture-conversion-tool"></a>TexConv - инструмент преобразования текстур

TexConv — это командный инструмент для обработки текстур из типичных форматов ввода, таких как PNG, TGA, JPEG и DDS, в оптимизированные форматы для потребления времени выполнения.
В то время как наиболее распространенным `A.xxx` сценарием является `B.yyy`преобразование одного файла ввода в оптимизированный формат, инструмент имеет много дополнительных опций для расширенного использования.

## <a name="command-line-help"></a>Помощь командной строки

Запуск TexConv.exe `--help` с параметром будет перечислять все доступные варианты. Кроме того, TexConv печатает использованные параметры при их выполнении, чтобы помочь понять, что он делает. Проконсультируйтесь с этой информацией для получения подробной информации.

## <a name="general-usage"></a>Общее использование

TexConv всегда производит **ровно один выходный** файл. Для сборки вывода может использоваться **несколько входных** файлов. Для сборки, он также нуждается в **отображении канала**, который говорит ему, какой канал (*красный, зеленый, синий* или *альфа*) взять из которого входный файл и переместить его в какой канал вывода изображения.

Наиболее прямой линии команды является так:

```cmd
TexConv.exe -out D:/result.dds -in0 D:/img.jpg -rgba in0
```

- `-out`определяет выводной файл и формат
- `-in0`определяет первое входном изображении
- `-rgba`говорит ему, что выходное изображение должно использовать все четыре канала и что они должны быть взяты 1:1 от вхотливного изображения

## <a name="multiple-input-files"></a>Несколько входных файлов

Чтобы собрать выход из нескольких входных файлов, укажите каждый файл ввода, используя `-in` опцию с увеличением числа:

```cmd
-in0 D:/img0.jpg -in1 D:/img1.jpg -in2 D:/img2.jpg ...
```

При сборке кубиковой карты из 2D `-right`текстур `-left` `-top`можно `-bottom` `-front`также `-back` `-px`использовать, , `-pz` `-nz`, , , `-nx` `-py`, `-ny`, , .

Для отображения этих входных данных в выводящуюся файлнеобходимь соответствующего отображения каналов.

## <a name="channel-mappings"></a>Отображение каналов

Параметры отображения каналов определяют, из какого ввода заполнить данные каналы вывода. Вы можете указать вход для каждого канала по отдельности следующим образом:

```cmd
-r in0.b -g in0.g -b in0.r -a in1.r
```

Здесь каналы RGB вывода будут заполнены с помощью первого входном изображения, но красный и синий будут заменены. Альфа-канал вывода будет заполнен значениями красного канала второго вхожа.

Определение отображения для каждого канала отдельно дает наибольшую гибкость. Для удобства то же самое можно написать с помощью "swizzling" операторов:

```cmd
-rgb in0.bgr -a in1.r
```

### <a name="output-channels"></a>Каналы вывода

Доступны следующие варианты отображения каналов:

- `-r`, `-g` `-b`, `-a` , : Эти указании одного канала назначения
- `-rg`: Укажите назначения красного и зеленого каналов.
- `-rgb`: Укажите красные, зеленые и синие назначения канала.
- `-rgba`: Определяет все четыре назначения канала.

Упомянув только канал R, RG или RGB, поручает TexConv создать выходный файл только с 1, 2 или 3 каналами соответственно.

### <a name="input-swizzling"></a>Входные свистые

При указание, какие текстуры ввода должны заполнить какой выходной канал, можно swizzle вход:

- `-rgba in0` — это эквивалент `-rgba in0.rgba`
- `-rgba in0.bgra`будет swizzle входных каналов
- `-rgb in0.rrr`будет дублировать красный канал во всех каналах

Можно также заполнить каналы с черным или белым:

- `-rgb in0 -a white`создаст текстуру выхода 4 канала, но установит альфа полностью непрозрачным
- `-rg black -b white`создаст полностью синюю текстуру

## <a name="common-options"></a>Общие параметры

Наиболее интересные варианты перечислены ниже. Дополнительные варианты `TexConv --help`перечислены .

### <a name="output-type"></a>Тип выходных данных

- `-type 2D`: Выход будет регулярным 2D-изображением.
- `-type Cubemap`: Выход будет изображением кубовой карты. Поддерживается только для выходных файлов DDS. Когда это указано, можно собрать кубическую карту из 6 обычных 2D входных изображений.

### <a name="image-compression"></a>Сжатие изображения

- `-compression none`: Выходное изображение будет несжатым.
- `-compression medium`: Если его поддерживается, выходное изображение будет использовать сжатие, не жертвуя слишком большим качеством.
- `-compression high`: При поддержке, выходное изображение будет использовать сжатие и качество жертвоприношения в пользу меньшего файла.

### <a name="mipmaps"></a>Mipmaps

По умолчанию TexConv генерирует mipmaps, когда формат вывода поддерживает его.

- `-mipmaps none`: Mipmaps не будет сгенерирован.
- `-mipmaps Linear`: При поддержке mipmaps будут сгенерированы с помощью фильтра коробки.

### <a name="usage-srgb--gamma-correction"></a>Использование (sRGB / гамма коррекция)

Опция `-usage` определяет цель вывода и, таким образом, указывает TexConv, следует ли применять гамма-коррекцию к входным и выходным файлам. Использование влияет только на каналы RGB. Альфа-канал всегда считается содержат "линейные" значения. Если использование не указано, режим "авто" будет пытаться обнаружить использование из формата и файл-имя первого ввода изображения. Например, форматы выхода одного и двойного каналов всегда линейны. Проверьте выход, чтобы увидеть, какое решение принял TexConv.

- `-usage Linear`: Выходное изображение содержит значения, которые не представляют цвета. Это, как правило, в случае металлических и шероховатостей текстур, а также все виды масок.

- `-usage Color`: Выходное изображение представляет цвет, например, диффузные/альбедо карты. Флаг sRGB будет установлен в зазаголовке DDS.

- `-usage HDR`: Выводной файл должен использовать более 8 битов на пиксель для кодирования. Следовательно, все значения хранятся в линейном пространстве. Для текстур HDR не имеет значения, представляют ли данные цвет или другие данные.

- `-usage NormalMap`: Выходное изображение представляет собой тангентарно-пространственное нормальное изображение. Значения будут нормализованы и mipmap вычисления будут оптимизированы немножко.

- `-usage NormalMap_Inverted`: Выход представляет собой тангенционно-пространственное нормальное карту с Y, указывающим в противоположном направлении, чем вход.

### <a name="image-rescaling"></a>Перемасштабирование изображений

- `-minRes 64`: Определяет минимальное разрешение вывода. Если входное изображение меньше, оно будет высококлассным.
- `-maxRes 1024`: Определяет максимальное разрешение вывода. Если входное изображение больше, оно будет уменьшено.
- `-downscale 1`: Если это больше, чем 0, входные изображения будут сокращены в два раза в разрешении N раз. Используйте это для применения общего снижения качества.

## <a name="examples"></a>Примеры

### <a name="convert-a-color-texture"></a>Преобразование цветовой текстуры

```cmd
TexConv.exe -out D:/diffuse.dds -in0 D:/diffuse.jpg -rgba in0 -usage color
```

### <a name="convert-a-normal-map"></a>Преобразование обычной карты

```cmd
TexConv.exe -out D:/normalmap.dds -in0 D:/normalmap.png -rgb in0 -usage normalmap
```

### <a name="create-an-hdr-cubemap"></a>Создание кубик-карты HDR

```cmd
TexConv.exe -out "D:/skybox.dds" -in0 "D:/skymap.hdr" -rgba in0 -type cubemap -usage hdr
```

Отличным источником для HDR cubemaps [является hdrihaven.com](https://hdrihaven.com/hdris/).

### <a name="bake-multiple-images-into-one"></a>Выпекать несколько изображений в один

```cmd
TexConv.exe -out "D:/Baked.dds" -in0 "D:/metal.tga" -in1 "D:/roughness.png" -in2 "D:/DiffuseAlpha.dds" -r in1.r -g in0.r -b black -a in2.a -usage linear
```

### <a name="extract-a-single-channel"></a>Извлеките один канал

```cmd
TexConv.exe -out D:/alpha-mask-only.dds -in0 D:/DiffuseAlpha.dds -r in0.a
```
