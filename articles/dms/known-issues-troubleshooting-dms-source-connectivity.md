---
title: Проблемы, связанные с подключением исходных баз данных
titleSuffix: Azure Database Migration Service
description: Узнайте о том, как устранить известные проблемы/ошибки, связанные с подключением миграционной службы базы данных Azure к исходным базам данных.
services: database-migration
author: pochiraju
ms.author: rajpo
manager: craigg
ms.reviewer: craigg
ms.service: dms
ms.workload: data-services
ms.custom: seo-lt-2019
ms.topic: article
ms.date: 02/20/2020
ms.openlocfilehash: 3eef7476a729c7b83290b9d8d86ba06524bed72b
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "80297099"
---
# <a name="troubleshoot-dms-errors-when-connecting-to-source-databases"></a>Troubleshoot DMS errors when connecting to source databases (Устранение ошибок DMS при подключении к базам данных-источникам)

В следующей статье приводится подробная информация о том, как решить потенциальные проблемы, с которыми можно столкнуться при подключении службы миграции базы данных Azure (DMS) к исходной базе данных. Каждый раздел ниже относится к определенному типу исходной базы данных, перечисляя ошибку, с которой вы можете столкнуться вместе с деталями, и ссылки на информацию о том, как устранить неполадки подключения.

## <a name="sql-server"></a>SQL Server

Потенциальные проблемы, связанные с подключением к исходной базе данных сервера S'L Ис-L Server, и способы их устранения приведены в следующей таблице.

| Error         | Деталь причины и устранения неполадок |
| ------------- | ------------- |
| Сбой подключения к СЗЛ. При подключении к SQL Server произошла ошибка, связанная с сетью или с определенным экземпляром. Сервер не найден или недоступен. Удостоверьте правильность имени экземпляра и настройку сервера S'L, позволяющую удаленные соединения.<br> | Эта ошибка возникает, если служба не может найти исходный сервер. Для решения проблемы см. статью [Ошибка подключения к исходному серверу S'L Server при использовании динамического порта или названного экземпляра](https://docs.microsoft.com/azure/dms/known-issues-troubleshooting-dms#error-connecting-to-source-sql-server-when-using-dynamic-port-or-named-instance). |
| **Ошибка 53** - СУ СЗЛ не удалось. (Кроме того, для кодов ошибок 1, 2, 5, 53, 233, 258, 1225, 11001)<br><br> | Эта ошибка возникает, если служба не может подключиться к исходного сервера. Для решения проблемы обратитесь к следующим ресурсам, а затем повторите попытку. <br><br>  [Интерактивное руководство пользователя по устранению неполадок в связи с проблемой подключения](https://support.microsoft.com/help/4009936/solving-connectivity-errors-to-sql-server)<br><br> [Предварительные требования для переноса SQL Server в Базу данных SQL Azure](https://docs.microsoft.com/azure/dms/pre-reqs#prerequisites-for-migrating-sql-server-to-azure-sql-database) <br><br> [Предпосылки для переноса сервера S'L в управляемый экземпляр базы данных Azure S'L](https://docs.microsoft.com/azure/dms/pre-reqs#prerequisites-for-migrating-sql-server-to-an-azure-sql-database-managed-instance) |
| **Ошибка 18456** - Войти не удалось.<br> | Эта ошибка возникает, если служба не может подключиться к исходной базе данных с помощью предоставленных учетных данных T-S'L. Чтобы решить проблему, проверьте введенные учетные данные. Вы также можете обратиться к [MSSQLSERVER_18456](https://docs.microsoft.com/sql/relational-databases/errors-events/mssqlserver-18456-database-engine-error?view=sql-server-2017) или к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, а затем попробуйте еще раз. |
| Неформированный счетИмя значение '{0}при условии. Ожидаемый формат для AccountName — DomainName-UserName<br> | Эта ошибка возникает, если пользователь выбирает проверку подлинности Windows, но предоставляет имя пользователя в недействительном формате. Для решения проблемы либо укажите имя пользователя в правильном формате для проверки подлинности Windows, либо выберите **проверку подлинности S'L.** |

## <a name="aws-rds-mysql"></a>AWS RDS MyS'L

Потенциальные проблемы, связанные с подключением к исходной базе данных AWS RDS MyS'L и способы их устранения, приведены в следующей таблице.

| Error         | Деталь причины и устранения неполадок |
| ------------- | ------------- |
| **Ошибка (2003 г.)**(HY000) - соединение не удалось. ERROR (HY000) «MyS'L» (водитель ODBC x.x(w) не может подключиться к серверу MyS'L на «сервере» (10060) | Эта ошибка возникает, если драйвер MyS'L ODBC не может подключиться к исходного сервера. Для решения проблемы обратитесь к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, а затем повторите попытку.<br> |
| **Ошибка (2005 г.)**--"HY000" - соединение не удалось. ERROR (HY000) «MyS'L» (водитель ODBC x.x)) Неизвестный хост сервера MyS'L 'сервер) | Эта ошибка возникает, если служба не может найти исходный хост на RDS. Проблема может быть либо потому, что перечисленный источник не существует, либо есть проблема с инфраструктурой RDS. Для решения проблемы обратитесь к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, а затем повторите попытку.<br> |
| **Ошибка (1045)**(HY000) - соединение не удалось. ERROR (HY000) (MyS'L) (драйвер ODBC x.x(w) Доступ отказано для пользователя '''''сервера' (с использованием пароля: ДА) | Эта ошибка возникает, если драйвер MyS'L ODBC не может подключиться к исходным серверу из-за недействительных учетных данных. Проверьте введенные учетные данные. Если проблема продолжается, убедитесь, что исходный компьютер имеет правильные учетные данные. Возможно, потребуется сбросить пароль в консоли. Если вы все еще столкнулись с проблемой, обратитесь к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, а затем повторите попытку.<br> |
| **Ошибка (9002)**(HY000) - соединение не удалось. ERROR (HY000) «MyS'L» (водитель ODBC x.x)) Строка соединения может быть неправильной. Посетите портал для справки.| Эта ошибка возникает, если соединение не справляется из-за проблемы со строкой соединения. Проверка строки соединения, предоставленной является действительной. Для решения проблемы обратитесь к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, а затем повторите попытку.<br> |
| **Ошибка в бинарном журнале. Переменный binlog_format имеет значение «значение». Пожалуйста, измените его на 'ряд'.** | Эта ошибка возникает при наличии ошибки в двоичной регистрации; переменная binlog_format имеет неправильное значение. Чтобы решить проблему, измените binlog_format в группе параметров на 'ROW', а затем перезагрузите экземпляр. Для получения дополнительной информации, см. [AWS RDS MySQL Database Log Files documentation](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_LogAccess.Concepts.MySQL.html) [Binary Logging Options and Variables](https://dev.mysql.com/doc/refman/5.7/en/replication-options-binary-log.html)<br> |

> [!NOTE]
> Для получения дополнительной информации о проблемах устранения неполадок, связанных с подключением к исходной базе данных AWS RDS MyS'L, см.
> * [Устранение неполадок для проблем Amazon RDS Connectivity](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_Troubleshooting.html#CHAP_Troubleshooting.Connecting)
> * [Как устранить проблемы, связанные с экземпляром базы данных Amazon RDS?](https://aws.amazon.com/premiumsupport/knowledge-center/rds-cannot-connect)

## <a name="aws-rds-postgresql"></a>AWS RDS PostgreS'L

Потенциальные проблемы, связанные с подключением к исходной базе данных AWS RDS PostgreS'L и способы их устранения, приведены в следующей таблице.

| Error         | Деталь причины и устранения неполадок |
| ------------- | ------------- |
| **Ошибка (ошибка no101)**- соединение не удалось. Срок истечения тайм-аута ERROR 08001. | Эта ошибка возникает, если драйвер Postgres не может подключиться к исходному серверу. Для решения проблемы обратитесь к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, а затем повторите попытку. |
| **Ошибка: Параметр wal_level имеет значение 'значение'. Пожалуйста, измените его на "логический", чтобы позволить репликации.** | Эта ошибка возникает, если параметр wal_level имеет неправильное значение. Чтобы решить проблему, измените rds.logical_replication в группе параметров до 1, а затем перезагрузите экземпляр. Для получения дополнительной информации ознакомьтесь [с предварительными реквизитами для перехода в Azure PostgreS'L с помощью DMS](https://docs.microsoft.com/azure/dms/tutorial-postgresql-azure-postgresql-online#prerequisites) или [PostgreS'L на Amazon RDS.](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_PostgreSQL.html) |

> [!NOTE]
> Для получения дополнительной информации о проблемах устранения неполадок, связанных с подключением к исходной базе данных AWS RDS PostgreS'L, см.
> * [Устранение неполадок для проблем Amazon RDS Connectivity](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_Troubleshooting.html#CHAP_Troubleshooting.Connecting)
> * [Как устранить проблемы, связанные с экземпляром базы данных Amazon RDS?](https://aws.amazon.com/premiumsupport/knowledge-center/rds-cannot-connect)

## <a name="aws-rds-sql-server"></a>Сервер AWS RDS S'L

Потенциальные проблемы, связанные с подключением к исходной базе данных AWS RDS S'L Server и способы их устранения, приведены в следующей таблице.

| Error         | Деталь причины и устранения неполадок |
| ------------- | ------------- |
| **Ошибка 53** - СУ СЗЛ не удалось. При подключении к SQL Server произошла ошибка, связанная с сетью или с определенным экземпляром. Сервер не был найден или недоступен. Удостоверьте правильность имени экземпляра и настройку сервера S'L, позволяющую удаленные соединения. (Поставщик: Названный поставщик труб, ошибка: 40 - Не удалось открыть подключение к серверу S'L | Эта ошибка возникает, если служба не может подключиться к исходного сервера. Для решения проблемы обратитесь к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, а затем повторите попытку. |
| **Ошибка 18456** - Войти не удалось. Сбой входа для пользователя 'пользователь) | Эта ошибка возникает, если служба не может подключиться к исходной базе данных с предоставленными учетными данными T-S'L. Чтобы решить проблему, проверьте введенные учетные данные. Вы также можете обратиться к [MSSQLSERVER_18456](https://docs.microsoft.com/sql/relational-databases/errors-events/mssqlserver-18456-database-engine-error?view=sql-server-2017) или к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, и попробовать еще раз. |
| **Ошибка 87** - Строка подключения недействительна. При подключении к SQL Server произошла ошибка, связанная с сетью или с определенным экземпляром. Сервер не найден или недоступен. Удостоверьте правильность имени экземпляра и настройку сервера S'L, позволяющую удаленные соединения. (поставщик: Сетевые интерфейсы S'L, ошибка: 25 - Строка подключения недействительна) | Эта ошибка возникает, если служба не может подключиться к исходной серверу из-за недействительной строки соединения. Чтобы решить проблему, проверьте предоставленную строку подключения. Если проблема сохраняется, обратитесь к документам по устранению неполадок, перечисленным в заметке ниже этой таблицы, а затем повторите попытку. |
| **Ошибка - Сертификат сервера не доверяют.** Соединение с сервером было успешно установлено, но при входе в систему произошла ошибка. (поставщик: SSL-провайдер, ошибка: 0 - Цепочка сертификатов была выдана органом, которому не доверяют.) | Эта ошибка возникает, если используется сертификат, которому не доверяют. Чтобы решить проблему, необходимо найти сертификат, которому можно доверять, а затем включить его на сервере. Кроме того, при подключении можно выбрать опцию «Сертификат доверия». Примите это действие только в том случае, если вы знакомы с используемым сертификатом и доверяете ему. <br> Соединения TLS, которые шифруются с помощью сертификата, подписанного самостоятельно, не обеспечивают сильной безопасности - они подвержены атакам «человек в середине». Не полагайтесь на TLS, используя самоподписанные сертификаты в производственной среде или на серверах, подключенных к Интернету. <br> Для получения дополнительной информации можно ознакомиться с помощью SSL с помощью экземпляра или учебника [Microsoft S'L Server DB:](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/SQLServer.Concepts.General.SSL.Using.html) [Имищите RDS S'L Server в Azure с помощью DMS.](https://docs.microsoft.com/azure/dms/tutorial-rds-sql-server-azure-sql-and-managed-instance-online#prerequisites) |
| **Ошибка 300** - Пользователь не имеет необходимых разрешений. Разрешение VIEW SERVER STATE было отказано на объекте 'сервера', базе данных '(база данных) | Эта ошибка возникает, если пользователь не имеет разрешения на выполнение миграции. Для решения проблемы обратитесь к [GRANT Server Permissions - Transact-S'L](https://docs.microsoft.com/sql/t-sql/statements/grant-server-permissions-transact-sql?view=sql-server-2017) или [Tutorial: Переносите RDS S'L Server в Azure, используя DMS](https://docs.microsoft.com/azure/dms/tutorial-rds-sql-server-azure-sql-and-managed-instance-online#prerequisites) для получения более подробной информации. |

> [!NOTE]
> Для получения дополнительной информации о проблемах устранения неполадок, связанных с подключением к источнику AWS RDS S'L Server, см.
>
> * [Устранение ошибок подключения к SQL Server](https://support.microsoft.com/help/4009936/solving-connectivity-errors-to-sql-server)
> * [Как устранить проблемы, связанные с экземпляром базы данных Amazon RDS?](https://aws.amazon.com/premiumsupport/knowledge-center/rds-cannot-connect)

## <a name="known-issues"></a>Известные проблемы

* [Известные проблемы/ограничения миграции с миграцией в интернет-сети в базу данных Azure S'L](https://docs.microsoft.com/azure/dms/known-issues-azure-sql-online)
* [Известные проблемы/ограничения миграции с миграцией в Интернет в базу данных Azure для MyS'L](https://docs.microsoft.com/azure/dms/known-issues-azure-mysql-online)
* [Известные проблемы/ограничения миграции с миграцией в Интернет в базу данных Azure для PostgreS'L](https://docs.microsoft.com/azure/dms/known-issues-azure-postgresql-online)

## <a name="next-steps"></a>Дальнейшие действия

* Посмотреть статью [Azure базы данных миграционной службы PowerShell](https://docs.microsoft.com/powershell/module/azurerm.datamigration/?view=azurermps-6.13.0#data_migration).
* Посмотреть статью [Как настроить параметры сервера в базу данных Azure для MyS'L с помощью портала Azure](https://docs.microsoft.com/azure/mysql/howto-server-parameters).
* Просмотрите статью [Обзор предпосылок для использования службы миграции баз данных Azure.](https://docs.microsoft.com/azure/dms/pre-reqs)
* Ознакомьтесь [с часто задаваемыми вопросами об использовании миграционной службы базы данных Azure.](https://docs.microsoft.com/azure/dms/faq)
