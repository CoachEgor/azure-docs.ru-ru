---
title: Azure Monitor для поставщиков решений SAP | Документация Майкрософт
description: В этой статье содержатся ответы на часто задаваемые вопросы о Azure Monitor для решений SAP.
services: virtual-machines-windows,virtual-network,storage
documentationcenter: saponazure
author: rdeltcheva
manager: juergent
editor: ''
tags: azure-resource-manager
keywords: ''
ms.assetid: 5e514964-c907-4324-b659-16dd825f6f87
ms.service: virtual-machines-windows
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: infrastructure-services
ms.date: 06/30/2020
ms.author: radeltch
ms.openlocfilehash: 267d600270e834cf4f1f077452fda7459fac3029
ms.sourcegitcommit: 3543d3b4f6c6f496d22ea5f97d8cd2700ac9a481
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/20/2020
ms.locfileid: "86525455"
---
# <a name="azure-monitor-for-sap-solutions-providers-preview"></a>Azure Monitor для поставщиков решений SAP (Предварительная версия)

## <a name="overview"></a>Обзор  

В контексте Azure Monitor для решений SAP *тип поставщика* относится к конкретному *поставщику*. Например *SAP HANA*, которая настроена для конкретного компонента в ландшафте SAP, например SAP HANA базы данных. Поставщик содержит сведения о соединении для соответствующего компонента и помогает в сборе данных телеметрии из этого компонента. Для одного Azure Monitor ресурса решений SAP (также известного как ресурс SAP Monitor) можно настроить несколько поставщиков одного типа поставщика или нескольких поставщиков для нескольких типов поставщиков.
   
Клиенты могут выбрать настройку различных типов поставщиков, чтобы включить сбор данных из соответствующего компонента в своей ландшафтной среде SAP. Например, клиенты могут настроить одного поставщика для типа поставщика SAP HANA, другого поставщика для типа поставщика кластеров с высоким уровнем доступности и т. д.  

Клиенты также могут настроить несколько поставщиков определенного типа поставщика, чтобы повторно использовать один и тот же ресурс SAP Monitor и связанную управляемую группу. Дополнительные сведения об управляемой группе ресурсов. Для общедоступной предварительной версии поддерживаются следующие типы поставщиков:   
- SAP HANA
- Кластер с высоким уровнем доступности
- Microsoft SQL Server

![Azure Monitor для поставщиков решений SAP](./media/azure-monitor-sap/azure-monitor-providers.png)

Пользователям рекомендуется настроить по крайней мере одного поставщика из доступных типов поставщиков во время развертывания ресурса мониторинга SAP. Настроив поставщик, клиенты инициируют сбор данных из соответствующего компонента, для которого настроен поставщик.   

Если клиенты не настраивают какие бы то ни было поставщики во время развертывания ресурса монитора SAP, хотя ресурс SAP Monitor будет успешно развернут, данные телеметрии собираться не будут. У клиентов есть возможность добавлять поставщиков после развертывания с помощью ресурса монитора SAP в портал Azure. Клиенты могут в любое время добавлять или удалять поставщиков из ресурса мониторинга SAP.

> [!Tip]
> Если вы хотите, чтобы корпорация Майкрософт реализовала конкретного поставщика, оставьте отзыв по ссылке в конце документа или обратитесь к группе вашей учетной записи.  

## <a name="provider-type-sap-hana"></a>Тип поставщика SAP HANA

Клиенты могут настроить одного или нескольких поставщиков типа поставщика *SAP HANA* , чтобы включить сбор данных из SAP HANA базы данных. Поставщик SAP HANA подключается к SAP HANA базе данных через порт SQL, извлекает данные телеметрии из базы данных и передает их в рабочую область Log Analytics в подписке клиента. Поставщик SAP HANA собирает данные каждые 1 минуту из базы данных SAP HANA.  

В общедоступной предварительной версии клиенты могут видеть следующие данные с помощью поставщика SAP HANA: базовое использование инфраструктуры, состояние узла SAP HANA, SAP HANA репликация системы и SAP HANA данные телеметрии резервного копирования. Чтобы настроить поставщик SAP HANA, необходимо указать IP-адрес узла, номер порта SQL HANA и имя пользователя и пароль СИСТЕМДБ. Клиентам рекомендуется настроить SAP HANA поставщика для СИСТЕМДБ, однако можно настроить дополнительные поставщики для других клиентов базы данных.

![Azure Monitor для поставщиков решений SAP — SAP HANA](./media/azure-monitor-sap/azure-monitor-providers-hana.png)

## <a name="provider-type-high-availability-cluster"></a>Тип поставщика кластер высокой доступности
Клиенты могут настроить один или несколько поставщиков *кластера с высоким уровнем доступности* , чтобы включить сбор данных из кластера Pacemaker в ландшафте SAP. Поставщик кластеров с высоким уровнем доступности подключается к Pacemaker, используя конечную точку [ha_cluster_exporter](https://github.com/ClusterLabs/ha_cluster_exporter) , извлекает данные телеметрии из базы данных и отправляет их в log Analytics рабочую область в подписке клиента. Поставщик кластеров с высоким уровнем доступности собирает данные каждые 60 секунд из Pacemaker.  

В общедоступной предварительной версии клиенты могут видеть следующие данные с помощью поставщика кластеров с высоким уровнем доступности:   
 - Состояние кластера, представленного в виде свертки состояния узла и ресурса 
 - [участниками](https://github.com/ClusterLabs/ha_cluster_exporter/blob/master/doc/metrics.md) 

![Azure Monitor для поставщиков решений SAP — кластер с высоким уровнем доступности](./media/azure-monitor-sap/azure-monitor-providers-pacemaker-cluster.png)

Чтобы настроить поставщик кластеров с высоким уровнем доступности, необходимо выполнить два основных шага: 
1. Установка [ha_cluster_exporter](https://github.com/ClusterLabs/ha_cluster_exporter) в *каждом* узле в кластере Pacemaker 
    - Клиенты могут использовать сценарии службы автоматизации Azure для развертывания кластера с высоким уровнем доступности. Скрипты будут устанавливаться [ha_cluster_exporter](https://github.com/ClusterLabs/ha_cluster_exporter) на каждом узле кластера.  
    - или клиенты могут выполнять установку вручную, выполнив действия, описанные на [этой странице](https://github.com/ClusterLabs/ha_cluster_exporter) . 
2. Настройка поставщика кластеров с высоким уровнем доступности в *каждом* узле в кластере Pacemaker  
  Чтобы настроить поставщик кластеров с высоким уровнем доступности, необходимо указать URL-адрес Prometheus, имя кластера, имя узла и идентификатор системы.   
  Пользователям рекомендуется настроить одного поставщика для каждого узла кластера.   

## <a name="provider-type-microsoft-sql-server"></a>Тип поставщика Microsoft SQL Server

Клиенты могут настроить один или несколько поставщиков типа поставщика *Microsoft SQL Server* , чтобы включить сбор данных из [SQL Server на виртуальных машинах](https://azure.microsoft.com/services/virtual-machines/sql-server/). SQL Server поставщик подключается к Microsoft SQL Server через порт SQL, извлекает данные телеметрии из базы данных и передает их в рабочую область Log Analytics в подписке клиента. Для SQL Server необходимо настроить проверку подлинности SQL и SQL Server имя входа, при этом необходимо создать базу данных SAP по умолчанию для поставщика. Поставщик SQL Server собирает данные каждые 60 секунд вплоть до каждого часа из SQL Server.  

В общедоступной предварительной версии клиенты могут видеть следующие данные с помощью поставщика SQL Server: базовое использование инфраструктуры, верхние инструкции SQL, самые большие таблицы, проблемы, записанные в SQL Server журналы ошибок, блокирующие процессы и другие.  

Чтобы настроить поставщик Microsoft SQL Server, требуется идентификатор системы SAP, IP-адрес узла, SQL Server номер порта, а также имя входа и пароль SQL Server.

![Azure Monitor для поставщиков решений SAP — SQL](./media/azure-monitor-sap/azure-monitor-providers-sql.png)

## <a name="next-steps"></a>Дальнейшие действия

- Создайте первую Azure Monitor для ресурса решений SAP.
- У вас возникли вопросы по Azure Monitor для решений SAP? Проверка раздела " [вопросы и ответы](./azure-monitor-faq.md) "
