---
title: Развертывание СУБД на виртуальных машинах Azure в SAP ASE для рабочей нагрузки SAP | Документы Майкрософт
description: Развертывание СУБД на Виртуальных машинах Azure в SAP ASE для рабочей нагрузки SAP
services: virtual-machines-linux,virtual-machines-windows
documentationcenter: ''
author: msjuergent
manager: patfilot
editor: ''
tags: azure-resource-manager
keywords: ''
ms.service: virtual-machines-linux
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: 02/21/2020
ms.author: juergent
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 007e8d87c670376ad334c1c4e58fd93995930b78
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77616237"
---
# <a name="sap-ase-azure-virtual-machines-dbms-deployment-for-sap-workload"></a>Развертывание СУБД на Виртуальных машинах Azure в SAP ASE для рабочей нагрузки SAP

В этом документе рассматривается несколько аспектов, которые следует учитывать при развертывании SAP ASE в Azure IaaS. Перед чтением этого документа следует ознакомиться с документом [Вопросы развертывания СУБД для рабочей нагрузки SAP на виртуальных машинах Azure](dbms_guide_general.md), а также с другими руководствами в [документации по рабочей нагрузке SAP в Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/get-started). Этот документ охватывает SAP ASE, работающий на Linux и операционных системах Windows. Минимальный поддерживаемый релиз на Azure — SAP ASE 16.0 Патч Уровень 2.  Рекомендуется развернуть последнюю версию SAP и новейший уровень патча.  Как минимум SAP ASE 16.3 Патч Уровень 7 рекомендуется.  Самая последняя версия SAP можно найти в [Целевой ASE 16.0 Расписание выпуска и CR список информации](https://wiki.scn.sap.com/wiki/display/SYBASE/Targeted+ASE+16.0+Release+Schedule+and+CR+list+Information).

Дополнительная информация о поддержке выпуска с приложениями SAP или расположением носителей установки найдена, кроме того, в Матрице доступности продуктов SAP в следующих местах:

- [Заметка поддержки SAP #2134316](https://launchpad.support.sap.com/#/notes/2134316)
- [Заметка поддержки SAP #1941500](https://launchpad.support.sap.com/#/notes/1941500)
- [Заметка поддержки SAP #1590719](https://launchpad.support.sap.com/#/notes/1590719)
- [Заметка поддержки SAP #1973241](https://launchpad.support.sap.com/#/notes/1973241)

Замечание: На протяжении всей документации в мире SAP и за его пределами название продукта называется Sybase ASE или SAP ASE, а в некоторых случаях и то и другое. Для того, чтобы оставаться последовательным, мы используем имя **SAP ASE** в этой документации.

## <a name="operating-system-support"></a>Поддержка операционных систем
Матрица доступности продуктов SAP содержит поддерживаемые комбинации операционной системы и ядра SAP для каждого приложения SAP.  Дистрибутивы Linux SUSE 12.x, SUSE 15.x, Red Hat 7.x полностью поддерживаются.  Oracle Linux как операционная система для SAP ASE не поддерживается.  Рекомендуется использовать самые последние доступные релизы Linux. Клиенты Windows должны использовать Windows Server 2016 или Windows Server 2019 релизы.  Старые выпуски Windows, такие как Windows 2012, технически поддерживаются, но последняя версия Windows всегда рекомендуется.


## <a name="specifics-to-sap-ase-on-windows"></a>Особенности SAP ASE в Windows
Начиная с Microsoft Azure можно переносить существующие приложения SAP ASE на виртуальные машины Azure. SAP ASE на виртуальной машине Azure позволяет снизить общую стоимость владения для развертывания и обслуживания приложений уровня организации, а также управления ими благодаря переносу этих приложений в Microsoft Azure. С помощью SAP ASE на виртуальной машине Azure администраторы и разработчики могут продолжать использовать те же средства разработки и администрирования, которые доступны в локальной среде.

Microsoft Azure предоставляет различные типы виртуальных машин, которые позволяют запускать как небольшие системы и ландшафты SAP, так и крупные системы и ландшафты SAP с несколькими тысячами пользователей. SAP размер SAPS номера различных SAP сертифицированных VM SKUs предоставляется в [SAP поддержки примечание #1928533.](https://launchpad.support.sap.com/#/notes/1928533)

Документация для установки SAP ASE на Windows содержится в [Руководстве по установке SAP ASE для Windows](https://help.sap.com/viewer/36031975851a4f82b1022a9df877280b/16.0.3.7/en-US/a660d3f1bc2b101487cbdbf10069c3ac.html)

Блокировка Страницы в памяти — это параметр, который предотвратит высвобождает буфер базы данных SAP ASE.  Эта настройка полезна для больших загруженных систем с большим количеством памяти. Для получения дополнительной информации свяжитесь с BC-DB-SYB. 


## <a name="linux-operating-system-specific-settings"></a>Специфические настройки операционной системы Linux
На Linux VMs, запуск `saptune` с профилем SAP-ASE Linux Огромные страницы должны быть включены по умолчанию и могут быть проверены с командой  

`cat /proc/meminfo` 

Размер страницы обычно 2048 КБ. Для получения подробной информации смотрите статью [Огромные страницы на Linux](https://help.sap.com/viewer/ecbccd52e7024feaa12f4e780b43bc3b/16.0.3.7/en-US/a703d580bc2b10149695f7d838203fad.html) 


## <a name="recommendations-on-vm-and-disk-structure-for-sap-ase-deployments"></a>Рекомендации по VM и структуре дисков для развертывания SAP ASE

SAP ASE для приложений SAP NetWeaver поддерживается на любом типе VM, указанном в [примечании поддержки SAP, #1928533](https://launchpad.support.sap.com/#/notes/1928533) Типичные типы VM, используемые для серверов баз данных SAP ASE среднего размера, включают Esv3.  Большие многотерабайтные базы данных могут использовать типы VM серии M. Производительность записи диска записи транзакций SAP ASE может быть улучшена за счет включения ускорителя записи M-серии. Запись ускоритель должен быть тщательно протестирован с SAP ASE из-за того, как SAP ASE выполняет журнал записи.  Просмотрите [примечание поддержки SAP #2816580](https://docs.microsoft.com/azure/virtual-machines/windows/how-to-enable-write-accelerator) и рассмотрите возможность проведения теста производительности.  
Write Accelerator предназначен только для диска журнала транзакций. Кэш уровня диска должен быть установлен на NONE. Не удивляйтесь, если Azure Write Accelerator не показывает аналогичных улучшений, как с другими DBMS. Основываясь на том, как SAP ASE записывает в журнал транзакций, может быть, что ускорение Azure Write Accelerator практически отсутствует.
Отдельные диски рекомендуются для устройств data и устройств журнала.  Системные базы данных sybsecurity и `saptools` не требуют выделенных дисков и могут быть размещены на дисках, содержащих данные базы данных SAP и устройства журнала 

![Конфигурация хранения для SAP ASE](./media/dbms-guide-sap-ase/sap-ase-disk-structure.png)

### <a name="file-systems-stripe-size--io-balancing"></a>Файловые системы, размер полосы & балансировка IO 
SAP ASE последовательно записывает данные в устройства хранения дисков, если не настроены в противном случае. Это означает, что пустая база данных SAP ASE с четырьмя устройствами будет записывать данные только на первом устройстве.  Другие дисковые устройства будут написаны только тогда, когда первое устройство заполнено.  Количество READ и WRITE IO для каждого устройства SAP ASE, вероятно, будет различным. Для балансировки истогодиска на всех доступных дисках Azure необходимо использовать либо пробелы для хранения данных Windows, либо Linux LVM2. На Linux рекомендуется использовать файловую систему XFS для форматирования дисков. Размер полосы LVM должен быть проверен с помощью теста производительности. 128 KB размер полосы является хорошей отправной точкой. На Windows следует протестировать размер единицы распределения NTFS (AUS). 64 КБ могут быть использованы в качестве стартового значения. 

Рекомендуется настроить автоматическое расширение базы данных, как описано в статье [Настройка автоматического расширения пространства базы данных в SAP Адаптивный сервер предприятия](https://blogs.sap.com/2014/07/09/configuring-automatic-database-space-expansion-in-sap-adaptive-server-enterprise/) и [SAP поддержки примечание #1815695](https://launchpad.support.sap.com/#/notes/1815695). 

### <a name="sample-sap-ase-on-azure-virtual-machine-disk-and-file-system-configurations"></a>Пример SAP ASE на конфигурациях виртуальной машины, диска и файловой системы Azure 
В приведенных ниже шаблонах показаны примеры конфигураций для Linux и Windows. Прежде чем подтвердить конфигурацию виртуальной машины и диска, убедитесь, что квоты пропускной способности сети и системы хранения отдельных VM достаточны для удовлетворения бизнес-требований. Также имейте в виду, что различные типы Azure VM имеют различное максимальное количество дисков, которые могут быть прикреплены к VM. Например, E4s_v3 VM имеет предел48 МБ /сек памяти IO.. Если пропускная способность хранилища, требуемая деятельностью резервного копирования базы данных, требует более 48 МБ/сек, то более крупный тип VM с большей пропускной способностью хранилища неизбежен. При настройке хранилища Azure необходимо также иметь в виду, что особенно при [хранении Azure Premium](https://docs.microsoft.com/azure/virtual-machines/windows/premium-storage-performance) пропускная способность и IOPS на ГБ емкости действительно меняются. Подробнее на эту тему читайте в статье [Какие типы дисков доступны в Azure?.](https://docs.microsoft.com/azure/virtual-machines/windows/disks-types) Квоты для конкретных типов Azure VM описаны в статье [Memory оптимизированы размеры виртуальных машин](https://docs.microsoft.com/azure/virtual-machines/sizes-memory) и связанных с ней статей. 

> [!NOTE]
>  Если система DBMS перемещается из помещения в Azure, рекомендуется выполнять мониторинг на ВМ и оценивать процессор, память, IOPS и пропускную емкость хранилища. Сравните пиковые значения, наблюдаемые, с лимитами квот ВМ, зафиксированными в упомянутых выше статьях

Приведенные ниже примеры предназначены для иллюстративных целей и могут быть изменены в зависимости от индивидуальных потребностей. Из-за разработки SAP ASE количество устройств данных не столь критично, как в других базах данных. Количество устройств данных, подробно описанных в этом документе, является только руководством. 

Пример конфигурации для небольшого DB-сервера SAP ASE с базой данных от 50 ГБ до 250 ГБ, например, SAP Solution Manager, может выглядеть как

| Параметр Configuration | Windows | Linux | Комментарии |
| --- | --- | --- | --- |
| Тип виртуальной машины | E4s_v3 (4 VCPU/32 ГБ оперативной памяти) | E4s_v3 (4 VCPU/32 ГБ оперативной памяти) | --- |
| Ускорение работы в сети | Включить | Включить | ---|
| Версия SAP ASE | 16.3 PL 7 или выше | 16.3 PL 7 или выше | --- |
| - устройств передачи данных | 4 | 4 | ---|
| - устройства журнала | 1 | 1 | --- |
| - временные устройства | 1 | 1 | больше для рабочей нагрузки SAP BW |
| Операционная система | Windows Server 2019 | SUSE 12 SP4/ 15 SP1 или RHEL 7.6 | --- |
| Агрегация дисков | Дисковые пространства | LVM2 | --- |
| Файловая система | NTFS | Xfs |
| Размер блока формата | нуждается в тестировании рабочей нагрузки | нуждается в тестировании рабочей нагрузки | --- |
| - и тип дисков данных | Премиум-хранилище: 2 x P10 (RAID0) | Премиум-хранилище: 2 x P10 (RAID0)| Кэш - только читать |
| и тип дисков журнала | Премиум-память: 1 x P20  | Премиум-память: 1 x P20 | Кэш - НЕТ |
| Параметр ASE MaxMemory | 90% физической оперативной памяти | 90% физической оперативной памяти | предполагая, один экземпляр |
| - резервных устройств | 4 | 4| --- |
| и тип резервных дисков | 1 | 1 | --- |


Пример конфигурации для среднего SAP ASE DB Server с базой данных размером от 250 ГБ - 750 ГБ, например, меньшая система SAP Business Suite, может выглядеть как

| Параметр Configuration | Windows | Linux | Комментарии |
| --- | --- | --- | --- |
| Тип виртуальной машины | E16s_v3 (16 vCPU/128 ГБ оперативной памяти) | E16s_v3 (16 vCPU/128 ГБ оперативной памяти) | --- |
| Ускорение работы в сети | Включить | Включить | ---|
| Версия SAP ASE | 16.3 PL 7 или выше | 16.3 PL 7 или выше | --- |
| - устройств передачи данных | 8 | 8 | ---|
| - устройства журнала | 1 | 1 | --- |
| - временные устройства | 1 | 1 | больше для рабочей нагрузки SAP BW |
| Операционная система | Windows Server 2019 | SUSE 12 SP4/ 15 SP1 или RHEL 7.6 | --- |
| Агрегация дисков | Дисковые пространства | LVM2 | --- |
| Файловая система | NTFS | Xfs |
| Размер блока формата | нуждается в тестировании рабочей нагрузки | нуждается в тестировании рабочей нагрузки | --- |
| - и тип дисков данных | Премиум-память: 4 x P20 (RAID0) | Премиум-память: 4 x P20 (RAID0)| Кэш - только читать |
| и тип дисков журнала | Премиум-память: 1 x P20  | Премиум-память: 1 x P20 | Кэш - НЕТ |
| Параметр ASE MaxMemory | 90% физической оперативной памяти | 90% физической оперативной памяти | предполагая, один экземпляр |
| - резервных устройств | 4 | 4| --- |
| и тип резервных дисков | 1 | 1 | --- |

Пример конфигурации для небольшого SAP ASE DB Server с базой данных от 750 ГБ до 2000 ГБ, например, более крупной системы SAP Business Suite, может выглядеть как

| Параметр Configuration | Windows | Linux | Комментарии |
| --- | --- | --- | --- |
| Тип виртуальной машины | E64s_v3 (64 vCPU/432 ГБ оперативной памяти) | E64s_v3 (64 vCPU/432 ГБ оперативной памяти) | --- |
| Ускорение работы в сети | Включить | Включить | ---|
| Версия SAP ASE | 16.3 PL 7 или выше | 16.3 PL 7 или выше | --- |
| - устройств передачи данных | 16 | 16 | ---|
| - устройства журнала | 1 | 1 | --- |
| - временные устройства | 1 | 1 | больше для рабочей нагрузки SAP BW |
| Операционная система | Windows Server 2019 | SUSE 12 SP4/ 15 SP1 или RHEL 7.6 | --- |
| Агрегация дисков | Дисковые пространства | LVM2 | --- |
| Файловая система | NTFS | Xfs |
| Размер блока формата | нуждается в тестировании рабочей нагрузки | нуждается в тестировании рабочей нагрузки | --- |
| - и тип дисков данных | Премиум-хранилище: 4 x P30 (RAID0) | Премиум-хранилище: 4 x P30 (RAID0)| Кэш - только читать |
| и тип дисков журнала | Премиум-память: 1 x P20  | Премиум-память: 1 x P20 | Кэш - НЕТ |
| Параметр ASE MaxMemory | 90% физической оперативной памяти | 90% физической оперативной памяти | предполагая, один экземпляр |
| - резервных устройств | 4 | 4| --- |
| и тип резервных дисков | 1 | 1 | --- |


Пример конфигурации для небольшого DB-сервера SAP ASE с размером базы данных 2 ТБ, например, более крупной глобально используемой системы SAP Business Suite, может выглядеть как

| Параметр Configuration | Windows | Linux | Комментарии |
| --- | --- | --- | --- |
| Тип виртуальной машины | M-Series (1,0 - 4,0 ТБ оперативной памяти)  | M-Series (1,0 - 4,0 ТБ оперативной памяти) | --- |
| Ускорение работы в сети | Включить | Включить | ---|
| Версия SAP ASE | 16.3 PL 7 или выше | 16.3 PL 7 или выше | --- |
| - устройств передачи данных | 32 | 32 | ---|
| - устройства журнала | 1 | 1 | --- |
| - временные устройства | 1 | 1 | больше для рабочей нагрузки SAP BW |
| Операционная система | Windows Server 2019 | SUSE 12 SP4/ 15 SP1 или RHEL 7.6 | --- |
| Агрегация дисков | Дисковые пространства | LVM2 | --- |
| Файловая система | NTFS | Xfs |
| Размер блока формата | нуждается в тестировании рабочей нагрузки | нуждается в тестировании рабочей нагрузки | --- |
| - и тип дисков данных | Премиум-хранилище: 4 "х P30(RAID0) | Премиум-хранилище: 4 "х P30(RAID0)| Кэш - Только читать, рассмотрим azure Ultra диск |
| и тип дисков журнала | Премиум-память: 1 x P20  | Премиум-память: 1 x P20 | Кэш - НЕТ, рассмотрим azure Ultra диск |
| Параметр ASE MaxMemory | 90% физической оперативной памяти | 90% физической оперативной памяти | предполагая, один экземпляр |
| - резервных устройств | 16 | 16 | --- |
| и тип резервных дисков | 4 | 4 | Используйте пробелы LVM2/Storage |


### <a name="backup--restore-considerations-for-sap-ase-on-azure"></a>Резервное копирование & восстановить соображения для SAP ASE на Azure
Увеличение количества устройств данных и резервного копирования увеличивает резервное копирование и восстановление производительности. Рекомендуется полоски дисков Azure, которые размещают резервное устройство SAP ASE, как показано в таблицах, показанных ранее. Следует позаботиться о том, чтобы сбалансировать количество резервных устройств и дисков и обеспечить, чтобы пропускная часть резервного копирования не превышала 40%-50% от общей квоты пропускной связи ВМ. Рекомендуется использовать сжатие резервного копирования SAP по умолчанию. Более подробную информацию можно найти в статьях:

- [Заметка поддержки SAP #1588316](https://launchpad.support.sap.com/#/notes/1588316)
- [Заметка поддержки SAP #1801984](https://launchpad.support.sap.com/#/notes/1801984)
- [Заметка поддержки SAP #1585981](https://launchpad.support.sap.com/#/notes/1585981) 

Не используйте диск D: или /временное пространство как пункт назначения базы данных или свалки журнала.

### <a name="impact-of-database-compression"></a>Влияние сжатия базы данных
В конфигурациях, где пропускная способность ввоза/вывода может стать ограничивающим фактором, меры, которые уменьшают IOPS, могут помочь растянуть рабочую нагрузку, которую можно запустить в сценарии IaaS, как Azure. Таким образом, рекомендуем обязательно использовать сжатие SAP ASE перед отправкой имеющейся базы данных SAP в Azure.

Использовать сжатие перед отправкой в Azure рекомендуется по нескольким причинам:

* Объем отправляемых в Azure данных уменьшается.
* Длительность выполнения сжатия короче, при условии, что локально можно использовать более мощное оборудование с большим числом ЦП, более высокой пропускной способностью ввода-вывода или меньшими задержками ввода-вывода.
* Уменьшение размеров баз данных может сократить затраты на выделение места на дисках.

Сжатие данных и LOB работает на виртуальных машинах Azure так же, как и в локальной среде. Для получения более подробной информации о том, как проверить, если сжатие уже используется в существующей базе данных SAP ASE, проверьте [SAP примечание поддержки 1750510](https://launchpad.support.sap.com/#/notes/1750510). Для получения более подробной информации о sAP ASE сжатия базы данных проверить [SAP поддержки примечание #2121797](https://launchpad.support.sap.com/#/notes/2121797)

## <a name="high-availability-of-sap-ase-on-azure"></a>Высокая доступность SAP ASE на Azure 
Руководство для пользователей HADR подробно описывает настройку и конфигурацию 2-узлового sAP ASE "Всегда-на" решение.  Кроме того, поддерживается третий узло аварийного восстановления. SAP ASE поддерживает множество высокодоступных конфигураций, включая общий диск и нативную кластеризацию ОС (плавающий IP). Единственной поддерживаемой конфигурацией Azure является использование диспетчера неисправностей без плавающего IP- иС.  Метод плавающего IP-адреса не будет работать на Azure.  Ядро SAP является приложением "HA Aware" и знает о первичных и вторичных серверах SAP ASE. Между SAP ASE и Azure нет тесной интеграции, балансисмелер внутренней нагрузки Azure не используется. Таким образом, стандартная документация SAP ASE должна следовать, начиная с [Руководства по пользователям SAP ASE HADR](https://help.sap.com/viewer/efe56ad3cad0467d837c8ff1ac6ba75c/16.0.3.7/en-US/a6645e28bc2b1014b54b8815a64b87ba.html) 

> [!NOTE]
> Единственной поддерживаемой конфигурацией Azure является использование диспетчера неисправностей без плавающего IP- иС.  Метод плавающего IP-адреса не будет работать на Azure. 

### <a name="third-node-for-disaster-recovery"></a>Третий узлы для аварийного восстановления
Помимо использования SAP ASE Always-On для локальной высокой доступности, может потребоваться расширить конфигурацию до асинхронно реплицированного узла в другом регионе Azure. Документацию для такого сценария можно найти [здесь.](https://techcommunity.microsoft.com/t5/running-sap-applications-on-the/installation-procedure-for-sybase-16-3-patch-level-3-always-on/ba-p/368199)

## <a name="sap-ase-database-encryption--ssl"></a>Шифрование базы данных SAP ASE & SSL 
SAP Software provisioning Manager (SWPM) предоставляет возможность шифрования базы данных во время установки.  Если вы хотите использовать шифрование, рекомендуется использовать SAP Полное шифрование базы данных.  Подробности, задокументированные в:

- [Заметка поддержки SAP #2556658](https://launchpad.support.sap.com/#/notes/2556658)
- [Заметка поддержки SAP #2224138](https://launchpad.support.sap.com/#/notes/2224138)
- [Заметка поддержки SAP #2401066](https://launchpad.support.sap.com/#/notes/2401066)
- [Заметка поддержки SAP #2593925](https://launchpad.support.sap.com/#/notes/2593925) 

> [!NOTE]
> Если база данных SAP ASE зашифрована, то сжатие пульта резервного копирования не будет работать. Смотрите также [заметку поддержки SAP #2680905](https://launchpad.support.sap.com/#/notes/2680905) 

## <a name="sap-ase-on-azure-deployment-checklist"></a>Контрольный список развертывания SAP ASE в контрольном списке развертывания Azure
 
- Развертывание SAP ASE 16.3 PL7 или выше
- Обновление до последней версии и патчи FaultManager и SAPHostAgent
- Развертывание на последней сертифицированной ОС, таких как Windows 2019, Suse 15.1 или Redhat 7.6 или выше
- Рекомендуется использовать сертифицированные VM-м комплексами SAP - рекомендуется высокой памятью Azure VM SKUs, такими как Es_v3 или x-большие системы M-Series VM SKUs
- Сопоставьте диск IOPS и общую агрегированную квоту пропускной документации VM с дизайном диска.  Развертывание достаточного количества дисков
- Агрегированные диски с использованием Windows Storage Spaces или Linux LVM2 с правильным размером полосы и файловой системой
- Создание достаточного количества устройств для целей данных, журналов, температуры и резервного копирования
- Рассмотрите возможность использования UltraDisk для больших систем x 
- Выполнить `saptune` SAP-ASE на Linux OS 
- Защищайте базу данных с помощью dB-шифрования — вручную храните клавиши в Хранилище ключей Azure 
- Заполните [SAP в контрольном списке Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/sap-deployment-checklist) 
- Настройка резервного копирования журнала и полного резервного копирования 
- Тест HA/DR, резервное копирование и восстановление и выполнение стресс-& тома теста 
- Подтверждение автоматического расширения базы данных работает 

## <a name="using-dbacockpit-to-monitor-database-instances"></a>Использование DBACockpit для мониторинга экземпляров баз данных
Для систем SAP, в которых используется SAP ASE в качестве платформы баз данных, средство DBACockpit доступно в виде встроенных окон браузера в DBACockpit для транзакции или в виде Webdynpro. Тем не менее, полный функционал для мониторинга и администрирования базы данных доступен только в реализации Webdynpro DBACockpit.

Как и для локальных систем, требуется выполнить ряд действий, чтобы включить все функциональные возможности SAP NetWeaver, используемые в реализации Webdynpro средства DBACockpit. Следуйте [sAP примечание поддержки #1245200,](https://launchpad.support.sap.com/#/notes/1245200) чтобы обеспечить использование webdynpros и генерировать необходимые. Следуя инструкциям в приведенных выше нотах, вы`ICM`также настраиваете менеджера интернет-коммуникаций () вместе с портами, которые будут использоваться для подключения http и https. Настройка по умолчанию для http выглядит следующим образом:

> icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600
> 
> icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600
> 
> 

Ссылки, создаваемые в DBACockpit для транзакции, выглядят так:

> https:\//\<fullyqualifiedhostname>:44300/sap/bc/webdynpro/sap/dba_cockpit
> 
> http:\//\<fullyqualifiedhostname>:8000/sap/bc/webdynpro/sap/dba_cockpit
> 
> 

В зависимости от того, как виртуальная машина Azure, на которой размещается система SAP, подключена к AD и DNS, необходимо убедиться в том, что ICM использует полное имя узла, которое может быть разрешено на компьютере, с которого вы открываете DBACockpit. Смотрите [примечание поддержки SAP #773830,](https://launchpad.support.sap.com/#/notes/773830) чтобы понять, как ICM определяет полностью квалифицированное имя хоста на основе параметров профиля и при необходимости четко устанавливает параметры icm/host_name_full.

Если вы развернули VM в сценарии только для облаков без перекрестного подключения между локальным и `domainlabel`Azure, необходимо определить общедоступный IP-адрес и Формат общедоступного DNS-имени виртуальной машины будет выглядеть так:

> `<custom domainlabel`>.`<azure region`>.cloudapp.azure.com
> 
> 

Более подробную информацию, связанную с названием DNS, можно найти (здесь) «виртуальные машины-лазурик-против-лазуризмы».

Если для параметра профиля SAP icm/host_name_full задать DNS-имя виртуальной машины Azure, ссылка может выглядеть так:

> https:\//mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit
> 
> http:\//mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit

В таком случае необходимо:

* добавить правила для входящего трафика в группу безопасности сети на портале Azure для портов TCP/IP, используемых для связи с ICM;
* добавить правила для входящего трафика в конфигурацию брандмауэра Windows для портов TCP/IP, используемых для связи с ICM.

Для автоматического импорта всех доступных исправлений рекомендуется периодически применять примечания SAP, содержащие наборы исправлений, которые относятся к вашей версии SAP:

* [Заметка поддержки SAP #1558958](https://launchpad.support.sap.com/#/notes/1558958)
* [Заметка поддержки SAP #1619967](https://launchpad.support.sap.com/#/notes/1619967)
* [Заметка поддержки SAP #1882376](https://launchpad.support.sap.com/#/notes/1882376)

Дополнительные сведения о панели DBA для SAP ASE можно найти в следующих примечаниях SAP:

* [Заметка поддержки SAP #1605680](https://launchpad.support.sap.com/#/notes/1605680)
* [Заметка поддержки SAP #1757924](https://launchpad.support.sap.com/#/notes/1757924)
* [Заметка поддержки SAP #1757928](https://launchpad.support.sap.com/#/notes/1757928)
* [Заметка поддержки SAP #1758182](https://launchpad.support.sap.com/#/notes/1758182)
* [#1758496 примечания поддержки SAP](https://launchpad.support.sap.com/#/notes/1758496)    
* [#1814258 примечания поддержки SAP](https://launchpad.support.sap.com/#/notes/1814258)
* [Заметка поддержки SAP #1922555](https://launchpad.support.sap.com/#/notes/1922555)
* [Заметка поддержки SAP #1956005](https://launchpad.support.sap.com/#/notes/1956005)


## <a name="useful-links-notes--whitepapers-for-sap-ase"></a>Полезные ссылки, заметки & whitepapers для SAP ASE
На стартовой странице [Sybase ASE 16.3 PL7 Документация](https://help.sap.com/viewer/product/SAP_ASE/16.0.3.7/en-US) содержит ссылки на различные документы, документы которых:

- SAP ASE Обучение Путешествие - Администрация & мониторинг
- SAP ASE Обучение Путешествие - Установка & обновление

полезны. Другим полезным документом являются [приложения SAP для адаптивного серверного сервера SAP, которые являются передовой практикой для миграции и runtime.](https://assets.cdn.sap.com/sapcom/docs/2016/06/26450353-767c-0010-82c7-eda71af511fa.pdf)

Другие полезные примечания поддержки SAP:

- [Заметка поддержки SAP #2134316](https://launchpad.support.sap.com/#/notes/2134316) 
- [Заметка поддержки SAP #1748888](https://launchpad.support.sap.com/#/notes/1748888) 
- [Заметка поддержки SAP #2588660](https://launchpad.support.sap.com/#/notes/2588660) 
- [Заметка поддержки SAP #1680803](https://launchpad.support.sap.com/#/notes/1680803) 
- [Заметка поддержки SAP #1724091](https://launchpad.support.sap.com/#/notes/1724091) 
- [Заметка поддержки SAP #1775764](https://launchpad.support.sap.com/#/notes/1775764) 
- [Заметка поддержки SAP #2162183](https://launchpad.support.sap.com/#/notes/2162183) 
- [Заметка поддержки SAP #1928533](https://launchpad.support.sap.com/#/notes/1928533)
- [Заметка поддержки SAP #2015553](https://launchpad.support.sap.com/#/notes/2015553)
- [Заметка поддержки SAP #1750510](https://launchpad.support.sap.com/#/notes/1750510) 
- [Заметка поддержки SAP #1752266](https://launchpad.support.sap.com/#/notes/1752266) 
- [Заметка поддержки SAP #2162183](https://launchpad.support.sap.com/#/notes/2162183) 
- [Заметка поддержки SAP #1588316](https://launchpad.support.sap.com/#/notes/158831) 

Другая информация публикуется на 

- [Приложения SAP на предприятии SAP Adaptive Server](https://community.sap.com/topics/applications-on-ase)
- [Инфоцентр Sybase](http://infocenter.sybase.com/help/index.jsp) 

Ежемесячный информационный бюллетень публикуется через [примечание поддержки SAP #2381575](https://launchpad.support.sap.com/#/notes/2381575) 

[Sybase ASE Всегда-на с 3-й DR узла настройки](https://techcommunity.microsoft.com/t5/running-sap-applications-on-the/installation-procedure-for-sybase-16-3-patch-level-3-always-on/ba-p/368199) 

## <a name="next-steps"></a>Дальнейшие действия
Проверьте [рабочие нагрузки SAP в Azure: контрольный список планирования и развертывания](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/sap-deployment-checklist)

