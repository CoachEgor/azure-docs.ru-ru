---
title: Решения Oracle на виртуальных машинах Azure | Документация Майкрософт
description: Дополнительные сведения о поддерживаемых конфигурациях и ограничениях образов виртуальных машин Oracle в Microsoft Azure.
services: virtual-machines-linux
documentationcenter: ''
author: romitgirdhar
manager: jeconnoc
tags: azure-resource-management
ms.assetid: ''
ms.service: virtual-machines-windows
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 05/23/2019
ms.author: rogirdh
ms.custom: seodec18
ms.openlocfilehash: 9dd7f7d07b34ed3c1076b46c0bf5185d6c8cd31a
ms.sourcegitcommit: 41ca82b5f95d2e07b0c7f9025b912daf0ab21909
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "67074232"
---
# <a name="oracle-vm-images-and-their-deployment-on-microsoft-azure"></a>Образы виртуальных Машин Oracle и их развертывание в Microsoft Azure

В этой статье приведены сведения о решениях Oracle, на основе образов виртуальных машин, опубликованных Oracle в Azure Marketplace. Если вы заинтересованы в приложения, охватывающей несколько облачных решений с помощью Oracle облачной инфраструктуры, см. в разделе [решения приложения Oracle, интеграция Microsoft Azure и облачной инфраструктуры Oracle](oracle-oci-overview.md).

Чтобы получить список доступных образов, выполните следующую команду:

```azurecli-interactive
az vm image list --publisher oracle -o table --all
```

Начиная с мая 2019 доступны следующие образы:

```bash
Offer                   Publisher    Sku                     Urn                                                          Version
----------------------  -----------  ----------------------  -----------------------------------------------------------  -------------
Oracle-Database-Ee      Oracle       12.1.0.2                Oracle:Oracle-Database-Ee:12.1.0.2:12.1.20170220             12.1.20170220
Oracle-Database-Ee      Oracle       12.2.0.1                Oracle:Oracle-Database-Ee:12.2.0.1:12.2.20180725             12.2.20180725
Oracle-Database-Ee      Oracle       18.3.0.0                Oracle:Oracle-Database-Ee:18.3.0.0:18.3.20181213             18.3.20181213
Oracle-Database-Se      Oracle       12.1.0.2                Oracle:Oracle-Database-Se:12.1.0.2:12.1.20170220             12.1.20170220
Oracle-Database-Se      Oracle       12.2.0.1                Oracle:Oracle-Database-Se:12.2.0.1:12.2.20180725             12.2.20180725
Oracle-Database-Se      Oracle       18.3.0.0                Oracle:Oracle-Database-Se:18.3.0.0:18.3.20181213             18.3.20181213
Oracle-Linux            Oracle       6.10                    Oracle:Oracle-Linux:6.10:6.10.20190506                       6.10.20190506
Oracle-Linux            Oracle       6.8                     Oracle:Oracle-Linux:6.8:6.8.20190506                         6.8.20190506
Oracle-Linux            Oracle       6.9                     Oracle:Oracle-Linux:6.9:6.9.20190506                         6.9.20190506
Oracle-Linux            Oracle       7.3                     Oracle:Oracle-Linux:7.3:7.3.20190506                         7.3.20190506
Oracle-Linux            Oracle       7.4                     Oracle:Oracle-Linux:7.4:7.4.20190506                         7.4.20190506
Oracle-Linux            Oracle       7.5                     Oracle:Oracle-Linux:7.5:7.5.20181207                         7.5.20181207
Oracle-Linux            Oracle       7.5                     Oracle:Oracle-Linux:7.5:7.5.20190506                         7.5.20190506
Oracle-Linux            Oracle       7.6                     Oracle:Oracle-Linux:7.6:7.6.20181207                         7.6.20181207
Oracle-Linux            Oracle       7.6                     Oracle:Oracle-Linux:7.6:7.6.20190506                         7.6.20190506
Oracle-WebLogic-Server  Oracle       Oracle-WebLogic-Server  Oracle:Oracle-WebLogic-Server:Oracle-WebLogic-Server:12.1.2  12.1.2
```

Это образы с использованием собственной лицензии, а значит вы будете оплачивать только использование ресурсов вычислений и хранения, а также сетевых ресурсов, связанных с работой виртуальной машины.  Вы должны иметь соответствующую лицензию на использование программного обеспечения Oracle, а также соглашение о текущей поддержке. Oracle гарантирует перемещение лицензий из локальной среды в Azure. Ознакомьтесь с опубликованным примечанием [Oracle и Майкрософт](https://www.oracle.com/technetwork/topics/cloud/faq-1963009.html) о перемещении лицензий. 

Пользователи могут также разрабатывать свои решения на основе пользовательского образа, созданных с нуля в Azure, или передать пользовательский образ из своей локальной среды.

## <a name="support-for-jd-edwards"></a>Поддержка JD Edwards
Согласно примечанию по поддержке Oracle [Doc ID 2178595.1](https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=573435677515785&id=2178595.1&_afrWindowMode=0&_adf.ctrl-state=o852dw7d_4), JD Edwards EnterpriseOne версии 9.2 и выше поддерживает **любое открытое Облачное предложение** , соответствует определенным `Minimum Technical Requirements` (минимальным техническим Требованиям).  Необходимо создать пользовательские образы, соответствующие минимальным техническим требованиям к операционной системе и к совместимости с программными приложениями. 

## <a name="oracle-database-vm-images"></a>Образы виртуальных Машин для базы данных Oracle
Oracle поддерживает выполнение выпусков базы данных Oracle 12.1 Standard и Enterprise в Azure с использованием образов виртуальных машин на базе Oracle Linux.  Чтобы повысить производительность рабочих нагрузок базы данных Oracle в Azure, правильно выберите размер образа виртуальной машины и используйте решение "Управляемые диски" совместно с хранилищем класса Premium. Сведения о том, как быстро настроить и запустить базу данных Oracle в Azure с помощью опубликованного образа виртуальной машины Oracle, см. в статье [Создание базы данных Oracle 12c на виртуальной машине Azure](oracle-database-quick-create.md).

### <a name="attached-disk-configuration-options"></a>Варианты конфигурации подключенного диска

Подключенные диски используют службу хранилища больших двоичных объектов Azure. Теоретически каждый диск уровня "Стандартный" способен выполнять максимум около 500 операций ввода-вывода в секунду (IOPS). Наше предложение с дисками уровня "Премиум", которое предпочтительно использовать для высокопроизводительных рабочих нагрузок базы данных, может обеспечивать до 5000 операций ввода-вывода в секунду на диск. Можно использовать один диск, если, соответствует требованиям к производительности. Тем не менее может повысить действующие производительность операций ввода-ВЫВОДА, если, использовав несколько подключенных дисков, распределив между ними данные базы данных и затем использовать Oracle Automatic Storage Management (ASM). Дополнительные сведения об Oracle ASM см. в обзоре [Oracle Automatic Storage](https://www.oracle.com/technetwork/database/index-100339.html). Пример того, как установка и настройка Oracle ASM на виртуальной Машине Azure Linux, см. в разделе [Установка и настройка управления хранением автоматической Oracle](configure-oracle-asm.md) руководства.

### <a name="shared-storage-configuration-options"></a>Параметры конфигурации общего хранилища

Служба файлов Azure NetApp был разработан для удовлетворения основных требований выполнения высокопроизводительных рабочих нагрузок могут быть базы данных в облаке и предоставляет;
- Azure машинный код общей службы хранилище NFS для запуска рабочих нагрузок Oracle, либо с помощью виртуальной Машины собственный клиент для NFS или Oracle dNFS
- Масштабируемая производительность уровней, которые отражают требования реальных диапазона для операций ввода-ВЫВОДА
- Низкая задержка
- Высокий уровень доступности, обеспечения высокой надежности и управляемости в масштабе, обычно затребованы критически важных корпоративных рабочих нагрузок (например, SAP и Oracle)
- Быстрое и эффективное резервное копирование и восстановление, для достижения наиболее агрессивным родительским RTO и RPO SLA

Эти возможности возможны, так как файлы NetApp Azure основана на флэш-памяти NetApp ONTAP®, систем в среде центра данных Azure — как службу Azure собственный. Результат — это технология хранения является идеальной базой данных, которая может быть подготовленное и используемое так же, как и другие параметры хранилища Azure. См. в разделе [Azure NetApp файлы документации](https://docs.microsoft.com/azure/azure-netapp-files/) Дополнительные сведения о том, как развернуть и получать доступ к томам Azure NetApp файлов NFS. См. в разделе [Oracle в Azure рекомендации практического руководства с помощью Azure NetApp файлы развертывания](https://www.netapp.com/us/media/tr-4780.pdf) рекомендации по работе с базой данных Oracle на NetApp службы файлов Azure.


## <a name="oracle-real-application-cluster-oracle-rac"></a>Решение Oracle Real Application Clusters (RAC)
Решение RAC позволяет уменьшить влияние сбоя отдельных узлов в конфигурации кластера с несколькими локальными узлами. В нем используются две локальные технологии, которые не включены в такие крупномасштабные общедоступные облачные среды, как передача многоадресных пакетов в сети и общий диск. Решения базы данных требует решение RAC в Azure, необходимости в третьей = программное обеспечение сторонних производителей, чтобы включить эти технологии. Дополнительные сведения об Oracle RAC, см. в разделе [FlashGrid SkyCluster страницы](https://www.flashgrid.io/oracle-rac-in-azure/).

## <a name="high-availability-and-disaster-recovery-considerations"></a>Рекомендации по высокой доступности и аварийному восстановлению
При использовании баз данных Oracle в Azure, вы несете ответственность за реализацию решение высокого уровня доступности и аварийного восстановления во избежание простоев. 

Высокий уровень доступности и аварийное восстановление в Oracle Database Enterprise Edition (без использования Oracle RAC) можно реализовать в Azure с помощью [Data Guard, Active Data Guard](https://www.oracle.com/technetwork/articles/oem/dataguardoverview-083155.html), или [Oracle GoldenGate](https://www.oracle.com/technetwork/middleware/goldengate), с двумя базами данных на двух разных виртуальных машинах. Обе виртуальные машины должны находиться в одной [виртуальной сети](https://azure.microsoft.com/documentation/services/virtual-network/), чтобы они могли обращаться друг к другу через постоянный частный IP-адрес.  Кроме того, рекомендуется размещать виртуальные машины в одной группе доступности, так как это позволяет Azure помещать их в отдельные домены сбоя и домены обновления. Вам понадобится имеют географическую избыточность, настроить две базы данных для репликации между двумя разными регионами и подключать оба экземпляра с помощью VPN-шлюза.

Руководства [реализация Oracle Data Guard на Azure](configure-oracle-dataguard.md) описывается процедура базовой установки в Azure.  

При использовании Oracle Data Guard высокую доступность можно обеспечить, разместив базу данных источника в одной виртуальной машине и базу данных получателя (резервную) в другой виртуальной машине и настроив одностороннюю репликацию между ними. В результате можно получить доступ на чтение к копии базы данных. При использовании Oracle GoldenGate можно настроить двунаправленную репликацию между двумя базами данных. Дополнительные сведения о настройке высокой доступности для баз данных с помощью этих инструментов см. в документации по [Active Data Guard](https://www.oracle.com/technetwork/database/features/availability/data-guard-documentation-152848.html) и [GoldenGate](https://docs.oracle.com/goldengate/1212/gg-winux/index.html) на веб-сайте Oracle. Если вам требуется получить доступ на чтение и запись к копии базы данных, ознакомьтесь с документом [Oracle Active Data Guard](https://www.oracle.com/uk/products/database/options/active-data-guard/overview/index.html).

Руководства [реализация Oracle golden в Azure](configure-oracle-golden-gate.md) описывается процедура базовой установки в Azure.

Помимо высокого уровня ДОСТУПНОСТИ и аварийное Восстановление решения, разработанного в Azure, должны иметь стратегию резервного копирования для восстановления базы данных. Руководства [резервное копирование и восстановление базы данных Oracle](oracle-backup-recovery.md) поможет выполнить основные процедуры создания согласованной резервной.

## <a name="oracle-weblogic-server-virtual-machine-images"></a>Образы виртуальных машин Oracle WebLogic Server

* **Кластеризация поддерживается только в выпуске Enterprise Edition.** Ваша лицензия дает право использовать кластеризацию WebLogic только при использовании выпуска WebLogic Server Enterprise Edition. Не используйте кластеризацию с выпуском WebLogic Server Standard Edition.
* **Не поддерживается многоадресная рассылка по UDP.** Azure поддерживает одноадресную рассылку по UDP, но не поддерживает ни многоадресную, ни широковещательную рассылку. WebLogic Server может использовать возможности одноадресной рассылки по UDP в Azure. Для получения наилучших результатов, полагаясь на одноадресную передачу UDP мы рекомендуем, что размер кластера WebLogic хранятся в статической или сохраняются с не более 10 управляемых серверов.
* **WebLogic Server ожидает использования одинаковых общих и частных портов для доступа к каналу T3 (например, при использовании Enterprise JavaBeans).** Рассмотрим многоуровневый сценарий, в котором приложение уровня служб (EJB) выполняется в кластере WebLogic Server, состоящий из двух или более виртуальных машин в виртуальной сети с именем *SLWLS*. Клиентский уровень расположен в другой подсети в той же виртуальной сети, под управлением простую программу Java, пытается вызвать EJB на уровне служб. Так как он необходим для уровня службы балансировки нагрузки, общедоступную конечную точку с балансировкой нагрузки необходимо создать для виртуальных машин в кластере WebLogic Server. Если заданный частный порт отличается от общедоступного порта (например, 7006:7008), появится следующая ошибка:

       [java] javax.naming.CommunicationException [Root exception is java.net.ConnectException: t3://example.cloudapp.net:7006:

       Bootstrap to: example.cloudapp.net/138.91.142.178:7006' over: 't3' got an error or timed out]

   Это вызвано тем, что при любой установке удаленного доступа к каналу T3 WebLogic Server ожидает использования одинаковых портов балансировки нагрузки и портов управляемых серверов WebLogic. В предыдущем примере клиент обращается к порту 7006 (порт балансировки нагрузки), а управляемый сервер прослушивает порт 7008 (частный порт). Это ограничение применяется только для доступа к каналу T3, а не к HTTP.

   Чтобы избежать этой проблемы, используйте одно из следующих решений:

  * Используйте частные и общие порты с одинаковыми номерами для конечных точек с балансировкой нагрузки, выделенных для получения доступа к каналу T3.
  * Добавьте следующий параметр виртуальной машины Java при запуске WebLogic Server:

    ```
    -Dweblogic.rjvm.enableprotocolswitch=true
    ```

Связанные сведения доступны в статье базы знаний **860340.1** по адресу: <https://support.oracle.com>.

* **Ограничения для динамической кластеризации и балансировки нагрузки.** Предположим, что вы хотите использовать динамический кластер в WebLogic Server и сделать его доступным через единственную общедоступную конечную точку с балансировкой нагрузки в Azure. Это можно сделать, как использовать определенный номер порта для каждого из управляемых серверов (не должен динамически назначаться из диапазона) и не запускайте более управляемых серверов, превышает количество машин, которые отслеживает администратор. То есть не более одного управляемого сервера на каждую виртуальную машину). Если конфигурацию больше серверов WebLogic превышает количество виртуальных машин (то есть если несколько экземпляров WebLogic Server совместно используют ту же виртуальную машину), то он не более чем одна из этих экземпляров серверов WebLogic для привязки к заданному номеру порта. Другим пользователям, на этой виртуальной машине ошибкой.

   Если настроить сервер администратора таким образом, чтобы управляемым серверам автоматически назначались уникальные номера портов, то будет невозможна балансировка нагрузки, так как Azure не поддерживает сопоставление одного общедоступного порта с несколькими частными портами, которое потребовалось бы для этой конфигурации.
* **Несколько экземпляров WebLogic Server на виртуальной машине.** В зависимости от требований вашего развертывания может потребоваться запуск нескольких экземпляров WebLogic Server на той же виртуальной машине, если виртуальная машина будет достаточно большим. Например, на виртуальной машине среднего размера с двумя ядрами можно запустить два экземпляра WebLogic Server. Тем не менее по-прежнему рекомендуется избегать введение в архитектуру, которая может пригодиться, если вы использовали на одной виртуальной машине, на котором выполняется несколько экземпляров WebLogic Server единых точек отказа. По крайней мере две виртуальные машины может быть лучшим подходом, и каждая виртуальная машина может выполняться несколько экземпляров WebLogic Server. Каждый экземпляр WebLogic Server по-прежнему может быть частью одного кластера. Тем не менее это в настоящее время не можно использовать для балансировки нагрузки конечных точек, предоставляемых такими развертываниями WebLogic Server в той же виртуальной машине Azure, так как Подсистема балансировки нагрузки Azure требует серверов с балансировкой нагрузки для распространения среди уникальный виртуальные машины.

## <a name="oracle-jdk-virtual-machine-images"></a>Образы виртуальных машин JDK для Oracle
* **Последние обновления JDK 6 и 7.** Хотя мы советуем использовать последнюю общедоступную поддерживаемую версию Java (на данный момент это Java 8), в Azure также доступны образы JDK 6 и 7. Они предназначены для устаревших приложений, которые еще невозможно обновить до версии JDK 8. Хотя обновления для предыдущих образов JDK могут быть уже недоступными, благодаря сотрудничеству корпорации Майкрософт и компании Oracle образы JDK 6 и 7, предоставляемые Azure, будут содержать более свежее частное обновление, которое обычно предоставляется только избранной группе клиентов, поддерживаемых Oracle. Новые версии образов JDK, а также обновленные версии JDK 6 и 7 будут доступны со временем.

   Комплект JDK, доступный в JDK 6 и 7 образы и виртуальные машины и образы, полученные из них, может использоваться только в пределах Azure.
* **64-разрядный JDK.** Образы виртуальных машин Oracle WebLogic Server и Oracle JDK, предоставляемые Azure, содержат 64-разрядные версии Windows Server и JDK.

## <a name="next-steps"></a>Дальнейшие действия
Теперь у вас есть общие сведения о текущих решениях Oracle, на основе образов виртуальных машин в Microsoft Azure. Следующим шагом является развертывание первой базы данных Oracle в Azure.

> [!div class="nextstepaction"]
> [Создание базы данных Oracle в Azure](oracle-database-quick-create.md)
