---
title: Решения Oracle на виртуальных машинах Azure | Документация Майкрософт
description: Узнайте о поддерживаемых конфигурациях и ограничениях образов виртуальных машин Oracle на Microsoft Azure.
services: virtual-machines-linux
documentationcenter: ''
author: romitgirdhar
manager: gwallace
tags: azure-resource-management
ms.assetid: ''
ms.service: virtual-machines-windows
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 05/23/2019
ms.author: rogirdh
ms.custom: seodec18
ms.openlocfilehash: f13c7e6db2bf13c0547ee8689e22c9f04fe6d511
ms.sourcegitcommit: 3073581d81253558f89ef560ffdf71db7e0b592b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/06/2019
ms.locfileid: "68826756"
---
# <a name="oracle-vm-images-and-their-deployment-on-microsoft-azure"></a>Образы виртуальных машин Oracle и их развертывание на Microsoft Azure

В этой статье содержатся сведения о решениях Oracle, основанных на образах виртуальных машин, опубликованных Oracle в Azure Marketplace. Если вы заинтересованы в решениях по кросс-облачным приложениям с помощью облачной инфраструктуры Oracle, см. раздел [Oracle Application Solutions интеграция Microsoft Azure и Oracle Cloud Infrastructure](oracle-oci-overview.md).

Чтобы получить список доступных образов, выполните следующую команду:

```azurecli-interactive
az vm image list --publisher oracle -o table --all
```

Начиная с мая 2019 доступны следующие образы:

```bash
Offer                   Publisher    Sku                     Urn                                                          Version
----------------------  -----------  ----------------------  -----------------------------------------------------------  -------------
Oracle-Database-Ee      Oracle       12.1.0.2                Oracle:Oracle-Database-Ee:12.1.0.2:12.1.20170220             12.1.20170220
Oracle-Database-Ee      Oracle       12.2.0.1                Oracle:Oracle-Database-Ee:12.2.0.1:12.2.20180725             12.2.20180725
Oracle-Database-Ee      Oracle       18.3.0.0                Oracle:Oracle-Database-Ee:18.3.0.0:18.3.20181213             18.3.20181213
Oracle-Database-Se      Oracle       12.1.0.2                Oracle:Oracle-Database-Se:12.1.0.2:12.1.20170220             12.1.20170220
Oracle-Database-Se      Oracle       12.2.0.1                Oracle:Oracle-Database-Se:12.2.0.1:12.2.20180725             12.2.20180725
Oracle-Database-Se      Oracle       18.3.0.0                Oracle:Oracle-Database-Se:18.3.0.0:18.3.20181213             18.3.20181213
Oracle-Linux            Oracle       6.10                    Oracle:Oracle-Linux:6.10:6.10.20190506                       6.10.20190506
Oracle-Linux            Oracle       6.8                     Oracle:Oracle-Linux:6.8:6.8.20190506                         6.8.20190506
Oracle-Linux            Oracle       6.9                     Oracle:Oracle-Linux:6.9:6.9.20190506                         6.9.20190506
Oracle-Linux            Oracle       7.3                     Oracle:Oracle-Linux:7.3:7.3.20190506                         7.3.20190506
Oracle-Linux            Oracle       7.4                     Oracle:Oracle-Linux:7.4:7.4.20190506                         7.4.20190506
Oracle-Linux            Oracle       7.5                     Oracle:Oracle-Linux:7.5:7.5.20181207                         7.5.20181207
Oracle-Linux            Oracle       7.5                     Oracle:Oracle-Linux:7.5:7.5.20190506                         7.5.20190506
Oracle-Linux            Oracle       7.6                     Oracle:Oracle-Linux:7.6:7.6.20181207                         7.6.20181207
Oracle-Linux            Oracle       7.6                     Oracle:Oracle-Linux:7.6:7.6.20190506                         7.6.20190506
Oracle-WebLogic-Server  Oracle       Oracle-WebLogic-Server  Oracle:Oracle-WebLogic-Server:Oracle-WebLogic-Server:12.1.2  12.1.2
```

Это образы с использованием собственной лицензии, а значит вы будете оплачивать только использование ресурсов вычислений и хранения, а также сетевых ресурсов, связанных с работой виртуальной машины.  Вы должны иметь соответствующую лицензию на использование программного обеспечения Oracle, а также соглашение о текущей поддержке. Oracle гарантирует перемещение лицензий из локальной среды в Azure. Ознакомьтесь с опубликованным примечанием [Oracle и Майкрософт](https://www.oracle.com/technetwork/topics/cloud/faq-1963009.html) о перемещении лицензий. 

Пользователи могут также разрабатывать свои решения на основе пользовательского образа, созданных с нуля в Azure, или передать пользовательский образ из своей локальной среды.

## <a name="support-for-jd-edwards"></a>Поддержка JD Edwards
В соответствии с заметкой о поддержке Oracle [идентификатор документа 2178595,1](https://support.oracle.com/epmos/faces/DocumentDisplay?_afrLoop=573435677515785&id=2178595.1&_afrWindowMode=0&_adf.ctrl-state=o852dw7d_4), JD Edwards EnterpriseOne Versions 9,2 и более поздних версий поддерживается в любых `Minimum Technical Requirements` предложениях общедоступного **облака** , которые соответствуют их конкретным (MTR).  Необходимо создать пользовательские образы, соответствующие минимальным техническим требованиям к операционной системе и к совместимости с программными приложениями. 

## <a name="oracle-database-vm-images"></a>Образы виртуальной машины базы данных Oracle
Oracle поддерживает выполнение выпусков базы данных Oracle 12.1 Standard и Enterprise в Azure с использованием образов виртуальных машин на базе Oracle Linux.  Чтобы повысить производительность рабочих нагрузок базы данных Oracle в Azure, правильно выберите размер образа виртуальной машины и используйте решение "Управляемые диски" совместно с хранилищем класса Premium. Сведения о том, как быстро настроить и запустить базу данных Oracle в Azure с помощью опубликованного образа виртуальной машины Oracle, см. в статье [Создание базы данных Oracle 12c на виртуальной машине Azure](oracle-database-quick-create.md).

### <a name="attached-disk-configuration-options"></a>Варианты конфигурации подключенного диска

Подключенные диски используют службу хранилища больших двоичных объектов Azure. Теоретически каждый диск уровня "Стандартный" способен выполнять максимум около 500 операций ввода-вывода в секунду (IOPS). Наше предложение с дисками уровня "Премиум", которое предпочтительно использовать для высокопроизводительных рабочих нагрузок базы данных, может обеспечивать до 5000 операций ввода-вывода в секунду на диск. Вы можете использовать один диск, если он отвечает вашим требованиям к производительности. Однако можно повысить эффективность операций ввода-вывода в секунду, если использовать несколько подключенных дисков, распределить между ними данные базы данных, а затем использовать автоматическое управление хранилищем (ASM) Oracle. Дополнительные сведения об Oracle ASM см. в обзоре [Oracle Automatic Storage](https://www.oracle.com/technetwork/database/index-100339.html). Пример установки и настройки Oracle ASM на виртуальной машине Linux в Azure см. в руководстве по [установке и настройке автоматического управления хранилищем Oracle](configure-oracle-asm.md) .

### <a name="shared-storage-configuration-options"></a>Параметры конфигурации общего хранилища

Azure NetApp Files была разработана в соответствии с основными требованиями к запуску высокопроизводительных рабочих нагрузок, таких как базы данных в облаке, и предоставляет.
- Собственная общая служба хранилища NFS Azure для выполнения рабочих нагрузок Oracle с помощью машинного клиента NFS или Oracle Днфс
- Масштабируемые уровни производительности, отражающие реальные требования к объему операций ввода-вывода в секунду
- Низкая задержка
- Высокая доступность, высокая устойчивость и управляемость в масштабе, обычно требования к критически важным корпоративным рабочим нагрузкам (например, SAP и Oracle)
- Быстрое и эффективное резервное копирование и восстановление для достижения наиболее агрессивного соглашения об уровне обслуживания RTO и RPO

Это возможно, так как Azure NetApp Files основан на NetApp® ONTAP® все-Flash системы, работающие в среде центра обработки данных Azure — в качестве собственной службы Azure. Результатом является идеальная технология хранения базы данных, которую можно подготовить и использовать так же, как и другие варианты службы хранилища Azure. Дополнительные сведения о развертывании и доступе к томам Azure NetApp Files NFS см. в [Azure NetApp Files документации](https://docs.microsoft.com/azure/azure-netapp-files/) . Рекомендации по работе с базой данных Oracle на Azure NetApp Files см. [в статье рекомендации по развертыванию Oracle в Azure с помощью Azure NetApp Files](https://www.netapp.com/us/media/tr-4780.pdf) .


## <a name="oracle-real-application-cluster-oracle-rac"></a>Решение Oracle Real Application Clusters (RAC)
Решение RAC позволяет уменьшить влияние сбоя отдельных узлов в конфигурации кластера с несколькими локальными узлами. В нем используются две локальные технологии, которые не включены в такие крупномасштабные общедоступные облачные среды, как передача многоадресных пакетов в сети и общий диск. Если для решения вашей базы данных требуется Azure RAC, то для включения этих технологий требуется третье программное обеспечение. Дополнительные сведения о базе данных RAC Oracle см. на [странице FlashGrid скиклустер](https://www.flashgrid.io/oracle-rac-in-azure/).

## <a name="high-availability-and-disaster-recovery-considerations"></a>Рекомендации по высокой доступности и аварийному восстановлению
При использовании баз данных Oracle в Azure вы несете ответственность за реализацию решения высокого уровня доступности и аварийного восстановления, чтобы избежать простоев. 

Высокий уровень доступности и аварийное восстановление для Oracle Database Enterprise Edition (без использования Azure RAC) можно достичь в Azure с помощью [Data Guard, Active Data Guard](https://www.oracle.com/database/technologies/high-availability/dataguard.html)или [Oracle GoldenGate](https://www.oracle.com/technetwork/middleware/goldengate)с двумя базами данных в двух отдельных виртуальных виртуальных. Обе виртуальные машины должны находиться в одной [виртуальной сети](https://azure.microsoft.com/documentation/services/virtual-network/), чтобы они могли обращаться друг к другу через постоянный частный IP-адрес.  Кроме того, рекомендуется размещать виртуальные машины в одной группе доступности, так как это позволяет Azure помещать их в отдельные домены сбоя и домены обновления. Если вы хотите использовать геоизбыточность, настройте две базы данных для репликации между двумя разными регионами и подключите два экземпляра с помощью VPN-шлюза.

В учебнике [Реализация Oracle Data Guard в Azure](configure-oracle-dataguard.md) описана базовая процедура установки в Azure.  

При использовании Oracle Data Guard высокую доступность можно обеспечить, разместив базу данных источника в одной виртуальной машине и базу данных получателя (резервную) в другой виртуальной машине и настроив одностороннюю репликацию между ними. В результате можно получить доступ на чтение к копии базы данных. При использовании Oracle GoldenGate можно настроить двунаправленную репликацию между двумя базами данных. Дополнительные сведения о настройке высокой доступности для баз данных с помощью этих инструментов см. в документации по [Active Data Guard](https://www.oracle.com/technetwork/database/features/availability/data-guard-documentation-152848.html) и [GoldenGate](https://docs.oracle.com/goldengate/1212/gg-winux/index.html) на веб-сайте Oracle. Если вам требуется получить доступ на чтение и запись к копии базы данных, ознакомьтесь с документом [Oracle Active Data Guard](https://www.oracle.com/uk/products/database/options/active-data-guard/overview/index.html).

В руководстве по [реализации Oracle GoldenGate в Azure](configure-oracle-golden-gate.md) описана базовая процедура установки в Azure.

Помимо решения высокой доступности и аварийного восстановления, разработанного в Azure, у вас должна быть стратегия резервного копирования для восстановления базы данных. В руководстве по [резервному копированию и восстановлению Oracle Database](oracle-backup-recovery.md) описана основная процедура установки единообразного резервного копирования.

## <a name="oracle-weblogic-server-virtual-machine-images"></a>Образы виртуальных машин Oracle WebLogic Server

* **Кластеризация поддерживается только в выпуске Enterprise Edition.** Ваша лицензия дает право использовать кластеризацию WebLogic только при использовании выпуска WebLogic Server Enterprise Edition. Не используйте кластеризацию с выпуском WebLogic Server Standard Edition.
* **Не поддерживается многоадресная рассылка по UDP.** Azure поддерживает одноадресную рассылку по UDP, но не поддерживает ни многоадресную, ни широковещательную рассылку. WebLogic Server может использовать возможности одноадресной рассылки по UDP в Azure. Для получения наилучших результатов, использующих одноадресную передачу по протоколу UDP, рекомендуется хранить статический кластер или хранить его не более чем на 10 управляемых серверах.
* **WebLogic Server ожидает использования одинаковых общих и частных портов для доступа к каналу T3 (например, при использовании Enterprise JavaBeans).** Рассмотрим многоуровневый сценарий, в котором приложение уровня службы (EJB) выполняется в кластере сервера WebService, состоящем из двух или более виртуальных машин, в виртуальной сети с именем *SLWLS*. Клиентский уровень находится в другой подсети в той же виртуальной сети, запуская простую программу Java, пытающуюся вызвать EJB на уровне службы. Поскольку требуется балансировка нагрузки слоя служб, для виртуальных машин в кластере серверов WebService необходимо создать общедоступную конечную точку с балансировкой нагрузки. Если заданный частный порт отличается от общедоступного порта (например, 7006:7008), появится следующая ошибка:

       [java] javax.naming.CommunicationException [Root exception is java.net.ConnectException: t3://example.cloudapp.net:7006:

       Bootstrap to: example.cloudapp.net/138.91.142.178:7006' over: 't3' got an error or timed out]

   Это вызвано тем, что при любой установке удаленного доступа к каналу T3 WebLogic Server ожидает использования одинаковых портов балансировки нагрузки и портов управляемых серверов WebLogic. В предыдущем примере клиент обращается к порту 7006 (порт балансировки нагрузки), а управляемый сервер прослушивает порт 7008 (частный порт). Это ограничение применяется только для доступа к каналу T3, а не к HTTP.

   Чтобы избежать этой проблемы, используйте одно из следующих решений:

  * Используйте частные и общие порты с одинаковыми номерами для конечных точек с балансировкой нагрузки, выделенных для получения доступа к каналу T3.
  * Добавьте следующий параметр виртуальной машины Java при запуске WebLogic Server:

    ```
    -Dweblogic.rjvm.enableprotocolswitch=true
    ```

Связанные сведения доступны в статье базы знаний **860340.1** по адресу: <https://support.oracle.com>.

* **Ограничения для динамической кластеризации и балансировки нагрузки.** Предположим, что вы хотите использовать динамический кластер в WebLogic Server и сделать его доступным через единственную общедоступную конечную точку с балансировкой нагрузки в Azure. Это можно сделать, если вы используете фиксированный номер порта для каждого управляемого сервера (не назначенный динамически из диапазона) и не запускаете больше управляемых серверов, чем компьютеры, отслеживаемые администратором. То есть в каждой виртуальной машине не более одного управляемого сервера. Если в конфигурации будет запущено больше серверов веб-логики, чем на виртуальных машинах (то есть если несколько экземпляров сервера веб-логики совместно используют одну и ту же виртуальную машину), то невозможно будет использовать более одного из этих экземпляров серверов веб-логики. для привязки к заданному номеру порта. Остальные на этой виртуальной машине завершаются сбоем.

   Если настроить сервер администратора таким образом, чтобы управляемым серверам автоматически назначались уникальные номера портов, то будет невозможна балансировка нагрузки, так как Azure не поддерживает сопоставление одного общедоступного порта с несколькими частными портами, которое потребовалось бы для этой конфигурации.
* **Несколько экземпляров сервера Logic на виртуальной машине.** В зависимости от требований к развертыванию вы можете запустить несколько экземпляров сервера веб-логики на одной виртуальной машине, если виртуальная машина достаточно велика. Например, на виртуальной машине среднего размера с двумя ядрами можно запустить два экземпляра WebLogic Server. Однако мы по-прежнему рекомендуем не включать в архитектуру единую точку отказа. это может быть случай, если вы использовали только одну виртуальную машину, на которой выполняется несколько экземпляров сервера веб-логики. Использование по крайней мере двух виртуальных машин может быть лучшим подходом, и каждая виртуальная машина может запустить несколько экземпляров сервера. Каждый экземпляр сервера. Logic Server может по-прежнему входить в один и тот же кластер. Однако в настоящее время невозможно использовать Azure для балансировки нагрузки конечных точек, предоставляемых такими развертываниями серверов этой среды, в пределах той же виртуальной машины, так как для балансировщика нагрузки Azure требуется распределять серверы с балансировкой нагрузки между уникальными виртуальные машины.

## <a name="oracle-jdk-virtual-machine-images"></a>Образы виртуальных машин JDK для Oracle
* **Последние обновления JDK 6 и 7.** Хотя мы советуем использовать последнюю общедоступную поддерживаемую версию Java (на данный момент это Java 8), в Azure также доступны образы JDK 6 и 7. Они предназначены для устаревших приложений, которые еще невозможно обновить до версии JDK 8. Хотя обновления для предыдущих образов JDK могут быть уже недоступными, благодаря сотрудничеству корпорации Майкрософт и компании Oracle образы JDK 6 и 7, предоставляемые Azure, будут содержать более свежее частное обновление, которое обычно предоставляется только избранной группе клиентов, поддерживаемых Oracle. Новые версии образов JDK, а также обновленные версии JDK 6 и 7 будут доступны со временем.

   JDK, доступные в образах JDK 6 и 7, а также виртуальные машины и образы, полученные от них, можно использовать только в Azure.
* **64-разрядный JDK.** Образы виртуальных машин Oracle WebLogic Server и Oracle JDK, предоставляемые Azure, содержат 64-разрядные версии Windows Server и JDK.

## <a name="next-steps"></a>Следующие шаги
Теперь у вас есть обзор текущих решений Oracle на основе образов виртуальных машин в Microsoft Azure. Следующим шагом является развертывание первой базы данных Oracle в Azure.

> [!div class="nextstepaction"]
> [Создание базы данных Oracle в Azure](oracle-database-quick-create.md)
