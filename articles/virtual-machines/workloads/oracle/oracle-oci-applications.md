---
title: Архитектуры для развертывания приложений Oracle на виртуальных машинах Azure Документы Майкрософт
description: Архитектуры приложений для развертывания приложений Oracle, включая E-Business Suite, JD Edwards EnterpriseOne и PeopleSoft на виртуальных машинах Microsoft Azure с базами данных в Azure или в облачной инфраструктуре Oracle (OCI).
services: virtual-machines-linux
documentationcenter: ''
author: romitgirdhar
manager: gwallace
tags: ''
ms.service: virtual-machines
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 07/18/2019
ms.author: rogirdh
ms.custom: ''
ms.openlocfilehash: b183a4d4922c89f60ccb19b3e3e978216f33cc9a
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "70100090"
---
# <a name="architectures-to-deploy-oracle-applications-on-azure"></a>Архитектуры для развертывания приложений Oracle в Azure

Microsoft и Oracle работали вместе, чтобы позволить клиентам развертывать приложения Oracle, такие как Oracle E-Business Suite, JD Edwards EnterpriseOne и PeopleSoft в облаке. С введением [совместимой с сетью](configure-azure-oci-networking.md) предварительного просмотра между Microsoft Azure и облачной инфраструктурой Oracle (OCI) приложения Oracle теперь могут быть развернуты в Azure с их базами данных в Azure или OCI. Приложения Oracle также могут быть интегрированы с Active Directory Azure, что позволяет настроить одиночный входе, чтобы пользователи могли войти в приложение Oracle, используя свои учетные данные Azure Active Directory (Azure AD).

OCI предлагает несколько вариантов баз данных Oracle для приложений Oracle, включая DBaaS, облачную службу Exadata, Oracle RAC и Infrastructure-as-a-Service (IaaS). В настоящее время Автономная база данных не является поддерживаемым бэк-эндом для приложений Oracle.

Существует [несколько вариантов](oracle-overview.md) развертывания приложений Oracle в Azure, в том числе в очень доступной и безопасной форме. Azure также предлагает [VM-изображения базы данных Oracle,](oracle-vm-solutions.md) которые можно развернуть, если вы решите запустить приложения Oracle полностью на Azure.

В следующих разделах изложены рекомендации по архитектуре, содержащиеся как microsoft, так и Oracle для развертывания Oracle E-Business Suite, JD Edwards EnterpriseOne и PeopleSoft в кросс-облачной конфигурации или полностью в Azure. Microsoft и Oracle протестировали эти приложения и подтвердили, что производительность соответствует стандартам, установленным Oracle для этих приложений.

## <a name="architecture-considerations"></a>Архитектурные соображения

Приложения Oracle состоят из нескольких служб, которые могут размещаться на одних или нескольких виртуальных машинах в Azure и опционально в OCI. 

Экземпляры приложений могут быть настроены с помощью частных или публичных конечных точек. Microsoft и Oracle рекомендуют настроить *ведущий VM* с общедоступным IP-адресом в отдельной подсети для управления приложением. Затем присваивайте только частные IP-адреса другим машинам, включая уровень базы данных. 

При настройке приложения в кросс-облачной архитектуре требуется планирование для обеспечения того, чтобы пространство IP-адреса в виртуальной сети Azure не перекрывало пространство приватного IP-адреса в виртуальной облачной сети OCI.

Для дополнительной безопасности наламите группы сетевой безопасности на уровне подсети, чтобы гарантировать допуск только трафик на конкретных портах и IP-адресах. Например, машины среднего уровня должны получать трафик только из виртуальной сети. Никакое внешнее движение не должно достигать машин среднего уровня непосредственно.

Для высокой доступности можно настроить избыточные экземпляры разных серверов в одном и том же наборе доступности или в разных зонах доступности. Зоны доступности позволяют достичь 99,99% простоя SLA, в то время как наборы доступности позволяют достичь 99,95% простоя SLA в регионе. Примеры архитектур, показанные в этой статье, развертываются в двух зонах доступности.

При развертывании приложения с помощью кросс-облачного соединения можно продолжить использовать существующую схему ExpressRoute для подключения среды Azure к вашей предварительной сети. Тем не менее, вам нужна отдельная схема ExpressRoute для соединения с OCI, чем та, которая подключается к вашей сети.

## <a name="e-business-suite"></a>E-Бизнес Люкс

Oracle E-Business Suite (EBS) представляет собой набор приложений, включая управление цепочками поставок (SCM) и управление отношениями с клиентами (CRM). Чтобы воспользоваться преимуществами управляемого портфеля баз данных OCI, EBS можно развернуть с помощью кросс-облачного соединения между Microsoft Azure и OCI. В этой конфигурации уровни представления и приложения работают в Azure и уровень базы данных в OCI, как показано на следующей диаграмме архитектуры (рисунок 1).

![Архитектура кросс-облачной программы E-Business Suite](media/oracle-oci-applications/ebs-arch-cross-cloud.png)

*Рисунок 1: Архитектура кросс-облачной программы E-Business Suite* 

В этой архитектуре виртуальная сеть azure подключена к виртуальной облачной сети OCI с помощью кросс-облачного соединения. Уровень приложения настроен в Azure, в то время как база данных — в OCI. Рекомендуется развертывать каждый компонент в свою собственную подсеть с группами сетевой безопасности, чтобы разрешить трафик только из конкретных подсетей в конкретных портах.

Архитектура также может быть адаптирована для полного развертывания в Azure с высокодоступными базами данных Oracle, настроенными с использованием Oracle Data Guard в двух зонах доступности в регионе. Следующая диаграмма (рисунок 2) является примером этого архитектурного шаблона:

![Архитектура только для E-Business Suite Azure](media/oracle-oci-applications/ebs-arch-azure.png)

*Рисунок 2: Архитектура только для e-Business Suite Azure*

Следующие разделы описывают различные компоненты на высоком уровне.

[!INCLUDE [virtual-machines-oracle-applications-bastion](../../../../includes/virtual-machines-oracle-applications-bastion.md)]

### <a name="application-middle-tier"></a>Применение (средний) уровень

Уровень приложения изолирован в собственной подсети. Есть несколько виртуальных машин, настроенных для отказоустойчивости и простой управления исправлениями. Эти вм-чаты могут быть подкреплены общим хранилищем, которое предлагается файлами NetApp Azure и Ultra SSD. Эта конфигурация позволяет упростить развертывание патчей без простоя. Машины на уровне приложения должны быть фронтовые спомощьи общественным балансером нагрузки, так что запросы на уровень приложения EBS обрабатываются, даже если одна машина в ярусе находится в автономном режиме из-за неисправности.

### <a name="load-balancer"></a>Подсистема балансировки нагрузки

Балансизатор нагрузки Azure позволяет распределять трафик по нескольким экземплярам рабочей нагрузки, чтобы обеспечить высокую доступность. В этом случае настраивается общественный баланселизатор нагрузки, поскольку пользователям разрешен доступ к приложению EBS через Интернет. Балансирует нагрузка на обе машины среднего уровня. Для дополнительной безопасности разрешите трафик только от пользователей, обращающихся к системе из вашей корпоративной сети, используя VPN или ExpressRoute и группы сетевой безопасности.

### <a name="database-tier"></a>Уровень базы данных

Этот уровень размещает базу данных Oracle и разделен на собственную подсеть. Рекомендуется добавить группы сетевой безопасности, которые разрешают трафик только от уровня приложения к уровню базы данных в порте базы данных 1521, специфичный для Oracle.

Microsoft и Oracle рекомендуют высокую настройку доступности. Высокая доступность в Azure может быть достигнута путем создания двух баз данных Oracle в двух зонах доступности с Oracle Data Guard или с помощью облачного сервиса Oracle Database Exadata в OCI. При использовании облачного сервиса Oracle Database Exadata ваша база данных развертывается в двух подминах. Вы также можете настроить базу данных Oracle в виможно емвовых мысов ocI в двух доменах доступности с Oracle Data Guard.


### <a name="identity-tier"></a>Уровень идентификации

Уровень идентификации содержит EBS Asserter VM. EBS Asserter позволяет синхронизировать идентификаторы с облачной службой Oracle Identity (IDCS) и Azure AD. EbS Asserter необходим, потому что EBS не поддерживает единые протоколы, такие как SAML 2.0 или OpenID Connect. EbS Asserter потребляет токен подключения OpenID (генерируется IDCS), проверяет его, а затем создает сеанс для пользователя в EBS. 

В то время как эта архитектура показывает интеграцию IDCS, единый доступ Azure AD и одиночный вход также могут быть включены с помощью Oracle Access Manager с каталогом Oracle Internet Или Oracle Unified Directory. Для получения дополнительной информации смотрите информационные документы по [развертыванию Oracle EBS с интеграцией IDCS](https://cloud.oracle.com/iaas/whitepapers/deploy_ebusiness_suite_across_oci_azure_sso_idcs.pdf) или [развертыванием Oracle EBS с oAM Integration.](https://cloud.oracle.com/iaas/whitepapers/deploy_ebusiness_suite_across_oci_azure_sso_oam.pdf)

При высокой доступности рекомендуется развертывать избыточные серверы EBS Asserter в нескольких зонах доступности с балансом нагрузки перед ним.

После настройки инфраструктуры E-Business Suite может быть установлена, следуя руководству по установке, предоставленному Oracle.

## <a name="jd-edwards-enterpriseone"></a>JD Эдвардс EnterpriseOne

Oracle's JD Edwards EnterpriseOne — это интегрированный набор приложений комплексного программного обеспечения для планирования ресурсов предприятия. Это многоуровневое приложение, которое можно настроить либо с помощью бэкэнда Oracle, либо s-L Server. В этом разделе рассматриваются детали развертывания JD Edwards EnterpriseOne с помощью базы данных Oracle в OCI или в Azure.

В следующей рекомендуемой архитектуре (рисунок 3) администрирование, презентация и средние уровни развертываются в виртуальной сети Azure. База данных развернута в виртуальной облачной сети в OCI.

Как и в e-Business Suite, вы можете настроить дополнительный уровень бастиона для безопасных административных целей. Используйте хост бастиона VM в качестве сервера перехода для доступа к экземплярам приложения и базы данных.

![JD Эдвардс EnterpriseOne кросс-облако архитектуры](media/oracle-oci-applications/jdedwards-arch-cross-cloud.png)

*Рисунок 3: JD Edwards EnterpriseOne кросс-облако архитектуры*

В этой архитектуре виртуальная сеть azure подключена к виртуальной облачной сети OCI с помощью кросс-облачного соединения. Уровень приложения настроен в Azure, в то время как база данных — в OCI. Рекомендуется развертывать каждый компонент в свою собственную подсеть с группами сетевой безопасности, чтобы разрешить трафик только из конкретных подсетей в конкретных портах.

Архитектура также может быть адаптирована для полного развертывания в Azure с высокодоступными базами данных Oracle, настроенными с использованием Oracle Data Guard в двух зонах доступности в регионе. Следующая диаграмма (рисунок 4) является примером этого архитектурного шаблона:

![Архитектура JD Edwards EnterpriseOne Azure](media/oracle-oci-applications/jdedwards-arch-azure.png)

*Рисунок 4: Архитектура JD Edwards EnterpriseOne Azure*

Следующие разделы описывают различные компоненты на высоком уровне.

[!INCLUDE [virtual-machines-oracle-applications-bastion](../../../../includes/virtual-machines-oracle-applications-bastion.md)]

### <a name="administrative-tier"></a>Административный уровень

Как следует из названия, этот уровень используется для административных задач. Можно вырезать отдельную подсеть для административного уровня. Службы и серверы этого уровня в основном используются для установки и администрирования приложения. Следовательно, одного экземпляра этих серверов достаточно. Излишние экземпляры не требуются для высокой доступности приложения.

Компоненты этого уровня следующие:
    
 - **Предоставление сервера** - Этот сервер используется для сквозного развертывания различных компонентов приложения. Он общается с экземплярами на других уровнях, включая экземпляры уровня базы данных, через порт 22. Здесь находится консоль менеджера серверов для JD Edwards EnterpriseOne.
 - **Сервер развертывания** - Этот сервер в первую очередь требуется для установки JD Edwards EnterpriseOne. В процессе установки этот сервер выступает в качестве центрального репозитория для требуемых файлов и пакетов установки. Программное обеспечение распространяется или развертывается на других серверах и клиентах с этого сервера.
 - **Клиент разработки** - Этот сервер содержит компоненты, которые работают в веб-браузере, а также нативные приложения.

### <a name="presentation-tier"></a>Уровень представления

Этот уровень содержит различные компоненты, такие как службы интерфейса приложений (AIS), Рамки разработки приложений (ADF) и серверы Java-приложений (JAS). Серверы этого уровня общаются с серверами среднего уровня. Они находятся перед балансом нагрузки, который направляет трафик на необходимый сервер на основе номера порта и URL, на который получен трафик. Рекомендуется развертывать несколько экземпляров каждого типа сервера для высокой доступности.

Ниже приведены компоненты этого уровня:
    
- **Службы интерфейса приложений (AIS)** - Сервер AIS предоставляет коммуникационный интерфейс между мобильными корпоративными приложениями JD Edwards EnterpriseOne и JD Edwards EnterpriseOne.
- **Java Application Server (JAS)** - JAS получает запросы от балансиватора нагрузки и передает его на средний уровень для выполнения сложных задач. JAS имеет возможность выполнять простую бизнес-логику.
- **BI Publisher Server (BIP)** - Этот сервер представляет отчеты, основанные на данных, собранных приложением JD Edwards EnterpriseOne. Вы можете спроектировать и контролировать, как отчет представляет данные на основе различных шаблонов.
- **Business Services Server (BSS)** - BSS обеспечивает обмен информацией и совместимость с другими приложениями Oracle.
- **Сервер событий в реальном времени (RTE)** - RTE Server позволяет настроить уведомления для внешних систем о транзакциях, происходящих в системе JDE EnterpriseOne. Он использует модель абонента и позволяет сторонним системам подписаться на события. Для загрузки запросов баланса на оба сервера RTE убедитесь, что серверы находятся в кластере.
- **Система разработки приложений (ADF) Server** - Сервер ADF используется для запуска приложений JD Edwards EnterpriseOne, разработанных с помощью Oracle ADF. Это используется на сервере Oracle WebLogic с временем выполнения ADF.

### <a name="middle-tier"></a>Средний уровень

Средний уровень содержит логический сервер и пакетный сервер. В этом случае оба сервера устанавливаются на одну и ту же виртуальную машину. Однако для производственных сценариев рекомендуется развертывать логический сервер и пакетный сервер на отдельных серверах. Несколько серверов развернуты на среднем уровне в двух зонах доступности для более высокой доступности. Необходимо создать балансизатор нагрузки Azure, и эти серверы должны быть помещены в пул бэкэнда, чтобы гарантировать, что оба сервера активны и обрабатывают запросы.

Серверы среднего уровня получают запросы от серверов на уровне презентации и только с баланса общественной нагрузки. Правила группы сетевой безопасности должны быть настроены, чтобы отказать трафику с любого адреса, кроме подсети уровня презентации и балансоилира нагрузки. Правило NSG также может быть настроено, чтобы разрешить движение по порту 22 от хозяина бастиона для целей управления. Возможно, вы сможете использовать балансируев общественной нагрузки для загрузки запросов баланса между VMs среднего уровня.

Следующие два компонента находятся в среднем ярусе:

- **Логический сервер** - Содержите бизнес-логику или бизнес-функции.
- **Пакетный сервер** - Используется для обработки пакетов

[!INCLUDE [virtual-machines-oracle-applications-database](../../../../includes/virtual-machines-oracle-applications-database.md)]

[!INCLUDE [virtual-machines-oracle-applications-identity](../../../../includes/virtual-machines-oracle-applications-identity.md)]

## <a name="peoplesoft"></a>Peoplesoft

Пакет приложений Oracle PeopleSoft содержит программное обеспечение для управления людскими ресурсами и финансами. Набор приложений многоуровнев, а приложения включают системы управления людскими ресурсами (HRMS), управление отношениями с клиентами (CRM), финансы и управление цепочками поставок (FSCM) и управление производительностью предприятия (EPM).

Рекомендуется, чтобы каждый уровень пакета программного обеспечения был развернут в своей собственной подсети. База данных Oracle или сервер Microsoft S'L сервера требуется в качестве бэкэндбазы для приложения. В этом разделе рассматриваются детали развертывания PeopleSoft с бэкэндом базы данных Oracle.

Ниже приводится каноническая архитектура для развертывания набора приложений PeopleSoft в кросс-облачной архитектуре (рисунок 5).

![Межоблачная архитектура PeopleSoft](media/oracle-oci-applications/peoplesoft-arch-cross-cloud.png)

*Рисунок 5: Архитектура кросс-облачной технологии PeopleSoft*

В этой архитектуре образца виртуальная сеть в Azure подключена к виртуальной облачной сети OCI с помощью кросс-облачного соединения. Уровень приложения настроен в Azure, в то время как база данных — в OCI. Рекомендуется развертывать каждый компонент в свою собственную подсеть с группами сетевой безопасности, чтобы разрешить трафик только из конкретных подсетей в конкретных портах.

Архитектура также может быть адаптирована для полного развертывания в Azure с высокодоступными базами данных Oracle, настроенными с использованием Oracle Data Guard в двух зонах доступности в регионе. Следующая диаграмма (рисунок 6) является примером этого архитектурного шаблона:

![Архитектура только для PeopleSoft Azure](media/oracle-oci-applications/peoplesoft-arch-azure.png)

*Рисунок 6: Архитектура только для PeopleSoft Azure*

Следующие разделы описывают различные компоненты на высоком уровне.

[!INCLUDE [virtual-machines-oracle-applications-bastion](../../../../includes/virtual-machines-oracle-applications-bastion.md)]

### <a name="application-tier"></a>Уровень приложения

Уровень приложения содержит экземпляры серверов приложений PeopleSoft, веб-серверов PeopleSoft, упругого поиска и планировщика процессов PeopleSoft. Балансизатор нагрузки Azure настроен для приема запросов от пользователей, которые направляются на соответствующий сервер уровня приложения.

Для получения высокой доступности рассмотрите возможность создания избыточных экземпляров каждого сервера в уровне приложения в разных зонах доступности. Балансиватор нагрузки Azure может быть настроен с несколькими пулами бэк-энда, чтобы направить каждый запрос на нужный сервер.

### <a name="peopletools-client"></a>PeopleTools Клиент

Клиент PeopleTools используется для выполнения административных функций, таких как разработка, миграция и обновление. Поскольку клиент PeopleTools не требуется для достижения высокой доступности вашего приложения, избыточные серверы клиента PeopleTools не нужны.

[!INCLUDE [virtual-machines-oracle-applications-database](../../../../includes/virtual-machines-oracle-applications-database.md)]

[!INCLUDE [virtual-machines-oracle-applications-identity](../../../../includes/virtual-machines-oracle-applications-identity.md)]

## <a name="next-steps"></a>Дальнейшие действия

Используйте [скрипты Terraform](https://github.com/microsoft/azure-oracle) для настройки приложений Oracle в Azure и установления кросс-облачного подключения с OCI.

Для получения дополнительной информации и информационных документов об OCI можно ознакомиться с документацией [Oracle Cloud.](https://docs.cloud.oracle.com/iaas/Content/home.htm)
