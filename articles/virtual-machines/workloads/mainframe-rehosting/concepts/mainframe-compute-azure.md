---
title: Перемещение вычислительных мэйнфреймов на виртуальные машины Azure
description: Ресурсы сравнить преимущества с мэйнфреймов емкости вычислений Azure, чтобы можно было перенести и модернизация приложений z14 IBM.
author: njray
ms.author: larryme
ms.date: 04/02/2019
ms.topic: article
ms.service: multiple
ms.openlocfilehash: 335a056a34412a7ed148613bfff59ecb30053e09
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "65190316"
---
# <a name="move-mainframe-compute-to-azure"></a>Перемещение больших ЭВМ вычислений в Azure

Мэйнфреймы имеют неизменно высокого уровня надежности и доступности и по-прежнему быть доверенным основа на многих предприятиях. Они часто воспринимается практически неограниченная масштабируемость, а также вычислительную мощность. Тем не менее некоторые предприятия переросли возможность наибольшего доступных мэйнфреймов. Если вам это знакомо, Azure предлагает гибкость, охвата и инфраструктуры экономию средств.

Для запуска рабочих нагрузок мэйнфреймов на Microsoft Azure, необходимо знать, как главного компьютера и вычисляет сравнения возможностей в Azure. Исходя из мэйнфреймом IBM z14 (самые последние модель на момент написания этой статьи), в этой статье рассказывается, как получить сравнимые результаты в Azure.

Чтобы приступить к работе, рассмотрите возможность среды одновременно. Следующий рисунок сравнивает среде мэйнфрейма, для запуска приложений в среду размещения в Azure.

![Службы и эмуляции сред предложение сопоставимых поддержки Azure и ускоряет процесс миграции](media/mainframe-compute-azure.png)

Мощь мэйнфреймы часто используется для online систем обработки транзакций (OLTP, которые обрабатывают миллионы обновления для тысяч пользователей). Эти приложения часто используют программного обеспечения для обработки транзакций, обработка экрана и записи формы. Они могут использовать систему управления клиента сведения (CICS), сведения Management System (IMS) или пакет интерфейса транзакций (TIP).

Как показано на рисунке, симулятор доверенного платформенного МОДУЛЯ в Azure может обрабатывать рабочие нагрузки CICS и IMS. Симулятор системы пакетной службы в Azure выполняет роль из язык управления задания (JCL). Мэйнфреймов данных переносится в Azure баз данных, например базы данных SQL Azure. Службы Azure или другое программное обеспечение, размещенные в виртуальных машинах Azure можно использовать для управления системой.

## <a name="mainframe-compute-at-a-glance"></a>Вычислений мэйнфреймов с первого взгляда

В z14 мэйнфреймов, процессоры, расположены в одной-четырех *лотков*. Объект *панель* — просто кластер наборов микросхем и процессоров. Каждый контейнер может иметь шесть chips active центрального процессора (CP), и каждый CP имеет 10 chips контроллера (SC) системы. В терминологии Intel x86 существует шесть сокетов на одну панель, 10 ядрами на сокет и четыре контейнерами. Эта архитектура предоставляет примерно 24 сокеты и 240 ядра, максимальное значение, для z14.

Быстрый z14 CP тактовой 5.2 ГГц. Как правило z14 доставляется с помощью всех CPs в поле. Они все активируются при необходимости. Клиент обычно оплачивать по крайней мере четыре часа времени вычислений в месяц, несмотря на фактическое использование.

Процессор мэйнфреймов можно настроить как один из следующих типов:

- Общие цели (GP) процессора
- Программа z интегрированной сведения процессора (zIIP)
- Интегрированных средств для Linux (IFL) процессора
- Процессор системы Assist (SAP)
- Встроенная процессора взаимозависимость средство (ICF)

## <a name="scaling-mainframe-compute-up-and-out"></a>Масштабирование вычислений больших ЭВМ и вертикальное масштабирование

Мэйнфреймы IBM обеспечивают возможность масштабирования до 240 ядер (текущий z14 размер для одной системы). Кроме того можно масштабировать мэйнфреймов IBM через функцию, называемую помещению взаимозависимость (CF). CF можно одновременно получить доступ к те же данные нескольких систем мэйнфреймов. С помощью CF, процессоров мэйнфреймов параллельных Sysplex технологии групп мэйнфреймов в кластерах. Данное руководство написано, функция параллельной Sysplex поддерживать 32 группирований 64 процессорами. До 2048 процессоров могут быть сгруппированы таким образом, чтобы масштабировать вычислительную мощность.

CF позволяет вычислительных кластеров для совместного использования данных с прямой доступ. Он используется для блокировки сведений, сведения о кэше и в список ресурсов общих данных. Параллельные Sysplex, используя один или несколько CFs может рассматриваться как общих ресурсов"все» горизонтального масштабирования вычислительного кластера. Дополнительные сведения об этих функциях см. в разделе [параллельных Sysplex на IBM Z](https://www.ibm.com/it-infrastructure/z/technologies/parallel-sysplex-resources) IBM веб-сайта.

Приложения могут использовать эти функции для обеспечения производительности горизонтального масштабирования и высокого уровня доступности. Сведения о том, как CICS могут использовать параллельные Sysplex CF [IBM CICS и помещению взаимозависимость: Некоторые особенности](https://www.redbooks.ibm.com/redbooks/pdfs/sg248420.pdf) "Красная книга".

## <a name="azure-compute-at-a-glance"></a>Службы вычислений Azure с первого взгляда

По ошибке, некоторые люди считают, что серверы на основе Intel не настолько эффективны, как мэйнфреймов. Тем не менее новые системы core плотным, процессором Intel имеют гораздо вычислительных возможностей, присущих мэйнфреймов. В этом разделе описано, как Azure инфраструктура как служба (IaaS) для вычислений и хранения. Azure предоставляет платформа как служба (PaaS) также доступны возможности, но эта статья посвящена IaaS варианты, которые предоставляют сравнимые мэйнфреймов емкости.

Виртуальные машины Azure предоставляют вычислительными ресурсами в самых разных типов и размеров. В Azure виртуальных ЦП (ЦП) примерно соответствует core на мэйнфрейме.

В настоящее время диапазон из размеров виртуальных машин Azure предоставляет от 1 128 виртуальных ЦП. Типы виртуальных машин (VM) оптимизированы для конкретных рабочих нагрузок. Например ниже перечислены типы виртуальных Машин (текущей на момент написания этой статьи) и их рекомендуется использование:

| Размер     | Тип и описание                                                                 |
|----------|--------------------------------------------------------------------------------------|
| Серия D | Общего назначения с 64 виртуальных ЦП и до 3,5 ГГц тактовая частота                           |
| Серия E | Память, оптимизированных для операций с до 64 виртуальных ЦП                                                 |
| Серия F | Вычисления оптимизированного до 64 виртуальных ЦП и тактовой 3..7 ГГц                       |
| Серия H | Оптимизировано для приложений высокопроизводительных вычислений (HPC)                          |
| Серия L | Хранилище, оптимизированное для высокой пропускной способностью приложений, поддерживаемый баз данных, например NoSQL |
| Серия M | Наибольшее вычислительные ресурсы и память, оптимизированная для виртуальных машин с длиной до 128 виртуальных ЦП                        |

Дополнительные сведения о доступных виртуальных машин, см. в разделе [серию виртуальной машины](https://azure.microsoft.com/pricing/details/virtual-machines/series/).

Мэйнфрейме z14 может иметь до 240 ядер. Однако мэйнфреймы z14 практически никогда не использовать все ядра для одного приложения или рабочей нагрузки. Вместо этого мэйнфрейма отделяющее рабочих нагрузок на логические разделы (LPARs) и LPARs имеют оценки — MIPS (миллионов инструкций в секунду) или MSU (миллион единица службы). При определении сопоставимых размер виртуальной Машины, необходимые для запуска рабочую нагрузку мэйнфреймов в Azure, учитывайте MIPS (или MSU) оценка.

Ниже приведены общие оценки.

-   150 MIPS на виртуальный ЦП

-   1000 MIPS на процессор

Чтобы определить правильный размер виртуальной Машины для заданной рабочей нагрузки в LPAR, сначала необходимо Оптимизируйте виртуальной Машины для рабочей нагрузки. Затем определите число необходимых виртуальных ЦП. Консервативной оценки — 150 MIPS на виртуальный ЦП. На основе этой оценки, например, виртуальные Машины серии F с 16 виртуальных ЦП может легко поддерживать одна рабочая нагрузка IBM Db2, поступающие от LPAR с 2400 MIP-ОБЪЕКТЫ.

## <a name="azure-compute-scale-up"></a>Вертикального масштабирования вычислений Azure

Виртуальные машины серии M можно масштабировать до 128 виртуальных ЦП (на момент написания этой статьи). Использование консервативной оценки 150 MIP-ОБЪЕКТЫ, на виртуальный ЦП, виртуальные Машины серии М равносильно около 19000 MIP-ОБЪЕКТЫ. Общее правило для оценки MIP-ОБЪЕКТЫ для мэйнфрейма — 1000 MIPS на процессор. Мэйнфрейма z14 могут иметь до 24 процессоров и обеспечения около 24 000 MIPS единый головном компьютере.

Наибольшее мэйнфреймов единый z14 имеет примерно 5000 MIPS больше, чем максимальный размер виртуальных Машин, доступных в Azure. Еще очень важно для сравнения, как рабочие нагрузки развертываются. Если мэйнфрейме приложения и реляционной базы данных, они обычно развертываются на одной физической мэйнфреймов — каждое в собственный LPAR. Том же решении в Azure часто развертывается с помощью одной виртуальной Машины для приложения и отдельные, подходящим образом размера виртуальной Машины для базы данных.

Например, поддерживаемых системой виртуальных процессоров M64 приложение и M96 виртуальный процессор используется для базы данных, приблизительно 150 виртуальных ЦП, требуются ли — или около 24 000 MIPS, как показано на следующем рисунке.

![Сравнение развертывания рабочей нагрузки 24000 MIPS](media/mainframe-compute-mips.png)

Этот подход является миграция LPARs к отдельным виртуальным машинам. Затем Azure легко масштабируется до размера, необходимого для большинства приложений, развернутых на одном головном компьютере.

## <a name="azure-compute-scale-out"></a>Горизонтальное масштабирование вычислений Azure

Одно из преимуществ решения на основе Azure является возможность масштабирования. Практически неограниченные возможности масштабирования делает вычислительной мощности, доступным для приложения. Azure поддерживает несколько методов, чтобы масштабировать вычислительную мощность.

- **В кластере балансировки нагрузки.** В этом случае приложение может использовать [подсистемы балансировки нагрузки](/azure/load-balancer/load-balancer-overview) или resource manager для распределения рабочей нагрузки между различными виртуальными машинами в кластере. Если увеличение вычислительной мощности, что требуются ресурсы, дополнительные виртуальные машины будут добавлены в кластер.

- **Масштабируемые наборы виртуальных машин.** В этом сценарии пакетов приложения можно масштабировать до дополнительных [вычислительные ресурсы](/azure/virtual-machine-scale-sets/overview) зависимости от использования виртуальной Машины. Если потребности число виртуальных машин в масштабируемом наборе можно также перейти вниз, обеспечение эффективного использования вычислительной мощности.

- **Масштабирование PaaS.** Масштабирование предложений Azure PaaS вычислительных ресурсов. Например [Azure Service Fabric](/azure/service-fabric/service-fabric-overview) выделяет вычислительные ресурсы в соответствии с увеличение объема запросов.

- **Кластеры Kubernetes.** Приложения в Azure могут использовать [кластеров Kubernetes](/azure/aks/concepts-clusters-workloads) для службы вычислений для указанных ресурсов. Служба Azure Kubernetes (AKS) — это управляемая служба, которая оркестрирует узлы, пулы и кластеров в Azure Kubernetes.

Чтобы выбрать правильный метод для масштабирования вычислительных ресурсов, важно понять отличия между Azure и мейнфреймам. Ключом является как — или, если — данные распределяются по вычислительные ресурсы. В Azure данных (по умолчанию) не совместно обычно используется несколько виртуальных машин. Если общий доступ к данным требуется несколько виртуальных машин в масштабируемый вычислительный кластер, совместно используемые данные должны находиться в ресурс, который поддерживает данную функцию. В Azure совместный доступ к данным включает хранилища, как в следующем разделе описываются.

## <a name="azure-compute-optimization"></a>Оптимизация вычислений Azure

Вы можете оптимизировать каждый уровень обработки в архитектуре Azure. Используйте наиболее подходящий тип виртуальных машин и функций для каждой среды. На следующем рисунке показана одним из возможных шаблонов для развертывания виртуальных машин в Azure для поддержки CICS приложения, использующего Db2. На основном сайте виртуальные машины для производственной, подготовительной и тестовой версии приложения развертываются с высоким уровнем доступности. Дополнительный сайт используется для резервного копирования и аварийного восстановления.

Каждый уровень можно предоставлять соответствующие аварийного служб восстановления. Например, для виртуальных машин, используемых в рабочей среде, и виртуальных машин с базами данных, возможно, потребуется "горячее" или "теплое" восстановление. А виртуальные машины для разработки и тестирования поддерживают "холодное" восстановление.

![Высокодоступное развертывание, которое поддерживает аварийное восстановление](media/mainframe-compute-dr.png)

## <a name="next-steps"></a>Дальнейшие действия

- [Переход с мэйнфреймов](/azure/architecture/cloud-adoption/infrastructure/mainframe-migration/overview)
- [На виртуальных машинах Azure, повторного размещения мэйнфреймов](/azure/virtual-machines/workloads/mainframe-rehosting/overview)
- [Переместить хранилище мэйнфреймов в Azure](mainframe-storage-Azure.md)

### <a name="ibm-resources"></a>Ресурсы IBM

- [Параллельные Sysplex на IBM Z](https://www.ibm.com/it-infrastructure/z/technologies/parallel-sysplex-resources)
- [IBM CICS и средство увязки: Некоторые особенности](https://www.redbooks.ibm.com/redbooks/pdfs/sg248420.pdf)
- [Создание обязательных пользователей для установки Db2 pureScale Feature](https://www.ibm.com/support/knowledgecenter/en/SSEPGG_11.1.0/com.ibm.db2.luw.qb.server.doc/doc/t0055374.html?pos=2)
- [Db2icrt: команда для создания экземпляра](https://www.ibm.com/support/knowledgecenter/en/SSEPGG_11.1.0/com.ibm.db2.luw.admin.cmd.doc/doc/r0002057.html)
- [Db2 pureScale кластерные решения базы данных](https://www.ibmbigdatahub.com/blog/db2-purescale-clustered-database-solution-part-1)
- [IBM Data Studio](https://www.ibm.com/developerworks/downloads/im/data/index.html/)

### <a name="azure-government"></a>Azure Government

- [Облако Microsoft Azure для государственных организаций для больших ЭВМ](https://azure.microsoft.com/resources/microsoft-azure-government-cloud-for-mainframe-applications/)
- [Корпорация Майкрософт и FedRAMP](https://www.microsoft.com/TrustCenter/Compliance/FedRAMP)

### <a name="more-migration-resources"></a>Дополнительные материалы по переходу

- [Альянс по модернизации платформы: IBM Db2 на платформе Azure](https://www.platformmodernization.org/pages/ibmdb2azure.aspx)
- [Виртуальный центр обработки данных Azure: руководство по миграции методом lift-and-shift](https://azure.microsoft.com/resources/azure-virtual-datacenter-lift-and-shift-guide/)
- [iSCSI GlusterFS](https://docs.gluster.org/en/latest/Administrator%20Guide/GlusterFS%20iSCSI/)
