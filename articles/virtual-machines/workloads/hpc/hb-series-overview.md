---
title: Обзор виртуальных Машин серии HB - виртуальных машинах Azure | Документация Майкрософт
description: Дополнительные сведения о предварительной версии поддержка размер виртуальных Машин серии HB в Azure.
services: virtual-machines
documentationcenter: ''
author: vermagit
manager: jeconnoc
editor: ''
tags: azure-resource-manager
ms.service: virtual-machines
ms.workload: infrastructure-services
ms.topic: article
ms.date: 05/16/2019
ms.author: amverma
ms.openlocfilehash: bf143aa316a3d373a6303865cdc39ee0aaf27d87
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "66809922"
---
# <a name="hb-series-virtual-machines-overview"></a>Общие сведения о виртуальных машинах серии HB

Максимально увеличить производительность приложения высокопроизводительных вычислений (HPC) на AMD EPYC требуется размещение локальность и процесс памяти продуманным подходом. Ниже рассмотрены архитектура AMD EPYC и наша реализация его в Azure для приложений HPC. Мы будем использовать термин «pNUMA» для ссылки на физический домен NUMA и «vNUMA» для обращения к домену виртуальной архитектуры NUMA.

Физически, серии HB составляет 2 * 32 ядрами ЦП 7551 EPYC всего 64 физических ядер. Эти 64 ядра разделить 16 доменов pNUMA (8 на сокет), каждый из которых имеет четыре ядра и называется «Сложных ЦП» (или «CCX»). Каждый CCX имеет свой собственный кэш L3, который определяет, как ОС будет видеть pNUMA/vNUMA границы. Пары соседних CCXs общих папок доступ к двум каналам из физических DRAM (32 ГБ DRAM в серии HB серверов).

Чтобы указать место для низкоуровневая оболочка Azure работать, не конфликтуют с виртуальной Машиной, мы оставляем за собой физический pNUMA домена 0 (первый CCX). Мы присваиваем доменов pNUMA 1-15 (оставшиеся единицы CCX) для виртуальной Машины. Виртуальная машина будет см.:

`(15 vNUMA domains) * (4 cores/vNUMA) = 60` ядер на виртуальную Машину

Виртуальной Машине, не знаю, что не было предоставлено, pNUMA 0 к нему. Виртуальная машина понимает pNUMA 1 – 15 как vNUMA 0-14, с 7 vNUMA на vNUMA vSocket 0 и 8 на vSocket 1. Это ассиметричные, от операционной системы следует загружаться и работать в обычном режиме. Далее в этом руководстве мы укажем среде лучший способ для выполнения приложений MPI на этот асимметричный макет NUMA.

Закрепление процесс будет работать на виртуальных машинах серии HB, поскольку мы предоставляем базовой silicon как-— для гостевой виртуальной Машине. Мы настоятельно рекомендуем процесс закрепления для оптимальной производительности и согласованности.

См. Подробнее в [архитектуры AMD EPYC](https://bit.ly/2Epv3kC) и [микросхемы нескольких архитектур](https://bit.ly/2GpQIMb) в LinkedIn. Дополнительные сведения см. в разделе [HPC руководство по настройке для процессоров AMD EPYC](https://bit.ly/2T3AWZ9).

На следующей схеме показана разделения ядер зарезервированных для низкоуровневой оболочки Azure и виртуальные Машины серии HB.

![Разделение ядер, зарезервированных для низкоуровневой оболочки Azure и виртуальные Машины серии HB](./media/hb-series-overview/segregation-cores.png)

## <a name="hardware-specifications"></a>Характеристики оборудования

| Спецификации Оборудования                | Виртуальные Машины серии HB                     |
|----------------------------------|----------------------------------|
| Ядра                            | 60 (SMT отключена)                |
| ЦП                              | AMD EPYC 7551 *                   |
| Тактовая частота Процессора (не AVX)          | ~2.55 ГГц (одним + все ядра)   |
| Память                           | 4 ГБ/core (240 общее)            |
| Локальный диск                       | NVMe 700 ГБ                      |
| InfiniBand                       | 100 Gb EDR Mellanox ConnectX-5** |
| Сеть                          | 50 ГБ Ethernet (можно использовать 40 ГБ) Azure второго поколения SmartNIC *** |

## <a name="software-specifications"></a>Спецификации программного обеспечения

| Целевые спецификации           |Виртуальные Машины серии HB           |
|-----------------------------|-----------------------|
| Размер задания max MPI            | 12000 ядер 6000 ядра (100 наборов масштабирования виртуальных машин) (200 наборов масштабирования виртуальных машин)  |
| Поддержка MPI                 | MVAPICH2, OpenMPI, MPICH, платформы MPI, Intel MPI  |
| Дополнительные платформы       | Унифицированный X связи, libfabric PGAS |
| Поддержка хранилища Azure       | Стандартные операции + уровня "премиум" (max 4 диска) |
| Поддержка ОС для SRIOV RDMA   | CentOS/RHEL 7.6 +, SLES 12 с пакетом обновления 4, WinServer 2016 +  |
| Поддержка Azure CycleCloud    | Да                         |
| Поддержка пакетной службы Azure         | Да                         |

## <a name="next-steps"></a>Дальнейшие действия

* Дополнительные сведения о размерах виртуальной Машины HPC для [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/sizes-hpc) и [Windows](https://docs.microsoft.com/azure/virtual-machines/windows/sizes-hpc) в Azure.

* Дополнительные сведения о [HPC](https://docs.microsoft.com/azure/architecture/topics/high-performance-computing/) в Azure.
