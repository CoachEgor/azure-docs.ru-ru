---
title: Azure последовательной консоли для Linux | Документация Майкрософт
description: Двунаправленный последовательной консоли для виртуальных машин Azure и масштабируемые наборы виртуальных машин.
services: virtual-machines-linux
documentationcenter: ''
author: asinn826
manager: gwallace
editor: ''
tags: azure-resource-manager
ms.service: virtual-machines-linux
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 5/1/2019
ms.author: alsin
ms.openlocfilehash: f3fa646fcca99d5762f480b3fd12c5e249eabaf8
ms.sourcegitcommit: c105ccb7cfae6ee87f50f099a1c035623a2e239b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/09/2019
ms.locfileid: "67710578"
---
# <a name="azure-serial-console-for-linux"></a>Azure последовательной консоли для Linux

Последовательной консоли на портале Azure предоставляет доступ к текстовой консоли для Linux виртуальных машин (ВМ) и экземпляров масштабируемых наборов виртуальных машин. Это подключение через последовательный порт подключается к последовательному порту ttys0 виртуальной Машине или экземпляру набора масштабирования виртуальных машин, предоставляя доступ к нему, независимо от состояния сети или операционной системы. Последовательной консоли может осуществляться только с помощью портала Azure и допустима только для пользователей, имеющих роли доступа участника или более поздней версии для масштабируемого набора виртуальной Машины или виртуальной машины.

Последовательная консоль работает таким же образом, для виртуальных машин и экземпляров масштабируемых наборов виртуальных машин. В этом документе все упоминания к виртуальным машинам неявно будет включать экземпляров масштабируемых наборов виртуальных машин, если не указано иное.

Документация по последовательной консоли для Windows, см. в разделе [последовательной консоли для Windows](../windows/serial-console.md).

> [!NOTE]
> В глобальных регионах Azure общедоступна последовательной консоли. Последовательная консоль еще недоступна в облаке Azure для государственных организаций или облаке Azure для Китая.


## <a name="prerequisites"></a>предварительные требования

- Экземпляру виртуальной Машины или виртуальной машины масштабируемого набора необходимо использовать модели развертывания resource Manager. Классические развертывания не поддерживаются.

- Учетная запись, которая использует последовательную консоль должна иметь [роли участника виртуальной машины](../../role-based-access-control/built-in-roles.md#virtual-machine-contributor) для виртуальной Машины и [диагностику загрузки](boot-diagnostics.md) учетной записи хранения

- Экземпляру виртуальной Машины или виртуальной машины масштабируемого набора необходимо у пользователя с использованием пароля. Вы можете создать ее с функцией [сброса пароля](https://docs.microsoft.com/azure/virtual-machines/extensions/vmaccess#reset-password) расширения для доступа к виртуальной машине. В разделе **Поддержка и устранение неполадок** выберите **Сбросить пароль**.

- Должен иметь экземпляру виртуальной Машины или виртуальной машины масштабируемого набора [диагностику загрузки](boot-diagnostics.md) включена.

    ![Параметры диагностики загрузки](./media/virtual-machines-serial-console/virtual-machine-serial-console-diagnostics-settings.png)

- Сведения о параметрах, относящихся к дистрибутивам Linux, см. в разделе [Доступность дистрибутива Linux для последовательной консоли](#serial-console-linux-distribution-availability).

- Экземпляру виртуальной Машины или виртуальной машины масштабируемого набора необходимо настроить для последовательные выходные данные в `ttys0`. Это значение по умолчанию для образов Azure, но требуется внимательно проверьте это на пользовательских образов. Сведения о [ниже](#custom-linux-images).


## <a name="get-started-with-the-serial-console"></a>Начало работы с последовательной консоли
Последовательной консоли для виртуальных машин и масштабируемого набора виртуальных машин доступен только через портал Azure:

### <a name="serial-console-for-virtual-machines"></a>Последовательной консоли для виртуальных машин
Последовательной консоли для виртуальных машин так же просто, как если щелкнуть **последовательной консоли** в **поддержка и устранение неполадок** на портале Azure.
  1. Откройте [портал Azure](https://portal.azure.com).

  1. Перейдите к **все ресурсы** и выберите виртуальную машину. Откроется страница обзора для виртуальной машины.

  1. Прокрутите вниз до раздела **Поддержка и устранение неполадок** и выберите **Последовательная консоль**. Откроется новая область с последовательной консолью, и запустится подключение.

     ![Окно последовательной консоли Linux](./media/virtual-machines-serial-console/virtual-machine-linux-serial-console-connect.gif)

### <a name="serial-console-for-virtual-machine-scale-sets"></a>Последовательной консоли для масштабируемых наборов виртуальных машин
Последовательной консоли можно найти в каждого отдельного экземпляра для масштабируемых наборов виртуальных машин. Необходимо будет перейти к отдельного экземпляра масштабируемого набора виртуальных машин, прежде чем увидел **последовательной консоли** кнопки. Если ваш масштабируемый набор виртуальных машин не содержит включена Диагностика загрузки, убедитесь, что обновления модели масштабируемого набора виртуальной машины для диагностики загрузки, а затем обновите все экземпляры на новую модель, чтобы получить доступ к последовательной консоли.
  1. Откройте [портал Azure](https://portal.azure.com).

  1. Перейдите к **все ресурсы** и выберите масштабируемый набор виртуальных машин. Страница обзора масштабирования виртуальных машин задайте откроется.

  1. Перейдите к **экземпляров**

  1. Выберите экземпляр виртуальной машины масштабируемого набора

  1. Из **поддержка и устранение неполадок** выберите **последовательной консоли**. Откроется новая область с последовательной консолью, и запустится подключение.

     ![Linux масштабируемого набора виртуальных машин последовательной консоли](./media/virtual-machines-serial-console/vmss-start-console.gif)


> [!NOTE]
> Для последовательной консоли требуется локальный пользователь с настроенным паролем. Виртуальные машины или масштабируемые наборы виртуальных машин настроены только открытый ключ SSH не сможете войти в последовательную консоль. Чтобы создать локального пользователя с паролем, используйте [расширение доступа к виртуальной машине](https://docs.microsoft.com/azure/virtual-machines/linux/using-vmaccess-extension), доступное на портале Azure при выборе **Сброс пароля**.
> Кроме того, вы можете сбросить пароль администратора в своей учетной записи, [используя GRUB, чтобы загрузить однопользовательский режим](./serial-console-grub-single-user-mode.md).

## <a name="serial-console-linux-distribution-availability"></a>Доступность распространения последовательной консоли Linux
Для правильной работы последовательной консоли гостевая операционная система должна быть настроена для чтения и записи сообщений консоли в последовательный порт. В большинстве [рекомендуемых дистрибутивов Linux Azure](https://docs.microsoft.com/azure/virtual-machines/linux/endorsed-distros) последовательная консоль настроена по умолчанию. Чтобы получить доступ к последовательной консоли, в разделе **Поддержка и устранение неполадок** выберите **Последовательная консоль**.

> [!NOTE]
> Если в последовательной консоли ничего не отображается, убедитесь, что на виртуальной машине включена диагностика загрузки. Достижение **ввод** часто устранит проблемы где ничего не отображается в последовательной консоли.

Дистрибутив      | Доступ к последовательной консоли
:-----------|:---------------------
Red Hat Enterprise Linux    | Доступ к последовательной консоли включен по умолчанию.
CentOS      | Доступ к последовательной консоли включен по умолчанию.
Ubuntu      | Доступ к последовательной консоли включен по умолчанию.
CoreOS      | Доступ к последовательной консоли включен по умолчанию.
SUSE        | В новых образах SLES, доступных в Azure, доступ к последовательной консоли включен по умолчанию. Чтобы включить последовательную консоль при использовании более старых версий (10 или более ранних) SLES в Azure, ознакомьтесь со [статьей базы знаний](https://www.novell.com/support/kb/doc.php?id=3456486).
Oracle Linux        | Доступ к последовательной консоли включен по умолчанию.

### <a name="custom-linux-images"></a>Пользовательские образы Linux
Чтобы включить последовательную консоль для настраиваемого образа виртуальной машины Linux, включите доступ к консоли в файле */etc/inittab* для запуска терминала на `ttyS0`. Например, `S0:12345:respawn:/sbin/agetty -L 115200 console vt102`.

Необходимо также добавить ttys0 в качестве назначения для последовательные выходные данные. Дополнительные сведения о настройке пользовательского образа для работы с последовательной консоли см. в разделе Общие требования к системе в [Создание и отправка виртуального жесткого диска Linux в Azure](https://aka.ms/createuploadvhd#general-linux-system-requirements).

Если вы создаете настраиваемое ядро, советуем включить флаги `CONFIG_SERIAL_8250=y` и `CONFIG_MAGIC_SYSRQ_SERIAL=y`. Файл конфигурации обычно находится в пути */boot/* . |

## <a name="common-scenarios-for-accessing-the-serial-console"></a>Стандартные сценарии доступа к последовательной консоли

Сценарий          | Действия в последовательной консоли
:------------------|:-----------------------------------------
Недопустимый *FSTAB*-файл | Нажмите клавишу **ВВОД**, чтобы продолжить, и исправьте *FSTAB*-файл с помощью текстового редактора. Для этого вам может потребоваться перейти в однопользовательский режим. Дополнительные сведения см. в разделе последовательной консоли [как устранить проблемы fstab](https://support.microsoft.com/help/3206699/azure-linux-vm-cannot-start-because-of-fstab-errors) и [использования последовательной консоли для доступа к GRUB и режиме single user](serial-console-grub-single-user-mode.md).
Неверные правила брандмауэра |  Если вы настроили iptables, чтобы блокировать SSH-подключения, можно использовать последовательную консоль для взаимодействия с виртуальной Машиной без необходимости SSH. Дополнительные сведения можно найти на [iptables справочная страница](https://linux.die.net/man/8/iptables).<br>Аналогичным образом Если ваш firewalld блокирует доступ по протоколу SSH, можно получить доступ к виртуальной Машине через последовательную консоль и перенастройте firewalld. Дополнительные сведения можно найти в [firewalld документации](https://firewalld.org/documentation/).
Проверка файловой системы на случай повреждения | См. в разделе последовательной консоли [виртуальной Машины Linux Azure не удается запустить из-за ошибок файловой системы](https://support.microsoft.com/en-us/help/3213321/linux-recovery-cannot-ssh-to-linux-vm-due-to-file-system-errors-fsck) для получения дополнительных сведений об устранении неполадок поврежден файловые системы, с помощью последовательной консоли.
Проблемы конфигурации SSH | Откройте последовательную консоль и измените параметры. Последовательной консоли может использоваться независимо от конфигурации SSH виртуальной машины, так как он не требует виртуальную Машину, чтобы иметь сетевое подключение для работы. Руководство по устранению неполадок можно найти в [Устранение неполадок с SSH-подключением к виртуальной Машине Linux Azure, сбой, ошибка или отклонение](https://docs.microsoft.com/azure/virtual-machines/troubleshooting/troubleshoot-ssh-connection). Дополнительные сведения можно найти в [подробные SSH действия для проблем с подключением к виртуальной Машине Linux в Azure по устранению неполадок](./detailed-troubleshoot-ssh-connection.md)
Взаимодействие с загрузчиком | Перезапустите виртуальную машину из колонки последовательной консоли для доступа к GRUB на виртуальной машине Linux. Дополнительные сведения и сведения об особенностях дистрибутива, см. в разделе [использования последовательной консоли для доступа к GRUB и режиме single user](serial-console-grub-single-user-mode.md).

## <a name="disable-the-serial-console"></a>Отключить последовательной консоли
По умолчанию все подписки имеют доступ к последовательной консоли включен. Вы можете отключить последовательной консоли на уровне подписки или на виртуальную Машину или виртуальное машины масштабируемого набора уровень. Обратите внимание на то, что на виртуальной Машине в порядке для последовательной консоли для работы должна быть включена Диагностика загрузки.

### <a name="vmvirtual-machine-scale-set-level-disable"></a>Отключение уровня набора масштабирования виртуальной Машины или виртуальной машины
Последовательной консоли можно отключить для определенной виртуальной Машины или виртуальной машины набора масштабирования, отключив параметр диагностики загрузки. Отключите функцию диагностики загрузки на портале Azure, чтобы отключить последовательной консоли для виртуальной Машины или масштабируемого набора виртуальных машин. Если вы используете последовательную консоль на масштабируемый набор виртуальных машин, убедитесь, что обновление экземплярам масштабируемого набора виртуальных машин до последней модели.

> [!NOTE]
> Чтобы включить или отключить последовательную консоль для подписки, у вас должно быть разрешение на запись в этой подписке. Эти разрешения есть у ролей администратора или владельца. У пользовательских ролей также может быть разрешение на запись.

### <a name="subscription-level-disable"></a>Отключение на уровне подписки
Последовательную консоль можно отключить для всей подписки с помощью [вызова REST API отключения консоли](/rest/api/serialconsole/console/disableconsole). Это действие требует доступа на уровне участника или более поздней версии для подписки. Вы можете нажать кнопку **Попробовать**, доступную на странице документации по API, чтобы отключить и включить последовательную консоль для подписки. В поле **subscriptionId** введите идентификатор подписки, в поле **default** — **default**, а затем нажмите кнопку **Запуск**. Команды для Azure CLI пока недоступны.

Чтобы включить последовательную консоль для подписки, используйте [вызова включить REST API консоли](/rest/api/serialconsole/console/enableconsole).

![Попробуйте в REST API](./media/virtual-machines-serial-console/virtual-machine-serial-console-rest-api-try-it.png)

Кроме того, можно использовать набор команд bash в Cloud Shell, чтобы отключить, включить и просмотреть отключенное состояние последовательной консоли для подписки:

* Чтобы получить отключенное состояние последовательной консоли для подписки:
    ```azurecli-interactive
    $ export ACCESSTOKEN=($(az account get-access-token --output=json | jq .accessToken | tr -d '"'))

    $ export SUBSCRIPTION_ID=$(az account show --output=json | jq .id -r)

    $ curl "https://management.azure.com/subscriptions/$SUBSCRIPTION_ID/providers/Microsoft.SerialConsole/consoleServices/default?api-version=2018-05-01" -H "Authorization: Bearer $ACCESSTOKEN" -H "Content-Type: application/json" -H "Accept: application/json" -s | jq .properties
    ```
* Чтобы отключить последовательную консоль для подписки:
    ```azurecli-interactive
    $ export ACCESSTOKEN=($(az account get-access-token --output=json | jq .accessToken | tr -d '"'))

    $ export SUBSCRIPTION_ID=$(az account show --output=json | jq .id -r)

    $ curl -X POST "https://management.azure.com/subscriptions/$SUBSCRIPTION_ID/providers/Microsoft.SerialConsole/consoleServices/default/disableConsole?api-version=2018-05-01" -H "Authorization: Bearer $ACCESSTOKEN" -H "Content-Type: application/json" -H "Accept: application/json" -s -H "Content-Length: 0"
    ```
* Чтобы включить последовательную консоль для подписки:
    ```azurecli-interactive
    $ export ACCESSTOKEN=($(az account get-access-token --output=json | jq .accessToken | tr -d '"'))

    $ export SUBSCRIPTION_ID=$(az account show --output=json | jq .id -r)

    $ curl -X POST "https://management.azure.com/subscriptions/$SUBSCRIPTION_ID/providers/Microsoft.SerialConsole/consoleServices/default/enableConsole?api-version=2018-05-01" -H "Authorization: Bearer $ACCESSTOKEN" -H "Content-Type: application/json" -H "Accept: application/json" -s -H "Content-Length: 0"
    ```

## <a name="serial-console-security"></a>Безопасность последовательной консоли

### <a name="access-security"></a>Безопасность доступа
Доступ к последовательной консоли ограничен пользователями, которые имеют [роли с доступом участника виртуальной машины](../../role-based-access-control/built-in-roles.md#virtual-machine-contributor) или выше. Если клиент Azure Active Directory требует многофакторной проверки подлинности (MFA), то для доступа к последовательной консоли также понадобится MFA, так как доступ к последовательной консоли предоставляется через [портал Azure](https://portal.azure.com).

### <a name="channel-security"></a>Безопасность канала
Все данные, исходящие и поступающие, при пересылке по сети зашифрованы.

### <a name="audit-logs"></a>Журналы аудита
Все сведения о доступе к последовательной консоли записываются в журналы [диагностики загрузки](https://docs.microsoft.com/azure/virtual-machines/linux/boot-diagnostics) на виртуальной машине. Права доступа к этим журналам и на работу с ними принадлежат администратору виртуальной машины Azure.

> [!CAUTION]
> Пароли доступа для консоли не записываются. Тем не менее если команды, выполняемые в консоли, содержат или выводят пароли, секреты, имена пользователей или другие персональные данные в любой форме, они будут записываться в журналы диагностики загрузки виртуальной машины. Персональные данные будут записываться вместе с другим видимым текстом как часть реализации функции обратной прокрутки последовательной консоли. Эти журналы являются циклическими. Только пользователи с разрешениями на чтение в учетной записи хранения диагностики имеют к ним доступ. Но мы советуем следовать рекомендациям по использованию удаленного рабочего стола для всего, что может содержать секретные или персональные данные.

### <a name="concurrent-usage"></a>Одновременное использование
Когда один пользователь подключен к последовательной консоли, а другой успешно запрашивает доступ к этой же виртуальной машине, первый пользователь будет отключен, а второй — подключен к тому же сеансу.

> [!CAUTION]
> Это означает, что отключенный пользователь не выполнит выход. Возможность принудительного выхода из системы после отключения (с помощью SIGHUP или похожего механизма) по-прежнему уже запланирована. Для Windows включено автоматическое истечение времени ожидания в специальной административной консоли, а для Linux можно настроить параметр времени ожидания терминала. Чтобы сделать это, добавьте `export TMOUT=600` в файл *.bash_profile* или *.profile* для пользователя, которого вы используете для входа в консоль. При использовании этого параметра время действия сеанса истечет через 10 минут.

## <a name="accessibility"></a>Специальные возможности
Специальные возможности это важная для последовательной консоли Azure. Для этого мы убедились, что последовательная консоль полностью доступна.

### <a name="keyboard-navigation"></a>Навигация с помощью клавиатуры
Используйте клавишу **TAB** на клавиатуре для навигации по интерфейсу последовательной консоли на портале Azure. Ваше местоположение будет выделено на экране. Чтобы оставить фокус в окне последовательной консоли, нажмите клавиши **CTRL**+**F6** на клавиатуре.

### <a name="use-serial-console-with-a-screen-reader"></a>Использовать последовательную консоль с помощью средства чтения с экрана
Последовательная консоль имеет встроенную поддержку чтения экрана. Навигация с помощью включенного средства чтения экрана дает возможность чтения текста вслух с помощью выбранной кнопки.

## <a name="errors"></a>Errors
Так как большинство ошибок временны, повторная попытка подключения часто их устраняет. В следующей таблице приведен список ошибок и способы устранения неисправностей. Эти ошибки и способы их устранения применяются для обеих виртуальных машин и экземпляров масштабируемых наборов виртуальных машин.

Error                            |   Устранение
:---------------------------------|:--------------------------------------------|
Не удалось получить параметры диагностики загрузки для *&lt;Имя VM&gt;* . Чтобы использовать последовательную консоль, включите диагностику загрузки для этой виртуальной машины. | Включите [диагностику загрузки](boot-diagnostics.md) для виртуальной машины.
Виртуальная машина находится в состоянии "Остановлено (освобождено)". Запустите виртуальную машину и повторите попытку подключения к последовательной консоли. | Для доступа к последовательной консоли виртуальная машина должна быть в состоянии "Запущено".
У вас нет нужных разрешений для использования последовательной консоли этой виртуальной машины. Убедитесь в наличии по крайней мере разрешений роли участника виртуальной машины.| Для доступа к последовательной консоли требуются определенные разрешения. Дополнительные сведения см. в разделе [Предварительные требования](#prerequisites).
Не удалось определить группу ресурсов для учетной записи хранения диагностики загрузки *&lt;имя учетной записи&gt;* . Убедитесь, что для этой виртуальной машины включена диагностика загрузки и у вас есть доступ к этой учетной записи хранения. | Для доступа к последовательной консоли требуются определенные разрешения. Дополнительные сведения см. в разделе [Предварительные требования](#prerequisites).
Веб-сокет закрыт или его не удалось открыть. | Может потребоваться добавить `*.console.azure.com` в список разрешений. Более подробный, но более длинный подход заключается в добавлении в список разрешений [диапазонов IP-адресов центра обработки данных Microsoft Azure](https://www.microsoft.com/download/details.aspx?id=41653), которые изменяются довольно часто.
При доступе к учетной записи хранения для диагностики загрузки виртуальной машины обнаружен ответ "Запрещено". | Убедитесь, что в системе диагностики загрузки нет брандмауэра учетной записи. Для функционирования последовательной консоли требуется доступная учетная запись хранения для диагностики загрузки.

## <a name="known-issues"></a>Известные проблемы
Нам известно о некоторых проблемах с последовательной консолью. Ниже приведен список этих проблем и действия по их устранению. Эти проблемы и устранения рисков применяются для обеих виртуальных машин и экземпляров масштабируемых наборов виртуальных машин.

Проблемы                           |   Устранение
:---------------------------------|:--------------------------------------------|
Нажатие клавиши **ВВОД** после заголовка соединения не вызывает появления запроса на вход в систему. | Дополнительные сведения см. в статье [Нажатие клавиши ВВОД не приводит ни к каким результатам](https://github.com/Microsoft/azserialconsole/blob/master/Known_Issues/Hitting_enter_does_nothing.md). Эта проблема может возникать, если вы используете пользовательскую виртуальную Машину, усиленной защитой устройства или конфигурации GRUB, приводит к Linux, чтобы не удалось подключиться к последовательному порту.
Текст последовательной консоли только занимает часть размера экрана (часто после использования текстового редактора). | Последовательные консоли не поддерживают согласование с размером окна ([RFC 1073](https://www.ietf.org/rfc/rfc1073.txt)). Это означает, что сигнал обновления размера экрана SIGWINCH не отправляется и виртуальная машина не может определить размер окна терминала. Установите xterm или другую подобную служебную программу, содержащую команду `resize`, а затем выполните команду `resize`.
Вставка длинных строк не работает. | Последовательная консоль ограничивает длину строк, которые можно вставить в окно терминала, до 2048 знаков, чтобы избежать перегрузки пропускной способности серийного порта.
Последовательная консоль не работает с брандмауэром учетной записи хранения. | Последовательная консоль не может работать с учетными записями хранения с включенным брандмауэром и диагностикой загрузки.
Последовательная консоль не работает с учетной записью хранения, с помощью Gen2 хранилища Озера данных Azure с помощью иерархических пространств имен. | Это известная проблема с иерархических пространств имен. Чтобы устранить проблему, убедитесь, что учетная запись хранения диагностики загрузки виртуальной Машины не создается при помощи Gen2 хранилища Озера данных Azure. Этот параметр может устанавливаться только после создания учетной записи хранения. Может потребоваться создать учетную запись хранения диагностики отдельного загрузочного без Azure Data Lake хранилища 2-го поколения включена, чтобы устранить эту проблему.
Изменчивая клавиатуры, в образы SLES BYOS. Ввод с клавиатуры распознается только нерегулярно. | Это проблема с пакетом Plymouth. Plymouth не следует запускать в Azure, так как не требуется, чтобы экран-заставку и Plymouth мешает платформы возможность использования последовательной консоли. Удалить Plymouth с `sudo zypper remove plymouth` и затем перезагрузите компьютер. Кроме того, измените строку ядра в конфигурации GRUB, добавив `plymouth.enable=0` до конца строки. Это можно сделать [редактирования загрузочной записи во время загрузки](https://aka.ms/serialconsolegrub#single-user-mode-in-suse-sles), или изменив строку GRUB_CMDLINE_LINUX в `/etc/default/grub`, перестройки GRUB с `grub2-mkconfig -o /boot/grub2/grub.cfg`, а затем перезагрузите компьютер.


## <a name="frequently-asked-questions"></a>Часто задаваемые вопросы

**В. Как отправить отзыв?**

A. Оставьте отзыв, разместив запись на GitHub по адресу https://aka.ms/serialconsolefeedback. Вы также можете (менее предпочтительно) отправить отзыв по адресу azserialhelp@microsoft.com или в категории виртуальной машины на сайте https://feedback.azure.com.

**В. Поддерживает ли последовательная консоль копирование и вставку?**

A. Да. Чтобы копировать и вставить текст в окно терминала, используйте клавиши **CTRL**+**SHIFT**+**C** и **CTRL**+**SHIFT**+**V**.

**В. Можно ли использовать последовательную консоль вместо SSH-подключения?**

A. Хотя это может показаться технически возможным, последовательная консоль предназначена для использования в качестве средства устранения неполадок в случаях, когда подключение по протоколу SSH не возможно. Мы не рекомендуем использовать последовательную консоль в качестве замещения SSH по таким причинам:

- Последовательная консоль не имеет такую пропускную способность, как SSH. Это текстовое соединение, поэтому в последовательной консоли сложнее взаимодействовать с графическим интерфейсом пользователя (GUI).
- Доступ к последовательной консоли в данный момент можно получить только с помощью имени пользователя и пароля. Ключи SSH более безопасны, чем комбинации имени пользователя и пароля, поэтому с точки зрения безопасности входа рекомендуется запускать SSH через последовательную консоль.

**В. Кто может включить или отключить последовательную консоль в подписке?**

A. Чтобы включить или отключить последовательную консоль на уровне подписки, у вас должно быть разрешение на запись в этой подписке. Разрешение на запись есть у ролей администратора и владельца. У пользовательских ролей также может быть разрешение на запись.

**В. Кто имеет доступ к последовательной консоли для моей виртуальной Машины или виртуальные машины масштабируемого набора?**

A. Необходимо иметь роль участника виртуальной машины или выше для виртуальной Машины или виртуальной машины масштабируемого набора для доступа к последовательной консоли.

**В. На последовательной консоли ничего не отображается, что делать?**

A. Возможно, ваш образ неправильно настроен для доступа к последовательной консоли. Дополнительные сведения о настройке образа для включения последовательной консоли см. в разделе [Доступность дистрибутива Linux для последовательной консоли](#serial-console-linux-distribution-availability).

**В. Доступна ли последовательная консоль для масштабируемых наборов виртуальных машин?**

A. Да! См. в разделе [последовательной консоли для масштабируемых наборов виртуальных машин](#serial-console-for-virtual-machine-scale-sets)

**В. Если настроить моей виртуальной Машины или масштабируемого набора с помощью только ключа SSH виртуальных машин, по-прежнему использовать последовательную консоль для подключения к экземпляру набора масштабирования моей виртуальной Машины или виртуальные машины?**

A. Да. Так как для последовательной консоли не требуются ключи SSH, все, что вам нужно, — это настроить имя пользователя и пароль. Это можно сделать, выбрав **Сброс пароля** на портале Azure и используя эти учетные данные для входа в последовательную консоль.

## <a name="next-steps"></a>Следующие шаги
* Используйте последовательную консоль для [доступа к GRUB и однопользовательскому режиму](serial-console-grub-single-user-mode.md).
* Используйте последовательную консоль для [вызовов SysRq и NMI](serial-console-nmi-sysrq.md).
* Узнайте, как с помощью последовательной консоли [включать GRUB в различных дистрибутивах](https://blogs.msdn.microsoft.com/linuxonazure/2018/10/23/why-proactively-ensuring-you-have-access-to-grub-and-sysrq-in-your-linux-vm-could-save-you-lots-of-down-time/).
* Последовательная консоль также доступна для виртуальных машин [Windows](../windows/serial-console.md).
* См. дополнительные сведения в статье [Устранение неполадок виртуальных машин Windows в Azure с использованием диагностики загрузки](boot-diagnostics.md).

