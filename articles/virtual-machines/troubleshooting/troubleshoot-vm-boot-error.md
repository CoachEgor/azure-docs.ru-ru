---
title: Ошибка загрузки виртуальной машины Azure
description: Не удалось загрузить виртуальную машину, так как виртуальная машина перешла в консоль
services: virtual-machines-windows
documentationcenter: ''
author: v-miegge
manager: ''
editor: ''
tags: azure-resource-manager
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 08/28/2019
ms.author: tiag
ms.openlocfilehash: 9995b9049378a0ab4f3450ec577d034598d171e9
ms.sourcegitcommit: 909ca340773b7b6db87d3fb60d1978136d2a96b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/13/2019
ms.locfileid: "70984839"
---
# <a name="vm-boot-error"></a>Ошибка загрузки виртуальной машины

Мы обнаружили, что ваша виртуальная машина (VM) перешла в консоль "копия". Эта проблема возникает, когда на виртуальной машине Linux были применены изменения ядра, такие как обновление ядра, и он больше не запускается из-за ошибок ядра в процессе загрузки. Во время загрузки, когда загрузчик пытается выполнить обнаружение ядра Linux и передает ему контроль загрузки, виртуальная машина переходит в консоль, когда происходит сбой передачи.

Если вы обнаружите, что вы не можете подключиться к виртуальной машине в будущем, вы можете просмотреть снимок экрана виртуальной машины, используя колонку Диагностика загрузки в портал Azure. Это может помочь диагностировать проблему и определить, является ли ее причиной такая же ошибка загрузки.

## <a name="recommended-steps"></a>Рекомендуемые действия

Выполните следующие действия по устранению рисков в зависимости от полученной ошибки:

### <a name="error---unknown-filesystem"></a>Ошибка-неизвестная файловая система

* Если вы получаете ошибку **неизвестная**файловая система, эта ошибка может возникать из-за повреждения файловой системы в загрузочном разделе или неверной конфигурации ядра.

   * При возникновении проблем с файловой системой выполните действия, описанные в статье [восстановление Linux: Не удается выполнить подключение SSH к виртуальной машине Linux из-за ошибок файловой системы](https://blogs.msdn.microsoft.com/linuxonazure/2016/09/13/linux-recovery-cannot-ssh-to-linux-vm-due-to-file-system-errors-fsck-inodes/)(fsck, индексных дескрипторов).
   * Для проблем с ядром выполните действия, описанные в [статье восстановление Linux: Устранение проблем без загрузок, связанных с](https://blogs.msdn.microsoft.com/linuxonazure/2016/10/09/linux-recovery-manually-fixing-non-boot-issues-related-to-kernel-problems/)проблемами ядра [или восстановлением Linux, вручную. Устранение проблем без загрузок, связанных с проблемами](https://blogs.msdn.microsoft.com/linuxonazure/2016/10/09/linux-recovery-fixing-non-boot-issues-related-to-kernel-problems-using-chroot/)ядра, с помощью чрут.
   
### <a name="error---file-not-found"></a>Ошибка-файл не найден

* Если вы получаете **ошибку 15: Файл не найден или не является начальным электронным диском** , либо **не найден файл Initrd/initramfs**, выполните следующие действия.

    * Для отсутствующего файла `/boot/grub2/grub.cfg` или `initrd/initramfs` перейдите к следующему процессу:

    1. Убедитесь `/etc/default/grub` , что существуют и имеют правильные или нужные параметры. Если вы не знакомы с параметрами по умолчанию, можно проверить рабочую виртуальную машину.

    2. Затем выполните следующую команду, чтобы повторно создать конфигурацию:`grub2-mkconfig -o /boot/grub2/grub.cfg`

   * Если отсутствующий файл имеет `/boot/grub/menu.lst`значение, эта ошибка относится к более старым версиям ОС (**RHEL 6. x**, **CentOS 6. x** и **Ubuntu 14,04**), поэтому команды могут отличаться. Необходимо будет запустить старый сервер и выполнить тестирование, чтобы убедиться, что указаны правильные команды.

### <a name="error---no-such-partition"></a>Ошибка-отсутствует такой раздел

* Если вы получаете ошибку **без такого раздела**, обратитесь к [сценарию case: "нет такой секции" при попытке запустить виртуальную машину после попытки расширения диска операционной системы](https://blogs.technet.microsoft.com/shwetanayak/2017/03/12/case-scenario-no-such-partition-error-while-trying-to-start-the-vm-after-attempting-to-extend-the-os-drive/).

### <a name="error---grubcfg-file-not-found"></a>Ошибка-файл GRUB. cfg не найден

* Если вы получаете сообщение об ошибке " **файл/Boot/grub2/GRUB.cfg не найден**", выполните следующие действия.

    * Для отсутствующего файла `/boot/grub2/grub.cfg` или `initrd/initramfs` перейдите к следующему процессу:

    1. Убедитесь `/etc/default/grub` , что существуют и имеют правильные или нужные параметры. Если вы не знакомы с параметрами по умолчанию, можно проверить рабочую виртуальную машину.

    2. Затем выполните следующую команду, чтобы повторно создать конфигурацию: `grub2-mkconfig -o /boot/grub2/grub.cfg`.

   * Если отсутствующий файл имеет `/boot/grub/menu.lst`значение, эта ошибка относится к более старым версиям ОС (**RHEL 6. x**, **CentOS 6. x** и **Ubuntu 14,04**), поэтому команды могут быть отложены. Запустите старый сервер и проверьте его, чтобы убедиться, что указаны правильные команды.

## <a name="next-steps"></a>Следующие шаги

* [Обзор агента виртуальной машины Azure](../extensions/agent-windows.md)
* [Обзор расширений и компонентов виртуальной машины под управлением Windows](../extensions/features-windows.md)

