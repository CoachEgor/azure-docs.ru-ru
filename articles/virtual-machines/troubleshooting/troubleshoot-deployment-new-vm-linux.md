---
title: Устранение неполадок развертывания виртуальных машин Linux | Документация Майкрософт
description: Устранение неполадок развертывания Resource Manager при создании виртуальной машины Linux в Azure
services: virtual-machines-linux, azure-resource-manager
documentationcenter: ''
author: JiangChen79
manager: jeconnoc
editor: ''
tags: top-support-issue, azure-resource-manager
ms.assetid: 906a9c89-6866-496b-b4a4-f07fb39f990c
ms.service: virtual-machines-linux
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: troubleshooting
ms.date: 09/09/2016
ms.author: cjiang
ms.openlocfilehash: 9fea914fdf9b025fd5d38219a6bfc81b4a9cc584
ms.sourcegitcommit: 61c8de2e95011c094af18fdf679d5efe5069197b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62125622"
---
# <a name="troubleshoot-resource-manager-deployment-issues-with-creating-a-new-linux-virtual-machine-in-azure"></a>Устранение неполадок в развертывании Resource Manager при создании виртуальной машины Linux в Azure
[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-opening](../../../includes/virtual-machines-troubleshoot-deployment-new-vm-opening-include.md)]

[!INCLUDE [support-disclaimer](../../../includes/support-disclaimer.md)]

## <a name="top-issues"></a>Наиболее важные проблемы
[!INCLUDE [support-disclaimer](../../../includes/virtual-machines-linux-troubleshoot-deploy-vm-top.md)]

Описание других ситуаций и вопросов, связанных с развертыванием виртуальных машин, см. в статье [Устранение неполадок при развертывании виртуальных машин Linux в Azure](troubleshoot-deploy-vm-linux.md).

## <a name="collect-activity-logs"></a>Сбор журналов действий
Для устранения неполадок прежде всего соберите журналы действий, чтобы определить ошибку, связанную с этой проблемой. Ниже представлены ссылки на подробные инструкции.

[Просмотр операций развертывания с помощью Azure Resource Manager](../../azure-resource-manager/resource-manager-deployment-operations.md)

[Просмотр журналов действий для управления ресурсами Azure](../../resource-group-audit.md)

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-issue1](../../../includes/virtual-machines-troubleshoot-deployment-new-vm-issue1-include.md)]

[!INCLUDE [virtual-machines-linux-troubleshoot-deployment-new-vm-table](../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-table.md)]

**Y.** Если ОС — это обобщенный Linux и его передачи и/или записывается как универсальный диск, затем не будет ошибок. Аналогичным образом, если специализированная ОС Linux передается и/или записывается как специализированный диск, ошибок не возникает.

**Ошибки передачи:**

**N<sup>1</sup>.** Если операционная система Linux обобщить и передается как специализированный диск, отобразится ошибка времени ожидания подготовки, так как виртуальная машина зависает на этапе подготовки.

**N<sup>2</sup>.** Если ОС — специализированные Linux, и он передается как универсальный диск, отобразится ошибка подготовки, так как новая виртуальная машина запускается с исходное имя компьютера, имя пользователя и пароль.

**Способы устранения:**

Чтобы устранить обе ошибки, передайте исходный виртуальный жесткий ДИСК, доступных на локальном компьютере, с теми же параметрами, что и для операционной системы (универсальный или специализированный). Чтобы передать диск как универсальный, сначала обязательно выполните команду -deprovision.

**Ошибки записи:**

**N<sup>3</sup>.** Если операционная система Linux обобщить и передается как специализированный диск, отобразится ошибка времени ожидания подготовки, так как исходная виртуальная машина не выполняется, так как она помечена как универсальную.

**N<sup>4</sup>.** Если ОС — специализированные Linux, и она записывается как универсальный диск, отобразится ошибка подготовки, так как новая виртуальная машина запускается с исходное имя компьютера, имя пользователя и пароль. Кроме того, исходная виртуальная машина отмечена как специализированная и непригодна к использованию.

**Способы устранения:**

Чтобы устранить обе ошибки, удалите на портале текущий образ и [заново запишите его с текущих виртуальных жестких дисков](../linux/capture-image.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) с тем же параметром (универсальный или специализированный), который установлен для операционной системы.

## <a name="issue-custom-gallery-marketplace-image-allocation-failure"></a>Проблема Custom / коллекции или образа marketplace; Ошибка выделения
Данная ошибка возникает в ситуациях, когда запрос на новую виртуальную машину прикреплен к кластеру, который либо не поддерживает запрашиваемый размер виртуальной машины, либо не располагает свободным пространством для размещения запроса.

**Причина 1**. Кластер не поддерживает запрошенный размер виртуальной машины.

**Способ устранения 1.**

* Повторите запрос с указанием меньшего размера виртуальной машины.
* Если нельзя изменить размер запрошенной виртуальной машины,
  * остановите все виртуальные машины в группе доступности.
    Для этого последовательно выберите **Группы ресурсов** > *имя вашей группы ресурсов* > **Ресурсы** > *имя вашей группы доступности* > **Виртуальные машины** > *имя вашей виртуальной машины* > **Остановить**.
  * После остановки всех виртуальных машин создайте новую виртуальную машину необходимого размера.
  * Сначала запустите новую виртуальную машину, а затем выберите каждую из остановленных виртуальных машин и нажмите кнопку **Запустить**.

**Причина 2.** В кластере нет свободных ресурсов.

**Способ устранения 2.**

* Повторите запрос позже.
* Если новая виртуальная машина должна быть частью другой группы доступности:
  * создайте новую виртуальную машину в другой группе доступности (в том же регионе);
  * добавьте новую виртуальную машину в ту же виртуальную сеть.

## <a name="next-steps"></a>Дальнейшие действия
При возникновении проблем во время запуска остановленной виртуальной машины Linux или в случае изменения размера существующей виртуальной машины Linux в Azure см. раздел [Устранение неполадок в развертывании Resource Manager при перезагрузке или изменении размера существующей виртуальной машины Linux в Azure](../linux/restart-resize-error-troubleshooting.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).

