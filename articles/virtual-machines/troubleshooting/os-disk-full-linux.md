---
title: Проблемы с полным диском операционной системы на виртуальной машине Linux
description: Устранение неполадок с полным дисковым ОС на виртуальной машине Linux
author: v-miegge
ms.author: tibasham
manager: dcscontentpm
ms.service: virtual-machines
ms.subservice: disks
ms.workload: infrastructure-services
ms.topic: troubleshooting
ms.date: 11/20/2020
ms.openlocfilehash: 2e350fe297b2aaf89ac302baaefb29092cfe2532
ms.sourcegitcommit: 84e3db454ad2bccf529dabba518558bd28e2a4e6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2020
ms.locfileid: "96523648"
---
# <a name="issues-with-a-full-os-disk-on-a-linux-virtual-machine"></a>Проблемы с полным диском операционной системы на виртуальной машине Linux

Если диск операционной системы виртуальной машины Linux заполнен, это может привести к проблемам с правильной работой ВИРТУАЛЬНОЙ машины.

## <a name="symptom"></a>Симптом

При попытке создать новый файл появляется следующее сообщение:

```
username@AZUbuntu1404:~$ touch new 
touch: cannot touch “new”: No space left on device 
username@AZUbuntu1404:~$
```

Несколько управляющих программ указывают, что они не могут создавать временные файлы во время сеанса загрузки.

```
ERROR:IOError: [Errno 28] No space left on device: '/var/lib/waagent/events/1474306860983232.tmp' 
    
OSError: [Errno 28] No space left on device: '/var/lib/cloud/data/tmpDZCq0g'
```
    
## <a name="cause"></a>Причина

Существует несколько причин, по которым может произойти это сообщение об ошибке:

1. Возможно, диск заполнен.
1. Возможно, файловая система закончила работу из индексных дескрипторов.
1. Диск данных может быть подключен к существующему каталогу, что приводит к скрытию файлов.
1. Файлы, которые открываются процессом, а затем удаляются.

## <a name="solution"></a>Решение

### <a name="process-overview"></a>Общие сведения о процессе

1. Создайте виртуальную машину для восстановления и войдите на нее.
1. Освободите место на диске.
1. Перестройте виртуальную машину.

> [!NOTE]
> При возникновении такой ошибки гостевая ОС не работает. Для устранения этой проблемы воспользуйтесь автономным режимом.

### <a name="create-and-access-a-repair-vm"></a>Создание виртуальной машины для восстановления и доступ к ней

1. Выполните шаги 1–3 из списка [команд для восстановления виртуальной машины](./repair-linux-vm-using-azure-virtual-machine-repair-commands.md), чтобы подготовить виртуальную машину для восстановления.
1. Подключитесь к виртуальной машине для восстановления с помощью SSH.

### <a name="free-up-space-on-the-disk"></a>Освободите место на диске

Чтобы устранить проблему, сделайте следующее:

- Измените размер диска до 1 ТБ, если его размер еще не достиг лимита в 1 ТБ.
- Освободите место на диске.

1. Проверьте, есть ли свободное место на диске. Если размер диска меньше 1 ТБ, увеличьте его до 1 ТБ, [используя Azure CLI](../linux/expand-disks.md).
1. Если диск уже 1 ТБ, необходимо освободить дисковое пространство.
1. После завершения изменения размера и очистки продолжите перестроение виртуальной машины.

### <a name="rebuild-the-vm"></a>Перестроение виртуальной машины

Чтобы перестроить виртуальную машину, [выполните шаг 5 из списка команд для восстановления виртуальной машины](./repair-linux-vm-using-azure-virtual-machine-repair-commands.md#repair-process-example).
