---
title: Использование обработчика правил для принудительного применения протокола HTTPS в стандартном Azure CDN | Документация Майкрософт
description: Используйте обработчик правил для сети доставки содержимого Microsoft Standard Azure (Azure CDN), чтобы настроить способ Azure CDN обработки HTTP-запросов, включая блокирование доставки определенных типов содержимого, определение политики кэширования и изменение заголовков HTTP. В этой статье вы узнаете, как создать правило для перенаправления пользователей по протоколу HTTPS.
services: cdn
author: asudbring
ms.service: azure-cdn
ms.topic: article
ms.date: 11/01/2019
ms.author: allensu
ms.openlocfilehash: 91a442573139bf4fdd09978290bf2380c8bcb97e
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "81259937"
---
# <a name="set-up-the-standard-rules-engine-for-azure-cdn"></a>Настройка обработчика стандартных правил для Azure CDN

В этой статье описывается, как настроить и использовать обработчик стандартных правил для сети доставки содержимого Azure (Azure CDN).

## <a name="standard-rules-engine"></a>Обработчик стандартных правил

Для Azure CDN можно настроить обработку HTTP-запросов с помощью стандартного обработчика правил. Например, можно использовать обработчик правил, чтобы обеспечить доставку содержимого для использования определенных протоколов, определить политику кэширования или изменить заголовок HTTP. В этой статье показано, как создать правило, которое автоматически перенаправляет пользователей по протоколу HTTPS. 

> [!NOTE]
> Обработчик правил, описанный в этой статье, доступен только для стандартных Azure CDN Майкрософт. 

## <a name="redirect-users-to-https"></a>Перенаправлять пользователей в HTTPS

1. В профилях Майкрософт перейдите в сеть доставки содержимого Azure.

1. На странице **профиль CDN** выберите конечную точку, для которой необходимо создать правила.
  
1. Перейдите на вкладку **обработчик правил** .
   
    Откроется панель **обработчика правил** , в которой отобразится список доступных глобальных правил. 
   
    [![Страница Azure CDN новых правил](./media/cdn-standard-rules-engine/cdn-new-rule.png)](./media/cdn-standard-rules-engine/cdn-new-rule.png#lightbox)
   
   > [!IMPORTANT]
   > Порядок, в котором перечислены несколько правил, влияет на порядок обработки правил. Действия, указанные в правиле, могут быть перезаписаны последующим правилом.
   >

1. Выберите **Добавить правило** и введите имя правила. Имена правил должны начинаться с буквы и могут содержать только цифры и буквы.

1. Чтобы узнать тип запросов, к которым применяется правило, создайте условие соответствия:
    1. Выберите **Добавить условие**, а затем выберите условие соответствия **протокола запроса** .
    1. В поле **Оператор** выберите **Равно**.
    1. В качестве **значения**выберите **http**.
   
   [![Условие соответствия Azure CDN правилу](./media/cdn-standard-rules-engine/cdn-match-condition.png)](./media/cdn-standard-rules-engine/cdn-match-condition.png#lightbox)
   
   > [!NOTE]
   > В раскрывающемся списке **Добавить условие** можно выбрать несколько условий соответствия. Подробный список условий соответствия см. в разделе [условия соответствия в обработчике стандартных правил](cdn-standard-rules-engine-match-conditions.md).
   
1. Выберите действие для применения к запросам, которые удовлетворяют условию соответствия:
   1. Щелкните **Добавить действие**и выберите **перенаправление URL-адреса**.
   1. В качестве **типа**выберите **найдено (302)**.
   1. Для параметра **Protocol** (Протокол) выберите **HTTPS**.
   1. Оставьте все остальные поля пустыми, чтобы использовать входящие значения.
   
   [![Действие правила Azure CDN](./media/cdn-standard-rules-engine/cdn-action.png)](./media/cdn-standard-rules-engine/cdn-action.png#lightbox)
   
   > [!NOTE]
   > В раскрывающемся списке **Добавить действие** можно выбрать несколько действий. Подробный список действий см. в разделе [действия в обработчике стандартных правил](cdn-standard-rules-engine-actions.md).

6. Нажмите кнопку **сохранить** , чтобы сохранить новое правило. Теперь правило доступно для использования.
   
   > [!IMPORTANT]
   > Изменение правил может занять до 15 минут, чтобы распространяться по Azure CDN.
   >
   

## <a name="next-steps"></a>Дальнейшие шаги

- [Общие сведения о сети доставки содержимого Azure](cdn-overview.md)
- [Справочник по стандартному обработчику правил](cdn-standard-rules-engine-reference.md)
- [Условия соответствия в обработчике стандартных правил](cdn-standard-rules-engine-match-conditions.md)
- [Действия в обработчике стандартных правил](cdn-standard-rules-engine-actions.md)
