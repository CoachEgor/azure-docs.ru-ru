---
title: Используйте движок правил для обеспечения соблюдения httpS в Стандартном Azure CDN Документы Майкрософт
description: Используйте движок правил для Microsoft Standard Azure Content Delivery Delivery Network (Azure CDN), чтобы настроить обработку запросов HTTP Azure CDN, включая блокирование доставки определенных типов содержимого, определение политики кэширования и изменение заголовков HTTP. В этой статье узнайте, как создать правило для перенаправления пользователей на HTTPS.
services: cdn
author: mdgattuso
ms.service: azure-cdn
ms.topic: article
ms.date: 11/01/2019
ms.author: magattus
ms.openlocfilehash: 724861305d7a25db409072200ac2bc3bd83f0682
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "74171573"
---
# <a name="set-up-the-standard-rules-engine-for-azure-cdn"></a>Настройка движка стандартных правил для Azure CDN

В этой статье описывается, как настроить и использовать движок стандартных правил для сети доставки содержимого Azure (Azure CDN).

## <a name="standard-rules-engine"></a>Стандартный механизм правил

Для настройки обработки запросов HTTP можно использовать движок стандартных правил для Azure CDN. Например, можно использовать движок правил для обеспечения доставки содержимого для использования определенных протоколов, для определения политики кэширования или для изменения заголовка HTTP. В этой статье показано, как создать правило, которое автоматически перенаправляет пользователей на HTTPS. 

> [!NOTE]
> Движок правил, описанный в этой статье, доступен только для Стандартного CdN Azure от корпорации Майкрософт. 

## <a name="redirect-users-to-https"></a>Перенаправить пользователей на HTTPS

1. В профилях Майкрософт перейдите в сеть доставки контента Azure.

1. На странице **профиля CDN** выберите конечную точку, для которых необходимо создать правила.
  
1. Выберите вкладку **«Правила двигателя».**
   
    Панель **двигателя правил** открывается и отображает список доступных глобальных правил. 
   
    [![Страница новых правил Azure CDN](./media/cdn-standard-rules-engine/cdn-new-rule.png)](./media/cdn-standard-rules-engine/cdn-new-rule.png#lightbox)
   
   > [!IMPORTANT]
   > Порядок, в котором перечислены несколько правил, влияет на то, как обрабатываются правила. Действия, указанные в правиле, могут быть перезаписаны последующим правилом.
   >

1. Выберите **правило добавить** и введите имя правила. Имена правил должны начинаться с буквы и могут содержать только цифры и буквы.

1. Чтобы определить тип запросов, к которые применяется правило, создайте условие соответствия:
    1. Выберите **Условие Добавления,** а затем выберите условие соответствия **протокола Запроса.**
    1. В поле **Оператор** выберите **Равно**.
    1. Для **значения**выберите **HTTP**.
   
   [![Состояние соответствия правил Azure CDN](./media/cdn-standard-rules-engine/cdn-match-condition.png)](./media/cdn-standard-rules-engine/cdn-match-condition.png#lightbox)
   
   > [!NOTE]
   > Вы можете выбрать из нескольких условий соответствия в списке выпадающих **условий Add.** Подробный список условий [Match conditions in the Standard rules engine](cdn-standard-rules-engine-match-conditions.md)матча см.
   
1. Выберите действие для применения к запросам, удовлетворяющих условию соответствия:
   1. Выберите **Добавить действие,** а затем выберите **URL перенаправить**.
   1. Для **типа**, выберите **Найдено (302)**.
   1. Для параметра **Protocol** (Протокол) выберите **HTTPS**.
   1. Оставьте все другие поля пустыми для использования входящих значений.
   
   [![Действия правил Azure CDN](./media/cdn-standard-rules-engine/cdn-action.png)](./media/cdn-standard-rules-engine/cdn-action.png#lightbox)
   
   > [!NOTE]
   > Вы можете выбрать из нескольких действий в списке выпадающих **действий Добавить.** Подробный список действий можно узнать [в движке «Действия в стандартных правилах».](cdn-standard-rules-engine-actions.md)

6. Выберите **Сохранить,** чтобы сохранить новое правило. Правило теперь доступно для использования.
   
   > [!IMPORTANT]
   > Распространение изменений правил может занять до 15 минут через Azure CDN.
   >
   

## <a name="next-steps"></a>Дальнейшие действия

- [Общие сведения о сети доставки содержимого Azure](cdn-overview.md)
- [Справочник по стандартному обработчику правил](cdn-standard-rules-engine-reference.md)
- [Условия соответствия в двигателе стандартных правил](cdn-standard-rules-engine-match-conditions.md)
- [Действия в движке стандартных правил](cdn-standard-rules-engine-actions.md)
