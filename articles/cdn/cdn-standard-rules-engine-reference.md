---
title: Справочник по обработчику стандартных правил для Azure CDN | Документация Майкрософт
description: Справочная документация по условиям соответствия и действиям в стандартном обработчике правил для сети доставки содержимого Azure (Azure CDN).
services: cdn
author: asudbring
ms.service: azure-cdn
ms.topic: article
ms.date: 06/22/2020
ms.author: allensu
ms.openlocfilehash: 6260a4b78197329e020bebaa3bc08db5ad792086
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85559314"
---
# <a name="standard-rules-engine-reference-for-azure-cdn"></a>Справочник по стандартному обработчику правил для Azure CDN

В [обработчике стандартных правил](cdn-standard-rules-engine.md) для сети доставки содержимого Azure (Azure CDN) правило состоит из одного или нескольких условий соответствия и действия. В этой статье содержатся подробные описания условий соответствия и функций, доступных в обработчике стандартных правил для Azure CDN.

Обработчик правил предназначен для того, чтобы быть конечным центром обработки конкретных типов запросов стандартными Azure CDN.

**Распространенные способы применения правил**:

- определять или переопределять пользовательские политики кэширования;
- перенаправлять запросы;
- Изменение заголовков HTTP-запросов и ответов.

## <a name="terminology"></a>Терминология

Чтобы определить правило в обработчике правил, задайте [условия соответствия](cdn-standard-rules-engine-match-conditions.md) и [действия](cdn-standard-rules-engine-actions.md).

 ![Структура правил Azure CDN](./media/cdn-standard-rules-engine-reference/cdn-rules-structure.png)

Каждое правило может иметь до десяти условий соответствия и пяти действий. Каждая конечная точка Azure CDN может иметь до 25 правил. 

В это ограничение входит *глобальное правило*по умолчанию. Глобальное правило не имеет условий соответствия; действия, определенные в глобальном правиле, всегда запускаются.

## <a name="limits-and-pricing"></a>Ограничения и цены 

Каждая конечная точка Azure CDN может иметь до 25 правил. Каждое правило может иметь до десяти условий соответствия и пяти действий. Цены на обработчик правил следуют следующим измерениям: 
- Правила: $1 на правило в месяц 
- Обработано запросов: $0,60 за миллион рекуетс
- Первые 5 правил останутся свободными

## <a name="syntax"></a>Синтаксис

Способ обработки специальных символов в правиле зависит от того, как разные условия соответствия и действия обрабатывают текстовые значения. Условие соответствия или действие может интерпретировать текст одним из следующих способов:

- [Литеральные значения](#literal-values)
- [Значения с подстановочными знаками](#wildcard-values)


### <a name="literal-values"></a>Литеральные значения

Текст, интерпретируемый как литеральное значение, считает все специальные символы, *кроме символа%* , частью значения, которое должно быть сопоставлено в правиле. Например, условие сопоставления литерала `'*'` имеет значение, только если найдено точное значение `'*'` .

Знак процента используется для указания кодировки URL-адреса (например, `%20` ).

### <a name="wildcard-values"></a>Значения с подстановочными знаками

Текст, интерпретируемый как подстановочное значение, присваивает дополнительные значения специальным символам. В следующей таблице описывается, как определенные специальные символы обрабатываются в обработчике стандартных правил.

Символ | Описание
----------|------------
\ | Обратная косая черта экранирует любой из символов, указанных в этой таблице. Обратная косая черта должна располагаться непосредственно перед тем специальным символом, который нужно экранировать. Например, в этом примере экранируется символ звездочки: `\*`
% | Знак процента используется для указания кодировки URL-адреса (например, `%20` ).
\* | Звездочка является подстановочным знаком, которому соответствуют один или несколько символов.
space | Символ пробела означает, что условие соответствия может быть удовлетворено любым из указанных значений или шаблонов.
одинарные кавычки | Одна кавычка не имеет особого смысла. Однако набор одинарных кавычек указывает, что значение должно рассматриваться как литеральное значение. Одинарные кавычки можно использовать следующими способами.<ul><li>Значение, чтобы разрешить условие соответствия, если указанное значение соответствует какой-либо части значения сравнения.  Например, условию `'ma'` будет соответствовать любая из следующих строк: <ul><li>/business/**ma**rathon/asset.htm</li><li>**ma**p.gif</li><li>/business/template.**ma**p</li></ul><li>Значение, чтобы можно было указать специальный символ в качестве литерального символа. Например, можно указать символ пробела, заключив символ пробела в набор одинарных кавычек ( `' '` или `'<sample value>'` ).</li><li>, Чтобы разрешить указывать пустое значение. Укажите пустое значение, указав набор одинарных кавычек (**""**).</li></ul>**Важно**!<br /><ul><li>Если указанное значение не содержит подстановочный знак, оно автоматически считается литеральным значением. Для литерального значения не нужно указывать набор одинарных кавычек.</li><li>Если обратная косая черта не используется для экранирования другого символа в этой таблице, обратная косая черта игнорируется, если она указана в наборе одинарных кавычек.</li><li>Другой способ указания специального символа в качестве литерального символа заключается в его экранировании с помощью обратной косой черты ( `\` ).</li></ul>

## <a name="next-steps"></a>Дальнейшие шаги

- [Условия соответствия в стандартном обработчике правил](cdn-standard-rules-engine-match-conditions.md)
- [Действия в стандартном обработчике правил](cdn-standard-rules-engine-actions.md)
- [Принудительное применение HTTPS с помощью стандартного обработчика правил](cdn-standard-rules-engine.md)
- [Общие сведения о сети доставки содержимого Azure](cdn-overview.md)
