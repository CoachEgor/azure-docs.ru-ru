---
title: Azure CDN из действий обработчика стандартных правил Майкрософт | Документация Майкрософт
description: Справочная документация по Azure CDN из действий обработчика стандартных правил Майкрософт.
services: cdn
author: mdgattuso
ms.service: azure-cdn
ms.topic: article
ms.date: 11/01/2019
ms.author: magattus
ms.openlocfilehash: dbde93cc7ffd21e341653407e6e4f910e4620974
ms.sourcegitcommit: b2fb32ae73b12cf2d180e6e4ffffa13a31aa4c6f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/05/2019
ms.locfileid: "73615992"
---
# <a name="azure-cdn-from-microsoft-standard-rules-engine-actions"></a>Azure CDN из действий обработчика стандартных правил Майкрософт

В этой статье приведены подробные описания доступных действий для сети доставки содержимого (CDN) Azure из [обработчика стандартных правил](cdn-standard-rules-engine.md)Майкрософт.

Вторая часть правила — это действие. Действие определяет поведение, применяемое к типу запроса, который определяется набором условий соответствия.

## <a name="actions"></a>Действия

Для использования доступны следующие действия. 

## <a name="cache-expiration"></a>Срок действия кэша

Это действие позволяет перезаписать срок жизни конечной точки для запросов, указанных в условиях соответствия правил.

**Обязательные поля**

Поведение кэша |                
---------------|----------------
Отключение кэша | Если выбран этот параметр и правило соответствует, содержимое не будет кэшироваться.
Крывают | Если выбран этот параметр и правило соответствует, то значение TTL, возвращенное из источника, будет перезаписано значением, указанным в действии.
Задать, если отсутствует | Если выбран этот параметр и правило совпадает, то при отсутствии значения TTL, возвращенного из источника, правило установит значение TTL, указанное в действии.

**Дополнительные поля**

Дни | Часы | Минуты | Секунды
-----|-------|---------|--------
Int | Int | Int | Int 

## <a name="cache-key-query-string"></a>Строка запроса ключа кэша

Это действие позволяет изменить ключ кэша на основе строк запроса.

**Обязательные поля**

Поведение | Description (Описание)
---------|------------
Включить | Если выбран этот параметр и правило соответствует, строки запроса, указанные в параметрах, будут включаться при создании ключа кэша. 
кэшировать все уникальные URL-адреса. | Если выбран этот параметр и правило соответствует, то каждый уникальный URL-адрес будет иметь собственный ключ кэша. 
Исключить | Если выбран этот параметр и правило соответствует, строки запроса, указанные в параметрах, будут исключены при создании ключа кэша.
игнорировать строки запросов; | Если выбран этот параметр и правило соответствует, строки запроса не будут учитываться при создании ключа кэша. 

## <a name="modify-request-header"></a>Изменить заголовок запроса

Это действие позволяет изменять заголовки, существующие в запросах, отправленных в ваш источник.

**Обязательные поля**

Действие | Имя заголовка HTTP | Значение
-------|------------------|------
Добавить | Если выбран этот параметр и правило соответствует, заголовок, указанный в поле имя заголовка, будет добавлен в запрос с указанным значением. Если заголовок уже существует, значение будет добавлено к существующему значению. | string
Перезаписать | Если выбран этот параметр и правило соответствует, заголовок, указанный в поле имя заголовка, будет добавлен в запрос с указанным значением. Если заголовок уже существует, значение перезапишет существующее значение. | string
Удалить | Если выбран этот параметр и правило соответствует, а заголовок, указанный в правиле, имеется, то он будет удален из запроса. | string

## <a name="modify-response-header"></a>Изменить заголовок ответа

Это действие позволяет изменять заголовки, существующие в ответах, возвращаемых конечным клиентам.

**Обязательные поля**

Действие | Имя заголовка HTTP | Значение
-------|------------------|------
Добавить | Если выбран этот параметр и правило соответствует, заголовок, указанный в поле имя заголовка, будет добавлен в ответ с указанным значением. Если заголовок уже существует, значение будет добавлено к существующему значению. | string
Перезаписать | Если выбран этот параметр и правило соответствует, заголовок, указанный в поле имя заголовка, будет добавлен в ответ с указанным значением. Если заголовок уже существует, значение перезапишет существующее значение. | string
Удалить | Если выбран этот параметр и правило соответствует, а заголовок, указанный в правиле, имеется, то он будет удален из ответа. | string

## <a name="url-redirect"></a>URL Redirect

Это действие позволяет перенаправить конечные клиенты на новый URL-адрес. 

**Обязательные поля**

Поле | Description (Описание) 
------|------------
Тип | Выберите тип ответа, который будет возвращен запрашивающему. Доступны параметры-302, 301 перемещено, 307 временное перенаправление и постоянное перенаправление 308
Протокол | Запрос сопоставления, HTTP или HTTPS
имя узла; | Выберите имя узла, на которое будет перенаправлен запрос. Оставьте пустым, чтобы сохранить входящий узел.
Путь | Определите путь, который будет использоваться в перенаправлении. Оставьте пустым, чтобы сохранить входящий путь.  
Строка запроса | Определите строку запроса, используемую в перенаправлении. Оставьте пустым, чтобы сохранить строку входящего запроса. 
Fragment (Фрагмент) | Определите фрагмент, который будет использоваться в перенаправлении. Оставьте пустым, чтобы сохранить входящий фрагмент. 

Мы настоятельно рекомендуем использовать абсолютный URL-адрес. Использование относительного URL-адреса может привести к перенаправлению URL-адресов CDN по недопустимому пути. 

## <a name="url-rewrite"></a>Переопределение URL-адреса

Это действие позволяет перезаписывать путь к началу пути запроса с коротким маршрутом.

**Обязательные поля**

Поле | Description (Описание) 
------|------------
Исходный шаблон | Определите исходный шаблон в URL-пути для замены. В настоящее время исходный шаблон использует сопоставление на основе префикса. Чтобы сопоставить все URL-пути, используйте "/" в качестве исходного значения шаблона.
Место назначения | Определите целевой путь для использования в перезаписи. Исходный шаблон будет перезаписан
Сохранить непарный путь | Если да, оставшийся путь после исходного шаблона будет добавлен к новому целевому пути. 


[Вверх](#actions)

</br>

## <a name="next-steps"></a>Дальнейшие действия

- [Общие сведения о сети доставки содержимого Azure](cdn-overview.md)
- [Справочник по обработчику правил](cdn-standard-rules-engine-reference.md)
- [Условия соответствия для обработчика правил Azure CDN](cdn-standard-rules-engine-match-conditions.md)
- [Принудительное использование HTTPS с помощью стандартного обработчика правил](cdn-standard-rules-engine.md)
