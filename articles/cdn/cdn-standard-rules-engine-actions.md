---
title: Действия в обработчике стандартных правил для Azure CDN | Документация Майкрософт
description: Справочная документация по действиям в обработчике стандартных правил для сети доставки содержимого Azure (Azure CDN).
services: cdn
author: mdgattuso
ms.service: azure-cdn
ms.topic: article
ms.date: 11/01/2019
ms.author: magattus
ms.openlocfilehash: 53280bc90f629d93ff8a045c80f34a73970b43f6
ms.sourcegitcommit: 85e7fccf814269c9816b540e4539645ddc153e6e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/26/2019
ms.locfileid: "74171636"
---
# <a name="actions-in-the-standard-rules-engine-for-azure-cdn"></a>Действия в обработчике стандартных правил для Azure CDN

В [обработчике стандартных правил](cdn-standard-rules-engine.md) для сети доставки содержимого Azure (Azure CDN) правило состоит из одного или нескольких условий соответствия и действия. В этой статье содержатся подробные описания действий, которые можно использовать в обработчике стандартных правил для Azure CDN.

Вторая часть правила — это действие. Действие определяет поведение, которое применяется к типу запроса, определяемому условием соответствия или набору условий соответствия.

## <a name="actions"></a>Действия

Следующие действия можно использовать в обработчике стандартных правил для Azure CDN. 

### <a name="cache-expiration"></a>Срок действия кэша

Используйте это действие, чтобы перезаписать значение срока жизни (TTL) конечной точки для запросов, для которых указаны условия соответствия правил.

#### <a name="required-fields"></a>Обязательные поля

Поведение кэша |  Описание              
---------------|----------------
Обход кэша | Если выбран этот параметр и правило соответствует, содержимое не кэшируется.
Крывают | Если выбран этот параметр и правило соответствует, то значение TTL, возвращенное из источника, перезаписывается значением, указанным в действии.
Задать, если отсутствует | Если выбран этот параметр и правило соответствует, если из источника не было возвращено значение TTL, правило устанавливает TTL в значение, указанное в действии.

#### <a name="additional-fields"></a>Дополнительные поля

Дни | Часы | Минуты | Секунды
-----|-------|---------|--------
int | int | int | int 

### <a name="cache-key-query-string"></a>Строка запроса ключа кэша

Это действие используется для изменения ключа кэша на основе строк запроса.

#### <a name="required-fields"></a>Обязательные поля

Поведение | Описание
---------|------------
Включить | Если выбран этот параметр и правило соответствует, строки запроса, указанные в параметрах, включаются при создании ключа кэша. 
кэшировать все уникальные URL-адреса. | Если выбран этот параметр и правило соответствует, то каждый уникальный URL-адрес имеет свой собственный ключ кэша. 
Исключить | Если выбран этот параметр и правило соответствует, строки запроса, указанные в параметрах, исключаются при создании ключа кэша.
игнорировать строки запросов; | Если выбран этот параметр и правило соответствует, строки запроса не учитываются при создании ключа кэша. 

### <a name="modify-request-header"></a>Изменить заголовок запроса

Это действие используется для изменения заголовков, которые имеются в запросах, отправленных в ваш источник.

#### <a name="required-fields"></a>Обязательные поля

Action | Имя заголовка HTTP | Значение
-------|------------------|------
Добавить | Если выбран этот параметр и правило соответствует, заголовок, указанный в поле **имя заголовка** , добавляется в запрос с указанным значением. Если заголовок уже существует, значение добавляется к существующему значению. | String
Перезаписать | Если выбран этот параметр и правило соответствует, заголовок, указанный в поле **имя заголовка** , добавляется в запрос с указанным значением. Если заголовок уже существует, указанное значение перезаписывает существующее значение. | String
Оператор delete | Если выбран этот параметр, правило соответствует, а заголовок, указанный в правиле, имеется, заголовок удаляется из запроса. | String

### <a name="modify-response-header"></a>Изменить заголовок ответа

Это действие используется для изменения заголовков, имеющихся в ответах, возвращаемых клиентам.

#### <a name="required-fields"></a>Обязательные поля

Action | Имя заголовка HTTP | Значение
-------|------------------|------
Добавить | Если выбран этот параметр и правило соответствует, заголовок, заданный в поле **имя заголовка** , добавляется в ответ с использованием указанного **значения**. Если заголовок уже существует, **значение** добавляется к существующему значению. | String
Перезаписать | Если выбран этот параметр и правило соответствует, заголовок, заданный в поле **имя заголовка** , добавляется в ответ с использованием указанного **значения**. Если заголовок уже существует, **значение** перезаписывает существующее значение. | String
Оператор delete | Если выбран этот параметр, правило соответствует, а заголовок, указанный в правиле, имеется, заголовок удаляется из ответа. | String

### <a name="url-redirect"></a>Перенаправление URL-адреса

Это действие используется для перенаправления клиентов на новый URL-адрес. 

#### <a name="required-fields"></a>Обязательные поля

Поле | Описание 
------|------------
Тип | Выберите тип ответа для возврата запрашивающему инициатору: найдено (302), перемещено (301), временное перенаправление (307) и постоянное перенаправление (308).
Protocol | Запрос сопоставления, HTTP, HTTPS.
имя узла; | Выберите имя узла, на который будет перенаправлен запрос. Оставьте пустым, чтобы сохранить входящий узел.
Path | Определите путь для использования в перенаправлении. Оставьте пустым, чтобы сохранить входящий путь.  
Строка запроса | Определите строку запроса, используемую в перенаправлении. Оставьте пустым, чтобы сохранить строку входящего запроса. 
Fragment (Фрагмент) | Определите фрагмент, который будет использоваться в перенаправлении. Оставьте пустым, чтобы сохранить входящий фрагмент. 

Настоятельно рекомендуется использовать абсолютный URL-адрес. При использовании относительного URL-адреса можно перенаправить Azure CDN URL-адреса на недопустимый путь. 

### <a name="url-rewrite"></a>Переопределение URL-адреса

Используйте это действие, чтобы перезаписать путь к запросу, который является коротким по отношению к вашему источнику.

#### <a name="required-fields"></a>Обязательные поля

Поле | Описание 
------|------------
Исходный шаблон | Определите исходный шаблон в URL-пути для замены. В настоящее время исходный шаблон использует сопоставление на основе префикса. Чтобы сопоставить все URL-пути, используйте косую черту ( **/** ) в качестве исходного значения шаблона.
Назначение | Определите целевой путь, который будет использоваться в перезаписи. Целевой путь перезаписывает исходный шаблон.
Сохранить непарный путь | Если задано значение **Да**, оставшийся путь после исходного шаблона добавляется к новому целевому пути. 

## <a name="next-steps"></a>Следующие шаги

- [Общие сведения о сети доставки содержимого Azure](cdn-overview.md)
- [Справочник по обработчику стандартных правил](cdn-standard-rules-engine-reference.md)
- [Условия соответствия в обработчике стандартных правил](cdn-standard-rules-engine-match-conditions.md)
- [Принудительное применение протокола HTTPS с помощью стандартного обработчика правил](cdn-standard-rules-engine.md)
