---
title: Развертывание предварительной версии базы данных SQL с помощью портал Azure | Документация Майкрософт
description: Узнайте, как развернуть пограничные базы данных SQL Azure с помощью портал Azure
keywords: Развертывание границы базы данных SQL
services: sql-database-edge
ms.service: sql-database-edge
ms.topic: conceptual
author: SQLSourabh
ms.author: sourabha
ms.reviewer: sstein
ms.date: 11/04/2019
ms.openlocfilehash: 9da922de38d820864b3f83de80fe64eb3ac792e4
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "80246727"
---
# <a name="deploy-azure-sql-database-edge-preview"></a>Развертывание предварительной версии базы данных SQL Azure

Предварительная версия базы данных SQL Azure — это ядро реляционной базы данных, оптимизированное для развертывания IoT и Azure IoT Edge. Она предоставляет возможности для создания высокопроизводительного хранилища данных и уровня обработки для приложений и решений Интернета вещей. В этом кратком руководстве показано, как приступить к созданию модуля "база данных SQL Azure" с помощью Azure IoT Edge с помощью портал Azure.

## <a name="before-you-begin"></a>Перед началом

* Если у вас еще нет подписки Azure, создайте [бесплатную учетную запись Azure](https://azure.microsoft.com/free/).
* Войдите на [портал Azure](https://portal.azure.com/).
* Отправьте запрос [сюда](https://azure.microsoft.com/services/sql-database-edge/#contact), чтобы подписка была включена для развертывания пограничной базы данных SQL.
* Создайте [центр Интернета вещей Azure](../iot-hub/iot-hub-create-through-portal.md).
* Зарегистрируйте [устройство IOT Edge из портал Azure](../iot-edge/how-to-register-device-portal.md).
* Подготовьте устройство IoT Edge для [развертывания модуля IOT Edge из портал Azure](../iot-edge/how-to-deploy-modules-portal.md).

> [!NOTE]
> Сведения о развертывании виртуальной машины Linux в Azure в качестве устройства IoT Edge см. в этом [кратком руководстве](../iot-edge/quickstart-linux.md).

## <a name="deploy-sql-database-edge-module-from-azure-marketplace"></a>Развертывание модуля пограничной базы данных SQL из Azure Marketplace

Azure Marketplace — это интернет-магазин приложений и служб, где вы можете просматривать разнообразные корпоративные приложения и решения, сертифицированные и оптимизированные для работы в Azure, включая [модули IoT Edge](https://azuremarketplace.microsoft.com/marketplace/apps/category/internet-of-things?page=1&subcategories=iot-edge-modules). На пограничном устройстве в Marketplace можно развернуть базу данных SQL Azure.

1. Найдите модуль "база данных SQL Azure" в Azure Marketplace.<br><br>

   ![Ребро базы данных SQL в MarketPlace](media/deploy-portal/find-offer-marketplace.png)

2. Выберите план программного обеспечения, который наилучшим образом соответствует вашим требованиям, и нажмите кнопку **создать**. <br><br>

   ![Выберите правильный план программного обеспечения](media/deploy-portal/pick-correct-plan.png)

3. На странице целевые устройства для IoT Edge модуля укажите следующие сведения, а затем нажмите кнопку **создать** .

   |**Поле**  |**Описание**  |
   |---------|---------|
   |Подписка  |  Подписка Azure, в которой был создан центр Интернета вещей |
   |Центр Интернета вещей   |  Имя центра Интернета вещей, в котором зарегистрировано устройство IoT Edge, а затем выберите параметр "развернуть на устройстве".|
   |Имя устройства IoT Edge  |  Имя устройства IoT Edge, где будет развернута граница базы данных SQL |

4. На странице **Установка модулей** перейдите к разделу модули развертывания и щелкните **настроить** для модуля SQL Database ребра. 

5. На панели **IOT Edge пользовательские модули** укажите нужные значения для переменных среды и/или настройте параметры создания и требуемые свойства для модуля. Полный список поддерживаемых переменных среды см. [SQL Server переменных среды контейнера](/sql/linux/sql-server-linux-configure-environment-variables/).

   |**Параметр**  |**Описание**|
   |---------|---------|
   | Имя | Имя модуля. |
   |SA_PASSWORD  | Укажите надежный пароль для учетной записи администратора базы данных SQL. |
   |MSSQL_LCID   | Задайте идентификатор языка для SQL Server. Например, 1036 — французский. |
   |MSSQL_COLLATION | Задает параметры сортировки по умолчанию для SQL Server. Этот параметр переопределяет сопоставление по умолчанию для идентификатора языка (LCID) с параметрами сортировки. |

   > [!NOTE]
   > Не изменяйте или не обновляйте **URI образа** или параметры **ACCEPT_EULA** в модуле.

6. В области **пользовательские модули IOT Edge** измените необходимые значения параметров создать контейнер для **порта узла**. Если необходимо развернуть несколько модулей SQL DB, обновите параметр Mounts, чтобы создать новую пару исходных & для постоянного тома. Дополнительные сведения о подключениях и томах см. в разделе [использование томов](https://docs.docker.com/storage/volumes/) в документации по DOCKER. 

   ```json
       {
         "HostConfig": {
           "Binds": [
             "sqlvolume:/sqlvolume"
           ],
           "PortBindings": {
             "1433/tcp": [
               {
                 "HostPort": "1433"
               }
             ]
           },
           "Mounts": [
             {
               "Type": "volume",
               "Source": "sqlvolume",
               "Target": "/var/opt/mssql"
             }
           ]
         },
         "Env": [
           "MSSQL_AGENT_ENABLED=TRUE",
           "MSSQL_PID=Developer"
         ]
       }
   ```

7. В области **IOT Edge пользовательские модули** обновите *требуемые свойства модуля Set двойника* , чтобы включить расположение пакета SQL и сведения о задании Stream Analytics. Эти два поля являются необязательными, и их следует использовать, если требуется развернуть модуль Microsoft Database ребра с базой данных и заданием потоковой передачи.

   ```json
       {
         "properties.desired":
         {
           "SqlPackage": "<Optional_DACPAC_ZIP_SAS_URL>",
           "ASAJobInfo": "<Optional_ASA_Job_ZIP_SAS_URL>"
         }
       }
   ```

8. На панели **IOT Edge пользовательские модули** установите для *параметра Политика перезапуска* значение всегда и *желательное состояние* значение работает.
9. На панели **IOT Edge пользовательские модули** нажмите кнопку **сохранить**.
10. На странице **Установка модулей** нажмите кнопку **Далее**.
11. На странице **Определение модулей (необязательно)** укажите **Set Modules** маршруты для модуля в модуль или модуль, чтобы IOT Edge подключения к концентратору, см. раздел [Развертывание модулей и определение маршрутов в IOT Edge](../iot-edge/module-composition.md).
12. Щелкните **Далее**.
13. Щелкните **Отправить**.

В этом кратком руководстве вы развернули модуль ребра базы данных SQL на устройстве IoT Edge.

## <a name="next-steps"></a>Дальнейшие шаги

- [Машинное обучение и искусственный интеллект с помощью ONNX в пограничных базах данных SQL](onnx-overview.md).
- Создание комплексного решения Интернета вещей с использованием пограничной базы данных SQL с помощью IoT Edge.
