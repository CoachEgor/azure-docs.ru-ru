---
title: Получение данных датчика от партнеров
description: Описание получения данных датчика от партнеров
author: uhabiba04
ms.topic: article
ms.date: 11/04/2019
ms.author: v-umha
ms.openlocfilehash: 424df8ac7145129dd70a9a5791648730189b528b
ms.sourcegitcommit: cf36df8406d94c7b7b78a3aabc8c0b163226e1bc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2019
ms.locfileid: "73889671"
---
# <a name="get-sensor-data-from-sensor-partners"></a>Получение данных датчика от партнеров датчиков

Azure Фармбеатс позволяет передавать потоковые данные с устройств и датчиков Интернета вещей в концентратор данных. В настоящее время поддерживаются следующие партнеры датчика устройств:

  ![Перебивает ферму проекта](./media/get-sensor-data-from-sensor-partner/partner-information-1.png)

Интеграция данных устройства с Azure Фармбеатс помогает получать данные о заземлении от датчиков Интернета вещей, развернутых в ферме, в концентратор данных. Данные, когда они доступны, можно просмотреть с помощью ускорителя Фармбеатс и использовать для создания данных, а также для формирования модели AI/ML с помощью Фармбеатс.

Чтобы запустить потоковую передачу данных датчика, убедитесь в следующем:

-  Вы установили Фармбеатс из Azure Marketplace.
-  Вы решили установить датчики и устройства на ферме.
-  Если вы планируете использовать датчики почвы влажность, вы можете использовать карту расположения датчиков Фармбеатс почвы влажность, чтобы получить рекомендацию по числу датчиков и точно в местах, где должны располагаться датчики. Дополнительные сведения см. в разделе [Создание карт](generate-maps.md).

- Приобретение и развертывание устройств и датчиков от вашего партнера по устройствам в ферме. Убедитесь, что вы можете получить доступ к данным датчика с помощью решения "Партнеры устройства".

### <a name="enable-device-integration-with-farmbeats"></a>Включение интеграции устройств с Фармбеатс   

После начала потоковой передачи данных датчиков можно начать процесс получения данных в систему Фармбеатс. Чтобы обеспечить интеграцию с Фармбеатс, необходимо предоставить поставщику устройства следующие сведения:  

 - Конечная точка API  
 - Tenant ID  
 - идентификатор клиента  
 - Секрет клиента  
 - Строка подключения EventHub

Приведенные выше сведения предоставляются системным интегратором. Чтобы устранить проблемы при включении интеграции устройств, обратитесь к системному интегратору.

Кроме того, можно создать учетные данные, запустив этот скрипт из Azure Cloud Shell. Сделайте следующее:

1. Скачайте [ZIP-файл](https://aka.ms/farmbeatspartnerscript) и извлеките его на локальный диск. В ZIP-файле будут найдены два файла.
2. Войдите в https://portal.azure.com/ и откройте Cloud Shell (этот параметр доступен в верхней правой панели портала).  

    ![Перебивает ферму проекта](./media/get-drone-imagery-from-drone-partner/navigation-bar-1.png)

3. Убедитесь, что для окружения задано значение **PowerShell** . по умолчанию установлено значение bash.

    ![Перебивает ферму проекта](./media/get-sensor-data-from-sensor-partner/power-shell-new-1.png)

4. Передайте два файла (из шага 1 выше) в Cloud Shell.

    ![Перебивает ферму проекта](./media/get-sensor-data-from-sensor-partner/power-shell-two-1.png)

5. Перейдите к каталогу, куда были переданы файлы (по умолчанию они передаются в корневой каталог > имя пользователя).
6. Выполните следующий скрипт:

    ```azurepowershell-interactive 

    ./generateCredentials.ps1   

    ```
7. Следуйте инструкциям на экране, чтобы записать значения. (Конечная точка API, ИД клиента, идентификатор клиента, секрет клиента и строка подключения EventHub).

**Интеграция данных устройства с использованием созданных учетных данных**

Посетите портал партнера для устройств, чтобы связать Фармбеатс с помощью набора учетных данных, созданных в предыдущем разделе.

 - Конечная точка API  
 - Строка подключения EventHub  
 - идентификатор клиента  
 - Секрет клиента  
 - Tenant ID  

 Поставщик устройства подтверждает успешность интеграции. После подтверждения можно просмотреть все устройства и датчики в Azure Фармбеатс.

## <a name="view-devices-and-sensors"></a>Просмотр устройств и датчиков

Используйте следующий раздел для просмотра устройств и датчиков в ферме.

### <a name="view-devices"></a>Просмотр устройств

В настоящее время Фармбеатс поддерживает следующие устройства:

- **Node**— устройство, к которому подключен один или несколько датчиков.
- **Шлюз**: устройство, к которому подключен один или несколько датчиков.

Выполните следующие действия.

1. На домашней странице в меню выберите пункт **устройства** .
  На странице устройства отображается тип устройства, модель, состояние, ферма, в которой он размещен, и Дата последнего обновления метаданных. По умолчанию для столбца фермы задано значение NULL. Вы можете назначить устройство для фермы. Дополнительные сведения см. в разделе [Назначение устройств](#assign-devices).
2. Выберите устройство, чтобы просмотреть свойства устройства, данные телеметрии и дочерние устройства, подключенные к устройству.  

    ![Перебивает ферму проекта](./media/get-sensor-data-from-sensor-partner/view-devices-1.png)

### <a name="view-sensors"></a>Просмотр датчиков

Выполните следующие действия.

1. На домашней странице в меню выберите **датчики** .
  На странице датчиков отображаются сведения о типе датчика, ферме, к которой он подключен, родительскому устройству, имени порта, типе порта и последнем обновленном состоянии.
2. Выберите датчик, чтобы просмотреть свойства датчика, активные предупреждения и данные телеметрии из датчика.

    ![Перебивает ферму проекта](./media/get-sensor-data-from-sensor-partner/view-sensors-1.png)

## <a name="assign-devices"></a>Назначение устройств  

Получив данные датчика, вы можете назначить их ферме, в которой развернуты датчики.

1. На домашней странице в меню выберите пункт **фермы** , откроется страница список **ферм** .  
2. Выберите ферму, для которой необходимо назначить устройство, и щелкните **Добавить устройства**.  
3. Откроется окно **Add Devices (Добавление устройств** ). Выберите устройство, которое нужно назначить ферме.

    ![Перебивает ферму проекта](./media/get-sensor-data-from-sensor-partner/add-devices-1.png)

4. Выберите **Добавить устройства**. Кроме того, перейдите в меню **устройства** , выберите устройства, которые нужно назначить ферме, и щелкните **связать устройства**.  
5. В окне **связать устройства** выберите Ферма из раскрывающегося списка и нажмите кнопку **Применить ко всем** , чтобы связать ферму со всеми выбранными устройствами.

    ![Перебивает ферму проекта](./media/get-sensor-data-from-sensor-partner/associate-devices-1.png)

6. Чтобы связать каждое устройство с другой фермой, выберите раскрывающийся список в столбце **назначить ферме** и выберите ферму для каждой строки устройства.  
7. Выберите **назначить** , чтобы завершить назначение устройства.

### <a name="visualize-sensor-data"></a>Визуализация данных датчика

Выполните следующие действия.

1. На домашней странице в меню выберите пункт **фермы** , чтобы открыть страницу **фермы** .  
2. Выберите **ферму** , для которой необходимо просмотреть данные датчика.  
3. На панели мониторинга **фермы** можно просмотреть данные телеметрии. Вы можете просмотреть динамическую телеметрию или использовать **Настраиваемый диапазон** для просмотра в определенном диапазоне дат.

    ![Перебивает ферму проекта](./media/get-sensor-data-from-sensor-partner/telemetry-data-1.png)

## <a name="delete-sensor"></a>Удалить датчик

Выполните следующие действия:

1. На домашней странице в меню выберите **датчики** , чтобы открыть страницу **датчиков** .  
2. Выберите устройство, которое нужно удалить, и в окне подтверждения выберите пункт **Удалить** .

    ![Перебивает ферму проекта](./media/get-sensor-data-from-sensor-partner/delete-sensors-1.png)

Появится сообщение с подтверждением об успешном удалении датчика.  

## <a name="delete-devices"></a>удаление устройств;

Выполните следующие действия:

1. На домашней странице в меню выберите пункт **устройства** , чтобы открыть страницу устройства.  
2. Выберите устройство, которое нужно удалить, и в окне подтверждения выберите **Удалить** .

    ![Перебивает ферму проекта](./media/get-sensor-data-from-sensor-partner/delete-device-1.png)

## <a name="next-steps"></a>Дополнительная информация

Теперь данные датчиков передаются в экземпляр Azure Фармбеатс. Теперь Узнайте, как [создавать карты](generate-maps.md#generate-maps) для ферм.
