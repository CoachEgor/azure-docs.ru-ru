---
title: 'Пример. Схема "SQL ISO 27001: рабочая нагрузка Среды службы приложений или Базы данных SQL". Сопоставление элементов управления'
description: 'Сопоставление элементов управления примера схемы "SQL ISO 27001: рабочая нагрузка Среды службы приложений или Базы данных SQL" с Политикой Azure или RBAC.'
author: DCtheGeek
ms.author: dacoulte
ms.date: 03/14/2019
ms.topic: sample
ms.service: blueprints
manager: carmonm
ms.openlocfilehash: b200be22d46ba0c84969367181a8ac85d1a20add
ms.sourcegitcommit: 083aa7cc8fc958fc75365462aed542f1b5409623
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2019
ms.locfileid: "70918661"
---
# <a name="control-mapping-of-the-iso-27001-asesql-workload-blueprint-sample"></a>Сопоставление элементов управления примера схемы "SQL ISO 27001: рабочая нагрузка Среды службы приложений или Базы данных SQL"

В статье подробно описано, как пример схемы Azure Blueprints "SQL ISO 27001: рабочая нагрузка Среды службы приложений или Базы данных SQL" сопоставляется с элементами управления ISO 27001. См. подробнее об [элементах управления ISO 27001](https://www.iso.org/isoiec-27001-information-security.html).

Далее представлены сопоставления для элементов управления **ISO 27001:2013**. Используйте панель навигации справа для перехода непосредственно к сопоставлению конкретных элементов управления. Многие сопоставленные элементы управления реализуются с помощью инициативы [Политика Azure](../../../policy/overview.md). Чтобы просмотреть полную инициативу, откройте раздел **Политика** на портале Azure и перейдите на страницу **Определения**. Затем найдите и выберите встроенную инициативу политики **\[Предварительная версия.\] Аудит элементов управления ISO 27001:2013 и развертывание определенных расширений виртуальной машины для обеспечения требований аудита**.

> [!IMPORTANT]
> Каждый элемент управления ниже связан с одним или несколькими определениями [Политики Azure](../../../policy/overview.md). Такие политики помогут вам в [оценке соответствия](../../../policy/how-to/get-compliance-data.md) с помощью элементов управления, но часто полное или точное соответствие между элементом управления и одной или несколькими политиками отсутствует. Поэтому состояние **Соответствует** в Политике Azure применимо только к самим политикам и не означает полное соответствие всем требованиям элемента управления. Кроме того, стандарт соответствия включает элементы управления, которые в настоящее время не учитываются какими-либо определениями Политики Azure. То есть сведения о соответствии в Политике Azure дают только частичную картину общего состояния соответствия. Связи между элементами управления и определениями Политики Azure для этого примера схемы соответствия могут измениться в будущем. Историю изменений можно просмотреть на странице [журнала фиксаций в GitHub](https://github.com/MicrosoftDocs/azure-docs/commits/master/articles/governance/blueprints/samples/iso27001-ase-sql-workload/control-mapping.md).

## <a name="a612-segregation-of-duties"></a>A.6.1.2. Разделение обязанностей

Наличие только одного владельца подписки Azure не позволит организовать административную избыточность. И наоборот, слишком большое число владельцев подписки Azure может увеличить вероятность бреши в системе безопасности через скомпрометированную учетную запись владельца. Эта схема помогает сохранить требуемое число владельцев подписки Azure, назначая два определения [Политики Azure](../../../policy/overview.md) для аудита числа владельцев для подписок Azure. Управление разрешениями владельца подписки помогает реализовать соответствующее разделение обязанностей.

- \[Предварительная версия.\] Аудит минимального числа владельцев подписки
- \[Предварительная версия.\] Аудит максимального числа владельцев подписки

## <a name="a821-classification-of-information"></a>A.8.2.1. Сведения о классификации данных

[Служба оценки уязвимости SQL](https://docs.microsoft.com/azure/sql-database/sql-vulnerability-assessment) Azure помогает обнаруживать конфиденциальные данные в базах данных пользователя и дает рекомендации по классификации этих данных. В этой схеме назначается определение [Политики Azure](../../../policy/overview.md) для аудита на предмет того, устранены ли уязвимости, обнаруженные в ходе проверки в службе оценки уязвимостей SQL.

- \[Предварительная версия.\] Мониторинг результатов оценки уязвимостей SQL в Центре безопасности Azure

## <a name="a912-access-to-networks-and-network-services"></a>A.9.1.2. Доступ к сетям и сетевым службам

Azure реализует [управление доступом на основе ролей](../../../../role-based-access-control/overview.md) (RBAC) для управления пользователями, которые обращаются к ресурсам Azure. Эта схема помогает управлять доступом к ресурсам Azure, назначая семь определений [Политики Azure](../../../policy/overview.md) для аудита использования типов и конфигураций ресурсов, которые предоставляют повышенные права доступа к ресурсам.
Определение ресурсов, которые нарушают эти политики, помогает применить корректирующие действия и ограничить круг доступа к ресурсам Azure только авторизованными пользователями.

- \[Предварительная версия.\] Развертывание расширения виртуальной машины Linux для аудита учетных записей без паролей
- \[Предварительная версия.\] Развертывание расширения виртуальной машины Linux для аудита с разрешенными удаленными подключениями от учетных записей без паролей
- \[Предварительная версия.\] Аудит учетных записей Linux без паролей
- \[Предварительная версия.\] Аудит виртуальной машины Linux с разрешенными удаленными подключениями от учетных записей без паролей
- Аудит использования классических учетных записей хранения
- Аудит использования классических виртуальных машин
- Аудит виртуальных машин, которые не используют управляемые диски

## <a name="a923-management-of-privileged-access-rights"></a>A.9.2.3. Управление привилегированными правами доступа

Эта схема помогает ограничивать и контролировать привилегированные права доступа, назначая четыре определения [Политики Azure](../../../policy/overview.md) для аудита внешних учетных записей с правами владельца и (или) записи, которые не используют многофакторную проверку подлинности. В Azure реализовано управление доступом на основе ролей (RBAC) для управления пользователями, которые обращаются к ресурсам Azure. В этой схеме назначаются три определения Политики Azure для аудита использования аутентификации Azure Active Directory для SQL Server и Service Fabric. Использование проверки подлинности Azure Active Directory упрощает контроль разрешений и обеспечивает централизованное управление удостоверениями для пользователей баз данных и других служб Майкрософт. Эта схема также назначает определение Политики Azure для аудита использования настраиваемых правил RBAC. Определение областей применения настраиваемых правил RBAC поможет вам убедиться в их необходимости и правильной реализации, так как в настраиваемых правилах RBAC легко ошибиться.

- \[Предварительная версия.\] Аудит учетных записей с разрешениями владельца, для которых не включена в подписке многофакторная проверка подлинности
- \[Предварительная версия.\] Аудит учетных записей с разрешениями на запись, для которых не включена в подписке многофакторная проверка подлинности
- \[Предварительная версия.\] Аудит внешних учетных записей с разрешениями владельца для подписки
- \[Предварительная версия.\] Аудит внешних учетных записей с разрешениями на запись для подписки
- Аудит подготовки администратора Azure Active Directory для SQL Server
- Аудит использования Azure Active Directory для проверки подлинности клиента в Service Fabric
- Аудит использования настраиваемых правил RBAC

## <a name="a924-management-of-secret-authentication-information-of-users"></a>A.9.2.4. Управление секретной информацией для проверки подлинности пользователей

Эта схема назначает три определения [Политики Azure](../../../policy/overview.md) для аудита учетных записей без включенной многофакторной проверки подлинности. Многофакторная проверка подлинности помогает защитить учетные записи даже в случае компрометации одной части сведений о проверке подлинности. Наблюдая за учетными записями без включенной многофакторной проверки подлинности, вы можете определить учетные записи, которые с большей вероятностью могли быть скомпрометированы. Эта схема также назначает два определения Политики Azure для аудита разрешений в файле паролей виртуальной машины Linux и создания оповещений при их неправильной настройке. Этот механизм позволяет предпринять корректирующее действие, чтобы избежать компрометации средств проверки подлинности.

- \[Предварительная версия.\] Аудит учетных записей с разрешениями владельца, для которых не включена в подписке многофакторная проверка подлинности
- \[Предварительная версия.\] Аудит учетных записей с разрешениями на чтение, у которых не включена в подписке многофакторная проверка подлинности
- \[Предварительная версия.\] Аудит учетных записей с разрешениями на запись, для которых не включена в подписке многофакторная проверка подлинности
- \[Предварительная версия.\] Развертывание расширения виртуальной машины Linux для аудита разрешений файла passwd
- \[Предварительная версия.\] Аудит виртуальной машины Linux — для разрешений файла /etc/passwd задано значение "0644"

## <a name="a925-review-of-user-access-rights"></a>A.9.2.5. Общие сведения о правах доступа пользователя

В Azure реализовано [управление доступом на основе ролей](../../../../role-based-access-control/overview.md) (RBAC). Оно упрощает управление пользователями, которые обращаются к ресурсам Azure. С помощью портала Azure вы можете просмотреть, у кого есть доступ к ресурсам Azure и какие им назначены разрешения. Эта схема назначает четыре определения [Политики Azure](../../../policy/overview.md) для аудита учетных записей, которые нужно проверять в первую очередь, например устаревшие учетные записи и внешние учетные записи с повышенными разрешениями.

- \[Предварительная версия.\] Аудит устаревших учетных записей в подписке
- \[Предварительная версия.\] Аудит устаревших учетных записей с разрешениями владельца в подписке
- \[Предварительная версия.\] Аудит внешних учетных записей с разрешениями владельца для подписки
- \[Предварительная версия.\] Аудит внешних учетных записей с разрешениями на запись для подписки

## <a name="a926-removal-or-adjustment-of-access-rights"></a>A.9.2.6. Удаление или корректировка прав доступа

В Azure реализовано [управление доступом на основе ролей](../../../../role-based-access-control/overview.md) (RBAC). Оно упрощает управление пользователями, которые обращаются к ресурсам Azure. С помощью [Azure Active Directory](../../../../active-directory/fundamentals/active-directory-whatis.md) и RBAC вы можете обновить роли пользователей в соответствии с изменениями в организации. При необходимости можно запретить вход для учетных записей (или удалить их), что немедленно отменит все права доступа к ресурсам Azure. Эта схема назначает два определения [Политики Azure](../../../policy/overview.md) для аудита устаревших учетных записей, которые, возможно, требуется удалить.

- \[Предварительная версия.\] Аудит устаревших учетных записей в подписке
- \[Предварительная версия.\] Аудит устаревших учетных записей с разрешениями владельца в подписке

## <a name="a942-secure-log-on-procedures"></a>A.9.4.2. Безопасные процедуры входа в систему

В этой схеме назначаются три определения Политики Azure для аудита учетных записей, у которых не включена многофакторная проверка подлинности. Многофакторная идентификация Microsoft Azure обеспечивает лучшую защиту за счет дополнительного способа аутентификации. Наблюдая за учетными записями без включенной многофакторной проверки подлинности, вы можете определить учетные записи, которые с большей вероятностью могли быть скомпрометированы.

- \[Предварительная версия.\] Аудит учетных записей с разрешениями владельца, для которых не включена в подписке многофакторная проверка подлинности
- \[Предварительная версия.\] Аудит учетных записей с разрешениями на чтение, у которых не включена в подписке многофакторная проверка подлинности
- \[Предварительная версия.\] Аудит учетных записей с разрешениями на запись, для которых не включена в подписке многофакторная проверка подлинности

## <a name="a943-password-management-system"></a>A.9.4.3. Система управления паролями

Эта схема помогает принудительно требовать надежные пароли, назначая 10 определений [Политики Azure](../../../policy/overview.md) для аудита виртуальных машин Windows, в которых не применяется минимальная надежность и другие требования к паролю. Определение виртуальных машин, которые нарушают политику надежности паролей, помогает выполнить корректирующие действия и обеспечить соблюдение требований политики для паролей всех учетных записей пользователей на виртуальных машинах.

- \[Предварительная версия.\] Развертывание расширения виртуальной машины Windows для аудита с принудительным применением требований к сложности пароля
- \[Предварительная версия.\] Развертывание расширения виртуальной машины Windows для аудита с максимальным сроком действия пароля 70 дней
- \[Предварительная версия.\] Развертывание расширения виртуальной машины Windows для аудита с минимальным сроком действия пароля 1 день
- \[Предварительная версия.\] Развертывание расширения виртуальной машины Windows для аудита с паролями длиной не менее 14 символов
- \[Предварительная версия.\] Развертывание расширения виртуальной машины Windows для аудита с запретом использовать предыдущие 24 пароля
- \[Предварительная версия.\] Аудит виртуальной машины Windows с принудительным применением требований к сложности пароля
- \[Предварительная версия.\] Аудит виртуальной машины Windows с максимальным сроком действия пароля 70 дней
- \[Предварительная версия.\] Аудит виртуальной машины Windows с минимальным сроком действия пароля 1 день
- \[Предварительная версия.\] Аудит виртуальной машины Windows с паролями длиной не менее 14 символов
- \[Предварительная версия.\] Аудит виртуальной машины Windows с запретом использовать предыдущие 24 пароля

## <a name="a1011-policy-on-the-use-of-cryptographic-controls"></a>A.10.1.1. Политика использования элементов управления шифрованием

Эта схема помогает принудительно применить политику по использованию элементов управления шифрованием, назначая 13 определений [Политики Azure](../../../policy/overview.md) для принудительного применения определенных элементов управления шифрованием и аудита использования слабых параметров шифрования.
Определение областей, в которых ресурсы Azure могут иметь неоптимальные криптографические конфигурации, поможет вам выполнить корректирующие действия, чтобы убедиться, что ресурсы настроены в соответствии с вашей информационной политикой безопасности. В частности, присвоенные в рамках этой схемы политики отвечают за следующее: требуют шифрование для учетных записей хранилища больших двоичных объектов и учетных записей хранения озера данных; требуют прозрачное шифрование данных для баз данных SQL; ведут аудит отсутствия шифрования для учетных записей хранения, баз данных SQL, дисков виртуальной машины и переменных учетной записи службы автоматизации; ведут аудит небезопасных подключений для учетных записей хранения, приложений-функций, веб-приложений, Приложений API и Кэша Redis; ведут аудит слабого шифрования для паролей виртуальной машины; ведут аудит незашифрованного обмена данными с Service Fabric.

- \[Предварительная версия.\] Аудит доступа только по HTTPS в приложении-функции
- \[Предварительная версия.\] Аудит доступа только по HTTPS в веб-приложении
- \[Предварительная версия.\] Аудит доступа только по HTTPS в приложении API
- \[Предварительная версия.\] Аудит отсутствия шифрования больших двоичных объектов для учетных записей хранения
- \[Предварительная версия.\] Развертывание расширения виртуальной машины Windows для аудита без хранения паролей с обратимым шифрованием
- \[Предварительная версия.\] Аудит виртуальной машины Windows без хранения паролей с обратимым шифрованием
- \[Предварительная версия.\] Мониторинг незашифрованных дисков виртуальных машин в Центре безопасности Azure
- Аудит активации шифрования переменных в учетной записи службы автоматизации
- Аудит включения только безопасных подключений к Кэшу Redis
- Аудит безопасного перемещения в учетные записи хранения
- Аудит задания свойству ClusterProtectionLevel значения EncryptAndSign в Service Fabric
- Проверка состояния прозрачного шифрования данных
- Прозрачное шифрование данных должно быть включено в базах данных SQL.

## <a name="a1241-event-logging"></a>A.12.4.1. Ведение журнала событий

Эта схема помогает обеспечить ведение журналов событий системы, назначая семь определений [Политики Azure](../../../policy/overview.md) для аудита параметров журналов для ресурсов Azure.
Журналы диагностики позволяют подробно проанализировать операции, выполненные с ресурсами Azure.

- \[Предварительная версия.\] Аудит развертывания агента зависимостей — образ виртуальной машины (ОС) отсутствует в списке
- \[Предварительная версия.\] Аудит развертывания агента зависимостей в VMSS — образ виртуальной машины (ОС) отсутствует в списке
- \[Предварительная версия.\] Аудит развертывания агента анализа журналов — образ виртуальной машины (ОС) отсутствует в списке
- \[Предварительная версия.\] Аудит развертывания агента анализа журналов в VMSS — образ виртуальной машины (ОС) отсутствует в списке
- Аудит параметров диагностики
- Аудит параметров аудита на уровне сервера SQL
- Аудит должен быть включен в настройках расширенной защиты данных на SQL Server.

## <a name="a1243-administrator-and-operator-logs"></a>A.12.4.3. Журналы администратора и оператора

Эта схема помогает обеспечить ведение журнала событий системы, назначая семь определений Политики Azure для аудита параметров журналов для ресурсов Azure. Журналы диагностики позволяют подробно проанализировать операции, выполненные с ресурсами Azure.

- \[Предварительная версия.\] Аудит развертывания агента зависимостей — образ виртуальной машины (ОС) отсутствует в списке
- \[Предварительная версия.\] Аудит развертывания агента зависимостей в VMSS — образ виртуальной машины (ОС) отсутствует в списке
- \[Предварительная версия.\] Аудит развертывания агента анализа журналов — образ виртуальной машины (ОС) отсутствует в списке
- \[Предварительная версия.\] Аудит развертывания агента анализа журналов в VMSS — образ виртуальной машины (ОС) отсутствует в списке
- Аудит параметров диагностики
- Аудит параметров аудита на уровне сервера SQL
- Аудит должен быть включен в настройках расширенной защиты данных на SQL Server.

## <a name="a1244-clock-synchronization"></a>A.12.4.4. Синхронизация часов

Эта схема помогает обеспечить ведение журнала событий системы, назначая семь определений Политики Azure для аудита параметров журналов для ресурсов Azure. Журналы Azure используют синхронизированные внутренние часы для создания записей о событиях с ресурсами с метками времени.

- \[Предварительная версия.\] Аудит развертывания агента зависимостей — образ виртуальной машины (ОС) отсутствует в списке
- \[Предварительная версия.\] Аудит развертывания агента зависимостей в VMSS — образ виртуальной машины (ОС) отсутствует в списке
- \[Предварительная версия.\] Аудит развертывания агента анализа журналов — образ виртуальной машины (ОС) отсутствует в списке
- \[Предварительная версия.\] Аудит развертывания агента анализа журналов в VMSS — образ виртуальной машины (ОС) отсутствует в списке
- Аудит параметров диагностики
- Аудит параметров аудита на уровне сервера SQL
- Аудит должен быть включен в настройках расширенной защиты данных на SQL Server.

## <a name="a1251-installation-of-software-on-operational-systems"></a>A.12.5.1. Установка программного обеспечения в операционных системах

Адаптивное управление приложениями — решение из Центра безопасности Azure, которое помогает управлять приложениями, запускаемыми на виртуальных машинах в Azure. Эта схема назначает определение Политики Azure для мониторинга изменений в наборе разрешенных приложений. Эта возможность позволяет управлять установкой программного обеспечения и приложений на виртуальных машинах Azure.

- \[Предварительная версия.\] Мониторинг возможных списков разрешенных приложений в Центре безопасности Azure

## <a name="a1261-management-of-technical-vulnerabilities"></a>A.12.6.1. Управление техническими уязвимостями

Эта схема помогает управлять уязвимостями информационной системы, назначая пять определений [Политики Azure](../../../policy/overview.md) для мониторинга в Центре безопасности Azure отсутствующих обновлений системы, уязвимостей операционной системы, уязвимостей SQL и уязвимостей виртуальной машины. Центр безопасности Azure предоставляет возможности подготовки отчетов, которые позволяют получать полезные сведения в реальном времени о состоянии безопасности развернутых ресурсов Azure.

- \[Предварительная версия.\] Мониторинг отсутствия Endpoint Protection в Центре безопасности Azure
- \[Предварительная версия.\] Мониторинг отсутствия обновлений системы в Центре безопасности Azure
- \[Предварительная версия.\] Мониторинг уязвимостей ОС в Центре безопасности Azure
- \[Предварительная версия.\] Мониторинг результатов оценки уязвимостей SQL в Центре безопасности Azure
- \[Предварительная версия.\] Мониторинг уязвимостей виртуальных машин в Центре безопасности Azure

## <a name="a1262-restrictions-on-software-installation"></a>A.12.6.2. Ограничения на установку программного обеспечения

Адаптивное управление приложениями — решение из Центра безопасности Azure, которое помогает управлять приложениями, запускаемыми на виртуальных машинах в Azure. Эта схема назначает определение Политики Azure для мониторинга изменений в наборе разрешенных приложений. Ограничения на установку программного обеспечения помогают снизить вероятность возникновения уязвимостей в программном обеспечении.

- \[Предварительная версия.\] Мониторинг возможных списков разрешенных приложений в Центре безопасности Azure

## <a name="a1311-network-controls"></a>A.13.1.1. Элементы управления сетью

Эта схема упрощает управление сетями, назначая определение [Политики Azure](../../../policy/overview.md) для мониторинга групп безопасности сети с разрешительными правилами. Использование недостаточно строгих правил может привести к несанкционированному доступу по сети. Такие правила следует пересмотреть. В этой схеме также назначаются три определения Политики Azure для мониторинга незащищенных конечных точек, приложений и учетных записей хранения. Использование конечных точек и приложений, которые не защищены брандмауэром, а также учетных записей хранения с неограниченным доступом может привести к нежелательному доступу к данным, содержащимся в информационной системе.

- \[Предварительная версия.\] Мониторинг нестрогого доступа к сети в Центре безопасности Azure
- \[Предварительная версия.\] Мониторинг незащищенных сетевых конечных точек в Центре безопасности Azure
- \[Предварительная версия.\] Мониторинг незащищенных веб-приложений в Центре безопасности Azure
- Аудит неограниченного сетевого доступа к учетным записям хранения

## <a name="a1321-information-transfer-policies-and-procedures"></a>A.13.2.1. Политики и процедуры передачи информации

Эта схема помогает обеспечить безопасность передачи информации с помощью служб Azure, назначая два определения [Политики Azure](../../../policy/overview.md) для аудита небезопасных подключений к учетным записям хранения и Кэшу Redis.

- Аудит включения только безопасных подключений к Кэшу Redis
- Аудит безопасного перемещения в учетные записи хранения

## <a name="next-steps"></a>Дополнительная информация

Теперь, когда вы ознакомились с сопоставлением элементов управления для примера схемы "ISO 27001: рабочая нагрузка Среды службы приложений или Базы данных SQL", изучите дополнительные сведения об архитектуре и развертывании этого примера из следующих статей:

> [!div class="nextstepaction"]
> [Схема "ISO 27001: рабочая нагрузка Среды службы приложений или Базы данных SQL". Общие сведения](./index.md)
> [Схема "ISO 27001: рабочая нагрузка Среды службы приложений или Базы данных SQL". Инструкции по развертыванию](./deploy.md)

Дополнительные статьи о схемах и способах их использования:

- Ознакомьтесь со сведениями о [жизненном цикле схем](../../concepts/lifecycle.md).
- Узнайте, как использовать [статические и динамические параметры](../../concepts/parameters.md).
- Научитесь настраивать [последовательность схемы](../../concepts/sequencing-order.md).
- Узнайте, как применять [блокировку ресурсов схемы](../../concepts/resource-locking.md).
- Узнайте, как [обновлять существующие назначения](../../how-to/update-existing-assignments.md).