---
title: Элементы управления примера схемы Azure Security Benchmark
description: Сопоставление элементов управления примера схемы Azure Security Benchmark и Политики Azure.
ms.date: 04/16/2020
ms.topic: sample
ms.openlocfilehash: 0f2d24d7d8c9f7ce2568f11b15e65ed1fcd02afb
ms.sourcegitcommit: 31ef5e4d21aa889756fa72b857ca173db727f2c3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2020
ms.locfileid: "81538666"
---
# <a name="control-mapping-of-the-azure-security-benchmark-blueprint-sample"></a>Сопоставление элементов управления примера схемы Azure Security Benchmark

В следующей статье пример схемы Azure Security Benchmark, представленной в Azure Blueprints, сопоставляется с элементами управления Azure Security Benchmark. См. сведения об элементах управления в руководстве по [Azure Security Benchmark](https://docs.microsoft.com/azure/security/benchmarks/overview).

Далее представлены сопоставления элементов управления **Azure Security Benchmark**. Используйте панель навигации справа для перехода непосредственно к сопоставлению конкретных элементов управления. Сопоставленные элементы управления реализуются с помощью инициативы [Политики Azure](../../../policy/overview.md). Чтобы просмотреть полную инициативу, откройте раздел **Политика** на портале Azure и перейдите на страницу **Определения**. Найдите и выберите функцию **\[Предварительная версия\]: аудит рекомендаций Azure Security Benchmark и развертывание определенных соответствующих расширений виртуальных машин** (встроенная инициатива политики).

> [!IMPORTANT]
> Каждый элемент управления ниже связан с одним или несколькими определениями [Политики Azure](../../../policy/overview.md). Такие политики помогут вам в [оценке соответствия](../../../policy/how-to/get-compliance-data.md) с помощью элементов управления, но часто полное или точное соответствие между элементом управления и одной или несколькими политиками отсутствует. Поэтому состояние **Соответствует** в Политике Azure применимо только к самим политикам и не означает полное соответствие всем требованиям элемента управления. Кроме того, стандарт соответствия может содержать элементы управления, на которые сейчас не распространяются определения Политики Azure. Следовательно, сведения о соответствии в Политике Azure — это только частичное представление общего состояния соответствия. Связи между элементами управления и определениями Политики Azure для этого примера схемы соответствия могут измениться в будущем. Историю изменений можно просмотреть на странице [журнала фиксаций в GitHub](https://github.com/MicrosoftDocs/azure-docs/commits/master/articles/governance/blueprints/samples/azure-security-benchmark/control-mapping.md).

## <a name="11-protect-resources-using-network-security-groups-or-azure-firewall-on-your-virtual-network"></a>1.1. Защита ресурсов в виртуальной сети с помощью групп безопасности сети или Брандмауэра Azure

- Подсети должны быть связаны с группой безопасности сети.
- На виртуальных машинах с выходом в Интернет должны применяться рекомендации Адаптивной защиты сети.
- Виртуальные машины должны быть подключены к утвержденной виртуальной сети.
- Виртуальные машины с выходом в Интернет должны быть защищены с помощью групп безопасности сети.
- Служебная шина должна использовать конечную точку службы виртуальной сети.
- Служба приложений должна использовать конечную точку службы виртуальной сети.
- Служба SQL Server должна использовать конечную точку службы виртуальной сети.
- Концентратор событий должен использовать конечную точку службы виртуальной сети.
- Служба Cosmos DB должна использовать конечную точку службы виртуальной сети.
- Служба Key Vault должна использовать конечную точку службы виртуальной сети.
- Аудит неограниченного сетевого доступа к учетным записям хранения
- Учетная запись хранения должна использовать конечную точку службы виртуальной сети.
- Реестр контейнеров должен использовать конечную точку службы виртуальной сети.
- Виртуальным сетям следует использовать указанный шлюз виртуальной сети.
- В службах Kubernetes нужно определить разрешенные диапазоны IP-адресов.
- \[Предварительная версия.\] На виртуальной машине должна быть отключена IP-переадресация
- Виртуальные машины с выходом в Интернет должны быть защищены с помощью групп безопасности сети.
- Управление JIT-доступом к сети должно применяться к виртуальным машинам.
- Необходимо закрыть порты управления на виртуальных машинах.

## <a name="12-monitor-and-log-the-configuration-and-traffic-of-vnets-subnets-and-nics"></a>1.2. Мониторинг и запись конфигурации и трафика виртуальных сетей, подсетей и сетевых карт

- Необходимо включить Наблюдатель за сетями

## <a name="13-protect-critical-web-applications"></a>1.3. Защита критических веб-приложений

- Параметр "Сертификаты клиента (входящие сертификаты клиента)" для веб-приложения должен иметь значение "Вкл"
- Функция CORS не должна разрешать всем ресурсам доступ к вашим веб-приложениям.
- Функция CORS не должна разрешать всем ресурсам доступ к вашим приложениям-функциям.
- Средства CORS не должны разрешать всем ресурсам доступ к вашему приложению API.
- Удаленная отладка должна быть отключена для веб-приложений.
- Удаленная отладка должна быть отключена для приложений-функций.
- Удаленная отладка должна быть отключена для приложений API.

## <a name="14-deny-communications-with-known-malicious-ip-addresses"></a>1.4. Запрет взаимодействия с известными опасными IP-адресами

- Стандарт Защиты от атак DDoS должен быть включен.
- Управление JIT-доступом к сети должно применяться к виртуальным машинам.
- На виртуальных машинах с выходом в Интернет должны применяться рекомендации Адаптивной защиты сети.

## <a name="15-record-network-packets-and-flow-logs"></a>1.5 Запись сетевых пакетов и журналов потоков

- Необходимо включить Наблюдатель за сетями

## <a name="111-use-automated-tools-to-monitor-network-resource-configurations-and-detect-changes"></a>1.11. Использование автоматизированных средств для мониторинга конфигураций сетевых ресурсов и обнаружения изменений

- Развертывание необходимых компонентов для аудита конфигураций виртуальных машин с Windows в разделе "Параметры безопасности — Доступ к сети"
- Отображение результатов аудита для конфигураций виртуальных машин с Windows в разделе "Параметры безопасности — Клиент для сетей Майкрософт".
- Развертывание необходимых компонентов для аудита конфигураций виртуальных машин Windows в разделе "Параметры безопасности — Сетевая безопасность".
- Отображение результатов аудита для конфигураций виртуальных машин с Windows в разделе "Параметры безопасности — Сетевая безопасность".
- Развертывание необходимых компонентов для аудита конфигураций виртуальных машин с Windows в разделе "Параметры безопасности — Сервер для сетей Майкрософт".
- Отображение результатов аудита для конфигураций виртуальных машин с Windows в разделе "Параметры безопасности — Сервер для сетей Майкрософт".
- Развертывание необходимых компонентов для аудита конфигураций виртуальных машин с Windows в разделе "Административные шаблоны — Сеть".
- Отображение результатов аудита для конфигураций виртуальных машин с Windows в разделе "Административные шаблоны — Сеть".

## <a name="22-configure-central-security-log-management"></a>2.2. Настройка централизованного управления журналами безопасности

- Агент Log Analytics должен быть установлен на виртуальных машинах.
- Агент Log Analytics должен быть установлен в масштабируемом наборе виртуальных машин.
- Развертывание необходимых компонентов для аудита виртуальных машин с Windows, на которых агент Log Analytics не подключен надлежащим образом.
- Отображение результатов аудита для виртуальных машин Windows, на которых агент Log Analytics не подключен надлежащим образом.
- Профиль журнала Azure Monitor должен собирать журналы по категориям "write", "delete" и "action"
- Azure Monitor должен собирать журналы действий из всех регионов.
- В вашей подписке необходимо включить автоматическую подготовку агента мониторинга Log Analytics

## <a name="23-enable-audit-logging-for-azure-resources"></a>2.3. Включение журналов аудита для ресурсов Azure

- В Azure Data Lake Store должны быть включены журналы диагностики.
- Необходимо включить журналы диагностики в Logic Apps
- В Центре Интернета вещей должны быть включены журналы диагностики.
- Необходимо включить журналы диагностики в учетных записях пакетной службы
- В масштабируемых наборах виртуальных машин должны быть включены журналы диагностики.
- Необходимо включить журналы диагностики в концентраторе событий
- Необходимо включить журналы диагностики в службах поиска
- В службах приложений должны быть включены журналы диагностики.
- В Data Lake Analytics должны быть включены журналы диагностики.
- Журналы диагностики в Key Vault должны быть включены
- В Служебной шине должны быть включены журналы диагностики.
- Должны быть включены журналы диагностики в Azure Stream Analytics.
- Необходимо включить аудит на сервере SQL.
- Аудит параметров диагностики

## <a name="24-collect-security-logs-from-operating-systems"></a>2.4. Сбор журналов безопасности из операционных систем

- В вашей подписке необходимо включить автоматическую подготовку агента мониторинга Log Analytics
- Агент Log Analytics должен быть установлен на виртуальных машинах.
- Агент Log Analytics должен быть установлен в масштабируемом наборе виртуальных машин.
- Развертывание необходимых компонентов для аудита виртуальных машин с Windows, на которых агент Log Analytics не подключен надлежащим образом.
- Отображение результатов аудита для виртуальных машин Windows, на которых агент Log Analytics не подключен надлежащим образом.

## <a name="27-enable-alerts-for-anomalous-activity"></a>2.7. Включение оповещений об аномальных действиях

- Нужно выбрать Центр безопасности с ценовой категорией "Стандартный"
- Расширенная защита данных должна быть включена на серверах SQL Server.
- Расширенная защита данных должна быть включена в управляемых экземплярах SQL.
- Для типов "Расширенной защиты от угроз" должно быть задано значение "Все" в настройках "Расширенной защиты данных" сервера SQL
- Для типов "Расширенной защиты от угроз" должно быть задано значение "Все" в настройках "Расширенной защиты данных" управляемого экземпляра SQL

## <a name="28-centralize-anti-malware-logging"></a>2.8. Централизованное ведение журнала защиты от вредоносных программ

- В Microsoft Antimalware для Azure должно быть настроено автоматическое обновление подписей защиты.
- Мониторинг отсутствия Endpoint Protection в Центре безопасности Azure
- Решение защиты конечных точек должно быть установлено в масштабируемых наборах виртуальных машин.

## <a name="31-maintain-an-inventory-of-administrative-accounts"></a>3.1. Инвентаризация учетных записей администраторов

- Подписке можно назначить не более 3 владельцев.
- Подписке должно быть назначено несколько владельцев.
- Внешние учетные записи с разрешениями владельца следует удалять из подписки.
- Устаревшие учетные записи с разрешениями владельца следует удалять из подписки.

## <a name="33-use-dedicated-administrative-accounts"></a>3.3. Применение выделенных административных учетных записей

- Развертывание необходимых компонентов для аудита виртуальных машин Windows, в которых группа "Администраторы" включает не только указанных участников.
- Отображение результатов аудита виртуальных машин Windows, в которых группа "Администраторы" включает не только указанных участников.
- Развертывание требуемых компонентов для аудита виртуальных машин Windows без всех указанных участников в группе "Администраторы"
- Отображение результатов аудита виртуальных машин Windows, где группа "Администраторы" содержит не всех указанных участников
- Развертывание необходимых компонентов для аудита виртуальных машин Windows с кем-то из указанных участников в группе "Администраторы"
- Отображение результатов аудита виртуальных машин Windows, на которых кто-то из указанных участников включен в группу "Администраторы".
- Подписке можно назначить не более 3 владельцев.
- Подписке должно быть назначено несколько владельцев.

## <a name="35-use-multi-factor-authentication-for-all-azure-active-directory-based-access"></a>3.5. Использование многофакторной проверки подлинности для любого доступа на основе Azure Active Directory

- MFA должна быть включена для учетных записей с разрешениями владельца в вашей подписке.
- MFA должна быть включена для учетных записей с разрешениями на запись в вашей подписке.
- MFA должна быть включена для учетных записей с разрешениями на чтение в вашей подписке.

## <a name="37-log-and-alert-on-suspicious-activity-from-administrative-accounts"></a>3.7. Ведение журнала и создание оповещений по подозрительным действиям учетных записей администраторов

- Нужно выбрать Центр безопасности с ценовой категорией "Стандартный"

## <a name="39-use-azure-active-directory"></a>3.9. Использование Azure Active Directory

- Администратор Azure Active Directory должен быть подготовлен для серверов SQL Server.
- Кластеры Service Fabric должны использовать для проверки подлинности клиента только Azure Active Directory.
- В приложении API должна быть включена регистрация в Azure Active Directory
- В веб-приложении должна быть включена регистрация в Azure Active Directory
- В приложении-функции должна быть включена регистрация в Azure Active Directory

## <a name="310-regularly-review-and-reconcile-user-access"></a>3.10. Регулярная проверка и согласование доступа пользователей

- Устаревшие учетные записи следует удалять из подписки.
- Устаревшие учетные записи с разрешениями владельца следует удалять из подписки.
- Внешние учетные записи с разрешениями на чтение следует удалять из подписки.
- Внешние учетные записи с разрешениями на запись следует удалять из подписки.
- Внешние учетные записи с разрешениями владельца следует удалять из подписки.

## <a name="41-maintain-an-inventory-of-sensitive-information"></a>4.1. Инвентаризация конфиденциальных данных

- Конфиденциальные данные в базах данных SQL должны быть засекречены.

## <a name="44-encrypt-all-sensitive-information-in-transit"></a>4.4. Шифрование любой конфиденциальной информации при передаче

- Должно выполняться безопасное перемещение в учетные записи хранения.
- В вашем приложении API необходимо использовать последнюю версию TLS
- В вашем веб-приложении необходимо использовать последнюю версию TLS
- В вашем приложении-функции необходимо использовать последнюю версию TLS
- Приложение-функция должно быть доступно только по HTTPS
- Веб-приложение должно быть доступно только по HTTPS
- Приложение API должно быть доступно только по HTTPS.
- Для серверов баз данных MySQL должно быть включено принудительное использование SSL-соединения
- Для серверов баз данных PostgreSQL должно быть включено принудительное использование SSL-соединения
- К кэшу Redis должны выполняться только безопасные подключения.

## <a name="45-use-an-active-discovery-tool-to-identify-sensitive-data"></a>4.5. Использование средства активного обнаружения для распознавания конфиденциальных данных

- Конфиденциальные данные в базах данных SQL должны быть засекречены.
- Расширенная защита данных должна быть включена на серверах SQL Server.
- Расширенная защита данных должна быть включена в управляемых экземплярах SQL.

## <a name="46-use-azure-rbac-to-control-access-to-resources"></a>4.6. Контроль доступа к ресурсам с помощью RBAC

- Управление доступом на основе ролей (RBAC) должно использоваться в службе Kubernetes
- Аудит использования настраиваемых правил RBAC

## <a name="48-encrypt-sensitive-information-at-rest"></a>4.8. Шифрование конфиденциальной информации при хранении

- Прозрачное шифрование данных должно быть включено в базах данных SQL.
- Шифрование дисков должно применяться к виртуальным машинам.
- Неподключенные диски должны быть зашифрованы
- На серверах SQL предохранитель TDE должен быть зашифрован с использованием вашего ключа
- Предохранитель TDE управляемого экземпляра SQL должен быть зашифрован с помощью вашего собственного ключа
- Необходимо включить шифрование для переменных учетной записи службы автоматизации.
- Свойство ClusterProtectionLevel в кластерах Service Fabric должно иметь значение EncryptAndSign.

## <a name="49-log-and-alert-on-changes-to-critical-azure-resources"></a>4.9. Включение в журнал и создание оповещений по изменениям критических ресурсов Azure

- Azure Monitor должен собирать журналы действий из всех регионов.

## <a name="51-run-automated-vulnerability-scanning-tools"></a>5.1. Выполнение автоматизированных средства анализа уязвимостей

- На серверах SQL Server должна быть включена оценка уязвимости.
- Необходимо включить оценку уязвимости на управляемых экземплярах SQL.
- \[Предварительная версия.\] На виртуальных машинах должна быть включена оценка уязвимостей
- Параметры оценки уязвимостей для сервера SQL должны включать адрес электронной почты для получения отчетов о проверке.

## <a name="52-deploy-automated-operating-system-patch-management-solution"></a>5.2 Развертывание автоматизированного решения для управления исправлениями операционной системы

- На ваших компьютерах должны быть установлены обновления системы
- Обновления системы должны быть установлены в масштабируемых наборах виртуальных машин.
- Если в приложении-функции используется платформа .NET Framework, требуется последняя версия.
- Если в веб-приложении используется платформа .NET Framework, требуется последняя версия.
- Если в приложении API используется платформа .NET Framework, требуется последняя версия.

## <a name="53-deploy-automated-third-party-software-patch-management-solution"></a>5.3 Развертывание автоматизированного решения для управления исправлениями ПО сторонних производителей

- В приложении API должна использоваться последняя версия PHP
- В веб-приложении должна использоваться последняя версия PHP
- В приложении-функции должна использоваться последняя версия PHP
- В веб-приложении должна использоваться последняя версия Java
- В приложении-функции должна использоваться последняя версия Java
- В приложении API должна использоваться последняя версия Java
- В веб-приложении должна использоваться последняя версия Python
- В приложении-функции должна использоваться последняя версия Python
- В приложении API должна использоваться последняя версия Python
- Службы Kubernetes должны быть обновлены до версии с устраненными уязвимостями

## <a name="55-use-a-risk-rating-process-to-prioritize-the-remediation-of-discovered-vulnerabilities"></a>5.5. Использование процесса оценки рисков для определения приоритета в устранении обнаруженных уязвимостей

- Уязвимости должны быть устранены с помощью решения для оценки уязвимостей.
- Уязвимости в настройках безопасности на ваших компьютерах должны быть устранены
- Уязвимости в конфигурации безопасности в масштабируемом наборе виртуальных машин должны быть устранены.
- Необходимо устранить уязвимости в конфигурациях безопасности контейнера.
- Уязвимости в базах данных SQL должны быть устранены.

## <a name="68-use-only-approved-applications"></a>6.8. Использование только утвержденных приложений

- Нужно выбрать Центр безопасности с ценовой категорией "Стандартный"
- Адаптивные элементы управления приложениями должны быть включены на виртуальных машинах.

## <a name="69-use-only-approved-azure-services"></a>6.9. Использование только утвержденных служб Azure

- Необходимо перенести виртуальные машины в новые ресурсы Azure Resource Manager.
- Необходимо перенести учетные записи хранения в новые ресурсы Azure Resource Manager.

## <a name="610-implement-approved-application-list"></a>6.10. Реализация списка утвержденных приложений

- Нужно выбрать Центр безопасности с ценовой категорией "Стандартный"
- Адаптивные элементы управления приложениями должны быть включены на виртуальных машинах.

## <a name="73-maintain-secure-azure-resource-configurations"></a>7.3. Сохранение безопасных конфигураций для ресурсов Azure

- \[Предварительная версия.\] В службах Kubernetes должны быть определены политики безопасности группы pod.

## <a name="74-maintain-secure-operating-system-configurations"></a>7.4. Сохранение безопасных конфигураций для операционных систем

- Уязвимости в настройках безопасности на ваших компьютерах должны быть устранены
- Необходимо устранить уязвимости в конфигурациях безопасности контейнера.
- Уязвимости в конфигурации безопасности в масштабируемом наборе виртуальных машин должны быть устранены.

## <a name="79-implement-automated-configuration-monitoring-for-azure-services"></a>7.9. Реализация автоматизированного мониторинга конфигурации для служб Azure

- \[Предварительная версия.\] В службах Kubernetes должны быть определены политики безопасности группы pod.

## <a name="710-implement-automated-configuration-monitoring-for-operating-systems"></a>7.10. Реализация автоматизированного мониторинга конфигурации для операционных систем

- Уязвимости в настройках безопасности на ваших компьютерах должны быть устранены
- Необходимо устранить уязвимости в конфигурациях безопасности контейнера.
- Уязвимости в конфигурации безопасности в масштабируемом наборе виртуальных машин должны быть устранены.

## <a name="711-manage-azure-secrets-securely"></a>7.11. Безопасное управление секретами Azure

- Объекты Key Vault должны быть восстанавливаемыми

## <a name="712-manage-identities-securely-and-automatically"></a>7.12. Безопасное и автоматическое управление удостоверениями

- В приложении-функции должно использоваться управляемое удостоверение.
- В веб-приложении должно использоваться управляемое удостоверение.
- В приложении API должно использоваться управляемое удостоверение.

## <a name="81-use-centrally-managed-anti-malware-software"></a>8.1. Использование централизованно управляемого программного обеспечения для защиты от вредоносных программ

- Мониторинг отсутствия Endpoint Protection в Центре безопасности Azure
- Решение защиты конечных точек должно быть установлено в масштабируемых наборах виртуальных машин.

## <a name="82-pre-scan-files-to-be-uploaded-to-non-compute-azure-resources"></a>8.2. Предварительная проверка файлов для отправки в ресурсы Azure, не являющиеся вычислительными

- Нужно выбрать Центр безопасности с ценовой категорией "Стандартный"

## <a name="83-ensure-anti-malware-software-and-signatures-are-updated"></a>8.3. Своевременное обновление программного обеспечения для защиты от вредоносных программ и подписей

- В Microsoft Antimalware для Azure должно быть настроено автоматическое обновление подписей защиты.

## <a name="91-ensure-regular-automated-back-ups"></a>9.1. Обеспечение регулярного автоматического резервного копирования

- Базы данных SQL Azure должны использовать долгосрочное геоизбыточное резервное копирование
- База данных Azure для MySQL должна использовать геоизбыточное резервное копирование
- База данных Azure для PostgreSQL должна использовать геоизбыточное резервное копирование
- База данных Azure для MariaDB должна использовать геоизбыточное резервное копирование
- Необходимо включить Azure Backup для виртуальных машин.

## <a name="92-perform-complete-system-backups-and-backup-any-customer-managed-keys"></a>9.2. Выполнение полного резервного копирования системы и любых ключей, управляемых клиентом

- Базы данных SQL Azure должны использовать долгосрочное геоизбыточное резервное копирование
- База данных Azure для MySQL должна использовать геоизбыточное резервное копирование
- База данных Azure для PostgreSQL должна использовать геоизбыточное резервное копирование
- База данных Azure для MariaDB должна использовать геоизбыточное резервное копирование
- Необходимо включить Azure Backup для виртуальных машин.

## <a name="94-ensure-protection-of-backups-and-customer-managed-keys"></a>9.4 Обеспечение защиты резервных копий и управляемых клиентом ключей

- Объекты Key Vault должны быть восстанавливаемыми

## <a name="102-create-an-incident-scoring-and-prioritization-procedure"></a>10.2. Создание процедуры оценки инцидента и определения приоритетов

- Нужно выбрать Центр безопасности с ценовой категорией "Стандартный"

## <a name="104-provide-security-incident-contact-details-and-configure-alert-notifications-for-security-incidents"></a>10.4. Предоставление контактных сведений и настройка уведомлений по инцидентам безопасности

- Для подписки нужно указать адрес электронной почты контактного лица по вопросам безопасности
- Для подписки нужно указать номер телефона контактного лица по вопросам безопасности
- Дополнительные параметры безопасности данных для сервера SQL должны содержать адрес электронной почты для получения оповещений системы безопасности
- Дополнительные параметры безопасности данных для управляемого экземпляра SQL должны содержать адрес электронной почты для получения оповещений системы безопасности
- На серверах SQL в параметрах расширенной защиты данных должны быть включены уведомления, отправляемые по электронной почте администраторам и владельцам подписок.
- Уведомления по электронной почте для администраторов и владельцев подписок следует включить в параметрах расширенной защиты данных для управляемого экземпляра SQL.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда вы ознакомились с сопоставлением элементов управления в схеме Azure Security Benchmark, назначьте инициативу в Политике Azure на портале Azure:

> [!div class="nextstepaction"]
> [Политика Azure](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyMenuBlade/Definitions)

Дополнительные статьи о схемах и способах их использования:

- Ознакомьтесь со сведениями о [жизненном цикле схем](../../concepts/lifecycle.md).
- Узнайте, как использовать [статические и динамические параметры](../../concepts/parameters.md).
- Научитесь настраивать [последовательность схемы](../../concepts/sequencing-order.md).
- Узнайте, как применять [блокировку ресурсов схемы](../../concepts/resource-locking.md).
- Узнайте, как [обновлять существующие назначения](../../how-to/update-existing-assignments.md).