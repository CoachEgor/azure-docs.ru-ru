---
title: Подробная информация о структуре назначения политики
description: Описывает определение назначения политики, используемое политикой Azure для соотнеса определений и параметров политики с ресурсами для оценки.
ms.date: 04/15/2020
ms.topic: conceptual
ms.openlocfilehash: cdb2fc0c6f057ece44383f68bc79fca54507db9b
ms.sourcegitcommit: acb82fc770128234f2e9222939826e3ade3a2a28
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "81683223"
---
# <a name="azure-policy-assignment-structure"></a>Структура назначения в службе "Политика Azure"

Назначения политик используются политикой Azure для определения того, какие ресурсы назначены, какие политики или инициативы. Назначение политики может определить значения параметров для этой группы ресурсов во время назначения, что позволяет повторно использовать определения политики, которые касаются одних и тех же свойств ресурсов с различными потребностями в соответствии.

Для создания назначения политики используется JSON. Назначение политики содержит элементы для:

- display name
- description
- метаданные
- режим исполнения
- исключенные области
- определение политики
- параметры

Например, в следующем JSON отображает назначение политики в режиме _DoNotEnforce_ с динамическими параметрами:

```json
{
    "properties": {
        "displayName": "Enforce resource naming rules",
        "description": "Force resource names to begin with DeptA and end with -LC",
        "metadata": {
            "assignedBy": "Cloud Center of Excellence"
        },
        "enforcementMode": "DoNotEnforce",
        "notScopes": [],
        "policyDefinitionId": "/subscriptions/{mySubscriptionID}/providers/Microsoft.Authorization/policyDefinitions/ResourceNaming",
        "parameters": {
            "prefix": {
                "value": "DeptA"
            },
            "suffix": {
                "value": "-LC"
            }
        }
    }
}
```

Все образцы политики Azure находятся в [образцах политики Azure.](../samples/index.md)

## <a name="display-name-and-description"></a>Отображаемое имя и описание

Для определения назначения политики и предоставления контекста для его использования с определенным набором ресурсов используется **displayName** и **описание.** Максимальная длина **displayName** составляет _128_ символов, а **description** — _512_ символов.

## <a name="enforcement-mode"></a>Режим исполнения

Свойство **enforcementMode** предоставляет клиентам возможность проверить результаты политики на существующих ресурсах, не инициируя эффект политики или запустив записи в [журнале деятельности Azure.](../../../azure-monitor/platform/platform-logs-overview.md) Этот сценарий обычно называют "Что если" и выравнивается с безопасными методами развертывания. **enforcementMode** отличается от эффекта [инвалидов,](./effects.md#disabled) так как этот эффект предотвращает оценку ресурсов вообще.

Это свойство имеет следующие значения:

|Режим |Значение JSON |Тип |Исправление вручную |Запись журнала активности |Описание |
|-|-|-|-|-|-|
|Активировано |Значение по умолчанию |строка |Да |Да |Эффект политики обеспечивается при создании или обновлении ресурсов. |
|Выключено |Доносизер |строка |Да |нет | Эффект политики не обеспечивается при создании или обновлении ресурсов. |

Если **enforcementMode** не указан в определении политики или инициативы, используется значение _Default._ [Задачи по исправлению положения](../how-to/remediate-resources.md) могут быть запущены для [политик deployIfNotExists,](./effects.md#deployifnotexists) даже если **enforcementMode** настроен на _DoNotEnforce._

## <a name="excluded-scopes"></a>Исключенные области

**Сфера действия** назначения включает в себя все контейнеры ресурсов ребенка и ресурсы ребенка. Если контейнер ресурсов ребенка или ресурс ребенка не должны применяться к определению, каждый из них может быть исключен из **оценки, установив notScopes.** Это свойство представляет собой массив, позволяющий исключать один или несколько контейнеров ресурсов или ресурсов из оценки. **notScopes** могут быть добавлены или обновлены после создания первоначального назначения.

## <a name="policy-definition-id"></a>Идентификатор определения политики

Это поле должно быть полным названием пути либо определения политики, либо определения инициативы.
`policyDefinitionId`является строкой, а не массив. Рекомендуется, если несколько политик часто назначаются вместе, использовать [инициативу](./definition-structure.md#initiatives) вместо этого.

## <a name="parameters"></a>Параметры

Этот сегмент назначения политики предоставляет значения для параметров, определенных в [определении политики или определении инициативы.](./definition-structure.md#parameters)
Такая конструкция позволяет повторно использовать определение политики или инициативы с различными ресурсами, но проверяет различные бизнес-ценности или результаты.

```json
"parameters": {
    "prefix": {
        "value": "DeptA"
    },
    "suffix": {
        "value": "-LC"
    }
}
```

В этом примере параметры, ранее определенные `prefix` `suffix`в определении политики, являются и . Данное назначение политики `prefix` устанавливается для **DeptA** и `suffix` **-LC**. Одно и то же определение политики можно многоразить с другим набором параметров для другого департамента, что снижает дублирование и сложность определений политики при обеспечении гибкости.

## <a name="next-steps"></a>Следующие шаги

- Узнайте о [структуре определения политики](./definition-structure.md).
- Понять, как [программно создавать политики.](../how-to/programmatically-create.md)
- Узнайте, как [получить данные о соответствии.](../how-to/get-compliance-data.md)
- Узнайте, как [исправления несовместимых ресурсов.](../how-to/remediate-resources.md)
- Просмотрите, что представляет собой группа управления с [организацией ресурсов с группами управления Azure.](../../management-groups/overview.md)