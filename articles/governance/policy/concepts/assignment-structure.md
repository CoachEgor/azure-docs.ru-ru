---
title: Подробная информация о структуре назначения политики
description: Описывает определение назначения политики, используемое политикой Azure для соотнеса определений и параметров политики с ресурсами для оценки.
ms.date: 09/23/2019
ms.topic: conceptual
ms.openlocfilehash: f03c654dfc4c8dfdf2bdc5103a5961b4d8ce1e64
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79265302"
---
# <a name="azure-policy-assignment-structure"></a>Структура назначения в службе "Политика Azure"

Назначения политик используются политикой Azure для определения того, какие ресурсы назначены, какие политики или инициативы. Назначение политики может определить значения параметров для этой группы ресурсов во время назначения, что позволяет повторно использовать определения политики, которые касаются одних и тех же свойств ресурсов с различными потребностями в соответствии.

Для создания назначения политики используется JSON. Назначение политики содержит элементы для:

- display name
- description
- метаданные
- режим исполнения
- определение политики
- параметры

Например, в следующем JSON отображает назначение политики в режиме _DoNotEnforce_ с динамическими параметрами:

```json
{
    "properties": {
        "displayName": "Enforce resource naming rules",
        "description": "Force resource names to begin with DeptA and end with -LC",
        "metadata": {
            "assignedBy": "Cloud Center of Excellence"
        },
        "enforcementMode": "DoNotEnforce",
        "policyDefinitionId": "/subscriptions/{mySubscriptionID}/providers/Microsoft.Authorization/policyDefinitions/ResourceNaming",
        "parameters": {
            "prefix": {
                "value": "DeptA"
            },
            "suffix": {
                "value": "-LC"
            }
        }
    }
}
```

Все образцы политики Azure находятся в [образцах политики Azure.](../samples/index.md)

## <a name="display-name-and-description"></a>Отображаемое имя и описание

Для определения назначения политики и предоставления контекста для его использования с определенным набором ресурсов используется **displayName** и **описание.** Максимальная длина **displayName** составляет _128_ символов, а **description** — _512_ символов.

## <a name="enforcement-mode"></a>Режим исполнения

Свойство **enforcementMode** предоставляет клиентам возможность проверить результаты политики на существующих ресурсах, не инициируя эффект политики или запустив записи в [журнале деятельности Azure.](../../../azure-monitor/platform/platform-logs-overview.md) Этот сценарий обычно называют "Что если" и выравнивается с безопасными методами развертывания. **enforcementMode** отличается от эффекта [инвалидов,](./effects.md#disabled) так как этот эффект предотвращает оценку ресурсов вообще.

Это свойство имеет следующие значения:

|Режим |Значение JSON |Тип |Исправление вручную |Запись журнала активности |Описание |
|-|-|-|-|-|-|
|Активировано |Значение по умолчанию |строка |Да |Да |Эффект политики обеспечивается при создании или обновлении ресурсов. |
|Выключено |Доносизер |строка |Да |нет | Эффект политики не обеспечивается при создании или обновлении ресурсов. |

Если **enforcementMode** не указан в определении политики или инициативы, используется значение _Default._ [Задачи по исправлению положения](../how-to/remediate-resources.md) могут быть запущены для [политик deployIfNotExists,](./effects.md#deployifnotexists) даже если **enforcementMode** настроен на _DoNotEnforce._

## <a name="policy-definition-id"></a>Идентификатор определения политики

Это поле должно быть полным названием пути либо определения политики, либо определения инициативы.
`policyDefinitionId`является строкой, а не массив. Рекомендуется, если несколько политик часто назначаются вместе, использовать [инициативу](./definition-structure.md#initiatives) вместо этого.

## <a name="parameters"></a>Параметры

Этот сегмент назначения политики предоставляет значения для параметров, определенных в [определении политики или определении инициативы.](./definition-structure.md#parameters)
Такая конструкция позволяет повторно использовать определение политики или инициативы с различными ресурсами, но проверяет различные бизнес-ценности или результаты.

```json
"parameters": {
    "prefix": {
        "value": "DeptA"
    },
    "suffix": {
        "value": "-LC"
    }
}
```

В этом примере параметры, ранее определенные `prefix` `suffix`в определении политики, являются и . Данное назначение политики `prefix` устанавливается для **DeptA** и `suffix` **-LC**. Одно и то же определение политики можно многоразить с другим набором параметров для другого департамента, что снижает дублирование и сложность определений политики при обеспечении гибкости.

## <a name="next-steps"></a>Дальнейшие действия

- Узнайте о [структуре определения политики](./definition-structure.md).
- Понять, как [программно создавать политики.](../how-to/programmatically-create.md)
- Узнайте, как [получить данные о соответствии.](../how-to/get-compliance-data.md)
- Узнайте, как [исправления несовместимых ресурсов.](../how-to/remediate-resources.md)
- Просмотрите, что представляет собой группа управления с [организацией ресурсов с группами управления Azure.](../../management-groups/overview.md)