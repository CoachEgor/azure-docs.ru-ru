---
title: Расширение политики Azure для визуального кода студии
description: Узнайте, как использовать расширение политики Azure для Visual Studio Code для поиска псевдонимов «Менеджер ресурсов».
ms.date: 03/07/2020
ms.topic: how-to
ms.openlocfilehash: 5e31af652f2746adbf0eda386bdb178c752f5f84
ms.sourcegitcommit: d791f8f3261f7019220dd4c2dbd3e9b5a5f0ceaf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2020
ms.locfileid: "81641023"
---
# <a name="use-azure-policy-extension-for-visual-studio-code"></a>Используйте расширение политики Azure для кода Visual Studio

> Применяется к версии расширения политики Azure **0.0.21** и более новой

Узнайте, как использовать расширение политики Azure для Visual Studio Code для поиска [псевдонимов](../concepts/definition-structure.md#aliases) и анализа ресурсов и политик. Во-первых, мы опишите, как установить расширение политики Azure в Visual Studio Code. Тогда мы будем ходить по тому, как искать псевдонимы.

Расширение политики Azure для Visual Studio Code может быть установлено на всех платформах, которые поддерживаются Visual Studio Code. Эта поддержка включает windows, Linux и macOS.

> [!NOTE]
> Изменения, внесенные локально в политики, просмотренные в расширении политики Azure для Visual Studio Code, не синхронизируются с Azure.

## <a name="prerequisites"></a>Предварительные требования

Для выполнения действий, описанных в этой статье, необходимо следующее:

- Подписка Azure. Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись](https://azure.microsoft.com/free/), прежде чем начинать работу.
- [Visual Studio Code](https://code.visualstudio.com).

## <a name="install-azure-policy-extension"></a>Установка расширения политики Azure

После выполнения предпосылок можно установить расширение политики Azure для Visual Studio Code, выполнив следующие действия:

1. Откройте Visual Studio Code.

1. Из меню бар, перейдите к **Просмотр** > **расширений**.

1. В поле поиска введите **политику Azure**.

1. Выберите **политику Azure** из результатов поиска, а затем выберите **«Установить».**

1. Выберите Перезагрузить при **необходимости.**

## <a name="set-the-azure-environment"></a>Настройка среды Azure

Для национального пользователя облака выполните следующие действия, чтобы сначала настроить среду Azure:

1. Выберите **файлы -Предпочтения и настройки**.

1. Поиск по следующей строке: _Azure: Облако_

1. Выберите облако нации из списка:

   ![Установите ввечку облака Azure по умолчанию для Visual Studio Code](../media/extension-for-vscode/set-default-azure-cloud-sign-in.png)

## <a name="connect-to-an-azure-account"></a>Подключение к учетной записи Azure

Чтобы оценить ресурсы и псевдонимы поиска, необходимо подключиться к учетной записи Azure. Выполните следующие действия, чтобы подключиться к Azure из кода Visual Studio:

1. Восболеете в Azure из расширения политики Azure или в палитре команд.

   - Расширение политики Azure

     Из расширения политики Azure выберите **войти в Azure.**

     ![Облако Azure ввезло для Visual Studio Code из расширения политики Azure](../media/extension-for-vscode/azure-cloud-sign-in-policy-extension.png)

   - Палитра команд

     Из панели меню перейдите в **панель команд просмотра** > **Command Palette**и введите **Azure: Войти в**.

     ![Облако Azure ввезло для визуального кода студии из командной палитра](../media/extension-for-vscode/azure-cloud-sign-in-command-palette.png)

1. Следуйте указателю в инструкциях, чтобы войти в Azure. После подключения имя учетной записи Azure отображается в строке состояния в нижней части окна кода Visual Studio.

## <a name="select-subscriptions"></a>Выбор пункта "Подписки"

При первом входе в систему только ресурсы подписки по умолчанию и политики загружаются расширением политики Azure. Чтобы добавить или удалить подписки из отображения ресурсов и политик, выполните следующие действия:

1. Запустите команду подписки из палитра командования или колонтитула окна.

   - Командная палитра: 

     Из панели меню перейдите в**панель команд** **просмотра** > и введите **Azure: Выберите подписку.**

   - Окно колонтитул

     В оконной колонтитул в нижней части экрана выберите сегмент, который соответствует **Azure: \<ваша учетная\>запись.**

1. Используйте фильтр-бокс, чтобы быстро найти подписку по имени. Затем проверьте или удалите чек из каждой подписки, чтобы установить подписки, показанные расширением политики Azure. При добавлении или удалении подписки для отображения выберите **OK.**

## <a name="search-for-and-view-resources"></a>Поиск и просмотр ресурсов

Расширение политики Azure перечисляет ресурсы в выбранных подписках поставщиком ресурсов и группой ресурсов в панели **ресурсов.** Вид дерева включает следующие группирования ресурсов в выбранной подписке или на уровне подписки:

- **Поставщики ресурсов**
  - Каждый зарегистрированный Поставщик ресурсов с ресурсами и связанными с ними дочерними ресурсами, которые имеют псевдонимы политики
- **Группы ресурсов**
  - Все ресурсы группы ресурсов, в которой они находятся

По умолчанию расширение фильтрует часть «Поставщика ресурсов» существующими ресурсами и ресурсами, имеющими псевдонимы политики. Измените это поведение в политике**расширения** >  **настроек,** > чтобы видеть всех поставщиков ресурсов без фильтрации.**Azure Policy**

Клиенты с сотнями или тысячами ресурсов в одной подписке могут предпочесть способ поиска своих ресурсов. Расширение политики Azure позволяет искать определенный ресурс со следующими шагами:

1. Запустите интерфейс поиска из расширения политики Azure или в палитре команд.

   - Расширение политики Azure

     Из расширения политики Azure нависните над панелью **ресурсов** и выберите эллипсис, а затем выберите **Поисковые ресурсы.**

   - Командная палитра:

     Из панели меню перейдите в **«Посмотреть** > **панель команд»** и ввести **ресурсы: Поиск ресурсов.**

1. Если для отображения выбрано несколько подписок, используйте фильтр, чтобы выбрать, какая подписка для поиска.

1. Используйте фильтр, чтобы выбрать, какая группа ресурсов для поиска является частью ранее выбранной подписки.

1. Используйте фильтр, чтобы выбрать ресурс для отображения. Фильтр работает как для имени ресурса, так и для типа ресурса.

## <a name="discover-aliases-for-resource-properties"></a>Откройте для себя псевдонимы для свойств ресурсов

При выборе ресурса, будь то через интерфейс поиска или путем выбора его в представлении дерева, расширение azure Policy открывает файл JSON, представляющий этот ресурс и все значения свойств менеджера ресурсов.

После открытия ресурса нависает над именем или значением ресурсного менеджера, отображает псевдоним Azure Policy, если он существует. В этом примере ресурс `Microsoft.Compute/virtualMachines` является типом ресурса, а свойство.storageProfile.imageReference.offer зависло над. **properties.storageProfile.imageReference.offer** На ховеринг показывает соответствующие псевдонимы.

![Нависшие на нависки на azure Политики показывает псевдоним свойств менеджера ресурсов](../media/extension-for-vscode/extension-hover-shows-property-alias.png)

## <a name="search-for-and-view-policies-and-assignments"></a>Поиск и просмотр политик и назначений

Расширение политики Azure перечисляет типы политик и назначения политики как представление дерева для выбранных подписок, которые будут отображаться в панели **политик.** Клиенты с сотнями или тысячами политик или заданий в одной подписке могут предпочесть способ поиска своих политик или назначений. Расширение политики Azure позволяет искать конкретную политику или назначение со следующими шагами:

1. Запустите интерфейс поиска из расширения политики Azure или в палитре команд.

   - Расширение политики Azure

     Из расширения политики Azure нависает над **панелью политик** и выберите эллипсис, а затем выберите **политики поиска.**

   - Командная палитра:

     Из панели меню перейдите в **«Посмотреть** > **палитру команд»** и введите **политики: Политика поиска.**

1. Если для отображения выбрано несколько подписок, используйте фильтр, чтобы выбрать, какая подписка для поиска.

1. Используйте фильтр, чтобы выбрать тип политики или назначение для поиска, который является частью ранее выбранной подписки.

1. Используйте фильтр, чтобы выбрать политику или отобразить. Фильтр работает для _displayName_ для определения политики или назначения политики.

При выборе политики или назначения, будь то через интерфейс поиска или путем выбора его в представлении дерева, расширение Azure Policy открывает JSON, представляющий политику или назначение и все значения свойств менеджера ресурсов. Расширение может проверить открытую схему политики Azure JSON.

## <a name="sign-out"></a>Выход

Из панели меню перейдите в**панель команд** **просмотра,** > а затем введите **Azure: Выйдите из.**

## <a name="next-steps"></a>Дальнейшие действия

- Просмотрите [примеры на примерах политики Azure](../samples/index.md).
- Изучите статью о [структуре определения Политики Azure](../concepts/definition-structure.md).
- Изучите [сведения о действии политик](../concepts/effects.md).
- Понять, как [программно создавать политики.](programmatically-create.md)
- Узнайте, как [исправления несовместимых ресурсов.](remediate-resources.md)
- Просмотрите, что представляет собой группа управления с [организацией ресурсов с группами управления Azure.](../../management-groups/overview.md)