---
title: Python
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать Python в конструкторе машинного обучения Azure для преобразования данных.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: how-to
author: peterclu
ms.author: peterlu
ms.date: 02/28/2020
ms.openlocfilehash: a2bd9845cd29c7d139e2042f39b4697847639207
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79455797"
---
# <a name="execute-python-code-in-azure-machine-learning-designer"></a>Выполнение кода Python в дизайнере машинного обучения Azure

В этой статье вы узнаете, как использовать модуль [Execute Python Script](algorithm-module-reference/execute-python-script.md) для добавления пользовательской логики в дизайнера машинного обучения Azure. В следующем, как к, вы используете библиотеку Pandas, чтобы сделать простой инженерный функции.

Встроенный редактор кода может быстро добавить простую логику Python. Если вы хотите добавить более сложный код или загрузить дополнительные библиотеки Python, следует использовать метод файла застежки-молнии.

Среда выполнения по умолчанию использует распределение Python Anacondas. Полный список предварительно установленных пакетов можно узнать на [странице справочного модуля «Execute Python Script».](algorithm-module-reference/execute-python-script.md)

![Выполнить карту ввода Python](media/how-to-designer-python/execute-python-map.png)

## <a name="execute-python-written-in-the-designer"></a>Выполнить Python написано в дизайнера

### <a name="add-the-execute-python-script-module"></a>Добавить модуль «Выполнить сценарий Python»

1. Найдите модуль **Execute Python Script** в цветовой палитре. Его можно найти в разделе **Язык Python.**

1. Перетащите и опустите модуль на холст конвейера.

### <a name="connect-input-datasets"></a>Подключение наборов входных данных

В этой статье используется набор выборочных данных, **данные о ценах на автомобили (Raw).** 

1. Перетащите и бросьте свой набор данных на холст конвейера.

1. Подключите выходной порт набора данных к верхнелевому вхотвому порту модуля **Execute Python Script.** Дизайнер предоставляет входные данные в качестве параметра скрипту точки входа.
    
    Правый порт ввода зарезервирован для библиотек питона на молнии.

    ![Подключение наборов данных](media/how-to-designer-python/connect-dataset.png)
        

1. Обратите внимание, какой входиной порт вы используете. Конструктор присваивает левый входный порт `dataset1` переменной, `dataset2`а средний входно-порт — . 

Входные модули не являются обязательными, так как вы можете генерировать или импортировать данные непосредственно в модуле **Execute Python Script.**

### <a name="write-your-python-code"></a>Напишите код Python

Дизайнер предоставляет начальный сценарий точки входа для вас, чтобы отойти и ввести свой собственный код Python. 

В этом примере вы используете Pandas для объединения двух столбцов, найденных в наборе данных автомобиля, **Price** и **Horsepower,** для создания новой колонки, **Долларов на лошадиную силу.** Эта колонка представляет, сколько вы платите за каждую лошадиную силу, которая может быть полезной особенностью, чтобы решить, если автомобиль является хорошей сделкой за деньги. 

1. Выберите модуль **«Выполнить сценарий Python».**

1. В панели, которая отображается справа от холста, выберите текстовый ящик **скрипта Python.**

1. Копируйте и вставьте следующий код в текстовое поле.

    ```python
    import pandas as pd
    
    def azureml_main(dataframe1 = None, dataframe2 = None):
        dataframe1['Dollar/HP'] = dataframe1.price / dataframe1.horsepower
        return dataframe1
    ```
    Ваш конвейер должен выглядеть следующим образом:
    
    ![Выполнение конвейера Python](media/how-to-designer-python/execute-python-pipeline.png)

    Скрипт точки входа должен `azureml_main`содержать функцию. Есть два параметра функции, которые отображают два порта ввода для модуля **Execute Python Script.**

    Значение возврата должно быть каркасом данных Pandas. Вы можете вернуть до двух фреймов данных в качестве выходных модулей.
    
1. Отправить конвейер.

Теперь у вас есть набор данных с новой функцией **Доллары / HP**, которые могут быть полезны в обучении автомобиль рекомендатель. Это пример извлечения функций и уменьшения размерности. 

## <a name="next-steps"></a>Дальнейшие действия

Узнайте, как [импортировать собственные данные](how-to-designer-import-data.md) в дизайнере машинного обучения Azure.