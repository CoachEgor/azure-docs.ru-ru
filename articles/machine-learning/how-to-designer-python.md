---
title: Python
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать Python в конструкторе Машинное обучение Azure для преобразования данных.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: how-to
author: peterclu
ms.author: peterlu
ms.date: 02/28/2020
ms.openlocfilehash: a2bd9845cd29c7d139e2042f39b4697847639207
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "79455797"
---
# <a name="execute-python-code-in-azure-machine-learning-designer"></a>Выполнение кода Python в конструкторе Машинное обучение Azure

Из этой статьи вы узнаете, как с помощью модуля [выполнить сценарий Python](algorithm-module-reference/execute-python-script.md) добавить пользовательскую логику в конструктор машинное обучение Azure. В следующем примере используется библиотека Pandas для простого проектирования признаков.

Можно использовать встроенный редактор кода для быстрого добавления простой логики Python. Если требуется добавить более сложный код или загрузить дополнительные библиотеки Python, следует использовать метод zip file.

Среда выполнения по умолчанию использует Анакондасное распределение Python. Полный список предварительно установленных пакетов см. на странице [справочника выполнение сценария Python](algorithm-module-reference/execute-python-script.md) .

![Выполнить входную карту Python](media/how-to-designer-python/execute-python-map.png)

## <a name="execute-python-written-in-the-designer"></a>Выполнение Python, написанного в конструкторе

### <a name="add-the-execute-python-script-module"></a>Добавление модуля выполнения скрипта Python

1. Найдите модуль **выполнение скрипта Python** в палитре конструктора. Его можно найти в разделе о **языке Python** .

1. Перетащите модуль на холст конвейера.

### <a name="connect-input-datasets"></a>Подключение входных наборов данных

В этой статье используется образец набора данных, **данные о ценах автомобилей (RAW)**. 

1. Перетащите набор данных на холст конвейера.

1. Подключите выходной порт набора данных к верхнему левому порту ввода модуля **выполнение скрипта Python** . Конструктор предоставляет входные данные в качестве параметра для скрипта точки входа.
    
    Правый порт ввода зарезервирован для ZIP-библиотек Python.

    ![Соединение наборов данных](media/how-to-designer-python/connect-dataset.png)
        

1. Запишите используемый порт ввода. Конструктор присваивает переменной `dataset1` и среднему входному порту значение `dataset2`. 

Входные модули являются необязательными, так как вы можете создавать или импортировать данные непосредственно в модуле **выполнение скрипта Python** .

### <a name="write-your-python-code"></a>Написание кода Python

Конструктор предоставляет начальный скрипт точки входа для редактирования и ввода собственного кода Python. 

В этом примере используется Pandas для объединения двух столбцов, найденных в наборе данных автомобилей, **цены** и **лошадиных силах**, для создания нового столбца, **долларов на лошадиную мощность**. Эта статья содержит сведения о том, сколько денег взимается за каждую лошадиную мощность, что может быть полезной функцией для принятия решения о том, является ли автомобиль хорошим делом. 

1. Выберите модуль **выполнить сценарий Python** .

1. В области, расположенной справа от холста, выберите текстовое поле **скрипт Python** .

1. Скопируйте и вставьте следующий код в текстовое поле.

    ```python
    import pandas as pd
    
    def azureml_main(dataframe1 = None, dataframe2 = None):
        dataframe1['Dollar/HP'] = dataframe1.price / dataframe1.horsepower
        return dataframe1
    ```
    Конвейер должен выглядеть следующим образом:
    
    ![Выполнение конвейера Python](media/how-to-designer-python/execute-python-pipeline.png)

    Скрипт точки входа должен содержать функцию `azureml_main`. Существует два параметра функции, которые сопоставляются с двумя входными портами для модуля **выполнения сценария Python** .

    Возвращаемое значение должно быть Pandas кадром данных. В качестве выходных данных модуля можно вернуть до двух кадров данных.
    
1. Отправьте конвейер.

Теперь у вас есть набор данных с новыми функциями **долларов/HP**, который может быть полезен при обучении автомобиля. Это пример извлечения компонентов и уменьшения размерности. 

## <a name="next-steps"></a>Дальнейшие шаги

Узнайте, как [импортировать собственные данные](how-to-designer-import-data.md) в конструктор машинное обучение Azure.