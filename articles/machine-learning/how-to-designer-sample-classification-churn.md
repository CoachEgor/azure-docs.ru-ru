---
title: 'Конструктор: прогнозирование оттока клиентов (пример)'
titleSuffix: Azure Machine Learning
description: Используйте этот пример классификации для прогнозирования оттока клиентов с помощью конструктора Машинного обучения Azure и увеличивающихся деревьев принятия решений.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: sample
author: likebupt
ms.author: keli19
ms.reviewer: sgilley
ms.date: 12/25/2019
ms.openlocfilehash: 701bf186080ef627ef4621e959b281fd58aa4132
ms.sourcegitcommit: 42517355cc32890b1686de996c7913c98634e348
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/02/2020
ms.locfileid: "76963378"
---
# <a name="use-boosted-decision-tree-to-predict-churn-with-azure-machine-learning-designer"></a>Использование увеличивающегося дерева принятия решений для прогнозирования оттока клиентов с помощью конструктора Машинного обучения Azure

**Конструктор (предварительная версия) — пример 5**

[!INCLUDE [applies-to-skus](../../includes/aml-applies-to-enterprise-sku.md)]

Узнайте, как создать сложный конвейер машинного обучения с помощью конструктора (предварительная версия) без необходимости писать код.

Этот конвейер обучает два классификатора **двухклассового увеличивающегося дерева принятия решений** для прогнозирования распространенных задач для систем управления отношениями с клиентами (CRM). Значения данных и метки распределяются между несколькими источниками данных и шифруются для анонимизации пользователя. Но мы все равно можем использовать конструктор для объединения наборов данных и обучения модели на основе скрытых значений.

Проблема, которую мы решаем, называется задачей классификации. Но вы можете применять логику, описанную в этом примере, для решения любых задач машинного обучения, будь то регрессия, классификация, кластеризация и т. д.

Вот финальная версия графа этого конвейера:

![Граф конвейера](./media/how-to-designer-sample-classification-churn/pipeline-graph.png)

## <a name="prerequisites"></a>Предварительные требования

[!INCLUDE [aml-ui-prereq](../../includes/aml-ui-prereq.md)]

4. Щелкните пример 5, чтобы открыть его. 

## <a name="data"></a>Данные

Данные для этого конвейера получены из набора данных KDD Cup 2009. Он содержит 50 000 строк и 230 столбцов функций. Задача заключается в прогнозировании оттока клиентов, стремления и сопутствующих продаж для клиентов, использующих эти признаки. См. сведения на [веб-сайте KDD](https://www.kdd.org/kdd-cup/view/kdd-cup-2009).

## <a name="pipeline-summary"></a>Сводка по конвейеру

Этот пример конвейера в конструкторе демонстрирует использование бинарного классификатора для прогнозирования оттока клиентов, стремления и сопутствующих продаж. Это распространенная задача, связанная с управлением отношениями с клиентами (CRM).

Сначала выполняется несложная обработка данных.

- Необработанный набор данных содержит много отсутствующих значений. Используйте модуль **очистки отсутствующих данных**, чтобы изменить отсутствующие значения на 0.

    ![Очистка набора данных](media/how-to-designer-sample-classification-churn/sample5-dataset-1225.png)

- Признаки и соответствующие показатели оттока находятся в разных наборах данных. Используйте модуль **добавления столбцов**, чтобы добавить столбцы меток в столбцы признаков. Первый столбец, **col1**, — это столбец меток. Результат визуализации показывает, что набор данных не сбалансирован. Отрицательных примеров (-1) намного больше, чем положительных (+1). Чтобы увеличить число положительных примеров, будет использоваться модуль **SMOTE**.

    ![Добавление набора данных столбца](./media/how-to-designer-sample-classification-churn/sample5-addcol-1225.png)



- Используйте модуль **разделения данных**, чтобы разделить набор данных на обучающий и тестовый.

- Затем для создания моделей прогнозирования используйте двоичный классификатор увеличивающегося дерева принятия решений с параметрами по умолчанию. Создайте по одной модели для каждой задачи: прогнозирования сопутствующих продаж, стремления и оттока клиентов.

- В правой части конвейера для увеличения доли положительных примеров используется модуль **SMOTE**. Для задается значение SMOTE в процентах, равное 100, чтобы удвоить число положительных примеров. См. сведения о [работе модуля SMOTE](algorithm-module-reference/smote.md).

## <a name="results"></a>Результаты

Визуализируйте выходные данные модуля **анализа модели**, чтобы оценить производительность модели на основе набора данных для тестирования. 

![анализ результатов;](./media/how-to-designer-sample-classification-churn/sample5-evaluate-1225.png)

 Можно переместить ползунок **порога** и просмотреть изменения метрик для задачи двоичной классификации. 

## <a name="clean-up-resources"></a>Очистка ресурсов

[!INCLUDE [aml-ui-cleanup](../../includes/aml-ui-cleanup.md)]

## <a name="next-steps"></a>Дальнейшие действия

Изучите другие примеры, доступные для использования с конструктором:

- [Пример 1. Регрессия: прогнозирование цен на автомобили](how-to-designer-sample-regression-automobile-price-basic.md)
- [Пример 2. Регрессия: сравнение алгоритмов для прогнозирования цен на автомобили](how-to-designer-sample-regression-automobile-price-compare-algorithms.md)
- [Пример 3. Классификация с выбором признаков: прогнозирование дохода](how-to-designer-sample-classification-predict-income.md)
- [Пример 4. Классификация: прогнозирование кредитного риска (с учетом затрат)](how-to-designer-sample-classification-credit-risk-cost-sensitive.md)
- [Пример 6. Классификация: прогнозирование задержки рейсов](how-to-designer-sample-classification-flight-delay.md)
- [Пример 7. Классификация текста: набор данных Wikipedia SP 500](how-to-designer-sample-text-classification.md)
