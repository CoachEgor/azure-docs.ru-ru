---
title: Повторное обучение моделей с помощью конструктора Машинное обучение Azure
titleSuffix: Azure Machine Learning
description: Узнайте, как переучить модели машинного обучения с помощью опубликованных конвейеров в конструкторе Машинное обучение Azure.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.author: keli19
author: likebupt
ms.date: 04/06/2020
ms.topic: conceptual
ms.custom: how-to, designer
ms.openlocfilehash: d754674fe3aa65fa9fd8540b05083979ce96aff8
ms.sourcegitcommit: 5e5a0abe60803704cf8afd407784a1c9469e545f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/01/2020
ms.locfileid: "96437122"
---
# <a name="retrain-models-with-azure-machine-learning-designer"></a>Повторное обучение моделей с помощью конструктора Машинное обучение Azure


Из этой статьи вы узнаете, как использовать конструктор Машинного обучения Azure для переобучения модели машинного обучения. Для обучения модели новым данным будут использоваться опубликованные конвейеры для автоматизации рабочего процесса и установки параметров. 

Вы узнаете, как выполнять следующие задачи:

> [!div class="checklist"]
> * обучить модель машинного обучения;
> * создать параметр конвейера;
> * опубликовать конвейер обучения;
> * переобучить модель с использованием новых параметров.

## <a name="prerequisites"></a>Предварительные требования

* Рабочая область машинного обучения Azure
* Выполните часть 1 из этой серии "практические руководства [", преобразуйте данные в конструкторе](how-to-designer-transform-data.md)

[!INCLUDE [machine-learning-missing-ui](../../includes/machine-learning-missing-ui.md)]

В этой статье также предполагается, что у вас есть опыт создания конвейеров в конструкторе. Вводные сведения о конструкторе вы можете найти в этом [учебнике](tutorial-designer-automobile-price-train-score.md). 

### <a name="sample-pipeline"></a>Пример конвейера

Конвейер, используемый в этой статье, является измененной версией примера [прогноза доходности](samples-designer.md#classification) конвейера на домашней странице конструктора. Конвейер использует модуль [Импорт данных](algorithm-module-reference/import-data.md) вместо примера набора данных, чтобы показать вам, как обучать модели, применяя собственные данные.

![Снимок экрана: измененный пример конвейера с рамкой вокруг модуля "Импорт данных"](./media/how-to-retrain-designer/modified-sample-pipeline.png)

## <a name="create-a-pipeline-parameter"></a>Создание параметра конвейера

Параметры конвейера используются для создания универсальных конвейеров, которые можно повторно отправить позже с использованием различных значений параметров. Некоторые распространенные сценарии — Обновление наборов данных или некоторых параметров Hyper-Parameters для повторного обучения. Создайте параметры конвейера для динамической установки переменных во время выполнения. 

Параметры конвейера можно добавить в параметры источника данных или модуля в конвейере. При повторной отправке конвейера можно указать значения этих параметров.

В этом примере вы измените путь данных для обучения с фиксированного значения на параметр, чтобы вы могли переобучить модель на основе других данных. Можно также добавить другие параметры модуля в качестве параметров конвейера в соответствии с вашим вариантом использования.

1. Выберите модуль **Импорт данных**.

    > [!NOTE]
    > В этом примере для доступа к данным в зарегистрированном хранилище данных используется модуль "Импорт данных". Однако, если вы используете альтернативные шаблоны доступа к данным, можно выполнить аналогичные действия.

1. В области сведений о модуле справа от холста выберите источник данных.

1. Введите путь к данным. Вы также можете щелкнуть **Выбрать путь**, чтобы просмотреть дерево файлов. 

1. Наведите мышь на поле **Путь** и нажмите кнопку с многоточием над появившимся полем **Путь**.

1. Выберите **Add to pipeline parameter** (Добавить к параметрам конвейера).

1. Укажите имя параметра и значение по умолчанию.

   ![Снимок экрана: создание параметра конвейера](media/how-to-retrain-designer/add-pipeline-parameter.png)

1. Щелкните **Сохранить**.

   > [!NOTE]
   > Можно также отсоединить параметр модуля от параметра конвейера в области сведений о модуле, подобно добавлению параметров конвейера.
   >
   > Параметры конвейера можно также проверить и изменить, выбрав значок шестеренки **Параметры** рядом с названием черновика конвейера. 
   >    - После отсоединения параметр конвейера можно удалить в области **параметры числа** .
   >    - Можно также добавить параметр конвейера в область **Параметры** , а затем применить его к некоторым параметрам модуля.

1. Отправьте запуск конвейера.

## <a name="publish-a-training-pipeline"></a>Публикация конвейера обучения

Опубликуйте конвейер в конечной точке конвейера, чтобы в будущем можно было легко использовать конвейеры. Для вызова конвейера в будущем конечная точка конвейера создает конечную точку REST. В этом примере конечная точка конвейера позволяет повторно использовать конвейер для переобучения модели на основе других данных.

1. Выберите **Опубликовать** над холстом конструктора.
1. Выберите или создайте конечную точку конвейера.

   > [!NOTE]
   > Вы можете опубликовать несколько конвейеров в одной конечной точке. Каждому конвейеру в данной конечной точке присваивается номер версии, который вы можете указать при вызове конечной точки конвейера.

1. Нажмите кнопку **Опубликовать**.

## <a name="retrain-your-model"></a>Повторное обучение модели

Теперь, когда у вас есть опубликованный конвейер обучения, вы можете использовать его для переобучения модели на основе новых данных. Вы можете отправлять запуски из конечной точки конвейера из рабочей области студии или программным способом.

### <a name="submit-runs-by-using-the-studio-portal"></a>Отправка запусков с помощью портала студии

Выполните следующие действия, чтобы отправить параметризованную конечную точку конвейера с портала Studio:

1. Перейдите на страницу **Конечные точки** в рабочей области студии.
1. Выберите вкладку **Конечные точки конвейера**. Затем выберите конечную точку конвейера.
1. Выберите вкладку **Опубликованные конвейеры**. Затем выберите версию конвейера, которую необходимо запустить.
1. Нажмите кнопку **Submit** (Отправить).
1. В диалоговом окне "Параметры" можно указать значения параметров для запуска. В этом примере обновите путь к данным, чтобы обучить модель с использованием набора данных за пределами США.

![Снимок экрана: настройка запуска параметризованного конвейера в конструкторе](./media/how-to-retrain-designer/published-pipeline-run.png)

### <a name="submit-runs-by-using-code"></a>Отправка запусков с использованием кода

Конечную точку REST опубликованного конвейера можно найти на панели обзора. Вызвав конечную точку, вы можете переобучить опубликованный конвейер.

Чтобы выполнить вызов REST, вам нужен заголовок аутентификации на основе носителя OAuth 2.0. Сведения о настройке аутентификации в рабочей области и выполнении параметризованного вызова REST см. в разделе [Публикация и запуск из конечной точки REST](tutorial-pipeline-batch-scoring-classification.md#publish-and-run-from-a-rest-endpoint).

## <a name="next-steps"></a>Дальнейшие действия

Из этой статьи вы узнали, как создать параметризованную конечную точку конвейера обучения с помощью конструктора.

Для полного ознакомления с тем, как можно развернуть модель для прогнозирования, см. [Учебное пособие для конструктора](tutorial-designer-automobile-price-train-score.md) по обучению и развертыванию модели регрессии.
