---
title: Повторное обучение моделей с помощью Машинное обучение Azure конструктора (Предварительная версия)
titleSuffix: Azure Machine Learning
description: Узнайте, как переучить модели с опубликованными конвейерами в Машинное обучение Azure Designer (Предварительная версия).
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: how-to
ms.author: keli19
author: likebupt
ms.date: 02/24/2020
ms.openlocfilehash: 264b169eefde18880f50feae2554aa3ca7037b1f
ms.sourcegitcommit: 512d4d56660f37d5d4c896b2e9666ddcdbaf0c35
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2020
ms.locfileid: "79368168"
---
# <a name="retrain-models-with-azure-machine-learning-designer-preview"></a>Повторное обучение моделей с помощью конструктора Машинное обучение Azure (Предварительная версия)
[!INCLUDE [applies-to-skus](../../includes/aml-applies-to-enterprise-sku.md)]

В этом руководстве вы узнаете, как использовать конструктор Машинное обучение Azure для переобучения модели машинного обучения. Узнайте, как использовать опубликованные конвейеры для автоматизации рабочих процессов машинного обучения для повторного обучения.

Вы узнаете, как выполнять следующие задачи:

> [!div class="checklist"]
> * обучить модель машинного обучения;
> * Создайте параметр конвейера.
> * Опубликуйте обучающий конвейер.
> * Повторное обучение модели.

## <a name="prerequisites"></a>предварительные требования

* Подписка Azure. Если у вас еще нет подписки Azure, создайте [бесплатную учетную запись Azure](https://aka.ms/AMLFree).
* Рабочая область Машинное обучение Azure с SKU Enterprise.

В этой статье предполагается, что у вас есть базовые знания о построении конвейеров в конструкторе. Вы можете ознакомиться с [руководством](tutorial-designer-automobile-price-train-score.md) по началу работы с конструктором. 

### <a name="sample-pipeline"></a>Пример конвейера

Конвейер, используемый в этой статье, является измененной версией, найденной в [примере 3: прогноз дохода](how-to-designer-sample-classification-predict-income.md). Он использует модуль [Импорт данных](algorithm-module-reference/import-data.md) вместо образца набора данных, чтобы продемонстрировать, как обучить модель с помощью собственных данных.

![Снимок экрана, на котором показан измененный пример конвейера с полем, в котором выделяется модуль импорт данных](./media/how-to-retrain-designer/modified-sample-pipeline.png)

## <a name="train-a-machine-learning-model"></a>Обучение модели машинного обучения.

Для повторного обучения модели необходима исходная модель. В этом разделе вы узнаете, как обучить модель и получить доступ к сохраненной модели с помощью конструктора.

1. Выберите модуль **Импорт данных** .
1. На панели Свойства укажите источник данных.

   ![Снимок экрана, на котором показан пример конфигурации модуля импорта данных](./media/how-to-retrain-designer/import-data-settings.png)

   В этом примере данные хранятся в [хранилище данных Azure](how-to-access-data.md). Если у вас еще нет хранилища данных, можно создать его сейчас, выбрав **создать хранилище данных**.

1. Укажите путь к данным. Можно также выбрать **Обзор путь** , чтобы перейти к хранилищу данных. 
1. Выберите **выполнить** в верхней части холста.
    
   > [!NOTE]
   > Если для этого черновика конвейера уже задано вычисление по умолчанию, конвейер будет запущен автоматически. В противном случае можно выполнить запрос на панели параметры, чтобы установить его сейчас.

### <a name="find-your-trained-model"></a>Поиск обученной модели

Конструктор сохраняет все выходные данные конвейера, включая обученные модели, в учетную запись хранения по умолчанию. Вы также можете получить доступ к обученной модели непосредственно в конструкторе:

1. Дождитесь завершения выполнения конвейера.
1. Выберите модуль **Train Model** (Обучение модели).
1. В области Параметры выберите **выходные данные и журналы**.
1. Выберите значок **просмотреть выходные данные** и следуйте инструкциям во всплывающем окне, чтобы найти обученную модель.

![Снимок экрана, показывающий, как загрузить обученную модель](./media/how-to-retrain-designer/trained-model-view-output.png)

## <a name="create-a-pipeline-parameter"></a>Создание параметра конвейера

Добавьте параметры конвейера для динамической установки переменных во время выполнения. Для этого конвейера добавьте параметр для пути к обучающим данным, чтобы можно было переучить модель на новом наборе данных.

1. Выберите модуль **Импорт данных** .
1. В области Параметры щелкните многоточие над полем **путь** .
1. Выберите **Добавить в параметр конвейера**.
1. Укажите имя параметра и значение по умолчанию.

   > [!NOTE]
   > Вы можете проверить и изменить параметры конвейера, щелкнув значок шестеренки **Параметры** рядом с названием черновика конвейера. 

![Снимок экрана, показывающий, как создать параметр конвейера](media/how-to-retrain-designer/add-pipeline-parameter.png)

## <a name="publish-a-training-pipeline"></a>Публикация обучающего конвейера

При публикации конвейера создается конечная точка конвейера. Конечные точки конвейера позволяют повторно использовать конвейеры и управлять ими для повторяемости и автоматизации. В этом примере вы настроили конвейер для повторного обучения.

1. Выберите **опубликовать** над холстом конструктора.
1. Выберите или создайте конечную точку конвейера.

   > [!NOTE]
   > Можно опубликовать несколько конвейеров в одной конечной точке. Каждому конвейеру в конечной точке присваивается номер версии, который можно указать при вызове конечной точки конвейера.

1. Нажмите кнопку **Опубликовать**.

## <a name="retrain-your-model"></a>Повторное обучение модели

Теперь, когда у вас есть опубликованный конвейер обучения, его можно использовать для переобучения модели с помощью новых данных. Вы можете отправлять запуски из конечной точки конвейера из портал Azure или отправлять их программными средствами.

### <a name="submit-runs-by-using-the-designer"></a>Отправка запусков с помощью конструктора

Чтобы отправить конечную точку конвейера из конструктора, выполните следующие действия.

1. Перейдите на страницу **конечные точки** .
1. Перейдите на вкладку **конечные точки конвейера** .
1. Выберите конечную точку конвейера.
1. Выберите вкладку **опубликованные конвейеры** .
1. Выберите конвейер, который требуется запустить.
1. Нажмите кнопку **Submit** (Отправить).
1. В диалоговом окне Установка можно указать новое значение для параметра путь к входным данным. Это значение указывает на новый набор данных.

![Снимок экрана, показывающий, как настроить выполнение параметризованного конвейера в конструкторе](./media/how-to-retrain-designer/published-pipeline-run.png)

### <a name="submit-runs-by-using-code"></a>Отправка запусков с помощью кода

Конечную точку RESTFUL опубликованного конвейера можно найти на панели Обзор. Вызывая конечную точку, можно переучить опубликованный конвейер.

Чтобы выполнить вызов RESTFUL, требуется заголовок аутентификации носителя OAuth 2,0. Сведения о настройке проверки подлинности в рабочей области и выполнении параметризованного вызова функции RESTFUL см. в разделе [создание конвейера машинное обучение Azure для пакетной оценки](tutorial-pipeline-batch-scoring-classification.md#publish-and-run-from-a-rest-endpoint).

## <a name="next-steps"></a>Дальнейшие действия

Следуйте указаниям в [учебнике по конструктору](tutorial-designer-automobile-price-train-score.md) , чтобы обучить и развернуть модель регрессии.
