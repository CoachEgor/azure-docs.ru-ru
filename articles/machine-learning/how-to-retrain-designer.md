---
title: Повторное обучение моделей с помощью Машинное обучение Azure конструктора (Предварительная версия)
titleSuffix: Azure Machine Learning
description: Узнайте, как переучить модели с опубликованными конвейерами в Машинное обучение Azure Designer (Предварительная версия).
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: how-to
ms.author: keli19
author: likebupt
ms.date: 04/06/2020
ms.openlocfilehash: 77c1cc6ef5a7353d246958d1b047f054d5f49890
ms.sourcegitcommit: 11572a869ef8dbec8e7c721bc7744e2859b79962
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/05/2020
ms.locfileid: "82837164"
---
# <a name="retrain-models-with-azure-machine-learning-designer-preview"></a>Переобучение моделей с помощью конструктора Машинного обучения Azure (предварительная версия)
[!INCLUDE [applies-to-skus](../../includes/aml-applies-to-enterprise-sku.md)]

В этом руководстве вы узнаете, как использовать конструктор Машинное обучение Azure для переобучения модели машинного обучения. Вы будете использовать опубликованные конвейеры для автоматизации рабочего процесса и настройки параметров для обучения модели новым данным. 

Вы узнаете, как выполнять следующие задачи:

> [!div class="checklist"]
> * обучить модель машинного обучения;
> * Создайте параметр конвейера.
> * Опубликуйте обучающий конвейер.
> * Переучить модель с новыми параметрами.

## <a name="prerequisites"></a>Предварительные требования

* Рабочая область Машинного обучения Azure с номером SKU Enterprise.
* Выполните часть 1 из этой серии "практические руководства", чтобы [преобразовать данные в конструкторе](how-to-designer-transform-data.md).

В этой статье также предполагается, что у вас есть базовые знания о построении конвейеров в конструкторе. Дополнительные сведения см. в [руководстве](tutorial-designer-automobile-price-train-score.md). 

### <a name="sample-pipeline"></a>Пример конвейера

Конвейер, используемый в этой статье, является измененной версией [примера 3: прогноз дохода](samples-designer.md#classification-samples). Конвейер использует модуль [Импорт данных](algorithm-module-reference/import-data.md) вместо образца набора данных, чтобы продемонстрировать, как обучать модели с помощью собственных данных.

![Снимок экрана, на котором показан измененный пример конвейера с полем, в котором выделяется модуль импорт данных](./media/how-to-retrain-designer/modified-sample-pipeline.png)

## <a name="create-a-pipeline-parameter"></a>Создание параметра конвейера

Создайте параметры конвейера, чтобы динамически задавать переменные во время выполнения. В этом примере путь к обучающим данным будет изменен с фиксированного значения на параметр, чтобы можно было переучить модель на основе различных данных.

1. Выберите модуль **Импорт данных** .

    > [!NOTE]
    > В этом примере для доступа к данным в зарегистрированном хранилище данных используется модуль импорт данных. Однако при использовании альтернативных шаблонов доступа к данным можно выполнить аналогичные действия.

1. В области сведений о модуле справа от холста выберите источник данных.

1. Введите путь к данным. Можно также выбрать вариант **Обзор** , чтобы просмотреть дерево файлов. 

1. Перейдите к полю **пути** и выберите многоточие над полем **пути** , которое отображается.

    ![Снимок экрана, показывающий, как создать параметр конвейера](media/how-to-retrain-designer/add-pipeline-parameter.png)

1. Выберите **Добавить в параметр конвейера**.

1. Укажите имя параметра и значение по умолчанию.

   > [!NOTE]
   > Вы можете проверить и изменить параметры конвейера, щелкнув значок шестеренки **Параметры** рядом с названием черновика конвейера. 

1. Щелкните **Сохранить**.

1. Отправьте выполнение конвейера.

## <a name="find-a-trained-model"></a>Поиск обученной модели

Конструктор сохраняет все выходные данные конвейера, включая обученные модели, в учетной записи хранения рабочей области по умолчанию. Вы также можете получить доступ к обученным моделям непосредственно в конструкторе:

1. Дождитесь завершения выполнения конвейера.
1. Выберите модуль **Train Model** (Обучение модели).
1. В области сведения о модуле справа от холста выберите **выходные данные + журналы**.
1. Вы можете найти свою модель в **других выходных** данных вместе с журналами выполнения.
1. Кроме того, можно выбрать значок **просмотра выходных данных** . Здесь можно выполнить инструкции в диалоговом окне, чтобы перейти непосредственно к хранилищу данных. 

![Снимок экрана, показывающий, как загрузить обученную модель](./media/how-to-retrain-designer/trained-model-view-output.png)

## <a name="publish-a-training-pipeline"></a>Публикация обучающего конвейера

Опубликуйте конвейер в конечной точке конвейера, чтобы легко повторно использовать конвейеры в будущем. Конечная точка конвейера создает конечную точку RESTFUL для вызова конвейера в будущем. В этом примере конечная точка конвейера позволяет повторно использовать конвейер для переобучения модели на различных данных.

1. Выберите **опубликовать** над холстом конструктора.
1. Выберите или создайте конечную точку конвейера.

   > [!NOTE]
   > Можно опубликовать несколько конвейеров в одной конечной точке. Каждому конвейеру в заданной конечной точке присваивается номер версии, который можно указать при вызове конечной точки конвейера.

1. Нажмите **Публиковать**.

## <a name="retrain-your-model"></a>Повторное обучение модели

Теперь, когда у вас есть опубликованный конвейер обучения, его можно использовать для переобучения модели на новые данные. Вы можете отправлять запуски из конечной точки конвейера из рабочей области Studio или программными средствами.

### <a name="submit-runs-by-using-the-designer"></a>Отправка запусков с помощью конструктора

Выполните следующие действия, чтобы отправить параметризованную конечную точку конвейера из конструктора:

1. Перейдите на страницу **конечные точки** в рабочей области Studio.
1. Перейдите на вкладку **конечные точки конвейера** . Затем выберите конечную точку конвейера.
1. Выберите вкладку **опубликованные конвейеры** . Затем выберите версию конвейера, которую необходимо запустить.
1. Нажмите кнопку **Submit** (Отправить).
1. В диалоговом окне Установка можно указать значения параметров для запуска. В этом примере обновите путь к данным, чтобы обучить модель с помощью набора данных, отличного от США.

![Снимок экрана, показывающий, как настроить выполнение параметризованного конвейера в конструкторе](./media/how-to-retrain-designer/published-pipeline-run.png)

### <a name="submit-runs-by-using-code"></a>Отправка запусков с помощью кода

Конечную точку RESTFUL опубликованного конвейера можно найти на панели Обзор. Вызывая конечную точку, можно переучить опубликованный конвейер.

Чтобы выполнить вызов RESTFUL, требуется заголовок аутентификации носителя OAuth 2,0. Сведения о настройке проверки подлинности в рабочей области и выполнении параметризованного вызова функции RESTFUL см. в разделе [создание конвейера машинное обучение Azure для пакетной оценки](tutorial-pipeline-batch-scoring-classification.md#publish-and-run-from-a-rest-endpoint).

## <a name="next-steps"></a>Дальнейшие действия

Из этой статьи вы узнали, как создать конечную точку конвейера с параметризованным обучением с помощью конструктора.

Полное пошаговое руководство по развертыванию модели для создания прогнозов см. в [учебнике по конструктору](tutorial-designer-automobile-price-train-score.md) для обучения и развертывания модели регрессии.
