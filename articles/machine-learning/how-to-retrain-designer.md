---
title: Переобучение моделей с использованием конструктора Машинного обучения Azure (предварительная версия)
titleSuffix: Azure Machine Learning
description: Узнайте, как переобучить модели с помощью опубликованных конвейеров в конструкторе Машинного обучения Azure (предварительная версия).
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.author: keli19
author: likebupt
ms.date: 04/06/2020
ms.custom: designer
ms.openlocfilehash: 7a132734c3ccb6d5d143053b83723950d154d74c
ms.sourcegitcommit: fdec8e8bdbddcce5b7a0c4ffc6842154220c8b90
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2020
ms.locfileid: "83653691"
---
# <a name="retrain-models-with-azure-machine-learning-designer-preview"></a>Переобучение моделей с помощью конструктора Машинного обучения Azure (предварительная версия)
[!INCLUDE [applies-to-skus](../../includes/aml-applies-to-enterprise-sku.md)]

Из этой статьи вы узнаете, как использовать конструктор Машинного обучения Azure для переобучения модели машинного обучения. Для обучения модели новым данным будут использоваться опубликованные конвейеры для автоматизации рабочего процесса и установки параметров. 

Вы узнаете, как выполнять следующие задачи:

> [!div class="checklist"]
> * обучить модель машинного обучения;
> * создать параметр конвейера;
> * опубликовать конвейер обучения;
> * переобучить модель с использованием новых параметров.

## <a name="prerequisites"></a>Предварительные требования

* Рабочая область Машинного обучения Azure с номером SKU Enterprise.
* Завершите часть 1 этой серии статей [Преобразование данных в конструкторе Машинного обучения Azure (предварительная версия)](how-to-designer-transform-data.md).

В этой статье также предполагается, что у вас есть базовые знания о создании конвейеров в конструкторе. Вводные сведения о конструкторе вы можете найти в этом [учебнике](tutorial-designer-automobile-price-train-score.md). 

### <a name="sample-pipeline"></a>Пример конвейера

Конвейер, использованный в этой статье, представляет собой измененную версию [примера 3: прогнозирование дохода](samples-designer.md#classification). Конвейер использует модуль [Импорт данных](algorithm-module-reference/import-data.md) вместо примера набора данных, чтобы показать вам, как обучать модели, применяя собственные данные.

![Снимок экрана: измененный пример конвейера с рамкой вокруг модуля "Импорт данных"](./media/how-to-retrain-designer/modified-sample-pipeline.png)

## <a name="create-a-pipeline-parameter"></a>Создание параметра конвейера

Создайте параметры конвейера для динамической установки переменных во время выполнения. В этом примере вы измените путь данных для обучения с фиксированного значения на параметр, чтобы вы могли переобучить модель на основе других данных.

1. Выберите модуль **Импорт данных**.

    > [!NOTE]
    > В этом примере для доступа к данным в зарегистрированном хранилище данных используется модуль "Импорт данных". Однако, если вы используете альтернативные шаблоны доступа к данным, можно выполнить аналогичные действия.

1. В области сведений о модуле справа от холста выберите источник данных.

1. Введите путь к данным. Вы также можете щелкнуть **Выбрать путь**, чтобы просмотреть дерево файлов. 

1. Наведите мышь на поле **Путь** и нажмите кнопку с многоточием над появившимся полем **Путь**.

    ![Снимок экрана: создание параметра конвейера](media/how-to-retrain-designer/add-pipeline-parameter.png)

1. Выберите **Add to pipeline parameter** (Добавить к параметрам конвейера).

1. Укажите имя параметра и значение по умолчанию.

   > [!NOTE]
   > Параметры конвейера можно также проверить и изменить, выбрав значок шестеренки **Параметры** рядом с названием черновика конвейера. 

1. Щелкните **Сохранить**.

1. Отправьте запуск конвейера.

## <a name="find-a-trained-model"></a>Поиск обученной модели

Конструктор сохраняет все выходные данные конвейера (включая обученные модели) в учетную запись хранения рабочей области по умолчанию. Доступ к обученным моделям можно также получить прямо в конструкторе:

1. Подождите, пока конвейер завершит работу.
1. Выберите модуль **Train Model** (Обучение модели).
1. В области "Сведения о модуле" справа от холста щелкните элемент **Outputs + logs** (Выходные данные и журналы).
1. Свою модель можно найти в разделе **Прочие выходные данные** вместе с журналами запуска.
1. Вместо этого можно выбрать значок **View output** (Просмотр выходных данных). На данном этапе вы можете следовать инструкциям в диалоговом окне, чтобы перейти непосредственно к хранилищу данных. 

![Снимок экрана: скачивание обученной модели](./media/how-to-retrain-designer/trained-model-view-output.png)

## <a name="publish-a-training-pipeline"></a>Публикация конвейера обучения

Опубликуйте конвейер в конечной точке конвейера, чтобы в будущем можно было легко использовать конвейеры. Для вызова конвейера в будущем конечная точка конвейера создает конечную точку REST. В этом примере конечная точка конвейера позволяет повторно использовать конвейер для переобучения модели на основе других данных.

1. Выберите **Опубликовать** над холстом конструктора.
1. Выберите или создайте конечную точку конвейера.

   > [!NOTE]
   > Вы можете опубликовать несколько конвейеров в одной конечной точке. Каждому конвейеру в данной конечной точке присваивается номер версии, который вы можете указать при вызове конечной точки конвейера.

1. Нажмите кнопку **Опубликовать**.

## <a name="retrain-your-model"></a>Повторное обучение модели

Теперь, когда у вас есть опубликованный конвейер обучения, вы можете использовать его для переобучения модели на основе новых данных. Вы можете отправлять запуски из конечной точки конвейера из рабочей области студии или программным способом.

### <a name="submit-runs-by-using-the-designer"></a>Отправка запусков с помощью конструктора

Выполните следующие шаги, чтобы отправить из конструктора параметризованную конечную точку конвейера:

1. Перейдите на страницу **Конечные точки** в рабочей области студии.
1. Выберите вкладку **Конечные точки конвейера**. Затем выберите конечную точку конвейера.
1. Выберите вкладку **Опубликованные конвейеры**. Затем выберите версию конвейера, которую необходимо запустить.
1. Нажмите кнопку **Submit** (Отправить).
1. В диалоговом окне "Параметры" можно указать значения параметров для запуска. В этом примере обновите путь к данным, чтобы обучить модель с использованием набора данных за пределами США.

![Снимок экрана: настройка запуска параметризованного конвейера в конструкторе](./media/how-to-retrain-designer/published-pipeline-run.png)

### <a name="submit-runs-by-using-code"></a>Отправка запусков с использованием кода

Конечную точку REST опубликованного конвейера можно найти на панели обзора. Вызвав конечную точку, вы можете переобучить опубликованный конвейер.

Чтобы выполнить вызов REST, вам нужен заголовок аутентификации на основе носителя OAuth 2.0. Сведения о настройке аутентификации в рабочей области и выполнении параметризованного вызова REST см. в разделе [Публикация и запуск из конечной точки REST](tutorial-pipeline-batch-scoring-classification.md#publish-and-run-from-a-rest-endpoint).

## <a name="next-steps"></a>Дальнейшие действия

Из этой статьи вы узнали, как создать параметризованную конечную точку конвейера обучения с помощью конструктора.

Для полного ознакомления с тем, как можно развернуть модель для прогнозирования, см. [Учебное пособие для конструктора](tutorial-designer-automobile-price-train-score.md) по обучению и развертыванию модели регрессии.
