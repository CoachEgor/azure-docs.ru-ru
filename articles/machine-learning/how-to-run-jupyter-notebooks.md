---
title: Выполнение веб-приложений Jupyter Notebook в рабочей области
titleSuffix: Azure Machine Learning
description: Узнайте, как выполнять веб-приложения Jupyter Notebook в рабочей области Студии машинного обучения Azure.
services: machine-learning
author: abeomor
ms.author: osomorog
ms.reviewer: sgilley
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.custom: how-to
ms.date: 06/27/2020
ms.openlocfilehash: c794b87a88cec20b75923e1f251c1e309a43ef1c
ms.sourcegitcommit: a76ff927bd57d2fcc122fa36f7cb21eb22154cfa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/28/2020
ms.locfileid: "87319598"
---
# <a name="how-to-run-jupyter-notebooks-in-your-workspace"></a>Выполнение веб-приложений Jupyter Notebook в рабочей области
[!INCLUDE [applies-to-skus](../../includes/aml-applies-to-basic-enterprise-sku.md)]

Узнайте, как использовать веб-приложения Jupyter Notebook прямо в рабочей области Студии машинного обучения Azure. Работать с записными книжками можно не только в [Jupyter](https://jupyter.org/) или [JupyterLab](https://jupyterlab.readthedocs.io), но и прямо в рабочей области.

В этой статье описаны следующие возможности:

* создание веб-приложений Jupyter Notebook (записных книжек) в рабочей области;
* выполнение эксперимента из записной книжки;
* изменение среды записной книжки;
* поиск сведений о вычислительных операциях, используемых для выполнения записных книжек.

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись](https://aka.ms/AMLFree), прежде чем начинать работу.
* Рабочая область машинного обучения. См. сведения о [создании рабочей области машинного обучения Azure](how-to-manage-workspace.md).

## <a name="create-notebooks"></a><a name="create"></a> Создание записных книжек

В рабочей области Машинного обучения Azure создайте новое веб-приложение Jupyter Notebook и начните работу. При создании записная книжка размещается в хранилище рабочей области по умолчанию. Доступ к этой записной книжке можно предоставить любому пользователю, у которого есть доступ к рабочей области. 

Чтобы создать записную книжку: 

1. Откройте рабочую область [Студии машинного обучения](https://ml.azure.com).
1. Выберите **Записные книжки** слева. 
1. Выберите значок **Создать файл** над списком **Файлы пользователя** в разделе **Мои файлы**.

    :::image type="content" source="media/how-to-run-jupyter-notebooks/create-new-file.png" alt-text="Создание файла":::

1. Присвойте файлу имя. 
1. Для файла Jupyter Notebook выберите тип **Python Notebook** (Записная книжка Python).
1. Выберите каталог для файла.
1. Нажмите кнопку **создания**.

Кроме того, можно создавать текстовые файлы.  Выберите в качестве типа файла **Text** (Текстовый файл) и добавьте расширение к имени (например, myfile.py или myfile.txt).  

Вы также можете передавать папки и файлы, в том числе записные книжки, используя инструменты, которые находятся в верхней части страницы "Записные книжки".  В разделе предварительного просмотра отображаются записные книжки и большинство типов текстовых файлов.  Для большинства других типов файлов предварительный просмотр недоступен.

> [!IMPORTANT]
> Содержимое записных книжек и сценариев потенциально может считывать данные из сеансов и получать доступ к данным без Организации в Azure.  Загружать файлы только из надежных источников. Дополнительные сведения см. в разделе рекомендации по [безопасному коду](concept-secure-code-best-practice.md#azure-ml-studio-notebooks).

### <a name="clone-samples"></a>Клонирование примеров

Рабочая область содержит папку **Samples** (Примеры) с записными книжками, предназначенными для изучения пакета SDK и использования в качестве примеров для ваших собственных проектов машинного обучения.  Вы можете клонировать эти записные книжки в собственную папку в контейнере хранилища рабочей области.  

Пример см. в разделе [Учебник. Создание первого эксперимента машинного обучения](tutorial-1st-experiment-sdk-setup.md#azure).

### <a name="use-files-from-git-and-version-my-files"></a><a name="terminal"></a> Использование файлов из Git и работа с версиями файлов

Доступ ко всем операциям Git можно получить с помощью окна терминала. Все файлы и папки Git будут храниться в файловой системе рабочей области.

> [!NOTE]
> Добавьте файлы и папки в папку **~/cloudfiles/code/Users**, чтобы они отображались во всех средах Jupyter.

Чтобы открыть терминал:

1. Откройте рабочую область [Студии машинного обучения](https://ml.azure.com).
1. Выберите **Записные книжки** слева.
1. Выберите любую записную книжку, расположенную в разделе **Файлы пользователя** слева.  Если у вас нет записных книжек, сначала [создайте записную книжку](#create).
1. Выберите целевой объект вычислений (**Compute**) или создайте новый и подождите, пока он будет запущен.
1. Выберите значок **Open terminal** (Открыть терминал).

    :::image type="content" source="media/how-to-run-jupyter-notebooks/open-terminal.png" alt-text="Откройте терминал":::

1. Если значок не отображается, выберите **...** справа от целевого объекта вычислений, а затем выберите **Open terminal** (Открыть терминал).

    :::image type="content" source="media/how-to-run-jupyter-notebooks/alt-open-terminal.png" alt-text="Открытие терминала с помощью меню "..."":::


Дополнительные сведения см. в разделе [Клонирование репозиториев Git в файловую систему рабочей области](concept-train-model-git-integration.md#clone-git-repositories-into-your-workspace-file-system).


### <a name="share-notebooks-and-other-files"></a>Общий доступ к записным книжкам и другим файлам

Скопируйте и вставьте URL-адрес, чтобы совместно использовать записную книжку или файл.  Доступ к этому URL-адресу смогут получить только другие пользователи рабочей области.  Узнайте больше о [предоставлении доступа к рабочей области](how-to-assign-roles.md).

## <a name="edit-a-notebook"></a>Изменение записной книжки

Чтобы изменить записную книжку, откройте любую записную книжку, расположенную в разделе **User Files** (Файлы пользователя) рабочей области. Щелкните ячейку, которую хотите изменить. 

Вы можете изменить записную книжку без подключения к вычислительному экземпляру.  Если нужно выполнить ячейки в записной книжке, выберите или создайте вычислительный экземпляр.  Если выбрать остановленный вычислительный экземпляр, он автоматически начнется при запуске первой ячейки.

При запуске вычислительного экземпляра можно также использовать функцию завершения кода на платформе [IntelliSense](https://code.visualstudio.com/docs/editor/intellisense)в любой записной книжке Python.

Вы также можете запустить Jupyter или JupyterLab на панели инструментов записной книжки.  Машинное обучение Azure не предоставляет обновления и исправления ошибок из Jupyter или JupyterLab, так как они являются продуктами с открытым кодом вне компетенции службы поддержки Майкрософт.

### <a name="use-intellisense"></a>Использование IntelliSense

[IntelliSense](https://code.visualstudio.com/docs/editor/intellisense) — это средство завершения кода, включающее ряд функций: список членов, сведения о параметрах, краткие сведения и полное слово. Эти возможности помогают получать дополнительные сведения об используемом коде, отслеживать параметры при вводе и добавлять вызовы свойств и методов путем нескольких нажатий клавиш.  

При вводе кода используйте клавиши Ctrl + пробел для активации IntelliSense.

### <a name="save-and-checkpoint-a-notebook"></a>Сохранение и контрольная точка записной книжки

Машинное обучение Azure создает файл контрольных точек при создании файла *ipynb*   .

На панели инструментов записной книжки выберите меню, а затем **файл &gt; сохранить и контрольная точка** , чтобы вручную сохранить записную книжку, и она добавит файл контрольных точек, связанный с записной книжкой.

:::image type="content" source="media/how-to-run-jupyter-notebooks/file-save.png" alt-text="Снимок экрана инструмента "сохранение" на панели инструментов записной книжки":::

Каждая Записная книжка автоматически сохраняется каждые 30 секунд.Функция автосохранения обновляет только исходный файл *ipynb*   , а не файл контрольных точек.
 
Выберите **контрольные точки** в меню Записная книжка, чтобы создать именованную контрольную точку и вернуть ее к сохраненной контрольной точке.


### <a name="useful-keyboard-shortcuts"></a>Полезные сочетания клавиш

|Клавиатура  |Действие  |
|---------|---------|
|SHIFT+ВВОД     |  Выполнение ячейки.       |
|Ctrl+ПРОБЕЛ | Активация IntelliSense |
|CTRL+M (Windows)     |  Включение и отключение режима вставки символа табуляции в записной книжке.       |
|CTRL+SHIFT+M (Mac и Linux)     |    Включение и отключение режима вставки символа табуляции в записной книжке.     |
|TAB (если режим вставки символа табуляции включен) | Добавление символа "\t" (отступ).
|TAB (если режим вставки символа табуляции отключен) | Переключение фокуса на следующий элемент (кнопку удаления ячейки, кнопку выполнения и т. д.).

## <a name="delete-a-notebook"></a>Удаление записной книжки

Записные книжки в папке **Samples** (Примеры) удалить *нельзя*.  Эти записные книжки входят в состав Студии и обновляются каждый раз при публикации нового пакета SDK.  

Вы *можете* удалить записные книжки из папки **User files** (Файлы пользователя) любым из следующих способов:

* В Студии выберите **...** в конце папки или файла.  Убедитесь, что используется поддерживаемый браузер (Microsoft Edge, Chrome или Firefox).
* На панели инструментов любой записной книжки выберите [**Open terminal**](#terminal) (Открыть терминал) для доступа к окну терминала для вычислительной операции.
* Воспользуйтесь инструментами Jupyter или JupyterLab.

## <a name="run-an-experiment"></a>Выполнение эксперимента

Чтобы запустить эксперимент из записной книжки, сначала подключитесь к выполняемой [вычислительной операции](concept-compute-instance.md). Если у вас нет вычислительной операции, выполните следующие действия, чтобы создать ее: 

1. Выберите элемент **+** на панели инструментов записной книжки. 
2. Присвойте имя вычислительной операции и выберите значение **Virtual Machine Size** (Размер виртуальной машины). 
3. Нажмите кнопку **создания**.
4. Вычислительная операция автоматически подключается к записной книжке, после чего вы можете выполнять ячейки.

Только вы можете просматривать и использовать созданные вами вычислительные операции.  Ваша папка **User files** (Файлы пользователя) хранится отдельно от виртуальной машины и является общей для всех вычислительных операций в рабочей области.

### <a name="view-logs-and-output"></a>Просмотр журналов и выходных данных

Используйте [мини-приложения записной книжки](https://docs.microsoft.com/python/api/azureml-widgets/azureml.widgets?view=azure-ml-py) для просмотра хода выполнения и журналов. Мини-приложение работает асинхронно и предоставляет обновленные сведения до тех пор, пока обучение не будет завершено. Мини-приложения Машинного обучения Azure также поддерживаются в Jupyter и JupyterLab.

## <a name="change-the-notebook-environment"></a>Изменение среды записной книжки

С помощью панели инструментов записной книжки можно изменить среду, в которой выполняется записная книжка.  

При этом не меняется ни состояние записной книжки, ни значения переменных в ней.

|Действие  |Результат  |
|---------|---------| --------|
|Остановка ядра     |  Все выполняемые ячейки останавливаются. При выполнении ячейки ядро автоматически перезапускается. |
|Переход в другой раздел рабочей области     |     Выполняемые ячейки останавливаются. |

Эти действия сбрасывают состояние записной книжки и все переменные в записной книжке.

|Действие  |Результат  |
|---------|---------| --------|
| Изменение ядра | Записная книжка использует новое ядро. |
| Переключение вычисления    |     Записная книжка автоматически использует новое вычисление. |
| Сброс вычисления | Повторный запуск при попытке выполнить ячейку. |
| Остановка вычисления     |    Ячейки не выполняются.  |
| Открытие записной книжки в Jupyter или JupyterLab     |    Записная книжка открывается на новой вкладке.  |

### <a name="add-new-kernels"></a>Добавление новых ядер

Записная книжка автоматически находит все ядра Jupyter, установленные на подключенной вычислительной операции.  Чтобы добавить ядро к вычислительной операции:

1. На панели инструментов записной книжки выберите [**Open terminal**](#terminal) (Открыть терминал).
1. Создайте новую среду с помощью терминала.
1. Активируйте среду.  Например, после создания среды `newenv`:

    ```shell
    source activate newenv
    python -m ipykernel install --user --name newenv --display-name "Python (newenv)"
    ```

Можно установить любое из [доступных ядер Jupyter](https://github.com/jupyter/jupyter/wiki/Jupyter-kernels).

### <a name="status-indicators"></a>Индикаторы состояния

Индикатор рядом с раскрывающимся списком **Compute** (Вычисление) отображает его состояние.  Состояние также отображается в самом раскрывающемся списке.  

|Color |Состояние вычисления |
|---------|---------| 
| Зеленый | Вычисление выполняется |
| Красный |Сбой при вычислении | 
| Черный | Вычисление остановлено |
|  Голубой |Создание, запуск, перезапуск, настройка вычисления |
|  Серый |Идет процесс удаления или остановки вычисления |

Индикатор рядом с раскрывающимся списком **Kernel** (Ядро) отображает его состояние.

|Color |Состояние ядра |
|---------|---------|
|  Зеленый |Ядро подключено, неактивно или занято|
|  Серый |Ядро не подключено |

## <a name="find-compute-details"></a>Сведения о вычислениях 

Сведения о вычислительных операциях см. на странице **Compute** (Вычисления) в [Студии](https://ml.azure.com).

## <a name="next-steps"></a>Дальнейшие действия

* [Выполнение первого эксперимента](tutorial-1st-experiment-sdk-train.md)
* [Резервное копирование хранилища файлов с помощью моментальных снимков](../storage/files/storage-snapshots-files.md)
