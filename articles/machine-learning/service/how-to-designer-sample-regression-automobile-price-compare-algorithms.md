---
title: 'Пример конструктора #3: регрессия по ценам и сравнению алгоритмов'
titleSuffix: Azure Machine Learning
description: В этой статье показано, как создать сложный конвейер машинного обучения без написания единой строки кода с помощью конструктора (Предварительная версия). Узнайте, как обучить и сравнивать несколько моделей регрессии для прогнозирования цены автомобиля на основе технических характеристик.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
author: xiaoharper
ms.author: zhanxia
ms.reviewer: peterlu
ms.date: 11/04/2019
ms.openlocfilehash: 4fb2e4c5c96c0c4c1b4d8ef14de65e470d545638
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73515438"
---
# <a name="sample-2---regression-predict-price-and-compare-algorithms"></a>Пример 2. регрессия. Прогнозирование цен и алгоритмов сравнения
[!INCLUDE [applies-to-skus](../../../includes/aml-applies-to-enterprise-sku.md)]

Узнайте, как создать конвейер машинного обучения без написания единой строки кода с помощью конструктора (Предварительная версия). В этом примере описывается обучение и сравнение нескольких моделей регрессии для прогнозирования цены автомобиля на основе ее технических характеристик. Мы предоставим смысл для вариантов, сделанных в этом конвейере, чтобы вы могли справиться с собственными проблемами машинного обучения.

Если вы только начинаете работу с машинным обучением, ознакомьтесь с [базовой версией](how-to-designer-sample-regression-automobile-price-basic.md) этого конвейера.

Вот завершенный граф для этого конвейера:

[![граф конвейера](media/how-to-ui-sample-regression-predict-automobile-price-compare-algorithms/graph.png)](media/how-to-ui-sample-classification-predict-credit-risk-cost-sensitive/graph.png#lightbox)

## <a name="prerequisites"></a>Технические условия

[!INCLUDE [aml-ui-prereq](../../../includes/aml-ui-prereq.md)]

4. Щелкните пример 2, чтобы открыть его. 

## <a name="pipeline-summary"></a>Сводка по конвейеру

Чтобы создать конвейер машинного обучения, выполните следующие действия.

1. Получение данных.
1. Предварительно обработайте данные.
1. Обучение модели.
1. Тестирование, оценка и сравнение моделей.

## <a name="get-the-data"></a>Получение данных

В этом примере используется набор данных " **данные о ценах на автомобиль" (RAW)** , который находится в репозитории "UCI машинное обучение". Этот набор данных содержит 26 столбцов, содержащих сведения об устройствах автомобильной связи, включая создание, моделирование, цену, функции автомобилей (например, число цилиндров), MPG и оценку риска страхования.

## <a name="pre-process-the-data"></a>Предварительная обработка данных

К основным задачам подготовки данных относятся очистка данных, интеграция, преобразование, сокращение, дискретизация или дискретизация. В конструкторе можно найти модули для выполнения этих операций и других задач предварительной обработки данных в группе **преобразования данных** на левой панели.

Используйте модуль **Выбор столбцов в наборе данных** , чтобы исключить нормализованные потери с большим количеством отсутствующих значений. Затем мы используем **чистые отсутствующие данные** для удаления строк с отсутствующими значениями. Это помогает создать чистый набор обучающих данных.

![Предварительная обработка данных](media/how-to-ui-sample-regression-predict-automobile-price-compare-algorithms/data-processing.png)

## <a name="train-the-model"></a>Обучение модели

Проблемы машинного обучения различаются. Типичные задачи машинного обучения включают в себя классификацию, кластеризацию, регрессию и рекомендации, для каждой из которых может потребоваться другой алгоритм. Выбор алгоритма часто зависит от требований варианта использования. После выбора алгоритма необходимо настроить его параметры для обучения более точной модели. Затем необходимо оценить все модели на основе метрик, таких как точность, интеллигибилити и эффективность.

Так как цель этого конвейера — прогнозировать цены автомобилей, и поскольку столбец меток (Price) содержит реальные числа, то модель регрессии является хорошим выбором. Учитывая, что количество функций относительно невелико (меньше 100) и эти функции не имеют разреженности, граница решения, скорее всего, будет нелинейной.

Чтобы сравнить производительность различных алгоритмов, мы используем два нелинейных алгоритма, **повышенную регрессию дерева принятия решений** и **регрессию леса принятия решений**для построения моделей. Оба алгоритма имеют параметры, которые можно изменить, но в этом образце используются значения по умолчанию для этого конвейера.

Используйте модуль **Split Data (разделение данных** ), чтобы случайным образом разделить входные данные так, чтобы набор данных для обучения содержал 70% исходных данных, а проверочный набор данных содержит 30% от исходных.

## <a name="test-evaluate-and-compare-the-models"></a>Тестирование, оценка и сравнение моделей

Для обучения и последующей проверки модели используются два разных набора случайных данных, как описано в предыдущем разделе. Разделите набор данных и используйте различные наборы данных для обучения и тестирования модели, чтобы сделать оценку модели более целевой.

После обучения модели используйте **модель оценки** и **оцените модули модели** для создания прогнозируемых результатов и оценки моделей. **Модель оценки** создает прогнозы для тестового набора данных с помощью обученной модели. Затем передайте оценки для **оценки модели** , чтобы создать метрики оценки.



Вот результат выполнения:

![Сравнение результатов](media/how-to-ui-sample-regression-predict-automobile-price-compare-algorithms/result.png)

Эти результаты показывают, что модель, построенная с помощью **регрессии с повышенным деревом принятия решений** , имеет меньшую среднюю корневую ошибку, чем модель, построенную на **регрессии леса принятия решений**.

Оба алгоритма имеют более низкую ошибку в наборе данных для обучения, чем в невидимом наборе данных тестирования.

## <a name="clean-up-resources"></a>Очистка ресурсов

[!INCLUDE [aml-ui-cleanup](../../../includes/aml-ui-cleanup.md)]

## <a name="next-steps"></a>Дальнейшие действия

Изучите другие примеры, доступные для конструктора:

- [Пример 1. регрессия: прогнозирование цены автомобиля](how-to-designer-sample-regression-automobile-price-basic.md)
- [Пример 3. Классификация с выбором компонентов: прогноз дохода](how-to-designer-sample-classification-predict-income.md)
- [Пример 4. Классификация: прогнозируемый кредитный риск (с учетом стоимости)](how-to-designer-sample-classification-credit-risk-cost-sensitive.md)
- [Пример 5. Классификация: обработка прогнозов](how-to-designer-sample-classification-churn.md)
- [Пример 6. Классификация: прогнозы задержек полета](how-to-designer-sample-classification-flight-delay.md)
- [Пример 7. Классификация текста: набор данных Википедии SP 500](how-to-designer-sample-text-classification.md)
