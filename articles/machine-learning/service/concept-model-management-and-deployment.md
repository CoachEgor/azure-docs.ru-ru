---
title: 'MLOps: Управление, развертывание и мониторинг моделей машинного Обучения'
titleSuffix: Azure Machine Learning service
description: 'Узнайте, как использовать службы машинного обучения Azure для MLOps: развертывать, контролировать и отслеживать модели, чтобы постоянно улучшать их. Модели, обученные с помощью службы "Машинное обучение Azure", можно развертывать на локальном компьютере или из других источников.'
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.reviewer: jmartens
author: jpe316
ms.author: jordane
ms.date: 06/24/2019
ms.custom: seodec18
ms.openlocfilehash: 11a4a17d7816d2302b6549cffb9517e10ad1258d
ms.sourcegitcommit: f56b267b11f23ac8f6284bb662b38c7a8336e99b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/28/2019
ms.locfileid: "67442344"
---
# <a name="mlops-manage-deploy-and-monitor-models-with-azure-machine-learning-service"></a>MLOps: Администрирование, развертывание и мониторинг моделей с помощью службы "Машинное обучение Azure"

В этой статье сведения о том, как использовать службы машинного обучения Azure для управления жизненным циклом моделей. Машинное обучение Azure использует подход операции обучения машины (MLOps), что улучшает качество и согласованность машинного обучения решения. 

Azure службы машинного обучения предоставляет следующие возможности MLOps:

- **Развертывание проектов машинного Обучения из любого места**
- **Мониторинг приложений машинного Обучения для оперативной и проблемы, связанные с ML** — сравнить входные данные модели между обучения и вывода, просмотреть метрики для конкретной модели и обеспечивают мониторинг и оповещения в инфраструктуре машинного Обучения.
- **Записать данные, необходимые для установления следа аудита сквозного жизненного цикла машинного Обучения**, включая издатель моделей, почему были сделаны изменения, и при модели были развернуты или использовать в рабочей среде.
- **Автоматизируйте жизненный цикл сквозного машинного Обучения с помощью машинного обучения Azure и Azure DevOps** постоянно обновлять моделей, проверки новых моделей и постоянно развертывания новых моделей машинного Обучения, наряду с других приложений и служб.

Чтобы услышать больше на принципы MLOps и как они применяются к службе машинного обучения Azure, в следующем видео.

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2X1GX]

## <a name="deploy-ml-projects-from-anywhere"></a>Развертывание проектов машинного Обучения из любого места

### <a name="turn-your-training-process-into-a-reproducible-pipeline"></a>Превратите конвейер воспроизводимый процесс обучения
Используйте конвейеры машинного Обучения из машинного обучения Azure стыковки всех действий, необходимых в процессе обучения модели, от подготовки данных для извлечения признаков до настройкой гиперпараметров для оценки модели.

Дополнительные сведения см. в разделе [конвейеров машинного Обучения](concept-ml-pipelines.md).

### <a name="register-and-track-ml-models"></a>Регистрировать и отслеживать моделей машинного Обучения

Регистрация модели позволяет хранить и изменять модели в облаке Azure в рабочей области. Модель реестра позволяет легко организовывать и отслеживать ваши обученные модели.

> [!TIP]
> Зарегистрированной модели — это логический контейнер для одного или нескольких файлов, которые входят в модель. Например если у вас есть модель, которая хранится в нескольких файлах, можно зарегистрировать их как одну модель в рабочей области машинного обучения Azure. После регистрации можно затем загрузке или развертывании зарегистрированной модели и получать все файлы, которые были зарегистрированы.
 
Зарегистрированные модели идентифицируются по имени и версии. При регистрации модели с уже существующим именем реестр увеличивает номер версии. Во время регистрации также можно предоставить дополнительные теги метаданных, которые можно использовать при поиске моделей. Служба машинного обучения Azure поддерживает любой модели, которую можно загрузить с помощью Python 3.5.2 или более поздней версии.

> [!TIP]
> Вы также можете зарегистрировать моделей, обученных за пределами службы машинного обучения Azure.

Невозможно удалить зарегистрированной модели, который используется в активное развертывание.
Дополнительные сведения см. в разделе "Регистрация модели" статьи [Развертывание моделей с помощью Службы машинного обучения Azure](how-to-deploy-and-where.md#registermodel).

### <a name="package-and-debug-models"></a>Моделях пакетов и отладки

Прежде чем развертывать модели в рабочей среде, он упаковывается в образ Docker. В большинстве случаев создание образа происходит автоматически в фоновом режиме во время развертывания. Для более сложных сценариев можно вручную указать образ.

При возникновении проблем с развертыванием, можно развернуть в вашей локальной среде разработки для отладки и устранения неполадок.

Дополнительные сведения см. в разделе [развертывания моделей](how-to-deploy-and-where.md#registermodel) и [Устранение неполадок при развертывании](how-to-troubleshoot-deployment.md).

### <a name="validate-and-profile-models"></a>Проверка и профиля моделей

Служба машинного обучения Azure можно использовать профилирование чтобы определить оптимальные параметры ЦП и памяти для использования при развертывании модели. Проверка модели выполняется как часть этого процесса, с помощью данных, переданных для профилирования процесса.

### <a name="convert-and-optimize-models"></a>Преобразование и оптимизации моделей

Преобразование модели [откройте нейронной сети Exchange](https://onnx.ai) (ONNX) может повысить производительность. В среднем преобразование в ONNX могут выдавать два раза повысить производительность.

Дополнительные сведения о ONNX с помощью службы машинного обучения Azure, см. в разделе [Create и ускорить работу моделей машинного Обучения](concept-onnx.md) статьи.

### <a name="use-models"></a>Использование моделей

Обученной модели машинного обучения можно развернуть как веб-службы в облаке или локально в среде разработки. Модели также можно развернуть на устройствах Azure IoT Edge. Развертывания могут использовать ЦП, GPU или программируемые пользователем Вентильные (матрицы FPGA) для выводов. Можно также использовать модели из Power BI.

При использовании модели как веб-службы или устройство IoT Edge, можно указать следующие элементы:

* В модели, которые используются для оценки данных, отправленных службе или устройству.
* Сценарий входа. Этот сценарий принимает запросы, использует в модели для оценки данных и возвращают ответ.
* Файл среды conda, описываются зависимости, необходимые для модели и записи скрипта.
* Любые дополнительные ресурсы, такие как текст, данные, и т.д., необходимые модели и записи скрипта.

Эти ресурсы в образ Docker и развернуть в качестве веб-службы или модуля IoT Edge.

При необходимости можно использовать следующие параметры для дальнейшей настройки развертывания:

* Включите GPU: Используется, чтобы включить поддержку GPU в образе Docker. Образ должен использоваться в службах Microsoft Azure, такие как экземпляры контейнеров Azure, службе Azure Kubernetes, вычислений машинного обучения Azure или виртуальных машинах Azure.
* Действия файл дополнительных docker: Файл, содержащий дополнительные действия Docker для выполнения при создании образа Docker.
* Базовый образ: Пользовательский образ для использования в качестве базового образа. Если вы не используете пользовательский образ, базовый образ предоставляется службой машинного обучения Azure.

Можно также предоставить конфигурацию целевой платформы развертывания. Например виртуальной Машины типа семейства, объем доступной памяти и количество ядер, при развертывании в службе Azure Kubernetes.

При создании образа, также добавляются компоненты, необходимые для службы машинного обучения Azure. Например ресурсы, необходимые для запуска веб-службы и взаимодействия с помощью Edge Интернета вещей.

> [!NOTE]
> Нельзя изменить или изменить веб-сервер или компоненты Edge Интернета вещей, используемые в образе Docker. Служба машинного обучения Azure использует веб-сервера конфигурации и компоненты Edge Интернета вещей, протестированы и поддерживаются корпорацией Майкрософт.

#### <a name="web-service"></a>Веб-служба

Можно использовать модели в **веб-службы** со следующими целевых объектов вычислений:

* Экземпляр контейнера Azure
* Служба Azure Kubernetes
* Локальной среде разработки

Развертывание модели как веб-службу, необходимо указать следующие элементы:

* Модели или совокупности модели.
* Зависимости, необходимые для использования модели. Например, сценарий, который принимает запросы и вызывает модели, с зависимостями conda, и т.д.
* Конфигурация развертывания, который описывает, как и где развертывание модели.

Дополнительные сведения см. в разделе [развертывания моделей](how-to-deploy-and-where.md).

#### <a name="iot-edge-devices"></a>Устройства IoT Edge

Вы можете использовать модели с устройствами Интернета вещей с помощью **модулей Azure IoT Edge**. Модули IoT Edge развертываются для устройства, который включает определение или модель оценки на устройстве.

Дополнительные сведения см. в разделе [развертывания моделей](how-to-deploy-and-where.md).

### <a name="analytics"></a>Аналитика

Microsoft Power BI поддерживает использование моделей машинного обучения для анализа данных. Дополнительные сведения см. в разделе [интеграции машинного обучения Azure в Power BI (Предварительная версия)](https://docs.microsoft.com/power-bi/service-machine-learning-integration).


## <a name="monitor-ml-applications-for-operational-and-ml-related-issues"></a>Мониторинг приложений машинного Обучения для оперативной и проблемы, связанные с машинного Обучения

Мониторинг позволяет понять, какие данные отправляются в модели и прогнозы, которые он возвращает.

Эта информация поможет вам понять, как используется модель. Собранные входных данных, также можно использовать в будущих версиях обучения модели.

Дополнительные сведения см. в статье [Сбор данных для моделей в рабочей среде](how-to-enable-data-collection.md).


## <a name="capture-an-end-to-end-audit-trail-of-the-ml-lifecycle"></a>Записи аудита сквозного жизненным циклом машинного Обучения

Машинное Обучение Azure позволяет отслеживать сквозное аудита всех ресурсов машинного Обучения. В частности:

- Машинное Обучение Azure интегрируется с Git, чтобы отслеживать данные репозиторием, в который / ветви "и" фиксация правильных вашего кода из.
- Azure наборы данных машинного Обучения помогут вам отслеживать и версии данных.
- Журнал выполнения Azure ML управляет код, данные и вычислительные ресурсы для обучения модели.
- Реестр модели машинного Обучения Azure захватывает все метаданные, связанные с моделью (какие эксперимента обученной его, в котором она развертывается, если находятся в работоспособном состоянии ее развертывания).

## <a name="automate-the-end-to-end-ml-lifecycle"></a>Автоматизируйте жизненный цикл сквозного машинного Обучения 

GitHub и конвейеры Azure можно использовать для создания процесса непрерывной интеграции, которая обучает модель. В типичном сценарии когда специалист по обработке данных проверяет изменения в репозиторий Git для проекта, конвейер Azure будет запустить выполнение обучения. Чтобы увидеть характеристики производительности обученной модели может быть изучена результаты выполнения. Можно также создать конвейер, который развертывает модель как веб-службы.

[Расширение машинного обучения Azure](https://marketplace.visualstudio.com/items?itemName=ms-air-aiagility.vss-services-azureml) позволяет проще работать с конвейерами Azure. Он содержит следующие улучшения в конвейеры Azure:

* Выбор рабочей области, при определении подключения к службе.
* Включает выпуск конвейеров, которое будет вызвано обученной модели, созданные в конвейер обучения.

Дополнительные сведения об использовании Azure конвейеры машинного обучения Azure см. в разделе [непрерывной интеграции и развертывания моделей машинного Обучения с конвейерами Azure](/azure/devops/pipelines/targets/azure-machine-learning) статьи и [Azure Machine Learning службы MLOps](https://aka.ms/mlops) репозитория.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о том, как и где можно развертывать модели с помощью службы "Машинное обучение Azure", см. в [этой статье](how-to-deploy-and-where.md). Пример развертывания, см. в разделе [руководства: Развернуть модель классификации изображений в экземплярах контейнеров Azure](tutorial-deploy-models-with-aml.md).

Сведения о создании [непрерывной интеграции и развертывания моделей машинного Обучения с конвейерами Azure](/azure/devops/pipelines/targets/azure-machine-learning). 

Узнайте, как создавать клиентские приложения и службы, которые [используют модель, развернутую в качестве веб-службы](how-to-consume-web-service.md).
