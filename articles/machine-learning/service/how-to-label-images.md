---
title: Сведения об использовании средства добавления меток в Службе Машинного обучения Azure
title.suffix: Azure Machine Learning
description: В этой статье рассказывается, как использовать средства добавления тегов к данным в проекте маркировки Службы Машинного обучения Azure.
author: lobrien
ms.author: laobri
ms.service: machine-learning
ms.topic: tutorial
ms.date: 11/04/2019
ms.openlocfilehash: 9cbebb905ba39dabaf905be2fa741702bd1a0088
ms.sourcegitcommit: 35715a7df8e476286e3fee954818ae1278cef1fc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/08/2019
ms.locfileid: "73838938"
---
# <a name="how-to-tag-images-in-a-labeling-project"></a>Расстановка тегов для изображений в проекте маркировки

После того, как администратор проекта создаст проект маркировки в AML, вы можете применить средство добавления меток для быстрой подготовки данных для проекта машинного обучения. 

> [!div class="checklist"]
> * Доступ к проектам маркировки
> * Средства добавления меток
> * Сведения об использовании средств для конкретных задач маркировки

## <a name="prerequisites"></a>Предварительные требования

* URL-адрес портала маркировки для выполнения проекта маркировки данных
* [Учетная запись Майкрософт](https://account.microsoft.com/account) или
* Учетная запись Azure Active Directory для организации и проекта

> [!Note]
> Администратор проекта может найти URL-адрес портала маркировки на вкладке **Сведения** на странице **Сведения о проекте**. 

## <a name="logging-in-to-the-projects-labeling-portal"></a>Вход на портал маркировки для проекта

Откройте URL-адрес портала маркировки, который вам предоставил администратор проекта. 

Войдите в систему с учетной записью электронной почты, которую администратор использовал для добавления вас в группу. Для большинства пользователей вход выполняется с учетная записью Майкрософт. Если в проекте маркировки используется Azure Active Directory, то используйте для входа именно этот вариант. 

## <a name="understanding-the-labeling-task"></a>Понимание задачи маркировки

После входа вы окажетесь на страницу обзорных сведений о проекте. 

Первым делом **просмотрите подробные инструкции**. Эти инструкции относятся к конкретному проекту и объясняют тип данных, которые вы в нем встретите, правила принятия решений и другие важные сведения. Когда все будет готово, вернитесь на страницу проекта и выберите **Start labeling** (Начать добавление меток).

## <a name="common-features-of-the-labeling-task"></a>Общие функции для задачи маркировки

Все задачи расстановки меток для изображений включают выбор подходящего тега (или тегов) из набора, заданного администратором проекта. Один из первых девяти тегов вы можете выбрать нажатием цифровых клавиш на клавиатуре.  

Задачи классификации изображений позволяют отображать несколько изображений одновременно. С помощью значков над областью для изображений можно выбрать любой из нескольких макетов. Вы можете выбрать сразу все отображаемые изображения, нажав кнопку **Выбрать все**. Отдельные фотографии выбираются круглой кнопкой выбора, которая есть в правом верхнем углу каждого изображения. Чтобы присвоить тег, нужно выбрать по меньшей мере одно изображение. Если выбраны несколько изображений, выбор тега применяет этот тег к каждому из выбранных изображений.

В нашем примере выбран макет 2x2 и мы намерены применить тег Mammal (Млекопитающее) к изображениям медведя и касатки. Изображение акулы уже помечено тегом Cartilaginous fish (Хрящевая рыба), а игуана пока никак не помечена.

![Макеты с несколькими изображениями и выбор](media/how-to-label-images/layouts.png)

> [!Important] 
> Переключайте макеты только в тот момент, когда отображается новая страница данных без меток. Переключение макетов приводит к очистке всех несохраненных тегов на странице. 

Azure включает кнопку **Отправить**, когда вы присвоите теги всем изображениям на странице. Щелкните **Отправить**, чтобы сохранить изменения. 

После отправки тегов для отображаемых данных Azure обновит страницу, предоставив новый набор изображений из рабочей очереди.  

## <a name="tagging-images-for-multi-class-classification"></a>Присвоение изображениям меток для многоклассовой классификации

Если проект имеет тип "Классификация изображений с множеством классов", то один тег присваивается всему изображению в целом. В любое время откройте страницу **Инструкции** и щелкните **View detailed instructions** (Просмотреть подробные инструкции) для просмотра рекомендаций по конкретному проекту. 

Как уже обсуждалось ранее, вы можете выбрать несколько макетов для представления изображений. Если вы заметите ошибку после выбора изображения и назначения тега, ее можно исправить. Если вы щелкните целевой объект `X` в метке, которая отображается под изображением, вы удалите этот тег. Также можно выбрать изображение и выбрать другой класс, тогда тегу будет присвоено новое выбранное значение.

## <a name="tagging-images-for-multi-label-classification"></a>Присвоение изображениям меток для классификации с несколькими метками

Если вы работаете над проектом типа "Классификация изображений с множеством меток", вы можете применить к изображению один _или несколько_ тегов. В любое время откройте страницу **Инструкции** и щелкните **View detailed instructions** (Просмотреть подробные инструкции) для просмотра рекомендаций по конкретному проекту. 

Выберите изображение для маркировки, а затем щелкните нужный тег. Выбор тега применяется ко всем выбранным изображениям, после этого выделение отменяется. Чтобы применить новые теги, необходимо повторно выбрать изображения. В этой анимации демонстрируется страница присвоения тегов с несколькими метками:

* Используется функция **Выбрать все** для применения тега Ocean (Океан)
* Выбрано одно изображение с тегом Closeup (Крупный план)
* Выбраны три изображения с тегом Wide angle (Широкий угол)

![Анимация, демонстрирующая рабочий поток присвоения нескольких меток](media/how-to-label-images/multilabel.gif)

Чтобы исправить ошибку, можно щелкнуть `X`, чтобы очистить отдельные теги, либо выбрать изображения и выбрать тег, чтобы удалить его со всех выбранных изображений. Этот сценарий демонстрируется ниже: щелчок по тегу Land (Земля) удалит этот тег из двух выбранных изображений.

![Снимок экрана с отменой тега для нескольких изображений](media/how-to-label-images/multiple-deselection.png)

Azure включает кнопку **Отправить** только после того, как вы присвоите каждому изображению хотя бы один тег. Щелкните **Отправить**, чтобы сохранить работу.

## <a name="tagging-images-and-bounding-boxes-for-object-detection"></a>Расстановка тегов и ограничивающие прямоугольники для обнаружения объектов на изображениях

Если проект имеет тип "Идентификация объектов (ограничивающие прямоугольники)", для каждого изображения вам нужно указать один или несколько ограничивающих прямоугольников и применить тег к каждому прямоугольнику. Каждое изображение может иметь несколько ограничивающих прямоугольников, каждый из которых имеет один тег. Ссылка **View detailed instructions** (Просмотреть подробные инструкции) поможет вам определить, допустимо ли в текущем проекте добавлять несколько ограничивающих прямоугольников.

1. Выбор тега для ограничивающего прямоугольника, который вы хотите создать
1. Выберите средство **Rectangular box** (Прямоугольник) ![Средство определения прямоугольника](media/how-to-label-images/rectangular-box-tool.png) или нажмите клавишу R. 
1. Щелкните и перетащите указатель мыши, чтобы приближенно задать диагональ ограничивающего прямоугольника.
    * Скорректируйте размер и (или) положение ограничивающего прямоугольника, перетаскивая его края или углы.

![Снимок экрана: создание базового ограничивающего прямоугольника](media/how-to-label-images/bounding-box-sequence.png)

Если вы хотите удалить ограничивающий прямоугольник, щелкните значок с изображением креста (X), который отображается рядом с ограничивающим прямоугольником после его создания.

Вы не можете переназначить тег для уже существующего ограничивающего прямоугольника. Если при назначении тега будет допущена ошибка, необходимо удалить ограничивающий прямоугольник и создать новый с правильным тегом.

По умолчанию вы можете изменять существующие ограничивающие прямоугольники. Средство **Lock/unlock regions** (Установить/снять блокировку регионов) ![Средство блокировки и снятия блокировки регионов](media/how-to-label-images/lock-bounding-boxes-tool.png) или нажатие клавиши L переключает это поведение. Если регионы заблокированы, вы можете изменить форму и (или) расположение только для нового ограничивающего прямоугольника.

Для корректировки существующего ограничивающего прямоугольника используйте средство **Regions manipulation** (Манипулирование регионами) ![Средство манипулирования регионами](media/how-to-label-images/regions-tool.png) или нажмите клавишу M. Чтобы изменить форму, щелкните и перетащите края или углы. Щелкнув внутри ограничивающего прямоугольника, вы можете перетащить его целиком. Если вы не можете изменить регион, вы скорее всего включили средство **Lock/unlock regions** (Установить/снять блокировку регионов). 

Чтобы создать несколько ограничивающих прямоугольников одинакового размера, используйте средство **Template-based box** (Прямоугольник по шаблону) средство ![Средство прямоугольника по шаблону](media/how-to-label-images/template-box-tool.png) или нажмите клавишу T. Если у изображения нет ограничивающих прямоугольников, когда вы активируете средство создания прямоугольников по шаблону, оно создаст прямоугольники размером 50×50 пикселей. Если вы уже создали ограничивающий прямоугольник, а затем активировали средство создания прямоугольника по шаблону, новые ограничивающие прямоугольники будут иметь тот же размер, что и последний сделанный прямоугольник. Размер прямоугольников, созданных по шаблону, можно изменить после размещения. Изменение размера прямоугольника, созданного по шаблону, влияет только на этот конкретный прямоугольник. 

Если вы хотите удалить _все_ ограничивающие прямоугольники в текущем изображении, используйте средство **Delete all regions** (Удалить все регионы) ![Средство удаления регионов](media/how-to-label-images/delete-regions-tool.png). 

Завершив создание ограничивающих прямоугольников для изображения, нажмите **Отправить**, чтобы сохранить работу. Несохраненная работа будет утрачена, если вы не нажмете кнопку **Отправить**. 

## <a name="finishing-up"></a>Завершение 

После отправки страницы данных с тегами Azure назначает вам новый набор данных без меток из рабочей очереди. Если данных без меток больше нет, вы увидите соответствующее сообщение со ссылкой на домашнюю страницу портала. 

Когда вы решите остановить работу по добавлению меток, щелкните свое имя в правом верхнем углу портала меток и выберите действие **Выход**. Если вы не выйдете самостоятельно, через некоторое время завершится период ожидания и Azure передаст ваши данные другому маркировщику. 

## <a name="next-steps"></a>Дополнительная информация

* См. статью [Обучение модели классификации изображений](https://docs.microsoft.com/azure/machine-learning/service/tutorial-train-models-with-aml).
* Изучите сведения об [обнаружении объектов с помощью Azure и методике Faster R-CNN.](https://www.microsoft.com/developerblog/2017/10/24/bird-detection-with-azure-ml-workbench/)