---
title: 'Конвейеры: оптимизация рабочих процессов машинного обучения'
titleSuffix: Azure Machine Learning service
description: В этой статье описываются конвейеры машинного обучения, которые можно создать с помощью пакета SDK для службы "Машинное обучение Azure" для Python, и преимущества их использования. Конвейеры машинного обучения используются специалистами по обработке и анализу данных для создания, оптимизации и администрирования рабочих процессов машинного обучения.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.reviewer: jmartens
ms.author: sanpil
author: sanpil
ms.date: 05/14/2019
ms.custom: seodec18
ms.openlocfilehash: f49b384f6f943e8c6767a6133a835011bc1e6bac
ms.sourcegitcommit: 41ca82b5f95d2e07b0c7f9025b912daf0ab21909
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "67059324"
---
# <a name="build-reusable-ml-pipelines-in-azure-machine-learning-service"></a>Создание многократно используемых конвейеров машинного Обучения в службе машинного обучения Azure

В этой статье описываются конвейеры машинного обучения, которые можно создать с помощью пакета SDK Службы машинного обучения Azure для Python, и преимущества их использования.

## <a name="what-are-machine-learning-pipelines"></a>Что такое конвейеры машинного обучения

При помощи конвейеров машинного обучения ученые и инженеры, работающие с данными, а также ИТ-специалисты могут совместно выполнять следующие действия:
+ подготовка данных, в частности нормализация и преобразование;
+ Обучение модели
+ Оценка модели.
+ Развертывание 

На приведенной ниже схеме показан пример конвейера:

![Конвейеры машинного обучения в Службе машинного обучения Azure](./media/concept-ml-pipelines/pipelines.png)

<a name="compare"></a>
### <a name="which-azure-pipeline-technology-should-i-use"></a>Какую технологию Azure конвейера следует использовать?

Облако Azure предоставляет несколько других конвейерах, каждый из которых предназначена для других целей. В следующей таблице перечислены различные конвейеров и их назначение:

| Конвейер | Действие | Канонические канал |
| ---- | ---- | ---- |
| Конвейеры машинного обучения Azure | Определяет повторно используемый машинного обучения рабочих процессов, которые могут использоваться в качестве шаблона для выполнения машинного обучения сценарии. | Данные модели, "->" |
| [Конвейеры фабрики данных Azure](https://docs.microsoft.com/azure/data-factory/concepts-pipelines-activities) | Перемещение данных групп, преобразования и действия управления, необходимые для выполнения задачи.  | Данные -> данных |
| [Azure конвейеров](https://azure.microsoft.com/services/devops/pipelines/) | Непрерывная интеграция и поставка приложения для любой платформы или any облако  | Код приложения или услуги, "->" |

## <a name="why-build-pipelines-with-azure-machine-learning"></a>Зачем создавать конвейеры сборки с помощью службы "Машинное обучение Azure"

[Пакет SDK Службы машинного обучения Azure для Python](#the-python-sdk-for-pipelines) можно использовать для создания конвейеров машинного обучения, а также для отправки и отслеживания выполнения отдельных конвейеров.

С помощью конвейеров можно оптимизировать рабочий процесс. Конвейеры обеспечивают простоту, скорость, мобильность и возможность повторного использования. При создании конвейеров с помощью Службы машинного обучения Azure можно сосредоточиться на том, в чем вы являетесь специалистом, — машинном обучении, а не инфраструктуре.

Благодаря использованию различных шагов можно повторно запускать только необходимые шаги во время настройки и тестирования своего рабочего процесса. Шаг — это вычислительный блок в конвейере. Как показано на предыдущей схеме, задача подготовки данных может включать в себя несколько шагов. Эти действия включают, но не ограничиваясь, нормализации, преобразования, проверки и добавления функций. Источники и промежуточные данные используются повторно в конвейере, что позволяет сэкономить процессорное время и ресурсы. 

После создания конвейера часто нужно выполнить более тонкую настройку его цикла обучения. При повторном запуске конвейера выполняются только те шаги, которые необходимо выполнить повторно, например обновленный сценарий обучения, а неизмененные шаги пропускаются. Та же парадигма применяется к неизменным сценариям, используемым для выполнения шага. 

С помощью машинного обучения Azure можно использовать различные наборы средств и платформ, например, PyTorch или TensorFlow, для каждого шага в конвейере. Azure выполняет координацию между различными используемыми [целевыми объектами вычислений](concept-azure-machine-learning-architecture.md), чтобы промежуточные данные можно было легко совместно использовать с нисходящими целевыми объектами вычислений. 

Можно [отслеживать метрики для экспериментов в конвейере](https://docs.microsoft.com/azure/machine-learning/service/how-to-track-experiments) непосредственно на портале Azure. 

## <a name="key-advantages"></a>Ключевые преимущества

Ниже приведены ключевые преимущества создания конвейеров для рабочих процессов машинного обучения.

|Ключевое преимущество|Описание|
|:-------:|-----------|
|**Автоматические&nbsp;выполнения**|Запланируйте несколько шагов, которые будут выполняться параллельно или последовательно в надежном и автоматическом режиме. Так как подготовка и моделирование данных могут занимать дни или недели, во время выполнения конвейера можно сосредоточиться на других задачах. |
|**Смешанные и различные вычисления**|Используйте несколько конвейеров, которые надежно скоординированы, в гетерогенных и масштабируемых средах вычисления и хранения. Отдельные шаги конвейера могут выполняться на различных целевых объектах вычислений, таких как HDInsight, Виртуальных машинах для обработки и анализа данных с GPU и Databricks. Это позволяет эффективно использовать доступные вычислительные ресурсы.|
|**Повторное использование**|Для определенных сценариев, таких как переобучение и пакетная оценка, можно создать шаблонные конвейеры. Они могут активироваться из внешних систем с помощью простых вызовов REST.|
|**Отслеживание и управление версиями**|Вместо отслеживания данных и папок результатов вручную при выполнении итераций используйте пакет SDK для конвейеров, чтобы присваивать имена и определять версии источников данных, входных и выходных данных. Вы можете также отдельно управлять сценариями и данными для повышения эффективности.|

## <a name="the-python-sdk-for-pipelines"></a>Пакет SDK для Python для конвейеров

Используйте Python, чтобы создать конвейеры машинного обучения. Пакет SDK для службы "Машинное обучение Azure" предлагает императивные конструкции для последовательного и параллельного выполнения шагов в конвейерах при отсутствии зависимости данных. С ним можно взаимодействовать в записных книжках Jupyter или в другой предпочтительной интегрированной среде разработки. 

Вы можете оптимизировать свои задачи с помощью декларативных зависимостей данных. Пакет SDK включает в себя платформу, состоящую из готовых модулей для типичных задач, таких как передача данных и публикация моделей. Возможности платформы можно расширить, чтобы моделировать собственные соглашения, реализовав пользовательские шаги, которые многократно используются в конвейерах. Пакет SDK также позволяет непосредственно управлять целевыми объектами вычислений и ресурсами хранилища.

Конвейеры можно сохранять как шаблоны и развертывать их на конечной точке REST, чтобы получить возможность планировать задания пакетной оценки или переобучения.

Ознакомьтесь со [справочной документацией по пакету SDK для Python для конвейеров](https://docs.microsoft.com/python/api/azureml-pipeline-core/?view=azure-ml-py) и записной книжкой в следующем разделе, чтобы узнать, как создать собственную записную книжку.

## <a name="example-notebooks"></a>Примеры записных книжек
 
В следующих записных книжках демонстрируются конвейеры, использующие Машинное обучение Azure: [how-to-use-azureml/machine-learning-pipelines](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/machine-learning-pipelines).
 
[!INCLUDE [aml-clone-in-azure-notebook](../../../includes/aml-clone-for-examples.md)]

## <a name="next-steps"></a>Дальнейшие действия

Узнайте, как [создать свой первый конвейер](how-to-create-your-first-pipeline.md).
