---
title: 'Конвейеры: оптимизация рабочих процессов машинного обучения'
titleSuffix: Azure Machine Learning service
description: В этой статье описываются конвейеры машинного обучения, которые можно создать с помощью пакета SDK для службы "Машинное обучение Azure" для Python, и преимущества их использования. Конвейеры позволяют специалистам по анализу данных создавать, контролировать и оптимизировать рабочие процессы машинного обучения (ML).
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.reviewer: jmartens
ms.author: sanpil
author: sanpil
ms.date: 08/08/2019
ms.custom: seodec18
ms.openlocfilehash: a9965dbbca939f566048312af921061a188ee50d
ms.sourcegitcommit: aa042d4341054f437f3190da7c8a718729eb675e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/09/2019
ms.locfileid: "68884241"
---
# <a name="build-reusable-ml-pipelines-in-azure-machine-learning-service"></a>Создание конвейеров машинного обучения для повторного использования в службе Машинное обучение Azure

В этой статье описываются конвейеры машинного обучения, которые можно создать с помощью пакета SDK Службы машинного обучения Azure для Python, и преимущества их использования.

## <a name="what-are-machine-learning-pipelines"></a>Что такое конвейеры машинного обучения

При помощи конвейеров машинного обучения ученые и инженеры, работающие с данными, а также ИТ-специалисты могут совместно выполнять следующие действия:
+ подготовка данных, в частности нормализация и преобразование;
+ Обучение модели
+ Оценка модели.
+ Развертывание

На следующей схеме показан пример конвейерного процесса:

![Конвейеры машинного обучения в Службе машинного обучения Azure](./media/concept-ml-pipelines/pipeline-flow.png)

<a name="compare"></a>
### <a name="which-azure-pipeline-technology-should-i-use"></a>Какую технологию конвейера Azure следует использовать?

Облако Azure предоставляет несколько других конвейеров с разными целями. В следующей таблице перечислены различные конвейеры и их использование.

| Конвейер | Действие | Канонический канал |
| ---- | ---- | ---- |
| Конвейеры Машинное обучение Azure | Определяет рабочие процессы машинного обучения для повторного использования, которые можно использовать в качестве шаблона для сценариев машинного обучения. | Модель > данных |
| [Конвейеры фабрики данных Azure](https://docs.microsoft.com/azure/data-factory/concepts-pipelines-activities) | Группирует действия перемещения данных, преобразования и управления, необходимые для выполнения задачи.  | Данные > данных |
| [Конвейеры Azure](https://azure.microsoft.com/services/devops/pipelines/) | Непрерывная интеграция и доставка приложения в любую платформу или любое облако  | > Приложения или службы кода |

## <a name="why-build-pipelines-with-azure-machine-learning"></a>Зачем создавать конвейеры сборки с помощью службы "Машинное обучение Azure"

[Пакет SDK Службы машинного обучения Azure для Python](#the-python-sdk-for-pipelines) можно использовать для создания конвейеров машинного обучения, а также для отправки и отслеживания выполнения отдельных конвейеров.

С помощью конвейеров можно оптимизировать рабочий процесс. Конвейеры обеспечивают простоту, скорость, мобильность и возможность повторного использования. При создании конвейеров с помощью Машинное обучение Azure вы можете сосредоточиться на своих навыках, машинном обучении, а не на инфраструктуре и автоматизации.

Конвейеры создаются на основе нескольких **шагов**, которые являются отдельными вычислительными единицами в конвейере. Каждый шаг может выполняться независимо и использовать изолированные ресурсы вычислений. Это позволяет нескольким специалистам по обработке данных работать в одном конвейере одновременно без избыточных вычислений, а также упрощает использование различных типов вычислений и размеров для каждого шага.

После создания конвейера часто нужно выполнить более тонкую настройку его цикла обучения. При повторном запуске конвейера выполняется переход к отдельным шагам, которые необходимо повторно запустить, например обновленному сценарию обучения, и пропускает то, что не изменилось. Та же парадигма применяется к неизменным сценариям, используемым для выполнения шага. Эта функция позволяет избежать выполнения дорогостоящих и ресурсоемких действий, таких как прием и преобразование данных, если базовые данные не изменились.

С помощью Машинное обучение Azure можно использовать различные наборы средств и платформы, такие как PyTorch или TensorFlow, для каждого шага в конвейере. Azure выполняет координацию между различными используемыми [целевыми объектами вычислений](concept-azure-machine-learning-architecture.md), чтобы промежуточные данные можно было легко совместно использовать с нисходящими целевыми объектами вычислений.

Можно [отслеживать метрики для экспериментов в конвейере](https://docs.microsoft.com/azure/machine-learning/service/how-to-track-experiments) непосредственно на портале Azure. После публикации конвейера можно настроить конечную точку RESTFUL, которая позволит перезапустить конвейер из любой платформы или стека.

## <a name="key-advantages"></a>Ключевые преимущества

Основные преимущества использования конвейеров для рабочих процессов машинного обучения:

|Ключевое преимущество|Описание|
|:-------:|-----------|
|**Автоматические&nbsp;выполнения**|Планирование выполнения шагов параллельно или в последовательности в надежном и автоматическом режиме. Подготовка и моделирование данных могут быть за последние дни или недели, а Конвейеры позволяют сосредоточиться на других задачах во время выполнения процесса. |
|**Разнородных вычислений**|Используйте несколько конвейеров, которые надежно скоординированы между разнородными и масштабируемыми вычислительными ресурсами и местами хранения. Выполните отдельные шаги конвейера на различных целевых объектах вычислений, таких как HDInsight, виртуальные машины обработки и анализа данных GPU. Это позволяет эффективно использовать доступные вычислительные ресурсы.|
|**Повторное использование**|Создание шаблонов конвейера для конкретных сценариев, таких как переобучение и пакетная оценка. Активация опубликованных конвейеров из внешних систем с помощью простых вызовов RESTFUL.|
|**Отслеживание и управление версиями**|Вместо отслеживания данных и папок результатов вручную при выполнении итераций используйте пакет SDK для конвейеров, чтобы присваивать имена и определять версии источников данных, входных и выходных данных. Вы можете также отдельно управлять сценариями и данными для повышения эффективности.|
|**Документами**|Конвейеры позволяют специалистам по обработке и анализу данных совместно работать во всех областях процесса разработки машинного обучения, в то же время одновременно работая с этапами конвейера.|

## <a name="the-python-sdk-for-pipelines"></a>Пакет SDK для Python для конвейеров

Используйте Python, чтобы создать конвейеры машинного обучения. Пакет SDK для службы "Машинное обучение Azure" предлагает императивные конструкции для последовательного и параллельного выполнения шагов в конвейерах при отсутствии зависимости данных. Вы можете взаимодействовать с ним в записных книжках Jupyter или в другой предпочтительной среде IDE.

Вы можете оптимизировать свои задачи с помощью декларативных зависимостей данных. Пакет SDK включает в себя платформу, состоящую из готовых модулей для типичных задач, таких как передача данных и публикация моделей. Возможности платформы можно расширить, чтобы моделировать собственные соглашения, реализовав пользовательские шаги, которые многократно используются в конвейерах. Пакет SDK также позволяет непосредственно управлять целевыми объектами вычислений и ресурсами хранилища.

Конвейеры можно сохранять как шаблоны и развертывать их на конечной точке REST, чтобы получить возможность планировать задания пакетной оценки или переобучения.

Ознакомьтесь со [справочной документацией по пакету SDK для Python для конвейеров](https://docs.microsoft.com/python/api/azureml-pipeline-core/?view=azure-ml-py) и записной книжкой в следующем разделе, чтобы узнать, как создать собственную записную книжку.

## <a name="example-notebooks"></a>Примеры записных книжек

В следующих записных книжках демонстрируются конвейеры, использующие Машинное обучение Azure: [how-to-use-azureml/machine-learning-pipelines](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/machine-learning-pipelines).

[!INCLUDE [aml-clone-in-azure-notebook](../../../includes/aml-clone-for-examples.md)]

## <a name="next-steps"></a>Следующие шаги

Узнайте, как [создать свой первый конвейер](how-to-create-your-first-pipeline.md).
