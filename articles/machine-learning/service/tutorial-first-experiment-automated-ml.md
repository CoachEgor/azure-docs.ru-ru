---
title: Создание первого эксперимента по автоматизированному машинному обучению
titleSuffix: Azure Machine Learning service
description: Узнайте, как обучать и развертывать модель классификации с помощью автоматизированного машинного обучения в портал Azure.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.author: tzvikei
author: tsikiksr
ms.reviewer: nibaccam
ms.date: 07/23/2019
ms.openlocfilehash: 1d2a0c9e1531ace16335ea57acaccedfe2c1a3c8
ms.sourcegitcommit: c8a102b9f76f355556b03b62f3c79dc5e3bae305
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/06/2019
ms.locfileid: "68815892"
---
# <a name="tutorial-use-automated-machine-learning-to-train-and-deploy-your-first-classification-model-preview"></a>Учебник. Использование автоматического машинного обучения для обучения и развертывания первой модели классификации (Предварительная версия)

В этом руководстве вы узнаете, как создать первый автоматический эксперимент машинного обучения на портал Azure. В этом примере создается модель классификации для прогнозирования того, будет ли клиент подписываться на термин депозита с банком.

Используя возможности автоматического машинного обучения службы и портал Azure, вы запускаете автоматизированный процесс машинного обучения. Выбор алгоритма и Настройка параметров помощника выполняются за вас. Метод автоматизированного машинного обучения выполняет перебор множества сочетаний алгоритмов и параметров, пока не найдет наилучшую модель на основе вашего критерия, без написания одной строки кода.

В этом руководстве вы выполнили следующие задачи.

> [!div class="checklist"]
> * Настройка рабочей области Службы машинного обучения Azure.
> * Создайте эксперимент.
> * Автоматическое обучение модели классификации.
> * Просмотр сведений о запуске обучения.
> * Развертывание модели.

## <a name="prerequisites"></a>предварительные требования

* Подписка Azure. Если у вас еще нет подписки Azure, создайте [бесплатную учетную запись](https://aka.ms/AMLFree).

* Файл данных **bankmarketing_train. csv** . [Скачайте его](https://automlsamplenotebookdata.blob.core.windows.net/automl-sample-notebook-data/bankmarketing_train.csv).

## <a name="create-a-workspace"></a>Создать рабочую область

[!INCLUDE [aml-create-portal](../../../includes/aml-create-in-portal.md)]

## <a name="create-an-experiment"></a>Создание эксперимента

1. Перейдите в левую область рабочей области. Выберите **автоматизированное машинное обучение** в разделе **Создание (Предварительная версия)** .

    ![Область навигации портал Azure](media/tutorial-1st-experiment-automated-ml/nav-pane.png)

    Так как это первый эксперимент с автоматизированными Машинное обучение, вы увидите экран **приветствия автоматизированного машинное обучение** экрана. 

1. Выберите **создать эксперимент**. Затем в качестве имени эксперимента введите **My-1-аутомл-эксперимент** .

1. Выберите **создать новое вычисление** и настройте контекст вычислений для этого эксперимента.

    Поле| Значение
    ---|---
    Имя Вычислительной среды| Введите уникальное имя, идентифицирующее контекст вычислений. В этом примере мы используем **аутомл-COMPUTE**.
    Размер виртуальной машины| Выберите размер виртуальной машины для вычислений. Мы используем **Standard_DS12_V2**.
    Дополнительные настройки| *Минимальный узел*: 1. Чтобы включить профилирование данных, необходимо иметь один или несколько узлов. <br> *Максимальный узел*: 6. 

    Чтобы создать новое вычисление, выберите **создать**. Это займет несколько секунд. 

    После завершения создания выберите новое вычисление в раскрывающемся списке и нажмите кнопку **Далее**.

1. В этом руководстве мы используем учетную запись хранения по умолчанию и контейнер, созданные с помощью нового вычислений. Они автоматически заполняются в форме.

1. Выберите **Отправить** и выберите файл **bankmarketing_train. csv** на локальном компьютере, чтобы передать его в контейнер по умолчанию. Общедоступная Предварительная версия поддерживает только локальные передачи файлов и учетные записи хранения BLOB-объектов Azure. После завершения передачи выберите файл из списка. 

    [![Выбор файла данных](media/tutorial-1st-experiment-automated-ml/select-data-file.png)](media/tutorial-1st-experiment-automated-ml/select-data-file-expanded.png#lightbox)

1. Вкладка **Предварительный просмотр** позволяет настроить данные для этого эксперимента.

    На вкладке **Предварительный просмотр** укажите, что данные содержат заголовки. Служба по умолчанию включает в себя все функции (столбцы) для обучения. В этом примере прокрутите экран вправо и **пропустите** функцию **day_of_week** .

    ![Настройка вкладки предварительного просмотра](media/tutorial-1st-experiment-automated-ml/preview-tab-config.gif)


    >[!NOTE]
    > Профилирование данных недоступно для вычислений с нулевым количеством узлов.

1. Выберите **классификация** в качестве задачи прогнозирования.

1. Выберите **y** в качестве целевого столбца, где нужно выполнять прогнозы. В этом столбце указывается, подписан ли клиент на термин депозит или нет.

1. Разверните **Дополнительные параметры** и заполните поля следующим образом.

    Дополнительные настройки|Значение
    ------|------
    Основная метрика| AUC_weighted 
    Условия выхода| При выполнении любого из этих условий задание обучения завершается до полного завершения: <br> *Время учебного задания (в минутах)* : 5  <br> *Максимальное число итераций*: 10 
    Предварительной обработки| Включает предварительную обработку, выполняемую автоматическим машинным обучением. Сюда входит автоматическая очистка данных, подготовка и преобразование для создания искусственных функций.
    Проверка| Выберите перекрестную проверку на K и **2** для числа перекрестных проверок. 
    Параллелизм| Выберите значение **5** для параметра Максимальное число одновременных итераций.

   >[!NOTE]
   > В этом эксперименте не устанавливается пороговое значение метрики или максимального количества итераций. Мы также не будем блокировать тестирование алгоритмов.

1. Нажмите кнопку **запустить** , чтобы запустить эксперимент.

   При запуске эксперимента в верхней части экрана отображается пустой экран **сведений о запуске** со следующим состоянием. 

      ![Запуск подготовки](media/tutorial-1st-experiment-automated-ml/run-preparing.png)
      
Процесс подготовки эксперимента занимает несколько минут. По завершении процесса состояние сообщения изменится на выполняется.

##  <a name="view-experiment-details"></a>Просмотреть сведения о эксперименте

По мере продвижения эксперимента экран " **сведения о запуске** " обновляет диаграмму итерации и список с различными выполняемыми итерациями (моделями). Список итераций упорядочен по показателям метрик. По умолчанию модель, оценивающая наибольшее значение в соответствии с **AUC_weighted** метрикой, находится в верхней части списка.

>[!TIP]
> Для завершения работы каждого конвейера задания обучения выполняются несколько минут.

[![Панель мониторинга сведений о запуске](media/tutorial-1st-experiment-automated-ml/run-details.png)](media/tutorial-1st-experiment-automated-ml/run-details-expanded.png#lightbox)

## <a name="deploy-the-model"></a>Развертывание модели

В этом эксперименте **вотинженсембле** считается лучшей моделью на основе метрики **AUC_weighted** . Используя автоматизированное машинное обучение в портал Azure, можно развернуть эту модель как веб-службу для прогнозирования новых данных. 

1. На странице **сведения о запуске** нажмите кнопку **развернуть наилучшую модель** .

1. Заполните область **развертывание лучшей модели** следующим образом:

    Поле| Значение
    ----|----
    Имя развертывания| My-аутомл — развертывание
    Описание развертывания| Мое первое автоматизированное развертывание экспериментов машинного обучения
    Скрипт оценки| Автоформирование
    Сценарий среды| Автоформирование
    
1. Выберите **Развернуть**. Для завершения развертывания потребуется около 20 минут.

    При успешном завершении развертывания появляется следующее сообщение:

    ![Развертывание завершено](media/tutorial-1st-experiment-automated-ml/deploy-complete-status.png)
    
    Вот и все! У вас есть рабочая веб-служба для создания прогнозов.

## <a name="clean-up-resources"></a>Очистка ресурсов

Файлы развертывания имеют больший размер, чем файлы данных и эксперименты, поэтому их хранение больше выгодо. Удалите только файлы развертывания для снижения затрат на вашу учетную запись или для сохранения рабочей области и экспериментов с файлами. В противном случае удалите всю группу ресурсов, если вы не планируете использовать какие – либо файлы.  

### <a name="delete-the-deployment-instance"></a>Удаление экземпляра развертывания

Удалите только экземпляр развертывания из портал Azure, если вы хотите, чтобы группа ресурсов и Рабочая область сохранятся в других руководствах и исследованиях. 

1. Перейдите на панель **ресурсы** слева и выберите **развертывания**. 

1. Выберите развертывание, которое необходимо удалить, и нажмите кнопку **Удалить**. 

1. Нажмите кнопку " **Перейти**".

### <a name="delete-the-resource-group"></a>удаление группы ресурсов.

[!INCLUDE [aml-delete-resource-group](../../../includes/aml-delete-resource-group.md)]

## <a name="next-steps"></a>Следующие шаги

В этом руководстве по автоматизированному машинному обучению вы использовали портал Azure для создания и развертывания модели классификации. Дополнительные сведения и дальнейшие действия см. в этих статьях.

+ Узнайте, как [использовать веб-службу](how-to-consume-web-service.md).
+ Дополнительные сведения о [предварительной обработке](how-to-create-portal-experiments.md#preprocess).
+ Дополнительные сведения о [профилировании данных](how-to-create-portal-experiments.md#profile).
+ Дополнительные сведения об [автоматизированном машинном](concept-automated-ml.md)обучении.

>[!NOTE]
> Этот набор данных для [маркетинговых продаж предоставляется в Creative Commons Attribution (Mosquera: Лицензия](https://creativecommons.org/publicdomain/zero/1.0/)на общедоступный домен). Все права в отдельном содержимом базы данных лицензируются по [лицензии на содержимое базы данных](https://creativecommons.org/publicdomain/zero/1.0/) и доступны в [Kaggle](https://www.kaggle.com/janiobachmann/bank-marketing-dataset). Этот набор данных изначально был доступен в [базе данных UCI машинное обучение](https://archive.ics.uci.edu/ml/datasets/bank+marketing).<br><br>
> Предпримите следующие усилия: <br> [Моро et al., 2014] S. Моро, P. Cortez и P. Rita. Основанный на данных подход, позволяющий прогнозировать успешность телемаркетинга в банке. Системы поддержки принятия решений, Елсевиер, 62:22-31, 2014 июня.
