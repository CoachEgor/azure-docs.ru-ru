---
title: Использование автоматического интерфейса ML в Azure для обучения & развертывании моделей
titleSuffix: Azure Machine Learning
description: Создавайте и развертывайте автоматизированные эксперименты машинного обучения в Машинное обучение Azure Studio.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.author: nibaccam
author: tsikiksr
manager: cgronlun
ms.reviewer: nibaccam
ms.date: 11/04/2019
ms.openlocfilehash: 05bae18d35eafc47eddc7c1450eb06af5bbe5562
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73497193"
---
# <a name="create-explore-and-deploy-automated-machine-learning-experiments-with-azure-machine-learning-studio"></a>Создание, просмотр и развертывание автоматизированных экспериментов машинного обучения с помощью Машинное обучение Azure Studio
[!INCLUDE [applies-to-skus](../../../includes/aml-applies-to-enterprise-sku.md)]

 Из этой статьи вы узнаете, как создавать, изучать и развертывать автоматизированные эксперименты машинного обучения в Машинное обучение Azure Studio без единой строки кода. Автоматизированное машинное обучение автоматизирует процесс выбора наилучшего алгоритма для конкретных данных, что позволяет быстро создать модель машинного обучения. Дополнительные [сведения об автоматизированном машинном обучении](concept-automated-ml.md).

 Если вы предпочитаете работать на основе кода, вы также можете [настроить в Python автоматические эксперименты машинного обучения](how-to-configure-auto-train.md) с помощью [пакета SDK для машинное обучение Azure](https://docs.microsoft.com/python/api/overview/azure/ml/intro?view=azure-ml-py).

## <a name="prerequisites"></a>Технические условия

* Подписка Azure. Если у вас еще нет подписки Azure, создайте бесплатную учетную запись Azure, прежде чем начинать работу. Опробуйте [бесплатную или платную версию машинное обучение Azure](https://aka.ms/AMLFree) уже сегодня.

* Рабочая область Машинное обучение Azure с типом **выпуска Enterprise**. См. раздел [создание машинное обучение Azure рабочей области](how-to-manage-workspace.md).  Сведения об обновлении существующей рабочей области до выпуска Enterprise см. в статье [обновление до выпуска Enterprise Edition](how-to-manage-workspace.md#upgrade).

## <a name="get-started"></a>Приступая к работе

1. Войдите в [машинное обучение Azure Studio](https://ml.azure.com). 

1. Выберите подписку и рабочую область. 

1. Перейдите к левой панели. Выберите **Автоматический ML** в разделе **Автор** .

[панель навигации ![Машинное обучение Azure Studio](media/how-to-create-portal-experiments/nav-pane.png)](media/how-to-create-portal-experiments/nav-pane-expanded.png)

 Если вы впервые выполняете эксперименты, вы увидите пустой список и ссылки на документацию. 

В противном случае вы увидите список последних экспериментов по автоматическому машинному обучению, включая созданные с помощью пакета SDK. 

## <a name="create-and-run-experiment"></a>Создание и запуск эксперимента

1. Выберите **+ создать эксперимент** и заполните форму.

1. Выберите набор данных из контейнера хранилища или создайте новый набор данных. Наборы данных можно создавать на основе локальных файлов, веб-URL, хранилищ данных или открытых DataSet Azure. 

    >[!Important]
    > Требования к данным для обучения:
    >* Данные должны быть в табличной форме.
    >* Значение, которое необходимо спрогнозировать (целевой столбец), должно присутствовать в данных.

    1. Чтобы создать новый набор данных из файла на локальном компьютере, нажмите кнопку **Обзор** , а затем выберите файл. 

    1. Присвойте набору данных уникальное имя и укажите необязательное описание. 

    1. Нажмите кнопку **Далее**, чтобы передать его в контейнер хранилища по умолчанию, который автоматически создается в рабочей области, или выберите контейнер хранилища, который вы хотите использовать для эксперимента. 

    1. Проверьте правильность **параметров и формы предварительного просмотра** . Форма создается на основе типа файла. 

        Поле| Description (Описание)
        ----|----
        Формат файла| Определяет макет и тип данных, хранящихся в файле.
        Разделитель| Один или несколько символов для указания границы между отдельными, независимыми регионами в виде обычного текста или других потоков данных.
        Кодирование| Определяет, какой бит в таблицу схемы символов следует использовать для чтения набора данных.
        Заголовки столбцов| Указывает, как будут обрабатываться заголовки набора данных (если таковые имеются).
        Пропустить строки | Указывает, сколько строк пропущено в наборе данных.
    
        Щелкните **Далее**.

    1. Форма **схемы** создается на основе параметров, заданных в форме **Параметры и предварительный просмотр** . Здесь можно настроить тип данных для каждого столбца, проверить имена столбцов и выбрать столбцы, которые не следует **включать** в эксперимент. 
            
        Нажмите кнопку **Далее.**

    1. Форма **Подтверждение сведений** представляет собой сводку сведений, которые ранее были заполнены в формах **Основные сведения** и **Параметры и предварительный просмотр** . Вы также можете профилировать набор данных с помощью вычислений с поддержкой профилирования. Подробная информация [о профилировании данных](#profile).

        Щелкните **Далее**.
1. Выберите созданный набор данных после его появления. Вы также можете просмотреть предварительную версию набора данных и образца статистики. 

1. В форме **Настройка запуска** введите уникальное имя эксперимента.

1. Выберите целевой столбец. Это столбец, на котором вы хотите выполнять прогнозы.

1. Выберите вычисление для задания профилирования и обучения данных. Список существующих вычислений доступен в раскрывающемся списке. Чтобы создать новое вычисление, следуйте инструкциям, приведенным в шаге 7.

1. Выберите **создать новое вычисление** , чтобы настроить контекст вычислений для этого эксперимента.

    Поле|Description (Описание)
    ---|---
    Имя вычислительной среды| Введите уникальное имя для идентификации контекста вычислительной среды.
    размер виртуальной машины;| Выберите размер виртуальной машины для вычислительной среды.
    Узлы min/max (дополнительные параметры)| Для профилирования данных необходимо указать один или несколько узлов. Введите максимальное число узлов для вычислений. Значение по умолчанию — 6 узлов для вычислений AML.
    
    Нажмите кнопку **Создать**. Создание нового вычислений может занять несколько минут.

    >[!NOTE]
    > Имя вычислений будет указывать, *включено ли профилирование*, которое вы выбрали или создаете. (Дополнительные сведения см. в разделе [Профилирование данных](#profile) .)

    Щелкните **Далее**.

1. В форме **тип задачи и параметры** выберите тип задачи: классификация, регрессия или прогнозирование. 

    1. Для классификации можно также включить глубокое обучение, которое используется для феатуризатионс текста.

    1. Для прогнозирования:
        1. Выберите столбец времени: этот столбец содержит данные времени для использования.

        1. Выбор прогнозируемого горизонта: укажите количество единиц времени (минут/ч/дней/недель/месяцев/лет), которое модель сможет прогнозировать в будущем. Далее модель требуется для прогнозирования в будущем, но она будет менее точной. Дополнительные [сведения о прогнозировании и прогнозировании горизонта](how-to-auto-train-forecast.md).

1. Используемых Дополнительные настройки: дополнительные параметры, которые можно использовать для лучшего управления обучающим заданием. В противном случае применяются значения по умолчанию на основе выбора и данных эксперимента. 

    Дополнительные конфигурации|Description (Описание)
    ------|------
    Основная метрика| Основная метрика, используемая для оценки модели. Дополнительные [сведения о метриках модели](how-to-configure-auto-train.md#explore-model-metrics).
    Автоматическая Добавление признаков| Выберите, чтобы включить или отключить предварительную обработку, выполняемую автоматическим машинным обучением. Предварительная обработка включает автоматическую очистку данных, подготовку и преобразование для создания искусственных функций. Дополнительные [сведения о предварительной обработке](#preprocess).
    Заблокированный алгоритм| Выберите алгоритмы, которые требуется исключить из задания обучения.
    Критерий выхода| При выполнении любого из этих условий задание обучения останавливается. <br> *Время учебного задания (в часах)* : продолжительность выполнения задания обучения. <br> *Порог оценки метрики*: минимальный показатель метрики для всех конвейеров. Это гарантирует, что если у вас есть определенная Целевая метрика, вы не тратите больше времени на задание обучения, чем это нужно.
    Проверка| Выберите один из вариантов перекрестной проверки, чтобы использовать его в обучающем задании. Дополнительные [сведения о перекрестной проверке](how-to-configure-auto-train.md).
    Параллелизм| *Максимальное число одновременных итераций*: максимальное количество конвейеров (итераций) для тестирования в задании обучения. Задание не будет выполняться больше указанного числа итераций. <br> *Максимальное число ядер в итерации*: выберите многоядерные ограничения, которые вы хотите использовать при использовании многоядерных вычислений.

<a name="profile"></a>

## <a name="data-profiling--summary-stats"></a>Сводная статистика & профилирования данных

Вы можете получить обширную сводную статистику по набору данных, чтобы проверить, готов ли ваш набор данных к работе в МАШИНном коде. Для нечисловых столбцов они включают только базовую статистику, например min, Max и число ошибок. Для числовых столбцов можно также проверить их статистическое время и предполагаемое квантилей. В частности, наш профиль данных включает в себя:

>[!NOTE]
> Для функций с неуместными типами отображаются пустые записи.

Значением|Description (Описание)
------|------
Функция| Имя столбца, для которого выполняется суммирование.
Профиль| Встроенная визуализация на основе выводимого типа. Например, строки, логические значения и даты будут иметь значения счетчиков, а в десятичных числах — приблизительных гистограмм. Это позволяет быстро получить представление о распределении данных.
Распределение типов| Встроенное значение числа типов в столбце. Значения NULL имеют собственный тип, поэтому эта визуализация полезна для обнаружения нечетных или отсутствующих значений.
Тип|Выводимый тип столбца. Возможные значения: Strings, Boolean, Date и Decimal.
Min| Минимальное значение столбца. Пустые записи отображаются для компонентов, тип которых не является упорядоченным (например, логические значения).
Max| Максимальное значение столбца. 
Количество| Общее число отсутствующих и не отсутствующих записей в столбце.
Присутствующее количество| Количество неотсутствующих записей в столбце. Пустые строки и ошибки обрабатываются как значения, поэтому они не будут участвовать в «непропущенном числе».
Квантилей| Приблизительные значения для каждого квантилей, чтобы обеспечить смысл распределения данных.
Среднее значение| Среднее арифметическое или среднее значение столбца.
Стандартное отклонение| Величина дисперсии или вариации данных этого столбца.
Variance| Мера того, насколько далеко распределяются данные этого столбца, из среднего значения. 
Асимметрия| Мера отличия данных этого столбца от нормального распределения.
Эксцесс| Показатель того, насколько сильно хвостные данные этого столбца сравниваются с нормальным распределением.

<a name="preprocess"></a>

## <a name="advanced-preprocessing-options"></a>Дополнительные параметры предварительной обработки

При настройке экспериментов можно включить дополнительные параметры `Preprocess`. Это означает, что следующие шаги предварительной обработки данных и добавление признаков выполняются автоматически.

|Этапы предварительной обработки&nbsp;| Description (Описание) |
| ------------- | ------------- |
|Удаление признаков с высокой кратностью или отсутствие вариативности.|Удалите их из наборов обучения и проверки, включая функции со всеми отсутствующими значениями, одно значение для всех строк или с чрезвычайно большим количеством элементов (например, хэши, идентификаторы или идентификаторы GUID).|
|Добавление отсутствующих значений|Для числовых функций аппроксимация с средним значением в столбце.<br/><br/>Для характеристик категорий аппроксимация с наиболее частыми значениями.|
|Создание дополнительных признаков.|Для функций даты и времени: год, месяц, день, день недели, день года, квартал, неделя года, час, минута, секунда.<br/><br/>Для текстовых характеристик: частота терминов на основе униграмм, BI-грамм и тройных символов.|
|Преобразование и кодирование |Числовые функции с небольшими уникальными значениями преобразуются в функции категорий.<br/><br/>Односторонняя кодировка выполняется для категоризации с низкой кратностью; для большой кратности — одноранговая кодировка.|
|Внедрение слов|Текст характеризатора, который преобразует векторы текстовых маркеров в векторы предложений с помощью предварительно обученной модели. Вектор внедрения каждого слова в документе объединяется вместе для создания вектора возможностей документа.|
|Целевые кодировки|Для функций категоризации сопоставляет каждую категорию со средним целевым значением для задач регрессии и с вероятностью класса для каждого класса, чтобы устранить проблемы классификации. Весовые коэффициенты на основе частоты и перекрестная проверка по k-сгибу применяются для уменьшения размера сопоставления и шума, вызванного категориями разреженных данных.|
|Кодировка текста|При вводе текста для создания вероятности каждого класса используется линейная модель с накоплением, в которой используются контейнерные слова.|
|Вес свидетельства (вое)|Вычисляет вое как меру корреляции столбцов категории с целевым столбцом. Он вычисляется как журнал соотношения между вероятностью нехватки классов в и. Этот шаг выводит один числовой столбец функции на класс и устраняет необходимость явно аппроксимация отсутствующие значения и обработку выбросов.|
|Расстояние кластера|Обучение модели кластеризации с k-средних по всем числовым столбцам.  Выходные данные — новые функции, одна новая числовая функция для кластера, содержащая расстояние от каждого образца до центроид каждого кластера.|

## <a name="run-experiment-and-view-results"></a>Запуск эксперимента и просмотр результатов

Нажмите кнопку **запустить** , чтобы запустить эксперимент. Процесс подготовки эксперимента может занять до 10 минут. Выполнение заданий обучения может занять еще 2-3 минут для завершения работы каждого конвейера.

### <a name="view-experiment-details"></a>Просмотр сведений об эксперименте

>[!NOTE]
> Выберите периодически **обновлять** , чтобы просмотреть состояние запуска. 

Откроется экран **сведения о запуске** на вкладке **сведения** . На этом экране отображается сводка по запуску эксперимента, включая **состояние выполнения**. 

Вкладка **модели** содержит список моделей, созданных по показателю метрики. По умолчанию модель, оценивающая наибольшее значение в зависимости от выбранной метрики, находится в верхней части списка. По мере того как задание по обучению попытается получить дополнительные модели, они будут добавлены в список. Используйте его для быстрого сравнения метрик для моделей, созданных до сих пор.

[![Панель мониторинга со сведениями о запуске](media/how-to-create-portal-experiments/run-details.png)](media/how-to-create-portal-experiments/run-details-expanded.png#lightbox)

### <a name="view-training-run-details"></a>Просмотр сведений о запуске обучения

Детализируйте углублением все завершенные модели, чтобы просмотреть сведения о выполнении обучения, например, метрики запуска на вкладке " **сведения о модели** " или диаграммах производительности на вкладке " **визуализации** ". Дополнительные [сведения о диаграммах](how-to-understand-automated-ml.md).

[сведения о ![итерации](media/how-to-create-portal-experiments/iteration-details.png)](media/how-to-create-portal-experiments/iteration-details-expanded.png)

## <a name="deploy-your-model"></a>Развертывание модели

Когда у вас есть лучшая модель, пора развернуть ее как веб-службу для прогнозирования новых данных.

Автоматическое создание машинного обучения упрощает развертывание модели без написания кода.

1. Существует несколько вариантов развертывания. 

    + Вариант 1. чтобы развернуть оптимальную модель (в соответствии с заданными критериями метрики), на вкладке сведения выберите Развернуть наилучшую модель.

    + Вариант 2. чтобы развернуть конкретную итерацию модели из этого эксперимента, выполните детализацию по модели, чтобы открыть ее вкладку "сведения о модели", и выберите пункт "развернуть модель".

1. Заполнение области " **развертывание модели** ".

    Поле| Значение
    ----|----
    Deployment name (Имя развертывания)| Введите уникальное имя для развертывания.
    Deployment description (Описание развертывания)| Введите описание, чтобы лучше понять, для чего предназначено это развертывание.
    Scoring script (Скрипт оценки)| Автоматически создать или отправить собственный файл оценки. Дополнительные [сведения о скрипте оценки](how-to-deploy-and-where.md#script).
    Environment script (Скрипт среды)| Автоматически Создайте или отправьте собственный файл среды.
    >[!Important]
    > Имена файлов должны быть длиной не более 32 символов и должны начинаться и заканчиваться буквенно-цифровыми символами. Может включать дефисы, символы подчеркивания, точки и буквенно-цифровые символы. Пробелы не допускаются.

1. Выберите **Развернуть**. Для завершения развертывания может потребоваться около 20 минут.

Теперь у вас есть рабочая веб-служба для создания прогнозов! Вы можете протестировать прогнозы, запросив службу [Power BI встроенную поддержку машинное обучение Azure](how-to-consume-web-service.md#consume-the-service-from-power-bi).

## <a name="next-steps"></a>Дальнейшие действия

* Попробуйте ознакомиться [с руководством по созданию первого автоматизированного эксперимента ml с машинное обучение Azure](tutorial-first-experiment-automated-ml.md). 
* Дополнительные [сведения об автоматизированном машинном обучении](concept-automated-ml.md) и машинное обучение Azure.
* [Сведения об автоматических результатах машинного обучения](how-to-understand-automated-ml.md).
* [Узнайте, как использовать веб-службу](https://docs.microsoft.com/azure/machine-learning/service/how-to-consume-web-service).
