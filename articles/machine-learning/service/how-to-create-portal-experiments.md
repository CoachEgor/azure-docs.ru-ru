---
title: Использование автоматического интерфейса ML в Azure для обучения & развертывании моделей
titleSuffix: Azure Machine Learning service
description: Создание, Администрирование и развертывание автоматических экспериментов машинного обучения в портал Azure
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.author: nibaccam
author: tsikiksr
manager: cgronlun
ms.reviewer: nibaccam
ms.date: 08/02/2019
ms.openlocfilehash: 79632a2b5862538ef702cec01a60aada14d8dbce
ms.sourcegitcommit: 65131f6188a02efe1704d92f0fd473b21c760d08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/10/2019
ms.locfileid: "70860485"
---
# <a name="create-explore-and-deploy-automated-machine-learning-experiments-in-the-azure-portal-preview"></a>Создание, просмотр и развертывание автоматических экспериментов машинного обучения в портал Azure (Предварительная версия)

 В этой статье вы узнаете, как создавать, изучать и развертывать автоматизированные эксперименты машинного обучения в портал Azure без единой строки кода. Автоматизированное машинное обучение автоматизирует процесс выбора наилучшего алгоритма для конкретных данных, что позволяет быстро создать модель машинного обучения. Дополнительные [сведения об автоматизированном машинном](concept-automated-ml.md)обучении.

 Если вы предпочитаете работать на основе кода, вы также можете [настроить в Python автоматические эксперименты машинного обучения](how-to-configure-auto-train.md) с помощью [пакета SDK для машинное обучение Azure](https://docs.microsoft.com/python/api/overview/azure/ml/intro?view=azure-ml-py).


## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Если у вас еще нет подписки Azure, создайте бесплатную учетную запись Azure, прежде чем начинать работу. Опробуйте [бесплатную или платную версию Службы машинного обучения Azure](https://aka.ms/AMLFree).

* Рабочая область службы машинного обучения Azure. См. раздел [Создание рабочей области службы машинное обучение Azure](how-to-manage-workspace.md).

## <a name="get-started"></a>Начало работы

Перейдите в левую область рабочей области. Выберите автоматизированные Машинное обучение в разделе Создание (Предварительная версия).

![Панель навигации на портале Azure](media/how-to-create-portal-experiments/nav-pane.png)

 Если вы впервые выполняете эксперименты, вы увидите окно " **Добро пожаловать в автоматический машинное обучение** ". 

В противном случае вы увидите панель мониторинга **автоматизированного машинного обучения** , в которой содержится обзор всех ваших автоматизированных экспериментов машинного обучения, включая созданные с помощью пакета SDK. Здесь можно отфильтровать и исследовать запуски по дате, имени эксперимента и состоянию выполнения.

Вы также можете получить доступ к автоматическим Машинное обучение из [целевой страницы рабочей области (Предварительная версия)](https://ml.azure.com).

## <a name="create-an-experiment"></a>Создание эксперимента

Выберите **создать эксперимент** и заполните форму **создать новый автоматический эксперимент машинного обучения** .

1. Введите уникальное имя эксперимента.

1. Выберите вычисление для задания профилирования и обучения данных. Список существующих вычислений доступен в раскрывающемся списке. Чтобы создать новое вычисление, следуйте инструкциям, приведенным в шаге 3.

1. Выберите **создать новое вычисление** , чтобы настроить контекст вычислений для этого эксперимента.

    Поле|Описание
    ---|---
    Имя Вычислительной среды| Введите уникальное имя для идентификации контекста вычислительной среды.
    Размер виртуальной машины| Выберите размер виртуальной машины для вычислительной среды.
    Дополнительные настройки| *Минимальное число узлов*: Введите минимальное число узлов для вычислений. Минимальное число узлов для вычислений AML — 0. Чтобы включить профилирование данных, необходимо иметь один или несколько узлов. <br> *Максимальное число узлов*: Введите максимальное число узлов для вычислений. Значение по умолчанию — 6 узлов для вычислений AML.

      Нажмите кнопку **Создать**. Создание нового вычислений может занять несколько минут.

      >[!NOTE]
      > Имя вычислений будет указывать, *включено*ли профилирование, которое вы выбрали или создаете. (Дополнительные сведения о профилировании данных см. в разделе 7b.)

1. Выберите учетную запись хранения для данных. 

1. Выберите контейнер хранилища.

1. Выберите файл данных из контейнера хранилища или отправьте файл с локального компьютера в контейнер. Общедоступная Предварительная версия поддерживает только локальные передачи файлов и учетные записи хранения BLOB-объектов Azure.
    >[!Important]
    > Требования к данным для обучения:
    >* Данные должны быть в табличной форме.
    >* Значение, которое необходимо спрогнозировать (целевой столбец), должно присутствовать в данных.

    [![Выбор файла данных](media/tutorial-1st-experiment-automated-ml/select-data-file.png)](media/tutorial-1st-experiment-automated-ml/select-data-file-expanded.png#lightbox)

1. Используйте вкладки Предварительный просмотр и профиль для дальнейшей настройки данных для этого эксперимента.

    1. На вкладке **Предварительный просмотр** укажите, содержат ли ваши данные заголовки, и выберите функции (столбцы) для обучения, используя **включенные** переключатели в каждом столбце компонентов.

    1. На вкладке **профиль** можно просмотреть [профиль данных](#profile) по компонентам, а также сведения о распределении, типе и сводной статистике (среднее, медиана, max/min и т. д.) для каждого из них.

        >[!NOTE]
        > Если для контекста вычислений **не** включено профилирование, появится следующее сообщение об ошибке: *Профилирование данных доступно только для уже выполняющихся целевых объектов вычислений*.

1. Выберите тип задания обучения: классификация, регрессия или прогнозирование.

1. Выберите целевой столбец. Это столбец, на котором вы хотите выполнять прогнозы.

1. Для прогнозирования:
    1. Выберите столбец времени: Этот столбец содержит данные времени для использования.

    1. Выберите прогнозируемый горизонт: Укажите, сколько единиц времени (минут/ч/дней/недель/месяцев/лет) модель сможет прогнозировать будущее. Далее модель требуется для прогнозирования в будущем, но она будет менее точной. Дополнительные [сведения о прогнозировании и прогнозировании горизонта](how-to-auto-train-forecast.md).

1. Используемых Дополнительные параметры: дополнительные параметры, которые можно использовать для лучшего управления обучающими заданиями.

    Дополнительные настройки|Описание
    ------|------
    Основная метрика| Основная метрика, используемая для оценки модели. Дополнительные [сведения о метриках модели](how-to-configure-auto-train.md#explore-model-metrics).
    Условия выхода| При соблюдении любого из этих условий задание обучения завершается до полного завершения. <br> *Training job time (minutes)* (Время задания обучения в минутах): Продолжительность выполнения задания обучения.  <br> *Max number of iterations* (Максимальное число итераций): Максимальное количество конвейеров (итераций) для тестирования в задании обучения. Задание не будет выполняться больше указанного числа итераций. <br> *Порог оценки метрики*:  Минимальный показатель метрики для всех конвейеров. Это гарантирует, что если у вас есть определенная Целевая метрика, вы не тратите больше времени на задание обучения, чем это нужно.
    Предварительная обработка| Выберите, чтобы включить или отключить предварительную обработку, выполняемую автоматическим машинным обучением. Предварительная обработка включает автоматическую очистку данных, подготовку и преобразование для создания искусственных функций. Дополнительные [сведения о предварительной обработке](#preprocess).
    Проверка| Выберите один из вариантов перекрестной проверки, чтобы использовать его в обучающем задании. Дополнительные [сведения о перекрестной проверке](how-to-configure-auto-train.md).
    Параллелизм| Выберите ограничения для нескольких ядер, которые вы хотите использовать при использовании многоядерных вычислений.
    Заблокированный алгоритм| Выберите алгоритмы, которые требуется исключить из задания обучения.

<a name="profile"></a>

## <a name="data-profiling--summary-stats"></a>Сводная статистика & профилирования данных

Вы можете получить обширную сводную статистику по набору данных, чтобы проверить, готов ли ваш набор данных к работе в МАШИНном коде. Для нечисловых столбцов они включают только базовую статистику, например min, Max и число ошибок. Для числовых столбцов можно также проверить их статистическое время и предполагаемое квантилей. В частности, наш профиль данных включает в себя:

>[!NOTE]
> Для функций с неуместными типами отображаются пустые записи.

Статистика|Описание
------|------
Компонент| Имя столбца, для которого выполняется суммирование.
Профиль| Встроенная визуализация на основе выводимого типа. Например, строки, логические значения и даты будут иметь значения счетчиков, а в десятичных числах — приблизительных гистограмм. Это позволяет быстро получить представление о распределении данных.
Распределение типов| Встроенное значение числа типов в столбце. Значения NULL имеют собственный тип, поэтому эта визуализация полезна для обнаружения нечетных или отсутствующих значений.
Type|Выводимый тип столбца. Возможные значения: Strings, Boolean, Date и Decimal.
Min| Минимальное значение столбца. Пустые записи отображаются для компонентов, тип которых не является упорядоченным (например, логические значения).
Max| Максимальное значение столбца. 
Count| Общее число отсутствующих и не отсутствующих записей в столбце.
Присутствующее количество| Количество неотсутствующих записей в столбце. Пустые строки и ошибки обрабатываются как значения, поэтому они не будут участвовать в «непропущенном числе».
Квантилей| Приблизительные значения для каждого квантилей, чтобы обеспечить смысл распределения данных.
Среднее значение| Среднее арифметическое или среднее значение столбца.
Стандартное отклонение| Величина дисперсии или вариации данных этого столбца.
Variance| Мера того, насколько далеко распределяются данные этого столбца, из среднего значения. 
Асимметрия| Мера отличия данных этого столбца от нормального распределения.
Эксцесс| Показатель того, насколько сильно хвостные данные этого столбца сравниваются с нормальным распределением.

<a name="preprocess"></a>

## <a name="advanced-preprocessing-options"></a>Дополнительные параметры предварительной обработки

При настройке экспериментов можно включить дополнительные параметры `Preprocess`. Это означает, что следующие шаги предварительной обработки данных и добавление признаков выполняются автоматически.

|&nbsp;Этапы предварительной обработки| Описание |
| ------------- | ------------- |
|Удаление признаков с высокой кратностью или отсутствие вариативности.|Удалите их из наборов обучения и проверки, включая функции со всеми отсутствующими значениями, одно значение для всех строк или с чрезвычайно большим количеством элементов (например, хэши, идентификаторы или идентификаторы GUID).|
|Добавление отсутствующих значений|Для числовых функций аппроксимация с средним значением в столбце.<br/><br/>Для характеристик категорий аппроксимация с наиболее частыми значениями.|
|Создание дополнительных признаков.|Для признаков даты и времени: год, месяц, день, день недели, день года, квартал, неделя года, час, минута, секунда.<br/><br/>Для текстовых признаков: Частота терминов на основе униграмм, BI-грамм и тройных символов.|
|Преобразование и кодирование |Числовые функции с небольшими уникальными значениями преобразуются в функции категорий.<br/><br/>Односторонняя кодировка выполняется для категоризации с низкой кратностью; для большой кратности — одноранговая кодировка.|
|Внедрение слов|Текст характеризатора, который преобразует векторы текстовых маркеров в векторы предложений с помощью предварительно обученной модели. Вектор внедрения каждого слова в документе объединяется вместе для создания вектора возможностей документа.|
|Целевые кодировки|Для функций категоризации сопоставляет каждую категорию со средним целевым значением для задач регрессии и с вероятностью класса для каждого класса, чтобы устранить проблемы классификации. Весовые коэффициенты на основе частоты и перекрестная проверка по k-сгибу применяются для уменьшения размера сопоставления и шума, вызванного категориями разреженных данных.|
|Кодировка текста|При вводе текста для создания вероятности каждого класса используется линейная модель с накоплением, в которой используются контейнерные слова.|
|Вес свидетельства (вое)|Вычисляет вое как меру корреляции столбцов категории с целевым столбцом. Он вычисляется как журнал соотношения между вероятностью нехватки классов в и. Этот шаг выводит один числовой столбец функции на класс и устраняет необходимость явно аппроксимация отсутствующие значения и обработку выбросов.|
|Расстояние кластера|Обучение модели кластеризации с k-средних по всем числовым столбцам.  Выходные данные — новые функции, одна новая числовая функция для кластера, содержащая расстояние от каждого образца до центроид каждого кластера.|

## <a name="run-experiment-and-view-results"></a>Запуск эксперимента и просмотр результатов

Нажмите кнопку **запустить** , чтобы запустить эксперимент. Процесс подготовки эксперимента занимает несколько минут.

### <a name="view-experiment-details"></a>Просмотр сведений об эксперименте

После завершения этапа подготовки эксперимента вы увидите экран "сведения о запуске", который начнет заполнение. На этом экране приводится полный список созданных моделей. По умолчанию модель, оценивающая наибольшее значение в зависимости от выбранной метрики, находится в верхней части списка. По мере того как задание по обучению попытается получить дополнительные модели, они будут добавлены в список итераций и диаграмму. Используйте диаграмму итерации для быстрого сравнения метрик моделей, созданных до сих пор.

Задания обучения могут занять некоторое время для завершения выполнения каждого конвейера.

[![Панель мониторинга со сведениями о запуске](media/how-to-create-portal-experiments/run-details.png)](media/how-to-create-portal-experiments/run-details-expanded.png#lightbox)

### <a name="view-training-run-details"></a>Просмотр сведений о запуске обучения

Выполните детализацию по любой из выходных моделей, чтобы просмотреть сведения о выполнении обучения, такие как метрики производительности и диаграммы распределения. Дополнительные [сведения о диаграммах](how-to-understand-automated-ml.md).

![Сведения о итерации](media/how-to-create-portal-experiments/iteration-details.png)

## <a name="deploy-your-model"></a>Развертывание модели

Когда у вас есть лучшая модель, пора развернуть ее как веб-службу для прогнозирования новых данных.

Автоматическое создание машинного обучения упрощает развертывание модели без написания кода.

1. Существует несколько вариантов развертывания. 

    + Вариант 1. Чтобы развернуть оптимальную модель (в соответствии с заданными критериями метрики), выберите вариант развернуть оптимальную модель на странице сведений о запуске.

    + Вариант 2. Чтобы развернуть определенную итерацию модели из этого эксперимента, выполните детализацию по модели, чтобы открыть страницу сведений о выполнении, и выберите развернуть модель.
1. Заполнение области " **развертывание модели** "

    Поле| Значение
    ----|----
    Имя развертывания| Введите уникальное имя для развертывания.
    Deployment description (Описание развертывания)| Введите описание, чтобы лучше понять, для чего предназначено это развертывание.
    Scoring script (Скрипт оценки)| Автоматически создать или отправить собственный файл оценки. [Дополнительные сведения о скрипте оценки](how-to-deploy-and-where.md#script)
    Environment script (Скрипт среды)| Автоматически Создайте или отправьте собственный файл среды.
    >[!Important]
    > Имена файлов должны быть длиной не более 32 символов и должны начинаться и заканчиваться буквенно-цифровыми символами. Может включать дефисы, символы подчеркивания, точки и буквенно-цифровые символы. Пробелы не допускаются.

1. Выберите **Развернуть**. Для завершения развертывания может потребоваться около 20 минут.

    При успешном завершении развертывания появляется следующее сообщение.

    ![Развертывание завершено](media/tutorial-1st-experiment-automated-ml/deploy-complete-status.png) 

Теперь у вас есть рабочая веб-служба для создания прогнозов!

## <a name="next-steps"></a>Следующие шаги

* Попробуйте ознакомиться [с руководством по созданию первого автоматизированного эксперимента ml с машинное обучение Azure](tutorial-first-experiment-automated-ml.md). 
* Дополнительные [сведения об автоматизированном машинном](concept-automated-ml.md) обучении и машинное обучение Azure.
* [Сведения об автоматических результатах машинного обучения](how-to-understand-automated-ml.md).
* [Узнайте, как использовать веб-службу](https://docs.microsoft.com/azure/machine-learning/service/how-to-consume-web-service).
