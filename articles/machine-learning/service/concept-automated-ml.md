---
title: Что такое автоматизированный ML/аутомл
titleSuffix: Azure Machine Learning
description: Узнайте, как Машинное обучение Azure может автоматически выбрать алгоритм и создать в нем модель, чтобы сэкономить время с помощью параметров и критериев, предоставляемых для выбора наилучшего алгоритма для модели.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.reviewer: jmartens
author: cartacioS
ms.author: sacartac
ms.date: 11/04/2019
ms.openlocfilehash: 1320448b88fa3851196a3dfcb3107921721d364d
ms.sourcegitcommit: c69c8c5c783db26c19e885f10b94d77ad625d8b4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/03/2019
ms.locfileid: "74707681"
---
# <a name="what-is-automated-machine-learning"></a>Что такое автоматическое машинное обучение?

Автоматизированное машинное обучение, которое также называется автоматизированным ML, представляет собой процесс автоматизации трудоемких и последовательных задач разработки моделей машинного обучения. Благодаря этому специалисты по обработке и анализу данных могут создавать модели машинного обучения с высокой масштабируемостью, эффективностью и производительностью, сохраняя при этом качество модели. Автоматизированное МАШИНное обучение основано на революционном [отделе исследования Майкрософт](https://arxiv.org/abs/1705.05355).

Традиционная разработка моделей машинного обучения занимает много ресурсов, что требует значительных знаний предметной области и времени для создания и сравнения десятков моделей. Примените автоматическое ML, если вы хотите, чтобы Машинное обучение Azure обучения и настройки модели с использованием указанной целевой метрики. Затем служба проходит по алгоритмам машинного обучения, связанным с выбором компонентов, где каждая итерация создает модель с оценками обучения. Чем выше оценка, тем лучше считается, что модель подходит для "размещения данных".

С помощью автоматизированного машинного обучения вы ускоряете время, затрачиваемое на получение готовых к работе моделей машинного обучения с высокой простотой и эффективностью.

## <a name="when-to-use-automated-ml"></a>Когда следует использовать автоматический ML

Автоматизированный ML более демократичным процесс разработки модели машинного обучения и позволяет своим пользователям без каких-либо навыков по обработке и анализу данных найти сквозной конвейер машинного обучения для любой проблемы.

Специалисты по обработке и анализу данных, аналитики и разработчики в разных отраслях могут использовать автоматическое ML в следующих случаях:

+ Реализация решений машинного обучения без обширных знаний по программированию
+ Экономия времени и ресурсов
+ Использование рекомендаций по обработке и анализу данных
+ Предоставление гибкой задачи — решение

В следующей таблице перечислены распространенные сценарии автоматического использования ML. 

классификация;| Регрессия | Прогнозирование временных рядов
---|---|---
[Обнаружение мошенничества](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/classification-credit-card-fraud/auto-ml-classification-credit-card-fraud.ipynb)|[Прогноз производительности ЦП](https://github.com/Azure/MachineLearningNotebooks/blob/37541b10714f9337dbbae721bea494272dc7d151/how-to-use-azureml/automated-machine-learning/regression-hardware-performance-explanation-and-featurization/auto-ml-regression-hardware-performance-explanation-and-featurization.ipynb) |[Прогнозирование спроса](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/forecasting-energy-demand/auto-ml-forecasting-energy-demand.ipynb)|
[Прогноз маркетинга](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/classification-bank-marketing-all-features/auto-ml-classification-bank-marketing-all-features.ipynb)|[Прогноз устойчивости материалов](https://github.com/Azure/MachineLearningNotebooks/blob/37541b10714f9337dbbae721bea494272dc7d151/how-to-use-azureml/automated-machine-learning/regression-concrete-strength/auto-ml-regression-concrete-strength.ipynb)|[Прогнозирование продаж](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/forecasting-orange-juice-sales/auto-ml-forecasting-orange-juice-sales.ipynb)

## <a name="how-automated-ml-works"></a>Принцип работы автоматизированного ML

С помощью **машинное обучение Azure**вы можете разработать и запустить эксперименты по автоматизации машинного обучения, выполнив следующие действия:

1. Выявление решаемой **проблемы машинного обучения** : классификация, прогнозирование или регрессия

1. **Укажите источник и формат помеченных обучающих данных**: NumPy Arrays или Pandas Data Frame

1. **Настройте целевой объект вычислений для обучения модели**, например для [локального компьютера, машинное обучение Azureных вычислений, удаленных виртуальных машин или Azure Databricks](how-to-set-up-training-targets.md).  Сведения об автоматическом обучении [удаленного ресурса](how-to-auto-train-remote.md).

1. **Настройте параметры автоматического машинного обучения** , определяющие количество итераций по различным моделям, параметры настройки параметров, расширенную предварительную обработку и добавление признаков, а также метрики, которые следует рассмотреть при определении лучшей модели.  Параметры автоматического обучения можно настроить в [машинное обучение Azure Studio](https://ml.azure.com)или [с помощью пакета SDK](how-to-configure-auto-train.md). 

    [!INCLUDE [aml-applies-to-enterprise-sku](../../../includes/aml-applies-to-enterprise-sku-inline.md)]

1. **Отправьте обучающий запуск.**

  ![Автоматизированное машинное обучение](./media/how-to-automated-ml/automl-concept-diagram2.png)

Во время обучения Машинное обучение Azure создает ряд параллельных конвейеров, которые пытаются использовать различные алгоритмы и параметры. Он будет останавливаться после того, как он достигнет критерия выхода, определенного в эксперименте.

Можно также проверить записанные в журнал сведения о запуске, которые [содержат метрики](how-to-understand-automated-ml.md) , собранные во время выполнения. В ходе обучающего запуска создается сериализованный объект Python (`.pkl` файл), содержащий модель и предварительную обработку данных.

Хотя создание модели автоматизировано, вы также можете [узнать, насколько важные или соответствующие функции относятся](how-to-configure-auto-train.md#explain) к созданным моделям.

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2Xc9t]

<a name="preprocess"></a>

## <a name="preprocessing"></a>Предварительная обработка

В каждом автоматическом эксперименте машинного обучения данные предварительно обрабатываются с использованием методов по умолчанию и, при необходимости, посредством расширенной предварительной обработки.

> [!NOTE]
> Этапы предварительной обработки автоматизированного машинного обучения (нормализация компонентов, обработка недостающих данных, преобразование текста в числовой формат и т. д.) становятся частью базовой модели. При использовании модели для прогнозирования эти этапы предварительной обработки, которые выполнялись во время обучения, автоматически выполняются для входных данных.

### <a name="automatic-preprocessing-standard"></a>Автоматическая предварительная обработка (стандартная)

В каждом автоматическом эксперименте машинного обучения данные автоматически масштабируются или нормализованы, что способствует эффективному выполнению алгоритмов.  Во время обучения модели для каждой модели будет применен один из следующих методов масштабирования или нормализации.

|Масштабирование&nbsp;&&nbsp;нормализация| Описание |
| ------------- | ------------- |
| [стандардскалевраппер](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html)  | Стандартизация функций путем удаления среднего и масштабирования в дисперсию единиц  |
| [минмаксскалар](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MinMaxScaler.html)  | Преобразует функции путем масштабирования каждой функции по минимальному и максимальному столбцам.  |
| [максабсскалер](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MaxAbsScaler.html#sklearn.preprocessing.MaxAbsScaler) |Масштабирование каждой функции по максимальному абсолютному значению |
| [робустскалар](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.RobustScaler.html) |Эти возможности масштабирования по диапазону квантилей |
| [Помощник](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.PCA.html) |Сокращение линейной размерности с помощью декомпозиции данных в единственном значении для проецирования их в более низкое пространство |
| [трункатедсвдвраппер](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.TruncatedSVD.html) |Этот преобразователь выполняет линейное уменьшение размерности с помощью усеченного единственного значения декомпозицию (SVD). В отличие от PCA, этот оценщик не выравнивает данные по центру перед вычислением декомпозиции единственного значения. Это означает, что он может эффективно работать с матрицами SciPy. sparse |
| [спарсенормализер](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.Normalizer.html) | Каждый пример (т. е. Каждая строка матрицы данных) с хотя бы одним ненулевым компонентом повторно масштабируется независимо от других выборок, чтобы его нормы (L1 или L2) совпадали |

### <a name="advanced-preprocessing-optional-featurization"></a>Расширенная Предварительная обработка: необязательный Добавление признаков

Также доступны дополнительные расширенные предварительные действия и добавление признаков, такие как отсутствующие значения добавления отсутствующих, Encoding и Transforms. [Узнайте больше о том, что входит в добавление признаков](how-to-create-portal-experiments.md#preprocess). Включить этот параметр с помощью:

+ Машинное обучение Azure Studio: выбор параметра **View Добавление признаков Settings (просмотреть параметры** ) в разделе **Run Configuration (выполнение конфигурации** ) [с этими шагами](how-to-create-portal-experiments.md).

+ Пакет SDK для Python: указание `"feauturization": auto' / 'off' / FeaturizationConfig` для [класса`AutoMLConfig`](https://docs.microsoft.com/python/api/azureml-train-automl-client/azureml.train.automl.automlconfig.automlconfig?view=azure-ml-py).


## <a name="time-series-forecasting"></a>Прогнозирование временных рядов
Создание прогнозов является неотъемлемой частью любого бизнеса, будь то доход, Инвентаризация, продажи или потребность клиента. Вы можете использовать автоматизированное средство ML для объединения методов и подходов и получения рекомендуемого, высококачественного прогноза временных рядов.

Автоматизированный эксперимент по ряду времени рассматривается как многофакторнаяная задача регрессии. Последние значения временных рядов "сведены", чтобы стать дополнительными измерениями для регрессии вместе с другими прогностические факторы. Этот подход, в отличие от классических методов временных рядов, имеет преимущество, включающее в себя несколько контекстных переменных и их связь друг с другом во время обучения. Автоматический ML изучает одну, но часто внутреннюю модель ветвления для всех элементов в наборе данных и прогнозирующих горизонтах. Итак, доступны дополнительные данные для оценки параметров модели, и обобщение невидимых рядов становится возможным.

Дополнительные сведения см. в примере [автоматизированного машинного обучения для прогнозирования временных рядов](how-to-auto-train-forecast.md). Дополнительные примеры кода для расширенной настройки прогнозирования см. в разделе [Записная книжка по запросу энергии](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/forecasting-energy-demand/auto-ml-forecasting-energy-demand.ipynb) .

* Обнаружение праздников и добавление признаков
* DNN (Auto-ARIMA, Профет, Форекастткн)
* Поддержка многих моделей с помощью группирования
* Перекрестная проверка последовательного происхождения
* Настраиваемая задержка
* Пошаговые агрегатные функции окна

## <a name="ensemble"></a>Модели ансамблей

Автоматизированное машинное обучение поддерживает модели ансамблей, которые включены по умолчанию. Ансамблейное обучение улучшает результаты машинного обучения и прогнозную производительность, объединяя несколько моделей в отличие от использования отдельных моделей. Итерации ансамблей отображаются в виде окончательных итераций выполнения. Для комбинирования моделей в автоматизированном машинном обучении используются ансамблейные методы голосования и Stack.

* **Голосование**. прогнозируется на основе взвешенного среднего вероятности прогнозируемых классов (для задач классификации) или целевых объектов прогнозируемой регрессии (для регрессионных задач).
* Пошаговое включение в **стек: объединение**моделей разнородных и обучение мета-модели на основе выходных данных отдельных моделей. Текущие мета-модели по умолчанию Логистикрегрессион для задач классификации и Еластикнет для задач регрессии и прогнозирования.

[Алгоритм выбора Каруана ансамблей](http://www.niculescu-mizil.org/papers/shotgun.icml04.revised.rev2.pdf) с упорядоченной инициализацией ансамблей используется для выбора моделей, используемых в ансамблей. На высоком уровне этот алгоритм инициализирует ансамблей, используя до 5 моделей с лучшими конкретными показателями, и проверяет, что эти модели находятся в пределах 5% от наилучшей оценки, чтобы избежать плохой первоначальной ансамблей. Затем для каждой итерации ансамблей в существующий ансамблей добавляется новая модель и вычисляется результирующая оценка. Если новая модель улучшила существующую оценку ансамблей, ансамблей обновляется для включения новой модели.

См. [руководство](how-to-configure-auto-train.md#ensemble) по изменению параметров ансамблей по умолчанию в автоматизированном машинном обучении.

## <a name="imbalance"></a>Несбалансированные данные

Несбалансированные данные обычно находятся в данных для сценариев классификации машинного обучения и ссылаются на данные, которые содержат непропорциональное отношение наблюдений в каждом классе. Такое дисбаланс может привести к ложному получению положительного результата точности модели, так как входные данные имеют сдвиг к одному классу, что приводит к тому, что обученная модель имитирует этот сдвиг. 

В рамках своей цели упрощения рабочего процесса машинного обучения автоматизированный ML имеет встроенные возможности для помощи с несбалансированными данными, такими как, 

- **Весовой столбец**. Автоматический ML поддерживает взвешенный столбец в качестве входных данных, что приводит к сокращению или уменьшению количества строк в данные, что может сделать класс более или менее важным. См. [Пример записной книжки](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/sample-weight/auto-ml-sample-weight.ipynb) 

- Алгоритмы, используемые автоматизированным ML, могут правильно работать с дисбалансом до 20:1, что означает, что наиболее распространенный класс может содержать в данных в 20 раз больше строк, чем наименее распространенный класс.

### <a name="identify-models-with-imbalanced-data"></a>Выявление моделей с несбалансированными данными

Так как алгоритмы классификации обычно оцениваются с точностью, проверка оценки точности модели является хорошим способом определения того, влияет ли это на несбалансированные данные. Обладает ли она высокой точностью или действительно низкой точностью для определенных классов?

Кроме того, автоматические запуски ML автоматически создают следующие диаграммы, которые помогут понять правильность классификаций модели и определить модели, потенциально влияющие на несбалансированные данные.

Диаграмма| Описание
---|---
[Матрица путаницы](how-to-understand-automated-ml.md#confusion-matrix)| Оценивает правильно классифицированные метки относительно фактических меток данных. 
[Точность и отзыв](how-to-understand-automated-ml.md#precision-recall-chart)| Оценивает отношение правильных меток относительно соотношения найденных экземпляров меток данных 
[Кривые ROC](how-to-understand-automated-ml.md#roc)| Вычисляет отношение правильных меток к соотношения ложных положительных меток.

### <a name="handle-imbalanced-data"></a>Обработку несбалансированных данных 

Следующие методы являются дополнительными вариантами для управления несбалансированными данными за пределами автоматизированного ML. 

- Перевыборка до неравномерного распределения класса с помощью более мелких классов или выборке более крупных классов. Для обработки и анализа этих методов требуется опыт.

- Используйте метрику производительности, которая лучше работает с несбалансированными данными. Например, показатель F1 — это взвешенное среднее значение точности и отзыва. Точность измеряет точное значение классификатора — низкая точность указывает на большое число ложных положительных результатов--, при отзыве измеряет полноту классификатора--низкий отзыв указывает на большое число ложных отрицательных результатов. 

## <a name="use-with-onnx-in-c-apps"></a>Использование с ONNX в C# приложениях

С помощью Машинное обучение Azure можно использовать автоматизированное создание машинного обучения для создания модели Python и преобразования ее в формат ONNX. Среда выполнения ONNX поддерживает C#, поэтому вы можете использовать модель, созданную автоматически в C# приложениях, без необходимости перекодирования или любых сетевых задержек, представляемых конечными точками RESTful. Попробуйте пример этого потока [в этой записной книжке Jupyter](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/classification-with-onnx/auto-ml-classification-with-onnx.ipynb).

## <a name="automated-ml-across-microsoft"></a>Автоматизация машинного обучения в корпорации Майкрософт

Автоматизированный язык ML также доступен в других решениях Майкрософт, таких как:

|Интеграции|Описание|
|------------|-----------|
|[ML.NET](https://docs.microsoft.com/dotnet/machine-learning/automl-overview)|Автоматическое выделение и обучение моделей в приложениях .NET с использованием Visual Studio и Visual Studio Code с помощью ML.NET автоматизированного ML (Предварительная версия).|
|[HDInsight](../../hdinsight/spark/apache-spark-run-machine-learning-automl.md)|Параллельное развертывание автоматизированных заданий обучения ML в Spark в кластерах HDInsight.|
|[Power BI](https://docs.microsoft.com/power-bi/service-machine-learning-automated)|Вызывайте модели машинного обучения непосредственно в Power BI (Предварительная версия).|
|[SQL Server](https://cloudblogs.microsoft.com/sqlserver/2019/01/09/how-to-automate-machine-learning-on-sql-server-2019-big-data-clusters/)|Создавайте новые модели машинного обучения для данных в кластерах больших данных SQL Server 2019.|

## <a name="next-steps"></a>Дальнейшие действия

См. примеры и научитесь создавать модели с помощью автоматизированного машинного обучения.

+ Следуйте указаниям [руководства: автоматическое обучение модели регрессии с помощью автоматизированных машинное обучение Azure](tutorial-auto-train-models.md)

+ Настройте параметры для автоматического обучения.
  + В Машинное обучение Azure Studio [выполните следующие действия](how-to-create-portal-experiments.md).
  + С помощью пакета SDK для Python [выполните следующие действия](how-to-configure-auto-train.md).

+ Узнайте, как выполнить автообучение с помощью данных временных рядов, [выполнив следующие действия](how-to-auto-train-forecast.md).

+ Испытайте [примеры Jupyter Notebook для автоматического машинного обучения](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/)
