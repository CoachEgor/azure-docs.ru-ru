---
title: Выбор и настройка алгоритмов автоматического машинного обучения
titleSuffix: Azure Machine Learning service
description: Узнайте, как Служба машинного обучения Azure может автоматически выбрать алгоритм и создать модель с его помощью, чтобы сэкономить ваше время, используя параметры и критерии, позволяющие выбрать наилучший алгоритм для модели.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.reviewer: jmartens
author: nacharya1
ms.author: nilesha
ms.date: 05/21/2019
ms.custom: seodec18
ms.openlocfilehash: 93eb0fba91ce5064d04a340e8b3e5b984ee73081
ms.sourcegitcommit: adb6c981eba06f3b258b697251d7f87489a5da33
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2019
ms.locfileid: "66515570"
---
# <a name="what-is-automated-machine-learning"></a>Что такое автоматическое машинное обучение?

Автоматических машинное обучение, называемый также автоматических машинного Обучения, — это процесс автоматизации задач занимает много времени, итеративной разработки модели в машинном обучении. Он позволяет специалистами по анализу данных, аналитикам и разработчикам для создания моделей машинного Обучения с высокой масштабируемостью, эффективность и производительность при этом поддержания качество работы модели.

Традиционное машинное Обучение модели разработки является ресурсоемким, требующие значительных знания и время для получения и сравнения десятки моделей. Примените автоматические машинного Обучения, при необходимости машинного обучения Azure, обучения и настройки модели, используя целевой показатель, указанную вами. Служба перебирает в паре с выбора компонентов, где каждой итерации создается модель с оценкой обучающих алгоритмов машинного Обучения. Чем выше оценка, тем лучше модель считается «fit» данных.

С помощью автоматических машинного обучения, будет ускорить время, необходимое для получения готовых моделей машинного Обучения с отличным простота и эффективность.

## <a name="when-to-use-automated-ml"></a>Когда следует использовать автоматизированные машинного Обучения

Автоматические ML делает более демократичным процесса разработки модели машинного обучения и расширяет возможности пользователей, независимо от того, опыт, обработки и анализа данных, для идентификации конвейер обучения машины end-to-end наличия проблем.

Специалисты по анализу данных, аналитиков и разработчиков в различных отраслях можно использовать автоматизированные машинного Обучения для:

+ Реализация решения машинного обучения без обширный набор знаний программирования
+ Экономьте время и ресурсы
+ Рекомендации по обработке и анализу данных использовать
+ Предоставляют гибкие решения проблем

## <a name="how-automated-ml-works"></a>Автоматизированных works машинного Обучения

С помощью **службы машинного обучения Azure**, можно разработать и запуска автоматических обучающих экспериментов машинного Обучения с помощью этих действий:

1. **Определить проблему ML** решаемой: классификации, прогнозирование или регрессии

1. **Указание источника и формат данных размеченном обучающем**: Массивы Numpy или Pandas dataframe

1. **Настройка целевого объекта вычислений для обучения модели**, такие как вашей [локального компьютера, Azure Machine Learning вычисляет, удаленных виртуальных машинах или Azure Databricks](how-to-set-up-training-targets.md).  Дополнительные сведения об автоматических обучения [на удаленном ресурсе](how-to-auto-train-remote.md).

1. **Настройка автоматических параметров машинного обучения** , определяющие, сколько итераций с помощью различных моделей, настройки гиперпараметров, расширенные возможности предварительной обработки/Добавление признаков и какие метрики для просмотра при определении оптимальную модель.  Можно настроить параметры для автоматического обучающий эксперимент [на портале Azure](how-to-create-portal-experiments.md) или [с пакетом SDK](how-to-configure-auto-train.md).

1. **Отправьте обучающих запусках.**

  ![Автоматические машинного обучения](./media/how-to-automated-ml/automl-concept-diagram2.png)

Во время обучения, службы машинного обучения Azure создает ряд в параллельных конвейеров, выполняющих разные алгоритмы и параметры. Останавливается после его попадании критерии выхода, определенные в эксперименте.

Вы также можете проверить записанные данные выполнения, который содержит метрики, собранные во время выполнения. Обучение выполнения создает объект сериализации Python (`.pkl` файл), содержащий модель и предварительной обработки данных.

Во время построения модели выполняется автоматически, можно также [Узнайте, как важные или соответствующие функции являются](how-to-configure-auto-train.md#explain) для созданных моделей.

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2Xc9t]

<a name="preprocess"></a>

## <a name="preprocessing"></a>Предварительная обработка

В каждом автоматических эксперимента машинного обучения ваши данные она предварительно обрабатывается с помощью методов по умолчанию и при необходимости широкие возможности предварительной обработки.

### <a name="automatic-preprocessing-standard"></a>Автоматическое предварительной обработки (стандарт)

В каждом автоматических эксперимента машинного обучения данных будет автоматически масштабировать или нормализовать для алгоритмов, которые выполняются надлежащим образом.  Во время обучения модели, один из следующих методов, масштабирование или нормализацию будет применяться к каждой модели.

|Масштабирование&nbsp;&&nbsp;нормализации| Описание |
| ------------- | ------------- |
| [StandardScaleWrapper](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html)  | Стандартизация функции, удаляя среднее значение и масштабирование до единичной дисперсии  |
| [MinMaxScalar](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MinMaxScaler.html)  | Преобразует функции путем масштабирования каждой функции с минимальным и максимальным этого столбца  |
| [MaxAbsScaler](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MaxAbsScaler.html#sklearn.preprocessing.MaxAbsScaler) |Масштабирование каждого компонента, его максимальное абсолютное значение |
| [RobustScalar](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.RobustScaler.html) |В этой функции Scaler с их диапазона |
| [PCA](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.PCA.html) |Использование Сингулярная декомпозиция данных для проекта, его к нижнего многомерном пространстве линейной сокращение размерности |
| [TruncatedSVDWrapper](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.TruncatedSVD.html) |Этот преобразователь выполняет уменьшение размерности линейной посредством Сингулярного разложения усеченное значение единственного числа. В отличие от PCA этот механизм оценки не центра обработки данных перед вычислением сингулярная декомпозиция. Это означает, что он может работать эффективно с матрицами scipy.sparse |
| [SparseNormalizer](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.Normalizer.html) | Каждый пример (то есть для каждой строки матрицы данных) с хотя бы один компонент не нулевой повторно масштабированное независимо от других примеров, таким образом, чтобы его нормы (l1 и l2) равно одному |

### <a name="advanced-preprocessing-optional-featurization"></a>Advanced предварительной обработки: Добавление необязательно признаков

Дополнительные расширенные предварительной обработки и добавления функций также доступны, например, отсутствие отсутствующих значений, кодирования и преобразования. [Дополнительные сведения о какие Добавление признаков включено](how-to-create-portal-experiments.md#preprocess). Включите этот параметр с параметром:

+ Портал Azure: Выбрав **предварительная обработка** флажок в **Дополнительные параметры** [по этим действиям](how-to-create-portal-experiments.md).

+ Пакет SDK для Python: Указание `"preprocess": True` для [ `AutoMLConfig` класс](https://docs.microsoft.com/python/api/azureml-train-automl/azureml.train.automl.automlconfig?view=azure-ml-py).

## <a name="ensemble-models"></a>Защищенными моделями совокупности

Вы можете обучить модели совокупности, с помощью автоматических машинного обучения с [Caruana алгоритм выбора совокупности с отсортированный инициализации совокупности](http://www.niculescu-mizil.org/papers/shotgun.icml04.revised.rev2.pdf). Совокупного обучения улучшает результаты обучения компьютера и производительность прогнозирования объединение множество моделей, а не с помощью одной модели. В совокупности итерации отображается в виде последней итерации выполнения.

## <a name="training-metric-output"></a>Метрики выходных данных обучения

Существует несколько способов для просмотра показателей точности обучения для каждого выполнения итерации.

* Используйте мини-приложение Jupyter.
* Используйте `get_metrics()` функции на любом `Run` объекта.
* Просмотрите метрики на портале Azure в свой эксперимент.

### <a name="classification-metrics"></a>Метрики классификации

Следующие метрики будут сохранены в каждой итерации выполнения для задач классификации.

|Метрика|Описание|Вычисление|Дополнительные параметры
--|--|--|--|
AUC_Macro| AUC представляет собой область под кривой рабочих характеристик приемника (ROC). Макрозначение — это среднее арифметическое значение AUC для каждого класса.  | [Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html) | average="macro"|
AUC_Micro| AUC представляет собой область под кривой рабочих характеристик приемника (ROC). Микрозначение вычисляется глобально путем объединения истинно положительных и истинно отрицательных результатов из каждого класса.| [Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html) | average="micro"|
AUC_Weighted  | AUC представляет собой область под кривой рабочих характеристик приемника (ROC). Взвешенное значение — среднее арифметическое значение оценки для каждого класса, взвешенное по числу экземпляров значения true в каждом классе.| [Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html)|average="weighted"
accuracy|Точность — это процент прогнозируемых меток, которые точно соответствуют истинным меткам. |[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.accuracy_score.html) |Нет|
average_precision_score_macro|Для вычисления средней точности используется кривая точности и полноты в качестве взвешенного среднего значения точности, полученного для каждого порогового значения, с увеличением полноты за счет предыдущего порогового значения, используемого в качестве весового коэффициента. Макрозначение — это арифметическое среднее значение точности оценки каждого класса.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.average_precision_score.html)|average="macro"|
average_precision_score_micro|Для вычисления средней точности используется кривая точности и полноты в качестве взвешенного среднего значения точности, полученного для каждого порогового значения, с увеличением полноты за счет предыдущего порогового значения, используемого в качестве весового коэффициента. Микрозначение вычисляется глобально путем объединения истинно положительных и истинно отрицательных результатов для каждого порогового значения.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.average_precision_score.html)|average="micro"|
average_precision_score_weighted|Для вычисления средней точности используется кривая точности и полноты в качестве взвешенного среднего значения точности, полученного для каждого порогового значения, с увеличением полноты за счет предыдущего порогового значения, используемого в качестве весового коэффициента. Взвешенное значение — среднее арифметическое значение для средней оценки точности для каждого класса, взвешенное по числу экземпляров значения true в каждом классе.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.average_precision_score.html)|average="weighted"|
balanced_accuracy|Сбалансированная точность — это среднее арифметическое значение полноты для каждого класса.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.recall_score.html)|average="macro"|
f1_score_macro|Оценка F1 — это среднее гармоническое значение точности и полноты. Макрозначение — это среднее арифметическое оценки F1 для каждого класса.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.f1_score.html)|average="macro"|
f1_score_micro|Оценка F1 — это среднее гармоническое значение точности и полноты. Микрозначение вычисляется глобально путем подсчета общего числа истинно положительных, ложно отрицательных и истинно отрицательных результатов.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.f1_score.html)|average="micro"|
f1_score_weighted|Оценка F1 — это среднее гармоническое значение точности и полноты. Взвешенное среднее значение по частоте класса оценки F1 для каждого класса.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.f1_score.html)|average="weighted"|
log_loss|Это функция потерь, используемая в логистической регрессии (полиномиальной) и ее дополнениях, например нейронных сетях, которая определяется как вероятность логистических потерь истинных меток для заданных прогнозов вероятностного классификатора. Для отдельной выборки с истинной меткой yt в {0,1} и оценочной вероятностью yp при yt = 1 логистические потери составят –log P(yt&#124;yp) = –(yt log(yp) + (1 – yt) log(1 – yp)).|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.log_loss.html)|Нет|
norm_macro_recall|Нормализованная полнота макрозначений — это полнота макрозначений, нормализованная таким образом, чтобы случайному выполнению соответствовала оценка 0, а идеальному выполнению — оценка 1. Для этого используется формула norm_macro_recall := (recall_score_macro – R)/(1 – R), где R — ожидаемое значение recall_score_macro для произвольных прогнозов (т. е. R = 0,5 для задач бинарной классификации и R = (1/C) задач C-классовой классификации).|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.recall_score.html)|average = "macro", затем (recall_score_macro – R)/(1 – R), где R — ожидаемое значение recall_score_macro для произвольных прогнозов (т. е. R = 0,5 для задач бинарной классификации и R = (1/C) задач C-классовой классификации).|
precision_score_macro|Точность — это процент элементов, отнесенных к определенному классу, которые действительно находятся в этом классе. Макрозначение — это среднее арифметическое значение точности для каждого класса.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.precision_score.html)|average="macro"|
precision_score_micro|Точность — это процент элементов, отнесенных к определенному классу, которые действительно находятся в этом классе. Микрозначение вычисляется глобально путем подсчета общего числа истинно положительных, ложно отрицательных и истинно отрицательных результатов.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.precision_score.html)|average="micro"|
precision_score_weighted|Точность — это процент элементов, отнесенных к определенному классу, которые действительно находятся в этом классе. Взвешенное значение — среднее арифметическое значение точности для каждого класса, взвешенное по числу экземпляров значения true в каждом классе.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.precision_score.html)|average="weighted"|
recall_score_macro|Полнота — это процент элементов, которые фактически находятся в определенном классе и правильно помечены. Макрозначение — это среднее арифметическое значение полноты для каждого класса.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.recall_score.html)|average="macro"|
recall_score_micro|Полнота — это процент элементов, которые фактически находятся в определенном классе и правильно помечены. Микрозначение вычисляется глобально путем подсчета общего числа истинно положительных и ложно отрицательных результатов.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.recall_score.html)|average="micro"|
recall_score_weighted|Полнота — это процент элементов, которые фактически находятся в определенном классе и правильно помечены. Взвешенное значение — среднее арифметическое значение полноты для каждого класса, взвешенное по числу экземпляров значения true в каждом классе.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.recall_score.html)|average="weighted"|
weighted_accuracy|Взвешенная точность — это точность, для вычисления которой каждой выборке присваивается вес, соответствующий доле экземпляров true в классе true для этой выборки.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.accuracy_score.html)|Значение sample_weight представляет собой вектор, равный доле этого класса для каждого элемента в целевом элементе.|

### <a name="regression-and-forecasting-metrics"></a>Метрики регрессии и прогнозирования

Следующие метрики будут сохранены в каждой итерации выполнения регрессии или задачи прогнозирования.

|Метрика|Описание|Вычисление|Дополнительные параметры
--|--|--|--|
explained_variance|Объяснимая дисперсия — это доля, учитываемая математической моделью при вычислении дисперсии заданного набора данных. Это процент уменьшения дисперсии исходных данных по отношению к дисперсии ошибок. Если среднее значение ошибок равно 0, оно равно объяснимой дисперсии.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.explained_variance_score.html)|Нет|
r2_score;|R2 — это коэффициент определения или процентное снижение квадратичных ошибок по сравнению с базовой моделью, которая выводит среднее значение. Если среднее значение ошибок равно 0, оно равно объяснимой дисперсии.|[Вычисление](https://scikit-learn.org/0.16/modules/generated/sklearn.metrics.r2_score.html)|Нет|
spearman_correlation;|Корреляция Спирмена — это непараметрическая мера монотонности связи между двумя наборами данных. В отличие от корреляции Пирсона, для корреляции Спирмена не предполагается, что оба набора данных используют нормальное распределение. Как и другие коэффициенты корреляции, этот коэффициент принимает значения от –1 до + 1. Значение 0 означает отсутствие корреляции. Значения корреляции –1 и + 1 означают точную монотонную связь. Положительные значения корреляции означают, что при увеличении значения x также увеличивается значение y. Отрицательные значения корреляции означают, что при увеличении значения x значение y уменьшается.|[Вычисление](https://docs.scipy.org/doc/scipy-0.16.1/reference/generated/scipy.stats.spearmanr.html)|Нет|
mean_absolute_error|Средняя абсолютная погрешность — это оценочная величина абсолютного значения отклонения между целевым и прогнозируемым значениями.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_absolute_error.html)|Нет|
normalized_mean_absolute_error;|Нормализованная средняя абсолютная погрешность равна средней абсолютной погрешности, деленной на диапазон данных.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_absolute_error.html)|Деление на диапазон данных|
median_absolute_error|Медиана абсолютной погрешности — это медиана всех абсолютных отклонений между целевым и прогнозируемым значениями. Такая потеря устойчива к выбросам.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.median_absolute_error.html)|Нет|
normalized_median_absolute_error|Нормализованная медиана абсолютной погрешности равна медиане абсолютной погрешности, деленной на диапазон данных.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.median_absolute_error.html)|Деление на диапазон данных|
root_mean_squared_error|Среднеквадратическая погрешность — это среднеквадратическое значение ожидаемого квадратичного отклонения между целевым и прогнозируемыми значениями.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_squared_error.html)|Нет|
normalized_root_mean_squared_error;|Нормализованная среднеквадратическая погрешность равна среднеквадратической погрешности, деленной на диапазон данных.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_squared_error.html)|Деление на диапазон данных|
root_mean_squared_log_error|Среднеквадратическая логарифмическая погрешность — это среднеквадратическое значение ожидаемой квадратичной логарифмической погрешности.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_squared_log_error.html)|Нет|
normalized_root_mean_squared_log_error;|Нормализованная среднеквадратическая логарифмическая погрешность равна среднеквадратической логарифмической погрешности, деленной на диапазон данных.|[Вычисление](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.mean_squared_log_error.html)|Деление на диапазон данных|


## <a name="use-with-onnx-in-c-apps"></a>Использование с ONNX в C# приложений

С машинным обучением Azure можно использовать для построения модели Python, который будет преобразован в формат ONNX автоматических машинного Обучения. Среда выполнения ONNX поддерживает C#, поэтому можно использовать модель создается автоматически в вашей C# приложения без необходимости перекодирования или любой из задержек сети, которые вводят конечные точки REST. Попробуйте примером этот поток [в этой записной книжке Jupyter](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/classification-with-onnx/auto-ml-classification-with-onnx.ipynb).

## <a name="automated-ml-across-microsoft"></a>Автоматические машинного Обучения Майкрософт

Автоматические машинного Обучения доступна также в других решениях Microsoft такие как:

|Интеграции|Описание|
|------------|-----------|
|[ML.NET](https://docs.microsoft.com/dotnet/machine-learning/automl-overview)|Выбор автоматического модели и обучения в приложения .NET с помощью Visual Studio и Visual Studio Code с помощью ML.NET автоматизировать машинного Обучения (Предварительная версия).|
|[HDIsnight](../../hdinsight/spark/apache-spark-run-machine-learning-automl.md)|Горизонтальное масштабирование автоматизированными заданиями машинного Обучения обучение в Spark в HDInsight кластеров в параллельном режиме.|
|[PowerBI](https://docs.microsoft.com/power-bi/service-machine-learning-automated)|Вызов модели машинного обучения, непосредственно в Power BI (Предварительная версия).|

## <a name="next-steps"></a>Дальнейшие действия

Примеры и сведения о создании моделей с помощью автоматического машинного обучения:

+ Выполните [руководства: Автоматическое обучение модели классификации с помощью автоматического машинного обучения Azure](tutorial-auto-train-models.md)

+ Настройте параметры для автоматического обучающего эксперимента.
  + В интерфейс портала Azure [выполните следующие действия,](how-to-create-portal-experiments.md).
  + С помощью пакета SDK для Python [выполните следующие действия,](how-to-configure-auto-train.md).

+ Узнайте, как автоматически обучение с использованием данных временных рядов, [выполните следующие действия,](how-to-auto-train-forecast.md).

+ Испытайте [примеры записной книжки Jupyter](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/)
