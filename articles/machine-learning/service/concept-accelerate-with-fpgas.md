---
title: Что такое программируемые пользователем Вентильные (матрицы FPGA)
titleSuffix: Azure Machine Learning service
description: Сведения об ускорении модели и глубоких нейронных сетей с помощью FPGA в Azure. В этой статье содержатся общие сведения о программируемых пользователем вентильных матрицах (ППВМ) и о том, каким образом Служба машинного обучения Azure предоставляет службу искусственного интеллекта (ИИ) в режиме реального времени при развертывании модели в ППВМ Azure.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.author: tedway
author: tedway
ms.reviewer: jmartens
ms.date: 04/24/2019
ms.custom: seodec18
ms.openlocfilehash: 9204b0d8513d4adbb9c93be94284d7d46de41e06
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "66479560"
---
# <a name="what-are-field-programmable-gate-arrays-fpga"></a>Что такое программируемые пользователем Вентильные (матрицы FPGA)

В этой статье содержатся общие сведения о программируемых пользователем вентильных матрицах (ППВМ) и о том, каким образом Служба машинного обучения Azure предоставляет службу искусственного интеллекта (ИИ) в режиме реального времени при развертывании модели в ППВМ Azure.

ППВМ содержат массив программируемых логических блоков и иерархию настраиваемых взаимоподключений. Взаимоподключения позволяют настраивать эти блоки различными способами после производства. В отличие от других микросхем, ППВМ обеспечивают сочетание программируемости и производительности.

## <a name="fpgas-vs-cpu-gpu-and-asic"></a>FPGAs vs. CPU, GPU и ASIC

На схеме и в таблице ниже показано сравнение ППВМ и других процессоров.

![Схема сравнения ППВМ Службы машинного обучения Azure](./media/concept-accelerate-with-fpgas/azure-machine-learning-fpga-comparison.png)

|Процессор||Описание|
|---|:-------:|------|
|Микросхемы приложений|ASIC|Пользовательские микросхемы, такие как процессор TensorFlow (TPU) от Google, предоставляют повышенную эффективность. Их нельзя настраивать повторно в случае изменения требований.|
|Программируемые пользователем вентильные матрицы|FPGA|ППВМ (например те, что доступны в Azure) обеспечивают производительность, близкую к микросхемам ASIC. Они также гибкие и поддерживают перенастройку для реализации новой логики.|
|Графические процессоры|GPU|Широко применяются для вычислений с использованием ИИ. Они обеспечивают возможности параллельной обработки, что позволяет выполнять отрисовку изображений быстрее, чем ЦП.|
|Центральные процессоры|ЦП|Процессоры общего назначения, производительность которых не подходит для обработки графики и видео.|

FPGAs в Azure основаны на устройствах Intel FPGA, какие специалисты по анализу данных и разработчики используют для ускорения вычислений в реальном времени искусственного Интеллекта. Эта архитектура с поддержкой ППВМ доступна в Azure и обеспечивает производительность, гибкость и масштабирование.

FPGAs позволяют добиться выполнения запросов с низкой задержкой для вывода в режиме реального времени (или оценки модели). Асинхронные запросы (пакетная обработка) не нужны. Пакетная обработка может повысить задержку, так как необходимо обработать больше данных. Реализации единиц нейронной обработки не требуют пакетной обработки; Поэтому задержка может быть ниже много раз, по сравнению с ЦП и GPU процессоров.

### <a name="reconfigurable-power"></a>Настраиваемое питание
ППВМ можно перенастроить для различных типов моделей машинного обучения. Такая гибкость упрощает ускорение приложений на основе наиболее оптимальной точности числовых значений и используемой модели памяти. Так как ППВМ перенастраиваются, они могут поддерживать актуальные требования быстро меняющихся алгоритмов ИИ.

### <a name="whats-supported-on-azure"></a>Поддерживаемые в Azure функции
Microsoft Azure – крупнейшая в мире облачная инвестиция в FPGA. FPGAs на Azure поддерживает:

+ Сценарии классификации и распознавания изображений.
+ Развертывание TensorFlow.
+ DNN: ResNet 50, ResNet 152, VGG-16, SSD VGG и DenseNet 121.
+ Оборудование FPGA Intel. 

Используя эту аппаратную архитектуру с поддержкой FPGA, обученные нейронные сети работают быстро и с меньшей задержкой. Azure можно распараллеливать предварительно обученных глубоких нейронных сетей (DNN) через FPGAs для масштабирования своей службы. DNN можно предварительно обучить как глубокий характеризатор для переноса обучения или настроить с использованием обновленных весовых коэффициентов.

### <a name="scenarios-and-applications"></a>Сценарии и приложения

Azure FPGAs интегрированы с машинным обучением Azure. Корпорация Майкрософт использует ППВМ для оценки DNN, ранжирования поиска Bing и ускорения работы программно определяемой сети (SDN), чтобы уменьшить задержку, одновременно освобождая ЦП для других задач.

FPGAs используется в следующих случаях:
+ [Автоматизированная система оптического контроля.](https://blogs.microsoft.com/ai/build-2018-project-brainwave/)

+ [Сопоставление земного покрова.](https://blogs.technet.microsoft.com/machinelearning/2018/05/29/how-to-use-fpgas-for-deep-learning-inference-to-perform-land-cover-mapping-on-terabytes-of-aerial-images/)

## <a name="deploy-to-fpgas-on-azure"></a>Развертывание в FPGA в Azure

Чтобы создать службу распознавания изображений в Azure, можно использовать поддерживаемые DNN в качестве характеризатора для развертывания в ППВМ Azure.

1. Используйте [пакет SDK Машинного обучения Azure для Python](https://aka.ms/aml-sdk), чтобы создать определение службы. Определение службы представляет собой файл, описывающий конвейер графов (входящие данные, характеризатор и классификатор) на основе TensorFlow. Команда развертывания автоматически выполняет сжатие определения и графов в ZIP-файл и передает этот файл в хранилище BLOB-объектов Azure. Для запуска на FPGA DNN уже развернута.

1. Зарегистрируйте модель с помощью пакета SDK, используя ZIP-файл в хранилище BLOB-объектов Azure.

1. Разверните службу с зарегистрированной моделью с помощью пакета SDK.

Чтобы приступить к развертыванию обученных моделей DNN в ППВМ в облаке Azure, ознакомьтесь со статьей [Как развернуть модель как веб-службу в FPGA с помощью Машинного обучения Azure](how-to-deploy-fpga-web-service.md).


## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с этими видеоматериалами и записями блога.

+ [Гипермасштабируемое оборудование: машинное обучение в соответствующем масштабе на основе Azure и ППВМ. Сборка 2018 (видео)](https://channel9.msdn.com/events/Build/2018/BRK3202)

+ [Внутренние параметры настраиваемого облака на основе FPGA Microsoft (видео)](https://channel9.msdn.com/Events/Build/2017/B8063)

+ [Домашняя страница проекта Project Brainwave для использования искусственного интеллекта в режиме реального времени](https://www.microsoft.com/research/project/project-brainwave/)
