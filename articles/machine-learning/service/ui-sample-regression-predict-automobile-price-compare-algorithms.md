---
title: 'Пример визуального интерфейса #3: регрессия для цены и сравнения алгоритмов'
titleSuffix: Azure Machine Learning service
description: В этой статье показано, как создать сложный эксперимент машинного обучения без написания единой строки кода с помощью визуального интерфейса. Узнайте, как обучить и сравнивать несколько моделей регрессии для прогнозирования цены автомобиля на основе технических характеристик.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
author: xiaoharper
ms.author: zhanxia
ms.reviewer: sgilley
ms.date: 05/10/2019
ms.openlocfilehash: d05a601196ec4a5349a0acb4763098d9716c17f5
ms.sourcegitcommit: 5b76581fa8b5eaebcb06d7604a40672e7b557348
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/13/2019
ms.locfileid: "68990005"
---
# <a name="sample-2---regression-predict-price-and-compare-algorithms"></a>Пример 2. регрессия: Прогнозирование цен и сравнение алгоритмов

Узнайте, как создать сложный эксперимент машинного обучения без написания единой строки кода с помощью визуального интерфейса. В этом примере описывается обучение и сравнение нескольких моделей регрессии для прогнозирования цены автомобиля на основе ее технических характеристик. Мы предоставим смысл для выбора, сделанного в этом эксперименте, чтобы вы могли справиться с проблемами машинного обучения.

Если вы только начинаете работу с машинным обучением, вы можете взглянуть на базовую [версию](ui-sample-regression-predict-automobile-price-basic.md) этого эксперимента, чтобы увидеть базовый эксперимент регрессии.

Вот готовый граф для этого эксперимента:

[![График эксперимента](media/ui-sample-regression-predict-automobile-price-compare-algorithms/graph.png)](media/ui-sample-classification-predict-credit-risk-cost-sensitive/graph.png#lightbox)

## <a name="prerequisites"></a>предварительные требования

[!INCLUDE [aml-ui-prereq](../../../includes/aml-ui-prereq.md)]

4. Нажмите кнопку **Открыть** для примера 2 эксперимента:

    ![Открытие эксперимента](media/ui-sample-regression-predict-automobile-price-compare-algorithms/open-sample2.png)

## <a name="experiment-summary"></a>Сводка по экспериментам

Мы используем эти шаги для создания эксперимента:

1. Получение данных.
1. Предварительно обработайте данные.
1. Обучение модели.
1. Тестирование, оценка и сравнение моделей.

## <a name="get-the-data"></a>Получение данных

В этом эксперименте мы используем набор данных « **данные о ценах автомобилей (RAW)** », который находится в репозитории "UCI машинное обучение". Этот набор данных содержит 26 столбцов, содержащих сведения об устройствах автомобильной связи, включая создание, моделирование, цену, функции автомобилей (например, число цилиндров), MPG и оценку риска страхования. Цель этого эксперимента — прогнозировать стоимость автомобиля.

## <a name="pre-process-the-data"></a>Предварительная обработка данных

К основным задачам подготовки данных относятся очистка данных, интеграция, преобразование, сокращение, дискретизация или дискретизация. В визуальном интерфейсе можно найти модули для выполнения этих операций и других задач предварительной обработки данных в группе **преобразования данных** на левой панели.

В этом эксперименте мы используем модуль **Выбор столбцов в наборе данных** для исключения нормализованных убытков с большим количеством отсутствующих значений. Затем мы используем **чистые отсутствующие данные** для удаления строк с отсутствующими значениями. Это помогает создать чистый набор обучающих данных.

![Предварительная обработка данных](media/ui-sample-regression-predict-automobile-price-compare-algorithms/data-processing.png)

## <a name="train-the-model"></a>Обучение модели

Проблемы машинного обучения различаются. Типичные задачи машинного обучения включают в себя классификацию, кластеризацию, регрессию и рекомендации, для каждой из которых может потребоваться другой алгоритм. Выбор алгоритма часто зависит от требований варианта использования. После выбора алгоритма необходимо настроить его параметры для обучения более точной модели. Затем необходимо оценить все модели на основе метрик, таких как точность, интеллигибилити и эффективность.

Так как цель этого эксперимента заключается в прогнозировании цен автомобилей, и, поскольку столбец меток (Price) содержит реальные числа, модель регрессии является хорошим выбором. Учитывая, что количество функций относительно невелико (меньше 100) и эти функции не имеют разреженности, граница решения, скорее всего, будет нелинейной.

Чтобы сравнить производительность различных алгоритмов, мы используем два нелинейных алгоритма, **повышенную регрессию дерева принятия решений** и **регрессию леса принятия решений**для построения моделей. Оба алгоритма имеют параметры, которые можно изменить, но для этого эксперимента используются значения по умолчанию.

Мы используем модуль **Split Data (разделение данных** ) для случайного деления входных данных таким образом, чтобы набор данных для обучения содержал 70% исходных данных, а набор проверочных данных содержит 30% исходных данных.

## <a name="test-evaluate-and-compare-the-models"></a>Тестирование, оценка и сравнение моделей

Мы используем два разных набора случайно выбранных данных для обучения, а затем протестировать модель, как описано в предыдущем разделе. Мы разбиваем набор данных и используем различные наборы данных для обучения и тестирования модели, чтобы сделать оценку модели более целевой.

После обучения модели мы используем **модель оценки** и вычислим модули **модели** для создания прогнозируемых результатов и оценки моделей. **Модель оценки** создает прогнозы для тестового набора данных с помощью обученной модели. Затем мы передаем оценки для **оценки модели** , чтобы создать метрики оценки.

В этом эксперименте мы используем два экземпляра функции **Evaluate Model** для сравнения двух пар моделей.

Сначала мы сравниваем два алгоритма в наборе данных для обучения.
Во вторых, мы сравниваем два алгоритма на проверочном наборе данных.
Вот результат выполнения:

![Сравнение результатов](media/ui-sample-regression-predict-automobile-price-compare-algorithms/result.png)

Эти результаты показывают, что модель, построенная с помощью регрессии с **повышенным деревом принятия решений** , имеет меньшую среднюю корневую ошибку, чем модель, построенную на **регрессии леса принятия решений**.

Оба алгоритма имеют более низкую ошибку в наборе данных для обучения, чем в невидимом наборе данных тестирования.

## <a name="clean-up-resources"></a>Очистка ресурсов

[!INCLUDE [aml-ui-cleanup](../../../includes/aml-ui-cleanup.md)]

## <a name="next-steps"></a>Следующие шаги

Изучите другие примеры, доступные для визуального интерфейса:

- [Пример 1. регрессия: Прогнозирование цены автомобиля](ui-sample-regression-predict-automobile-price-basic.md)
- [Пример 3. Классификация: Прогнозируемый кредитный риск](ui-sample-classification-predict-credit-risk-basic.md)
- [Пример 4. Классификация: Прогнозируемый кредитный риск (с учетом стоимости)](ui-sample-classification-predict-credit-risk-cost-sensitive.md)
- [Пример 5. Классификация: Прогнозирование обновлений](ui-sample-classification-predict-churn.md)
- [Пример 6. Классификация: Прогнозирование задержек рейсов](ui-sample-classification-predict-flight-delay.md)
