---
title: Руководство по развертыванию модели машинного обучения с помощью графического интерфейса
titleSuffix: Azure Machine Learning
description: Сведения о том, как создавать решения для прогнозной аналитики в графическом интерфейсе Машинного обучения Azure. Обучение, оценка и развертывание модели машинного обучения с помощью перетаскивания модулей. Это второе руководство серии, посвященной прогнозированию цен на автомобили с использованием линейной регрессии.
author: peterclu
ms.author: peterlu
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: tutorial
ms.date: 07/11/2019
ms.openlocfilehash: 22d5c41e8b815fd99450962cb63d11e9560c787f
ms.sourcegitcommit: 1752581945226a748b3c7141bffeb1c0616ad720
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/14/2019
ms.locfileid: "70997012"
---
# <a name="tutorial-deploy-a-machine-learning-model-with-the-visual-interface"></a>Руководство по развертыванию модели машинного обучения с помощью графического интерфейса

Чтобы другие пользователи могли применить модель прогнозирования, созданную с помощью [инструкций в первой части этого руководства](ui-tutorial-automobile-price-train-score.md), ее можно развернуть как веб-службу Azure. До сих пор вы экспериментировали с обучением модели. Теперь пора создать прогнозы на основе вводимых пользователем данных. В этой части руководства вы выполните следующие задачи:

> [!div class="checklist"]
> * Подготовка модели к развертыванию.
> * Развертывание веб-службы
> * Тестирование веб-службы.
> * Управление веб-службой.
> * Использование веб-службы

## <a name="prerequisites"></a>Предварительные требования

Изучите [первую часть руководства](ui-tutorial-automobile-price-train-score.md), чтобы узнать, как обучать и оценивать модель машинного обучения в графическом интерфейсе.

## <a name="prepare-for-deployment"></a>Подготовка к развертыванию

Перед развертыванием эксперимента в качестве веб-службы вам сначала нужно преобразовать *обучающий эксперимент* в *прогнозный эксперимент*.

1. Нажмите **Создать прогнозный эксперимента*** в нижней части холста эксперимента.

    ![Анимационный GIF, показывающий автоматическое преобразование обучающего эксперимента в прогнозный эксперимент](./media/ui-tutorial-automobile-price-deploy/deploy-web-service.gif)

    При нажатии кнопки **Создать прогнозный эксперимент** произойдет несколько вещей:
    
    * Обученная модель будет сохранена в виде модуля **Обученная модель** в палитре модулей. Его можно найти в разделе **Trained Models** (Обученные модели).
    * Удаляются следующие модули, которые мы использовали для обучения:
      * Train Model (Обучение модели);
      * Split Data (Разделение данных);
      * Анализ модели
    * Сохраненная обученная модель добавляется обратно в эксперимент.
    * Добавляются модули **Входные данные веб-службы** и **Выходные данные веб-службы**. Эти модули определяют, где пользовательские данные поступают в модель и куда они возвращаются.

    **Обучающий эксперимент** все еще сохраняется в новых вкладках в верхней части холста эксперимента.

1. **Запустите** эксперимент.

1. Выберите выходные данные модуля **Модель оценки** и нажмите **Просмотреть результаты**, чтобы убедиться в том, что модель работает. Отобразятся изначальные данные и прогнозируемая стоимость ("оцененные метки").

Теперь ваш эксперимент должен выглядеть следующим образом:  

![Снимок экрана: ожидаемая конфигурация эксперимента после его подготовки к развертыванию](./media/ui-tutorial-automobile-price-deploy/predictive-graph.png)

## <a name="deploy-the-web-service"></a>Развертывание веб-службы

1. Выберите **Развернуть веб-службу** под холстом.

1. Выберите **целевой объект вычислений**, где вы бы хотели запустить веб-службу.

    В настоящее время графический интерфейс поддерживает только развертывание в целевых объектах вычислений Службы Azure Kubernetes (AKS). Вы можете выбрать из доступных целевых объектов вычислений AKS в вашей рабочей области Службы машинного обучения или настроить новую среду AKS, следуя инструкциям в появившемся диалоговом окне.

    ![Снимок экрана: возможная конфигурация для нового целевого объекта вычислений](./media/ui-tutorial-automobile-price-deploy/deploy-compute.png)

1. Выберите **Развернуть веб-службу**. После завершения развертывания вы увидите приведенное ниже уведомление. Развертывание может занять несколько минут.

    ![Снимок экрана: сообщение с подтверждением успешного развертывания.](./media/ui-tutorial-automobile-price-deploy/deploy-succeed.png)

## <a name="test-the-web-service"></a>Тестирование веб-службы

Вы можете тестировать веб-службы графического интерфейса и управлять ими на вкладке **Веб-службы**.

1. Перейдите в раздел веб-службы. Вы увидите развернутую веб-службу с именем **Tutorial - Predict Automobile Price[Predictive Exp]** (Руководство. Прогнозирование цен на автомобили [прогнозный эксперимент]).

     ![Снимок экрана: вкладка веб-службы с выделенной недавно созданной веб-службой](./media/ui-tutorial-automobile-price-deploy/web-services.png)

1. Выберите имя веб-службы, чтобы просмотреть дополнительные сведения.

1. Выберите **Тест**.

    [![Снимок экрана со страницей тестирования веб-службы](./media/ui-tutorial-automobile-price-deploy/web-service-test.png)](./media/ui-tutorial-automobile-price-deploy/web-service-test.png#lightbox)

1. Введите данные тестирования или используйте автозаполненный пример данных и нажмите **Тест**.

    Тестовый запрос отправляется в веб-службу, и результаты отображаются на странице. Значение цены формируется на основе входных данных, но при расчете прогнозируемого значения они не используются.

## <a name="consume-the-web-service"></a>Использование веб-службы

Пользователи теперь могут отправлять запросы к API вашей веб-службы Azure и получать результаты для прогнозирования цен на новые автомобили.

**Запрос-ответ** — пользователь отправляет одну или несколько строк данных об автомобилях в службу по протоколу HTTP. Служба отправляет в ответ один или несколько наборов результатов.

Примеры вызовов REST можно найти на вкладке **Consume** (Использование) страницы сведений о веб-службе.

   ![Снимок экрана: пример вызова REST, который пользователи могут найти на вкладке Consume (Использование)](./media/ui-tutorial-automobile-price-deploy/web-service-consume.png)

Перейдите на вкладку **API Doc** (Документация по API), чтобы найти дополнительные сведения об интерфейсе API.

## <a name="manage-models-and-deployments"></a>Управление моделями и развертываниями

Моделями и развертываниями веб-служб, созданными в графическом интерфейсе, также можно управлять с помощью рабочей области Машинного обучения Azure.

1. Откройте рабочую область на [портале Azure](https://portal.azure.com/).  

1. В своей рабочей области выберите **Модели**. Затем выберите созданный эксперимент.

    ![Снимок экрана: способ перехода к экспериментам на портале Azure](./media/ui-tutorial-automobile-price-deploy/portal-models.png)

    На этой странице вы увидите дополнительные сведения о модели.

1. Выберите **Развертывания**, после чего будут перечислены все веб-службы, использующие модель. Выберите имя веб-службы. После этого вы перейдете на страницу сведений о веб-службе. На этой странице можно получить более подробные сведения о веб-службе.

    [![Снимок экрана с подробным отчетом о выполнении](./media/ui-tutorial-automobile-price-deploy/deployment-details.png)](./media/ui-tutorial-automobile-price-deploy/deployment-details.png#lightbox)

Эти модели и развертывания можно также найти в разделах **моделей** и **конечных точек** на [целевой странице рабочей области (предварительная версия)](https://ml.azure.com).

## <a name="clean-up-resources"></a>Очистка ресурсов

[!INCLUDE [aml-ui-cleanup](../../../includes/aml-ui-cleanup.md)]

## <a name="next-steps"></a>Дополнительная информация

В этом руководстве вы узнали об основных этапах создания, развертывания и использования модели машинного обучения в графическом интерфейсе. Чтобы получить дополнительные сведения об использовании графического интерфейса для решения других типов проблем, ознакомьтесь с примерами экспериментов.

> [!div class="nextstepaction"]
> [Пример классификации кредитных рисков](ui-sample-classification-predict-credit-risk-cost-sensitive.md)
