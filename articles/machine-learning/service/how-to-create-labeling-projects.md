---
title: Создание проекта маркировки данных
titleSuffix: Azure Machine Learning
description: Узнайте, как создавать и запускать проекты маркировки, которые присваивают теги данным для машинного обучения.
author: lobrien
ms.author: laobri
ms.service: machine-learning
ms.topic: tutorial
ms.date: 11/04/2019
ms.openlocfilehash: bdedc3ee0c76eafc4b4bc95116fb5be846f4bee5
ms.sourcegitcommit: 5ab4f7a81d04a58f235071240718dfae3f1b370b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2019
ms.locfileid: "74978242"
---
# <a name="create-a-data-labeling-project-and-export-labels"></a>Создание проекта маркировки данных и экспорт меток 

Добавление меток к данным большого объема часто становится большой проблемой в проектах машинного обучения. Для проектов машинного обучения с компонентом компьютерного зрения, таких как классификация изображений или обнаружение объектов, обычно требуются метки для тысяч изображений.
 
[Машинное обучение Azure](https://ml.azure.com/) служит централизованным расположением для создания, администрирования и мониторинга проектов добавления меток. С помощью решения можно координировать данные, метки и работу команды, что позволит эффективно управлять задачами добавления меток. Машинное обучение поддерживает такие задачи: классификация изображений (с несколькими метками или классами) и идентификация объектов с использованием ограничивающих прямоугольников.

Машинное обучение отслеживает ход выполнения задач добавления меток и поддерживает очереди незавершенных задач. Для присвоения меток маркировщикам не нужна учетная запись Azure. Выполнив вход с учетной записью Майкрософт или через [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-whatis), они смогут добавить любое количество меток, которое удастся обнаружить за отведенное время.

Машинное обучение позволяет запускать и останавливать проект, добавлять и удалять пользователей и команды, а также отслеживать ход выполнения. Вы можете экспортировать помеченные данные в формате COCO или набора данных Машинного обучения Azure.

> [!Important]
> Сейчас поддерживаются только проекты маркировки идентификации объектов и классификации изображений. Кроме того, образы данных должны быть доступными в хранилище BLOB-объектов Azure. (Если у вас нет хранилища данных, вы можете отправлять образы при создании проекта.) 

Из этой статьи вы узнаете о следующем:

> [!div class="checklist"]
> * Создание проекта
> * Указание данных и структуры проекта.
> * управление командами и людьми, которые работают над проектом;
> * Запуск и мониторинг проекта.
> * Экспорт меток.


## <a name="prerequisites"></a>Предварительные требования

* Данные, которые вы хотите пометить, размещенные в локальных файлах или в хранилище Azure.
* Набор меток, которые вы хотите применить.
* Инструкции по добавлению меток.
* Подписка Azure. Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись Azure](https://aka.ms/AMLFree), прежде чем начинать работу.
* Рабочая область машинного обучения. См. сведения о [создании рабочей области машинного обучения Azure](how-to-manage-workspace.md).

## <a name="create-a-labeling-project"></a>Создание проекта маркировки

Проекты добавления меток администрируются в Машинном обучении Azure. Страница **Labeling projects** (Проекты добавления меток) позволяет управлять проектами и пользователями. Каждому проекту назначается одна или несколько команд, а в команду назначаются один или несколько пользователей.

Если данные уже размещены в хранилище BLOB-объектов Azure, перед созданием проекта добавления меток сделайте данные доступными в виде хранилища данных. Дополнительные сведения см. в статье о [создании и регистрации хранилищ данных](https://docs.microsoft.com/azure/machine-learning/service/how-to-access-data#create-and-register-datastores).

Чтобы создать проект, щелкните **Добавить проект**. Присвойте проекту подходящее имя и выберите **тип задачи добавления меток**.

![Мастер создания проекта маркировки](media/how-to-create-labeling-projects/labeling-creation-wizard.png)

* Выберите тип **Image Classification Multi-label** (Классификация изображений со множеством меток), если в проекте вам нужно применить к каждому изображению *одну или несколько* меток из определенного набора классов. Например, фотографии собаки можно одновременно присвоить метки *dog* (собака) и *daytime* (день).
* Выберите тип **Image Classification Multi-class** (Классификация изображений со множеством классов), если в проекте вам нужно применить к каждому изображению *один класс* из определенного набора.
* Выберите тип **Object Identification (Bounding Box)** (Идентификация объекта (ограничивающий прямоугольник)), если в проекте вам нужно присвоить класс и ограничивающий прямоугольник каждому объекту на изображениях.

Щелкните **Далее**, когда будете готовы продолжать работу.

## <a name="specify-the-data-to-label"></a>Укажите данные для присвоения меток

Если вы уже создали набор данных, который содержит нужные данные, его можно выбрать из раскрывающегося списка **Select an existing dataset** (Выбрать существующий набор данных). Либо щелкните **Создать набор данных**, чтобы выбрать существующее хранилище Azure или отправить локальные файлы.

### <a name="create-a-dataset-from-an-azure-datastore"></a>Создание набора данных из хранилища данных Azure

Во многих случаях достаточно просто отправить локальные файлы. Но [Обозреватель службы хранилища Azure](https://azure.microsoft.com/features/storage-explorer/) предоставляет более быстрый и надежный способ для перемещения большого объема данных. Мы рекомендуем по умолчанию использовать Обозреватель службы хранилища для перемещения файлов.

Чтобы создать набор данных на основе данных, которые вы уже сохранили в хранилище BLOB-объектов Azure, сделайте следующее:

1. Щелкните **Создать набор данных** > **From datastore (Из хранилища данных)** .
1. Введите **имя** для набора данных.
1. Выберите значение **Файл** для параметра **Тип набора данных**.  
1. Выберите хранилище данных.
1. Если данные находятся во вложенной папке в хранилище BLOB-объектов, щелкните **Обзор** и выберите нужный путь.
    * Вы также можете добавить символы "/**" в конце пути, чтобы включить все файлы во вложенных папках выбранного пути.
    * Добавьте символы "* */* .*", чтобы включить все данные в текущем контейнере и вложенных папках.
1. Введите описание набора данных.
1. Щелкните **Далее**.
1. Подтвердите введенные данные. Щелкните **Назад**, чтобы изменить параметры или **Создать**, чтобы создать новый набор данных.

### <a name="create-a-dataset-from-uploaded-data"></a>Создание набора данных из отправленных данных

Чтобы отправить данные напрямую, сделайте следующее:

1. Щелкните **Создать набор данных** > **From local files (Из локальных файлов)** .
1. Введите **имя** для набора данных.
1. Выберите значение "Файл"для параметра **Тип набора данных**.
1. *Необязательно*. Щелкните **Дополнительные параметры**, чтобы настроить хранилище данных, контейнер и путь к данным.
1. Щелкните **Обзор**, чтобы выбрать локальные файлы для отправки.
1. Введите описание набора данных.
1. Щелкните **Далее**.
1. Подтвердите введенные данные. Щелкните **Назад**, чтобы изменить параметры или **Создать**, чтобы создать новый набор данных.

Данные отправляются в хранилище больших двоичных объектов по умолчанию ("workspaceblobstore") в рабочей области Машинного обучения.

## <a name="specify-label-classes"></a>Указание классов меток

На странице **Label classes** (Классы меток) укажите набор классов для категоризации данных. Уделите этому особое внимание, ведь точность и скорость работы маркировщиков зависят от их способности правильно и выбрать класс. Например, вместо полных наименований видов и родов растений или животных используйте кодовые или сокращенные наименования.

Каждую метку указывайте на отдельной строке. Нажмите кнопку **+** , чтобы добавить новую строку. Если число меток больше 3-4, но меньше 10, можно добавить к именам префиксы ("1:", "2:"), чтобы маркировщики могли ускорить работу с помощью числовых клавиш.

## <a name="describe-the-labeling-task"></a>Описание задачи маркировки

Важно четко объяснить задачу добавления меток. Страница **Labeling instructions** (Инструкции по добавлению меток) позволяет указать ссылку на внешний сайт с информацией о добавлении меток. Инструкции должны описывать конкретные задачи понятным для целевой аудитории образом. Обдумайте следующие вопросы:

* Какие метки увидят пользователи и как сделать выбор между метками? Есть ли справочный текст, которым можно пользоваться?
* Что делать, если ни одна метка не подходит?
* Что делать, если подходят несколько меток?
* Какой уровень достоверности следует применять к метке? Нужно ли указывать лучший из предполагаемых вариантов, если нет уверенности?
* Что делать с частично перекрытыми объектами?
* Что делать, если объект обрезается краем изображения?
* Что делать, если после отправки метки оказывается, что допущена ошибка?

При использовании ограничивающих прямоугольников появляются дополнительные вопросы:

* Как для этой задачи задается ограничивающий прямоугольник? Должен ли он размещаться полностью внутри объекта или полностью снаружи? Нужно ли обрезать его как можно точнее или допустим некоторый зазор?
* Какой уровень точности и согласованности ожидается при определении ограничивающих прямоугольников?

>[!NOTE]
> Не забудьте указать, что маркировщик может выбрать первые 9 меток с помощью цифровых клавиш 1–9.

## <a name="initialize-the-labeling-project"></a>Инициализация проекта маркировки

После инициализации проекта добавления меток вы не сможете изменить некоторые его аспекты. Например, нельзя изменить тип задачи или набор данных. Но вы *можете* изменять метки и URL-адрес с описанием задачи. Внимательно проверьте параметры перед созданием проекта. После отправки проекта вы вернетесь на стартовую страницу **Добавление меток**, где для этого проекта отображается состояние **Инициализация**. Эта страница не обновляется автоматически. Поэтому подождите немного и вручную обновите страницу. Состояние проекта должно измениться на **Создано**.

## <a name="manage-teams-and-people"></a>Управление командами и отдельными пользователями

По умолчанию для каждого нового проекта добавления меток создается новая команда, в которую включается создатель проекта. Но команды можно произвольно перераспределять между проектами. Для любого проекта можно назначить больше одной команды. Чтобы создать команду, выберите **Добавить команду** на странице **Команды**.

Управление пользователями осуществляется на странице **Пользователи**. При добавлении и удалении пользователи идентифицируются по адресу электронной почты. Каждый маркировщик будет проходить проверку подлинности с учетной записью Майкрософт или Azure Active Directory, если эта служба используется.  

Добавив пользователя, его можно назначить в одну или несколько команд. Перейдите на страницу **Команды**, выберите группу, а затем выберите **Назначить пользователей** или **Удалить пользователей**.

Чтобы отправить группе сообщение электронной почты, щелчком по группе откройте ее страницу **Team details** (Сведения о команде). На этой странице щелкните **Email team** (Отправить команде сообщение электронной почты), чтобы открыть черновик сообщения электронной почты с адресами всех участников команды.

## <a name="run-and-monitor-the-project"></a>Запуск и мониторинг проекта.

После инициализации проекта в Azure начнется его выполнение. Щелкнув проект на главной странице **Добавление меток**, вы попадете на страницу **сведений о проекте**. На вкладке **Панель мониторинга** отображается ход выполнения задачи добавления меток.

На вкладке **Данные** можно просмотреть набор данных и помеченные данные. Если данные помечены неправильно, выберите их и щелкните **Отклонить**, чтобы удалить метки и поместить эти данные обратно в очередь данных без меток.

На вкладке **Команда** можно назначить команды этому проекту или отменить их назначение.

Чтобы приостановить или перезапустить проект, используйте кнопку **Приостановка**/**Запуск**. Данные можно помечать только в выполняемом проекте.

Вы можете напрямую пометить данные на странице **Project details** (Сведения о проекте), выбрав действие **Label data** (Пометить данные).

## <a name="export-the-labels"></a>Экспорт меток.

Вы можете в любое время экспортировать данные меток для эксперимента машинного обучения. Метки изображений можно экспортировать в [формате COCO](http://cocodataset.org/#format-data) или в виде набора данных Машинного обучения Azure. Используйте для этого кнопку **Экспорт** на странице **Сведения о проекте** для проекта добавления меток.

Файл COCO создается в хранилище больших двоичных объектов по умолчанию для рабочей области Машинного обучения Azure в папке *export/coco*. Вы можете обращаться к экспортированному набору данных Машинного обучения Azure через раздел **Наборы данных** в Машинном обучении. На странице сведений о наборе данных есть пример кода для доступа к меткам из Python.

![Экспортированный набор данных](media/how-to-create-labeling-projects/exported-dataset.png)

## <a name="next-steps"></a>Дополнительная информация

* Маркировка изображений для [классификации изображений или обнаружения объектов](how-to-label-images.md).
* Ознакомьтесь с дополнительными сведениями о [Машинном обучении Azure и Студии машинного обучения (классической)](../compare-azure-ml-to-studio-classic.md).
