---
title: Что такое экземпляр вычислений машинного обучения Azure?
titleSuffix: Azure Machine Learning
description: Узнайте о экземпляре вычислений Azure Machine Learning, полностью управляемой облачной рабочей станции.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.author: sgilley
author: sdgilley
ms.date: 12/13/2019
ms.openlocfilehash: 280851b2fea0b8100a7d0f8ec8105109a41c8c83
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79283931"
---
# <a name="what-is-an-azure-machine-learning-compute-instance"></a>Что такое экземпляр вычислений машинного обучения Azure?

Экземпляр вычислений Azure Machine Learning (предварительный просмотр) — это полностью управляемая облачная рабочая станция для ученых, изучающих данные. 

Вычисления делают легкой работу с разработкой Машинного обучения Azure, а также предоставляют возможности управления и корпоративной готовности для ИТ-администраторов.  

Используйте экземпляр вычислений в качестве полностью настроенной и управляемой среды разработки в облаке.

Вычислимые экземпляры обычно используются в качестве сред разработки.  Они также могут быть использованы в качестве вычислительной цели для обучения и подготовки для разработки и тестирования.  Для больших задач [вычислительный кластер Azure Machine Learning](how-to-set-up-training-targets.md#amlcompute) с возможностями масштабирования нескольких узлов является лучшим выбором целевых задач.


## <a name="why-use-a-compute-instance"></a>Зачем использовать экземпляр вычислений?

Вычислительный экземпляр — это полностью управляемая облачная рабочая станция, оптимизированная для среды разработки машинного обучения. Это предоставляет следующие преимущества:

|Основные преимущества||
|----|----|
|Производительность|Специалисты по обработке данных могут создавать и развертывать модели с помощью интегрированных ноутбуков и следующих инструментов в своем веб-браузере:<br/>- Джупитера<br/>- JupyterLab<br/>- RStudio|
|Управляемые & защищены|Уменьшите след в безопасности и добавьте соответствие требованиям корпоративной безопасности. Вычисления обеспечивают надежные политики управления и безопасные сетевые конфигурации, такие как:<br/><br/>- Автоматическая подготовка с шаблонов менеджера ресурсов или SDK машинного обучения Azure<br/>- [Элемент управления доступом на основе ролей (RBAC)](/azure/role-based-access-control/overview)<br/>- [Виртуальная сетевая поддержка](how-to-enable-virtual-network.md#compute-instance)<br/>- Политика SSH для обеспечения/отключать доступ SSH|
|Предварительно&nbsp;настроенный&nbsp;или ML|Экономьте время на настройке задач с предварительно настроенными и современными пакетами ML, платформами глубокого обучения, драйверами графического процессора.|
|Полностью настраиваемый|Широкая поддержка типов Azure VM, включая графические процессоры, и сохраняющаяся низкоуровневая настройка, такая как установка пакетов и драйверов, делает расширенные сценарии нелегкими. |

## <a name="tools-and-environments"></a><a name="contents"></a>Инструменты и среды

Экземпляр вычислений Azure Machine Learning позволяет создавать, обучать и развертывать модели в полностью интегрированном опыте работы с ноутбуками в рабочем пространстве.


Эти инструменты и среды устанавливаются на экземпляр вычислений: 

|Общие инструменты & среды|Сведения|
|----|:----:|
|Драйверы|`CUDA`</br>`cuDNN`</br>`NVIDIA`</br>`Blob FUSE` |
|Библиотека MPI Intel||
|Azure CLI ||
|Образцы машинного обучения Azure ||
|Двигатель Машинного обучения Azure EDAT ||
|Docker||
|Nginx||
|NCCL 2.0 ||
|Протобуф|| 

|**R-инструменты** & среды|Сведения|
|----|:----:|
|RStudio Server издание с открытым исходным кодом||
|R ядро||
|Azure машинного обучения SDK для R|[лазурмсдк](https://azure.github.io/azureml-sdk-for-r/reference/index.html)</br>Примеры пакета SDK|

|Инструменты **PYTHON** & среды|Сведения|
|----|----|
|Anaconda Python.||
|Jupyter и расширения||
|Jupyterlab и расширения||
|Visual Studio Code ||
[Azure машинного обучения SDK для Python](https://docs.microsoft.com/python/api/overview/azure/ml/intro?view=azure-ml-py)</br>от PyPI|`azureml-sdk[notebooks,contrib,automl,explain]`</br>`azureml-contrib-datadrift`</br>`azureml-telemetry`</br>`azureml-tensorboard`</br>`azureml-contrib-opendatasets`</br>`azureml-opendatasets`</br>`azureml-contrib-reinforcementlearning`</br>`azureml-mlflow`</br>`azureml-contrib-interpret` |
|Другие пакеты PyPI|`jupytext`</br>`jupyterlab-git`</br>`tensorboard`</br>`nbconvert`</br>`notebook`</br>`Pillow`|
|Пакеты Conda|`cython`</br>`numpy`</br>`ipykernel`</br>`scikit-learn`</br>`matplotlib`</br>`tqdm`</br>`joblib`</br>`nodejs`</br>`nb_conda_kernels`|
|Пакеты глубокого обучения|`PyTorch`</br>`TensorFlow`</br>`Keras`</br>`Horovod`</br>`MLFlow`</br>`pandas-ml`</br>`scrapbook`|
|Пакеты ONNX|`keras2onnx`</br>`onnx`</br>`onnxconverter-common`</br>`skl2onnx`</br>`onnxmltools`|
|Лазурный машиностроительный python & образцы R SDK||

Пакеты Python установлены в среде **Python 3.6 - AzureML.**  

Вычислимые экземпляры обычно используются в качестве сред разработки.  Они также могут быть использованы в качестве вычислительной цели для обучения и подготовки для разработки и тестирования.  Для больших задач [вычислительный кластер Azure Machine Learning](how-to-set-up-training-targets.md#amlcompute) с возможностями масштабирования нескольких узлов является лучшим выбором целевых задач.

### <a name="installing-packages"></a>Установка пакетов

Вы можете установить пакеты непосредственно в ноутбуке Jupyter или Rstudio:

* RStudio Используйте **вкладку Пакеты** в правом нижнем углу или вкладку **Консоль** в левом верхнем углу.  
* Python: Добавить код установки и выполнить в ячейке ноутбука Jupyter.

Или вы можете получить доступ к окну терминала любым из этих способов:

* RStudio: Выберите вкладку **Терминала** в левом верхнем.
* Jupyter Lab: Выберите плитку **терминала** под **другой** статьей во вкладке Launcher.
* Jupyter: Выберите **новый терминал>** справа в правой части вкладки Файлов.
* SSH к машине.  Затем установите пакеты Python в среду **Python 3.6 - AzureML.**  Установка пакетов R в среду **R.**

## <a name="accessing-files"></a>Доступ к файлам

Ноутбуки и R-скрипты хранятся в учетной записи хранилища данных рабочего пространства в файле Azure.  Эти файлы находятся в каталоге "Файлы пользователей". Это хранилище упрощает совместное использование ноутбуков между вычисляемыми экземплярами. Учетная запись хранения также сохраняет ваши ноутбуки безопасно сохранены при остановке или удалении экземпляра вычислений.

Учетная запись совместного файла Azure в ашего рабочего пространства устанавливается в виде диска на экземпляре вычислений. Этот диск является рабочим каталогом по умолчанию для Jupyter, Jupyter Labs и RStudio.

Файлы в доле файлов доступны из всех вычисляемых экземпляров в одном рабочем пространстве. Любые изменения в этих файлах в экземпляре вычислений будут надежно упорствовать обратно в общую кадовозможность файлов.

Вы также можете клонировать последние образцы машинного обучения Azure в папке под каталогом файлов пользователя в разделе файла рабочего пространства.

Написание небольших файлов может быть медленнее на сетевых дисках, чем писать в сам VM.  Если вы пишете много небольших файлов, попробуйте использовать каталог непосредственно `/tmp` на экземпляре вычислений, например каталог. Обратите внимание, что эти файлы не будут доступны из других вычисляемых экземпляров в рабочем пространстве.

## <a name="managing-a-compute-instance"></a>Управление экземпляром вычислений

В рабочем пространстве в студии Машинного обучения Azure выберите **Compute,** а затем выберите **Вычислить Instance** на вершине.

![Управление экземпляром вычислений](./media/concept-compute-instance/manage-compute-instance.png)

Доступны следующие действия:

* Создание экземпляра вычислений. Укажите имя, тип Azure VM, включая графические процессоры (пожалуйста, обратите внимание, что тип VM не может быть изменен после создания), включить/отключить доступ SSH и настроить настройки виртуальной сети по желанию. Вы также можете создать экземпляр непосредственно из интегрированных блокнотов, портала Azure, шаблона диспетчера ресурсов или SDK машинного обучения Azure. Выделенные ядра в каждом регионе квоты, которая применяется к созданию экземпляров вычислений, унифицированы и совместно с квотой кластера вычислений Azure Machine Learning.
* Обновить вкладку вычисляемых экземпляров
* Запуск, остановка и перезапуск экземпляра вычислений
* Удаление вычисляемого экземпляра

Для каждого экземпляра вычислений в рабочей области вы можете:

* Доступ Jupyter, JupyterLab, RStudio на вычислять экземпляр
* SSH в вычислять экземпляр. Доступ SSH отключен по умолчанию, но может быть включен во время создания экземпляра вычислений. Доступ SSH осуществляется через механизм ключей государственного/частного доступа. Вкладка даст вам подробную информацию для SSH-соединения, такие как IP-адрес, имя пользователя и номер порта.
* Получите подробную информацию о конкретном экземпляре вычислений, например IP-адресе и регионе.

[RBAC](/azure/role-based-access-control/overview) позволяет контролировать, какие пользователи в рабочем пространстве могут создавать, удалять, запускать, останавливать, перезапускать экземпляр вычислений. Все пользователи в роли участника рабочего пространства и владельца могут создавать, удалять, запускать, останавливать и перезапускать вычисления в рабочей области. Однако доступ к Jupyter, JupyterLab и RStudio только создателю конкретного экземпляра вычислений разрешено. Создатель вычисляемого экземпляра имеет вычисляя экземпляр предназначенный к им, имеет доступ корня, и может стержне в через Jupyter. Вычислить экземпляр будет иметь однопользовательского входа пользователя создателя, и все действия будут использовать личность этого пользователя для RBAC и атрибуции экспериментов. Доступ SSH контролируется через механизм государственных/частных ключей.

Можно также создать экземпляр
* Непосредственно из опыта интегрированных ноутбуков
* На портале Azure
* Из шаблона менеджера ресурсов Azure
* С Azure машинного обучения SDK

Выделенные ядра в одной квоте региона, которые применяются к созданию экземпляров вычислений, унифицированы и совместно распределены по квоте кластера обучения в области машинного обучения Azure Machine Learning. 

## <a name="compute-target"></a>Целевой объект вычислений

Вычислить экземпляры можно использовать в качестве [учебной вычислительной цели,](concept-compute-target.md#train) аналогичной обучаемым учебным группам Azure Machine Learning. Предоставление мульти-GPU VM для выполнения распределенных обучающих заданий с использованием оценщиков TensorFlow/PyTorch. Можно также создать конфигурацию выполнения и использовать ее для выполнения эксперимента на экземпляре вычислений. Можно использовать экземпляр вычислений в качестве локальной цели развертывания для тестирования/отладки сценариев.

## <a name="what-happened-to-notebook-vm"></a><a name="notebookvm"></a>Что случилось с ноутбуком VM?

Вычисляют экземпляры заменяют ноутбук VM.  

Любые файлы ноутбука, хранящиеся в совместной работе файла и данные в магазинах данных рабочего пространства, будут доступны из экземпляра вычислений. Однако любые пользовательские пакеты, ранее установленные на ноутбуке VM, должны быть переустановлены на экземпляре вычислений. Ограничения квот, которые применяются к созданию вычислительных кластеров, будут применяться и к созданию экземпляров вычислений. 

Новые ноутбуки VMs не могут быть созданы. Тем не менее, вы все еще можете получить доступ и использовать ноутбук овизны вы создали, с полной функциональностью. Вычислить экземпляры могут быть созданы в том же рабочем пространстве, что и существующие ноутбуки VMs. 


## <a name="next-steps"></a>Дальнейшие действия

 * [Учебник: Тренируйте свою первую модель ML,](tutorial-1st-experiment-sdk-train.md) как использовать экземпляр вычислений с помощью встроенного ноутбука.
