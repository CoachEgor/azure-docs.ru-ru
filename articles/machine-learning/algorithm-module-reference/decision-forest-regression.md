---
title: 'Регрессия леса принятия решений: Справочник по модулям'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль регрессии решения в Машинное обучение Azure для создания модели регрессии на основе ансамблей деревьев принятия решений.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 10/22/2019
ms.openlocfilehash: 2c1b61d43fde00c435b83071015246bf990e873e
ms.sourcegitcommit: 87781a4207c25c4831421c7309c03fce5fb5793f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2020
ms.locfileid: "76546679"
---
# <a name="decision-forest-regression-module"></a>Модуль регрессии леса принятия решений

В этой статье описывается модуль в Машинное обучение Azure Designer (Предварительная версия).

Этот модуль используется для создания модели регрессии на основе ансамблей деревьев принятия решений.

После настройки модели необходимо обучить модель с помощью помеченного набора данных и модуля [обучение модели](./train-model.md) . После этого обученная модель используется для прогнозирования. 

## <a name="how-it-works"></a>Принципы работы

Деревья принятия решений — это непараметрические модели, выполняющие последовательность простых тестов для каждого экземпляра, выполняя обход древовидной структуры двоичных данных до достижения конечного узла (решения).

Деревья принятия решений имеют следующие преимущества:

- Они эффективны с точки зрения вычисления и использования памяти во время обучения и прогнозирования.

- Они могут представлять границы нелинейного принятия решений.

- Они выполняют выбор признаков и классификацию и являются устойчивыми при наличии шумовых признаков.

Эта модель регрессии состоит из совокупности деревьев принятия решений. Каждое дерево в лесу решения регрессии выводит распределение по Гауссу в виде прогноза. Статистическая обработка выполняется по ансамблей деревьев, чтобы найти распределение по Гауссу, ближайшее к Объединенному распределению для всех деревьев в модели.

Дополнительные сведения о теоретической платформе для этого алгоритма и его реализации см. в этой статье: [леса принятия решений: единая платформа для классификации, регрессии, оценки плотности, эта функция предназначена Learning и частичного обучения](https://www.microsoft.com/en-us/research/publication/decision-forests-a-unified-framework-for-classification-regression-density-estimation-manifold-learning-and-semi-supervised-learning/?from=http%3A%2F%2Fresearch.microsoft.com%2Fapps%2Fpubs%2Fdefault.aspx%3Fid%3D158806#) .

## <a name="how-to-configure-decision-forest-regression-model"></a>Настройка модели регрессии для леса принятия решений

1. Добавьте модуль **регрессии леса решений** в конвейер. Модуль можно найти в конструкторе в разделе **машинное обучение**, **Инициализация модели**и **регрессия**.

2. Откройте свойства модуля и для **метода перевыборки**выберите метод, используемый для создания отдельных деревьев.  Вы можете выбрать одну из **баггинг** или **реплицировать**.

    - **Баггинг**: баггинг также называется статистической обработкой *начальной загрузки*. Каждое дерево в лесу решения регрессии выводит на себя распределение по Гауссу с помощью прогнозирования. Статистическая обработка заключается в поиске по Гауссу, первый из которых в два секунд совпадает с сочетанием распределений по Гауссу, заданным объединением всех распределений, возвращенных отдельными деревьями.

         Дополнительные сведения см. в записи Википедии для [агрегатной загрузки](https://wikipedia.org/wiki/Bootstrap_aggregating).

    - **Репликация**. в репликации каждое дерево обучено на идентичных входных данных. Определение того, какой предикат разбиения используется для каждого узла дерева, остается случайным, и деревья будут различными.

         Дополнительные сведения о процессе обучения с помощью параметра **replicate** см. в разделе [леса принятия решений для компьютерное зрение и анализа медицинских изображений. Криминиси и J. Шоттон. Springer Link 2013.](https://research.microsoft.com/projects/decisionforests/).

3. Укажите, как должна быть обучена модель, установив параметр " **создать режим инструктора** ".

    - **Один параметр**

      Если вы знаете, как хотите настроить модель, то можете предоставить определенный ряд значений в качестве аргументов. Они могут быть получены экспериментально или в качестве рекомендации.



4. Для параметра **число деревьев принятия решений**укажите общее число деревьев принятия решений, создаваемых в ансамблей. Создавая больше деревьев принятия решений, вы можете потенциально получить большее покрытие, но время на обучение при этом увеличится.

    > [!TIP]
    > Это значение также управляет количеством деревьев, отображаемых при визуализации обученной модели. Если требуется просмотреть или распечатать одно дерево, можно задать значение 1; Однако это означает, что будет создано только одно дерево (дерево с начальным набором параметров), и дальнейшие итерации выполняться не будут.

5. Для **максимальной глубины деревьев принятия решений**введите число, ограничивающее максимальную глубину дерева принятия решений. Увеличение глубины дерева может повысить точность, однако при этом могут возникать лжевзаимосвязи и увеличиваться время обучения.

6. Для **числа случайных разбиений на узел**введите число разбиений, которое будет использоваться при построении каждого узла дерева. *Разбиение* означает, что функции на каждом уровне дерева (node) случайным образом делятся.

7. Для параметра **минимальное число выборок на конечный узел**укажите минимальное число вариантов, необходимых для создания любого узла терминала (конечного) в дереве.

     Увеличив это значение, вы увеличиваете пороговое значение для создания новых правил. Например, при использовании значения по умолчанию 1, даже один случай может привести к созданию нового правила. Если увеличить его до 5, для создания правила обучающие данные должны будут содержать не менее пяти вариантов.


9. Подключите набор данных с меткой, выберите один столбец меток, содержащий не более двух результатов, и подключитесь к [модели обучения](./train-model.md).

    - Если для параметра **создать режим** обучения задано значение **один параметр**, обучить модель с помощью модуля [обучение модели](./train-model.md) .

   

10. Запустили конвейер.

### <a name="results"></a>Результаты

После завершения обучения:

+ Чтобы сохранить моментальный снимок обученной модели, выберите модуль обучения, а затем перейдите на вкладку **выходные данные** на правой панели. Щелкните значок **зарегистрировать модель**.  Сохраненную модель можно найти в виде модуля в дереве модулей. 

## <a name="next-steps"></a>Дальнейшие действия

См. [набор модулей, доступных](module-reference.md) для машинное обучение Azure. 