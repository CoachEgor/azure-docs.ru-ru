---
title: 'Регрессия леса принятия решений: Справочник по модулям'
titleSuffix: Azure Machine Learning service
description: Узнайте, как использовать модуль регрессии леса решений в Машинное обучение Azure Service для создания модели регрессии на основе ансамблей деревьев принятия решений.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ms.openlocfilehash: b8bb3285aecb6aff399606e6263f014027a86581
ms.sourcegitcommit: 07700392dd52071f31f0571ec847925e467d6795
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/28/2019
ms.locfileid: "70128884"
---
# <a name="decision-forest-regression-module"></a>Модуль регрессии леса принятия решений

В этой статье описывается модуль визуального интерфейса (Предварительная версия) для службы Машинное обучение Azure.

Этот модуль используется для создания модели регрессии на основе ансамблей деревьев принятия решений.

После настройки модели необходимо обучить модель с помощью помеченного набора данных и модуля [обучение модели](./train-model.md) .  Затем обученную модель можно использовать для создания прогнозов. 

## <a name="how-it-works"></a>Как это работает

Деревья принятия решений — это непараметрической модели, которые выполняют последовательность простых тестов для каждого экземпляра, обходят структуру данных в двоичном дереве до тех пор, пока не будет достигнут конечный узел (решение).

Деревья принятия решений имеют следующие преимущества:

- Они эффективны как для вычислений, так и для использования памяти во время обучения и прогнозирования.

- Они могут представлять нелинейные границы принятия решений.

- Они выполняют встроенные функции выбора и классификации и являются устойчивыми при наличии бесшумных функций.

Эта модель регрессии состоит из ансамблей деревьев принятия решений. Каждое дерево в лесу решения регрессии выводит распределение по Гауссу в виде прогноза. Статистическая обработка выполняется по ансамблей деревьев, чтобы найти распределение по Гауссу, ближайшее к Объединенному распределению для всех деревьев в модели.

Дополнительные сведения о теоретической платформе для этого алгоритма и его реализации см. в этой статье: [Леса принятия решений: Единая платформа для классификации, регрессии, оценки плотности, эта функция предназначена обучения и частично контролируемого обучения](https://www.microsoft.com/en-us/research/publication/decision-forests-a-unified-framework-for-classification-regression-density-estimation-manifold-learning-and-semi-supervised-learning/?from=http%3A%2F%2Fresearch.microsoft.com%2Fapps%2Fpubs%2Fdefault.aspx%3Fid%3D158806#)

## <a name="how-to-configure-decision-forest-regression-model"></a>Настройка модели регрессии для леса принятия решений

1. Добавьте в эксперимент модуль **регрессии леса принятия решений** . Модуль можно найти в интерфейсе в разделе **машинное обучение**, **Инициализация модели**и **регрессия**.

2. Откройте свойства модуля и для **метода**перевыборки выберите метод, используемый для создания отдельных деревьев.  Вы можете выбрать одну из **баггинг** или **реплицировать**.

    - **Баггинг**: Баггинг также называется статистической обработкой *начальной загрузки*. Каждое дерево в лесу решения регрессии выводит на себя распределение по Гауссу с помощью прогнозирования. Статистическая обработка заключается в поиске по Гауссу, первый из которых в два секунд соответствует моменту сочетания заданных по Гауссу, полученных отдельными деревьями.

         Дополнительные сведения см. в записи Википедии для [агрегатной загрузки](https://wikipedia.org/wiki/Bootstrap_aggregating).

    - **Репликация**: В репликации каждое дерево обучено по одному и тому же входным данным. Определение того, какой предикат разбиения используется для каждого узла дерева, остается случайным, и деревья будут различными.

         Дополнительные сведения о процессе обучения с помощью параметра **replicate** см. в разделе [леса принятия решений для компьютерное зрение и анализа медицинских изображений. Криминиси и J. Шоттон. Springer Link 2013. ](https://research.microsoft.com/projects/decisionforests/).

3. Укажите, как должна быть обучена модель, установив параметр " **создать режим инструктора** ".

    - **Один параметр**

      Если вы умеете настраивать модель, можно указать конкретный набор значений в качестве аргументов. Возможно, вы узнали эти значения, экспериментируя или получили их в качестве руководства.



4. Для параметра **число деревьев принятия решений**укажите общее число деревьев принятия решений, создаваемых в ансамблей. Создавая больше деревьев принятия решений, вы можете получить более эффективное покрытие, но время обучения увеличится.

    > [!TIP]
    > Это значение также управляет количеством деревьев, отображаемых при визуализации обученной модели. Если требуется просмотреть или распечатать одно дерево, можно задать значение 1; Однако это означает, что будет создано только одно дерево (дерево с начальным набором параметров), и дальнейшие итерации выполняться не будут.

5. Для **максимальной глубины деревьев принятия решений**введите число, ограничивающее максимальную глубину дерева принятия решений. Увеличение глубины дерева может увеличить точность, при этом возникает риск некоторого перегонки и увеличения времени обучения.

6. Для **числа случайных разбиений на узел**введите число разбиений, которое будет использоваться при построении каждого узла дерева. *Разбиение* означает, что функции на каждом уровне дерева (node) случайным образом делятся.

7. Для параметра **минимальное число выборок на конечный узел**укажите минимальное число вариантов, необходимых для создания любого узла терминала (конечного) в дереве.

     Увеличивая это значение, вы увеличиваете порог для создания новых правил. Например, значение по умолчанию, равное 1, может привести к созданию нового правила. Если увеличить значение до 5, то обучающие данные должны содержать не менее пяти вариантов, отвечающих тем же условиям.


9. Подключите набор данных с меткой, выберите один столбец меток, содержащий не более двух результатов, и подключитесь к [модели обучения](./train-model.md).

    - Если для параметра **создать режим** обучения задано значение **один параметр**, обучить модель с помощью модуля [обучение модели](./train-model.md) .

   

10. Запустите эксперимент.

### <a name="results"></a>Результаты

После завершения обучения:

+ Чтобы увидеть дерево, созданное при каждой итерации, щелкните правой кнопкой мыши выходные данные модуля обучение и выберите **визуализировать**.

+ Чтобы просмотреть правила для каждого узла, щелкните каждое дерево и выполните детализацию для разбиения.

+ Чтобы сохранить моментальный снимок обученной модели, щелкните правой кнопкой мыши выходные данные модуля обучения и выберите команду **Сохранить как обученную модель**. Эта копия модели не обновляется при последующих запусках эксперимента. 

## <a name="next-steps"></a>Следующие шаги

См. [набор модулей, доступных](module-reference.md) машинное обучение Azure службе. 