---
title: Обрезка значений
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль Значений клипов в Azure Machine Learning для обнаружения выбросов и клипов или замены их значений.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 09/09/2019
ms.openlocfilehash: 6466cea9fe04bb308a670cb03fd3de5314758142
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79456613"
---
# <a name="clip-values"></a>Обрезка значений

В этой статье описывается модуль дизайнера машинного обучения Azure (предварительный просмотр).

Используйте модуль Значений клипов для определения и опциональной замены значений данных, которые находятся выше или ниже заданного порога, средним, постоянным или другим значением замены.  

Вы подключаете модуль к набору данных, который имеет номера, которые вы хотите обрезать, выбираете столбцы для работы, а затем устанавливаете порог или диапазон значений, а также метод замены. Модуль может вывести либо только результаты, либо измененные значения, добавленные к исходной набору данных.

## <a name="how-to-configure-clip-values"></a>Как настроить значения клипа

Перед тем, как начать, определите столбцы, которые вы хотите обрезать, и метод использования. Мы рекомендуем сначала протестировать любой метод отсечения на небольшом подмножестве данных.

Модуль применяет те же критерии и метод замены ко **всем** столбцам, которые вы включаете в выбор. Поэтому не забудьте исключить столбцы, которые вы не хотите менять.

Если вам необходимо применить методы отсечения или различные критерии к некоторым столбцам, необходимо использовать новый экземпляр **значений клипа** для каждого набора похожих столбцов.

1.  Добавьте модуль **Значений клипа** в конвейер и подключите его к набору данных, который вы хотите изменить. Вы можете найти этот модуль в категории **«Масштаб» и «Уменьшить» в** рамках **системы «Масштаб»** и «Уменьшить». 
  
1.  В **списке столбцов**используйте селектор столбцов, чтобы выбрать столбцы, к которым будут **применены значения клипа.**  
  
1.  Для **набора пороговых значений**выберите один из следующих вариантов из списка выпадающих. Эти параметры определяют, как вы устанавливаете верхние и нижние границы для приемлемых значений против значений, которые должны быть обрезаны.  
  
    - **ClipPeaks:** При клипе значения пиков, вы указать только верхнюю границу. Значения, превышающее значение границы, заменяются.
  
    -  **ClipSubpeaks**: При обжигировании значений по подпикам указано только нижняя граница. Значения, которые меньше этого пограничного значения, заменяются.  
  
    - **ClipPeaksAndSubpeaks:** При клипе значения пиков и подпиков, вы можете указать как верхние, так и нижние границы. Значения, которые находятся за пределами этого диапазона, заменяются. Значения, соотвенее значения границы, не изменяются.
  
1.  В зависимости от выбора на предыдущем этапе можно установить следующие значения порога: 

    + **Нижний порог**: отображается только при выборе **ClipSubPeaks**
    + **Верхний порог**: отображается только при выборе **ClipPeaks**
    + **Порог**: Отображается только при **выборе ClipPeaksAndSubPeaks**

    Для каждого типа порога выберите либо **constant,** либо **Percentile.**

1. Если вы выберете **Constant,** введите максимальное или минимальное значение в текстовом поле. Например, предположим, что вы знаете, что значение 999 использовалось в качестве значения заполнителя. Вы можете выбрать **Констант** для верхнего порога и тип 999 в **значении Constant для верхнего порога.**
  
1. Если вы выберете **Percentile,** вы ограничиваете значения столбца до диапазона процентиля. 

    Например, предположим, что вы хотите сохранить только значения в диапазоне 10-80 процентов и заменить все остальные. Вы бы выбрали **Percentile,** а затем введите 10 для **значения percentile для нижнего порога,** и введите 80 для **значения percentile для верхнего порога.** 

    Смотрите раздел о [процентилях](#examples-for-clipping-using-percentiles) для некоторых примеров того, как использовать процентильные диапазоны.  
  
1.  Определите значение замены.

    Числа, которые точно соответствуют указанным вами границам, считаются внутри допустимого диапазона значений и, таким образом, не заменяются. Все числа, выходящие за пределы заданного диапазона, заменяются замещающим значением. 
  
    + **Заменяемые значения для пиков**: Определяет значение для замены всех значений столбца, превышающее указанный порог.  
    + **Замещать значение для подпиков:** Определяет значение для использования в качестве замены для всех значений столбца, которые меньше указанного порога.  
    + При использовании опции **ClipPeaksAndSubpeaks** можно указать отдельные значения замены верхних и нижних обрезанных значений.  

    Поддерживаются следующие значения замены:  
  
    -   **Порог**: Заменяет обрезанные значения с указанным значением порога.  
  
    -   **Среднее**значение : Заменяет обрезанные значения на среднее значение столбца. Среднее значение вычисляется до того, как значения будут обрезаны.  
  
    -   **Медиана**: Заменяет обрезанные значения со медианой значений столбца. Медиана вычисляется до того, как значения будут обрезаны.   
  
    -   **Отсутствует**. Заменяет обрезанные значения на отсутствующее (пустое) значение.  
  
1.  **Добавить столбцы индикатора:** Выберите эту опцию, если вы хотите создать новый столбец, который сообщает вам, применяется ли указанная операция отсечения к данным в этой строке. Эта опция полезна при тестировании нового набора значений отсечения и замены.  
  
1. **Перезаписи флага**: Укажите, как вы хотите, чтобы новые значения были созданы. По умолчанию **значения клипа** строят новую колонку с пиковыми значениями, обрезанными до нужного порога. Новые значения перезаписывают исходный столбец.  
  
    Чтобы сохранить исходный столбец и добавить новую колонку с обрезанными значениями, отобрадите эту опцию.  
  
1.  Отправить конвейер.  
  
    Нажмите на модуль **Clip Values** и выберите **Визуализацию** или выберите модуль и переключитесь на вкладку **Выходов** в правой панели, нажмите на значок гистограммы в **выводах порта,** чтобы просмотреть значения и убедиться, что операция отсечения соответствует вашим ожиданиям.  
 
### <a name="examples-for-clipping-using-percentiles"></a>Примеры отсечения с помощью процентилей

Для понимания отсечения по процентилям рассмотрим набор данных с 10 строками, имеющих по одному экземпляру каждого значения от 1 до 10.  
  
- При использовании 90-й процентили в качестве верхнего порога 90 % от всех значений в наборе данных должны быть меньше этого значения.  
  
- При использовании 10-й процентили в качестве нижнего порога 10 % от всех значений в наборе данных должны быть меньше этого значения.  
  
1.  Для параметра **Набор порогов** выберите значение **ClipPeaksAndSubPeaks**.  
  
1.  Для параметра **Верхний порог** выберите **Процентиль**, а для параметра **Номер процентили** введите значение 90.  
  
1.  Для параметра **Верхнее заменяющее значение** выберите **Значение отсутствует**.  
  
1.  Для параметра **Нижний порог** выберите **Процентиль**, а для параметра **Номер процентили** введите значение 10.  
  
1.  Для параметра **Нижнее заменяющее значение** выберите **Значение отсутствует**.  
  
1.  Снимите флажок **Перезапись** и выберите параметр **Добавить столбец индикации**.  
  
Теперь попробуйте тот же конвейер, используя 60 в качестве верхнего процентильного порога и 30 в качестве нижнего значения процентиля, и используйте пороговое значение в качестве значения замены. Полученные результаты сравниваются в следующей таблице.  
  
1.  Заменить на отсутствующие; Верхний порог 90; Нижний порог 20 евро  
  
1.  Заменить порогом; Верхний процентиль No 60; Нижний процентиль No 40  
  
|Исходные данные|Замена на отсутствие значения|Замена пороговым значением|  
|-------------------|--------------------------|----------------------------|  
|1<br /><br /> 2<br /><br /> 3<br /><br /> 4<br /><br /> 5<br /><br /> 6<br /><br /> 7<br /><br /> 8<br /><br /> 9<br /><br /> 10|TRUE<br /><br /> TRUE<br /><br /> 3, ЛОЖНЫЕ<br /><br /> 4, ЛОЖНЫЕ<br /><br /> 5, ЛОЖНЫЕ<br /><br /> 6, ЛОЖНЫЕ<br /><br /> 7, ЛОЖНЫЕ<br /><br /> 8, ЛОЖНЫЕ<br /><br /> 9, ЛОЖНЫЕ<br /><br /> TRUE|4, ПРАВДА<br /><br /> 4, ПРАВДА<br /><br /> 4, ПРАВДА<br /><br /> 4, ПРАВДА<br /><br /> 5, ЛОЖНЫЕ<br /><br /> 6, ЛОЖНЫЕ<br /><br /> 7, ПРАВДА<br /><br /> 7, ПРАВДА<br /><br /> 7, ПРАВДА<br /><br /> 7, ПРАВДА| 
 
## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором модулей, доступных](module-reference.md) для машинного обучения Azure. 
