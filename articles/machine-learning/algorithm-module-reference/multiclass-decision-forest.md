---
title: 'Многоклассный лес принятия решений: Ссылка на модуль'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль Multiclass Decision Forest в Azure Machine Learning для создания модели машинного обучения на основе алгоритма *леса решений.*
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/22/2020
ms.openlocfilehash: 9a0a70f94be337eedf8f8ba4cc17af896f7a03b0
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79477550"
---
# <a name="multiclass-decision-forest-module"></a>Модуль «Многоклассный лес решений»

В этой статье описывается модуль в дизайнере машинного обучения Azure (предварительный просмотр).

Используйте этот модуль для создания модели машинного обучения на основе алгоритма *леса решений.* Лес принятия решений — это модель ансамбля, которая быстро создает ряд деревьев решений, изучая при этом помеченные данные.

## <a name="more-about-decision-forests"></a>Подробнее о решениях леса

Алгоритм леса принятия решений является методом обучения ансамбля для классификации. Алгоритм работает путем создания нескольких деревьев решений, а затем *голосования* по наиболее популярному классу вывода. Голосование является одной из форм агрегации, в которой каждое дерево в классификационном решении леса выводит ненормализованную частоту гистограммы этикеток. Процесс агрегации суммирует эти гистограммы и нормализует результат, чтобы получить «вероятности» для каждой метки. Деревья, которые имеют высокую уверенность прогноза имеют больший вес в окончательном решении ансамбля.

Деревья решений в целом являются непараметрическими моделями, то есть они поддерживают данные с различными дистрибутивами. В каждом дереве выполняется последовательность простых тестов для каждого класса, увеличивая уровни структуры дерева до достижения конечного узла (решения).

Деревья принятия решений имеют много преимуществ:

+ Они могут представлять границы нелинейного принятия решений.
+ Они эффективны с точки зрения вычисления и использования памяти во время обучения и прогнозирования.
+ Они выполняют встроенный выбор признаков и классификацию.
+ Кроме того, они являются устойчивыми при наличии шумовых признаков.

Классификатор лесов в Azure Machine Learning состоит из ансамбля деревьев решений. Вообще говоря, модели совокупности обеспечивают большее покрытие и точность, чем одно дерево принятия решений. Для получения дополнительной информации [см.](https://go.microsoft.com/fwlink/?LinkId=403677)

## <a name="how-to-configure-multiclass-decision-forest"></a>Как настроить многоклассный лес принятия решений

1. Добавьте модуль **Multiclass Decision Forest** в конвейер в проектировщике. Вы можете найти этот модуль под **машинного обучения**, **инициализации модели**, и **классификации**.

2. Дважды щелкните модуль, чтобы открыть панель **Свойства.**

3. Для **метода перевыборки**выберите метод, используемый для создания отдельных деревьев.  Можно выбрать фасовку или репликацию.

    + **Bagging**: Bagging также называется *загрузка агрегации*. В этом методе каждое дерево выращивается на новом образце, созданном путем случайной выборки исходного набора данных с заменой до тех пор, пока у вас не будет набора данных размер оригинала. Выходы моделей комбинируются *путем голосования,* что является формой агрегации. Для получения дополнительной информации смотрите запись Википедии для агрегирования Bootstrap.

    + **Репликация**: В репликации каждое дерево обучается на тех же данных ввода. Определение того, какой разделенный предикат используется для каждого узла дерева, остается случайным, создавая разнообразные деревья.

   

4. Укажите, как нужно обучить модель, установив опцию **«Создать тренер».**

    + **Единый параметр**: Выберите этот параметр, если вы знаете, как настроить модель, и предоставить набор значений в качестве аргументов.

    + **Диапазон параметров**: Выберите этот параметр, если вы не уверены в лучших параметрах, и хотите запустить развертки параметров. Выберите диапазон значений для итерации, и [Hyperparameters Tune Model](tune-model-hyperparameters.md) итерирует все возможные комбинации параметров, которые вы предоставили, чтобы определить гиперпараметры, которые дают оптимальные результаты.   

5. **Количество деревьев решений**: Введите максимальное количество деревьев решений, которые могут быть созданы в ансамбле. Создавая больше деревьев решений, вы потенциально можете получить лучшее покрытие, но время обучения может увеличиться.

    Это значение также контролирует количество деревьев, отображаемых в результатах, при визуализации обученной модели. Чтобы увидеть или распечатать одно дерево, можно установить значение до 1; однако это означает, что может быть произведено только одно дерево (дерево с первоначальным набором параметров), и никаких дальнейших итераций не выполняется.

6. **Максимальная глубина деревьев решений**: Введите число, чтобы ограничить максимальную глубину любого дерева решений. Увеличение глубины дерева может повысить точность, однако при этом могут возникать лжевзаимосвязи и увеличиваться время обучения.

7. **Количество случайных сплитов на узла:** Введите количество сплитов для использования при построении каждого узла дерева. Разделение *split* означает, что объекты на каждом уровне дерева (узла) делятся случайным образом.

8. **Минимальное количество образцов на узлы листа**: Укажите минимальное количество случаев, необходимых для создания любого терминального узла (листа) в дереве. Увеличив это значение, вы увеличиваете пороговое значение для создания новых правил.

    Например, при использовании значения по умолчанию 1, даже один случай может привести к созданию нового правила. Если увеличить его до 5, для создания правила обучающие данные должны будут содержать не менее пяти вариантов.



10. Подключите помеченный набор данных и один из обучающие модулей:

    + При установке **режима создания тренажера** на **единый параметр**используйте модуль [Модели поезда.](./train-model.md)

11. Отправить конвейер.



## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором модулей, доступных](module-reference.md) для машинного обучения Azure. 