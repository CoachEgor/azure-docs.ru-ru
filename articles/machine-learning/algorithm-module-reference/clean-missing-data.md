---
title: 'Очистить отсутствующие данные: Справочник по модулям'
titleSuffix: Azure Machine Learning service
description: Узнайте, как использовать модуль очистки отсутствующих данных в службе Машинное обучение Azure для удаления, замены или выведения отсутствующих значений.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ms.openlocfilehash: a65e8224b00bb592d6e0e42abdd304cf325d4412
ms.sourcegitcommit: 07700392dd52071f31f0571ec847925e467d6795
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/28/2019
ms.locfileid: "70128933"
---
# <a name="clean-missing-data-module"></a>Модуль очистки отсутствующих данных

В этой статье описывается модуль визуального интерфейса (Предварительная версия) для службы Машинное обучение Azure.

Используйте этот модуль для удаления, замены или выведения отсутствующих значений. 

Специалисты по обработке и анализу данных часто проверяют данные на отсутствие значений, а затем выполняют различные операции по исправлению данных или вставке новых значений. Цель таких операций очистки заключается в предотвращении проблем, вызванных отсутствием данных, которые могут возникнуть при обучении модели. 

Этот модуль поддерживает несколько типов операций для очистки отсутствующих значений, в том числе:

+ Замена отсутствующих значений заполнителем, средним или другим значением
+ Полное удаление строк и столбцов с отсутствующими значениями
+ Выведение значений на основе статистических методов


Использование этого модуля не приводит к изменению исходного набора данных. Вместо этого в рабочей области создается новый набор данных, который можно использовать в последующем рабочем процессе. Можно также сохранить новый очищенный набор данных для повторного использования.

Этот модуль также выводит определение преобразования, используемого для очистки отсутствующих значений. Это преобразование можно повторно использовать для других наборов данных, имеющих одну и ту же схему, с помощью модуля " [Применить преобразование](./apply-transformation.md) ".  

## <a name="how-to-use-clean-missing-data"></a>Как использовать чистые отсутствующие данные

Этот модуль позволяет определить операцию очистки. Можно также сохранить операцию очистки, чтобы позднее можно было применить ее к новым данным. Сведения о создании и сохранении процесса очистки см. по следующим ссылкам: 
 
+ Замена отсутствующих значений
  
+ Применение преобразования «Очистка» к новым данным
 
> [!IMPORTANT]
> Метод очистки, используемый для обработки отсутствующих значений, может существенно повлиять на результаты. Рекомендуется поэкспериментировать с различными методами. Рассмотрите как обоснование использования определенного метода, так и качество результатов.

### <a name="replace-missing-values"></a>Заменить отсутствующие значения  

Каждый раз при применении модуля [очистить недостающие данные](./clean-missing-data.md) к набору данных та же операция очистки применяется ко всем выбранным столбцам. Поэтому, если необходимо очистить разные столбцы с помощью различных методов, используйте отдельные экземпляры модуля.

1.  Добавьте модуль [Clean Missing Data (очистка недостающих данных](./clean-missing-data.md) ) в эксперимент и подключите набор данных, содержащий недостающие значения.  
  
2.  Для **очистки столбцов**выберите столбцы, содержащие отсутствующие значения, которые необходимо изменить. Можно выбрать несколько столбцов, но необходимо использовать один и тот же метод замены во всех выбранных столбцах. Таким образом, обычно требуется очистить строковые столбцы и числовые столбцы отдельно.

    Например, чтобы проверить отсутствующие значения во всех числовых столбцах:

    1. Откройте селектор столбцов и выберите **с правилами**.
    2. В параметре **начать с**выберите **нет столбцов**.

        Также можно начать со всех СТОЛБЦОВ, а затем исключить столбцы. Изначально правила не отображаются, если сначала щелкнуть **все столбцы**, но можно щелкнуть **нет столбцов** , а затем снова щелкнуть **все столбцы** , чтобы начать со всех столбцов, а затем отфильтровать (исключить) столбцы на основе имени, типа данных или индекса столбцов.

    3. В поле **включить**выберите **тип столбца** из раскрывающегося списка, а затем выберите **числовой**или более конкретный числовой тип. 
  
    Любой выбранный метод очистки или замены должен быть применим ко **всем** столбцам в выделенном фрагменте. Если данные в любом столбце несовместимы с указанной операцией, модуль возвращает ошибку и останавливает эксперимент.
  
3.  В поле **Минимальное отношение отсутствующих значений**укажите минимальное число отсутствующих значений, необходимых для выполнения операции.  
  
    Этот параметр используется в сочетании с **максимальным коэффициентом недостающих значений** для определения условий, при которых операция очистки выполняется для набора данных. Если слишком много или слишком мало строк, в которых отсутствуют значения, операция не может быть выполнена. 
  
    Введенное число представляет соотношение отсутствующих значений со всеми значениями в столбце. По умолчанию свойство **коэффициента отсутствующих значений** имеет значение 0. Это означает, что пропущенные значения очищаются даже при наличии только одного отсутствующего значения. 

    > [!WARNING]
    > Это условие должно выполняться каждым и каждым столбцами, чтобы была применена указанная операция. Например, предположим, что выбраны три столбца, а затем устанавливается минимальное соотношение отсутствующих значений к 2 (20%), но в действительности только один столбец имеет 20% отсутствующих значений. В этом случае операция очистки будет применена только к столбцу с более чем 20% отсутствующими значениями. Поэтому другие столбцы будут неизменными.
    > 
    > Если у вас есть сомнения относительно того, изменились ли отсутствующие значения, выберите параметр **создать столбец отсутствующих**значений. К набору данных добавляется столбец, указывающий, соответствует ли каждый столбец заданным условиям для минимального и максимального диапазонов.  
  
4. Для параметра **Максимальное значение недостающего значения**укажите максимальное число отсутствующих значений, которые могут присутствовать в операции.   
  
    Например, можно выполнить подстановку отсутствующих значений, если 30% или меньше строк содержат отсутствующие значения, но оставить значения как есть, если в более чем 30% строк есть отсутствующие значения.  
  
    Число определяется как отношение отсутствующих значений ко всем значениям в столбце. По умолчанию для параметра **максимальный отсутствующий показатель** установлено значение 1. Это означает, что пропущенные значения очищаются, даже если 100% значений в столбце отсутствуют.  
  
   
  
5. Для **режима очистки**выберите один из следующих вариантов замены или удаления отсутствующих значений:  
  
  
    + **Настраиваемое значение**подстановки: Используйте этот параметр, чтобы указать значение заполнителя (например 0 или НД), которое применяется ко всем отсутствующим значениям. Значение, указанное в качестве замены, должно быть совместимо с типом данных столбца.
  
    + **Замените на среднее значение**: Вычисляет среднее значение столбца и использует среднее в качестве значения для замены для каждого отсутствующего значения в столбце.  
  
        Применяется только к столбцам, имеющим целочисленный, двойной или логический тип данных.  
  
    + **Замените на медиана**: Вычисляет значение столбца медианы и использует значение медианы в качестве замены для любого отсутствующего значения в столбце.  
  
        Применяется только к столбцам, имеющим типы данных Integer или Double. 
  
    + **Замените на режим**: Вычисляет режим для столбца и использует режим в качестве замещающего значения для каждого отсутствующего значения в столбце.  
  
        Применяется к столбцам, имеющим типы данных Integer, Double, Boolean или категоризации. 
  
    + **Удалить всю строку**: Полностью удаляет все строки в наборе данных, которые имеют одно или несколько отсутствующих значений. Это полезно, если отсутствующее значение может считаться случайным образом пропущенным.  
  
    + **Удалить весь столбец**: Полностью удаляет любой столбец в наборе данных с одним или несколькими отсутствующими значениями.  
  
    
  
6. **Значение замена** параметра доступно, если выбран параметр Пользовательская подстановка. Введите новое значение, которое будет использоваться в качестве замещающего значения для всех отсутствующих значений в столбце.  
  
    Обратите внимание, что этот параметр можно использовать только в столбцах, имеющих типы данных Integer, Double, Boolean или Date. Для столбцов даты заменяющее значение можно также указать как число тактов 100-наносекундных с 1/1/0001 12:00 утра.  
  
7. **Создать столбец индикатора отсутствующего значения**: Выберите этот параметр, если требуется выводить сведения о том, соответствуют ли значения в столбце критериям очистки недостающих значений. Этот параметр особенно полезен, если вы настраиваете новую операцию очистки и хотите убедиться, что она работает так, как задумано.
  
8. Запустите эксперимент.

### <a name="results"></a>Результаты

Модуль возвращает два выхода:  

-   **Очищенный набор данных**: Набор данных, состоящий из выбранных столбцов, при этом отсутствующие значения обрабатываются, как указано, вместе со столбцом индикатора, если выбран этот параметр.  

    Столбцы, не выбранные для очистки, также передаются в.  
  
-  **Преобразование очистки**: Преобразование данных, используемое для очистки, которое можно сохранить в рабочей области и применить к новым данным позднее.

### <a name="apply-a-saved-cleaning-operation-to-new-data"></a>Применение сохраненной операции очистки к новым данным  

Если вам приходится повторять операции очистки, рекомендуется сохранить рецепт очистки данных как *Преобразование*, чтобы повторно использовать их с одним и тем же набором данных. Сохранение преобразования с очисткой особенно полезно, если необходимо часто повторно импортировать и очищать данные, имеющие одну и ту же схему.  
      
1.  Добавьте модуль [Применить преобразование](./apply-transformation.md) к вашему эксперименту.  
  
2.  Добавьте набор данных, который необходимо очистить, и подключите набор данных к правому порту ввода.  
  
3.  Разверните группу **преобразования** в левой области интерфейса. Выделите сохраненное преобразование и перетащите его в эксперимент.  
  
4.  Подключите сохраненное преобразование к левому порту ввода [преобразования «применить преобразование](./apply-transformation.md)». 

    При применении сохраненного преобразования нельзя выбрать столбцы, к которым применяется преобразование. Это связано с тем, что преобразование уже определено и применяется автоматически к столбцам, указанным в исходной операции.

    Однако предположим, что вы создали преобразование для подмножества числовых столбцов. Это преобразование можно применить к набору данных смешанных типов столбцов, не вызывая ошибку, так как отсутствующие значения изменяются только в соответствующих числовых столбцах.

6.  Запустите эксперимент.  

## <a name="next-steps"></a>Следующие шаги

См. [набор модулей, доступных](module-reference.md) машинное обучение Azure службе. 