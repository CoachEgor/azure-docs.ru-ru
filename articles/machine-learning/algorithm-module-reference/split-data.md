---
title: 'Сплит-данные: Ссылка на модуль'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль Split Data в Azure Machine Learning, чтобы разделить набор данных на два отдельных набора.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/22/2019
ms.openlocfilehash: 9eba6f2c47629b708dde4a5a2888b76dbd24b4e4
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79455899"
---
# <a name="split-data-module"></a>Модуль сплит-данных

В этой статье описывается модуль в дизайнере машинного обучения Azure (предварительный просмотр).

Используйте модуль Split Data для разделения набора данных на два различных набора.

Этот модуль полезен, когда вам нужно разделить данные на наборы обучения и тестирования. Можно также настроить способ их разделения данных. Некоторые варианты поддерживают рандомизацию данных. Другие адаптированы для определенного типа данных или типа модели.

## <a name="configure-the-module"></a>Настройка модуля

> [!TIP]
> Прежде чем выбрать режим расщепления, прочитайте все варианты, чтобы определить тип сплита вам нужно.
> При изменении режима расщепления все остальные параметры могут быть спродаены.

1. Добавьте модуль **Split Data** в конвейер в проектировщике. Вы можете найти этот модуль в категории **Преобразование данных**в **категории «Образец» и «Сплит».**

1. **Режим разделения**: Выберите один из следующих режимов, в зависимости от типа данных, которые у вас есть, и как вы хотите разделить его. Каждый режим расщепления имеет различные варианты.

   - **Сплит строк:** Используйте эту опцию, если вы просто хотите разделить данные на две части. Можно указать процент данных, которые можно поместить в каждый сплит. По умолчанию данные делятся 50/50.

     Вы также можете рандомизировать выбор строк в каждой группе и использовать стратифицированную выборку. При стратифицированной выборке необходимо выбрать один столбец данных, для которых необходимо равномерно распределить значения между двумя наборами данных результатов.  

   - **Регулярный сплит выражения:** Выберите этот параметр, когда вы хотите разделить набор данных, тестируя один столбец для значения.

     Например, если вы анализируете настроения, вы можете проверить наличие конкретного имени продукта в текстовом поле. Затем можно разделить набор данных на строки с целевым именем продукта и строками без имени целевого продукта.

   - **Относительный сплит выражения**: Используйте эту опцию всякий раз, когда вы хотите применить условие к столбцу числа. Номер может быть полем даты/времени, столбцом, содержащим возрастные или долларовые суммы, или даже процент. Например, можно разделить набор данных на основе стоимости элементов, группирования людей по возрастным диапазонам или отдельных данных по дате календаря.

### <a name="split-rows"></a>Сплит строки

1. Добавьте модуль [Split Data](./split-data.md) в конвейер в проектировщике и подключите набор данных, который необходимо разделить.
  
1. Для **режима разделения**выберите Split **Rows.** 

1. **Фракция строк в первом наборе данных вывода**: Используйте эту опцию, чтобы определить, сколько строк будет входить в первый (левый) выход. Все остальные строки будут идти во второй (правый) выход.

   Это соотношение представляет процент строк, отправляемых на первый набор данных вывода, поэтому необходимо ввести десятичное число между 0 и 1.
     
   Например, если вы введете **значение 0.75,** набор данных будет разделен 75/25. В этом разделении 75 процентов строк будут отправлены на первый набор выходных данных. Остальные 25 процентов будут отправлены на второй набор выходных данных.
  
1. Выберите опцию **Рандомизированного разделения,** если вы хотите рандомизировать выбор данных в две группы. Это предпочтительный вариант при создании наборов обучающих и тестовых данных.

1. **Случайное семя**: Введите неотрицательное значение рядов, чтобы начать псевдослучайной последовательности экземпляров, которые будут использоваться. Это начальное значение по умолчанию используется во всех модулях, генерирующих случайные числа. 

   Определение семян делает результаты воспроизводимыми. Если вам нужно повторить результаты операции разделения, следует указать семя для генератора случайных чисел. В противном случае случайное семя устанавливается по умолчанию до **0,** что означает начальное значение семян, полученное из системных часов. В результате распределение данных может немного отличаться для каждого разбиения. 

1. **Стратифицированный раскол**: Установите эту опцию **в True,** чтобы убедиться, что два выходных набора данных содержат репрезентативную выборку значений в *столбце слоев* или *столбец ключа стратификации.* 

   При стратифицированной выборке данные делятся таким образом, что каждый набор данных вывода получает примерно один и тот же процент от каждого целевого значения. Например, можно убедиться, что наборы обучения и тестирования примерно сбалансированы с точки зрения результатов или какой-либо другой колонки (например, пола).

1. Отправить конвейер.


## <a name="select-a-regular-expression"></a>Выберите регулярное выражение

1. Добавьте модуль [Split Data](./split-data.md) в конвейер и подключите его к набору данных, который необходимо разделить.  
  
1. Для **режима разделения**выберите раздел **апликации.**

1. В окне **регулярного выражения** введите допустимое регулярное выражение. 
  
   Регулярное выражение должно следовать синтаксису Python для регулярных выражений.

1. Отправить конвейер.

   На основе регулярного выражения, которое предоставляется, набор данных делится на два набора строк: строки с значениями, которые соответствуют выражению, и все оставшиеся строки. 

Следующие примеры демонстрируют, как разделить набор данных с помощью опции **«Обычное выражение».** 

### <a name="single-whole-word"></a>Единое целое слово 

Этот пример помещает в первый набор данных `Gryphon` все `Text`строки, содержащие текст в столбце. Он помещает другие строки во второй выход **сплит-данных.**

```text
    \"Text" Gryphon  
```

### <a name="substring"></a>Substring

В этом примере указанная строка в любом положении во втором столбце набора данных. Позиция обозначается здесь значением индекса 1. Сопоставление учитывает регистр.

```text
(\1) ^[a-f]
```

Первый набор данных результата содержит все строки, где столбец индекса `e` `f`начинается с одного из этих символов: `a`, `b` `c`, `d`, . Все остальные строки направлены на второй выход.

## <a name="select-a-relative-expression"></a>Выберите относительное выражение

1. Добавьте модуль [Split Data](./split-data.md) в конвейер и подключите его к набору данных, который необходимо разделить.
  
1. Для **режима разделения**выберите **Относительное выражение.**
  
1. В поле **реляционного выражения** введите выражение, выполняя операцию сравнения на одном столбце.

   Для **столбца Numeric**:
   - Столбец содержит номера любого типа численных данных, включая типы данных даты и времени.
   - Выражение может ссылаться на не более одного имени столбца.
   - Используйте амперсанд характер, `&`для и операции. Используйте символ `|`трубы, для операции OR.
   - Поддерживаются следующие `<`операторы: `>=` `==`, `!=` `>`, `<=`, .
   - Вы не можете группировать `(` `)`операции с помощью и .
   
   Для **столбца строки:**
   - Поддерживаются следующие `==`операторы: `!=`.

1. Отправить конвейер.

   Выражение делит набор данных на два набора строк: строки с значениями, которые соответствуют состоянию, и все оставшиеся строки.

Ниже приведены следующие примеры, как разделить набор данных с помощью **опции «Относительная экспрессия»** в модуле **Split Data.**  

### <a name="calendar-year"></a>Календарный год

По распространенному сценарию набор данных делится по годам. Следующее выражение выбирает все строки, где `Year` значения в `2010`столбце больше, чем.

```text
\"Year" > 2010
```

Выражение даты должно учитывать все части даты, включенные в столбец данных. Формат дат в столбце данных должен быть согласованным. 

Например, в столбце даты, `mmddyyyy`использующем формат, выражение должно быть примерно следующим образом:

```text
\"Date" > 1/1/2010
```

### <a name="column-index"></a>Индекс столбцов

Следующее выражение показывает, как можно использовать индекс столбца, чтобы выбрать все строки в первом столбце набора данных, содержащего значения, которые меньше или равны 30, но не равны 20.

```text
(\0)<=30 & !=20
```


## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором модулей, доступных](module-reference.md) для машинного обучения Azure. 
