---
title: 'Разделение данных: ссылка на модуль'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль Split Data (разделение данных) в Машинное обучение Azure, чтобы разделить набор данных на два разных набора.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/22/2019
ms.openlocfilehash: d889cd3325784f564d03e5d75dde1ec760c66804
ms.sourcegitcommit: d45fd299815ee29ce65fd68fd5e0ecf774546a47
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2020
ms.locfileid: "78268535"
---
# <a name="split-data-module"></a>Модуль Split Data

В этой статье описывается модуль в Машинное обучение Azure Designer (Предварительная версия).

Используйте этот модуль, чтобы разделить набор данных на два разных набора.

Этот модуль особенно полезен, если необходимо разделить данные на обучающие и проверочные наборы. Можно настроить способ разделения данных. Некоторые параметры поддерживают случайный выбор данных. другие объекты адаптированы для определенного типа данных или модели.

## <a name="how-to-configure"></a>Порядок настройки

> [!TIP]
> Прежде чем выбрать режим разделения, ознакомьтесь со всеми параметрами, чтобы определить необходимый тип разбиения.
> При изменении режима разбиения все остальные параметры могут быть сброшены.

1. Добавьте модуль **Split Data (разделение данных** ) в конвейер в конструкторе. Этот модуль можно найти в разделе " **Преобразование данных**" в категории " **пример и разделение** ".

2. **Режим разделения**. Выберите один из следующих режимов в зависимости от типа данных и того, как его следует разделить. Каждый режим разделения имеет различные параметры. Подробные инструкции и примеры см. в следующих разделах. 

    - **Разбиение строк**. Используйте этот параметр, если нужно просто разделить данные на две части. Можно указать процент данных, помещаемых в каждую разбивку, но по умолчанию данные делятся на 50-50.

        Можно также задать случайный выбор строк в каждой группе и использовать выборку стратифицированной. В стратифицированной выборки необходимо выбрать один столбец данных, для которого нужно равномерно распределять значения между двумя результирующими наборами.  

    - **Разбиение регулярного выражения**  Выберите этот параметр, если необходимо разделить набор данных, проверив один столбец для значения.

        Например, при анализе тональности можно проверить наличие определенного названия продукта в текстовом поле, а затем разделить набор данных на строки с именем целевого продукта и без него.

    - **Относительная разбивка выражения**: Используйте этот параметр при каждом применении условия к числовому столбцу. Это может быть поле даты и времени, столбец, содержащий возраст или сумму в долларах, или даже процент. Например, может потребоваться разделить набор данных в зависимости от стоимости элементов, сгруппировать людей по возрастным диапазонам или разделить данные по календарной дате.

### <a name="split-rows"></a>Разделение строк

1.  Добавьте модуль [Split Data (разделение данных](./split-data.md) ) в конвейер в конструкторе и подключите набор данных, который необходимо разделить.
  
2.  В **режиме разделения**выберите **разбить строки**. 

3.  **Часть строк в первом выходном наборе данных**. Используйте этот параметр, чтобы определить, сколько строк попадают в первый (левый) выход. Все остальные строки будут переданы на второй (правый) выход.

    Отношение представляет процент строк, отправленных в первый выходной набор данных, поэтому необходимо ввести десятичное число от 0 до 1.
     
     Например, если ввести значение 0,75, набор данных будет разделен в соотношении 75:25, т. е. 75 % строк будет отправлено в первый выходной набор данных и 25 % — во второй.
  
4. Выберите параметр **случайное разбиение** , если необходимо задать случайный выбор данных в двух группах. Это предпочтительный вариант при создании обучающих и проверочных наборов данных.

5.  **Случайное начальное**значение: Введите неотрицательное целое число, чтобы инициализировать псевдослучайное последовательность экземпляров для использования. Это начальное значение по умолчанию используется во всех модулях, генерирующих случайные числа. 

     Указание начального значения делает результаты обычно воспроизводимыми. Если необходимо повторить результаты операции разбиения, необходимо указать начальное значение для генератора случайных чисел. В противном случае этому значению по умолчанию присваивается 0, а это означает, что начальное значение случайной последовательности определяется системным временем. В результате распределение данных может немного отличаться для каждого разбиения. 

6. **Стратифицированной Split**: установите для этого параметра значение **true** , чтобы два выходных набора данных содержали репрезентативную выборку значений в *столбце Strata* или *соотношением Key*. 

    При использовании выборки стратифицированной данные делятся таким, что каждый выходной набор данных получает примерно один процент от каждого целевого значения. Например, может потребоваться убедиться в том, что обучающий и проверочный наборы приблизительно сбалансированы по отношению к результату, или по отношению к другому столбцу, например Gender.

7. Запустили конвейер.


## <a name="regular-expression-split"></a>Разбиение регулярного выражения

1.  Добавьте модуль [Split Data (разделение данных](./split-data.md) ) в конвейер и подключите его как входные данные к набору данных, который необходимо разделить.  
  
2.  Для **режима разделения**выберите **разбиение регулярного выражения**.

3. В поле **регулярное выражение** введите допустимое регулярное выражение. 
  
   Регулярное выражение должно следовать синтаксису регулярных выражений Python.


4. Запустили конвейер.

    На основе заданного регулярного выражения набор данных делится на два набора строк: строки со значениями, которые соответствуют выражению и всем оставшимся строкам. 

В следующих примерах показано, как разделить набор данных с помощью параметра **регулярного выражения** . 

### <a name="single-whole-word"></a>Одно целое слово 

Этот пример помещает в первый набор данных все строки, содержащие текст `Gryphon` в столбце `Text`и помещает другие строки во второй результат **разбиения данных**:

```text
    \"Text" Gryphon  
```

### <a name="substring"></a>Substring

В этом примере выполняется поиск указанной строки в любой позиции во втором столбце набора данных, обозначенной здесь значением индекса 1. Соответствие учитывает регистр символов.

```text
(\1) ^[a-f]
```

Первый результирующий набор данных содержит все строки, в которых столбец индекса начинается с одного из следующих символов: `a`, `b`, `c`, `d`, `e`, `f`. Все остальные строки направляются на второй выход.

## <a name="relative-expression-split"></a>Разбиение относительного выражения.

1. Добавьте модуль [Split Data (разделение данных](./split-data.md) ) в конвейер и подключите его как входные данные к набору данных, который необходимо разделить.
  
2. Для **режима разделения**выберите **относительное разбиение выражения**.
  
3. В текстовом поле **реляционное выражение** введите выражение, которое выполняет операцию сравнения для одного столбца:

   Для **числового столбца**:
   - Столбец содержит числа любого числового типа данных, включая типы данных даты и времени.
   - Выражение может ссылаться на максимум одно имя столбца.
   - Используйте символ амперсанда `&` для операции и. Используйте символ вертикальной черты `|` для операции или.
   - Поддерживаются следующие операторы: `<`, `>`, `<=`, `>=`, `==`, `!=`.
   - Операции нельзя группировать с помощью `(` и `)`.
   
   Для **строкового столбца**:
   - Поддерживаются следующие операторы: `==`, `!=`.

4. Запустили конвейер.

    Выражение делит набор данных на два набора строк: строки со значениями, которые соответствуют условию, и все оставшиеся строки.

В следующих примерах показано, как разделить набор данных с помощью параметра **выражение относительного выражения** в модуле **Split Data (разделение данных** ):  

### <a name="using-calendar-year"></a>Использование календарного года

По распространенному сценарию набор данных делится по годам. Следующее выражение выбирает все строки, в которых значения в столбце `Year` больше `2010`.

```text
\"Year" > 2010
```

Выражение даты должно учитывать все части даты, которые включены в столбец данных, и формат дат в столбце данных должен быть одинаковым. 

Например, в столбце Date, использующем формат `mmddyyyy`, выражение должно выглядеть примерно следующим образом:

```text
\"Date" > 1/1/2010
```

### <a name="using-column-indices"></a>Использование индексов столбцов

Следующее выражение показывает, как можно использовать индекс столбца, чтобы выбрать все строки в первом столбце набора данных, содержащего значения, которые меньше или равны 30, но не равны 20.

```text
(\0)<=30 & !=20
```


## <a name="next-steps"></a>Следующие шаги

См. [набор модулей, доступных](module-reference.md) для машинное обучение Azure. 
