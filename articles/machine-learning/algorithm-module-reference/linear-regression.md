---
title: 'Линейная регрессия: Ссылка на модуль'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль Linear Regression в Azure Machine Learning для создания модели линейной регрессии для использования в конвейере.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/22/2020
ms.openlocfilehash: 602553637e21b17aa4f9bc7402753af024c697c7
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79477567"
---
# <a name="linear-regression-module"></a>Линейный модуль регрессии
В этой статье описывается модуль в дизайнере машинного обучения Azure (предварительный просмотр).

Используйте этот модуль для создания линейной модели регрессии для использования в конвейере.  Линейная регрессия пытается установить линейную связь между одной или более независимой переменной и числовым результатом, или зависимой переменной. 

Этот модуль используется для определения метода линейной регрессии, а затем обучаете модель с помощью помеченного набора данных. После этого обученная модель используется для прогнозирования.

## <a name="about-linear-regression"></a>О линейной регрессии

Линейная регрессия является распространенным статистическим методом, который был принят в машинном обучении и дополнен множеством новых методов установки линии и измерения погрешности. В самом базовом смысле регрессия относится к предсказанию численной цели. Линейная регрессия по-прежнему является хорошим выбором, когда требуется простая модель для основной задачи прогностического прогнозирования. Линейная регрессия также имеет тенденцию хорошо работать на высокомерных, разреженных наборах данных, не хватает сложности.

Azure Machine Learning поддерживает различные модели регрессии, в дополнение к линейной регрессии. Тем не менее, термин "регрессия" может быть интерпретирован свободно, и некоторые виды регрессии, предусмотренные в других инструментах, не поддерживаются.

+ Классическая проблема регрессии включает в себя одну независимую переменную и зависимую переменную. Это называется *простой регрессией.*  Этот модуль поддерживает простую регрессию.

+ *Несколько линейных регрессии* включает в себя две или более независимых переменных, которые способствуют одной зависимой переменной. Проблемы, при которых для прогнозирования одного численного исхода используются несколько входных данных, также называются *многовариантной линейной регрессией.*

    **Модуль линейной регрессии** может решить эти проблемы, как и большинство других модулей регрессии.

+ *Регрессия мультиметок* — это задача прогнозирования нескольких зависимых переменных в рамках одной модели. Например, в многометочной логистической регрессии пример можно назначить нескольким разным меткам. (Это отличается от задачи прогнозирования нескольких уровней в пределах одной переменной класса.)

    Этот тип регрессии не поддерживается в машинном обучении Azure. Чтобы предсказать несколько переменных, создайте отдельный ученик для каждого вывода, который вы хотите предсказать.

В течение многих лет статистики разрабатывали все более передовые методы регрессии. Это верно даже для линейной регрессии. Этот модуль поддерживает два метода для измерения ошибки и соответствия линии регрессии: обычный метод наименьших квадратов и градиентный спуск.

- **Градиентный спуск** — это метод, который сводит к минимуму количество ошибок на каждом этапе процесса обучения модели. Существует множество вариантов градиентного спуска, и его оптимизацию для различных проблем обучения тщательно изучили. Если вы выберете этот вариант для **метода решения,** вы можете установить различные параметры для управления размером шага, скоростью обучения и так далее. Эта опция также поддерживает использование интегрированного параметра развертки.

- **Обычные наименее квадратов** является одним из наиболее часто используемых методов в линейной регрессии. Например, наименьшие квадраты — это метод, используемый в инструментарии анализа для Microsoft Excel.

    Обычный метод наименьших квадратов ссылается на функцию потерь, которая вычисляет погрешность как сумму квадрата расхождения фактического значения и спрогнозированной линии и подгоняет модель, минимизируя квадратичную погрешность. Этот метод предполагает сильную линейную связь между входными и зависимой переменной.

## <a name="configure-linear-regression"></a>Настройка линейной регрессии

Этот модуль поддерживает два метода для установки модели регрессии, с различными вариантами:

+ [Fit регрессионной модели с использованием обычных наименьших квадратов](#create-a-regression-model-using-ordinary-least-squares)

    Для небольших наборов данных лучше всего выбрать обычные наименьшие квадраты. Это должно дать аналогичные результаты Excel.
    
+ [Создание регрессионной модели с использованием онлайн градиентного спуска](#create-a-regression-model-using-online-gradient-descent)

    Градиентный спуск представляет собой улучшенную функцию потерь для более сложных моделей или моделей, в которых слишком мало данных для обучения, принимая во внимание количество переменных.

### <a name="create-a-regression-model-using-ordinary-least-squares"></a>Создание модели регрессии с использованием обычных наименьших квадратов

1. Добавьте модуль **модели линейной регрессии** в конвейер в проектировщике.

    Вы можете найти этот модуль в категории **машинного обучения.** Расширьте **инициализацию модели,** расширьте **регрессию,** а затем перетащите модуль **Модели линейной регрессии** в конвейер.

2. В панели **свойств,** в списке выпадающих **методов решения,** выберите **обыкновенные наименьшие квадраты.** Этот параметр определяет метод вычислений, используемый для поиска линии регрессии.

3. В **весе регуляризации L2**введите значение, необходимое для использования в качестве веса для регуляризации L2. Мы рекомендуем использовать ненулевое значение, чтобы избежать переоборудования.

     Чтобы узнать больше о том, как регуляризация влияет на примерку моделей, смотрите в этой статье: [L1 и L2 Регуляризация для машинного обучения](https://msdn.microsoft.com/magazine/dn904675.aspx)

4. Выберите опцию, **включите термин перехвата,** если вы хотите просмотреть термин для перехвата.

    Отберите эту опцию, если вам не нужно пересматривать формулу регрессии.

5. Для **семян случайных чисел**можно дополнительно ввести значение для семени генератора случайных чисел, используемого моделью.

    Использование значения семян полезно, если вы хотите сохранить одни и те же результаты в разных запусках одного и того же конвейера. В противном случае по умолчанию будет использоваться значение из системных часов.


7. Добавьте модуль [Train Model](./train-model.md) в конвейер и подключите помеченный набор данных.

8. Отправить конвейер.

### <a name="results-for-ordinary-least-squares-model"></a>Результаты для обычной модели наименьших квадратов

После завершения обучения:


+ Чтобы сделать прогнозы, подключите обученную модель к модулю [модели оценки,](./score-model.md) а также набор данных новых значений. 


### <a name="create-a-regression-model-using-online-gradient-descent"></a>Создание регрессионной модели с использованием онлайн градиентного спуска

1. Добавьте модуль **модели линейной регрессии** в конвейер в проектировщике.

    Вы можете найти этот модуль в категории **машинного обучения.** Расширьте **инициализацию модели,** расширьте **регрессию**и перетащите модуль **Модели линейной регрессии** в конвейер

2. В панели **Свойств,** в списке выпадающих **методов решения,** выберите **Online Gradient Descent** в качестве метода вычислений, используемого для поиска линии регрессии.

3. Для **режима создания настройки**укажите, хотите ли вы обучить модель заранее определенному набору параметров, или если вы хотите оптимизировать модель с помощью параметра.

    + **Единый параметр**: Если вы знаете, как настроить линейную сеть регрессии, вы можете предоставить определенный набор значений в качестве аргументов.
    
    + **Диапазон параметров**: Выберите этот параметр, если вы не уверены в лучших параметрах, и хотите запустить развертки параметров. Выберите диапазон значений для итерации, и [Hyperparameters Tune Model](tune-model-hyperparameters.md) итерирует все возможные комбинации параметров, которые вы предоставили, чтобы определить гиперпараметры, которые дают оптимальные результаты.  

   
4. Для **обучения скорость**, укажите начальную скорость обучения для стохастический градиент спуск оптимизатор.

5. Для **количества учебных эпох**введите значение, которое указывает, сколько раз алгоритм должен итерироваться на примерах. Для наборов данных с небольшим числом примеров это значение должно быть больше для достижения конвергенции.

6. **Нормализовать функции:** Если вы уже нормализовали числовые данные, используемые для обучения модели, можно отменить эту опцию. По умолчанию модуль нормализует все числовые входы в диапазоне от 0 до 1.

    > [!NOTE]
    > 
    > Не забудьте применить тот же метод нормализации к новым данным, используемым для скоринга.

7. В **весе регуляризации L2**введите значение, необходимое для использования в качестве веса для регуляризации L2. Мы рекомендуем использовать ненулевое значение, чтобы избежать переоборудования.

    Чтобы узнать больше о том, как регуляризация влияет на примерку моделей, смотрите в этой статье: [L1 и L2 Регуляризация для машинного обучения](https://msdn.microsoft.com/magazine/dn904675.aspx)


9. Выберите опцию, **уменьшить скорость обучения,** если вы хотите, чтобы скорость обучения уменьшиться по мере прогрессирования итераций.  

10. Для **семян случайных чисел**можно дополнительно ввести значение для семени генератора случайных чисел, используемого моделью. Использование значения семян полезно, если вы хотите сохранить одни и те же результаты в разных запусках одного и того же конвейера.


12. Добавьте помеченный набор данных и один из обучающие модулей.

    Если вы не используете развертки параметров, используйте модуль [Модели поезда.](train-model.md)

13. Отправить конвейер.

### <a name="results-for-online-gradient-descent"></a>Результаты для онлайн градиентного спуска

После завершения обучения:

+ Чтобы сделать прогнозы, подключите обученную модель к модулю [Модели оценки](./score-model.md) вместе с новыми входными данными.


## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором модулей, доступных](module-reference.md) для машинного обучения Azure. 