---
title: 'Линейная регрессия: Справочник по модулям'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль линейной регрессии в Машинное обучение Azure для создания модели линейной регрессии для использования в конвейере.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 10/22/2019
ms.openlocfilehash: 688bf923c07d9417b002b7cab6e3c0a0c8d20dae
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73497747"
---
# <a name="linear-regression-module"></a>Модуль линейной регрессии
В этой статье описывается модуль в Машинное обучение Azure Designer (Предварительная версия).

Этот модуль используется для создания модели линейной регрессии для использования в конвейере.  Линейная регрессия пытается установить линейную связь между одной или несколькими независимыми переменными и числовым результатом или зависимой переменной. 

Этот модуль используется для определения метода линейной регрессии, а затем для обучения модели с помощью набора данных с меткой. Затем обученную модель можно использовать для создания прогнозов.

## <a name="about-linear-regression"></a>О линейной регрессии

Линейная регрессия — это общий статистический метод, который был принят в машинном обучении и дополнен многими новыми методами для подгонки строки и измерения ошибок. В основном смысле регрессия относится к прогнозу числового целевого объекта. Линейная регрессия по-прежнему является хорошим выбором, если требуется простая модель для базовой прогнозируемой задачи. Линейная регрессия, как правило, хорошо работает на больших и разреженных наборах данных, что не имеет сложностей.

В дополнение к линейной регрессии Машинное обучение Azure поддерживает разнообразные модели регрессии. Однако термин «регрессия» может интерпретироваться слабо, а некоторые типы регрессии, предоставляемые другими инструментами, не поддерживаются.

+ Классическая задача регрессии включает в себя одну независимую переменную и зависимую переменную. Это называется *простой регрессией*.  Этот модуль поддерживает простую регрессию.

+ *Множественная линейная регрессия* состоит из двух или более независимых переменных, которые вносят вклад в одну зависимую переменную. Проблемы, при которых несколько входных данных используются для прогнозирования одного числового результата, также называются *многофакторная линейной регрессией*.

    Модуль **линейной регрессии** может решить эти проблемы, как и большинство других модулей регрессии.

+ *Регрессия с несколькими метками* — это задача прогнозирования нескольких зависимых переменных в рамках одной модели. Например, в логистической регрессии с несколькими метками пример можно назначить нескольким различным меткам. (Это отличается от задачи прогнозирования нескольких уровней в пределах одной переменной класса.)

    Этот тип регрессии не поддерживается в Машинное обучение Azure. Для прогнозирования нескольких переменных создайте отдельное обучение для каждого выхода, который нужно спрогнозировать.

В течение многих лет статистикам разрабатывает все более сложные методы регрессии. Это справедливо даже для линейной регрессии. Этот модуль поддерживает два метода для измерения ошибок и соответствия линии регрессии: обычный метод наименьших квадратов и спуск градиента.

- **Спуск градиентов** — это метод, который уменьшает количество ошибок на каждом шаге процесса обучения модели. Существует множество вариантов градиентной спуска, и его оптимизация для различных проблем обучения была тщательно изучена. При выборе этого варианта для **метода решения**можно задать различные параметры для управления размером шага, частотой обучения и т. д. Этот параметр также поддерживает использование встроенной очистки параметров.

- **Обычные и наименьшие квадраты** являются одним из наиболее часто используемых методов линейной регрессии. Например, по крайней мере квадраты — это метод, который используется в пакетах анализа для Microsoft Excel.

    Обычно по крайней мере квадраты относятся к функции потери, которая вычисляет ошибку как сумму квадрата расстояния от фактического значения до прогнозируемой линии и подсчитывает модель путем минимизации квадратной ошибки. Этот метод предполагает наличие строгой линейной связи между входными и зависимыми переменными.

## <a name="configure-linear-regression"></a>Настройка линейной регрессии

Этот модуль поддерживает два метода для подбора модели регрессии с различными параметрами:

+ [Создание регрессионной модели с помощью Интернет-спуска градиента](#bkmk_GradientDescent)

    Спуск градиентов — это более сложная функция потери для моделей, которые более сложны или содержат слишком мало обучающих данных с учетом количества переменных.



+ [Подгонка модели регрессии, используя обычные наименьшие квадраты](#bkmk_OrdinaryLeastSquares)

    Для небольших наборов данных лучше всего выбрать обычные квадраты. Это позволит получить аналогичные результаты в Excel.

## <a name="bkmk_OrdinaryLeastSquares"></a>Создание модели регрессии с помощью обычных наименьших квадратов

1. Добавьте модуль **линейной регрессии** в конвейер в конструкторе.

    Этот модуль можно найти в категории **машинное обучение** . Разверните узел **Инициализация модели**, разверните **регрессию**, а затем перетащите модуль **линейная регрессия** в конвейер.

2. В области **Свойства** в раскрывающемся списке **метод решения** выберите пункт **обычные наименьшие квадраты**. Этот параметр указывает метод вычисления, используемый для поиска линии регрессии.

3. В поле **весовой коэффициент**упрощения уровня "основной" введите значение, которое будет использоваться в качестве веса для упрощения L2. Рекомендуется использовать ненулевое значение, чтобы избежать чрезмерного перегонки.

     Дополнительные сведения о влиянии модели на подгонку моделей см. в этой статье: использование инструкций [L1 и L2 для машинное обучение](https://msdn.microsoft.com/magazine/dn904675.aspx)

4. Выберите параметр **включить условие перехвата**, если требуется просмотреть термин для перехвата.

    Снимите этот флажок, если не нужно проверять формулу регрессии.

5. Для **начального числа случайных чисел**можно дополнительно ввести значение для заполнения генератора случайных чисел, используемого моделью.

    Использование начального значения полезно, если нужно сохранить одинаковые результаты для разных запусков одного и того же конвейера. В противном случае по умолчанию используется значение из системных часов.


7. Добавьте модуль [обучение модели](./train-model.md) в конвейер и подключите набор данных с меткой.

8. Запустили конвейер.

## <a name="results-for-ordinary-least-squares-model"></a>Результаты для обычной модели наименьших квадратов

После завершения обучения:

+ Чтобы просмотреть параметры модели, щелкните правой кнопкой мыши выходные данные инструктора и выберите **визуализировать**.

+ Чтобы сделать прогнозы, подключите обученную модель к модулю « [Оценка модели](./score-model.md) » вместе с набором данных новых значений. 


## <a name="bkmk_GradientDescent"></a>Создание регрессионной модели с помощью Интернет-спуска градиента

1. Добавьте модуль **линейной регрессии** в конвейер в конструкторе.

    Этот модуль можно найти в категории **машинное обучение** . Разверните узел **Инициализация модели**, разверните **регрессию**и перетащите модуль **линейная регрессия** в конвейер.

2. В области **Свойства** в раскрывающемся списке **метод решения** выберите параметр **Градиентный спуск в сети** в качестве метода вычисления, используемого для поиска линии регрессии.

3. В **режиме «создание преподавателя**» укажите, нужно ли обучить модель предопределенному набору параметров, или, если необходимо оптимизировать модель с помощью очистки параметров.

    + **Один параметр**. Если известно, как настроить сеть линейной регрессии, можно указать в качестве аргументов конкретный набор значений.

   
4. Чтобы **узнать скорость обучения**, укажите начальную скорость обучения для оптимизатора метод стохастического градиента.

5. Для параметра **число эпох обучения**введите значение, указывающее, сколько раз алгоритм должен выполнять итерацию по примерам. Для наборов данных с небольшим количеством примеров это число должно быть большим для достижения конвергенции.

6. **Нормализация функций**. Если вы уже нормализованы числовые данные, используемые для обучения модели, этот параметр можно снять. По умолчанию модуль нормализует все числовые входные значения в диапазон от 0 до 1.

    > [!NOTE]
    > 
    > Не забывайте применять тот же метод нормализации к новым данным, используемым для оценки.

7. В поле **весовой коэффициент**упрощения уровня "основной" введите значение, которое будет использоваться в качестве веса для упрощения L2. Рекомендуется использовать ненулевое значение, чтобы избежать чрезмерного перегонки.

    Дополнительные сведения о влиянии модели на подгонку моделей см. в этой статье: использование инструкций [L1 и L2 для машинное обучение](https://msdn.microsoft.com/magazine/dn904675.aspx)


9. Выберите параметр, чтобы **уменьшить скорость обучения**, если вы хотите, чтобы скорость обучения уменьшилась по мере выполнения итераций.  

10. Для **начального числа случайных чисел**можно дополнительно ввести значение для заполнения генератора случайных чисел, используемого моделью. Использование начального значения полезно, если нужно сохранить одинаковые результаты для разных запусков одного и того же конвейера.


12. Добавьте набор данных с меткой и один из обучающих модулей.

    Если очистка параметров не используется, используйте модуль [обучение модели](train-model.md) .

13. Запустили конвейер.

## <a name="results-for-online-gradient-descent"></a>Результаты для веб-спуска градиента

После завершения обучения:

+ Чтобы сделать прогнозы, подключите обученную модель к модулю « [Оценка модели](./score-model.md) » вместе с новыми входными данными.


## <a name="next-steps"></a>Дальнейшие действия

См. [набор модулей, доступных](module-reference.md) для машинное обучение Azure. 