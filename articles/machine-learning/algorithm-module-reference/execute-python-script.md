---
title: 'Выполнение сценария Python: Ссылка на модуль'
titleSuffix: Azure Machine Learning service
description: Узнайте, как использовать модуль выполнение скрипта Python в службе машинного обучения Azure можно выполнять код Python.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ROBOTS: NOINDEX
ms.openlocfilehash: 6e61ed5a18e69b107b78bf2042de21d14cd6beb5
ms.sourcegitcommit: 4b9c06dad94dfb3a103feb2ee0da5a6202c910cc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/02/2019
ms.locfileid: "65029135"
---
# <a name="execute-python-script-module"></a>Запустить модуль сценария Python

В этой статье описывается модуль визуального интерфейса (Предварительная версия) для службы машинного обучения Azure.

Этот модуль используется для выполнения кода Python. Дополнительные сведения об архитектуре и принципы разработки Python, см. в разделе [следующей статье.](https://docs.microsoft.com/azure/machine-learning/machine-learning-execute-python-scripts)

С помощью Python можно выполнять задачи, не поддерживаемые в настоящее время существующие модули такие как:

+ Визуализация данных с помощью `matplotlib`
+ С помощью библиотеки Python для перечисления наборов данных и моделей в рабочей области
+ Чтение, загрузка и обработка данных из источников, не поддерживаемые [импорта данных](./import-data.md) модуля
+ Запустите собственный глубокого обучения кода 


Машинное обучение Azure использует дистрибутив Anaconda Python, который включает многие общие служебные программы для обработки данных. Версия Anaconda будет обновлена автоматически. Текущая версия:
 -  Дистрибутив anaconda 4.5 + для Python 3.6 

Предварительно установленные пакеты являются:
-  asn1crypto == 0.24.0
- attrs == 19.1.0
- Azure-common == 1.1.18
- Azure-storage-blob == 1.5.0.
- Azure хранилища распространенные == 1.4.0
- сертификатов == 2019.3.9
- cffi == 1.12.2
- chardet == 3.0.4
- криптография == 2.6.1
- Дистрибутив == 1.4.0
- IDNA == 2.8
- jsonschema == 3.0.1
- lightgbm == 2.2.3
- более itertools == 6.0.0
- numpy == 1.16.2
- pandas == 0.24.2
- Стиль == 6.0.0
- PIP == 19.0.3
- pyarrow == 0.12.1
- pycparser == 2.19
- pycryptodomex == 3.7.3
- pyrsistent == 0.14.11
- Python dateutil == 2.8.0
- pytz == 2018.9
- запросы == 2.21.0
- scikit-Узнайте == 0.20.3
- scipy == 1.2.1
- setuptools == 40.8.0
- шесть == 1.12.0
- torch == 1.0.1.post2
- torchvision == 0.2.2.post3
- urllib3 == 1.24.1
- колесико == 0.33.1 

 Для установки других пакетов не в списке предварительно установленные, например *scikit-misc*, добавьте следующий код в скрипт: 

 ```python
import os
os.system(f"pip install scikit-misc")
```

## <a name="how-to-use"></a>Использование

**Execute Python Script** модуль содержит пример кода Python, который можно использовать в качестве отправной точки. Чтобы настроить **Execute Python Script** модуля, предоставить набор входных данных и код Python для выполнения в **скрипт Python** текстовое поле.

1. Добавить **Execute Python Script** эксперимент модуль.

2. Добавление и подключение на **Dataset1** нет наборов данных с интерфейсом, который вы хотите использовать для входных данных. Ссылка на этот набор данных в скрипте Python как **DataFrame1**.

    Использование набора данных необязательно, если вы хотите создать данных с помощью Python или используйте код Python, чтобы импортировать данные напрямую в модуль.

    Этот модуль поддерживает добавление второго набора данных на **Dataset2**. Ссылка второго набора данных в качестве DataFrame2 скрипта Python.

    Наборы данных, хранящихся в машинное обучение Azure автоматически преобразуются в **pandas** блоки данных при загрузке с данным модулем.

    ![Выполнение Входное сопоставление Python](media/module/python-module.png)

4. Чтобы включить новые пакеты Python или кода, добавьте ZIP-файл, содержащий эти настраиваемые ресурсы на **пакет сценария**. Входные данные для **пакет сценария** должен быть ZIP-файл уже отправлен в рабочую область. 

    Любой файл, содержащихся в загруженный ZIP-архив может использоваться во время выполнения эксперимента. Если архив включает в себя структуру каталогов, структура сохраняется, но вы должны добавить в начало каталог с именем **src** к пути.

5. В **скрипт Python** текстовом поле введите или вставьте допустимый скрипт Python.

    **Скрипт Python** текстовое поле предварительно заполнено приведенным инструкциям комментарии и примеры кода для доступа к данным и выходных данных. **Необходимо изменить или заменить этот код.** Убедитесь, что соответствующие соглашениям Python о отступа и регистр.

    + Сценарий должен содержать функцию с именем `azureml_main` как точку входа для этого модуля.
    + Функция точки входа может содержать до двух входных аргументов: `Param<dataframe1>` и `Param<dataframe2>`
    + ZIP-файлы, которые подключены к третьему входному порту распакован, хранятся в каталоге, `.\Script Bundle`, который также добавляется в Python `sys.path`. 

    Таким образом Если ZIP-файл содержит `mymodule.py`, импортируйте его с помощью `import mymodule`.

    + Два набора данных, которые могут быть возвращены в интерфейс, который должен представлять собой последовательность типа `pandas.DataFrame`. Можно создать другие выходные данные в коде Python и записи их непосредственно в службу хранилища Azure.

6. Выполните эксперимент, или выберите модуль и нажмите кнопку **запустить выбранные** для запуска только скрипт Python.

    Все данные и код загружается в виртуальную машину и выполнить, используя указанную среду Python.

## <a name="results"></a>Результаты

Результаты любых вычислений, выполненных внедренным кодом Python должно быть указано как pandas. Таблицы данных, который автоматически преобразуется в формат набора данных машинного обучения Azure, таким образом, чтобы результаты можно использовать с другими модулями в эксперименте.

Модуль возвращает два набора данных:  
  
+ **Результаты набор данных 1**, заданное первый возвращенный pandas таблицы данных в скрипт Python

+ **Привести набор данных 2**, заданное второй таблицы данных pandas, возвращенный в скрипт Python


## <a name="next-steps"></a>Дальнейшие действия

См. в разделе [набор модулей, доступных](module-reference.md) для службы машинного обучения Azure. 