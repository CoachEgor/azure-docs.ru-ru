---
title: 'Кластеризация K-средних: Ссылка на модуль'
titleSuffix: Azure Machine Learning service
description: Узнайте, как использовать модуль кластеризация K-средних в службе машинного обучения Azure для обучения модели кластеризации.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/06/2019
ROBOTS: NOINDEX
ms.openlocfilehash: 7e9b7c8f2cf86245322679198b84b50d2c5edce8
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "65464671"
---
# <a name="module-k-means-clustering"></a>Модуль: Кластеризация методом K-средних

В этой статье описывается использование *кластеризация K-средних* модуля в студии машинного обучения Azure для создания необученную модель кластеризации К-средних. 
 
K-средних — один из самых простых и самые известные *неконтролируемого* алгоритмов обучения. Алгоритм можно использовать для различных задач машинного обучения, такие как: 

* [Выявление аномальных данных](https://msdn.microsoft.com/magazine/jj891054.aspx).
* Кластеризация текстовых документов.
* Анализ наборов данных, прежде чем использовать другие методы классификации или регрессии. 

Для создания модели кластеризации, вы:

* Добавьте этот модуль в свой эксперимент.
* Подключите набор данных.
* Задайте параметры, например число кластеров, ожидается, что, для использования при создании кластеров в качестве метрики для оценки расстояния и так далее. 
  
После настройки гиперпараметров модуля, вы подключите необученную модель для [Обучение модели кластеризации](train-clustering-model.md). Поскольку алгоритм К-средних является методом неконтролируемого обучения, столбец метки является необязательным. 

+ Если данные содержат метки, можно использовать значения меток руководить выбора кластеров и оптимизация модели. 

+ Если в данных есть метка отсутствует, алгоритм создает кластеры, представляющий возможные категории, исходя исключительно из данных.  

##  <a name="understand-k-means-clustering"></a>Понять, кластеризация K-средних
 
В общем случае кластеризации используются приемы итерации для группировки случаев в наборе данных в кластеры, которые имеют схожие характеристики. Эти группы полезны для исследования данных, определения ошибок в данных и со временем для составления прогнозов. Модели кластеризации также поможет выявить связи в наборе данных, то невозможно логически получить с наблюдением просмотра веб-страниц или простое. По этим причинам кластеризация часто используется на ранних этапах задач, машинного обучения для изучения данных и выявления необычных соотношений.  
  
 При настройке модели кластеризации методом K-средних, необходимо указать целевое число *k* , указывающее количество *центроиды* требуется в модели. Центроид — это точки, представляющие каждый кластер. Алгоритм К-средних назначает каждой входящих точки данных в одном из кластеров, сводя к минимуму суммы квадратов в пределах кластера. 
 
При обработке данных для обучения, алгоритм К-средних начинается с исходного набора центроидов, выбранный случайным образом. Центроиды служат в качестве отправных точек для кластеров и применяются алгоритм Ллойда для итеративного уточнения их расположения. Алгоритм К-средних останавливает построение и уточнение кластеров, если отчет удовлетворяет один или несколько из следующих условий:  
  
-   Центроиды стабилизируются, это означает, что больше не сможет изменять назначения кластерам для отдельных точек и алгоритм сосредоточила свое внимание на это решение.  
  
-   Алгоритм выполнил указанное число итераций.  
  
 После завершения этапа обучения, использовании [назначение данных кластерам](assign-data-to-clusters.md) модуль назначить новые случаи в одном из кластеров, найденных с помощью алгоритма K-средних. Выполняется назначение кластера путем вычисления расстояние между новый вариант и центроид каждого кластера. Каждый новый вариант назначается в кластер с ближайшего центроид.  

## <a name="configure-the-k-means-clustering-module"></a>Настройка модуля кластеризация K-средних
  
1.  Добавить **кластеризация K-средних** эксперимент модуль.  
  
2.  Чтобы указать способ обучения модели, выберите **Создание режима учителя** параметр.  
  
    -   **Единый параметр**: Если известно точное параметры, которые вы хотите использовать в модели кластеризации, вы можете предоставить определенный ряд значений в качестве аргументов.  
  
3.  Для **номер из Центроиды**, введите число кластеров, вам нужно, чтобы алгоритм начинается с.  
  
     Модель не гарантируется Создание именно это число кластеров. Алгоритм начинается с этого числа точек данных и выполняет итерацию для поиска оптимальной конфигурации.  
  
4.  Свойства **инициализации** можно указать алгоритм, который используется для определения первоначальной конфигурации кластера.  
  
    -   **Первые N**: Некоторое начальное количество точек данных выбирается из набора данных и использовать в качестве исходных средних. 
    
         Этот метод также называется *форджи*.  
  
    -   **Случайные**: Алгоритм случайным образом помещает точку данных в кластере, а затем вычисляет исходное среднее для определения центроида кластера случайным образом назначенных точек. 

         Этот метод также называется *случайный раздел* метод.  
  
    -   **K-средних ++** : Это метод по умолчанию для инициализации кластеров.  
  
         **K-средних ++** алгоритм был предложен в 2007 году Дэвидом Артуром и Сергеем Vassilvitskii кластеризации, стандартный алгоритм K-средних. **K-средних ++** улучшает стандартный K-средних с помощью другого метода выбора исходных центров кластеров.  
  
    
5.  Для **начальное значение случайного числа**, при необходимости введите значение для использования в качестве начального значения для инициализации кластера. Это значение может иметь значительное влияние на выбор кластера.  
  
6.  Для **метрика**, выберите функцию для измерения расстояния между векторами кластера или между новые точки данных и центроидом выбранный случайным образом. Машинное обучение Azure поддерживает следующие метрики отклонения для кластера:  
  
    -   **Евклидово**: Евклидово расстояние обычно используется как мерой рассеяния кластера для кластеризации К-средних. Эта метрика является предпочтительным, так как она сводит к минимуму среднее расстояние между точками и центроидами.
  
7.  Для **итераций**, введите, сколько раз алгоритм должен пройти обучающих данных, прежде чем он завершает выбор центроидов.  
  
     Вы можете настроить этот параметр, чтобы точность баланс по времени обучения.  
  
8.  Для **режим назначить метки**, выберите параметр, который указывает, как столбец метки, если он имеется в наборе данных, должны обрабатываться.  
  
     Так как кластеризация K-средних машине неконтролируемого обучения метод, метки являются необязательными. Тем не менее если набор данных уже содержит столбец метки, эти значения можно использовать для выбора кластеров, или можно указать, что значения пропускаться.  
  
    -   **Игнорировать столбец метки**: Значения в столбце метки учитываются и не используются при создании модели.
  
    -   **Заполнить отсутствующие значения**: Значения столбца метки используются как компоненты для создания кластеров. Если все строки отсутствуют метку, значение будет считать с помощью других функций.  
  
    -   **Перезаписать из ближайшего к центру**: Значения столбца метки заменяются на значения прогнозируемой метки, с помощью метки точки, наиболее близкое к текущей центроид.  

8.  Выберите **функции нормализации** параметр, если вы хотите компоненты сначала обучения.
  
     Если применить нормализации перед обучением точки данных, нормализованы `[0,1]` по MinMaxNormalizer.

10. Обучение модели.  
  
    -   Если задать **Создание режима учителя** для **один параметр**добавьте маркированного набора данных и обучения модели с помощью [Обучение модели кластеризации](train-clustering-model.md) модуля.  
  
### <a name="results"></a>Результаты

После завершения настройки и обучения модели, у вас есть модель, можно использовать для формирования оценок. Тем не менее существует несколько способов для обучения модели, а также различные способы просмотра и использования результатов. 

#### <a name="capture-a-snapshot-of-the-model-in-your-workspace"></a>Моментальный снимок модели в рабочей области

Если вы использовали [Обучение модели кластеризации](train-clustering-model.md) модуля:

1. Щелкните правой кнопкой мыши **Обучение модели кластеризации** модуля.

2. Выберите **модели Trained**, а затем выберите **Сохранить как Обученную модель**.

Сохраненная модель представляет данные для обучения на момент сохранения модели. Если впоследствии обновить обучающие данные, используемые в эксперименте, она не обновится сохраненной модели. 

#### <a name="see-the-clustering-result-dataset"></a>См. в разделе кластеризации результирующего набора данных 

Если вы использовали [Обучение модели кластеризации](train-clustering-model.md) модуля:

1. Щелкните правой кнопкой мыши **Обучение модели кластеризации** модуля.

2. Выберите **результирующий набор данных**, а затем выберите **визуализировать**.

### <a name="tips-for-generating-the-best-clustering-model"></a>Советы для создания лучших, модели кластеризации  

Известно, что *заполнение* процесс, который используется во время кластеризации может существенно повлиять на модель. Заполнение означает начальное размещение точек в потенциальных центроидов.
 
Например если набор данных содержит много выбросов, и является выбросом заполнить кластеры, другие точки данных будет хорошо сочетаются с этого кластера и кластера может быть единственный экземпляр. То есть он может иметь только одну точку.  
  
Можно избежать этой проблемы, двумя способами:  
  
-   Число центроидов и попробуйте несколько начальных значений.  
  
-   Создайте несколько моделей, различные метрики или итерация больше.  
  
Как правило с моделями кластеризации, возможно, что любой из данных конфигураций приведет к локально оптимизированный набор кластеров. Другими словами набор кластеров, возвращенных моделью подходит только для текущих точек данных и не обобщению с другими данными. При использовании другой исходной конфигурации метод K-средних может найти другую, возможно, улучшенную конфигурацию. 
