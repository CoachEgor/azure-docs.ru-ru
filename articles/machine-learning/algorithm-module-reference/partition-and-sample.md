---
title: 'Секционирование и выборка: Ссылка на модуль'
titleSuffix: Azure Machine Learning service
description: Узнайте, как использовать секционирование и выборка модуль в службе машинного обучения Azure для выполнения выборки в наборе данных или для создания секций из набора данных.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ROBOTS: NOINDEX
ms.openlocfilehash: 72f9e11e3582d804eecc7479ea079276564bd12f
ms.sourcegitcommit: 4b9c06dad94dfb3a103feb2ee0da5a6202c910cc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/02/2019
ms.locfileid: "65029285"
---
# <a name="partition-and-sample-module"></a>Секционирование и выборка модуля

В этой статье описывается модуль визуального интерфейса (Предварительная версия) для службы машинного обучения Azure.

Этот модуль используется для выполнения выборки в наборе данных или для создания секций из набора данных.

Выборка — важный инструмент машинного обучения, так как она позволяет уменьшить размер набора данных при сохранении соотношения его значений. Этот модуль поддерживает несколько связанных задач, которые важны для машинного обучения: 

- Разделение данных на несколько подразделов одинакового размера. 

    Может использовать секции для перекрестной проверки или назначить случаи в случайные группы.

- Разделение данных на группы и затем работать с данными из определенной группы. 

    После назначения случаях разные группы случайным образом, может потребоваться изменить компоненты, которые связаны только с одной группой.

- Выборка. 

    Можно извлечь процент данных, применить случайную выборку или выбрать столбец для балансировке набора данных и выполнить стратифицированную выборку его значений.

- Создание набора данных меньшего размера для тестирования. 

    Если у вас есть большой объем данных, может потребоваться использовать только первые *n* строк во время настройки эксперимент, а затем переключиться в режим с помощью полного набора данных при построении модели. Выборка может использоваться для создания s с меньшим набором данных для использования в разработке.

## <a name="configure-partition-and-sample"></a>Настроить секционирование и выборка

Этот модуль поддерживает несколько методов для разделения данных на разделы или выборки. Сначала выберите метод, и затем Настройка дополнительных параметров, необходимо с помощью метода.

- Головной узел
- Выборка
- Присвоение сверткам
- Выбрать свертку

### <a name="get-top-n-rows-from-a-dataset"></a>Получение ПЕРВЫХ N строк из набора данных

Используйте этот режим, чтобы получить только первые *n* строк. Этот параметр полезен, если вы хотите протестировать эксперимент на небольшое количество строк и нет необходимости балансировки или выборка любым способом данные.

1. Добавить **секционирование и выборка** эксперимент в интерфейсе, модуль и подключите набор данных.  

2. **Режим секционирования или выборки**: Для этого параметра **Head**.

3. **Количество строк, чтобы выбрать**: Введите количество возвращаемых строк.

    Число строк, которые вы указали должен быть неотрицательным целым числом. Если число выбранных строк больше, чем количество строк в наборе данных, возвращается весь набор данных.

4. Запустите эксперимент.

Модуль выводит один набор данных, содержащий указанным числом строк. Строки всегда считываются из верхней части набора данных.

### <a name="create-a-sample-of-data"></a>Создание примера данных

Этот параметр поддерживает простую случайную выборку или стратифицированной случайной выборки. Это полезно, если вы хотите создать набор небольших репрезентативной выборки данных для тестирования.

1. Добавить **секционирование и выборка** вашего эксперимента и подключите набор данных.

2. **Режим секционирования или выборки**: Задайте значение **выборки**.

3. **Частота выборки**: Введите значение от 0 до 1. Это значение указывает процент строк из исходного набора данных, который должен быть включен в выходной набор данных.

    Например, если требуется только половина исходного набора данных, введите `0.5` для указания, что частота выборки должна составлять 50%.

    Строки входного набора данных перемешиваются и выборочно помещаются в выходной набор данных, в соответствии с указанной пропорцией.

4. **Начальное значение для выборки**: При необходимости введите целое число для использования в качестве начального значения.

    Эта возможность важна, если требуется, чтобы строки нужно всегда разделять таким же образом, каждый раз. Значение по умолчанию — 0, значение, что начальный начальное значение формируется исходя из системных часов. Это может привести к немного другие результаты при каждом запуске эксперимента.

5. **Стратифицированное разбиение для выборки**: Выберите этот параметр, если важно необходимо равномерно разделить строк в наборе данных, некоторые ключевой столбец, прежде чем выборки.

    Для **ключевой столбец Стратификации для выборки**, выберите один *столбец стратификации* использование при делении набора данных. Строки в наборе данных делятся следующим образом:

    1. Все входные строки группируются (стратифицируются) по значениям в указанном столбце стратификации.

    2. Строки перемешиваются внутри каждой группы.

    3. Каждая группа выборочно добавляется в выходной набор данных в соответствии с указанной пропорцией.


6. Запустите эксперимент.

    В этом случае модуль выводит один набор данных, содержащий репрезентативной выборки данных. Оставшиеся, полностью часть набора данных, не выводится. 

## <a name="split-data-into-partitions"></a>Разбиение данных на секции

Используйте этот параметр, если вы хотите разделить набор данных на подмножества данных. Этот параметр также полезен, когда необходимо создать настраиваемое число сверток для перекрестной проверки или разбить на несколько групп строк.

1. Добавить **секционирование и выборка** вашего эксперимента и подключите набор данных.

2. Для **секции или в режиме выборки**выберите **присвоение сверткам**.

3. **Использование замены в секционировании**: Выберите этот параметр, если необходимо, чтобы в выборку строка помещается обратно в пул строк для возможное повторное использование. В результате той же строке могут быть назначены несколько сверток.

    Если вы не используете замены (параметр по умолчанию), строка выборки не отправляется обратно в пул строк для возможное повторное использование. Таким образом каждая строка можно назначить только одну свертку.

4. **Случайное разбиение**:  Выберите этот параметр, если вы хотите строк к случайным образом назначаться сверток.

    Если этот параметр не выбран, строки назначаются в свертки, используя метод циклический перебор.

5. **Случайное начальное значение**: При необходимости введите целое число для использования в качестве начального значения. Эта возможность важна, если требуется, чтобы строки нужно всегда разделять таким же образом, каждый раз. В противном случае — значение по умолчанию 0 означает, что случайный запуск начальное значение будет использоваться.

6. **Укажите метод секционирования**: Укажите способ соразмерно каждой секции данных с помощью этих параметров:

    - **Равномерное секционирование**: Используйте этот параметр, чтобы поместить одинаковое количество строк в каждой секции. Чтобы указать количество секций выходных данных, введите целое число в **укажите число сверток для равномерного разбиения** текстовое поле.

    - **Разделение с настроенными пропорциями**: Используйте этот параметр, чтобы указать размер каждой секции в виде списка с разделителями запятыми.

        Например, если вы хотите создать три секции, с первого раздела, содержащего 50% данных, а для остальных двух каждого содержащего 25% данных, нажмите кнопку **список пропорций, разделенный запятыми** текстовое поле и Введите эти числа: `.5, .25, .25`

        Необходимо добавить сумму всех размеров секции до ровно 1.

        - При вводе числа, добавить до **менее 1**, для хранения оставшихся строк создается дополнительный раздел. Например при вводе значения.2 и.3, третий создания раздела, содержащий оставшиеся 50 процентов всех строк.

        - При вводе числа, добавить до **более 1**, возникает ошибка при запуске эксперимента.

7. **Стратифицированное разбиение**: Выберите этот параметр, если вы хотите быть стратифицированное строк при разбиении, а затем нажмите _столбец стратификации_.

8. Запустите эксперимент.

    В этом случае модуль выводит несколько наборов данных, секционированных с помощью правила, которые вы указали.

### <a name="use-data-from-a-predefined-partition"></a>Использовать данные из предопределенных секции  

Этот параметр используется в том случае, когда разделить набор данных на несколько разделов и теперь хотите загрузить каждой секции, в свою очередь для дальнейшего анализа или обработки.

1. Добавить **секционирование и выборка** эксперимента.

2. Подключите его к выходным данным предыдущего экземпляра **секционирование и выборка**. Необходимо использовать этот экземпляр **присвоение сверткам** возможность создать несколько разделов.

3. **Режим секционирования или выборки**: Выберите **выбрать свертку**.

4. **Укажите свертку для выборки**: Выберите раздел для использования, введя его индексу. Секции индексов начинаются с 1. Например если набор данных делится на три части, секции будет иметь индексы 1, 2 и 3.

    Если введено недопустимое значение индекса, возникает ошибка времени разработки: «Ошибка 0018: Набор данных содержит недопустимые данные».

    В дополнение к группирование набора данных на основе сверток, набор данных можно разделить на две группы: Свертка целевой объект и все остальное. Для этого введите индекс одного свертки и затем выбрать параметр, **Выбор дополнения указанной свертки**, чтобы получить все, кроме данных в указанной свертке.

5. Если вы работаете с несколькими секциями, необходимо добавить дополнительные экземпляры **секционирование и выборка** модуль для обработки каждой секции.

    Например предположим, ранее секционированных пациентов на четыре свертки, с помощью возраст. Для работы с каждой отдельной свертки, необходимо четыре копии **секционирование и выборка** модуля, и в каждом, выберите другой свертки, как показано ниже. Это не так использовать **присвоение сверткам** выходные данные непосредственно.  

    [![Секционирование и выборка](./media/partition-and-sample/partition-and-sample.png)](./media/partition-and-sample/partition-and-sample-lg.png#lightbox)

5. Запустите эксперимент.

    В этом случае модуль выводит один набор данных, содержащий только те строки, назначенных этой свертке.

> [!NOTE]
>  Вы не сможете просматривать обозначениях свертки напрямую; они присутствуют только в метаданных.

## <a name="next-steps"></a>Дальнейшие действия

См. в разделе [набор модулей, доступных](module-reference.md) для службы машинного обучения Azure. 