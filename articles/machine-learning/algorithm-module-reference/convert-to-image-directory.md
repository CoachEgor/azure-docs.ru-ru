---
title: Преобразование в каталог изображений
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль преобразование в каталог изображений для преобразования набора данных в формат каталога изображений.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/09/2020
ms.openlocfilehash: 2e597299c9b157d79a5317c97550fc30820636d6
ms.sourcegitcommit: 541bb46e38ce21829a056da880c1619954678586
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2020
ms.locfileid: "91940376"
---
# <a name="convert-to-image-directory"></a>Преобразование в каталог изображений

В этой статье описывается, как использовать модуль Convert to Image Directory для преобразования набора данных изображений в тип данных *каталога изображений* , который представляет собой стандартизированный формат данных в задачах, связанных с образами, таких как классификация изображений в конструкторе машинное обучение Azure.

## <a name="how-to-use-convert-to-image-directory"></a>Использование Convert to Image Directory  

1. Сначала Подготовьте набор данных образа. 

    Для защищенного обучения необходимо указать метку набора данных для обучения. Файл набора данных изображения должен иметь следующую структуру:
    
    ```
    Your_image_folder_name/Category_1/xxx.png
    Your_image_folder_name/Category_1/xxy.jpg
    Your_image_folder_name/Category_1/xxz.jpeg
    
    Your_image_folder_name/Category_2/123.png
    Your_image_folder_name/Category_2/nsdf3.png
    Your_image_folder_name/Category_2/asd932_.png
    ```
    
    В папке набора данных Image имеется несколько вложенных папок. Каждая вложенная папка содержит изображения одной категории соответственно. Имена вложенных папок рассматриваются как метки для таких задач, как классификация изображений. Дополнительные сведения см. в разделе [торчвисион DataSets](https://pytorch.org/docs/stable/torchvision/datasets.html#imagefolder) .

    > [!WARNING]
    > Наборы данных, помеченные в настоящий момент, экспортированные из меток, не поддерживаются в конструкторе.

    Поддерживаются образы с такими расширениями (в нижнем регистре): ". jpg", ". JPEG", ". png", ". ppm", ". bmp", ". PGM", ". tif", ". TIFF", ". вебп". В одной папке можно также использовать несколько типов образов. Не обязательно содержать одинаковое количество образов в каждой папке категории.

    Можно использовать либо папку, либо сжатый файл с расширением ZIP, tar,. gz и. bz2. **Для повышения производительности рекомендуется использовать сжатые файлы.** 
    
    ![Образец набора данных Image](./media/module/image-sample-dataset.png)

    Для оценки необходимо, чтобы папка набора данных изображений содержала только Неклассифицированные изображения.

1. [Зарегистрируйте набор данных образа в виде файлового набора данных](https://docs.microsoft.com/azure/machine-learning/how-to-create-register-datasets) в рабочей области, так как входные данные преобразования в модуль каталога изображений должны представлять собой **Файловый набор данных**.

1. Добавьте зарегистрированный набор данных изображений на холст. Зарегистрированный набор данных можно найти в категории **наборы** DataSet в списке модуль в левой части холста. В настоящее время конструктор не поддерживает визуализацию набора данных изображений.

    > [!WARNING]
    > Модуль **импорта данных** **нельзя** использовать для импорта набора данных изображений, так как тип выходных данных модуля **Import Data** — это каталог данных, содержащий только строку пути к файлу.

1. Добавьте в холст модуль **преобразовать в каталог изображений** . Этот модуль можно найти в категории "Преобразование данных" Компьютерное зрение/Image "в списке модулей. Подключите его к набору данных образа.
    
3.  Отправьте конвейер. Этот модуль можно запустить либо на GPU, либо на ЦП.

## <a name="results"></a>Результаты

Выходные данные **преобразования в модуль каталога изображений** находятся в формате **каталога изображений** и могут быть подключены к другим модулям, связанным с изображениями, для которых формат входного порта также является каталогом образа.

![Преобразовать в выходные данные каталога образа](./media/module/convert-to-image-directory-output.png)

## <a name="technical-notes"></a>Технические примечания 

###  <a name="expected-inputs"></a>Ожидаемые входные данные  

| Название          | Type                  | Описание   |
| ------------- | --------------------- | ------------- |
| Входной набор данных | Анидиректори, ZipFile | Входной набор данных |

###  <a name="output"></a>Выходные данные  

| Название                   | Type           | Описание            |
| ---------------------- | -------------- | ---------------------- |
| Выходной каталог образа | имажедиректори | Выходной каталог образа |

## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором доступных модулей](module-reference.md) в службе Машинного обучения Azure. 
