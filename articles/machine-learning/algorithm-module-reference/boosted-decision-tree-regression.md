---
title: 'Регрессия повышенного дерева принятия решений: Справочник по модулям'
titleSuffix: Azure Machine Learning service
description: Узнайте, как использовать модуль регрессии увеличивающегося дерева решений в службе Машинное обучение Azure, чтобы создать ансамблей деревьев регрессии с помощью повышения.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ms.openlocfilehash: de4135c2e516eb7f26e1b99a22a60501f4577cce
ms.sourcegitcommit: 07700392dd52071f31f0571ec847925e467d6795
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/28/2019
ms.locfileid: "70128958"
---
# <a name="boosted-decision-tree-regression-module"></a>Модуль регрессии повышенного дерева принятия решений

В этой статье описывается модуль визуального интерфейса (Предварительная версия) для службы Машинное обучение Azure.

Этот модуль используется для создания ансамблей деревьев регрессии с помощью повышения. *Повышение* означает, что каждое дерево зависит от предыдущих деревьев. Алгоритм узнает, как подставить остаток к дереву, предшествующему этому. Таким же увеличением в дереве принятия решений ансамблей, как правило, повышается точность с небольшим риском меньшего объема.  
  
Этот метод регрессии является защищенным методом обучения и, следовательно, требует наличия *помеченного набора данных*. Столбец меток должен содержать числовые значения.  

> [!NOTE]
> Этот модуль следует использовать только с наборами данных, которые используют числовые переменные.  

Определив модель, обучить ее с помощью [модели обучения](./train-model.md).

> [!TIP]
> Хотите узнать больше о созданных деревьях? После обучения модели щелкните правой кнопкой мыши выходные данные модуля [обучение модели](./train-model.md) и выберите **визуализировать** , чтобы увидеть дерево, созданное в каждой итерации. Можно детализировать разбиение по каждому дереву и просмотреть правила для каждого узла.  
  
## <a name="more-about-boosted-regression-trees"></a>Дополнительные сведения о повышенных деревьях регрессии  

Повышение является одним из нескольких классических методов создания моделей ансамблей, а также баггинг, случайных лесов и т. д.  В Машинное обучение Azure повышенные деревья принятия решений используют эффективную реализацию алгоритма усиления градиента КИОСКа. Увеличение градиента — это метод машинного обучения для задач регрессии. Он создает каждое дерево регрессии на пошаговом уровне, используя стандартную функцию потери для измерения ошибки на каждом шаге и исправляет ее в следующем. Поэтому модель прогнозирования на самом деле является ансамблейом более слабых прогнозирующих моделей.  
  
В задачах регрессии повышение производительности создает ряд деревьев на пошаговом уровне, а затем выбирает оптимальное дерево с помощью произвольной функции потери дифферентиабле.  
  
Дополнительные сведения см. в следующих статьях:  
  
+ [https://wikipedia.org/wiki/Gradient_boosting#Gradient_tree_boosting](https://wikipedia.org/wiki/Gradient_boosting)

    В этой статье по росту градиента приводится некоторый опыт в повышенных деревьях. 
  
-  [https://research.microsoft.com/apps/pubs/default.aspx?id=132652](https://research.microsoft.com/apps/pubs/default.aspx?id=132652)  

    Microsoft Research: Из Ранкнет в Ламбдаранк в Ламбдамарт: Обзор. По J.C. Буржес.

Метод повышения градиента можно также использовать для проблем классификации, уменьшая их на регрессию с подходящей функцией потери. Дополнительные сведения о реализации повышенных деревьев для задач классификации см. в разделе высококлассное высокопроизводительное [Дерево принятия решений](./two-class-boosted-decision-tree.md).  

## <a name="how-to-configure-boosted-decision-tree-regression"></a>Как настроить регрессию с повышенным деревом принятия решений

1.  Добавьте в эксперимент модуль **повышенного дерева принятия решений** . Этот модуль можно найти в разделе **машинное обучение**, **Инициализация**в категории **регрессия** . 
  
2.  Укажите, как должна быть обучена модель, установив параметр " **создать режим инструктора** ".  
  
    -   **Один параметр**: Выберите этот параметр, если вы умеете настраивать модель и предоставляете конкретный набор значений в качестве аргументов.  
   
  
3. **Максимальное число конечных элементов на дерево**: Укажите максимальное количество узлов терминалов (листья), которые могут быть созданы в любом дереве.  

    Увеличивая это значение, вы потенциально увеличиваете размер дерева и получаете лучшую точность, с риском перегонки и длительного обучения.  

4. **Минимальное число выборок на конечный узел**: Укажите Минимальное число вариантов, необходимых для создания любого узла терминала (конечного) в дереве.

    Увеличивая это значение, вы увеличиваете порог для создания новых правил. Например, значение по умолчанию, равное 1, может привести к созданию нового правила. Если увеличить значение до 5, то обучающие данные должны содержать по крайней мере 5 вариантов, соответствующих тем же условиям.

5. **Скорость обучения**: Введите число от 0 до 1, определяющее размер шага во время обучения. Скорость обучения определяет, насколько быстро или медленнее выполняется схождение на оптимальном решении. Если размер шага слишком велик, вы можете отклонение оптимальное решение. Если размер шага слишком мал, обучение на лучшее решение занимает больше времени.

6. **Число построенных деревьев**: Укажите общее число деревьев принятия решений, создаваемых в ансамблей. Создавая больше деревьев принятия решений, вы можете получить более эффективное покрытие, но при этом увеличивается время обучения.

    Это значение также управляет количеством деревьев, отображаемых при визуализации обученной модели. Если вы хотите просмотреть или распечатать дерево ингле, можно установить значение 1; Однако создается только одно дерево (дерево с начальным набором параметров), и дальнейшие итерации не выполняются.

7. **Начальное число случайных чисел**: Введите необязательное неотрицательное целое число, которое будет использоваться как значение случайного начального значения. Указание начального значения обеспечивает воспроизводимость между запусками с одинаковыми данными и параметрами.

    По умолчанию случайное начальное значение устанавливается в 0, что означает получение начального начального значения из системных часов.
  
8. **Разрешить неизвестные уровни категорий**: Выберите этот параметр, чтобы создать группу для неизвестных значений в обучающих и проверочных наборах. Если отменить выбор этого параметра, то модель может принимать только значения, содержащиеся в обучающих данных. Модель может быть менее точной для известных значений, но она может предоставлять лучшие прогнозы для новых (неизвестных) значений.

9. Добавьте набор данных для обучения и один из обучающих модулей:

    - Если для параметра **создать режим в режиме преподавателя** задано значение **Single**, используйте модуль [обучение модели](train-model.md) .  
  
    

10. Запустите эксперимент.  
  
### <a name="results"></a>Результаты

После завершения обучения:

+ Чтобы увидеть дерево, созданное при каждой итерации, щелкните правой кнопкой мыши выходные данные модуля [обучение модели](train-model.md) и выберите **визуализировать**.
  
     Щелкните каждое дерево, чтобы получить подробные сведения о разбиении и просмотреть правила для каждого узла.  

+ Чтобы использовать модель для оценки, подключите ее к [модели оценки](./score-model.md), чтобы спрогнозировать значения для новых входных примеров.

+ Чтобы сохранить моментальный снимок обученной модели, щелкните правой кнопкой мыши выходные данные обученной **модели** модуля "обучение" и выберите **Сохранить как**. Копия обученной модели, которую вы сохраняете, не обновляется при последующих запусках эксперимента.

## <a name="next-steps"></a>Следующие шаги

См. [набор модулей, доступных](module-reference.md) машинное обучение Azure службе. 