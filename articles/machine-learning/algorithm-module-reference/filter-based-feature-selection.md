---
title: 'Выбор функции на основе фильтра: ссылка на модуль'
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль выбора функций на основе фильтров в Azure Machine Learning для определения функций в наборе данных с наибольшей прогностической мощностью.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/10/2019
ms.openlocfilehash: c009a98931240e92527035e51fdce3f1c92f5212
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79477601"
---
# <a name="filter-based-feature-selection"></a>Выбор признаков с помощью фильтра

В этой статье описывается, как использовать модуль выбора функций на основе фильтров в дизайнере машинного обучения Azure (предварительный просмотр). Этот модуль поможет определить столбцы в наборе входных данных, которые имеют наибольшую прогностические мощности. 

Как правило, *выбор функций* относится к процессу применения статистических тестов к входным данным с учетом определенного вывода. Цель состоит в том, чтобы определить, какие столбцы являются более предсказуемыми для вывода. Модуль выбора функций на основе фильтра предоставляет несколько алгоритмов выбора функций на выбор. Модуль включает в себя методы корреляции, такие как корреляция Пирсона и значения чи-квадрата. 

При использовании модуля выбора функций на основе фильтра вы предоставляете набор данных и определяете столбец, содержащий метку или зависимую переменную. Затем вы указываете один метод для использования в измерении важности объекта.

Модуль выводит набор данных, содержащий лучшие столбцы функций, ранжированный по прогностической мощности. Он также выводит имена объектов и их оценки из выбранной метрики.  

## <a name="what-filter-based-feature-selection-is"></a>Что такое выбор функций на основе фильтров  

Этот модуль для выбора функций называется «основанным на фильтре», поскольку выбранный метрики используется для поиска неуместных атрибутов. Затем вы отфильтровываете излишние столбцы из модели. Вы выбираете единую статистическую меру, которая соответствует вашим данным, и модуль вычисляет балл для каждого столбца объектов. Столбцы возвращаются, ранжированные по их оценкам функций. 

Выбрав нужные компоненты, вы можете увеличить точность и эффективность классификации. 

Обычно для построения прогностической модели используются только столбцы с лучшими результатами. Столбцы с плохими оценками выбора функций можно оставить в наборе данных и игнорировать при построении модели.  

## <a name="how-to-choose-a-feature-selection-metric"></a>Как выбрать метрику выбора функций

Модуль выбора функций на основе фильтра предоставляет различные метрики для оценки информационной ценности в каждом столбце. В этом разделе приводится общее описание каждой метрики и того, как она применяется. Вы можете найти дополнительные требования для использования каждой метрики в [технических примечаниях](#technical-notes) и в [инструкциях](#how-to-configure-filter-based-feature-selection) по настройке каждого модуля.

-   **Пирсон корреляции**  

    Статистика корреляции Пирсона, или коэффициент корреляции Пирсона, также `r` известна в статистических моделях как значение. Для двух любых переменных он возвращает значение, показывающее степень корреляции.

    Коэффициент корреляции Пирсона вычисляется путем деления ковариации двух переменных на произведение их стандартных отклонений. Изменение масштаба в двух переменных не влияет на коэффициент.  

-   **Чи в квадрате**  

    Двустороннее тестирование хи-квадрат является статистическим методом, позволяющим измерить, насколько фактические результаты близки к ожидаемым значениям. Метод предполагает, что переменные случайны и получены из подходящей выборки независимых переменных. Полученная статистика хи-квадрат указывает, насколько отличаются результаты от ожидаемых (случайных) результатов.  


> [!TIP]
> Если для пользовательского метода выбора функций вам нужен другой вариант, используйте модуль [Execute R Script.](execute-r-script.md) 

## <a name="how-to-configure-filter-based-feature-selection"></a>Как настроить выбор функций на основе фильтра

Вы выбираете стандартную статистическую метрику. Модуль вычисляет корреляцию между парой столбцов: столбец метки и столбец объекта.

1.  Добавьте модуль выбора функций на основе фильтра в конвейер. Вы можете найти его в категории **выбор функций** в дизайнере.

2. Подключите набор входных данных, содержащий по крайней мере два столбца, которые являются потенциальными объектами.  

    Чтобы обеспечить анализ столбца и создание оценки функций, используйте модуль [Edit Metadata](edit-metadata.md) для установки атрибута **IsFeature.** 

    > [!IMPORTANT]
    > Убедитесь, что столбцы, которые вы предоставляете в качестве ввода, являются потенциальными функциями. Например, столбец, содержащий единое значение, не имеет информационного значения.
    >
    > Если вы знаете, что некоторые столбцы создав плохие функции, вы можете удалить их из выбора столбца. Вы также можете использовать модуль [Edit Metadata,](edit-metadata.md) чтобы отметить их как **категоричные.** 
3.  Для **метода оценки функций**выберите один из следующих установленных статистических методов для использования в расчете баллов.  

    | Метод              | Требования                             |
    | ------------------- | ---------------------------------------- |
    | Пирсон корреляции | Этикетка может быть текстовой или числовой. Характеристики должны быть численными. |
    Чи в квадрате| Метки и компоненты могут быть текстовыми или числовыми. Используйте этот метод для создания значения вычислений для двух категориальных столбцов.|

    > [!TIP]
    > Если вы измените выбранную метрику, все остальные выборы будут спрометы. Так что не забудьте установить эту опцию в первую очередь.
4.  Выберите **«Операцию на столбцах функций» только** для того, чтобы создать балл только для столбцов, которые ранее были отмечены как объекты. 

    Если вы очистите эту опцию, модуль создаст балл для любого столбца, который в противном случае соответствует критериям, вплоть до количества столбцов, указанных в **количестве желаемых объектов.**  

5.  Для **столбца Target**выберите **селектор столбца Launch,** чтобы выбрать столбец метки либо по имени, либо по индексу. (Индексы основаны на одном.)  
    Для всех методов, связанных со статистической корреляцией, требуется столбец метки. Модуль возвращает ошибку времени проектирования, если вы выбираете столбец метки или несколько столбцов меток. 

6.  Для **количества желаемых функций**введите число столбцов функций, которые вы хотите вернуть в результате:  

    - Минимальное количество функций, которые можно указать, одно, но мы рекомендуем вам увеличить это значение.  

    - Если указанное число необходимых компонентов больше, чем количество столбцов в наборе данных, возвращаются все компоненты. Возвращаются даже функции с нулевым итогом.  

    - Если указать меньше столбцов результатов, чем столбцов объектов, то объекты ранжируются по нисходящей оценке. Возвращаются только верхние функции. 

7.  Отправить конвейер или выбрать модуль выбора функций на основе фильтра, а затем выберите **выбранный Run.**


## <a name="results"></a>Результаты

После завершения обработки:

+ Чтобы увидеть полный список проанализированных столбцов объектов и их оценки, нажмите на модуль и выберите **Визуализацию.**  

+ Чтобы просмотреть набор данных на основе критериев выбора функций, нажмите на модуль и выберите **Визуализацию.** 

Если набор данных содержит меньше столбцов, чем вы ожидали, проверьте настройки модуля. Также проверьте типы данных столбцов, предоставленных в качестве ввода. Например, если вы установите **Число желаемых объектов** на 1, набор выходных данных содержит только два столбца: столбец метки и наиболее высоко ранжированный столбец функций.


##  <a name="technical-notes"></a>Технические примечания  

### <a name="implementation-details"></a>Сведения о реализации

Если вы используете корреляцию Pearson на численной функции и категорической метке, оценка функции рассчитывается следующим образом:  

1.  Для каждого уровня в категорическом столбце вычислите условное среднее числового столбца.  

2.  Соотвенение столбца условных средств с числовой колонкой.  

### <a name="requirements"></a>Требования  

-   Оценка выбора функций не может быть сгенерирована для любого столбца, обозначенного как столбец **меток** или **оценка.**  

-   Если вы попытаетесь использовать метод скоринга с столбцом типа данных, который метод не поддерживает, модуль вызовет ошибку. Или столбец присваивается нулевой балл.  

-   Если столбец содержит логические (истинные/ложные) `True = 1` значения, они обрабатываются как и `False = 0`.  

-   Столбец не может быть функцией, если она была обозначена как **метка** или **оценка.**  

### <a name="how-missing-values-are-handled"></a>Как обрабатываются недостающие значения  

-   Вы не можете указать в качестве целевого (метки) столбца любой столбец, который имеет все недостающие значения.  

-   Если столбец содержит недостающие значения, модуль игнорирует их при вычислении оценки для столбца.  

-   Если столбец, обозначенный как столбец объекта, имеет все недостающие значения, модуль присваивает нулевую оценку.   


## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором модулей, доступных](module-reference.md) для машинного обучения Azure. 

