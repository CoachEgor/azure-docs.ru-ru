---
title: 'Выбор компонентов на основе фильтра: Справочник по модулям'
titleSuffix: Azure Machine Learning service
description: Узнайте, как использовать модуль выбора компонентов на основе фильтров в службе Машинное обучение Azure, чтобы определить функции в наборе данных с наибольшей прогнозируемой мощностью.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/10/2019
ms.openlocfilehash: ac1421c93f1a4ca42d7f1d94bb898c423c380a57
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73517973"
---
# <a name="filter-based-feature-selection"></a>Выбор компонентов на основе фильтра

В этой статье описывается использование модуля [выбора компонентов на основе фильтров](filter-based-feature-selection.md) в машинное обучение Azure Designer (Предварительная версия) для определения столбцов во входном наборе данных, имеющих наибольшую прогнозируемую мощность. 

Как правило, *Выбор компонентов* относится к процессу применения статистических тестов к входным данным с учетом заданных выходных данных, чтобы определить, какие столбцы являются более прогнозируемыми для выходных данных. Модуль [выбора компонентов на основе фильтра](filter-based-feature-selection.md) предоставляет несколько алгоритмов выбора компонентов для выбора, включая методы корреляции, такие как корреляция Пирсона и значения хи-квадрат. 

При использовании модуля [выбора компонентов на основе фильтров](filter-based-feature-selection.md) вы предоставляете набор данных, определяете столбец, содержащий метку или зависимую переменную, а затем указываете один метод для использования при измерении важности признаков.

Модуль выводит набор данных, содержащий лучшие столбцы функций в соответствии со степенью прогнозной мощности. Он также выводит имена компонентов и их оценки из выбранной метрики.  

### <a name="what-is-filter-based-feature-selection-and-why-use-it"></a>Что такое выбор компонентов на основе фильтра и зачем им пользоваться?  

Этот модуль для выбора компонентов называется "на основе фильтра", так как выбранная метрика используется для обнаружения ненужных атрибутов и фильтрации избыточных столбцов из модели.  Вы выбираете одну статистическую меру, удовлетворяющую Вашим данным, и модуль вычисляет оценку для каждого столбца функции. Столбцы возвращаются в соответствии с рейтингом их функций. 

Выбрав нужные функции, вы потенциально сможете повысить точность и эффективность классификации. 

Для создания прогнозной модели обычно используются только столбцы с лучшими показателями. Столбцы с неудовлетворительными показателями выбора компонентов могут остаться в наборе данных и игнорироваться при построении модели.  

### <a name="how-to-choose-a-feature-selection-metric"></a>Выбор метрики выбора компонентов

**Выбор компонентов на основе фильтра** предоставляет разнообразные метрики для оценки информационных значений в каждом столбце.  В этом разделе приводится общее описание каждой метрики и ее применение. Дополнительные требования к использованию каждой метрики приведены в разделе [Технические примечания](#technical-notes) и в [инструкциях](#how-to-configure-filter-based-feature-selection) по настройке каждого модуля.

-   **Корреляция Пирсона**  

     Статистика корреляции Пирсона или коэффициент корреляции Пирсона также известны в статистических моделях как значение `r`. Для всех двух переменных возвращается значение, указывающее стойкость корреляции.

     Коэффициент корреляции Пирсона вычисляются путем взятия ковариации двух переменных и деления их на произведение их стандартных отклонений. На коэффициент не влияют изменения масштаба в двух переменных.  

-   **Хи с квадратом**  

     Двусторонний тест хи-квадрат является статистическим методом, который измеряет, насколько близкие ожидаемые значения являются реальными результатами. Метод предполагает, что переменные являются случайными и рисуются из адекватной выборки независимых переменных. Полученный статистический показатель хи-квадрат указывает, насколько далеко результаты получены из ожидаемого (случайного) результата.  


> [!TIP]
> Если для пользовательского метода выбора компонентов требуется другой параметр, используйте модуль [выполнить сценарий R](execute-r-script.md) . 
##  <a name="how-to-configure-filter-based-feature-selection"></a>Настройка выбора компонентов на основе фильтра

Вы выбираете стандартную статистическую метрику, и модуль рассчитывает корреляцию между парой столбцов: столбец меток и столбец функции.

1.  Добавьте модуль **выбора компонентов на основе фильтра** в конвейер. Его можно найти в категории **Выбор компонентов** в конструкторе.

2. Подключите входной набор данных, содержащий по крайней мере два столбца, которые являются потенциальными функциями.  

    Чтобы убедиться в том, что столбец должен быть проанализирован и сформирована Оценка функции, используйте модуль [изменение метаданных](edit-metadata.md) для задания атрибута « **Feature** ». 

    > [!IMPORTANT]
    > Убедитесь, что предоставленные в качестве входных данных столбцы являются потенциальными функциями. Например, столбец, содержащий одно значение, не имеет информационного значения.
    >
    > Если известно, что имеются столбцы, которые сделают неправильные функции, их можно удалить из выбранного столбца. Можно также использовать модуль [изменение метаданных](edit-metadata.md) , чтобы пометить их как категории **категорий**. 
3.  Для **метода оценки компонентов**выберите один из следующих установленных статистических методов для вычисления оценок.  

    | Метод              | Требования                             |
    | ------------------- | ---------------------------------------- |
    | Корреляция Пирсона | Метка может быть текстовой или цифровой. Функции должны быть числовыми. |
    Хи с квадратом| Метки и функции могут быть текстовыми или числовыми. Используйте этот метод для вычисления важности функций для двух столбцов категорий.|

    > [!TIP]
    > При изменении выбранной метрики все остальные параметры будут сброшены, поэтому обязательно установите этот параметр.)
4.  Выберите параметр использовать **только столбцы компонентов** , чтобы создать оценку только для тех столбцов, которые ранее были помечены как функции. 

    Если вы отмените выбор этого параметра, модуль создаст оценку для любого столбца, который в противном случае соответствует заданным условиям, вплоть до количества столбцов, указанного в поле **число требуемых функций**.  

5.  В поле **целевой столбец**щелкните **запустить селектор столбцов** , чтобы выбрать столбец меток по имени или по его индексу (индексы основаны на единицах).  

     Столбец меток является обязательным для всех методов, которые используют статистическую корреляцию. Модуль возвращает ошибку времени разработки, если не выбран столбец меток или несколько столбцов меток. 

6.  Для параметра **число требуемых функций**введите число возвращаемых столбцов компонентов.  

     - Минимальное число компонентов, которое можно указать, равно 1, но рекомендуется увеличить это значение.  

     - Если указанное число требуемых функций больше числа столбцов в наборе данных, возвращаются все компоненты, даже те, для которых нулевые показатели.  

    - Если указать меньшее количество столбцов результатов, чем столбцы функций, то функции будут ранжированы по убыванию, а возвращаются только первые функции. 

7.  Запустите конвейер или выберите модуль [Выбор компонентов на основе фильтра](filter-based-feature-selection.md) , а затем щелкните **Выполнить выбранные**.


## <a name="results"></a>Результаты

После завершения обработки:

+ Чтобы просмотреть полный список проанализированных столбцов компонентов и их оценки, щелкните правой кнопкой мыши модуль, выберите пункт **компоненты**и нажмите кнопку **визуализировать**.  

+ Чтобы просмотреть набор данных, созданный на основе критериев выбора компонентов, щелкните правой кнопкой мыши модуль, выберите **набор данных**и нажмите кнопку **визуализировать**. 

Если набор данных содержит меньшее количество столбцов, чем ожидалось, проверьте параметры модуля и типы данных столбцов, предоставленных в качестве входных. Например, если задать для **параметра число требуемых функций** значение 1, то выходной набор данных будет содержать только два столбца: столбец меток и самый высокий ранговый столбец функций.


##  <a name="technical-notes"></a>Технические примечания  

### <a name="implementation-details"></a>Сведения о реализации

При использовании корреляции Пирсона для числовой функции и метки категории Оценка функции вычисляется следующим образом:  

1.  Для каждого уровня в столбце Категория вычисляется условное значение числового столбца.  

2.  Сопоставьте столбец условных средств с числовым столбцом.  

### <a name="requirements"></a>Требования  

-   Оценка выбора компонентов не может быть создана для любого столбца, обозначенного как **Метка** или как столбец **оценки** .  

-   При попытке использовать метод оценки со столбцом типа данных, который не поддерживается методом, то либо модуль выдаст ошибку, либо для столбца будет назначен нулевой показатель.  

-   Если столбец содержит логические значения (true/false), они обрабатываются как true = 1 и false = 0.  

-   Столбец не может быть компонентом, если он обозначен как **Метка** или **Оценка**.  

### <a name="how-missing-values-are-handled"></a>Как обрабатываются отсутствующие значения  

-   Невозможно указать в качестве целевого столбца (метки) столбец, содержащий все отсутствующие значения.  

-   Если столбец содержит отсутствующие значения, они игнорируются при вычислении оценки для столбца.  

-   Если столбец, обозначенный как столбец функции, имеет все отсутствующие значения, присваивается нулевая оценка.   


## <a name="next-steps"></a>Дальнейшие действия

См. [набор модулей, доступных](module-reference.md) машинное обучение Azure службе. 

