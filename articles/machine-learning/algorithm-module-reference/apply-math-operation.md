---
title: Применение математической операции
titleSuffix: Azure Machine Learning
description: Узнайте, как использовать модуль Прикладной операции по математике в Azure Machine Learning для применения математической операции к значениям столбцов в конвейере.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 09/09/2019
ms.openlocfilehash: 2b4d6939aa1db4b8321c792898ed421c0d16cc99
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79456749"
---
# <a name="apply-math-operation"></a>Применение математической операции

В этой статье описывается модуль дизайнера машинного обучения Azure (предварительный просмотр).

Используйте операцию Apply Math для создания вычислений, которые применяются к числовым столбикам в наборе входных данных. 

Поддерживаемые математические операции включают общие арифметические функции, такие как умножение и деление, тригонометрические функции, различные функции округления и специальные функции, используемые в науке о данных, такие как гамма и функции ошибок.  

После определения операции и запуска конвейера значения добавляются в набор данных. В зависимости от того, как вы настраиваете модуль, вы можете:

+ Приложите результаты к набору данных. Это особенно полезно при проверке результата операции.
+ Замените значения столбцов новыми, вычисленные значения.
+ Создайте новый столбец для результатов, а не отображайте исходные данные. 

Ищите необходимые операции в следующих категориях:  

- [Basic](#basic-math-operations)  
  
     Функции в категории **«Основная»** могут использоваться для управления одним значением или столбецом значений. Например, можно получить абсолютное значение всех чисел в столбце или рассчитать квадратный корень каждого значения в столбце.  
  
-   [Сравнить](#comparison-operations)  
  
      Функции в категории **Сравнить** все используются для сравнения: вы можете сделать пару-мудрый сравнение значений в двух столбцах, или вы можете сравнить каждое значение в столбце к указанной константе. Например, можно сравнить столбцы, чтобы определить, были ли значения одинаковыми в двух наборах данных. Или можно использовать константу, например максимально допустимое значение, для поиска выбросов в числовом столбце.  
  
-   [Операции](#arithmetic-operations)  
  
     Категория **операций** включает основные математические функции: добавление, вычитание, умножение и деление. Вы можете работать с столбцов или констант. Например, можно добавить значение в столбце А к значению в столбце B. Или можно вычесть константу, такую как ранее рассчитанное среднее значение, из каждого значения в колонке А.  
  
-   [Округление](#rounding-operations)  
  
     Категория **округления** включает в себя различные функции для выполнения операций, таких как округление, потолок, пол и усечение до различных уровней точности. Можно указать уровень точности как для десятичных, так и для целых чисел.  
  
-   [Специальные](#special-math-functions)  
  
     **Специальная** категория включает математические функции, которые особенно используются в науке о данных, такие как эллиптические интегралы и функция гауссовской ошибки.  
  
-   [Тригонометрические функции](#trigonometric-functions)  
  
     **Тригонометрическая** категория включает в себя все стандартные тригонометрические функции. Например, можно преобразовать радианов в степени или вычислить такие функции, как касательные как радий, либо в радиане.
     Эти функции являются неоспоримыми, что означает, что они берут один столбец значений в качестве ввода, применяют тригонометрическую функцию и возвращают столбец значений в результате.  Поэтому необходимо убедиться, что столбец ввода является подходящим типом и содержит правильный вид значений для указанной операции.   

## <a name="how-to-configure-apply-math-operation"></a>Как настроить Применить Математика операции  

Модуль **Прикладной операции по математике** требует набора данных, который содержит по крайней мере один столбец, содержащий только числа. Цифры могут быть дискретным или непрерывным, но должны быть численного типа данных, а не строки.

Можно применить одну и ту же операцию к нескольким числовым столбцам, но все столбцы должны находиться в одном наборе данных. 

Каждый экземпляр этого модуля может выполнять только один тип операции одновременно. Для выполнения сложных математических операций может потребоваться сгвуйте воедино несколько экземпляров модуля **Прикладной математической операции.**  
  
1.  Добавьте модуль **«Применить математику»** в конвейер.

1. Подключите набор данных, содержащий по крайней мере один числовый столбец.  

1.  Выберите одну или несколько исходных столбцов, на которых выполняется вычисление.   
  
    - Любой столбец, который вы выберете, должен быть типом численных данных. 
    - Диапазон данных должен быть действителен для выбранной математической операции. В противном случае может возникнуть ошибка или будет получен результат NaN ("не число"). Например, Ln (-1.0) является недействительной операцией `NaN`и приводит к значению .
  
1.  Нажмите **Категория,** чтобы выбрать **тип** математической операции для выполнения.
    
1. Выберите конкретную операцию из списка в этой категории.
  
1.  Установите дополнительные параметры, требуемые каждым типом операции.  
  
1.  Используйте опцию **режима вывода,** чтобы указать, как вы хотите, чтобы математические операции были созданы: 

    - **Append**. Все столбцы, используемые в качестве входных данных, включены в набор данных вывода, плюс один дополнительный столбец, содержащий результаты операции по математике.
    - **На месте**. Значения в столбцах, используемых в качестве входных данных, заменяются новыми расчетными значениями. 
    - **Результаттолько**. Возвращается одна колонка, содержащая результаты математического операции.
  
1.  Отправить конвейер.  
  
## <a name="results"></a>Результаты

Если вы создаете результаты с помощью параметров **Append** или **ResultOnly,** заголовки столбцов возвращенного набора данных указывают операцию и используемые столбцы. Например, если сравнить две колонки с помощью оператора **Equals,** результаты будут выглядеть следующим образом:  
  
-   **Равные (Col2_Col1)**, указывая, что вы тестировали Col2 против Col1.  
-   **Равные (Col2_ $10)**, указывая, что вы сравнили столбец 2 с постоянным 10.  

Даже если вы используете опцию **Inplace,** исходные данные не удаляются и не изменяются; столбец в исходном наборе данных по-прежнему доступен в конструкторе. Для просмотра исходных данных можно подключить модуль [«Добавленные столбцы»](add-columns.md) и присоединиться к выходу **операции Apply Math.**  
    
## <a name="basic-math-operations"></a>Основные математические операции 

Функции в категории **«Основная»** обычно берут одно значение из столбца, выполняют заданную операцию и возвращают одно значение. Для некоторых функций можно указать константу или столбец, установленный в качестве второго аргумента.  
  
 Azure Machine Learning поддерживает следующие функции в **категории Basic:**  

### <a name="abs"></a>Abs

Возвращает абсолютное значение выбранных столбцов.  
  
### <a name="atan2"></a>Atan2

Возвращает арктангенс двух переменных.  

Выберите столбцы, содержащие точечные координаты. Для второго аргумента, который соответствует X-координации, можно также указать константу.  

Соответствует функции ATAN2 в Matlab.  

### <a name="conj"></a>Conj

Возвращает конъюгдля для значений в выбранном столбце.  

### <a name="cuberoot"></a>CubeRoot

Вычисляет корень куба для значений в выбранном столбце.  

### <a name="doublefactorial"></a>DoubleFactorial  
 Вычисляет двойной факториал для значений в выбранном столбце. Двойной факторявляется является продолжением нормальной факторной функции, и обозначается как x!!.  

### <a name="eps"></a>Eps

Возвращает разницу между текущим значением и следующим наибольшим числом двойной точности. Соответствует функции EPS в Matlab.  
  
### <a name="exp"></a>Exp

Возвращает e, поднятое на мощность значения в выбранном столбце. Это то же самое, что функция Excel EXP.  

### <a name="exp2"></a>Exp2

Возвращает показатель ный базовый-2 аргументов, решая для y х х 2<sup>т,</sup> где t представляет собой столбец значений, содержащих экспоненты.  

В **наборе столбцов**выберите столбец, содержащий экспоненциатные значения t.

Для **Exp2** можно указать второй аргумент x, который может быть либо постоянным, либо другим столбцом значений. В **типе Второго аргумента**укажите, будет ли вы предоставлять множитель x в качестве константы или значение в столбце.  

Например, если вы выберете {0,1,2,3,4,5} столбец со значениями как для множителя, так и для экспонента, функция возвращает 0, 2, 8, 24, 64 160.  

### <a name="expminus1"></a>ExpMinus1 

Возвращает отрицательный показатель для значений в выбранном столбце.  

### <a name="factorial"></a>Факториал
Возвращает факторий для значений в выбранном столбце.  

### <a name="hypotenuse"></a>Hypotenuse
Вычисляет гипотенуза для треугольника, в котором длина одной стороны указана как столбец значений, а длина второй стороны указывается либо как константа, либо как две колонны.  

### <a name="ln"></a>Натуральный логарифм

Возвращает естественный logarithm для значений в выбранном столбце.  

### <a name="lnplus1"></a>LnPlus1

Возвращает естественный logarithm плюс одно для значений в выбранном столбце.  

### <a name="log"></a>Журнал

Возвращает логарифм значений в выбранном столбце по заданному основанию.  

Можно указать базу (второй аргумент) либо как постоянную, либо выбрав другой столбец значений.  

### <a name="log10"></a>Log10

Возвращает базовые значения 10 logarithm для выбранного столбца.  

### <a name="log2"></a>Log2

Возвращает базовые значения logarithm для выбранного столбца.  

### <a name="nthroot"></a>NthRoot
Возвращает n-й корень значения, используя n, который вы указываете.  

Выберите столбцы, для которых вы хотите вычислить корень, используя опцию **ColumnSet.**  

В **типе «Второй аргумент»** выберите другой столбец, содержащий корень, или укажите константу для использования в качестве корня.  

Если второй аргумент является столбцом, каждое значение в столбце используется в качестве значения n для соответствующего строки. Если второй аргумент является постоянным, введите значение для n в **текстовом поле Второго аргумента.**
### <a name="pow"></a>Pow

Вычисляет X, поднятый до силы Y для каждого из значений в выбранном столбце.  

Во-первых, выберите столбцы, которые содержат **базу,** которая должна быть поплавком, используя опцию **ColumnSet.**  

В **типе «Второй аргумент»** выберите столбец, содержащий экспонент, или укажите константу для использования в качестве экспонента.  

Если в качестве типа второго аргумента выбран столбец, каждое значение в столбце используется как показатель степени для соответствующей строки. Если второй аргумент является постоянным, введите значение для экспонента в **текстовом поле Второго аргумента.**  

### <a name="sqrt"></a>Sqrt

Возвращает квадратный корень значений в выбранном столбце.  

### <a name="sqrtpi"></a>SqrtPi

Для каждого значения в выбранном столбце умножается значение по pi, а затем возвращает квадратный корень результата.  

### <a name="square"></a>Square

Квадраты значений в выбранной колонке.  

## <a name="comparison-operations"></a>операции сравнения;  

Используйте функции сравнения в дизайнере машинного обучения Azure в любое время, когда вам нужно протестировать два набора значений друг против друга. Например, в конвейере может потребоваться вывести эти операции сравнения:  

- Оцените модель столбца вероятностных оценок по отношению к пороговому значению.
- Определите, одинаковы ли два набора результатов. Для каждой строки, которая отличается, добавьте флаг FALSE, который может быть использован для дальнейшей обработки или фильтрации.  

### <a name="equalto"></a>EqualTo

Возвращает Правда, если значения одинаковы.  

### <a name="greaterthan"></a>GreaterThan

Возвращает True, если значения в **наборе столбцов** превышают указанную константу, или превышают соответствующие значения в столбце сравнения.  

### <a name="greaterthanorequalto"></a>GreaterThanOrEqualTo

Возвращает Правда, если значения в **наборе столбцов** больше или равны указанной константе, или больше или равны соответствующим значениям в столбце сравнения.  

### <a name="lessthan"></a>LessThan;

Возвращает True, если значения в **наборе столбцов** меньше указанной константы, или меньше соответствующих значений в столбце сравнения.  
  
### <a name="lessthanorequalto"></a>LessThanOrEqualTo

Возвращает True, если значения в **наборе столбцов** меньше или равны указанной константе, или меньше или равны соответствующим значениям в столбце сравнения.  

### <a name="notequalto"></a>NotEqualTo

Возвращает значение True, если значения, заданные в поле **Набор столбцов**, не равны константе или значениям в столбце сравнения, и значение False в противном случае.  

### <a name="pairmax"></a>PairMax

Возвращает значение, которое больше, — значение в **Наборе столбцов** или значение в столбце констант или сравнения.  

### <a name="pairmin"></a>PairMin

Возвращает значение меньшее значение в **наборе столбца** или значение в столбце константы или сравнение  
  
##  <a name="arithmetic-operations"></a>Арифметические операции   

Включает в себя основные арифметические операции: добавление и вычитание, деление и умножение.  Поскольку большинство операций являются двоичными, требующими двух чисел, сначала вы выбираете операцию, а затем выбираете столбец или числа для использования в первом и втором аргументах.

Порядок выбора столбцов для деления и вычитания может показаться нелогичным; однако, чтобы облегчить понимание результатов, в заголовке столбца приводится название операции и порядок использования столбцов.

Операция|Num1|Num2|Колонка результата|Значение результата|
----|----|----|----|----
|Сложение|1|5|Добавить (Num2_Num1)| 4|
|Умножение|1|5|Несколько(Num2_Num1)|5|
|Вычитание|1|5|Вычитание (Num2_Num1)|4|
|Вычитание|0|1|Вычитание (Num2_Num1)|0|
|Деление|1|5|Разделите (Num2_Num1)|5|
|Деление|0|1|Разделите (Num2_Num1)|Infinity|

### <a name="add"></a>Добавить

Укажите столбцы исхода с помощью **набора столбцов,** а затем добавьте к этим значениям число, указанное во **втором аргументе.**  

Чтобы добавить значения в две столбцы, выберите столбец или столбцы с помощью **набора колонки,** а затем выберите второй столбец с помощью **второго аргумента.**  

### <a name="divide"></a>Деление

Разделяет значения в **столбце, установленные** постоянными или значениями столбца, **определенными**во втором аргументе.  Другими словами, вы выбираете девизора, а затем дивиденды. Значение вывода является фактором.

### <a name="multiply"></a>Умножение

Умножает значения в **наборе столбцов** на указанную константу или значения столбца.  

### <a name="subtract"></a>Вычитание

Укажите столбец значений для работы *(minuend),* выбрав другой столбец, используя параметр **набора столбцов.** Затем укажите число, чтобы вычесть *(subtrahend*) с помощью списка выпадения **второго аргумента.** Вы можете выбрать либо постоянную, либо колонку значений.

##  <a name="rounding-operations"></a>Операции округления 

Дизайнер Машинного обучения Azure поддерживает различные операции округления. Для многих операций необходимо указать количество точности в использовании при округление. Можно использовать либо статический уровень точности, указанный как константа, либо применить динамическое значение точности, полученное из столбца значений.  

- Если вы используете постоянную, установите **Precision Type** на **Constant,** а затем введите число цифр в качестве целых в **текстовом** ящике Constant Precision. При вводе несежек модуль не вызывает ошибки, но результаты могут быть неожиданными.  

- Чтобы использовать различное значение точности для каждой строки в наборе данных, установите **тип точности** на **ColumnSet,** а затем выберите столбец, содержащий соответствующие значения точности.  

### <a name="ceiling"></a>Ceiling

Возвращает наибольшее значение в **наборе столбцов**.  

### <a name="ceilingpower2"></a>CeilingPower2

Возвращает квадрат наибольшего значения в **наборе столбцов**.  

### <a name="floor"></a>Этаж

Возвращает наименьшее значение в **наборе столбцов** с заданной точностью.  

### <a name="mod"></a>Mod

Возвращает наименьшую дробную часть значения в **наборе столбцов** с заданной точностью.  

### <a name="quotient"></a>Частное

Возвращает наименьшую дробную часть значения в **наборе столбцов** с заданной точностью.  

### <a name="remainder"></a>Остаток

Возвращает остаток для значений в **наборе столбцов**.  

### <a name="rounddigits"></a>RoundDigits

Возвращает значения в **наборе столбцов**, округленные до указанного количества цифр по правилу 4/5.  

### <a name="rounddown"></a>RoundDown

Возвращает значения в **наборе столбцов**, округленные к меньшему значению с указанной точностью.  

### <a name="roundup"></a>RoundUp

Возвращает значения в **наборе столбцов**, округленные к большему значению с указанной точностью.  

### <a name="toeven"></a>ToEven

Возвращает значения в **Наборе столбцов**, округленные до ближайшего целого четного числа.  

### <a name="toodd"></a>ToOdd

Возвращает значения в **Наборе столбцов**, округленные до ближайшего целого нечетного числа.  

### <a name="truncate"></a>Truncate

Усекает значения, заданные в **Наборе столбцов**, удаляя все цифры, которых не должно быть при заданной точности.  
  
## <a name="special-math-functions"></a>Специальные математические функции

Эта категория включает в себя специализированные математические функции, часто используемые в науке о данных. Если не указано иное, функция является необоснованной и возвращает указанный расчет для каждого значения в выбранном столбце или столбцах.  

### <a name="beta"></a>Бета-версия

Возвращает значение бета-функции Эйлера.  

### <a name="ellipticintegrale"></a>EllipticIntegralE
Возвращает значение неполного эллиптической интегральной.  
  

### <a name="ellipticintegralk"></a>EllipticIntegralK

Возвращает значение полного эллиптического интеграла (K).  

### <a name="erf"></a>Erf

Возвращает значение функции ошибок.  

Функция ошибок (также называемая функцией ошибок Гаусса) — это специальная сигмоидальная функция, которая используется для описания распределения вероятностей.  

### <a name="erfc"></a>Erfc

Возвращает значение дополнительной функции ошибок.  

Erfc определяется как 1 - erf(x).  

### <a name="erfscaled"></a>ErfScaled

Возвращает значение нормированной функции ошибок.  

Эту версию функции ошибок можно использовать во избежание потери точности арифметических вычислений.  

### <a name="erfinverse"></a>ErfInverse

Возвращает значение обратной функции ошибок.  

### <a name="exponentialintegralein"></a>ExponentialIntegralEin

Возвращает значение экспоненциального интегрального Ei.  

### <a name="gamma"></a>Gamma

Возвращает значение гамма-функции.  

### <a name="gammaln"></a>GammaLn

Возвращает натуральный логарифм гамма-функции.  

### <a name="gammaregularizedp"></a>GammaRegularizedP

Возвращает значение регуляризованной неполной гамма-функции.  

Эта функция требует второго аргумента, который может быть предоставлен либо в качестве постоянной или столбеца значений.  

### <a name="gammaregularizedpinverse"></a>GammaRegularizedPInverse

Возвращает значение обратной регуляризованной неполной гамма-функции.  

Эта функция требует второго аргумента, который может быть предоставлен либо в качестве постоянной или столбеца значений.  

### <a name="gammaregularizedq"></a>GammaRegularizedQ  

Возвращает значение регуляризованной неполной гамма-функции.  

Эта функция требует второго аргумента, который может быть предоставлен либо в качестве постоянной или столбеца значений.  

### <a name="gammaregularizedqinverse"></a>GammaRegularizedQInverse

Возвращает значение обратной обобщенной регуляризованной неполной гамма-функции.

Эта функция требует второго аргумента, который может быть предоставлен либо в качестве постоянной или столбеца значений.  

### <a name="polygamma"></a>PolyGamma

Возвращает значение полигамма-функции.  

Эта функция требует второго аргумента, который может быть предоставлен либо в качестве постоянной или столбеца значений.

##  <a name="trigonometric-functions"></a>Тригонометрические функции 

Эта категория iВключает в себя большинство важных тригонометрических и обратных тригонометрических функций. Все тригонометрические функции являются унарными и не требуют дополнительных аргументов.  

### <a name="acos"></a>Acos

Вычисляет арккосин для значений столбца.  

### <a name="acosdegree"></a>АкосГрадус

Вычисляет arccosine значений столбца, в градусах.  

### <a name="acosh"></a>Акош

Вычисляет гиперболический арккозин значений столбца.  

### <a name="acot"></a>Acot

Вычисляет arccotangent значений столбца.  

### <a name="acotdegrees"></a>AcotDegrees

Вычисляет arccotangent значений столбца, в градусах.  

### <a name="acoth"></a>Акот

Вычисляет гиперболический дугкотанген значений столбца.  

### <a name="acsc"></a>Acsc

Вычисляет арккосекант значений столбца.  

### <a name="acscdegrees"></a>Асксксаксы

Вычисляет арккосекант значений столбца, в градусах.  
### <a name="asec"></a>Asec

Вычисляет аргсекант значений столбца.  

### <a name="asecdegrees"></a>АсекАсы

Вычисляет аргсекант значений столбца, в градусах.  

### <a name="asech"></a>Asech

Вычисляет гиперболический арксекант значений столбца.  

### <a name="asin"></a>Asin

Вычисляет дуговые значения столбца.  

### <a name="asindegrees"></a>AsinDegrees

Вычисляет дуговые значения столбца в градусах.  

### <a name="asinh"></a>Asinh

Вычисляет гиперболический дугидля значений столбца.  

### <a name="atan"></a>Atan

Вычисляет arctangent значений столбца.  

### <a name="atandegrees"></a>AtanDegrees

Вычисляет arctangent значений столбца, в градусах.  

### <a name="atanh"></a>Atanh

Вычисляет гиперболический дугтант значения столбца.  

### <a name="cos"></a>Cos

Вычисляет cosine значений столбца.  

### <a name="cosdegrees"></a>CosDegrees

Вычисляет cosine для значений столбца, в градусах.  

### <a name="cosh"></a>Cosh

Вычисляет гиперболический косин для значений столбца.  

### <a name="cot"></a>Cot

Вычисляет котанген для значений столбца.  

### <a name="cotdegrees"></a>CotDegrees

Вычисляет котанген для значений столбца, в градусах.  

### <a name="coth"></a>Coth
Вычисляет гиперболический котанген для значений столбца.  

### <a name="csc"></a>Csc

Вычисляет соскант для значений столбца.  

### <a name="cscdegrees"></a>CscDegrees

Вычисляет соскант для значений столбца, в градусах.  

### <a name="csch"></a>Csch

Вычисляет гиперболический косекант для значений столбца.  

### <a name="degreestoradians"></a>DegreesToRadians

Преобразует градусы в радианы.  

### <a name="sec"></a>Sec

Вычисляет секант значений столбца.  

### <a name="asecdegrees"></a>aSecDegrees

Вычисляет секант для значений столбца, в градусах.  

### <a name="asech"></a>aSech

Вычисляет гиперболический секрет значений столбца.  

### <a name="sign"></a>вход;

Возвращает знак значений столбца.  

### <a name="sin"></a>Sin

Вычисляет синус значений столбца.  

### <a name="sinc"></a>Sinc

Вычисляет синусоидатое значение значений столбца.  

### <a name="sindegrees"></a>SinDegrees

Вычисляет синус для значений столбца, в градусах.  

### <a name="sinh"></a>Sinh

Вычисляет гиперболическую синусоигу значений столбца.  

### <a name="tan"></a>Tan

Вычисляет касательную значений столбца.  

### <a name="tandegrees"></a>TanDegrees

Вычисляет касательную аргумента, в градусах.  

### <a name="tanh"></a>Tanh

Вычисляет гиперболическую касательную значения столбца.  
  
## <a name="technical-notes"></a>Технические примечания

Будьте осторожны при выборе нескольких столбцов в качестве второго оператора. Результаты легко понять, если операция проста, например, добавление константы ко всем столбикам. 

Предположим, что ваш набор данных имеет несколько столбцов, и вы добавляете набор данных к себе. В результатах каждый столбец добавляется к себе следующим образом:  
  
|Num1|Num2|Нум3|Добавить (Num1_Num1)|Добавить (Num2_Num2)|Добавить (Num3_Num3)|
|----|----|----|----|----|----|
|1|5|2|2|10|4|
|2|3|-1|4|6|-2|
|0|1|-1|0|2|-2|

Если вам необходимо выполнить более сложные вычисления, можно зацепить несколько экземпляров **операции Apply Math.** Например, можно сложить два столбца с помощью одного экземпляра **Применения математической операции**, а затем с помощью другого экземпляра **Применения математической операции** разделить эту сумму на константу, чтобы получить среднее значение.  
  
Кроме того, используйте один из следующих модулей, чтобы сделать все вычисления одновременно, используя скрипт S'L, R или Python:
 
+ [Выполнение сценария R](execute-r-script.md)
+ [Выполнение скриптов Python](execute-python-script.md)
+ [Применение преобразования SQL](apply-sql-transformation.md)   
  
## <a name="next-steps"></a>Дальнейшие действия

Ознакомьтесь с [набором модулей, доступных](module-reference.md) для машинного обучения Azure. 
