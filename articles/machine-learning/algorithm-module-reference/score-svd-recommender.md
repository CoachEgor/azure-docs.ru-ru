---
title: 'SVD рекомендации по оценке: Справочник по модулям'
titleSuffix: Azure Machine Learning service
description: Узнайте, как использовать модуль рекомендации "Оценка SVD" в службе Машинное обучение Azure для оценки прогнозов рекомендаций для набора данных.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/10/2019
ms.openlocfilehash: 25de69873857512a70d6417973d4a85883ac6455
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73517921"
---
# <a name="score-svd-recommender"></a>SVD рекомендации по оценке

В этой статье описывается, как использовать модуль **рекомендуемого SVD для оценки** в конструкторе машинное обучение Azure (Предварительная версия). Этот модуль используется для создания прогнозов с помощью модели обученной рекомендации на основе алгоритма SVD (однозначная декомпозиция).

SVD рекомендации могут формировать два различных типа прогнозов:

- [Прогноз оценки для указанных пользователя и объекта](#predict-ratings)

- [Рекомендация объекта данному пользователю](#recommend)

При создании прогнозов второго типа можно выполнять операции в *рабочем режиме* или в *режиме оценки*.

- В **рабочем режиме** учитываются все пользователи и элементы и обычно используется в веб-службе.

    Вы можете создавать оценки для новых пользователей, а не только для пользователей во время обучения. Дополнительные сведения см. в [этом разделе](#technical-notes). 

- **Режим оценки** применяется к ограниченному набору пользователей или элементов, которые можно оценивать, и обычно используются во время конвейера.

Дополнительные сведения о алгоритме рекомендации SVD см. в справочном документе: [методики факторинга матрицы для рекомендуемых систем](https://datajobs.com/data-science-repo/Recommender-Systems-[Netflix].pdf).

                                                                                                                                    


## <a name="how-to-configure-score-svd-recommender"></a>Как настроить рекомендацию по оценке SVD

Этот модуль поддерживает различные типы рекомендаций, каждый из которых имеет различные требования. Щелкните ссылку для типа данных и тип рекомендации, которую необходимо создать.

+ [Прогнозирование оценок](#predict-ratings)
+ [Рекомендовать элементы](#recommend)

###  <a name="predict-ratings"></a>Прогнозирование оценок

При прогнозировании оценок модель вычисляет, как заданный пользователь будет реагировать на конкретный элемент, учитывая данные для обучения. Поэтому входные данные для оценки должны обеспечивать оценку как пользователя, так и элемента.

1. Добавьте в конвейер модель с обученной рекомендацией и подключите ее к **обученному SVD рекомендации**.  Необходимо создать модель, используя [рекомендацию Train SVD](train-SVD-recommender.md).

2. **Тип рекомендуемого прогноза**: выберите **Прогноз рейтинга**. Дальнейшие параметры не требуются.

3. Добавьте данные, для которых вы хотите сделать прогнозы, и подключите их к **набору данных для оценки**.

    Для прогнозирования оценок входной набор данных должен содержать пары "пользователь-элемент".

    Набор данных может содержать необязательный третий столбец оценок для пары "пользователь-элемент" в первом и втором столбцах, но третий столбец будет игнорироваться во время прогнозирования.

4. Запустили конвейер.

### <a name="results-for-rating-predictions"></a>Результаты прогнозов оценок 

Выходной набор данных содержит три столбца, содержащие пользователя, элемент и прогнозируемую оценку для каждого входного пользователя и элемента.

###  <a name="recommend"></a>Рекомендовать 

Чтобы рекомендовать элементы для пользователей, необходимо предоставить список пользователей и элементов в качестве входных данных. На основе этих данных модель использует свои знания о существующих элементах и пользователях для создания списка элементов, которые могут оказаться привлекательными для каждого пользователя. Можно настроить количество возвращаемых рекомендаций и задать пороговое значение для числа предыдущих рекомендаций, необходимых для создания рекомендации.

1. Добавьте в конвейер модель с обученной рекомендацией и подключите ее к **обученному SVD рекомендации**.  Необходимо создать модель, используя [рекомендацию Train SVD](train-svd-recommender.md).

2. Чтобы рекомендовать элементы для заданного списка пользователей, установите рекомендацию **прогнозирования** по **элементу**.

3. **Рекомендуемый выбор элементов**: укажите, используется ли модуль оценки в рабочей среде или для оценки модели, выбрав одно из следующих значений:

    - **Из всех элементов**: Выберите этот параметр, если вы настраиваете конвейер для использования в веб-службе или рабочей среде.  Этот параметр включает **режим рабочей среды**, и модуль предоставляет рекомендации во всех элементах, отображаемых во время обучения.

    - **Из элементов с оценкой (для оценки модели)** . Выберите этот параметр при разработке или тестировании модели. Этот параметр включает **режим оценки**, и модуль предоставляет рекомендации только из тех элементов во входном наборе данных, которые были оценены.
    
    - **Из элементов без оценок (для предложения новых элементов пользователям)** : Выберите этот параметр, и модуль выдает рекомендации только из тех элементов в наборе данных для обучения, которые не были оценены. 

4. Добавьте набор данных, для которого требуется создать прогнозы, и подключите его к **набору данных для оценки**.

    - Для **всех элементов**входной набор данных должен состоять из одного столбца, содержащего идентификаторы пользователей, для которых необходимо выполнить рекомендации.

        Набор данных может содержать дополнительные два столбца идентификаторов элементов и оценок, но эти два столбца игнорируются. 

    - Для **элементов с оценкой (для оценки модели)** входной набор данных должен состоять из **пар "пользователь-элемент"** . Первый столбец должен содержать идентификатор **пользователя** . Второй столбец должен содержать соответствующие идентификаторы **элементов** .

        Набор данных может включать в себя третий столбец оценок пользовательских элементов, но этот столбец игнорируется.

    - Для **из элементов без оценки (для предложения новых элементов пользователям)** входной набор данных должен состоять из **пар "пользователь-элемент"** . Первый столбец должен содержать идентификатор **пользователя** . Второй столбец должен содержать соответствующие идентификаторы **элементов** .

        Набор данных может включать в себя третий столбец оценок пользовательских элементов, но этот столбец игнорируется.

5. **Максимальное число элементов, которые следует рекомендовать пользователю**: введите число возвращаемых элементов для каждого пользователя. По умолчанию рекомендуется использовать пять элементов.

6. **Минимальный размер пула рекомендаций на пользователя**: введите значение, указывающее, сколько предыдущих рекомендаций требуется.  По умолчанию этот параметр имеет значение 2, что означает, что элемент должен быть рекомендован по крайней мере двумя другими пользователями.

    Этот параметр следует использовать только в том случае, если оценка выполняется в режиме оценки. Этот параметр недоступен, если выбран вариант **из всех элементов** или **из элементов без оценок (для предложения новых элементов пользователям)** .

7.  Для **элементов из категории без оценки (для предложения новых элементов пользователям)** используйте третий входной порт с именем **обучающие данные**, чтобы удалить элементы, которые уже были оценены из результатов прогноза.

    Чтобы применить этот фильтр, Подключите исходный набор данных для обучения с портом ввода.

8. Запустили конвейер.

### <a name="results-of-item-recommendation"></a>Результаты рекомендации по элементу

В оценочном наборе данных, возвращенном функцией **Score SVD** , рекомендуется список рекомендуемых элементов для каждого пользователя.

- Первый столбец содержит идентификаторы пользователей.
- Будет создано несколько дополнительных столбцов в зависимости от значения, заданного для **максимального числа элементов, которое следует рекомендовать пользователю**. Каждый столбец содержит рекомендуемый элемент (по идентификатору). Рекомендации упорядочиваются по сходству пользователей с элементом с наибольшим сходством, размещенным в столбце, **элемент 1**.

> [!WARNING]
> Этот оцененный набор данных нельзя вычислить с помощью модуля " [Оценка](evaluate-recommender.md) программы".


##  <a name="technical-notes"></a>Технические примечания

В этом разделе содержатся ответы на некоторые распространенные вопросы об использовании рекомендации для создания прогнозов.  

###  <a name="production-use-of-the-svd-recommender"></a>Использование рекомендаций SVD в рабочей среде

Если вы используете конвейер с рекомендацией SVD и перемещаете модель в рабочую среду, учитывайте эти ключевые различия при использовании рекомендаций в режиме оценки и в рабочем режиме.

- Для оценки, по определению, требуются прогнозы, которые могут быть проверены на предмет *истинности* в проверочном наборе. Таким образом, при оценке рекомендации необходимо прогнозировать только те элементы, которые были оценены в тестовом наборе. Это обязательно ограничит возможные прогнозируемые значения.

    Однако при эксплуатациюии модели обычно изменяется режим прогнозирования, чтобы сделать рекомендации на основе всех возможных элементов, чтобы получить лучшие прогнозы. Для многих из этих прогнозов нет соответствующей истинности, поэтому точность рекомендации не может быть проверена так же, как во время конвейера.


## <a name="next-steps"></a>Дальнейшие действия

См. [набор модулей, доступных](module-reference.md) машинное обучение Azure службе. 
