---
title: Перемещение данных в базу данных SQL Azure — командный процесс обработки и анализа данных
description: Перемещение данных из плоских файлов (форматов CSV или TSV) или от данных, хранящихся в локальном сервере S'L Server, в базу данных Azure S'L.
services: machine-learning
author: marktab
manager: marktab
editor: marktab
ms.service: machine-learning
ms.subservice: team-data-science-process
ms.topic: article
ms.date: 01/10/2020
ms.author: tdsp
ms.custom: seodec18, previous-author=deguhath, previous-ms.author=deguhath
ms.openlocfilehash: f9a1424f2afe6c5153e208601b21dff9651880a8
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "76722464"
---
# <a name="move-data-to-an-azure-sql-database-for-azure-machine-learning"></a>Перемещение данных в базу данных SQL Azure для машинного обучения Azure

В этой статье излагаются возможности перемещения данных из плоских файлов (форматов CSV или TSV), либо из данных, хранящихся в локальном сервере S'L Server, в базу данных Azure S'L. Эти задачи перемещения данных в облако являются этапом процесса обработки и анализа данных группы.

Описание вариантов перемещения данных на локальный сервер SQL Server для машинного обучения см. в статье [Перемещение данных в SQL Server на виртуальной машине Azure](move-sql-server-virtual-machine.md).

В следующей таблице перечислены варианты перемещения данных в базу данных SQL Azure.

| <b>Источник</b> | <b>Назначение: база данных SQL Azure</b> |
| --- | --- |
| <b>Неструктурированный файл (в формате CSV или TSV)</b> |[SQL-запрос на массовую вставку](#bulk-insert-sql-query) |
| <b>Внутренний сервер S'L</b> |1. [Экспорт в неструктурированный файл](#export-flat-file).<br> 2. [Мастер миграции базы данных S'L](#insert-tables-bcp)<br> 3. [Резервное копирование и восстановление базы данных](#db-migration)<br> 4. [Фабрика данных Azure](#adf) |

## <a name="prerequisites"></a><a name="prereqs"></a>Предварительные требования
Для выполнения описанных процедур вам необходимы следующие компоненты:

* **Подписка Azure**. Если у вас нет подписки, вы можете зарегистрироваться для получения [бесплатной пробной версии](https://azure.microsoft.com/pricing/free-trial/).
* **Учетная запись хранения Azure**. Учетная запись хранения Azure используется в этом учебнике для хранения данных. Если у вас ее нет, см. раздел [Создание учетной записи хранения](../../storage/common/storage-account-create.md). После создания учетной записи хранения необходимо получить ключ, используемый для доступа к хранилищу. Смотрите [ключи доступа к учетной записи хранилища.](../../storage/common/storage-account-keys-manage.md)
* Доступ к **базе данных SQL Azure**. Если требуется настроить базу данных SQL Azure, то обратитесь к статье [Руководство по базам данных SQL: создание базы данных SQL за несколько минут с помощью портала Azure](../../sql-database/sql-database-get-started.md) , которая содержит сведения о том, как подготовить новый экземпляр базы данных SQL Azure.
* Установленная и настроенная локальная среда **Azure PowerShell**. Инструкции см. в статье [Приступая к работе с командлетами Azure PowerShell](/powershell/azure/overview).

**Данные**: процессы миграции демонстрируются с помощью [набора данных о такси Нью-Йорка](https://chriswhong.com/open-data/foil_nyc_taxi/). Набор данных о такси Нью-Йорка содержит сведения о поездках и тарифах и доступен в хранилище BLOB-объектов Azure [здесь](https://www.andresmh.com/nyctaxitrips/). Пример и описание этих файлов приведены в [описании набора данных «Поездки такси Нью-Йорка»](sql-walkthrough.md#dataset).

Вы можете либо адаптировать описанные здесь процедуры к собственному набору данных, либо выполнить описанные действия с набором данных о такси Нью-Йорка. Для передачи набора данных о поездках в такси Нью-Йорка в локальную базу данных SQL Server выполните процедуру, описанную в разделе [Выполните массовый импорт данных в базу данных SQL Server](sql-walkthrough.md#dbload). Эти инструкции предназначены для SQL Server на виртуальной машине Azure. Процедура передачи для локального SQL Server идентична.

## <a name="moving-data-from-a-flat-file-source-to-an-azure-sql-database"></a><a name="file-to-azure-sql-database"></a>Перемещение данных из плоского источника файлов в базу данных Azure S'L
Данные в плоских файлах (отформатированные CSV или TSV) могут быть перемещены в базу данных Azure S'L с помощью спомощьи «Массовый вставка» с помощью запроса «СЗЛ».

### <a name="bulk-insert-sql-query"></a><a name="bulk-insert-sql-query"></a>Массовая вставка СЗЛ Кирид
Шаги для процедуры с использованием запроса «Массовая вставка» с помощью «Большого вставки» аналогичны направлениям для перемещения данных из плоского источника файлов в сервер S'L на Azure VM. Дополнительные сведения см. в разделе [SQL-запрос на массовую вставку](move-sql-server-virtual-machine.md#insert-tables-bulkquery).

## <a name="moving-data-from-on-premises-sql-server-to-an-azure-sql-database"></a><a name="sql-on-prem-to-sazure-sql-database"></a>Перемещение данных с внутреннего сервера S'L в базу данных Azure S'L
Если исходные данные хранятся в локальном сервере S'L Server, существуют различные возможности для перемещения данных в базу данных Azure S'L:

1. [Экспорт в неструктурированный файл](#export-flat-file)
2. [Мастер миграции базы данных S'L](#insert-tables-bcp)
3. [Резервное копирование и восстановление базы данных](#db-migration)
4. [Фабрика данных Azure](#adf)

Шаги для первых трех аналогичны тем разделам в [перемещении данных на сервер S'L на виртуальном компьютере Azure,](move-sql-server-virtual-machine.md) которые охватывают эти же процедуры. В следующих инструкциях приводятся ссылки на соответствующие разделы этой статьи.

### <a name="export-to-flat-file"></a><a name="export-flat-file"></a>Экспорт в неструктурированный файл
Шаги для этого экспорта в плоский файл аналогичны тем направлениям, которые описаны в [Экспортном плоском файле.](move-sql-server-virtual-machine.md#export-flat-file)

### <a name="sql-database-migration-wizard"></a><a name="insert-tables-bcp"></a>Мастер миграции баз данных SQL
Шаги, которые используют Мастер миграции базы данных S'L, аналогичны тем направлениям, которые описаны в [«Мастере миграции»](move-sql-server-virtual-machine.md#sql-migration)с базами данных.

### <a name="database-back-up-and-restore"></a><a name="db-migration"></a>Архивация и восстановление базы данных
Шаги для использования резервного копирования и восстановления базы данных аналогичны тем направлениям, перечисленным в [резервной базе данных и восстановлении.](move-sql-server-virtual-machine.md#sql-backup)

### <a name="azure-data-factory"></a><a name="adf"></a> Фабрика данных Azure
Узнайте, как переместить данные в базу данных Azure S'L с Azure Data Factory (ADF) в этой теме, [Переместите данные с внутреннего сервера S'L в Azure с Azure Data Factory.](move-sql-azure-adf.md) В этой теме показано, как использовать ADF для перемещения данных из предварительной базы данных S'L Server в базу данных Azure S'L через Azure Blob Storage.

Рассмотрите возможность использования ADF, когда данные необходимо постоянно мигрировать с гибридными накидными и облачными источниками.  ADF также помогает, когда данные нуждаются в преобразованиях или нуждаются в новой бизнес-логике во время миграции. ADF позволяет выполнять планирование и отслеживание заданий с помощью простых сценариев JSON, управляющих перемещением данных на периодической основе. ADF также обладает другими возможностями, такими как поддержка сложных операций.
