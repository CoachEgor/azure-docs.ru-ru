---
title: 'Конструктор: пример прогнозирования цен на автомобили (дополнительно)'
titleSuffix: Azure Machine Learning
description: Создайте и сравните несколько регрессионных моделей ML для прогнозирования цены на автомобиль на основе технических признаков с помощью конструктора Машинного обучения Azure.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: sample
author: likebupt
ms.author: keli19
ms.reviewer: peterlu
ms.date: 12/25/2019
ms.openlocfilehash: 189b36c8d9a7c1d1e247bb2cb34795dc4e3595ce
ms.sourcegitcommit: 42517355cc32890b1686de996c7913c98634e348
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/02/2020
ms.locfileid: "76963348"
---
# <a name="train--compare-multiple-regression-models-to-predict-car-prices-with-azure-machine-learning-designer"></a>Обучение и сравнение нескольких регрессионных моделей для прогнозирования цен на автомобили с помощью конструктора Машинного обучения Azure

**Конструктор (предварительная версия) — пример 2**

[!INCLUDE [applies-to-skus](../../includes/aml-applies-to-enterprise-sku.md)]

Узнайте, как создать конвейер машинного обучения с помощью конструктора (предварительная версия) без необходимости писать код. В этом примере обучаются и сравниваются несколько регрессионных моделей для прогнозирования цены на автомобиль на основе его технических признаков. Мы предоставим обоснование выбора вариантов для этого конвейера. С помощью этих сведений вы сможете самостоятельно выполнять задачи машинного обучения.

Если вы только начинаете использовать машинное обучение, ознакомьтесь с [базовой версией](how-to-designer-sample-regression-automobile-price-basic.md) этого конвейера.

Вот финальная версия графа этого конвейера:

[![Граф конвейера](./media/how-to-designer-sample-regression-automobile-price-compare-algorithms/graph.png)](./media/how-to-designer-sample-regression-automobile-price-compare-algorithms/graph.png#lightbox)

## <a name="prerequisites"></a>Предварительные требования

[!INCLUDE [aml-ui-prereq](../../includes/aml-ui-prereq.md)]

4. Щелкните пример 2, чтобы открыть его. 

## <a name="pipeline-summary"></a>Сводка по конвейеру

Процедура создания конвейера машинного обучения:

1. Получение данных.
1. Предварительная обработка данных.
1. Обучение модели.
1. Проверка, анализ и сравнение моделей.

## <a name="get-the-data"></a>Получение данных

В этом примере используется набор **необработанных данных о ценах на автомобили** из репозитория машинного обучения UCI. Этот набор данных содержит 26 столбцов с информацией об автомобилях, включая сведения о марке, модели, цене, признаках (например, числе цилиндров), расходе топлива и оценке страховых рисков.

## <a name="pre-process-the-data"></a>Предварительная обработка данных

Основные задачи подготовки данных включают очистку, интеграцию, преобразование, сокращение, дискретизацию и квантование. В конструкторе есть модули для выполнения этих операций и других задач предварительной обработки данных. Они включены в группу модулей **преобразования данных** на панели слева.

С помощью модуля **выбора столбцов в наборе данных** исключите нормализованные потери с большим числом отсутствующих значений. Теперь воспользуемся модулем **очистки отсутствующих данных**, чтобы удалить строки с отсутствующими значениями. Так вы создадите чистый набор данных для обучения.

![Предварительная обработка данных](./media/how-to-designer-sample-regression-automobile-price-compare-algorithms/data-processing.png)

## <a name="train-the-model"></a>Обучение модели

Есть различные задачи машинного обучения. Среди распространенных — классификация, кластеризация, регрессия и системы рекомендаций. Для решения каждой из таких задач может потребоваться отдельный алгоритм. Выбор алгоритма часто зависит от требований сценария пользователя. Когда вы выберете алгоритм, нужно будет настроить его параметры для обучения более точной модели. Затем необходимо проанализировать все модели с использованием таких метрик, как точность, понятность и эффективность.

Так как цель создания этого конвейера — прогнозирование цен на автомобили, а столбец меток (цена) содержит реальные числа, хорошо подойдет регрессионная модель. Учитывая, что число признаков относительно невелико (меньше 100) и эти признаки не разрежены, граница решения, скорее всего, будет нелинейной.

Чтобы сравнить производительность различных алгоритмов, для создания моделей мы используем два нелинейных алгоритма: **регрессии дерева принятия решений повышенного уровня** и **регрессии леса принятия решений**. Параметры обоих алгоритмов можно изменять. Но в нашем примере для этого конвейера используются значения по умолчанию.

Используйте модуль **разделения данных**. Он разделяет входные данные в случайном порядке таким образом, чтобы набор данных для обучения содержал 70 % исходных данных, а набор данных для тестирования — 30 % исходных данных.

## <a name="test-evaluate-and-compare-the-models"></a>Проверка, анализ и сравнение моделей

При обучении и последующей проверке модели используются два разных набора случайных данных, как описано в предыдущем разделе. Для повышения объективности при анализе модели разделите набор данных таким образом, чтобы для обучения и тестирования модели использовались разные наборы данных.

После обучения модели используйте модули **оценки модели** и **анализа модели** для создания прогнозируемых результатов и анализа моделей. Модуль **оценки модели** выполняет прогнозирование для тестового набора данных с использованием обученной модели. После этого оценки передаются в модуль **анализа модели** для создания метрик анализа.



Результаты приведены ниже.

![Сравнение результатов](./media/how-to-designer-sample-regression-automobile-price-compare-algorithms/result.png)

Результаты показывают, что модель, созданная с помощью алгоритма **регрессии дерева принятия решений повышенного уровня** имеет меньшую среднеквадратическую погрешность, чем модель, созданная с помощью алгоритма **регрессии леса принятия решений**.



## <a name="clean-up-resources"></a>Очистка ресурсов

[!INCLUDE [aml-ui-cleanup](../../includes/aml-ui-cleanup.md)]

## <a name="next-steps"></a>Дальнейшие действия

Изучите другие примеры, доступные для использования с конструктором:

- [Пример 1. Регрессия: прогнозирование цен на автомобили](how-to-designer-sample-regression-automobile-price-basic.md)
- [Пример 3. Классификация с выбором признаков: прогнозирование дохода](how-to-designer-sample-classification-predict-income.md)
- [Пример 4. Классификация: прогнозирование кредитного риска (с учетом затрат)](how-to-designer-sample-classification-credit-risk-cost-sensitive.md)
- [Пример 5. Классификация: прогнозирование оттока клиентов](how-to-designer-sample-classification-churn.md)
- [Пример 6. Классификация: прогнозирование задержки рейсов](how-to-designer-sample-classification-flight-delay.md)
- [Пример 7. Классификация текста: набор данных Wikipedia SP 500](how-to-designer-sample-text-classification.md)
