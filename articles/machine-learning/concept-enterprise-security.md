---
title: Системы безопасности и управления корпоративного уровня
titleSuffix: Azure Machine Learning
description: 'Безопасное использование Машинного обучения Azure: проверка подлинности, авторизация, безопасность сети, шифрование данных и мониторинг.'
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.author: aashishb
author: aashishb
ms.reviewer: larryfr
ms.date: 09/09/2020
ms.openlocfilehash: eaaedc4404419e6028250a994077dd3df20b83d4
ms.sourcegitcommit: 6ab718e1be2767db2605eeebe974ee9e2c07022b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/12/2020
ms.locfileid: "94539657"
---
# <a name="enterprise-security-and-governance-for-azure-machine-learning"></a>Корпоративная безопасность и управление для Машинное обучение Azure

Эта статья содержит сведения о доступных функциях безопасности для Машинного обучения Azure.

При использовании облачной службы рекомендуется ограничить доступ только тем пользователям, которым она нужна. Начните с изучения модели проверки подлинности и авторизации, которую использует служба. Может потребоваться также ограничить сетевой доступ или безопасно присоединить ресурсы в локальной сети к облаку. Шифрование данных также крайне важно как при хранении, так и при их перемещении между службами. Кроме того, может потребоваться создать политики для принудительного применения определенных конфигураций или журналов при создании несоответствующих конфигураций. Наконец, необходимо иметь возможность отслеживать службу и создавать журнал аудита всех действий.

> [!NOTE]
> Сведения в этой статье относятся к пакету SDK Python для Машинного обучения Azure версии 1.0.83.1 или более поздней.

## <a name="authentication--authorization"></a>Проверка подлинности & авторизации

Большинство проверок подлинности для Машинное обучение Azure ресурсов используют Azure Active Directory (Azure AD) для проверки подлинности и управления доступом на основе ролей (Azure RBAC) для авторизации. Исключения из этого:

* __SSH__. Вы можете включить доступ по протоколу SSH к некоторым вычислительным ресурсам, например машинное обучение Azure вычислительного экземпляра. Доступ по протоколу SSH использует проверку подлинности на основе ключей. Дополнительные сведения о создании ключей SSH см. в статье [Создание ключей SSH и управление ими](../virtual-machines/linux/create-ssh-keys-detailed.md). Сведения о включении доступа по протоколу SSH см. в статье [Создание и управление машинное обучение Azure вычислительных экземпляров](how-to-create-manage-compute-instance.md).
* __Модели, развернутые в виде веб-служб__ : развертывания веб-служб могут использовать __ключ__ или управление доступом на основе __маркеров__. Ключи — это статические строки. Токены извлекаются с помощью учетной записи Azure AD. Дополнительные сведения см. в разделе [Настройка проверки подлинности для моделей, развернутых в виде веб-службы](how-to-authenticate-web-service.md).

Определенные службы, которые Машинное обучение Azure полагаются на, такие как службы хранилища данных Azure, имеют собственные методы проверки подлинности и авторизации. Дополнительные сведения о проверке подлинности служб хранилища см. в статье [Подключение к службам хранилища](how-to-access-data.md).

### <a name="azure-ad-authentication"></a>Аутентификация Azure AD

Многофакторная проверка подлинности поддерживается, если она настроена в Azure Active Directory (Azure AD). Ниже представлен процесс проверки подлинности.

1. Клиент входит в Azure AD и получает маркер проверки подлинности Azure Resource Manager.  Пользователи и субъекты-службы поддерживаются полностью.
1. Клиент предоставляет маркер проверки подлинности для Azure Resource Manager и всех служб Машинного обучения Azure.
1. Служба машинного обучения предоставляет маркер Службы машинного обучения для целевого объекта вычислений пользователя (например, Вычислительной среды Машинного обучения). Этот маркер безопасности используется целевым объектом вычислений пользователя для обратного вызова в Службу машинного обучения после завершения выполнения. Область ограничена рабочим пространством.

[![Проверка подлинности в Машинном обучении Azure](media/concept-enterprise-security/authentication.png)](media/concept-enterprise-security/authentication.png#lightbox)

Дополнительные сведения см. в статье [Проверка подлинности для машинное обучение Azure рабочей области](how-to-setup-authentication.md).

### <a name="azure-rbac"></a>Azure RBAC

Вы можете создать несколько рабочих областей, и каждая рабочая область может совместно использоваться несколькими пользователями. Вы можете контролировать, к каким функциям или операциям пользователи рабочей области могут получить доступ, назначив учетной записи Azure AD роли RBAC Azure. Ниже перечислены встроенные роли.

* Владелец
* Участник
* Читатель

Владельцы и участники могут использовать все целевые объекты вычислений и хранилища данных, подключенные к рабочей области.  

В следующей таблице перечислены некоторые основные операции Машинного обучения Azure и роли, которые могут их выполнять.

| Операции Машинного обучения Azure | Владелец | Участник | Читатель |
| ---- |:----:|:----:|:----:|
| Создание рабочей области | ✓ | ✓ | |
| Общая рабочая область | ✓ | |  |
| Создание целевого объекта вычислений | ✓ | ✓ | |
| Присоединение целевого объекта вычислений | ✓ | ✓ | |
| Подключение хранилищ данных | ✓ | ✓ | |
| Выполнение эксперимента | ✓ | ✓ | |
| Просмотр запусков и метрик | ✓ | ✓ | ✓ |
| Регистрация модели | ✓ | ✓ | |
| Создание образа | ✓ | ✓ | |
| Развертывание веб-службы | ✓ | ✓ | |
| Просмотр моделей и образов | ✓ | ✓ | ✓ |
| Вызов веб-службы | ✓ | ✓ | ✓ |

Если встроенные роли не соответствуют вашим потребностям, вы можете создать пользовательские роли. Пользовательские роли управляют всеми операциями в рабочей области, например созданием вычислений, отправкой выполнения, регистрацией хранилища данных или развертыванием модели. Пользовательские роли могут иметь разрешения на чтение, запись или удаление для различных ресурсов рабочей области, таких как кластеры, хранилища данных, модели и конечные точки. Роль можно сделать доступной на определенном уровне рабочей области, определенном уровне группы ресурсов или определенном уровне подписки. Дополнительные сведения см. в статье [Управление доступом к рабочей области машинного обучения](how-to-assign-roles.md).

> [!IMPORTANT]
> Машинное обучение Azure зависит от других служб Azure, таких как хранилище BLOB-объектов Azure и Azure Kubernetes Services. Каждая служба Azure имеет собственные конфигурации RBAC Azure. Чтобы обеспечить необходимый уровень контроля доступа, может потребоваться применить как конфигурации Azure RBAC для Машинное обучение Azure, так и для служб, используемых с Машинное обучение Azure.

> [!WARNING]
> Машинное обучение Azure поддерживается службой Azure Active Directory для совместной работы типа "бизнес — бизнес", но в настоящее время не поддерживается службой Azure Active Directory для совместной работы типа "бизнес — потребитель".

### <a name="managed-identities"></a>Управляемые удостоверения

Каждая Рабочая область также имеет связанное с системой [управляемое удостоверение](../active-directory/managed-identities-azure-resources/overview.md) , которое имеет то же имя, что и Рабочая область. Управляемое удостоверение используется для безопасного доступа к ресурсам, используемым рабочей областью. Он имеет следующие разрешения для подключенных ресурсов:

| Ресурс | Разрешения |
| ----- | ----- |
| Рабочая область | Участник |
| Учетная запись хранения | Участник данных BLOB-объектов хранилища |
| Хранилище ключей | Доступ ко всем ключам, секретам, сертификатам |
| Реестр контейнеров Azure | Участник |
| Группа ресурсов, в которой содержится рабочая область | Участник |
| Группа ресурсов, в которой содержится хранилище ключей (если оно отличается от того, в котором находится рабочая область) | Участник |

Мы не рекомендуем администраторам отменять доступ управляемого удостоверения к ресурсам, упомянутым в предыдущей таблице. Вы можете восстановить доступ с помощью операции повторной синхронизации ключей.

Машинное обучение Azure создает дополнительное приложение (имя начинается с `aml-` или `Microsoft-AzureML-Support-App-`) с доступом на уровне участника в вашей подписке для каждого региона рабочей области. Например, если у вас есть одна рабочая область в восточной части США и одна в Северной Европе в той же подписке, вы увидите два таких приложения. Эти приложения предоставляют службу машинного обучения Azure, которая помогает управлять ресурсами вычислений.

При необходимости можно настроить собственные управляемые удостоверения для использования с виртуальными машинами Azure и Машинное обучение Azureным кластером. С помощью виртуальной машины управляемое удостоверение можно использовать для доступа к рабочей области из пакета SDK, а не с учетной записью Azure AD отдельного пользователя. При использовании кластерного кластера управляемое удостоверение используется для доступа к ресурсам, таким как защищенные хранилища данных, для которых пользователь, запускающий задание обучения, может не иметь доступа к. Дополнительные сведения см. в статье [Проверка подлинности для машинное обучение Azure рабочей области](how-to-setup-authentication.md).

## <a name="network-security-and-isolation"></a>Сетевая безопасность и изоляция

Чтобы ограничить физический доступ к ресурсам Машинное обучение Azure, можно использовать виртуальную сеть Azure (VNet). Виртуальных сетей позволяют создавать сетевые среды, частично или полностью изолированные от общедоступного Интернета. Это сокращает область атаки для вашего решения, а также вероятность утечка данных.

Дополнительные сведения см. в статье [Обзор изоляции и конфиденциальности в виртуальной сети](how-to-network-security-overview.md).

<a id="encryption-at-rest"></a><a id="azure-blob-storage"></a>

## <a name="data-encryption"></a>Шифрование данных

Машинное обучение Azure использует разнообразные ресурсы вычислений и хранилища данных. Дополнительные сведения о том, как все они поддерживают шифрование данных при хранении и передаче, см. в статье [Шифрование данных с помощью машинное обучение Azure](concept-data-encryption.md).

### <a name="microsoft-generated-data"></a>Данные, созданные корпорацией Майкрософт

При использовании таких служб, как автоматизированное машинное обучение, корпорация Майкрософт может создавать временные предварительно обработанные данные для обучения нескольких моделей. Эти данные хранятся в хранилище данных в рабочей области, что позволяет применять управление доступом и шифрование соответствующим образом.

Вы также можете зашифровать [диагностические данные из развернутой конечной точки](how-to-enable-app-insights.md) в экземпляре Azure Application Insights.

## <a name="monitoring"></a>Наблюдение

Существует несколько сценариев мониторинга с Машинное обучение Azure в зависимости от роли и того, что отслеживается.

| Роль | Мониторинг для использования | Описание |
| ---- | ----- | ----- |
| Admin, DevOps, Млопс | [Метрики Azure Monitor](#azure-monitor), [Журнал действий](#activity-log), [сканирование уязвимостей](#vulnerability-scanning) | Сведения об уровне обслуживания |
| Анализу данных, Млопс | [Отслеживание выполнений](#monitor-runs) | Сведения, регистрируемые во время обучения |
| MLOps | [Получение данных модели](how-to-enable-data-collection.md), [мониторинг с помощью Application Insights](how-to-enable-app-insights.md) | Данные, регистрируемые моделями, развернутыми в виде веб-служб или модулей IoT Edge|

### <a name="monitor-runs"></a>Отслеживание выполнений

Вы можете отслеживать запуски экспериментов в Машинное обучение Azure, включая сведения о ведении журналов в учебных сценариях. Эти сведения можно просмотреть с помощью пакета SDK, Azure CLI и студии. Дополнительные сведения см. в следующих статьях:

* [Запуск, отслеживание и отмена обучающих запусков](how-to-manage-runs.md)
* [Включение журналов](how-to-track-experiments.md)
* [Просмотр журналов](how-to-monitor-view-training-logs.md)
* [Визуализация выполняется с помощью TensorBoard](how-to-monitor-tensorboard.md)

### <a name="azure-monitor"></a>Azure Monitor

Вы можете использовать метрики Azure Monitor, чтобы просматривать и отслеживать метрики для рабочей области Машинного обучения Azure. На [портале Azure](https://portal.azure.com) выберите рабочую область, а затем — **Метрики** :

[![Снимок экрана с примером метрик для рабочей области](media/concept-enterprise-security/workspace-metrics.png)](media/concept-enterprise-security/workspace-metrics-expanded.png#lightbox)

Метрики включают сведения о запусках, развертываниях и регистрациях.

Дополнительные сведения см. в статье [Метрики в Azure Monitor](../azure-monitor/platform/data-platform-metrics.md).

### <a name="activity-log"></a>Журнал действий

Вы можете просмотреть журнал действий рабочей области, чтобы увидеть выполняемые в ней различные операции. Журнал содержит основные сведения, такие как имя операции, инициатор события и метку времени.

На этом снимке экрана показан журнал действий рабочей области:

[![Снимок экрана с журналом действий рабочей области](media/concept-enterprise-security/workspace-activity-log.png)](media/concept-enterprise-security/workspace-activity-log-expanded.png#lightbox)

Сведения о запросе оценки хранятся в Application Insights. При создании рабочей области в подписке создается Application Insights. Записанные в журнал сведения включают такие поля, как:

* HTTPMethod
* UserAgent
* ComputeType
* RequestUrl
* StatusCode
* RequestId
* Duration

> [!IMPORTANT]
> Некоторые действия в рабочей области Машинного обучения Azure не регистрируются в журнале действий. Например, запуск выполнения обучения и регистрация модели.
>
> Некоторые из этих действий отображаются в области **Действия** рабочей области, но эти уведомления не указывают на инициатора действия.

### <a name="vulnerability-scanning"></a>Сканирование уязвимостей

Центр безопасности Azure обеспечивает унифицированное управление безопасностью и расширенную защиту от угроз для гибридных облачных рабочих нагрузок. Для машинного обучения Azure необходимо включить проверку ресурсов реестра контейнеров Azure и ресурсов службы Azure Kubernetes. См. статью Просмотр [изображений реестра контейнеров Azure по центру безопасности](../security-center/defender-for-container-registries-introduction.md) и [интеграции Azure Kubernetes Services с центром безопасности](../security-center/defender-for-kubernetes-introduction.md).

## <a name="audit-and-manage-compliance"></a>Аудит соответствия и управление им

[Политика Azure](../governance/policy/index.yml) — это средство управления, которое позволяет обеспечить соответствие ресурсов Azure политикам. С помощью Машинное обучение Azure можно назначить следующие политики:

* **Ключ, управляемый клиентом** : аудит или обеспечение того, должны ли рабочие области использовать ключ, управляемый клиентом.
* **Частная ссылка** : аудит того, используется ли в рабочих областях частная конечная точка для связи с виртуальной сетью.

Дополнительные сведения о политике Azure см. в [документации по политике Azure](../governance/policy/overview.md).

Дополнительные сведения о политиках, характерных для Машинное обучение Azure, см. в разделе [Аудит и Управление соответствием политике Azure](how-to-integrate-azure-policy.md).

## <a name="resource-locks"></a>Блокировки ресурсов

[!INCLUDE [resource locks](../../includes/machine-learning-resource-lock.md)]

## <a name="next-steps"></a>Дальнейшие действия

* [Использование TLS для защиты веб-службы с помощью Машинного обучения Azure](how-to-secure-web-service.md).
* [Использование модели Машинного обучения Azure, развернутой в качестве веб-службы](how-to-consume-web-service.md)
* [Использование рабочей области за Брандмауэром Azure для Машинного обучения Azure](how-to-access-azureml-behind-firewall.md)
* [Защита жизненных циклов машинного обучения с помощью частных виртуальных сетей](how-to-network-security-overview.md)
* [Шифрование неактивных и транзитных данных](concept-data-encryption.md)
* [Создание API рекомендаций в режиме реального времени в Azure](/azure/architecture/reference-architectures/ai/real-time-recommendation)
