---
title: Что такое автоматизированный ML / AutoML
titleSuffix: Azure Machine Learning
description: Узнайте, как Azure Machine Learning может автоматически выбрать для вас алгоритм и создать из него модель, чтобы сэкономить время, используя параметры и критерии, которые вы предоставляете, чтобы выбрать лучший алгоритм для вашей модели.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.reviewer: jmartens
author: cartacioS
ms.author: sacartac
ms.date: 02/28/2020
ms.openlocfilehash: 095561f02fdeff6688b78d69cc1becc4ee0f8901
ms.sourcegitcommit: fb23286d4769442631079c7ed5da1ed14afdd5fc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/10/2020
ms.locfileid: "81115214"
---
# <a name="what-is-automated-machine-learning"></a>Что такое автоматическое машинное обучение?

Автоматизированное машинное обучение, также называемое автоматизированным ML, является процессом автоматизации трудоемких, итеративных задач разработки модели машинного обучения. Это позволяет ученым, аналитикам и разработчикам данных создавать модели ML с высоким и высоким масштабом, эффективностью и производительностью при сохранении качества модели. Автоматизированный ML основан на прорыве от нашего [исследовательского подразделения Microsoft.](https://arxiv.org/abs/1705.05355)

Разработка традиционной модели машинного обучения является ресурсоемкой, требующей значительных знаний и времени для создания и сравнения десятков моделей. С автоматизированным машинным обучением вы ускорите время, необходимое для получения готовых к производству моделей ML с большой легкостью и эффективностью.

## <a name="when-to-use-automated-ml"></a>Когда использовать автоматизированный ML

Применяйте автоматизированный ML, когда вы хотите, чтобы Azure Machine Learning обучал и настраивал модель для вас с помощью указанной вами целевой метрики. Автоматизированная система разработки модели машинного обучения демократизирует процесс разработки и дает возможность пользователям, независимо от их опыта в области науки о данных, определить сквозной конвейер машинного обучения для любой проблемы.

Специалисты по обработке данных, аналитики и разработчики в различных отраслях могут использовать автоматизированный ML для:

+ Внедрение решений для машинного обучения без обширных знаний в области программирования
+ Экономия времени и ресурсов
+ Использование передового опыта в области науки о данных
+ Обеспечить гибкое решение проблем

В следующей таблице перечислены общие автоматические случаи использования ML. 

Классификация| Прогнозирование временных рядов | Регрессия
---|---|---
[Обнаружение мошенничества](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/classification-credit-card-fraud/auto-ml-classification-credit-card-fraud.ipynb)|[Прогнозирование продаж](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/forecasting-orange-juice-sales/auto-ml-forecasting-orange-juice-sales.ipynb)|[Прогноз производительности процессора](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/regression-hardware-performance-explanation-and-featurization/auto-ml-regression-hardware-performance-explanation-and-featurization.ipynb)
|[Маркетинговый прогноз](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/classification-bank-marketing-all-features/auto-ml-classification-bank-marketing-all-features.ipynb)|[Прогнозирование спроса](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/forecasting-energy-demand/auto-ml-forecasting-energy-demand.ipynb)|
|[Классификация данных Newsgroup](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/classification-text-dnn/auto-ml-classification-text-dnn.ipynb)|[Прогноз производства напитков](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/forecasting-beer-remote/auto-ml-forecasting-beer-remote.ipynb)|

## <a name="design-automated-ml-experiments"></a>Проектирование автоматизированных экспериментов ML

Используя **Azure Machine Learning,** вы можете разрабатывать и запускать автоматизированные учебные эксперименты ML с помощью следующих шагов:

1. **Определить проблему ML, которую** необходимо решить: классификация, прогнозирование или регрессия

1. **Укажите источник и формат помеченных обучаемых данных:** numpy массивы или кадр данных Панды

1. **Нанастройка вычислительной цели для обучения модели,** например, локального компьютера, машинного [обучения Azure, удаленных ввоза или Azure Databricks.](how-to-set-up-training-targets.md)  Узнайте об автоматизированном обучении [на удаленном ресурсе.](how-to-auto-train-remote.md)

1. **Настроили параметры автоматизированного машинного обучения,** которые определяют, сколько итераций по различным моделям, настройки гиперпарамов, продвинутая предварительная обработка/феатуризация, и какие метрики следует рассматривать при определении наилучшей модели.  Настройки для автоматического учебного эксперимента можно настроить в [студии Машинного обучения Azure](https://ml.azure.com)или [с помощью SDK.](how-to-configure-auto-train.md) 

    [!INCLUDE [aml-applies-to-enterprise-sku](../../includes/aml-applies-to-enterprise-sku-inline.md)]

1. **Отправить учебный забег.**

## <a name="how-automated-ml-works"></a>Как работает автоматизированный ML

Во время обучения Azure Machine Learning создает ряд параллельных конвейеров, которые пробуют различные алгоритмы и параметры. Служба итерирует с помощью алгоритмов ML в паре с выбором функций, где каждая итерация производит модель с оценкой обучения. Чем выше оценка, тем лучше модель считается "пригодной" для ваших данных.  Он остановится, как только он попадает в критерии выхода, определенные в эксперименте. Следующая диаграмма иллюстрирует этот процесс. 

  ![Автоматизированное машинное обучение](./media/concept-automated-ml/automl-concept-diagram2.png)


Вы также можете проверить информацию о зарегистрированном запуске, которая [содержит метрики,](how-to-understand-automated-ml.md) собранные во время выполнения. Учебный запуск создает серийный`.pkl` объект Python (файл), содержащий модель и предварительную обработку данных.

В то время как построение модели автоматизировано, вы также можете [узнать, насколько важны или релевантны функции](how-to-configure-auto-train.md#explain) для генерируемых моделей.

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2Xc9t]

<a name="preprocess"></a>

## <a name="preprocessing"></a>Предварительная обработка

В каждом автоматизированном эксперименте машинного обучения ваши данные предварительно обрабатываются с помощью методов по умолчанию и дополнительно с помощью продвинутой предварительной обработки.

> [!NOTE]
> Этапы предварительной обработки автоматизированного машинного обучения (нормализация компонентов, обработка недостающих данных, преобразование текста в числовой формат и т. д.) становятся частью базовой модели. При использовании модели для прогнозирования эти этапы предварительной обработки, которые выполнялись во время обучения, автоматически выполняются для входных данных.

### <a name="automatic-preprocessing-standard"></a>Автоматическая предварительная обработка (стандарт)

В каждом автоматизированном эксперименте машинного обучения ваши данные автоматически масштабируются или нормализуируются, чтобы помочь алгоритмам работать хорошо.  Во время обучения модели, один из следующих методов масштабирования или нормализации будет применяться к каждой модели.

|Масштабирование&nbsp;&&nbsp;нормализации| Описание |
| ------------- | ------------- |
| [StandardScaleWrapper](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html)  | Стандартизовать функции, удалив среднее и масштабирование до дисперсии единиц  |
| [MinMaxScalar](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MinMaxScaler.html)  | Преобразует объекты путем масштабирования каждой функции по минимальному и максимальному столбцюку  |
| [MaxAbsScaler](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.MaxAbsScaler.html#sklearn.preprocessing.MaxAbsScaler) |Масштабируйте каждую функцию по максимальному абсолютному значению |
| [РобустСкалаар](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.RobustScaler.html) |Это Scaler особенности их quantile диапазоне |
| [PCA](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.PCA.html) |Снижение линейной размерности с использованием сингулярного разложения значений данных для проецирования их в более низкомерное пространство |
| [TruncatedSVDWrapper](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.TruncatedSVD.html) |Этот трансформатор выполняет линейное уменьшение размерности с помощью усеченного разложения сингулярного значения (SVD). В отличие от PCA, этот оценщик не центрирует данные перед вычислением сингулярного разложения стоимости, что означает, что он может эффективно работать с матрицами scipy.sparse |
| [SparseNormalizer](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.Normalizer.html) | Каждый образец (т.е. каждая строка матрицы данных) с по крайней мере одним ненулевым компонентом перемасштабируется независимо от других образцов, так что его норма (l1 или l2) равна одному |

### <a name="advanced-preprocessing-optional-featurization"></a>Расширенная предварительная обработка: факультативная феатуризация

Также доступны дополнительные передовые методы предварительной обработки и феатуризации, такие как ограждения данных, кодирование и преобразования. [Узнайте больше о том, что феатуризация включена](how-to-use-automated-ml-for-ml-models.md#featurization). Включить эту настройку с:

+ Студия машинного обучения Azure: Включить **автоматическую феатурацию** в **дополнительном разделе конфигурации View** [с помощью этих шагов.](how-to-use-automated-ml-for-ml-models.md#create-and-run-experiment)

+ Python SDK: `"feauturization": 'auto' / 'off' / 'FeaturizationConfig'` Указание для [ `AutoMLConfig` класса](/python/api/azureml-train-automl-client/azureml.train.automl.automlconfig.automlconfig). 

## <a name="classification--regression"></a>Классификация & регрессии

Классификация и регрессия являются наиболее распространенными типами задач машинного обучения. Оба типа контролируемого обучения, в которых модели учатся с использованием обучающих данных, и применяют эти знания к новым данным. Azure Machine Learning предлагает featurizations специально для этих задач, таких как глубокие нейронные сети текст featurizers для классификации. Узнайте больше о [вариантах феатуризации.](how-to-use-automated-ml-for-ml-models.md#featurization) 

Основная цель классификационных моделей заключается в прогнозировании того, в какие категории будут подпадать новые данные на основе данных, полученных на основе данных о подготовке кадров. Общие примеры классификации включают обнаружение мошенничества, распознавание рукописного ведра и обнаружение объектов.  Узнайте больше и посмотрите пример [классификации с помощью автоматизированного машинного обучения.](tutorial-train-models-with-aml.md)

В отличие от классификации, где прогнозируемые значения вывода являются категоричными, регрессионные модели предсказывают числовые значения вывода на основе независимых предикторов. В регрессии цель состоит в том, чтобы помочь установить взаимосвязь между этими независимыми переменными предикторов, оценивая, как одна переменная влияет на другие. Например, цена автомобиля основана на таких функциях, как, пробег газа, рейтинг безопасности и т.д. Узнайте больше и посмотрите пример [регрессии с автоматизированным машинным обучением.](tutorial-auto-train-models.md)

## <a name="time-series-forecasting"></a>Прогнозирование временных рядов

Строительные прогнозы являются неотъемлемой частью любого бизнеса, будь то доход, инвентаризация, продажи или спрос клиентов. Вы можете использовать автоматизированный ML для объединения методов и подходов и получения рекомендуемого, высококачественного прогноза временных рядов.

Автоматизированный эксперимент временных рядов рассматривается как многовариантная проблема регрессии. Значения прошлых временных рядов «поворачиваются», чтобы стать дополнительными измерениями для регрессора вместе с другими предикторами. Этот подход, в отличие от классических методов временных рядов, имеет преимущество естественного включения нескольких контекстуальных переменных и их отношения друг с другом во время обучения. Автоматизированная ML изучает одну, но часто внутренне разветвленную модель для всех элементов в области набора данных и горизонтов прогнозирования. Таким образом, имеются дополнительные данные для оценки параметров модели и возможного обобщения невидимых рядов.

Узнайте больше и посмотрите пример [автоматизированного машинного обучения для прогнозирования временных рядов.](how-to-auto-train-forecast.md) Или см. [блокнот спроса на энергию](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/forecasting-energy-demand/auto-ml-forecasting-energy-demand.ipynb) для подробных примеров кода расширенной конфигурации прогнозирования, включая:

* обнаружение и феатуризация праздников
* временные ряды и DNN учащихся (Auto-ARIMA, Пророк, ForecastTCN)
* многие модели поддерживаются путем группировки
* перекрестная проверка подвижного происхождения
* настраиваемые лаги
* функции агрегата прокатки окон

## <a name="ensemble-models"></a><a name="ensemble"></a>Модели ансамбля

Автоматизированное машинное обучение поддерживает ансамблевые модели, которые включены по умолчанию. Ансамбль обучения улучшает результаты машинного обучения и прогностической производительности путем объединения нескольких моделей, а не с помощью отдельных моделей. Итерации ансамбля отображаются как окончательные итерации вашего бега. Автоматизированное машинное обучение использует как методы голосования, так и укладки ансамбля для объединения моделей:

* **Голосование**: прогнозы на основе средневзвешенной вероятности прогнозируемого класса (для задач классификации) или прогнозируемых целей регрессии (для задач регрессии).
* **Укладка**: укладка сочетает в себе неоднородные модели и тренирует мета-модель на основе вывода из отдельных моделей. Текущие мета-модели по умолчанию — это LogisticRegression для задач классификации и ElasticNet для задач регрессии/прогнозирования.

[Алгоритм выбора ансамбля Caruana](http://www.niculescu-mizil.org/papers/shotgun.icml04.revised.rev2.pdf) с отсортированной инициализацией ансамбля используется для принятия решения о том, какие модели использовать в ансамбле. На высоком уровне, этот алгоритм инициализирует ансамбль с до пяти моделей с лучшими индивидуальными баллами, и проверяет, что эти модели находятся в пределах 5% порога лучшего балла, чтобы избежать плохой первоначальный ансамбль. Затем для каждой итерации ансамбля к существующему ансамблю добавляется новая модель и рассчитывается полученная оценка. Если новая модель улучшила существующую оценку ансамбля, ансамбль обновляется, чтобы включить новую модель.

Ознакомьтесь с тем, [как](how-to-configure-auto-train.md#ensemble) изменять настройки ансамбля по умолчанию в автоматизированном машинном обучении.

## <a name="use-with-onnx"></a>Использование с ONNX

С помощью Машинного обучения Azure можно использовать автоматизированный ML для создания модели Python и ее преобразования в формат ONNX. После того, как модели находятся в формате ONNX, они могут быть запущены на различных платформах и устройствах. Узнайте больше об [ускорении МОДЕЛЕй ML с помощью ONNX](concept-onnx.md).

Узнайте, как перейти в формат ONNX [в этом примере ноутбука Jupyter.](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/classification-bank-marketing-all-features/auto-ml-classification-bank-marketing-all-features.ipynb) Узнайте, какие [алгоритмы поддерживаются в ONNX](how-to-configure-auto-train.md#select-your-experiment-type).

Время выполнения ONNX также поддерживает C-, так что вы можете использовать модель, построенную автоматически в приложениях C, без необходимости перекодирования или любой из конценных сетей, которые вводят endpoints REST. Узнайте больше о [выводе моделей ONNX с помощью aPI-aPI с помощью программы ONNX.](https://github.com/Microsoft/onnxruntime/blob/master/docs/CSharp_API.md) 

## <a name="automated-ml-in-azure-machine-learning"></a>Автоматизированный ML в машинном обучении Azure

Azure Machine Learning предлагает два опыта работы с автоматизированным ML

* Для опытных клиентов с [кодом, Azure Machine Learning Python SDK](https://docs.microsoft.com/python/api/overview/azure/ml/intro?view=azure-ml-py) 

* Для клиентов с ограниченным/без кода студия Машинного обучения Azure в[https://ml.azure.com](https://ml.azure.com/)  

Ниже приводится краткое изложение высокоуровневых автоматизированных возможностей ML, поддерживаемых в каждом опыте.

<a name="parity"></a>

### <a name="experiment-settings"></a>Настройки эксперимента 

Следующие настройки позволяют настроить автоматизированный эксперимент ML. 

| | Пакет SDK для Python| Студия
----|:----:|:----:
Разделение данных на наборы поездов/валидации| ✓|✓
Поддерживает задачи ML: классификация, регрессия и прогнозирование| ✓| ✓
Оптимизация на основе первичной метрики| ✓| ✓
Поддерживает вычисление AML как цель вычислений | ✓|✓
Настройка горизонта прогноза, запаздывания мишеней & окну|✓|✓
Установка критериев выхода |✓|✓ 
Установка одновременных итераций| ✓|✓
Выпадение столбцов| ✓|✓
Алгоритмы блокировки|✓|✓
Перекрестная проверка |✓|✓
Поддерживает обучение кластеров Azure Databricks| ✓|
Просмотр инженерных названий функций|✓|
Резюме феатуризации| ✓|
Праздничная феатуризация|✓|
Уровень многообразия для файлов журналов| ✓|

### <a name="model-settings"></a>Настройки модели

Эти параметры могут быть применены к лучшей модели в результате автоматизированного эксперимента ML.

||Пакет SDK для Python|Студия
----|:----:|:----:
Лучшая регистрация модели| ✓|✓
Лучшее развертывание модели| ✓| ✓
Лучшая модель объяснить| ✓|✓
Включить голосование ансамбль & стек модели ансамбля| ✓|✓
Показать лучшую модель на основе непервичной метрики|✓|
Совместимость модели ONNX|✓|
Тестирование модели | ✓| |

### <a name="run-control-settings"></a>Выполнить настройки управления

Эти настройки позволяют просматривать и контролировать запуски экспериментов и его запуски. 

||Пакет SDK для Python| Студия
----|:----:|:----:
Выполнить сводную таблицу| ✓|✓
Отмена запуска| ✓|✓
Отмена детского запуска| ✓| ✓
Получить ограждения| ✓|✓
Пауза запустить| ✓| 
Запуск резюме| ✓| 

## <a name="next-steps"></a>Дальнейшие действия

Смотрите примеры и узнайте, как строить модели с помощью автоматизированного машинного обучения:

+ Следуйте [учебник: Автоматически обучать регрессионную модель с Azure машинного обучения](tutorial-auto-train-models.md)

+ Настройка настроек для автоматического учебного эксперимента:
  + В студии машинного обучения Azure [используйте эти шаги.](how-to-use-automated-ml-for-ml-models.md)
  + С Python SDK [используйте эти шаги.](how-to-configure-auto-train.md)

+ Узнайте, как автоматический поезд, используя данные временных рядов, [используйте эти шаги.](how-to-auto-train-forecast.md)

+ Попробуйте [образцы ноутбуков Jupyter для автоматизированного машинного обучения](https://github.com/Azure/MachineLearningNotebooks/blob/master/how-to-use-azureml/automated-machine-learning/)

* Автоматизированный ML также доступен в других решениях Microsoft, таких как, [ML.NET,](https://docs.microsoft.com/dotnet/machine-learning/automl-overview) [HDInsight,](../hdinsight/spark/apache-spark-run-machine-learning-automl.md) [Power BI](https://docs.microsoft.com/power-bi/service-machine-learning-automated) и [Сервер S'L](https://cloudblogs.microsoft.com/sqlserver/2019/01/09/how-to-automate-machine-learning-on-sql-server-2019-big-data-clusters/)
