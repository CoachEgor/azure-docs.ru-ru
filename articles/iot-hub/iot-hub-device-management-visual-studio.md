---
title: Управление устройствами Интернета вещей Azure с помощью Cloud Explorer для Visual Studio | Документация Майкрософт
description: Управляйте устройствами Интернета вещей Azure с помощью Cloud Explorer для Visual Studio, используя прямые методы и возможности управления требуемыми свойствами двойника.
author: shizn
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.date: 01/07/2019
ms.author: xshi
ms.openlocfilehash: 87a0847f5d42e014f3b2691c96446892176b481b
ms.sourcegitcommit: 41ca82b5f95d2e07b0c7f9025b912daf0ab21909
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60399578"
---
# <a name="use-cloud-explorer-for-visual-studio-for-azure-iot-hub-device-management"></a>Управление устройствами Центра Интернета вещей Azure с помощью Cloud Explorer для Visual Studio

![Комплексная схема](media/iot-hub-device-management-visual-studio/iot-e2e-simple.png)

[Cloud Explorer](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.CloudExplorerForVS) — это полезное расширение для Visual Studio. Оно позволяет просматривать ресурсы Azure, проверять их свойства и выполнять основные действия разработчика в среде Visual Studio. В нем предусмотрены возможности управления, с помощью которых можно выполнять различные задачи.

[!INCLUDE [iot-hub-basic](../../includes/iot-hub-basic-whole.md)]

| Возможность управления          | Задача                    |
|----------------------------|--------------------------------|
| Прямые методы             | Выполнение на устройстве таких действий, как запуск и остановка отправки сообщений или перезагрузка устройства.                                        |
| Чтение двойников устройств           | Получение зарегистрированного состояния устройства, например данных о том, что сейчас на устройстве мигает индикатор.                                    |
| Обновление двойников устройств         | Перевод устройства в определенные состояния, например включение зеленого светодиодного индикатора или установка 30-минутного интервала отправки данных телеметрии.         |
| Получение сообщений из облака на устройство   | Отправка уведомлений на устройство, например "Скорее всего сегодня будет дождь. Не забудьте взять зонтик".              |

Более подробное объяснение различий и рекомендации по использованию этих параметров см. в статьях [Руководство по обмену данными между устройством и облаком](iot-hub-devguide-d2c-guidance.md) и [Руководство по обмену данными между облаком и устройством](iot-hub-devguide-c2d-guidance.md).

Двойники устройств — это документы JSON, хранящие сведения о состоянии устройства (метаданные, конфигурации и условия). Центр Интернета вещей сохраняет двойник устройства для каждого устройства, подключаемого к нему. Дополнительные сведения о двойниках устройства см. в статье [Начало работы с двойниками устройств](iot-hub-node-node-twin-getstarted.md).

## <a name="what-you-learn"></a>Что вы узнаете

Вы узнаете, как использовать Cloud Explorer для Visual Studio с разными параметрами управления на компьютере разработки.

## <a name="what-you-do"></a>Что нужно сделать

Выполнить Cloud Explorer для Visual Studio с разными параметрами управления.

## <a name="what-you-need"></a>Необходимые элементы

- активная подписка Azure;
- Центр Интернета вещей Azure в подписке
- Microsoft Visual Studio 2017 с обновлением 8 или более поздней версии.
- Компонент Cloud Explorer из Visual Studio Installer (по умолчанию выбран вместе с рабочей нагрузкой Azure).

## <a name="update-cloud-explorer-to-latest-version"></a>Обновление Cloud Explorer до последней версии

Компонент Cloud Explorer из Visual Studio Installer поддерживает только мониторинг сообщений между устройством и облаком (в обоих направлениях). Необходимо скачать и установить последнюю версию [Cloud Explorer](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.CloudExplorerForVS), чтобы получить доступ к параметрам управления.

## <a name="sign-in-to-access-your-iot-hub"></a>Вход в систему для получения доступа к Центру Интернета вещей

1. В Visual Studio в окне **Cloud Explorer** щелкните значок управления учетными записями. Вы можете открыть окно Cloud Explorer с помощью меню **Вид** > **Cloud Explorer**.

    ![Выбор "Управление учетными записями"](media/iot-hub-visual-studio-cloud-device-messaging/click-account-management.png)

1. Щелкните **Управление учетными записями** в Cloud Explorer.
1. Выберите **Добавить учетную запись...** в новом окне при первом входе в Azure.
1. После входа появится список подписок Azure. Выберите подписки Azure, которые вы хотите просмотреть, и нажмите кнопку **Применить**.
1. Разверните узлы **Ваша подписка** > **IoT Hubs**(Центры Интернета вещей) > **Ваш Центр Интернета вещей**, после чего в узле Центра Интернета вещей появится список устройств. Щелкните устройство правой кнопкой мыши, чтобы получить доступ к параметрам управления.

    ![Параметры управления](media/iot-hub-device-management-visual-studio/management-options.png)

## <a name="direct-methods"></a>Прямые методы

1. Щелкните устройство правой кнопкой мыши и выберите **Invoke Device Direct Method** (Вызвать прямой метод устройства).
1. В поле ввода введите имя метода и полезные данные.
1. Результаты будут отображаться в области вывода **Центра Интернета вещей**.

## <a name="read-device-twin"></a>Чтение двойников устройств

1. Щелкните устройство правой кнопкой мыши и выберите **Изменить двойник устройства**.
1. Откроется файл **azure-iot-device-twin.json** с содержимым двойника устройства.

## <a name="update-device-twin"></a>Обновление двойников устройств

1. Внесите некоторые изменения в поле **tags** или **properties.desired** файла **azure-iot-device-twin.json**.
1. Нажмите клавиши **CTRL+S**, чтобы обновить двойник устройства.
1. Результаты будут отображаться в области вывода **Центра Интернета вещей**.

## <a name="send-cloud-to-device-messages"></a>Отправка сообщений из облака на устройство

Чтобы отправить сообщение из Центра Интернета вещей на устройство, выполните следующие действия.

1. Щелкните правой кнопкой мыши свое устройство и выберите **Send C2D Message** (Отправить сообщение C2D).
1. Введите сообщение в поле ввода.
1. Результаты будут отображаться в области вывода **Центра Интернета вещей**.

## <a name="next-steps"></a>Дальнейшие действия

Вы узнали, как использовать Cloud Explorer для Visual Studio с различными параметрами управления.

[!INCLUDE [iot-hub-get-started-next-steps](../../includes/iot-hub-get-started-next-steps.md)]