---
title: Проблемы скопируйте Azure данных об устранении неполадок диск Data Box | Документация Майкрософт
description: В этой статье описывается устранение проблем, возникающих во время копирования данных в с помощью журналов диска Azure Data Box.
services: databox
author: alkohli
ms.service: databox
ms.subservice: disk
ms.topic: article
ms.date: 06/13/2019
ms.author: alkohli
ms.openlocfilehash: 760f5c6c929aa082993683d7a466a71c6484289a
ms.sourcegitcommit: 72f1d1210980d2f75e490f879521bc73d76a17e1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/14/2019
ms.locfileid: "67148352"
---
# <a name="troubleshoot-data-copy-issues-in-azure-data-box-disk"></a>Устранение проблем при копировании данных в диск Azure Data Box

В этой статье относится к диска Microsoft Azure Data Box и описаны способы устранения проблемы, которые вы видите, при копировании данных на диски. В статье также описаны проблемы, при использовании средства копирования разбиения.


## <a name="data-copy-issues-when-using-a-linux-system"></a>Проблем при копировании данных при использовании системы Linux

В этом разделе подробно рассматриваются некоторые из основных проблем, вы столкнулись при использовании клиента Linux, чтобы скопировать данные на диски.

### <a name="issue-drive-getting-mounted-as-read-only"></a>Проблема Диск подключается как доступный только для чтения
 
**Причина** 

Это может быть вызвано некорректной работой файловой системы.

Повторное подключение диска как доступного для чтения и записи не работает с Дисками Data Box. Этот сценарий не поддерживается для дисков, расшифрованных с помощью DisLocker. Вам может удастся повторно подключить устройство с помощью следующей команды:

    `# mount -o remount, rw /mnt/DataBoxDisk/mountVol1`

Хотя повторное подключение прошло успешно, данные не будут сохраняться.

**Способы устранения:**

Выполните следующие действия на компьютере Linux:

1. Установка `ntfsprogs` пакета для ntfsfix служебной программы.
2. Отключение точки подключения, предоставляемым средством unlock для диска. Число точек подключения будет изменяться для дисков.

    ```
    unmount /mnt/DataBoxDisk/mountVol1
    ```

3. Запустите `ntfsfix` на соответствующий путь. Выделенное число следует использовать тот же шаг 2.

    ```
    ntfsfix /mnt/DataBoxDisk/bitlockerVol1/dislocker-file
    ```

4. Выполните следующую команду для удаления метаданных спящего режима, который может вызвать проблемы подключения.

    ```
    ntfs-3g -o remove_hiberfile /mnt/DataBoxDisk/bitlockerVol1/dislocker-file /mnt/DataBoxDisk/mountVol1
    ```

5. Сделайте чистого отключения.

    ```
    ./DataBoxDiskUnlock_x86_64 /unmount
    ```

6. Выполните чистую unlock и подключения.
7. Тестировать точке подключения путем создания файла.
8. Отключите и снова подключить проверить сохраняемость файлов.
9. Продолжите копирование данных.
 
### <a name="issue-error-with-data-not-persisting-after-copy"></a>Проблема Ошибка с данными, не сохраняющимися после копирования
 
**Причина** 

Если вы видите, что на вашем диске нет данных после того, как он был отключен (хотя на него были скопированы данные), тогда, возможно, вы повторно подключили диск в качестве доступного для чтения и записи после того, как он был подключен как доступный только для чтения.

**Способы устранения:**
 
В этом случае просмотрите разрешения для [дисков, подключаемых как доступные только для чтения](#issue-drive-getting-mounted-as-read-only).

Если это не так, скопируйте журналы из папки, которая содержит средство разблокировки Диска Data Box, и [обратитесь в службу поддержки Майкрософт](data-box-disk-contact-microsoft-support.md).


## <a name="data-box-disk-split-copy-tool-errors"></a>Ошибки средства Data Box Disk Split Copy

В следующей таблице приведены проблем, возникающих при использовании средства копирования Split для разделения данных между несколькими дисками.

|Сообщение об ошибке и предупреждения |Рекомендации |
|---------|---------|
|[Сведения] Получение пароля BitLocker для тома: m <br>[Ошибка] При получении ключа BitLocker для тома m: Перехвачено исключение<br> В последовательности нет элементов.|Эта ошибка возникает в том случае, если целевой диск Data Box находятся в автономном режиме. <br> Используйте средство `diskmgmt.msc` для подключенных дисков.|
|[Ошибка] Возникло исключение. Операция WMI завершилась со сбоем:<br> Method=UnlockWithNumericalPassword, ReturnValue=2150694965, <br>Win32Message=недопустимый формат восстановления пароля. <br>Пароли восстановления BitLocker состоят из 48 цифр. <br>Убедитесь, что пароль восстановления установлен в правильном формате, и повторите попытку.|Используйте средство разблокировки диска Data Box, чтобы открыть диск, затем повторите команду. Дополнительные сведения см. в следующих разделах: <li> [Разблокировка дисков на клиенте Windows](data-box-disk-deploy-set-up.md#unlock-disks-on-windows-client). </li><li> [Разблокировка дисков на клиенте Linux](data-box-disk-deploy-set-up.md#unlock-disks-on-linux-client). </li>|
|[Ошибка] Возникло исключение. Файл DriveManifest.xml существует на целевом диске. <br> Это означает, что целевой диск был подготовлен с помощью другого файла журнала. <br>Чтобы добавить больше данных на тот же диск, используйте предыдущий файл журнала. Чтобы удалить существующие данные и повторно использовать целевой диск для нового задания импорта, удалите *DriveManifest.xml* на диске. Повторно выполните команду с использованием нового файла журнала.| Эта ошибка возникает, если вы пытались использовать один и тот же набор дисков для нескольких сеансов импорта. <br> Используйте один набор дисков только для одного сеанса разделения и копирования.|
|[Ошибка] Возникло исключение. Данные импорта CopySessionId importdata-sept-test-1 ссылаются на предыдущий сеанс копирования, и их нельзя использовать повторно для нового сеанса копирования.|Эта ошибка возникает, если вы пытаетесь использовать то же имя задания, которое уже использовали для успешно выполненного задания.<br> Укажите уникальное имя для нового задания.|
|[Сведения] Имя конечного файла или каталога превышает ограничение по длине NTFS. |Это сообщение возникает, если конечный файл был переименован из-за длинного пути.<br> Измените расположение параметра в файле `config.json` для управления действиями такого типа.|
|[Ошибка] Возникло исключение. Неверная escape-последовательность JSON. |Это сообщение возникает, если файлу config.json назначен недопустимый формат. <br> Проверьте файл `config.json`, используя [JSONlint](https://jsonlint.com/), перед его сохранением.|


## <a name="next-steps"></a>Дальнейшие действия

- Узнайте, как [Устранение неполадок средства проверки](data-box-disk-troubleshoot.md).
