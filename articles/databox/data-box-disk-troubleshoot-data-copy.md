---
title: Проблемы с копированием данных Azure Data Box Disk Документы Майкрософт
description: Описывает, как устранить проблемы, наблюдаемые во время копирования данных в Azure Data Box Disk с помощью журналов.
services: databox
author: alkohli
ms.service: databox
ms.subservice: disk
ms.topic: article
ms.date: 06/13/2019
ms.author: alkohli
ms.openlocfilehash: 760f5c6c929aa082993683d7a466a71c6484289a
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "67148352"
---
# <a name="troubleshoot-data-copy-issues-in-azure-data-box-disk"></a>Проблемы с копированием данных на диске ящика данных Azure

В этой статье применяется microsoft Azure Data Box Disk и описывается, как устранить любые проблемы, которые вы видите при копировании данных на диски. Статья также охватывает вопросы при использовании инструмента сплит-копий.


## <a name="data-copy-issues-when-using-a-linux-system"></a>Проблемы с копированием данных при использовании системы Linux

В этом разделе подробно описаны некоторые из основных проблем, с которыми сталкиваются при использовании клиента Linux для копирования данных на диски.

### <a name="issue-drive-getting-mounted-as-read-only"></a>Выпуск: Драйв, смонтированный как только для чтения
 
**Вызвать** 

Это может быть вызвано некорректной работой файловой системы.

Повторное подключение диска как доступного для чтения и записи не работает с Дисками Data Box. Этот сценарий не поддерживается для дисков, расшифрованных с помощью DisLocker. Вам может удастся повторно подключить устройство с помощью следующей команды:

    `# mount -o remount, rw /mnt/DataBoxDisk/mountVol1`

Хотя повторное подключение прошло успешно, данные не будут сохраняться.

**Решение**

Присылайте следующие шаги в системе Linux:

1. Установите `ntfsprogs` пакет для утилиты ntfsfix.
2. Открепите точки крепления, предусмотренные для привода инструментом разблокировки. Количество точек крепления будет варьироваться для дисков.

    ```
    unmount /mnt/DataBoxDisk/mountVol1
    ```

3. Запуск `ntfsfix` на соответствующем пути. Выделенное число должно быть таким же, как шаг 2.

    ```
    ntfsfix /mnt/DataBoxDisk/bitlockerVol1/dislocker-file
    ```

4. Выполнить следующую команду, чтобы удалить метаданные спячки, которые могут вызвать проблему крепления.

    ```
    ntfs-3g -o remove_hiberfile /mnt/DataBoxDisk/bitlockerVol1/dislocker-file /mnt/DataBoxDisk/mountVol1
    ```

5. Сделайте чистый unmount.

    ```
    ./DataBoxDiskUnlock_x86_64 /unmount
    ```

6. Сделайте чистую разблокировку и смонтируйте.
7. Проверьте точку крепления, написав файл.
8. Открепите и ререйз для проверки сохранения файла.
9. Продолжить копию данных.
 
### <a name="issue-error-with-data-not-persisting-after-copy"></a>Выпуск: Ошибка с данными, не сохраняющимися после копирования
 
**Вызвать** 

Если вы видите, что на вашем диске нет данных после того, как он был отключен (хотя на него были скопированы данные), тогда, возможно, вы повторно подключили диск в качестве доступного для чтения и записи после того, как он был подключен как доступный только для чтения.

**Решение**
 
В этом случае просмотрите разрешения для [дисков, подключаемых как доступные только для чтения](#issue-drive-getting-mounted-as-read-only).

Если это не так, скопируйте журналы из папки, которая содержит средство разблокировки Диска Data Box, и [обратитесь в службу поддержки Майкрософт](data-box-disk-contact-microsoft-support.md).


## <a name="data-box-disk-split-copy-tool-errors"></a>Ошибки средства Data Box Disk Split Copy

Проблемы, наблюдаемые при использовании инструмента Split Copy для разделения данных на несколько дисков, обобщаются в следующей таблице.

|Сообщение об ошибке и предупреждения |Рекомендации |
|---------|---------|
|(Инфо) Получение пароля BitLocker для объема: m <br>(Ошибка) Исключение поймали при получении ключа BitLocker для объема m:<br> В последовательности нет элементов.|Эта ошибка возникает в том случае, если целевой диск Data Box находятся в автономном режиме. <br> Используйте средство `diskmgmt.msc` для подключенных дисков.|
|[Ошибка] Возникло исключение: не удалось выполнить операцию WMI:<br> Method=UnlockWithNumericalPassword, ReturnValue=2150694965, <br>Win32Message=недопустимый формат восстановления пароля. <br>Пароли восстановления BitLocker состоят из 48 цифр. <br>Убедитесь, что пароль восстановления установлен в правильном формате, и повторите попытку.|Используйте средство разблокировки диска Data Box, чтобы открыть диск, затем повторите команду. Дополнительные сведения см. в следующих разделах: <li> [Разблокировка дисков на клиенте Windows](data-box-disk-deploy-set-up.md#unlock-disks-on-windows-client). </li><li> [Разблокировка дисков на клиенте Linux](data-box-disk-deploy-set-up.md#unlock-disks-on-linux-client). </li>|
|[Ошибка] Возникло исключение: файл DriveManifest.xml существует на целевом диске. <br> Это означает, что целевой диск был подготовлен с помощью другого файла журнала. <br>Чтобы добавить больше данных на тот же диск, используйте предыдущий файл журнала. Чтобы удалить существующие данные и повторно использовать целевой диск для нового задания импорта, удалите *DriveManifest.xml* на диске. Повторно выполните команду с использованием нового файла журнала.| Эта ошибка возникает, если вы пытались использовать один и тот же набор дисков для нескольких сеансов импорта. <br> Используйте один набор дисков только для одного сеанса разделения и копирования.|
|[Ошибка] Возникло исключение: данные импорта CopySessionId importdata-sept-test-1 ссылаются на предыдущий сеанс копирования, и их нельзя использовать повторно для нового сеанса копирования.|Эта ошибка возникает, если вы пытаетесь использовать то же имя задания, которое уже использовали для успешно выполненного задания.<br> Укажите уникальное имя для нового задания.|
|[Сведения] Имя конечного файла или каталога превышает ограничение по длине NTFS. |Это сообщение возникает, если конечный файл был переименован из-за длинного пути.<br> Измените расположение параметра в файле `config.json` для управления действиями такого типа.|
|[Ошибка] Возникло исключение: неверная escape-последовательность JSON. |Это сообщение возникает, если файлу config.json назначен недопустимый формат. <br> Проверьте файл `config.json`, используя [JSONlint](https://jsonlint.com/), перед его сохранением.|


## <a name="next-steps"></a>Дальнейшие действия

- Узнайте, как [устранить проблемы с инструментом проверки.](data-box-disk-troubleshoot.md)
