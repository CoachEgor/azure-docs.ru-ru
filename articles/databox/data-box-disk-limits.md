---
title: Ограничения для диска Azure Data Box | Документы Майкрософт
description: Описание ограничений системы и рекомендуемых размеров для диска Microsoft Azure Data Box.
services: databox
author: alkohli
ms.service: databox
ms.subservice: disk
ms.topic: article
ms.date: 04/01/2019
ms.author: alkohli
ms.openlocfilehash: 32445e3f6859a6161eb2fae20233c598234f18a0
ms.sourcegitcommit: 41ca82b5f95d2e07b0c7f9025b912daf0ab21909
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60400632"
---
# <a name="azure-data-box-disk-limits"></a>Ограничения для Диска Azure Data Box


Учитывайте эти ограничения, когда развертываете и используете решение диска Microsoft Azure Data Box.

## <a name="data-box-service-limits"></a>Ограничения службы Data Box

 - Служба Data Box доступна в регионах Azure, перечисленных в [доступность по регионам](data-box-disk-overview.md#region-availability).
 - Диск Data Box поддерживается одну учетную запись хранения.

## <a name="data-box-disk-performance"></a>Производительность диска Data Box

При тестировании с дисками, подключенными через USB 3.0, производительность диска составляла до 430 МБ/с. Фактические значения варьируются в зависимости от используемого размера файла. Для небольших файлов производительность может быть ниже.

## <a name="azure-storage-limits"></a>Ограничения службы хранилища Azure

Этот раздел описывает ограничения для службы хранилища Azure и требуемые соглашения об именовании для файлов Azure, блочных BLOB-объектов Azure и страничных BLOB-объектов Azure применительно к службе Data Box. Тщательно изучите ограничения хранилища и следуйте всем рекомендациям.

Актуальные сведения об ограничениях службы хранилища Azure и рекомендациях по именованию общих папок, контейнеров и файлов см. в следующих статьях:

- [Именование контейнеров и ссылка на них](https://docs.microsoft.com/rest/api/storageservices/naming-and-referencing-containers--blobs--and-metadata)
- [Именование общих папок и ссылка на них](https://docs.microsoft.com/rest/api/storageservices/naming-and-referencing-shares--directories--files--and-metadata)
- [Соглашения по блочным и страничным BLOB-объектам](https://docs.microsoft.com/rest/api/storageservices/understanding-block-blobs--append-blobs--and-page-blobs)

> [!IMPORTANT]
> Если имеются любые файлы или каталоги, превышающие ограничения службы хранилища Azure или несоответствующие соглашениям об именовании файлов и BLOB-объектов Azure, они не направляются в службу хранилища Azure через службу Data Box.

## <a name="data-upload-caveats"></a>Предупреждения, связанные с передачей данных

- Не нужно копировать данные прямо на диски. Копирование данных в предварительно созданных *BlockBlob*,*PageBlob*, и *AzureFile* папки.
- Папка внутри *BlockBlob* и *PageBlob* является контейнером. Например, контейнеры создаются в виде *BlockBlob/контейнер* и *PageBlob/контейнер*.
- При наличии существующего объекта Azure (например, большой двоичный объект) в облаке с тем же именем, как объект, который выполняется копирование диска Data Box будет переименуйте файл как file(1) в облаке.
- Каждый файл, записанный в общие папки *BlockBlob* и *PageBlob*, отправляется в виде блочного и страничного BLOB-объекта, соответственно.
- Любая пустая иерархия каталогов (без файлов), созданная в папках *BlockBlob* и *PageBlob*, не передается.
- Если при отправке данных в Azure возникают ошибки, в целевой учетной записи хранения создается журнал ошибок. Путь к этому журналу ошибок доступен на портале при завершении передачи, чтобы вы могли просмотреть журнал и предпринять корректирующие действия. Не удаляйте данные из источника, не проверив переданные данные.
- Если вы указали управляемые диски в том порядке, просмотрите следующие дополнительные рекомендации.

    - Вы можете иметь только один управляемый диск с заданным именем в группе ресурсов во всех предварительно созданных папках и по всему Диску Data Box. Это значит, что виртуальные жесткие диски, отправленные в предварительно созданные папки, должны иметь уникальные имена. Убедитесь, что указанное имя не совпадает с уже существующим управляемым диском в группе ресурсов. Если виртуальные жесткие диски имеют одинаковые имена, только один виртуальный жесткий диск преобразуется в управляемый диск с таким именем. Другие виртуальные жесткие диски передаются в виде страничных BLOB-объектов в промежуточную учетную запись хранения.
    - Всегда копируйте виртуальные жесткие диски в одну из предварительно созданных папок. Если вы копируете виртуальные жесткие диски за пределами этих папок или в созданную вами папку, они отправляются в учетную запись хранения Azure в виде страничных BLOB-объектов, а не управляемых дисков.
    - Чтобы создать управляемые диски, можно отправить только фиксированные виртуальные жесткие диски. Динамические виртуальные жесткие диски, разностные виртуальные жесткие диски или VHDX-файлы не поддерживаются.

## <a name="azure-storage-account-size-limits"></a>Ограничения размера для учетной записи хранения Azure

Ниже приведены ограничения для размера данных, копируемых в учетную запись хранения. Убедитесь, что отправляемые данные соответствуют этим ограничениям. Наиболее актуальные сведения об этих ограничениях см. в статьях [Целевые показатели масштабируемости хранилища BLOB-объектов Azure](https://docs.microsoft.com/azure/storage/common/storage-scalability-targets#azure-blob-storage-scale-targets) и [Целевые показатели масштабируемости службы файлов Azure](https://docs.microsoft.com/azure/storage/common/storage-scalability-targets#azure-files-scale-targets).

| Размер данных, копируемых в учетную запись хранения Azure                      | Ограничение по умолчанию          |
|---------------------------------------------------------------------|------------------------|
| Блочный BLOB-объект и страничный BLOB-объект                                            | 500 ТБ на учетную запись хранения. <br> Сюда входят данные из всех источников, включая диск Data Box.|


## <a name="azure-object-size-limits"></a>Ограничения размера для объектов Azure

Ниже приведены размеры объектов Azure, которые могут быть записаны. Убедитесь, что все передаваемые файлы соответствуют этим ограничениям.

| Тип объекта Azure | Ограничение по умолчанию                                             |
|-------------------|-----------------------------------------------------------|
| Блочный BLOB-объект        | ~4,75 ТиБ                                                 |
| Страничный BLOB-объект         | 8 ТиБ <br> (Каждый файл, переданный в формате страничный BLOB-объект должен быть выровнен 512 байт, в противном случае произойдет сбой. <br> VHD- и VHDX, выровнены 512 байт.) |
|Файлы Azure        | 1 ТиБ <br> Макс. размер общего ресурса — 5 Тиб     |
| Управляемые диски     |4 ТиБ <br> Дополнительные сведения о размере и ограничения см. в разделе: <li>[Целевые показатели масштабируемости для управляемых дисков](../virtual-machines/windows/disk-scalability-targets.md#managed-virtual-machine-disks)</li>|


## <a name="azure-block-blob-page-blob-and-file-naming-conventions"></a>Соглашения об именовании для файлов, блочных и страничных BLOB-объектов Azure

| Сущность                                       | Соглашения                                                                                                                                                                                                                                                                                                               |
|----------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Имена контейнеров для блочного BLOB-объекта и страничного BLOB-объекта <br> Имена общую папку для файлов Azure | Это должно быть допустимое DNS-имя длиной от 3 до 63 знаков. <br>  Первый символ — буква или цифра. <br> Может содержать только строчные буквы, цифры и дефисы (-). <br> Перед каждым дефисом (-) и после него должна стоять буква или цифра. <br> Последовательные дефисы в именах использовать запрещено. |
| Имена каталогов и файлов для файлов Azure     |<li> Не меняющие и не учитывающие регистр, не превышающие 255 символов. </li><li> Не может заканчиваться косой чертой (/). </li><li>Если это предусмотрено, она будет автоматически удалена. </li><li> Нельзя использовать следующие символы: <code>" \\ / : \| < > * ?</code></li><li> Зарезервированные веб-адреса должны быть надлежащим образом экранированы. </li><li> Запрещены недопустимые знаки URL-пути. Кодовые точки, например \\uE000 не являются допустимыми символами Юникода. Некоторые символы ASCII и Юникода, например, управляющие символы (от 0x00 до 0x1F \\u0081, и т.д.), также не допускаются. Правила, регулирующие строки Юникода в HTTP/1.1, см. в документах RFC 2616, "Section 2.2: Basic Rules" (Раздел 2.2: Основные правила) и "RFC 3987". </li><li> Следующие имена файлов недопустимы: LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, LPT9, COM1, COM2, COM3, COM4, ​​COM5, COM6, COM7, COM8, COM9, PRN, AUX, NUL, CON, CLOCK$, точечный символ (.) и два точечных символа (..).</li>|
| Имена блочного BLOB-объекта и страничного BLOB-объекта      | Имена BLOB-объектов указываются с учетом регистра и могут содержать любое сочетание символов. <br> Длина имени BLOB-объекта должна составлять от 1 до 1024 символов. <br> Зарезервированные веб-адреса должны быть надлежащим образом экранированы. <br>Число сегментов пути, содержащих имя BLOB-объекта, не может превышать 254. Сегмент пути — это строка между последовательными символами-разделителями (например, косая черта"/"), которая соответствует имени виртуального каталога. |

## <a name="managed-disk-naming-conventions"></a>Управляемые соглашения об именовании диска

| Сущность | Соглашения                                             |
|-------------------|-----------------------------------------------------------|
| Управляемые имена дисков       | <li> Имя должно быть 1 до 80 символов. </li><li> Имя должно начинаться с буквы или цифры, заканчиваться буквой, цифрой или символом подчеркивания. </li><li> Имя может содержать только буквы, цифры, символы подчеркивания, точки и дефисы. </li><li>   Имя не должны содержать пробелы или `/`.                                              |

## <a name="next-steps"></a>Дальнейшие действия

- Просмотрите [требования к системе диск Data Box](data-box-disk-system-requirements.md)
