---
title: Диагностика и решение инструмента
description: Узнайте, как можно устранить проблемы с приложением в службе приложений Azure с помощью диагностики и решения инструмента на портале Azure.
keywords: app service, azure app service, diagnostics, support, web app, troubleshooting, self-help
author: jen7714
ms.topic: article
ms.date: 10/18/2019
ms.author: jennile
ms.custom: seodec18
ms.openlocfilehash: e06e71d4436ac6c64ff2edc876d7849d084482f8
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "74671639"
---
# <a name="azure-app-service-diagnostics-overview"></a>Общие сведения о диагностике службы приложений Azure

Если вы используете веб-приложение, нужно быть готовым к любым возможным проблемам, от появления ошибок 500 до сообщений пользователей о том, что сайт не работает. Диагностика Службы приложений — это интеллектуальный и интерактивный опыт, который поможет вам устранить неполадки в приложении без необходимости конфигурации. Когда вы столкнетесь с проблемами с вашим приложением, диагностика Службы App указывает на то, что не так, чтобы направлять вас к нужной информации, чтобы более легко и быстро устранить исполнить проблему.

Хотя этот опыт наиболее полезен, когда у вас возникли проблемы с приложением в течение последних 24 часов, все диагностические графики всегда доступны для анализа.

Диагностика службы приложений работает не только для приложений Windows, но и для приложений на [Linux с контейнерами](https://docs.microsoft.com/azure/app-service/containers/app-service-linux-intro), в [среде службы приложений](https://docs.microsoft.com/azure/app-service/environment/intro) и в службе [Функции Azure](https://docs.microsoft.com/azure/azure-functions/functions-overview).

## <a name="open-app-service-diagnostics"></a>Доступ к диагностике службы приложений

Чтобы получить доступ к диагностике Службы Приложений, перейдите в веб-приложение Службы App или среду службы приложений на [портале Azure.](https://portal.azure.com) На панели навигации слева щелкните **Диагностика и решение проблем**.

Для функций Azure перейдите в приложение функции и в верхней навигации, нажмите на **функции Платформы**и выберите **Диагностику и решение проблем** из раздела **управления ресурсами.**

На главной странице диагностики Службы приложений вы можете выбрать категорию, которая наилучшим образом описывает проблему с вашим приложением, используя ключевые слова в каждой плитке домашней страницы. Кроме того, на этой странице вы можете найти **диагностические инструменты** для приложений Windows. Смотрите [диагностические инструменты (только для приложения Windows)](#diagnostic-tools-only-for-windows-app).

![Домашняя страница](./media/app-service-diagnostics/app-service-diagnostics-homepage-1.png)

## <a name="interactive-interface"></a>Интерактивный интерфейс

Как только вы выберете категорию главной страницы, которая наилучшим образом соответствует проблеме вашего приложения, интерактивный интерфейс диагностики Службы App Service, Genie, может помочь вам диагностировать и решать проблемы с вашим приложением. Вы можете использовать ярлыки плитки, предоставляемые Genie, для просмотра полного диагностического отчета проблемной категории, который вас интересует. Ярлыки плитки предоставляют вам прямой доступ к диагностическим показателям.

![Плитки быстрых действий](./media/app-service-diagnostics/tile-shortcuts-2.png)

Нажав на эти плитки, вы можете увидеть список тем, связанных с проблемой, описанной в плитке. Эти темы предоставляют фрагменты заметной информации из полного доклада. Вы можете нажать на любую из этих тем, чтобы исследовать проблемы дальше. Кроме того, вы можете нажать на **Просмотр Полный отчет,** чтобы изучить все темы на одной странице.

![Разделы](./media/app-service-diagnostics/application-logs-insights-3.png)

![Посмотреть полный отчет](./media/app-service-diagnostics/view-full-report-4.png)

## <a name="diagnostic-report"></a>Диагностический отчет

После того, как вы решите исследовать проблему дальше, нажав на тему, вы можете просмотреть более подробную информацию о теме часто дополняется графики и разметки. Диагностический отчет может быть мощным инструментом для выявления проблемы с вашим приложением.

![Диагностический отчет](./media/app-service-diagnostics/full-diagnostic-report-5.png)

## <a name="health-checkup"></a>Проверка работоспособности

Если вы не знаете, что не так с вашим приложением или не знаете, с чего начать устранение неполадок, проверка работоспособности является хорошим местом для начала. Проверка работоспособности анализирует ваши приложения, чтобы дать вам быстрый, интерактивный обзор, который указывает, что является здоровым и что неправильно, говоря вам, где искать, чтобы исследовать проблему. Интеллектуальный и интерактивный интерфейс предлагает рекомендации в течение всего процесса устранения проблем. Проверка работоспособности интегрирована с опытом Genie для приложений Windows и диагностического отчета для веб-приложений для приложений Linux.

### <a name="health-checkup-graphs"></a>Графики проверки здоровья

Есть четыре различных графика в медицинской проверки.

- **запросы и ошибки:** График, показывающий количество запросов, сделанных за последние 24 часа, а также ошибки сервера HTTP.
- **производительность приложения:** График, показывающий время отклика в течение последних 24 часов для различных групп процентилей.
- **Использование процессора:** График, показывающий общее использование процессора в процентах в экземпляре за последние 24 часа.  
- **использование памяти:** График, показывающий общее процентное использование физической памяти на экземпляр за последние 24 часа.

![Проверка работоспособности](./media/app-service-diagnostics/health-checkup-6.png)

### <a name="investigate-application-code-issues-only-for-windows-app"></a>Исследуйте проблемы с кодом приложений (только для приложения Windows)

Многие проблемы приложений связаны с ошибками в коде приложения, поэтому диагностика службы приложений в интеграции [Application Insights](https://docs.microsoft.com/azure/azure-monitor/app/app-insights-overview) позволяет проводить анализ исключений и зависимостей для поиска проблем, имеющих отношение к выбранному времени простоя. Анализ приложений должен быть включен отдельно.

![Application Insights](./media/app-service-diagnostics/application-insights-7.png)

Для просмотра исключений и зависимостей приложений, выберите **веб-приложение вниз** или **веб-приложение медленно** плитки ярлыки.

### <a name="troubleshooting-steps-only-for-windows-app"></a>Шаги устранения неполадок (только для приложения Для Windows)

Если проблема обнаружена с определенной категорией проблем в течение последних 24 часов, вы можете просмотреть полный диагностический отчет, и диагностика Службы приложений может побудить вас просмотреть больше советов по устранению неполадок и последующих шагов для более управляемого опыта.

![Анализ приложений и устранение неполадок и следующие шаги](./media/app-service-diagnostics/troubleshooting-and-next-steps-8.png)

## <a name="diagnostic-tools-only-for-windows-app"></a>Диагностические инструменты (только для приложения Для Windows)

Диагностические инструменты включают в себя более продвинутые диагностические инструменты, которые помогут вам исследовать проблемы кода приложения, медлительность, строки соединения и многое другое. и упреждающие инструменты, которые помогут вам уменьшить проблемы с использованием процессора, запросами и памятью.

### <a name="proactive-cpu-monitoring"></a>Активный мониторинг процессора

Активный мониторинг процессора предоставляет вам простой и упреждающий способ действий, когда ваше приложение или детский процесс для вашего приложения потребляет высокие ресурсы процессора. Можно установить собственные правила порога процессора, чтобы временно смягчить проблему с высокой цОС до тех пор, пока не будет найдена реальная причина неожиданной проблемы. Для получения дополнительной информации [см.](https://azure.github.io/AppService/2019/10/07/Mitigate-your-CPU-problems-before-they-even-happen.html)

![Активный мониторинг процессора](./media/app-service-diagnostics/proactive-cpu-monitoring-9.png)

### <a name="auto-healing-and-proactive-auto-healing"></a>Авто-исцеление и активное автоматическое исцеление

Автоматическое исцеление — это мера по смягчению последствий, с тем чтобы ваше приложение поведение непредвиденное. Вы можете настроить свои собственные правила на основе количества запросов, медленного запроса, лимита памяти и кода состояния HTTP для запуска мер по смягчению последствий. Используйте инструмент, чтобы временно смягчить неожиданное поведение, пока не найдите причину. Для получения дополнительной информации, [см. Объявление о новом опыте автоматического исцеления в диагностике услуг приложений](https://azure.github.io/AppService/2018/09/10/Announcing-the-New-Auto-Healing-Experience-in-App-Service-Diagnostics.html).

![Автолечение](./media/app-service-diagnostics/auto-healing-10.png)

Как и упреждающий мониторинг процессора, упреждающее автоматическое исцеление является решением под ключ для смягчения неожиданного поведения вашего приложения. Проактивное автоматическое восстановление перезапускает приложение, когда Служба приложения определяет, что ваше приложение находится в невосстановимом состоянии. Для получения дополнительной [информации, см.](https://azure.github.io/AppService/2017/08/17/Introducing-Proactive-Auto-Heal.html)

## <a name="navigator-and-change-analysis-only-for-windows-app"></a>Анализ навигатора и изменений (только для приложения Для Windows)

В большой команде с непрерывной интеграцией и там, где ваше приложение имеет много зависимостей, может быть трудно определить конкретные изменения, которые вызывают нездоровое поведение. Навигатор помогает получить видимость в топологии приложения, автоматически отображая карту зависимости приложения и всех ресурсов в одной подписке. Navigator позволяет просматривать сводный список изменений, внесенных вашим приложением и его зависимостями, и сужать изменения, вызывающие нездоровое поведение. Он может быть доступен через домашнюю страницу плитки **Навигатор** и должен быть включен, прежде чем использовать его в первый раз. Для получения дополнительной информации [см.](https://azure.github.io/AppService/2019/08/06/Bring-visibility-to-your-app-and-its-dependencies-with-Navigator.html)

![Страница навигатора по умолчанию](./media/app-service-diagnostics/navigator-default-page-11.png)

![Дифф вид](./media/app-service-diagnostics/diff-view-12.png)

Анализ изменений для изменений в приложениях может быть доступен с помощью ярлыков, **изменений приложений** и **сбоев приложений** в **доступности и производительности,** чтобы вы могли использовать его одновременно с другими метриками. Перед использованием функции необходимо сначала включить ее. Для получения дополнительной информации [см.](https://azure.github.io/AppService/2019/05/07/Announcing-the-new-change-analysis-experience-in-App-Service-Diagnostics-Analysis.html)

Опубликуйте свои вопросы или отзывы на [UserVoice,](https://feedback.azure.com/forums/169385-web-apps) добавив в заголовок «Diag».
