---
title: Настройка учетных данных развертывания
description: Сведения о типах учетных данных развертывания в службе приложений Azure и их настройке и использовании.
ms.topic: article
ms.date: 08/14/2019
ms.reviewer: byvinyal
ms.custom: seodec18
ms.openlocfilehash: a9d875e2c3899fa91b9cc41c0ee3b5a93ec5b8c8
ms.sourcegitcommit: 5d6ce6dceaf883dbafeb44517ff3df5cd153f929
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2020
ms.locfileid: "76843792"
---
# <a name="configure-deployment-credentials-for-azure-app-service"></a>Настройка учетных данных развертывания службы приложений Azure
[Служба приложений Azure](https://go.microsoft.com/fwlink/?LinkId=529714) поддерживает два типа учетных данных для [развертывания локальной системы Git](deploy-local-git.md) и [развертывания FTP(S)](deploy-ftp.md). Эти учетные данные не совпадают с учетными данными подписки Azure.

* **Учетные данные на уровне пользователя**. Это единый набор учетных данных для всей учетной записи Azure. С его помощью можно развернуть службу приложений для любого приложения и в любой подписке, на доступ к которой у этой учетной записи Azure есть права. Именно это значение по умолчанию отображается на портале графического пользовательского интерфейса (например, в разделах **Обзор** и **Свойства** на [странице ресурсов](../azure-resource-manager/management/manage-resources-portal.md#manage-resources) приложения). Когда пользователю предоставляется доступ к приложению через Управление доступом на основе ролей (RBAC) или разрешения соадминистратора, этот пользователь может использовать свои учетные данные на уровне пользователя до тех пор, пока доступ не будет отозван. Не используйте эти учетные данные совместно с другими пользователями Azure.

* **Учетные данные на уровне приложения**. Это единый набор учетных данных для каждого приложения. С его помощью можно развернуть только одно приложение. Учетные данные для каждого приложения автоматически формируются при создании приложения. Их нельзя настроить вручную, но можно сбросить в любое время. Чтобы предоставить пользователю доступ к учетным данным уровня приложения через (RBAC), этот пользователь должен быть участником приложения (включая встроенную роль участника веб-сайта). У читателей нет прав на публикацию и доступа к этим учетным данным.

## <a name="userscope"></a>Настройка учетных данных на уровне пользователя

Учетные данные на уровне пользователя можно настроить на [странице ресурсов](../azure-resource-manager/management/manage-resources-portal.md#manage-resources) любого приложения. Независимо от того, в каком приложении вы настроите эти учетные данные, они будут применяться для всех приложений и всех подписок в учетной записи Azure. 

### <a name="in-the-cloud-shell"></a>В Cloud Shell

Чтобы настроить пользователя развертывания в [Cloud Shell](https://shell.azure.com), выполните команду [AZ webapp Deployment User Set](/cli/azure/webapp/deployment/user?view=azure-cli-latest#az-webapp-deployment-user-set) . Вместо \<username> и \<password> укажите имя пользователя и пароль развертывания. 

- Имя пользователя должно быть уникальным в Azure. Кроме того, чтобы отправка в локальный репозиторий Git работала, имя пользователя не должно содержать символ @. 
- Пароль должен содержать не менее восьми символов и включать два из трех следующих элементов: буквы, цифры и символы. 

```azurecli-interactive
az webapp deployment user set --user-name <username> --password <password>
```

В выходных данных JSON пароль отображается как `null`. Если появляется сообщение об ошибке `'Conflict'. Details: 409`, измените имя пользователя. Если появляется сообщение об ошибке `'Bad Request'. Details: 400`, используйте более надежный пароль. 

### <a name="in-the-portal"></a>На портале

В портал Azure необходимо иметь по крайней мере одно приложение, чтобы получить доступ к странице учетные данные для развертывания. Чтобы настроить учетные данные на уровне пользователя, выполните следующие действия.

1. В [портал Azure](https://portal.azure.com)в меню слева выберите **службы приложений** >  **\<any_app >**  > **центр развертывания** > **панель мониторинга** **FTP** > .

    ![](./media/app-service-deployment-credentials/access-no-git.png)

    Если вы уже настроили развертывание Git, выберите **службы приложений** >  **&lt;any_app >**  > **центр развертывания** > **FTP/учетные данные**.

    ![](./media/app-service-deployment-credentials/access-with-git.png)

2. Выберите **учетные данные пользователя**, настройте имя пользователя и пароль, а затем выберите **сохранить учетные данные**.

После задания учетных данных развертывания можно найти имя пользователя для развертывания *Git* на странице **обзора** приложения.

![](./media/app-service-deployment-credentials/deployment_credentials_overview.png)

Если настроено развертывание Git, на странице отображается **имя пользователя Git или развертывания**; в противном случае — **имя пользователя FTP или развертывания**.

> [!NOTE]
> Azure не отображает пароль развертывания на уровне пользователя. Если вы забыли пароль, можно сбросить учетные данные, выполнив действия, описанные в этом разделе.
>
> 

## <a name="use-user-level-credentials-with-ftpftps"></a>Использовать учетные данные на уровне пользователя с помощью FTP или FTPS

Проверка подлинности в конечной точке FTP или FTPS с использованием учетных данных уровня пользователя рекуирерс имя пользователя в следующем формате: `<app-name>\<user-name>`

Так как учетные данные на уровне пользователя связаны с пользователем, а не с конкретным ресурсом, имя пользователя должно быть в этом формате для направления действия входа в подходящую конечную точку приложения.

## <a name="appscope"></a>Установка и сброс учетных данных на уровне приложений
Получить такие учетные данные можно так.

1. В [портал Azure](https://portal.azure.com)в меню слева выберите **службы приложений** >  **&lt;any_app >**  > **центр развертывания** > **FTP/учетные данные**.

2. Выберите **учетные данные приложения**и щелкните ссылку **Копировать** , чтобы скопировать имя пользователя или пароль.

Чтобы сбросить учетные данные уровня приложения, выберите **Сброс учетных данных** в том же диалоговом окне.

## <a name="next-steps"></a>Дальнейшие действия

Узнайте, как использовать эти учетные данные для развертывания приложения из [локального репозитория Git](deploy-local-git.md) или с помощью [FTP(S)](deploy-ftp.md).
