---
title: Как настроить приложение службы приложений для использования имени для входа Facebook
description: Узнайте, как настроить аутентификацию Facebook в качестве поставщика идентификационных данных для приложения App Service.
ms.assetid: b6b4f062-fcb4-47b3-b75a-ec4cb51a62fd
ms.topic: article
ms.date: 06/06/2019
ms.custom: seodec18
ms.openlocfilehash: cd9c8a1bab3616b9b4eb1fe97ee3a9b2307ba77b
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "74671941"
---
# <a name="configure-your-app-service-app-to-use-facebook-login"></a>Настройте приложение Службы app для использования входа в Facebook

[!INCLUDE [app-service-mobile-selector-authentication](../../includes/app-service-mobile-selector-authentication.md)]

В этой статье показано, как настроить службу приложений Azure для использования Facebook в качестве поставщика аутентификации.

Для завершения процедуры в этой статье вам нужен аккаунт Facebook с проверенным адресом электронной почты и номером мобильного телефона. Чтобы создать новую учетную запись Facebook, перейдите по ссылке [facebook.com].

## <a name="register-your-application-with-facebook"></a><a name="register"> </a>Регистрация приложения с помощью Facebook

1. Перейдите на веб-сайт [разработчиков Facebook] и войдите в систему с учетными данными учетной записи Facebook.

   Если у вас нет учетной записи Facebook для разработчиков, выберите **Get Started** и выполните шаги регистрации.
1. Выберите **мои приложения** > **Добавить новое приложение**.
1. В поле **имя дисплея:**
   1. Введите уникальное имя для вашего приложения.
   1. Предоставьте **свой контактный адрес электронной почты**.
   1. Выберите **Создать идентификатор приложения**.
   1. Завершите проверку безопасности.

   Открывается панель мониторинга разработчика для нового приложения Facebook.
1. Выберите **панель мониторинга** > **Facebook Login Настройка** > **Set up** > **Веб**.
1. В левой навигации под **Facebook Login**, выберите **Настройки**.
1. В **валидном OAuth перенаправьте поле URIs,** введите `https://<app-name>.azurewebsites.net/.auth/login/facebook/callback`. Не забудьте заменить `<app-name>` имя приложения Azure App Service.
1. Щелкните **Save changes** (Сохранить изменения).
1. В левой панели выберите **Настройки** > **Основные**. 
1. В поле **App Secret** выберите **Показать**. Копируйте значения **Идентификатора приложений** и **App Secret**. Позже они используются для настройки приложения Службы приложений в Azure.

   > [!IMPORTANT]
   > Секрет приложения — это важные учетные данные безопасности. Не сообщайте этот секрет никому и не раскрывайте его в клиентском приложении.
   >

1. Учетная запись Facebook, которую вы использовали для регистрации приложения, является администратором приложения. На этом этапе только администраторы могут войти в это приложение.

   Чтобы проверить подлинность других учетных записей Facebook, выберите **Обзор приложений** и включите ** \<> доступным,** чтобы широкая общественность могла получить доступ к приложению с помощью проверки подлинности Facebook.

## <a name="add-facebook-information-to-your-application"></a><a name="secrets"> </a>Добавление данных Facebook в приложение

1. Войдите на [портал Azure] и перейдите в приложение Службы приложений.
1. Выберите **Настройки** > **Аутентификации / Авторизации**, и убедитесь, что проверка **подлинности службы приложений** находится **на**.
1. Выберите **Facebook**, а затем вставить в App ID и App Secret значения, которые вы получили ранее. Включите все области, необходимые вашему приложению.
1. Нажмите кнопку **ОК**.

   ![Скриншот настройки мобильного приложения Facebook][0]

    По умолчанию Служба App предоставляет аутентификацию, но не ограничивает авторизованный доступ к содержимому вашего сайта и AA. Вам необходимо авторизовать пользователей в коде приложения.
1. (Необязательно) Чтобы ограничить доступ только к пользователям, удостоверяемым подлинностью Facebook, установите **действие Action to take, когда запрос не проверен** на **Facebook.** При настройке этой функции приложение требует проверки подлинности всех запросов. Он также перенаправляет все непроверенные запросы на Facebook для проверки подлинности.

   > [!CAUTION]
   > Ограничение доступа таким образом распространяется на все вызовы в ваше приложение, что может оказаться нежелательным для приложений, имеющих общедоступную домашнюю страницу, как во многих одностраничных приложениях. Для таких приложений может быть предпочтительнее **разрешить анонимные запросы (без действия),** чтобы приложение вручную начало аутентификацию. Для получения дополнительной информации [см.](overview-authentication-authorization.md#authentication-flow)

1. Нажмите кнопку **Сохранить**.

Теперь вы готовы использовать Facebook для проверки подлинности в приложении.

## <a name="next-steps"></a><a name="related-content"> </a>Дальнейшие действия

[!INCLUDE [app-service-mobile-related-content-get-started-users](../../includes/app-service-mobile-related-content-get-started-users.md)]

<!-- Images. -->
[0]: ./media/app-service-mobile-how-to-configure-facebook-authentication/mobile-app-facebook-settings.png

<!-- URLs. -->
[разработчиков для Facebook]: https://go.microsoft.com/fwlink/p/?LinkId=268286
[facebook.com]: https://go.microsoft.com/fwlink/p/?LinkId=268285
[Get started with authentication]: /en-us/develop/mobile/tutorials/get-started-with-users-dotnet/
[Портал Azure]: https://portal.azure.com/
