---
title: Настройка проверки подлинности Facebook в Службе приложений Azure
description: Узнайте, как настроить проверку подлинности Facebook для приложения службы приложений.
services: app-service
documentationcenter: ''
author: mattchenderson
manager: syntaxc4
editor: ''
ms.assetid: b6b4f062-fcb4-47b3-b75a-ec4cb51a62fd
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: na
ms.topic: article
ms.date: 06/06/2019
ms.author: mahender
ms.custom: seodec18
ms.openlocfilehash: fb8497f3b9b887e2fd06b350bcc25ac8faaa7b43
ms.sourcegitcommit: 42748f80351b336b7a5b6335786096da49febf6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2019
ms.locfileid: "72177014"
---
# <a name="configure-your-app-service-app-to-use-facebook-login"></a>Настройка приложения службы приложений для использования имени для входа Facebook

[!INCLUDE [app-service-mobile-selector-authentication](../../includes/app-service-mobile-selector-authentication.md)]

В этой статье показано, как настроить службу приложений Azure для использования Facebook в качестве поставщика проверки подлинности.

Для выполнения процедуры, описанной в этой статье, требуется учетная запись Facebook с проверенным адресом электронной почты и номером мобильного телефона. Чтобы создать новую учетную запись Facebook, перейдите по ссылке [facebook.com].

## <a name="register"> </a>Регистрация приложения с помощью Facebook

1. Перейдите на веб-сайт [разработчиков для Facebook] и выполните вход с использованием учетных данных Facebook.

   Если у вас нет учетной записи Facebook for Developers, щелкните начало **работы** и выполните действия по регистрации.
1. Выберите **Мои приложения** > **Добавить новое приложение**.
1. В поле **Отображаемое имя** :
   1. Введите уникальное имя для приложения.
   1. Укажите свой **контактный адрес электронной почты**.
   1. Выберите **создать идентификатор приложения**.
   1. Завершите проверку безопасности.

   Откроется панель мониторинга разработчика для нового приложения Facebook.
1. Выберите **панель мониторинга** > **логин Facebook** > **настроить** > **Web**.
1. В левой области навигации в разделе **имя входа Facebook**выберите **Параметры**.
1. В поле **допустимые URI перенаправления OAuth** введите `https://<app-name>.azurewebsites.net/.auth/login/facebook/callback`. Не забудьте заменить `<app-name>` именем своего приложения службы приложений Azure.
1. Щелкните **Save changes** (Сохранить изменения).
1. В левой области выберите **параметры** > **базовый**. 
1. В поле **секрет приложения** выберите команду **отобразить**. Скопируйте значения **идентификатора приложения** и **секрета приложения**. Их можно использовать позже для настройки приложения службы приложений в Azure.

   > [!IMPORTANT]
   > Секрет приложения — это важные учетные данные безопасности. Не сообщайте этот секрет никому и не раскрывайте его в клиентском приложении.
   >

1. Учетная запись Facebook, которая использовалась для регистрации приложения, является администратором приложения. На этом этапе только администраторы могут войти в это приложение.

   Чтобы проверить подлинность других учетных записей Facebook, выберите **Проверка приложения** и включите команду **make \<My-App-name > Public** , чтобы предоставить общий доступ к приложению через проверку подлинности Facebook.

## <a name="secrets"> </a>Добавление данных Facebook в приложение

1. Войдите в [портал Azure] и перейдите к приложению службы приложений.
1. Выберите **параметры** > **Проверка подлинности и авторизация**и убедитесь, что **Проверка подлинности службы приложений** **включена.**
1. Выберите **Facebook**и вставьте значения в поле идентификатор приложения и секрет приложения, полученные ранее. Включите все области, необходимые для приложения.
1. Нажмите кнопку **ОК**.

   ![Снимок экрана параметров Facebook мобильного приложения][0]

    По умолчанию служба приложений обеспечивает проверку подлинности, но не ограничивает разрешенный доступ к содержимому и API-интерфейсам сайта. Необходимо авторизовать пользователей в коде приложения.
1. Используемых Чтобы ограничить доступ только для пользователей, прошедших проверку подлинности в Facebook, задайте **действие, которое будет выполняться, если запрос не прошел проверку подлинности** в **Facebook**. При установке этой функции приложению требуется проверка подлинности всех запросов. Он также перенаправляет все запросы без проверки подлинности на Facebook для проверки подлинности.

   > [!CAUTION]
   > Таким образом, ограниченный доступ применяется ко всем вызовам приложения, что может быть нежелательно для приложений, имеющих общедоступную домашнюю страницу, как во многих одностраничных приложениях. Для таких приложений рекомендуется **Разрешить анонимные запросы (без действий)** , чтобы приложение вручную начинало проверку подлинности. Дополнительные сведения см. в разделе [поток проверки подлинности](overview-authentication-authorization.md#authentication-flow).

1. Щелкните **Сохранить**.

Теперь вы можете использовать Facebook для проверки подлинности в приложении.

## <a name="related-content"> </a>Дальнейшие действия

[!INCLUDE [app-service-mobile-related-content-get-started-users](../../includes/app-service-mobile-related-content-get-started-users.md)]

<!-- Images. -->
[0]: ./media/app-service-mobile-how-to-configure-facebook-authentication/mobile-app-facebook-settings.png

<!-- URLs. -->
[разработчиков для Facebook]: https://go.microsoft.com/fwlink/p/?LinkId=268286
[facebook.com]: https://go.microsoft.com/fwlink/p/?LinkId=268285
[Get started with authentication]: /en-us/develop/mobile/tutorials/get-started-with-users-dotnet/
[портал Azure]: https://portal.azure.com/
