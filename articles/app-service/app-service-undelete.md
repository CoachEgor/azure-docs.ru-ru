---
title: Восстановление удаленных приложений
description: Узнайте, как восстановить удаленное приложение в службе приложений Azure. Избегайте головной боли случайно удаленного приложения.
author: btardif
ms.author: byvinyal
ms.date: 9/23/2019
ms.topic: article
ms.openlocfilehash: 296c8e2dfe99e3b0aea66f364ac6f6d9b2f60a1a
ms.sourcegitcommit: 530e2d56fc3b91c520d3714a7fe4e8e0b75480c8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81272497"
---
# <a name="restore-deleted-app-service-app-using-powershell"></a>Restore deleted App Service app Using PowerShell (Восстановление удаленного приложения Службы приложений с помощью PowerShell)

Если вам удалось случайно удалить приложение в Службе приложений Azure, вы можете восстановить его с помощью команд из [модуля Az PowerShell.](https://docs.microsoft.com/powershell/azure/?view=azps-2.6.0&viewFallbackFrom=azps-2.2.0)

> [!NOTE]
> Удаленные приложения выдаются из системы через 30 дней после первоначального удаления. После того, как приложение было удалено, оно не может быть восстановлено.
>

## <a name="re-register-app-service-resource-provider"></a>Перерегистрация поставщика ресурсов Службы приложений
Некоторые клиенты могут возникнуть проблемы, когда получение списка удаленных приложений не удается. Чтобы решить проблему, запустите следующую команду:

```powershell
 Register-AzResourceProvider -ProviderNamespace "Microsoft.Web"
```

## <a name="list-deleted-apps"></a>Список удаленных приложений

Чтобы получить коллекцию удаленных приложений, вы можете использовать `Get-AzDeletedWebApp`.

Для получения подробной информации о конкретном удаленном приложении вы можете использовать:

```powershell
Get-AzDeletedWebApp -Name <your_deleted_app> -Location <your_deleted_app_location> 
```

Подробная информация включает в себя:

- **DeletedSiteId**: Уникальный идентификатор для приложения, используемый для сценариев, где несколько приложений с тем же именем были удалены
- **Подписка**: Подписка, содержащая удаленный ресурс
- **Расположение**: Расположение оригинального приложения
- **ResourceGroupName**: Имя исходной группы ресурсов
- **Имя**: Название оригинального приложения.
- **Слот**: название слота.
- **Время удаления**: Когда было удалено приложение  

## <a name="restore-deleted-app"></a>Восстановление удаленного приложения

После того, как приложение, которое вы хотите `Restore-AzDeletedWebApp`восстановить, было идентифицировано, вы можете восстановить его с помощью .

```powershell
Restore-AzDeletedWebApp -ResourceGroupName <my_rg> -Name <my_app> -TargetAppServicePlanName <my_asp>
```
> [!NOTE]
> Слоты развертывания не восстанавливаются как часть приложения. При необходимости восстановления постановочного `-Slot <slot-name>` слота используйте флаг.
>

Входные данные для команды:

- **Группа ресурсов**: Целевая группа ресурсов, где приложение будет восстановлено
- **Имя**: Имя для приложения, должно быть глобально уникальным.
- **TargetAppServicePlanName**: План службы приложений, связанный с приложением

По `Restore-AzDeletedWebApp` умолчанию восстановит как конфигурацию приложения, так и содержимое. Если требуется только восстановить содержимое, вы используете флаг с помощью `-RestoreContentOnly` этого командного пункта.

> [!NOTE]
> Если приложение было размещено, а затем удалено из среды службы приложений, то оно может быть восстановлено только в том случае, если соответствующая среда службы приложений все еще существует.
>

Вы можете найти полную ссылку на команду здесь: [Восстановить-AzDeletedWebApp](https://docs.microsoft.com/powershell/module/az.websites/restore-azdeletedwebapp).
