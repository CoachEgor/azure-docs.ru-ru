---
title: Восстановление приложения в Службе приложений Azure
description: Узнайте, как восстановить приложение из резервной копии.
services: app-service
documentationcenter: ''
author: cephalin
manager: erikre
editor: jimbe
ms.assetid: 4444dbf7-363c-47e2-b24a-dbd45cb08491
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/06/2016
ms.author: cephalin
ms.custom: seodec18
ms.openlocfilehash: 1e8bebdb3f54ac59ec19ef798cc3e794473bbec0
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60832511"
---
# <a name="restore-an-app-in-azure"></a>Восстановление приложения в Azure
В этой статье описывается, как в [службе приложений Azure](../app-service/overview.md) восстановить приложение, для которого ранее была создана резервная копия (ознакомьтесь с [архивацией приложения в Azure](manage-backup.md)). Вы можете по запросу восстанавливать предыдущее состояние приложения со связанными базами данных или создавать новое приложение на основе одной из архивных копий исходного приложения. Служба приложений Azure поддерживает следующие базы данных для архивации и восстановления:
- [База данных SQL](https://azure.microsoft.com/services/sql-database/)
- [База данных Azure для MySQL](https://azure.microsoft.com/services/mysql)
- [База данных Azure для PostgreSQL](https://azure.microsoft.com/services/postgresql)
- [MySQL в приложении](https://blogs.msdn.microsoft.com/appserviceteam/2017/03/06/announcing-general-availability-for-mysql-in-app).

Восстановление из резервных копий доступно для приложений, выполняемых на уровнях **Стандартный** и **Премиум**. Дополнительные сведения об увеличении масштаба приложения см. в статье [Увеличение масштаба приложения в Azure](web-sites-scale.md). Уровень **Премиум** позволяет создавать большее количество ежедневных резервных копий по сравнению с уровнем **Стандартный**.

<a name="PreviousBackup"></a>

## <a name="restore-an-app-from-an-existing-backup"></a>Восстановление приложения из существующей резервной копии
1. На портале Azure на странице **Параметры** своего приложения щелкните **Резервные копии**. Откроется страница **Резервные копии**. Затем щелкните **Восстановить**.
   
    ![Выбор команды "Восстановить сейчас"][ChooseRestoreNow]
2. На странице **Восстановить** выберите источник резервного копирования.
   
    ![](./media/web-sites-restore/021ChooseSource1.png)
   
    Параметр **Архивная копия приложения** отображает все существующие резервные копии текущего приложения, позволяя легко выбрать одну из них.
    Параметр **Служба хранилища** позволяет выбрать ZIP-файл любой резервной копии из любых имеющихся учетной записи хранения Azure и контейнера в вашей подписке.
    Если вы пытаетесь восстановить резервную копию другого приложения, используйте параметр **Служба хранилища** .
3. После этого укажите место назначения для восстановления приложения в разделе **Место назначения для восстановления**.
   
    ![](./media/web-sites-restore/022ChooseDestination1.png)
   
   > [!WARNING]
   > Если вы выберете **Перезаписать**, то все существующие данные в текущем приложении будут удалены и перезаписаны. Прежде чем нажимать кнопку **ОК**, убедитесь, что это именно то, что вы хотите сделать.
   > 
   > 
   
   > [!WARNING]
   > Если служба приложений записывает данные в базу данных во время ее восстановления, это может привести к нарушению первичного ключа и потере данных. Советуем сначала остановить службу приложения, а затем запустить восстановление базы данных.
   > 
   > 
   
    Вы также можете выбрать **Существующее приложение** для восстановления резервной копии приложения в другое приложение в той же группе ресурсов. Прежде чем использовать этот параметр, необходимо создать другое приложение в группе ресурсов с конфигурацией базы данных, аналогичной конфигурации базы данных в резервной копии приложения. Вы можете также **создать** приложение для восстановления содержимого.

4. Последовательно выберите **ОК**.

<a name="StorageAccount"></a>

## <a name="download-or-delete-a-backup-from-a-storage-account"></a>Скачивание и удаление резервной копии в учетной записи хранения
1. На портале Azure на странице **Обзор** выберите **Учетные записи хранения**. Откроется список существующих учетных записей хранения.
2. Выберите учетную запись, в которой хранится резервная копия, которую вы хотите скачать или удалить. Откроется страница учетной записи хранения.
3. На ней выберите нужный контейнер.
   
    ![Просмотр контейнеров][ViewContainers]
4. Выберите файл резервной копии, который вы хотите скачать или удалить.
   
    ![ViewContainers](./media/web-sites-restore/03ViewFiles.png)
5. Щелкните **Скачать** или **Удалить**, в зависимости от того, что нужно сделать.  

<a name="OperationLogs"></a>

## <a name="monitor-a-restore-operation"></a>Мониторинг операции восстановления
Чтобы просмотреть сведения о результате восстановления приложения (успешном или неудачном), перейдите на страницу **Журнал действий** на портале Azure.  
 

Прокрутите колонку вниз, чтобы найти нужную операцию восстановления, и выберите ее щелчком.

На странице сведений отобразится вся доступная информация о выбранной операции восстановления.

## <a name="automate-with-scripts"></a>Автоматизация с помощью сценариев

Управление резервным копированием можно автоматизировать с помощью сценариев, воспользовавшись [Azure CLI](/cli/azure/install-azure-cli) или [Azure PowerShell](/powershell/azure/overview).

Примеры см. в разделах:

- [Примеры Azure CLI](samples-cli.md)
- [Примеры сценариев Azure PowerShell](samples-powershell.md)

<!-- ## Next Steps
You can backup and restore App Service apps using REST API. -->


<!-- IMAGES -->
[ChooseRestoreNow]: ./media/web-sites-restore/02ChooseRestoreNow1.png
[ViewContainers]: ./media/web-sites-restore/03ViewContainers.png
