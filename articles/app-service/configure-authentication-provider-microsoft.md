---
title: Настройка проверки подлинности учетной записи Майкрософт в Службе приложений Azure
description: Настройка проверки подлинности учетной записи Майкрософт для приложения служб приложений.
author: mattchenderson
services: app-service
documentationcenter: ''
manager: syntaxc4
editor: ''
ms.assetid: ffbc6064-edf6-474d-971c-695598fd08bf
ms.service: app-service
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 08/08/2019
ms.author: mahender
ms.custom: seodec18
ms.openlocfilehash: 729c235ee51a904714358221389703632fd8296c
ms.sourcegitcommit: 18061d0ea18ce2c2ac10652685323c6728fe8d5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69033644"
---
# <a name="how-to-configure-your-app-service-application-to-use-microsoft-account-login"></a>Настройка приложения службы приложений для использования входа по учетной записи Майкрософт
[!INCLUDE [app-service-mobile-selector-authentication](../../includes/app-service-mobile-selector-authentication.md)]

В этом разделе показано, как настроить службу приложений Azure для использования учетной записи Майкрософт в качестве поставщика проверки подлинности. 

## <a name="register-microsoft-account"> </a>Регистрация приложения с использованием учетной записи Майкрософт
1. Войдите в [портал Azure]и перейдите к своему приложению. 

<!-- Copy your **URL**, which you will use later to configure your app with Microsoft Account. -->
1. Перейдите к [**Регистрация приложений**](https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade)и выполните вход с помощью учетная запись Майкрософт по запросу.

1. Щелкните **Новая регистрация**, а затем введите имя приложения.

1. В списке **URI перенаправления**выберите **веб**и введите `https://<app-domain-name>/.auth/login/microsoftaccount/callback supply the endpoint for your application`. *Замените\<app-domain-name >* именем домена приложения.  Например, `https://contoso.azurewebsites.net/.auth/login/microsoftaccount/callback`. 

   > [!NOTE]
   > Используйте схему HTTPS в URL-адресе.

1. Выберите **зарегистрировать**. 

1. Скопируйте **идентификатор приложения (клиента)** . Он понадобится вам позже. 
   
7. В левой области навигации новой регистрации приложения выберите **Сертификаты & секреты** > **новый секрет клиента**. Укажите описание, выберите срок действия и нажмите кнопку **Добавить**.

1. Скопируйте значение, которое отображается на странице **сертификаты & секреты** . Если страница закроется, оно больше не отобразится.

    > [!IMPORTANT]
    > Пароль — это важный элемент обеспечения безопасности. Не сообщайте пароль никому и не раскрывайте его в клиентском приложении.

## <a name="secrets"> </a>Добавление данных учетной записи Майкрософт в приложение службы приложений
1. На [портал Azure]перейдите к своему приложению. В левой области навигации щелкните **Проверка подлинности или авторизация**.

2. Если функция проверки подлинности и авторизации не включена, выберите **вкл**.

3. В разделе **поставщики проверки**подлинности выберите **учетная запись Майкрософт**. Вставьте идентификатор приложения (клиента) и секрет клиента, полученные ранее, и при необходимости включите все области, необходимые для приложения. Затем нажмите кнопку **ОК**.

    По умолчанию служба приложений обеспечивает проверку подлинности, но не ограничивает авторизованный доступ к содержимому сайта и API. Авторизация пользователей должна быть включена в код приложения.

4. Используемых Чтобы ограничить доступ к учетная запись Майкрософт пользователям, задайте **действие, которое будет выполняться, если запрос не прошел проверку** подлинности для **входа с помощью учетной записи Майкрософт**. В этом случае все запросы, не прошедшие проверку подлинности, направляются для проверки подлинности по учетной записи Майкрософт.

> [!CAUTION]
> Таким образом, ограниченный доступ применяется ко всем вызовам приложения, что может быть нежелательно для приложений, которым требуется общедоступная Домашняя страница, как во многих одностраничных приложениях. Для таких приложений рекомендуется **Разрешить анонимные запросы (без действий)** , если приложение вручную запускает вход, как описано [здесь](overview-authentication-authorization.md#authentication-flow).

5. Нажмите кнопку **Сохранить**.

Теперь вы можете использовать учетную запись Майкрософт для проверки подлинности в приложении.

## <a name="related-content"> </a>Связанная информация
[!INCLUDE [app-service-mobile-related-content-get-started-users](../../includes/app-service-mobile-related-content-get-started-users.md)]

<!-- URLs. -->

[My Applications]: https://go.microsoft.com/fwlink/p/?LinkId=262039
[портал Azure]: https://portal.azure.com/
