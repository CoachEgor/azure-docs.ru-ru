---
title: 'Служба приложений Azure: развертывание пользовательского или встроенного образа и многоконтейнерное развертывание | Документация Майкрософт'
description: Выбор между пользовательским развертыванием контейнера Docker и многоконтейнерной или встроенной исполняющей средой для службы приложений на платформе Linux
keywords: служба приложений azure, веб-приложение, linux, oss
services: app-service
documentationCenter: ''
author: msangapu
manager: jeconnoc
editor: ''
ms.assetid: ''
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/04/2018
ms.author: msangapu
ms.custom: seodec18
ms.openlocfilehash: bba38bb69e5abaa94b01308924fe0c6bf07ca08e
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "64919947"
---
# <a name="custom-image-multi-container-or-built-in-platform-image"></a>Выбор между пользовательским, многоконтейнерным или встроенным образом платформы

[Служба приложений на платформе Linux](app-service-linux-intro.md) предусматривает три способа публикации приложения в Интернете:

- **Развертывание пользовательского образа.** Поместите свое приложение в образ Docker, который содержит все файлы и зависимости в готовом к работе пакете.
- **Многоконтейнерное развертывание.** «Добавление docker» приложения по нескольким контейнерам, с помощью файла конфигурации Docker Compose.
- **Развертывание приложений с помощью встроенного образа платформы.** Наши встроенные образы платформы содержат распространенные среды выполнения веб-приложений и зависимости, например Node и PHP. Используйте один из [методов развертывания службы приложений Azure](../deploy-local-git.md?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json) для развертывания приложения в хранилище веб-приложений, а затем используйте встроенный образ платформы для его запуска.

## <a name="which-method-is-right-for-your-app"></a>Какой метод подходит для приложения? 

Ниже приведены основные факторы, которые следует учитывать:

- **Доступность Docker в рабочем процессе разработки.** Разработка пользовательских образов требует базовых знаний о рабочем процессе разработки Docker. Для развертывания пользовательского образа для веб-приложения нужно опубликовать пользовательский образ на узле репозитория, таком как концентратор Docker. Если вы знакомы с Docker и можете добавлять задачи Docker в рабочий процесс сборки или уже опубликовали приложение в качестве образа Docker, пользовательский образ почти наверняка является лучшим вариантом.
- **Многоуровневая архитектура.** С помощью многоконтейнерного варианта вы можете развернуть несколько контейнеров для разделения возможностей, например для уровня веб-приложений и уровня API. 
- **Производительность приложения.** С помощью уровня кэша (например, кэш Redis) можно повысить производительность многоконтейнерного приложения. Для этого выберите многоконтейнерный образ.
- **Уникальные требования к среде выполнения.** Встроенные образы платформы соответствуют требованиям большинства веб-приложений, но ограничены в возможностях настройки. Приложение может иметь уникальные зависимости или другие требования среды выполнения, превышающие возможности встроенных образов.
- **Требования к сборке.** Используя [непрерывное развертывание](../deploy-continuous-deployment.md?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json), вы можете запустить приложение на платформе Azure прямо из исходного кода. Никакого внешнего процесса сборки или публикации не требуется. Однако имеется ограничение на возможность настройки и доступность средств сборки внутри обработчика развертывания [Kudu](https://github.com/projectkudu/kudu/wiki). Приложение может перерасти возможности Kudu, так как оно растет в своих зависимостях или требованиях для пользовательской логики сборки.
- **Требования к чтению и записи диска.** Всем веб-приложениям выделяется том хранилища для веб-содержимого. Этот том, поддерживаемый службой хранилища Azure, подключается к `/home` в файловой системе приложения. В отличие от файлов в файловой системе контейнера, файлы в томе содержимого доступны для всех экземпляров масштабирования приложения, а модификации будут сохраняться между перезагрузками приложения. Однако задержка диска для тома содержимого выше и более изменчива, чем задержка локальной файловой системы контейнера. На доступ могут влиять обновления платформы, незапланированные простои и проблемы с сетевым подключением. Приложения, для которых требуется частый доступ только для чтения к файлам содержимого, могут получить преимущества от развертывания пользовательского образа, при котором файлы помещаются в файловую систему образа, а не на том содержимого.
- **Использование ресурсов сборки.** При развертывании приложения из исходного кода скрипты развертывания, выполняемые Kudu, используют те же вычислительные ресурсы и ресурсы хранения плана Службы приложений, что и выполняемое приложение. Крупные развертывания приложений могут потреблять больше ресурсов или времени, чем необходимо. В частности, многие рабочие процессы развертывания создают большую активность на диске в томе содержимого приложения, который не оптимизирован для такой активности. Пользовательский образ доставляет все файлы и зависимости приложения в Azure в одном пакете без дополнительных передач файлов или действий по развертыванию.
- **Необходимость быстрой итерации.** Включение приложений в образ Docker требует дополнительных действий на этапе сборки. Чтобы изменения вступили в силу, необходимо отправлять новый образ в репозиторий при каждом обновлении. Затем эти обновления извлекаются в среду Azure. Если один из встроенных контейнеров соответствует потребностям вашего приложения, развертывание из источника может обеспечить ускоренный рабочий процесс разработки.

## <a name="next-steps"></a>Дальнейшие действия

Пользовательский контейнер:
* [Запуск пользовательского контейнера](quickstart-docker-go.md)

Несколькими контейнерами:
* [Создание приложения с несколькими контейнерами](quickstart-multi-container.md)

Следующие статьи приступить к работе со службой приложений на платформе Linux с встроенный образ платформы:

* [.NET Core](quickstart-dotnetcore.md)
* [PHP](quickstart-php.md)
* [Node.js](quickstart-nodejs.md)
* [Java](quickstart-java.md)
* [Python](quickstart-python.md)
* [Ruby](quickstart-ruby.md)