---
title: Купить пользовательское доменное имя
description: Узнайте, как купить домен Службы Приложений и использовать его в качестве пользовательского домена для вашего приложения Azure App Service.
ms.assetid: 70fb0e6e-8727-4cca-ba82-98a4d21586ff
ms.topic: article
ms.date: 11/24/2017
ms.custom: seodec18
ms.openlocfilehash: afb40d0f3681bc02351e43166fccfaafe7741128
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79259283"
---
# <a name="buy-a-custom-domain-name-for-azure-app-service"></a>Приобретение личного доменного имени в Службе приложений Azure

Домены Службы приложений — это домены верхнего уровня, управляемые непосредственно в Azure. Они упрощают управление личными доменами для [Службы приложений Azure](overview.md). В этом руководстве показано, как приобрести домен Службы приложений Azure и назначить DNS-имена Службе приложений Azure.

Сведения о виртуальной машине Azure или службе хранилища Azure см. в статье [Assign App Service domain to Azure VM or Azure Storage](https://azure.github.io/AppService/2017/07/31/Assign-App-Service-domain-to-Azure-VM-or-Azure-Storage) (Назначение домена службы приложений виртуальной машине Azure или службе хранилища Azure). Сведения об облачных службах см. в статье [Настройка пользовательского доменного имени для облачной службы Azure](../cloud-services/cloud-services-custom-domain-name-portal.md).

## <a name="prerequisites"></a>Предварительные требования

Для работы с этим руководством сделайте следующее:

* [Создайте приложение службы приложений](/azure/app-service/) или используйте приложение, созданное для работы с другим руководством.
* [Снимите ограничение на предельную сумму расходов для подписки](../cost-management-billing/manage/spending-limit.md#remove). Невозможно приобрести домены службы приложений, используя деньги на счете бесплатной подписки.

## <a name="prepare-the-app"></a>Подготовка приложения

[!INCLUDE [app-service-dev-test-note](../../includes/app-service-dev-test-note.md)]

Чтобы использовать личные домены для Службы приложений Azure, его уровень [плана службы приложений](https://azure.microsoft.com/pricing/details/app-service/) должен быть платным (**Общий**, **Базовый**, **Стандартный** или **Премиум**). На этом этапе следует убедиться, что приложение находится в поддерживаемой ценовой категории.

### <a name="sign-in-to-azure"></a>Вход в Azure

Откройте [портал Azure](https://portal.azure.com) и войдите в систему, используя свою учетную запись Azure.

### <a name="navigate-to-the-app-in-the-azure-portal"></a>Переход к приложению на портале Azure

В меню слева выберите **Службы приложений**, а затем щелкните имя своего приложения Azure.

![Переход к приложению Azure на портале](./media/app-service-web-tutorial-custom-domain/select-app.png)

Откроется страница управления приложением службы приложений.  

### <a name="check-the-pricing-tier"></a>Проверка ценовой категории

В левой области навигации страницы приложения перейдите к разделу **Параметры** и выберите **Увеличить масштаб (план службы приложений)**.

![Меню увеличения масштаба](./media/app-service-web-tutorial-custom-domain/scale-up-menu.png)

Текущий уровень приложения выделен синей рамкой. Убедитесь, что приложение не находится в ценовой категории **F1**. Использование личного домена DNS не поддерживается на уровне **F1**. 

![Проверка ценовой категории](./media/app-service-web-tutorial-custom-domain/check-pricing-tier.png)

Если план службы приложений не **F1**, закройте страницу **увеличения масштаба** и перейдите к разделу [Приобретение домена](#buy-the-domain).

### <a name="scale-up-the-app-service-plan"></a>Изменение уровня плана службы приложений

Выберите любой платный уровень (**D1**, **B1**, **B2**, **B3** или любой уровень в категории **Рабочие**). Чтобы просмотреть дополнительные параметры, щелкните **См. дополнительные параметры**.

Щелкните **Применить**.

![Проверка ценовой категории](./media/app-service-web-tutorial-custom-domain/choose-pricing-tier.png)

Если вы увидите уведомление ниже, значит уровень плана службы приложений изменен.

![Подтверждение операции масштабирования](./media/app-service-web-tutorial-custom-domain/scale-notification.png)

## <a name="buy-the-domain"></a>Приобретение домена

### <a name="pricing-information"></a>Сведения о ценах
Для получения информации о ценах на доменах службы приложений Azure посетите [страницу App Service Pricing](https://azure.microsoft.com/pricing/details/app-service/windows/) и перейдите на домен службы приложений.

### <a name="sign-in-to-azure"></a>Вход в Azure
Откройте [портал Azure](https://portal.azure.com/) и войдите в систему, используя свою учетную запись Azure.

### <a name="launch-buy-domains"></a>Запуск приобретения доменов
На вкладке **Службы приложений** щелкните имя своего приложения, выберите **Параметры**, а затем — **Личные домены**
   
![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-6.png)

На странице **Личные домены** щелкните **Купить домены**.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-1.png)

> [!NOTE]
> Если вы не видите раздел **Домен службы приложений**, необходимо удалить предельную сумму расходов для учетной записи Azure (изучите [предварительные требования](#prerequisites)).
>
>

### <a name="configure-the-domain-purchase"></a>Настройка приобретения доменов

На странице **Домен службы приложений** в текстовом поле **Поиск домена** введите имя домена, которое необходимо приобрести, и введите `Enter`. Под текстовым полем появятся доступные домены. Выберите один или несколько доменов, которые вы хотите приобрести.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-2.png)

> [!NOTE]
> Следующие [домены верхнего уровня](https://wikipedia.org/wiki/Top-level_domain) поддерживаются доменами службы приложений: _com_, _net_, _co.uk_, _org_, _nl_, _in_, _biz_, _org.uk_ и _co.in_.
>
>

Щелкните **Контактные данные** и заполните форму контактных данных домена. По завершении нажмите кнопку **ОК**, чтобы вернуться на страницу домена службы приложений.

Очень важно ввести правильные данные в обязательные поля. Неправильные контактные данные могут препятствовать приобретению доменов.

Затем выберите нужные параметры для вашего домена. Примеры см. в таблице ниже.

| Параметр | Рекомендуемое значение | Описание |
|-|-|-|
|Защита конфиденциальности | Включить | Дайте согласие на защиту личных сведений, которая входит в стоимость покупки _бесплатно_. Некоторыми доменами верхнего уровня управляют регистраторы, которые не поддерживают защиту личных сведений. Они перечислены на странице **Защита личных сведений**. |
| Назначение имен узлов по умолчанию | **www** и **\@** | При необходимости выберите нужные привязки имен узлов. После завершения операции покупки домена доступ к приложению может осуществляться с помощью выбранных имен узлов. Если приложение находится за [диспетчером трафика Azure](https://azure.microsoft.com/services/traffic-manager/), вы не увидите пункт назначения корневого домена (@), так как диспетчер трафика не поддерживает записи типа A. После завершения приобретения домена можно внести изменения в назначения имен узлов. |

### <a name="accept-terms-and-purchase"></a>Принятие условий и приобретение

Выберите **Условия использования**, чтобы просмотреть условия использования и тарифы, а затем нажмите кнопку **Купить**.

> [!NOTE]
> Домены Службы приложений используют GoDaddy для регистрации доменов и Azure DNS для размещения доменов. Помимо платы за регистрацию домена взимается плата за использование Azure DNS. Дополнительные сведения см. на странице [цен на Azure DNS](https://azure.microsoft.com/pricing/details/dns/).
>
>

На странице **домена службы приложений** нажмите кнопку **ОК**. Во время операции появятся следующие уведомления:

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-validate.png)

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-purchase-success.png)

### <a name="test-the-hostnames"></a>Проверка имен узлов

Если для приложения вы назначили имена узлов по умолчанию, вы также увидите уведомление о выполнении для каждого выбранного узла.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-bind-success.png)

Выбранные имена узлов появятся на странице **Личные домены** в разделе **Настраиваемые имена узлов**.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-hostnames-added.png)

> [!NOTE]
> Метка **Not Secure** для пользовательского домена означает, что она еще не привязана к Сертификату SSL, и любой запрос HTTPS от браузера к пользовательскому домену получит ошибку или предупреждение, в зависимости от браузера. Чтобы настроить привязку SSL, [см.](configure-ssl-bindings.md)
>

Чтобы проверить имена узлов, перейдите по указанным именам узлов в браузере. В примере в предыдущем скриншоте попробуйте перейти на _kontoso.net_ и _\.www kontoso.net._

## <a name="assign-hostnames-to-app"></a>Назначение имен узлов для приложения

Если вы решили не назначать одно или несколько имен хоста по умолчанию в вашем приложении во время процесса покупки, или если вам нужно назначить имя хоста, не указанное в списке, вы можете назначить хост-имя в любое время.

Вы также можете назначить имена узлов в домене Службы приложений для любого другого приложения. Дальнейшие шаги зависят от того, принадлежат ли домен Службы приложений и приложение к одной подписке.

- Различные подписки: Карта пользовательских DNS записей из домен службы приложений в приложение, как внешне приобретенный домен. Дополнительные сведения о добавлении пользовательских имен DNS в домен службы приложений см. в статье [Приобретение и настройка имени личного домена для службы приложений Azure](#custom). Дополнительные сведения о сопоставлении внешнего приобретенного домена с приложением см. в статье [Руководство. Сопоставление существующего настраиваемого DNS-имени со Службой приложений Azure](app-service-web-tutorial-custom-domain.md). 
- Та же подписка: выполните следующие действия.

### <a name="launch-add-hostname"></a>Запуск добавления имени узла
На странице **Службы приложений** выберите имя приложения, для которого вы хотите назначить имена узлов, выберите **Параметры**, а затем — **Личные домены**.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-6.png)

Убедитесь, что приобретенный домен находится в разделе **Домены службы приложений**, но не выбирайте его. 

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-select-domain.png)

> [!NOTE]
> Все домены Службы приложений в той же подписке отображаются на странице **Личные домены** приложения. Если домен находится в подписке приложения, но не отображается на странице **Личные домены** приложения, повторно откройте страницу **Личные домены** или обновите веб-страницу. Также проверьте ход выполнения или наличие сбоев при создании в разделе уведомлений (значок "колокольчик") в верхней части портала Azure.
>
>

Выберите **Добавить имя узла**.

### <a name="configure-hostname"></a>Настройка имени узла
В диалоговом окне **Добавить имя узла** введите полное доменное имя домена службы приложений или любой поддомен. Пример:

- kontoso.net
- www\.kontoso.net
- abc.kontoso.net

По завершении выберите **Проверить**. Тип записи имени узла выбирается автоматически.

Выберите **Добавить имя узла**.

После завершения появится уведомление об успешном выполнении операции назначения имени узла.  

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-bind-success.png)

### <a name="close-add-hostname"></a>Закрытие страницы добавления имени узла
На странице **Добавить имя узла** назначьте любое другое имя узла для приложения в случае необходимости. После завершения закройте страницу **Добавить имя узла**.

Вы увидите только что назначенные имена узлов на странице **Личные домены** вашего приложения.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-hostnames-added2.png)

### <a name="test-the-hostnames"></a>Проверка имен узлов

Перейдите по указанным именам узлов в браузере. В примере на предыдущем снимке экрана попробуйте перейти к _www.kontoso.net_.

## <a name="renew-the-domain"></a>Продление срока действия домена

Домен службы приложений, который вы приобрели, действителен в течение одного года с момента покупки. По умолчанию домен настроен для автоматического продления срока действия. Для этого в следующем году с вас списывается соответствующая сумма с помощью выбранного метода оплаты. Вы можете вручную обновить доменное имя.

Если вы хотите отключить автоматическое продление или хотите вручную продлить срок действия домена, выполните действия, приведенные ниже.

Во вкладке **Службы приложений** щелкните имя приложения, выберите **Настройки,** а затем выберите **пользовательские домены.**

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-6.png)

В разделе **Домены службы приложений** выберите домен, который необходимо настроить.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-select-domain.png)

В левой области навигации домена выберите **Продление домена**. Чтобы остановить автоматическое продление срока действия домена, выберите **Выключить**, а затем нажмите кнопку **Сохранить**.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-autorenew.png)

Чтобы вручную обновить домен, нажмите кнопку **Продление домена**. Однако эта кнопка не активна до [90 дней до истечения срока действия домена.](#when-domain-expires)

Если обновление домена успешно, вы получите уведомление по электронной почте в течение 24 часов.

## <a name="when-domain-expires"></a>Когда истекает срок действия домена

Azure сделок с истекшим сроком действия или истекший app Service доменов следующим образом:

* Если автоматическое продление отключено: за 90 дней до истечения срока действия домена вам отправляется письмо с уведомлением о продлении и на портале активируется кнопка **домена Renew.**
* Если включено автоматическое обновление: на следующий день после истечения срока действия домена Azure пытается выставить счет за обновление доменного имени.
* Если ошибка происходит во время автоматического обновления (например, срок действия карты в файле истек), или если автоматическое обновление отключено и вы позволяете домену истечь, Azure уведомляет вас об истечении срока действия домена и паркует ваше доменное имя. Вы можете [вручную обновить](#renew-the-domain) свой домен.
* На 4-й и 12-й день после истечения срока действия Azure отправляет вам дополнительные уведомления. Вы можете [вручную обновить](#renew-the-domain) свой домен.
* На 19-й день после истечения срока действия, ваш домен остается на удержании, но становится предметом выкупа плату. Вы можете позвонить в службу поддержки, чтобы обновить доменное имя, при условии любых применимых сборов за продление и выкуп.
* На 25-й день после истечения срока действия Azure выставляет ваш домен на аукцион с помощью аукционного сервиса индустрии доменных имен. Вы можете позвонить в службу поддержки, чтобы обновить доменное имя, при условии любых применимых сборов за продление и выкуп.
* На 30-й день после истечения срока действия вы больше не можете выкупить свой домен.

<a name="custom"></a>

## <a name="manage-custom-dns-records"></a>Управление пользовательскими записями DNS

В Azure управление записями DNS для домена службы приложений осуществляется с помощью [Azure DNS](https://azure.microsoft.com/services/dns/). Вы можете добавлять, удалять и обновлять записи DNS так же, как для приобретенного внешнего домена.

### <a name="open-app-service-domain"></a>Открытие домена службы приложений

На портале Azure из левого меню выберите **все домены** > **Службы приложений.**

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-access.png)

Выберите домен для управления. 

### <a name="access-dns-zone"></a>Доступ к зоне DNS

В меню домена слева выберите **Зона DNS**.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-dns-zone.png)

Открывается страница [Зона DNS](../dns/dns-zones-records.md) вашего домена службы приложений в Azure DNS. Сведения о том, как изменять записи DNS, см. в статье [Приобретение и настройка имени личного домена для службы приложений Azure](../dns/dns-operations-dnszones-portal.md).

## <a name="cancel-purchase-delete-domain"></a>Отмена покупки (удаление домена)

Вы можете отменить регистрацию домена службы приложений с полным возмещением в течение 5 дней после даты покупки домена. По истечении 5 дней вы сможете удалить домен службы приложений, но не сможете получить полное возмещение.

### <a name="open-app-service-domain"></a>Открытие домена службы приложений

На портале Azure из левого меню выберите **все домены** > **Службы приложений.**

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-access.png)

Выберите домен, который вы хотите отменить или удалить. 

### <a name="delete-hostname-bindings"></a>Удаление привязок имен узлов

В меню слева для домена выберите **Привязки имен узлов**. Здесь перечислены привязки имен узлов из всех служб Azure.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-hostname-bindings.png)

Вы не можете удалить домен службы приложений, пока не будут удалены все привязки имен узлов.

Удалите каждый привязки хоста, выбрав **...**  >  **Удалить**. После удаления всех привязок нажмите кнопку **Сохранить**.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-delete-hostname-bindings.png)

### <a name="cancel-or-delete"></a>Отмена или удаление

В меню домена слева выберите **Обзор**. 

Если период отмены приобретенного домена не истек, выберите **Отменить покупку**. В противном случае вы увидите кнопку **Удалить**. Чтобы удалить домен без возмещения средств, нажмите кнопку **Удалить**.

![](./media/custom-dns-web-site-buydomains-web-app/dncmntask-cname-buydomains-cancel.png)

Щелкните **Да**, чтобы подтвердить операцию.

После завершения операции домен освобождается из подписки, и его снова может купить любой желающий. 

## <a name="direct-default-url-to-a-custom-directory"></a>Прямой URL-адрес по умолчанию для пользовательского каталога

По умолчанию служба приложений направляет веб-запросы в корневой каталог кода приложения. Чтобы направлять их в подкаталог, например `public`, ознакомьтесь с разделом [Сопоставление существующего настраиваемого DNS-имени с веб-приложениями Azure](app-service-web-tutorial-custom-domain.md#virtualdir).
