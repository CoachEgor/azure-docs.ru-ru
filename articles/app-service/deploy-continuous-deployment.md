---
title: Непрерывное развертывание в Службе приложений Azure | Документация Майкрософт
description: Узнайте, как включить непрерывное развертывание в службе приложений Azure.
services: app-service
documentationcenter: ''
author: cephalin
manager: cfowler
ms.assetid: 6adb5c84-6cf3-424e-a336-c554f23b4000
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/18/2019
ms.author: cephalin;dariagrigoriu
ms.reviewer: dariac
ms.custom: seodec18
ms.openlocfilehash: 3a207f5513c24f2c33571df929f7490ec7f2eba5
ms.sourcegitcommit: 64798b4f722623ea2bb53b374fb95e8d2b679318
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2019
ms.locfileid: "67836840"
---
# <a name="continuous-deployment-to-azure-app-service"></a>Непрерывное развертывание в службе приложений Azure

[Служба приложений Azure](overview.md) обеспечивает непрерывное развертывание из GitHub, BitBucket, и [репозитории Azure](https://azure.microsoft.com/services/devops/repos/) репозитории, который извлекает последние обновления. В этой статье показано, как с помощью портала Azure непрерывно развертывать приложения с помощью службы сборки Kudu или [конвейеры Azure](https://azure.microsoft.com/services/devops/pipelines/). 

Дополнительные сведения о службы системы управления версиями, см. в разделе [Create a repo (GitHub)], [Create a repo (BitBucket)], или [Создание нового репозитория Git (репозитории Azure)].

Чтобы вручную настроить непрерывное развертывание из облачного репозитория, портал не поддерживает непосредственно, такие как [GitLab](https://gitlab.com/), см. в разделе [непрерывное развертывание с помощью действий вручную](https://github.com/projectkudu/kudu/wiki/Continuous-deployment#setting-up-continuous-deployment-using-manual-steps).

[!INCLUDE [Prepare repository](../../includes/app-service-deploy-prepare-repo.md)]

## <a name="authorize-azure-app-service"></a>Авторизация службы приложений Azure 

Чтобы использовать репозитории Azure, убедитесь, что организации DevOps в Azure связана с подпиской Azure. Дополнительные сведения см. в разделе [настроить учетную запись служб Azure DevOps, чтобы его можно было развернуть в веб-приложение](https://github.com/projectkudu/kudu/wiki/Setting-up-a-VSTS-account-so-it-can-deploy-to-a-Web-App).

Для Bitbucket или GitHub авторизация службы приложений Azure для подключения к репозиторию. Необходимо только один раз авторизовать с помощью службы управления версиями. 

1. Выберите **службы приложений** в [портала Azure](https://portal.azure.com) навигации слева, а затем выберите веб-приложение, вы хотите развернуть. 
   
1. На странице "приложения" выберите **центр развертывания** в меню слева.
   
1. На **центр развертывания** выберите **GitHub** или **Bitbucket**, а затем выберите **Authorize**. 
   
   ![Выберите службы управления версиями, а затем авторизовать.](media/app-service-continuous-deployment/github-choose-source.png)
   
1. Регистрация службе таким образом, при необходимости и следуйте инструкциям на экране авторизации. 

## <a name="enable-continuous-deployment"></a>Включение непрерывного развертывания 

После полномочия в систему управления версиями, настройте приложение для непрерывного развертывания с помощью встроенной [сервер сборки Kudu службы приложений](#option-1-use-the-app-service-build-service), либо с помощью [конвейеры Azure](#option-2-use-azure-pipelines). 

### <a name="option-1-use-the-app-service-build-service"></a>Вариант 1. Использование службы сборки службы приложений

Можно воспользоваться встроенным, Kudu службы приложений создавать server непрерывное развертывание из GitHub, Bitbucket или репозитории Azure. 

1. Выберите **службы приложений** в [портала Azure](https://portal.azure.com) навигации слева, а затем выберите веб-приложение, вы хотите развернуть. 
   
1. На странице "приложения" выберите **центр развертывания** в меню слева.
   
1. Выберите поставщик системы управления версиями, авторизованные на **центр развертывания** страницы и выберите **Продолжить**. GitHub или Bitbucket, вы можете также установить флажок **изменить учетную запись** изменение авторизованную учетную запись. 
   
   > [!NOTE]
   > Чтобы использовать репозитории Azure, убедитесь, что организации службам DevOps в Azure связана с подпиской Azure. Дополнительные сведения см. в разделе [настроить учетную запись служб Azure DevOps, чтобы его можно было развернуть в веб-приложение](https://github.com/projectkudu/kudu/wiki/Setting-up-a-VSTS-account-so-it-can-deploy-to-a-Web-App).
   
1. Для GitHub или репозитории Azure на **поставщик построения** выберите **службы приложений служба сборок**и выберите **Продолжить**. Bitbucket всегда использует службу сборки службы приложений.
   
   ![Выберите службы построения службы приложений, а затем продолжить.](media/app-service-continuous-deployment/choose-kudu.png)
   
1. На **Настройка** страницы:
   
   - Для GitHub, раскрывающийся список и выберите **организации**, **репозитория**, и **ветви** требуется непрерывное развертывание.
     
     > [!NOTE]
     > Если вы не видите любые репозитории, может потребоваться авторизации службы приложений Azure в GitHub. Перейдите к репозиторию GitHub и перейти к **параметры** > **приложений** > **авторизованные приложения OAuth**. Выберите **службе приложений Azure**, а затем выберите **Grant**.
     
   - Для Bitbucket, выберите Bitbucket **Team**, **репозитория**, и **ветви** требуется непрерывное развертывание.
     
   - Репозитории Azure, выберите **Azure DevOps организации**, **проекта**, **репозитория**, и **ветви** требуется непрерывное развертывание.
     
     > [!NOTE]
     > Если ваша организация DevOps в Azure нет в списке, убедитесь, что он связан с вашей подпиской Azure. Дополнительные сведения см. в разделе [настроить учетную запись служб Azure DevOps, чтобы его можно было развернуть в веб-приложение](https://github.com/projectkudu/kudu/wiki/Setting-up-a-VSTS-account-so-it-can-deploy-to-a-Web-App)...
     
1. Выберите **Продолжить**.
   
   ![Заполните сведения о репозитории, а затем продолжить.](media/app-service-continuous-deployment/configure-kudu.png)
   
1. После настройки поставщика построения, просмотрите параметры в **Сводка** странице, а затем выберите **Готово**.
   
   Теперь новые фиксации в выбранный репозиторий и ветвь, непрерывное развертывание в приложении службы приложений. Для отслеживания фиксаций и развертываний **центр развертывания** страницы.
   
   ![Отслеживания фиксаций и развертывания в центре развертывания](media/app-service-continuous-deployment/github-finished.png)

### <a name="option-2-use-azure-pipelines"></a>Вариант 2. Использование Azure Pipelines 

Если у вас есть необходимые разрешения, конвейеры Azure можно настроить на непрерывное развертывание из репозиториев GitHub или репозитории Azure. Дополнительные сведения о развертывании через конвейеры Azure см. в разделе [развертывания веб-приложения в службах приложений Azure](/azure/devops/pipelines/apps/cd/deploy-webdeploy-webapps).

Для службы приложений Azure для создания непрерывной поставки конвейеры Azure в вашей организации DevOps в Azure: 

- Учетная запись Azure, необходимо иметь разрешения на запись в Azure Active Directory и создать службу. 
  
- Учетная запись Azure, необходимо иметь **владельца** роли в подписке Azure.

- Вы должны обладать правами администратора в проект Azure DevOps, который вы хотите использовать.

Настройка конвейеров Azure (Предварительная версия):

1. Выберите **службы приложений** в [портала Azure](https://portal.azure.com) навигации слева, а затем выберите веб-приложение, вы хотите развернуть. 
   
1. На странице "приложения" выберите **центр развертывания** в меню слева.
   
1. На **поставщик построения** выберите **конвейеры Azure (Предварительная версия)** , а затем выберите **Продолжить**. 
   
1. На **Настройка** странице **кода** раздел:
   
   - Для GitHub, раскрывающийся список и выберите **организации**, **репозитория**, и **ветви** требуется непрерывное развертывание.
     
     > [!NOTE]
     > Если вы не видите любые репозитории, может потребоваться авторизации службы приложений Azure в GitHub. Перейдите к репозиторию GitHub и перейти к **параметры** > **приложений** > **авторизованные приложения OAuth**. Выберите **службе приложений Azure**, а затем выберите **Grant**.
     
   - Репозитории Azure, выберите **Azure DevOps организации**, **проекта**, **репозитория**, и **ветви** вы хотите развернуть постоянно, или настроить новую организацию Azure DevOps.
     
     > [!NOTE]
     > Если нет в списке существующих организации DevOps в Azure, может потребоваться связать ее с подпиской Azure. Дополнительные сведения см. в разделе [определения конвейера выпуска компакт-ДИСК](/azure/devops/pipelines/apps/cd/deploy-webdeploy-webapps#cd).
     
1. Выберите **Продолжить**.
   
1. Для репозиториев Azure в **построения** укажите языка среды, в которой конвейеры Azure следует использовать для выполнения задач сборки, а затем выберите **Продолжить**.
   
1. На **теста** странице Укажите, следует ли включить нагрузочных тестов, а затем выберите **Продолжить**.
   
1. В зависимости от плана службы приложений [ценовой](https://azure.microsoft.com/pricing/details/app-service/plans/), может появиться **развертывание в промежуточной** страницы. Выберите необходимость [включить слотов развертывания](deploy-staging-slots.md), а затем выберите **Продолжить**.
   
   > [!NOTE]
   > Конвейеры Azure не разрешает непрерывная доставка в рабочем слоте. Это ограничение предотвращает случайных развертываний в рабочей среде. Настройка непрерывной доставки в промежуточном слоте и проверьте изменения в ней затем переключить слоты, когда будете готовы.
   
1. После настройки поставщика построения, просмотрите параметры в **Сводка** странице, а затем выберите **Готово**.
   
   Теперь новые фиксации в выбранный репозиторий и ветвь, непрерывное развертывание в приложении службы приложений. Для отслеживания фиксаций и развертываний **центр развертывания** страницы.
   
   ![Отслеживания фиксаций и развертывания в центре развертывания](media/app-service-continuous-deployment/github-finished.png)

## <a name="disable-continuous-deployment"></a>Отключение непрерывного развертывания

Чтобы отключить непрерывное развертывание, выберите **Disconnect** в верхней части приложения **центр развертывания** страницы.

![Отключение непрерывного развертывания](media/app-service-continuous-deployment/disable.png)

[!INCLUDE [What happens to my app during deployment?](../../includes/app-service-deploy-atomicity.md)]

## <a name="additional-resources"></a>Дополнительные ресурсы

* [Изучение распространенных проблем с непрерывным развертыванием](https://github.com/projectkudu/kudu/wiki/Investigating-continuous-deployment)
* [Использование Azure PowerShell](/powershell/azureps-cmdlets-docs)
* [Документация по Git](https://git-scm.com/documentation)
* [Project Kudu](https://github.com/projectkudu/kudu/wiki)

[Create a repo (GitHub)]: https://help.github.com/articles/create-a-repo (Создание репозитория GitHub)
[Create a repo (BitBucket)]: https://confluence.atlassian.com/get-started-with-bitbucket/create-a-repository-861178559.html (Создание репозитория BitBucket)
[Создание нового репозитория Git (репозитории Azure)]: /azure/devops/repos/git/creatingrepo
