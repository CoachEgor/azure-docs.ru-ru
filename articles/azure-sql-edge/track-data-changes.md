---
title: Отслеживание изменений данных в SQL Azure для пограничных вычислений (предварительная версия)
description: Сведения об отслеживании изменений и отслеживании измененных данных в SQL Azure для пограничных вычислений (предварительная версия)
keywords: ''
services: sql-database-edge
ms.service: sql-database-edge
ms.topic: conceptual
author: SQLSourabh
ms.author: sourabha
ms.reviewer: sstein
ms.date: 05/19/2020
ms.openlocfilehash: a91ed5d4763aa521c9f6ed913dc532b08e37039f
ms.sourcegitcommit: bb0afd0df5563cc53f76a642fd8fc709e366568b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2020
ms.locfileid: "83594453"
---
# <a name="tracking-data-changes-in-azure-sql-edge-preview"></a>Отслеживание изменений данных в SQL Azure для пограничных вычислений (предварительная версия)

SQL Azure для пограничных вычислений поддерживает две функции SQL Server, которые отслеживают изменения в данных в базе данных: [Отслеживание изменений](https://docs.microsoft.com/sql/relational-databases/track-changes/track-data-changes-sql-server#Tracking) и [Отслеживание измененных данных](https://docs.microsoft.com/sql/relational-databases/track-changes/track-data-changes-sql-server#Capture). Эти функции позволяют приложениям обнаруживать изменения DML (операции вставки, обновления и удаления), произведенные в пользовательских таблицах базы данных. Отслеживание измененных данных и отслеживание изменений можно включить для одной и той же базы данных без каких-либо дополнительных действий.

Возможность выполнять запросы к измененным данным в базе данных — важное условие для эффективной работы некоторых приложений. Обычно для определения изменений данных разработчикам приложений приходилось реализовывать в своих приложениях специальный метод отслеживания, использующий сочетание триггеров, столбцов отметок времени и дополнительных таблиц. Создание таких приложений обычно связано с большими трудозатратами, требует обновлений схемы и часто вызывает серьезное снижение производительности. Отслеживание изменений может быть очень полезным при использовании решения Интернета вещей, когда необходимо периодически перемещать данные с пограничного устройства в облако или центр обработки данных. Это позволит быстро и эффективно запрашивать только разностные изменения с последней синхронизации и выгружать эти изменения в облако или в центр обработки данных. Дополнительные сведения о преимуществах использования Отслеживания изменений и Отслеживания измененных данных см. в разделе [Преимущества использования отслеживания измененных данных или отслеживания изменений](https://docs.microsoft.com/sql/relational-databases/track-changes/track-data-changes-sql-server#benefits-of-using-change-data-capture-or-change-tracking). 

Сведения о различиях между отслеживанием изменений и отслеживанием измененных данных см. в разделе [Отличие возможностей системы отслеживания измененных данных и системы отслеживания изменений](https://docs.microsoft.com/sql/relational-databases/track-changes/track-data-changes-sql-server#feature-differences-between-change-data-capture-and-change-tracking)

## <a name="change-data-capture"></a>Система отслеживания измененных данных

Сведения о том, как работает система отслеживания измененных данных, см. в статье [Об отслеживании измененных данных (SQL Server)](https://docs.microsoft.com/sql/relational-databases/track-changes/about-change-data-capture-sql-server).

Сведения о том, как включить или отключить отслеживание измененных данных, см. в статье [Включение и отключение отслеживания измененных данных (SQL Server)](https://docs.microsoft.com/sql/relational-databases/track-changes/enable-and-disable-change-data-capture-sql-server)

Сведения об администрировании и мониторинге системы отслеживания измененных данных см. в статье [Администрирование и наблюдение за отслеживанием измененных данных (SQL Server)](https://docs.microsoft.com/sql/relational-databases/track-changes/administer-and-monitor-change-data-capture-sql-server)

Сведения о том, как выполнять запросы и работать с измененными данными, см. в статье [Работа с отслеживанием изменений (SQL Server)](https://docs.microsoft.com/sql/relational-databases/track-changes/work-with-change-data-sql-server)

## <a name="change-tracking"></a>Отслеживание изменений

Сведения о том, как работает отслеживание изменений, см. в статье [Об отслеживании изменений (SQL Server)](https://docs.microsoft.com/sql/relational-databases/track-changes/about-change-tracking-sql-server).

Сведения о том, как включить или отключить отслеживание изменений, см. в статье [Включение и отключение отслеживания изменений (SQL Server)](https://docs.microsoft.com/sql/relational-databases/track-changes/enable-and-disable-change-tracking-sql-server)

Для администрирования, мониторинга отслеживания изменений и управления ими см. статью [Управление отслеживанием изменений (SQL Server)](https://docs.microsoft.com/sql/relational-databases/track-changes/manage-change-tracking-sql-server)

Сведения о том, как выполнять запросы и работать с измененными данными, см. в статье [Работа с отслеживанием изменений (SQL Server)](https://docs.microsoft.com/sql/relational-databases/track-changes/work-with-change-tracking-sql-server)

## <a name="temporal-tables"></a>Темпоральные таблицы

Помимо поддержки отслеживания изменений и отслеживания измененных данных SQL Server, SQL Azure для пограничных вычислений также поддерживает функцию SQL Server "Темпоральные таблицы". Темпоральные таблицы (также известные, как темпоральные таблицы с системным управлением версиями). Эти таблицы как компонент базы данных позволяют предоставлять данные, хранящиеся в таблице в любой момент времени, а не только в текущий момент времени.

Темпоральная таблица с системным управлением версиями — это тип пользовательской таблицы. Она ведет журнал всех изменений данных и позволяет легко выполнять анализ для определенной точки во времени. Этот тип темпоральной таблицы называется темпоральной таблицей с системным управлением версиями, так как периодом действия каждой строки управляет система (т. е. ядро СУБД).

В каждой темпоральной таблице есть два явно определенных столбца, каждый из которых имеет тип данных datetime2. Эти столбцы называются столбцами периода. Эти столбцы периода используются исключительно системой для записи периода действия каждой строки при каждом изменении строки.

Наряду со столбцами периода темпоральная таблица содержит ссылку на другую таблицу с зеркальным отображением схемы. Система использует эту таблицу для автоматического сохранения предыдущей версии строки при каждом обновлении или удалении строки в темпоральной таблице. Эта дополнительная таблица называется таблицей журнала, а главная таблица, в которой хранятся текущие (фактические) версии строк, называется текущей таблицей или просто темпоральной таблицей. Во время создания темпоральной таблицы можно указать существующую таблицу журнала (она должна соответствовать схеме) или позволить системе создать таблицу журнала по умолчанию.

Дополнительные сведения о временных таблицах см.в статье [Темпоральные таблицы](https://docs.microsoft.com/sql/relational-databases/tables/temporal-tables)

## <a name="see-also"></a>См. также:

- [Потоковая передача данных в SQL Azure для пограничных вычислений (предварительная версия) ](stream-data.md)
- [Машинное обучение и ИИ с применением ONNX в SQL для пограничных вычислений (предварительная версия)](onnx-overview.md)
- [Настройка репликации в SQL Azure для пограничных вычислений (предварительная версия)](configure-replication.md)
- [Резервное копирование и восстановление баз данных в SQL Azure для пограничных вычислений (предварительная версия)](backup-restore.md)



