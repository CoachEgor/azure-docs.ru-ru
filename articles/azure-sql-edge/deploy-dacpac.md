---
title: Использование пакетов приложения уровня данных Базы данных SQL — SQL Azure для пограничных вычислений (предварительная версия)
description: Сведения об использовании пакетов приложения уровня данных в SQL Azure для пограничных вычислений (предварительная версия)
keywords: SQL для пограничных вычислений, sqlpackage
services: sql-database-edge
ms.service: sql-database-edge
ms.topic: conceptual
author: SQLSourabh
ms.author: sourabha
ms.reviewer: sstein
ms.date: 05/19/2020
ms.openlocfilehash: 17d0ba4d7298e60255477c4801e0bcb9b9a4ecac
ms.sourcegitcommit: bb0afd0df5563cc53f76a642fd8fc709e366568b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2020
ms.locfileid: "83595883"
---
# <a name="sql-database-dac-packages-in-sql-edge"></a>Пакеты пакет приложения уровня данных Базы данных SQL в SQL для пограничных вычислений

SQL Azure для пограничных вычислений (предварительная версия) — это оптимизированное ядро реляционной СУБД, предназначенное для развертываний в Интернете вещей и на пограничных устройствах. Оно основано на последних версиях ядра СУБД Microsoft SQL Server, которые предоставляют ведущие в отрасли возможности повышения уровня производительности и безопасности, а также обработки запросов. Наряду с передовыми возможностями управления реляционными базами данных, которые предоставляются в SQL Server, SQL Azure для пограничных вычислений предоставляет встроенные функции аналитики в реальном времени и сложной обработки событий.

Кроме того, SQL Azure для пограничных вычислений предоставляет собственную реализацию SqlPackage.exe, которая позволяет развернуть [пакет приложения уровня данных (DAC) Базы данных SQL](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/data-tier-applications) во время развертывания SQL для пограничных вычислений. Пакеты DAC Базы данных SQL можно развернуть в SQL для пограничных вычислений с помощью параметр SqlPackage, который предоставляется через `module twin's desired properties` в модуле SQL для пограничных вычислений.

```json
{
    "properties.desired":
    {
        "SqlPackage": "<Optional_DACPAC_ZIP_SAS_URL>",
        "ASAJobInfo": "<Optional_ASA_Job_ZIP_SAS_URL>"
    }
}
```

|Поле | Описание |
|------|-------------|
| SqlPackage | Универсальный код ресурса (URI) хранилища BLOB-объектов Azure для ZIP-файла, который содержит пакет DAC для Базы данных SQL.
| ASAJobInfo | Универсальный код ресурса (URI) хранилища BLOB-объектов Azure для задания Azure Stream Analytics для пограничных устройств.

## <a name="use-a-sql-database-dac-package-with-sql-edge"></a>Использование пакета DAC Базы данных SQL с SQL для пограничных вычислений

Чтобы использовать пакет DAC Базы данных SQL (*.dacpac) с SQL для пограничных вычислений, сделайте следующее:

1. Создайте или извлеките пакет DAC Базы данных SQL. Сведения о том, как создать пакет DAC для существующей базы данных SQL Server, см. в статье [Извлечение DAC из базы данных](/sql/relational-databases/data-tier-applications/extract-a-dac-from-a-database/).

2. Заархивируйте файл с расширением *.dacpac и передайте его в учетную запись хранилища BLOB-объектов Azure. Дополнительные сведения о передаче файлов в хранилище BLOB-объектов Azure см. в статье [Передача, скачивание и составление списка больших двоичных объектов с помощью портала Azure](../storage/blobs/storage-quickstart-blobs-portal.md).

3. Создайте подписанный URL-адрес для ZIP-файла с помощью портала Azure. Дополнительные сведения см. в статье [Делегирование доступа с помощью подписанных URL-адресов (SAS)](../storage/common/storage-sas-overview.md).

4. Обновите конфигурацию модуля SQL для пограничных вычислений, включив в нее URI общего доступа для пакета DAC. Чтобы обновить модуль SQL для пограничных вычислений, выполните следующие действия.

    1. Перейдите к нужному развертыванию Центра Интернета вещей на портале Azure.

    2. В левой области щелкните **IoT Edge**.

    3. На странице **IoT Edge** найдите и выберите IoT Edge, где развернут модуль SQL для пограничных вычислений.

    4. На странице **Устройство IoT Edge** выберите **Set Module** (Настройка модуля).

    5. На странице **Выбор модулей** выберите **Настроить** для нужного модуля SQL для пограничных вычислений.

    6. На панели **Пользовательские модули IoT Edge** выберите **Установить требуемые свойства двойника модуля**. Измените требуемые свойства, указав значение универсального кода ресурса (URI) для параметра `SQLPackage`, как показано в следующем примере.

        > [!NOTE]
        > URI подписанного URL-адреса в приведенном ниже коде JSON используется только для примера. Замените этот универсальный код ресурса (URI) фактическим значением для вашего развертывания.

        ```json
            {
                "properties.desired":
                {
                    "SqlPackage": "<<<SAS URL for the *.zip file containing the dacpac",
                }
            }
        ```

    7. Щелкните **Сохранить**.

    8. На странице **Выбор модулей** нажмите кнопку **Далее**.

    9. На странице **Выбор модулей** нажмите кнопку **Далее**. Затем щелкните элемент **Отправить**.

5. Когда обновление модуля завершится, файл пакета приложения уровня данных будет скачан, распакован и развернут в экземпляре SQL для пограничных вычислений.

При каждом перезапуске контейнера SQL Azure для пограничных вычислений файл с расширением *.dacpac скачивается и оценивается на предмет изменений. Если обнаруживается новая версия файла, изменения развертываются в базе данных SQL для пограничных вычислений.

## <a name="next-steps"></a>Дальнейшие действия

- [Развертывание SQL Azure для пограничных вычислений с помощью портала Azure](deploy-portal.md)
- [Потоковая передача данных](stream-data.md)
- [Машинное обучение и ИИ с применением ONNX в SQL для пограничных вычислений (предварительная версия)](onnx-overview.md)
