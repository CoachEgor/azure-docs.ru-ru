---
title: Использование пакетов DACPAC и пакета BACPAC базы данных SQL Azure SQL Server (Предварительная версия)
description: Дополнительные сведения об использовании пакетов DACPAC и BACPAC в Azure SQL (Предварительная версия)
keywords: SQL для пограничных вычислений, sqlpackage
services: sql-edge
ms.service: sql-edge
ms.topic: conceptual
author: SQLSourabh
ms.author: sourabha
ms.reviewer: sstein
ms.date: 09/03/2020
ms.openlocfilehash: 52c8e9586d8ee53cdaac28cb1c48d2927d82c2ed
ms.sourcegitcommit: 4a7a4af09f881f38fcb4875d89881e4b808b369b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2020
ms.locfileid: "89462765"
---
# <a name="sql-database-dacpac-and-bacpac-packages-in-sql-edge"></a>Пакеты DACPAC и BACPAC базы данных SQL в SQL Server ребра

SQL Azure для пограничных вычислений (предварительная версия) — это оптимизированное ядро реляционной СУБД, предназначенное для развертываний в Интернете вещей и на пограничных устройствах. Оно основано на последних версиях ядра СУБД Microsoft SQL Server, которые предоставляют ведущие в отрасли возможности повышения уровня производительности и безопасности, а также обработки запросов. Наряду с передовыми возможностями управления реляционными базами данных, которые предоставляются в SQL Server, SQL Azure для пограничных вычислений предоставляет встроенные функции аналитики в реальном времени и сложной обработки событий.

Azure SQL Server также предоставляет собственную реализацию SqlPackage.exe, которая позволяет развертывать пакеты [DACPAC и пакета BACPAC базы данных SQL](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/data-tier-applications) во время развертывания SQL Server. Пакеты DAC Базы данных SQL можно развернуть в SQL для пограничных вычислений с помощью параметр SqlPackage, который предоставляется через `module twin's desired properties` в модуле SQL для пограничных вычислений.

```json
{
    "properties.desired":
    {
        "SqlPackage": "<Optional_DACPAC_ZIP_SAS_URL>",
        "ASAJobInfo": "<Optional_ASA_Job_ZIP_SAS_URL>"
    }
}
```

|Поле | Описание |
|------|-------------|
| SqlPackage | Универсальный код ресурса (URI) хранилища BLOB-объектов Azure для *ZIP* -файла, содержащего пакет DAC базы данных SQL или пакета BACPAC. ZIP-файл может содержать как несколько пакетов DAC, так и файлы BACPAC.
| ASAJobInfo | Универсальный код ресурса (URI) хранилища BLOB-объектов Azure для задания Azure Stream Analytics для пограничных устройств.

## <a name="use-a-sql-database-dac-package-with-sql-edge"></a>Использование пакета DAC Базы данных SQL с SQL для пограничных вычислений

Чтобы использовать пакет DAC базы данных SQL `(*.dacpac)` или BACPAC-файл `(*.bacpac)` с SQL Server, выполните следующие действия.

1. Создайте или извлеките пакет DAC или экспортируйте BACPAC-файл, используя описанный ниже механизм. 
    - Создайте или извлеките пакет DAC Базы данных SQL. Сведения о том, как создать пакет DAC для существующей базы данных SQL Server, см. в статье [Извлечение DAC из базы данных](/sql/relational-databases/data-tier-applications/extract-a-dac-from-a-database/).
    - Экспорт развернутого пакета DAC или базы данных. Сведения о создании BACPAC-файла для существующей базы данных SQL Server см. в разделе [Экспорт приложения уровня данных](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/export-a-data-tier-application/) .

2. Заархивировать `*.dacpac` `*.bacpac` файл или и передать его в учетную запись хранилища BLOB-объектов Azure. Дополнительные сведения о передаче файлов в хранилище BLOB-объектов Azure см. в статье [Передача, скачивание и составление списка больших двоичных объектов с помощью портала Azure](../storage/blobs/storage-quickstart-blobs-portal.md).

3. Создайте подписанный URL-адрес для ZIP-файла с помощью портала Azure. Дополнительные сведения см. в статье [Делегирование доступа с помощью подписанных URL-адресов (SAS)](../storage/common/storage-sas-overview.md).

4. Обновите конфигурацию модуля SQL для пограничных вычислений, включив в нее URI общего доступа для пакета DAC. Чтобы обновить модуль SQL для пограничных вычислений, выполните следующие действия.

    1. Перейдите к нужному развертыванию Центра Интернета вещей на портале Azure.

    2. В левой области щелкните **IoT Edge**.

    3. На странице **IoT Edge** найдите и выберите IoT Edge, где развернут модуль SQL для пограничных вычислений.

    4. На странице **Устройство IoT Edge** выберите **Set Module** (Настройка модуля).

    5. На странице **Выбор модулей** выберите **Настроить** для нужного модуля SQL для пограничных вычислений.

    6. На панели **Пользовательские модули IoT Edge** выберите **Установить требуемые свойства двойника модуля**. Измените требуемые свойства, указав значение универсального кода ресурса (URI) для параметра `SQLPackage`, как показано в следующем примере.

        > [!NOTE]
        > URI подписанного URL-адреса в приведенном ниже коде JSON используется только для примера. Замените этот универсальный код ресурса (URI) фактическим значением для вашего развертывания.

        ```json
            {
                "properties.desired":
                {
                    "SqlPackage": "<<<SAS URL for the *.zip file containing the dacpac and/or the bacpac files",
                }
            }
        ```

    7. Щелкните **Сохранить**.

    8. На странице **Выбор модулей** нажмите кнопку **Далее**.

    9. На странице **Выбор модулей** нажмите кнопку **Далее**. Затем щелкните элемент **Отправить**.

5. После обновления модуля файл пакета загружается, распаковаться и развертывается в экземпляре SQL Server.

При каждом перезапуске пограничных контейнеров Azure SQL `*.dacpac` пакет файла скачивается и оценивается на предмет изменений. Если обнаруживается новая версия файла, изменения развертываются в базе данных SQL для пограничных вычислений. BACPAC-файлы 

## <a name="next-steps"></a>Дальнейшие действия

- [Развертывание SQL Azure для пограничных вычислений с помощью портала Azure](deploy-portal.md)
- [Потоковая передача данных](stream-data.md)
- [Машинное обучение и ИИ с применением ONNX в SQL для пограничных вычислений (предварительная версия)](onnx-overview.md)
