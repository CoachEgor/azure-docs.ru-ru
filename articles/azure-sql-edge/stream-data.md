---
title: Потоковая передача данных в SQL Azure для пограничных вычислений (предварительная версия)
description: Сведения о потоковой передаче данных в Azure SQL (Предварительная версия).
keywords: ''
services: sql-edge
ms.service: sql-edge
ms.topic: conceptual
author: SQLSourabh
ms.author: sourabha
ms.reviewer: sstein
ms.date: 05/19/2020
ms.openlocfilehash: 866c74fbdfcfcef7cbb7d6cddb360c4265a2f776
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "84669619"
---
# <a name="data-streaming-in-azure-sql-edge-preview"></a>Потоковая передача данных в SQL Azure для пограничных вычислений (предварительная версия)

Azure SQL ребро (Предварительная версия) предоставляет следующие возможности для реализации потоковой передачи данных. 

- Развертывание заданий пограничных Azure Stream Analytics, созданных в Azure. Дополнительные сведения см. в разделе [Развертывание заданий Azure Stream Analytics](deploy-dacpac.md).
- Использование потоковой передачи T-SQL для создания заданий потоковой передачи в Azure SQL ребро без необходимости настройки заданий потоковой передачи в Azure. 

Хотя можно использовать оба варианта для реализации потоковой передачи данных в Azure SQL Server, следует использовать только один из них. При использовании обоих компонентов могут возникнуть состояния гонки, влияющие на работоспособность операций потоковой передачи данных.

Эта статья посвящена T-SQL Streaming. Она обеспечивает потоковую передачу данных в режиме реального времени, аналитику и обработку событий для анализа и обработки больших объемов данных с быстрой потоковой передачей из нескольких источников одновременно. Потоковая передача T-SQL создается с помощью того же высокопроизводительного механизма потоковой передачи, который [Azure Stream Analytics](https://docs.microsoft.com/azure/stream-analytics/stream-analytics-introduction) в Microsoft Azure. Эта функция поддерживает аналогичный набор возможностей, предоставляемых Azure Stream Analytics, выполняющихся на границе.

Как и в случае с Stream Analytics, потоковая передача T-SQL распознает закономерности и связи в данных, извлеченных из ряда входных источников IoT, включая устройства, датчики и приложения. Эти шаблоны можно использовать для активации действий и запуска рабочих процессов. Например, можно создать оповещения, сведения о веб-канале в решении для создания отчетов или визуализации или сохранить данные для последующего использования. 

Потоковая передача T-SQL может помочь:

* анализ потоковой передачи данных телеметрии в реальном времени с устройств Интернета вещей;
* Используйте аналитику в режиме реального времени для данных, созданных из автономных и бездрайверных автомобилей.
* Используйте удаленный мониторинг и прогнозное обслуживание высокоценных промышленных или производственных ресурсов.
* Используйте обнаружение аномалий и распознавание шаблонов для считывания с датчика Интернета вещей в сельское хозяйство или ферме Energy.

## <a name="how-does-t-sql-streaming-work"></a>Как работает потоковая передача T-SQL?

Потоковая передача T-SQL работает точно так же, как [Azure Stream Analytics](https://docs.microsoft.com/azure/stream-analytics/stream-analytics-introduction#how-does-stream-analytics-work). Например, он использует концепцию потоковых *заданий* для обработки потоковой передачи данных в режиме реального времени. 

Задание Stream Analytics состоит из следующих компонентов:

- **Потоковый вход**: определяет соединения с источником данных для считывания потока данных. SQL Azure для пограничных вычислений в настоящее время поддерживает следующие типы потоковых входов:
    - Центр Edge
    - Kafka (поддержка входных данных Kafka в настоящее время доступна только в версиях Intel/AMD64 Azure SQL ребр.)

- **Потоковый выход**: определяет соединения с источником данных для записи потока данных. SQL Azure для пограничных вычислений в настоящее время поддерживает следующие типы потоковых выводов
    - Центр Edge
    - SQL (выходные данные SQL могут быть локальной базой данных в экземпляре Azure SQL, а также удаленным SQL Server или базой данных SQL Azure.) 
    - Хранилище BLOB-объектов Azure

- **Потоковый запрос**: определяет преобразование, агрегирование, фильтрацию, сортировку и объединения, которые будут применяться к входному потоку перед его записью в выходной поток. Потоковый запрос основан на том же языке запросов, который используется Stream Analytics. Дополнительные сведения см. в разделе [язык запросов Stream Analytics](https://docs.microsoft.com/stream-analytics-query/stream-analytics-query-language-reference?).

> [!IMPORTANT]
> Потоковая передача T-SQL, в отличие от Stream Analytics, сейчас не поддерживает [использование ссылочных данных для уточняющих запросов](https://docs.microsoft.com/azure/stream-analytics/stream-analytics-use-reference-data) или [Использование UDF и UDA в потоковых заданиях](https://docs.microsoft.com/azure/stream-analytics/streaming-technologies#you-want-to-write-udfs-udas-and-custom-deserializers-in-a-language-other-than-javascript-or-c).

> [!NOTE]
> Потоковая передача T-SQL поддерживает только подмножество языковой зоны, поддерживаемой Stream Analytics. Дополнительные сведения см. в разделе [язык запросов Stream Analytics](https://docs.microsoft.com/stream-analytics-query/stream-analytics-query-language-reference?).

## <a name="limitations-and-restrictions"></a>ограничения

К потоковой передаче T-SQL применяются следующие ограничения и ограничения. 

- В любое конкретное время может быть активно только одно задание потоковой передачи. Задания, которые уже выполняются, должны быть остановлены перед запуском другого задания.
- Каждое выполнение задания потоковой передачи выполняется в одном потоке. Если задание потоковой передачи содержит несколько запросов, каждый запрос вычисляется в последовательном порядке.

## <a name="next-steps"></a>Дальнейшие действия

- [Создание задания Stream Analytics в SQL Azure для пограничных вычислений (предварительная версия) ](create-stream-analytics-job.md)
- [Просмотр метаданных, связанных с заданиями потоковой передачи в SQL Azure для пограничных вычислений (предварительная версия) ](streaming-catalog-views.md)
- [Создать внешний поток](create-external-stream-transact-sql.md)