---
title: Потоковая передача данных в SQL Azure для пограничных вычислений (предварительная версия)
description: Сведения о потоковой передаче данных в SQL Azure для пограничных вычислений (предварительная версия)
keywords: ''
services: sql-database-edge
ms.service: sql-database-edge
ms.topic: conceptual
author: SQLSourabh
ms.author: sourabha
ms.reviewer: sstein
ms.date: 05/19/2020
ms.openlocfilehash: 15b6b80f9924b050b388d74adc1d67db6a386134
ms.sourcegitcommit: bb0afd0df5563cc53f76a642fd8fc709e366568b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2020
ms.locfileid: "83594513"
---
# <a name="data-streaming-in-azure-sql-edge-preview"></a>Потоковая передача данных в SQL Azure для пограничных вычислений (предварительная версия)

SQL Azure для пограничных вычислений (предварительная версия) предоставляет два различных варианта реализации потоковой передачи данных. 

1. Развертывание заданий Azure Stream Analytics на IoT Edge, созданных в Azure. Дополнительные сведения о развертывании заданий Azure Stream Analytics на IoT Edge в SQL Azure для пограничных вычислений см. в статье [Развертывание заданий Azure Stream Analytics](deploy-dacpac.md).
2. С помощью новой функции **Потоковая передача T-SQL** вы сможете создать задания потоковой передачи в SQL Azure для пограничных вычислений без необходимости настраивать задания потоковой передачи в Azure. 

Хотя для реализации потоковой передачи данных в SQL Server можно использовать оба варианта, настоятельно рекомендуется использовать только один из них. При использовании обоих вариантов могут возникать состояния гонки, влияющие на работу операций потоковой передачи данных.

Оставшаяся часть этого документа относится к новой функции, **Потоковая передача T-SQL**, которая обеспечивает потоковую передачу данных в режиме реального времени, аналитику и обработку событий для одновременного анализа и обработки больших объемов потоковых данных из нескольких источников. *Потоковая передача T-SQL* построена с использованием того же высокопроизводительного механизма потоковой передачи, на основе которого в Microsoft Azure работает [Azure Stream Analytics](https://docs.microsoft.com/azure/stream-analytics/stream-analytics-introduction), а также поддерживает аналогичный набор возможностей, предоставляемых Azure Stream Analytics, который выполняется на пограничном устройстве.

Как и в случае с Azure Stream Analytics, Потоковая передача T-SQL позволяет распознавать закономерности и связи в данных, извлеченных из ряда входных источников Интернета вещей, включая устройства, датчики и приложения. На основе этих закономерностей можно активировать действия и инициировать рабочие процессы, например создавать оповещения, отправлять данные в средства составления отчетов или визуализации или сохранение данных для дальнейшего использования. 

Ниже описаны примеры сценариев, в которых удобно использовать Потоковую передачу T-SQL:

* анализ потоковой передачи данных телеметрии в реальном времени с устройств Интернета вещей;
* аналитика данных, созданных от самоуправляющихся и безоператорных транспортных средств, в режиме реального времени;
* удаленный мониторинг и прогнозное обслуживание высокоценных промышленных или производственных ресурсов;
* обнаружение аномалий и/или распознавание шаблонов в данных, считанных с датчика Интернета вещей, в сельском хозяйстве или энергоцентре.

## <a name="how-does-t-sql-streaming-work"></a>Как работает Потоковая передача T-SQL?

Потоковая передача T-SQL работает точно так же, как [Azure Stream Analytics](https://docs.microsoft.com/azure/stream-analytics/stream-analytics-introduction#how-does-stream-analytics-work), например, она использует концепцию потоковых заданий для обработки потоковой передачи данных в режиме реального времени. 

Задание Stream Analytics состоит из следующих компонентов:

- Потоковый вход. Потоковый вход определяет соединения с источником данных для считывания потока данных. SQL Azure для пограничных вычислений в настоящее время поддерживает следующие типы потоковых входов:
    - Центр Edge
    - Kafka. Поддержка для входных данных Kafka в настоящее время доступна только в версиях Intel/AMD64 SQL Azure для пограничных вычислений.

- Потоковый вывод. Потоковый вывод определяет соединения с источником данных для записи потока данных. SQL Azure для пограничных вычислений в настоящее время поддерживает следующие типы потоковых выводов
    - Центр Edge
    - SQL. Выходные данные SQL могут быть локальной базой данных внутри экземпляра SQL Azure для пограничных вычислений или удаленного сервера SQL Server или Базы данных Azure SQL. 
    - хранилище BLOB-объектов Azure

- Запрос на потоковую передачу. Запрос на потоковую передачу определяет преобразование, агрегирование, фильтрацию, сортировку и объединения, которые необходимо применить к входному потоку перед записью в потоковый вывод. Запрос на потоковую передачу основан на том же языке запросов, который использует Azure Stream Analytics. Дополнительные сведения о языке запросов Azure Stream Analytics см. в статье [Справочник по языкам запросов Stream Analytics](https://docs.microsoft.com/stream-analytics-query/stream-analytics-query-language-reference?).

> [!IMPORTANT]
> Потоковая передача T-SQL, в отличие от Azure Stream Analytics, в настоящее время не поддерживает [использование эталонных данных для уточняющих запросов](https://docs.microsoft.com/azure/stream-analytics/stream-analytics-use-reference-data) или [использование UDF и UDA в заданиях потока](https://docs.microsoft.com/azure/stream-analytics/streaming-technologies#you-want-to-write-udfs-udas-and-custom-deserializers-in-a-language-other-than-javascript-or-c).

> [!NOTE]
> Потоковая передача T-SQL поддерживает только подмножество языковых контактных зон, поддерживаемых Azure Stream Analytics. Дополнительные сведения о языке запросов Azure Stream Analytics см. в статье [Справочник по языкам запросов Stream Analytics](https://docs.microsoft.com/stream-analytics-query/stream-analytics-query-language-reference?).

## <a name="limitations-and-restrictions"></a>ограничения

Для потоковой передачи действуют следующие ограничения. 

- В любой момент времени может быть активно только одно задание потоковой передачи. Перед началом выполнения следующего задания уже выполняемые задания необходимо остановить.
- Каждое выполнение задания потоковой передачи имеет один поток. Если задание потоковой передачи содержит несколько запросов, каждый запрос будет оцениваться в последовательном порядке.

## <a name="next-steps"></a>Дальнейшие действия

- [Создание задания Stream Analytics в SQL Azure для пограничных вычислений (предварительная версия) ](create-stream-analytics-job.md)
- [Просмотр метаданных, связанных с заданиями потоковой передачи в SQL Azure для пограничных вычислений (предварительная версия) ](streaming-catalog-views.md)
- [Создание внешнего потока](create-external-stream-transact-sql.md)