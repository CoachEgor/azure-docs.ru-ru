---
title: Мониторинг безопасности контейнеров в Центре безопасности Azure
description: Узнайте, как проверить безопасность контейнеров из Центра безопасности Azure
services: security-center
author: memildin
manager: rkarlin
ms.service: security-center
ms.topic: conceptual
ms.date: 02/12/2020
ms.author: memildin
ms.openlocfilehash: 330cbc3f28f5e549d5a21417c3d7ccc1e5444769
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77919538"
---
# <a name="monitoring-the-security-of-your-containers"></a>Мониторинг безопасности контейнеров

На этой странице объясняется, как использовать функции безопасности контейнеров, описанные в [статье Container Security](container-security.md) в нашем разделе концепций.

Центр безопасности Azure охватывает следующие три аспекта безопасности контейнеров:

- **Управление уязвимостями** - Если вы находитесь на стандартном уровне ценообразования Центра безопасности (см. [цены),](/azure/security-center/security-center-pricing)вы можете сканировать свой реестр контейнеров Azure на основе ARM каждый раз, когда новое изображение продвигается. Сканер (работает на Квилис) представляет выводы в качестве рекомендаций Центра безопасности.
    Для получения подробных инструкций смотрите [сканирование реестров контейнеров на наличие уязвимостей](#scanning-your-arm-based-container-registries-for-vulnerabilities) ниже.

- **Укрепление хостов Docker ваших контейнеров** - Центр безопасности находит неуправляемые контейнеры, размещенные на IaaS Linux VMs или других машинах Linux под управлением Docker, и постоянно сравнивает конфигурации контейнеров с Центром интернет-безопасности (CIS) Docker Benchmark. Центр безопасности предупреждает вас, если ваши контейнеры не удовлетворяют ни один из элементов управления. Непрерывный мониторинг рисков безопасности из-за неправильной настройки является важнейшим компонентом любой программы безопасности. 
    Для получения подробных инструкций смотрите [утвердив хосты ваших контейнеров Docker](#hardening-your-containers-docker-hosts) ниже.

- **Укрепление кластеров службы Azure Kubernetes** - Security Center предоставляет рекомендации, когда находит уязвимости в конфигурации кластеров службы Azure Kubernetes. Подробную информацию о конкретных рекомендациях, которые могут появиться, можно найти [рекомендации Службы Кубернетес](recommendations-reference.md#recs-containers).

- **Защита от выполнения** - Если вы находитесь на стандартном уровне ценообразования Центра безопасности, вы получите защиту от угроз в режиме реального времени для контейнерных сред. Центр безопасности генерирует оповещения о подозрительных действиях на уровне кластера хоста и AKS. Для получения подробной информации о соответствующих [Alerts for Azure Kubernetes Service clusters](alerts-reference.md#alerts-akscluster) предупреждениях безопасности, которые могут появиться, см. [Alerts for containers - host level](alerts-reference.md#alerts-containerhost)

## <a name="scanning-your-arm-based-container-registries-for-vulnerabilities"></a>Сканирование контейнерных реестров на основе ARM на наличие уязвимостей 

1. Для сканирования изображений реестра контейнеров Azure:

    1. Убедитесь, что вы находитесь на стандартном уровне ценообразования Центра безопасности Azure.

    1. Со **страницы настройки цен &** включите дополнительный пакет ![контейнерных реестров для подписки: Включение пакета контейнерных реестров](media/monitor-container-security/enabling-container-registries-bundle.png)

        Центр безопасности теперь готов к сканированию изображений, которые попадают в реестр. 

        >[!NOTE]
        >Эта функция заряжается за изображение.


1. Чтобы вызвать сканирование изображения, нажмите его в реестр. 

    Когда сканирование завершается (обычно примерно через 10 минут), выводы доступны в рекомендациях Центра безопасности.
    

1. Чтобы просмотреть результаты, перейдите на страницу **Рекомендации.** Если проблемы были найдены, вы увидите следующую рекомендацию:

    ![Рекомендация по устранению проблем ](media/monitor-container-security/acr-finding.png)


1. Выберите рекомендацию. 
    Страница с подробной рекомендацией открывается дополнительной информацией. Эта информация включает в себя список реестров с уязвимыми изображениями ("Пострадавшие ресурсы") и шаги по исправлению положения. 

1. Выберите определенный реестр, чтобы увидеть репозитории внутри него, которые имеют уязвимые репозитории.

    ![Выберите реестр](media/monitor-container-security/acr-finding-select-registry.png)

    Страница регистрационных данных открывается списком затронутых репозиториев.

1. Выберите конкретный репозиторий, чтобы увидеть репозитории внутри него с уязвимыми изображениями.

    ![Выбор репозитория](media/monitor-container-security/acr-finding-select-repository.png)

    Открывается страница деталей репозитория. В нем перечислены уязвимые изображения вместе с оценкой серьезности выводов.

1. Выберите конкретное изображение, чтобы увидеть уязвимости.

    ![Выберите изображения](media/monitor-container-security/acr-finding-select-image.png)

    Открывается список находок для выбранного изображения.

    ![Список выводов](media/monitor-container-security/acr-findings.png)

1. Чтобы узнать больше о находке, выберите находку. 

    Выводы детали панели открывается.

    [![Выводы детали панели](media/monitor-container-security/acr-finding-details-pane.png)](media/monitor-container-security/acr-finding-details-pane.png#lightbox)

    Эта панель включает в себя подробное описание проблемы и ссылки на внешние ресурсы, чтобы помочь смягчить угрозы.

1. Выполните действия в разделе восстановления этого панели.

1. При предпринятых мерах, необходимых для устранения проблемы безопасности, замените изображение в реестре:

    1. Нажмите обновленное изображение. Это вызовет сканирование. 
    
    1. Проверьте страницу рекомендаций на рекомендацию «Уязвимости в изображениях реестра контейнеров Azure должны быть исправлены». 
    
        Если рекомендация все еще отображается, а обрабатываемый образ по-прежнему отображается в списке уязвимых изображений, проверьте шаги восстановления еще раз.

    1. Если вы уверены, что обновленное изображение было отодвинуто, отсканировано и больше не отображается в рекомендации, удалите "старое" уязвимое изображение из реестра.


## <a name="hardening-your-containers-docker-hosts"></a>Упрочнение хостов докеров контейнеров

Центр безопасности постоянно отслеживает конфигурацию хостов Docker и генерирует рекомендации по безопасности, которые отражают отраслевые стандарты.

Для просмотра рекомендаций безопасности Центра безопасности Azure для хостов Docker ваших контейнеров:

1. Из панели навигации Центра безопасности откройте **& приложения и** выберите вкладку **«Контейнеры».**

1. Дополнительно отфильтруйте список ресурсов контейнеров в контейнерные хосты.

    ![Фильтр контейнерных ресурсов](media/monitor-container-security/container-resources-filter.png)

1. Из списка машин-хоста контейнеров выберите один из них для дальнейшего исследования.

    ![Рекомендации по размещению контейнеров](media/monitor-container-security/container-resources-filtered-to-hosts.png)

    Информационная **страница контейнерного хоста** открывается с подробной информацией о хосте и списком рекомендаций.

1. Из списка рекомендаций выберите рекомендацию для дальнейшего изучения.

    ![Список рекомендаций контейнерного хоста](media/monitor-container-security/container-host-rec.png)

1. Дополнительно прочитайте описание, информацию, угрозы и шаги по исправлению положения. 

1. Выберите **действие** в нижней части страницы.

    [![Действие кнопки](media/monitor-container-security/host-security-take-action-button.png)](media/monitor-container-security/host-security-take-action.png#lightbox)

    Аналитика журнала открывается с пользовательской операцией, готовой к запуску. Пользовательский запрос по умолчанию включает список всех невыполненных правил, которые были оценены, а также рекомендации, которые помогут вам решить проблемы.

    [![Действия по анализу журналов](media/monitor-container-security/log-analytics-for-action-small.png)](media/monitor-container-security/log-analytics-for-action.png#lightbox)

1. Настройка параметров запроса и выберите **Выполнить,** когда вы уверены, что он готов для вашего хоста. 



## <a name="next-steps"></a>Дальнейшие действия

В этой статье вы узнали, как использовать функции безопасности контейнера Центра безопасности. 

Для других связанных материалов смотрите следующие страницы: 

- [Рекомендации Центра безопасности для контейнеров](recommendations-reference.md#recs-containers)
- [Оповещения на уровне кластера AKS](alerts-reference.md#alerts-akscluster)
- [Оповещения для уровня хостов контейнеров](alerts-reference.md#alerts-containerhost)
