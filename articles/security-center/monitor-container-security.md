---
title: Мониторинг безопасности контейнеров в центре безопасности Azure
description: Узнайте, как проверить уровень безопасности контейнеров в центре безопасности Azure.
services: security-center
author: memildin
manager: rkarlin
ms.service: security-center
ms.topic: conceptual
ms.date: 02/12/2020
ms.author: memildin
ms.openlocfilehash: d208629ee29bb9102f16fcb1d541677bd4a4d5fa
ms.sourcegitcommit: dfa543fad47cb2df5a574931ba57d40d6a47daef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/18/2020
ms.locfileid: "77431570"
---
# <a name="monitoring-the-security-of-your-containers"></a>Мониторинг безопасности контейнеров

На этой странице объясняется, как использовать функции безопасности контейнеров, описанные в [статье о безопасности контейнеров](container-security.md) в разделе Основные понятия.

Центр безопасности Azure охватывает следующие три аспекта безопасности контейнеров:

- **Управление** уязвимостями. Если вы находитесь в ценовой категории "Стандартный" центра безопасности (см. раздел [цены](/azure/security-center/security-center-pricing)), вы можете сканировать реестр контейнеров Azure на основе ARM каждый раз, когда будет отправлен новый образ. Сканер (на платформе Qualys) представляет результаты в виде рекомендаций центра безопасности.
    Подробные инструкции см. в разделе [Проверка реестров контейнера на наличие уязвимостей](#scanning-your-arm-based-container-registries-for-vulnerabilities) ниже.

- **Усиление защиты для узлов DOCKER** . Центр безопасности находит неуправляемые контейнеры, размещенные на виртуальных машинах IaaS Linux или на других компьютерах Linux с DOCKER, и непрерывно сравнивает конфигурации контейнеров с центром производительности DOCKER для Интернет-безопасности (CIS). Центр безопасности предупреждает о том, что контейнеры не соответствуют ни одному из элементов управления. Непрерывный мониторинг угроз безопасности из-за недопустимых настроек является важнейшим компонентом любой программы безопасности. 
    Подробные инструкции см. в разделе [Защита узлов DOCKER в контейнерах](#hardening-your-containers-docker-hosts) ниже.

- **Усиление защиты кластеров службы Kubernetes Azure** — центр безопасности предоставляет рекомендации при обнаружении уязвимостей в конфигурации кластеров службы Kubernetes Azure. Подробные сведения о конкретных рекомендациях см. в разделе [Рекомендации службы Kubernetes](recommendations-reference.md#recs-containers).

- **Защита среды выполнения** . Если вы находитесь в ценовой категории "Стандартный" центра безопасности, вы получите возможность обнаружения угроз в режиме реального времени для контейнерных сред. Центр безопасности создает оповещения для подозрительных действий на уровне узла и кластера AKS. Дополнительные сведения о соответствующих оповещениях системы безопасности см. в разделах [Alerts for Azure Kubernetes Service Clusters](alerts-reference.md#alerts-akscluster) и [Alerts for Containers-site Level](alerts-reference.md#alerts-containerhost) статьи справочника по оповещениям.

## <a name="scanning-your-arm-based-container-registries-for-vulnerabilities"></a>Поиск уязвимостей в реестровх контейнеров на базе ARM 

1. Чтобы включить проверку уязвимостей в образах реестра контейнеров Azure, выполните следующие действия.

    1. Убедитесь, что используется ценовая категория центра безопасности Azure "Стандартный".

    1. На странице **параметры & ценообразования** Включите дополнительный пакет реестров контейнеров для подписки: ![включения пакета реестров контейнеров](media/monitor-container-security/enabling-container-registries-bundle.png)

        Теперь центр безопасности готов к сканированию образов, отправляемых в реестр. 

        >[!NOTE]
        >За использование этого компонента берется отдельное изображение.


1. Чтобы запустить сканирование образа, отправьте его в реестр. 

    По завершении сканирования (обычно через 10 минут) результаты поиска доступны в рекомендациях центра безопасности.
    

1. Чтобы просмотреть результаты, перейдите на страницу **рекомендации** . Если обнаружены проблемы, вы увидите следующие рекомендации:

    ![Рекомендации по исправлению проблем ](media/monitor-container-security/acr-finding.png)


1. Выберите рекомендацию. 
    Откроется страница сведений об рекомендации с дополнительными сведениями. Эти сведения включают список реестров с уязвимыми образами ("затронутые ресурсы") и действия по исправлению. 

1. Выберите конкретный реестр, чтобы просмотреть в нем репозитории с уязвимыми репозиториями.

    ![Выберите реестр](media/monitor-container-security/acr-finding-select-registry.png)

    Откроется страница сведения о реестре со списком затронутых репозиториев.

1. Выберите конкретный репозиторий, чтобы просмотреть в нем репозитории с уязвимыми образами.

    ![Выберите репозиторий](media/monitor-container-security/acr-finding-select-repository.png)

    Откроется страница сведения о репозитории. В нем перечислены уязвимые образы, а также оценка серьезности полученных результатов.

1. Выберите конкретное изображение, чтобы увидеть уязвимости.

    ![Выбор изображений](media/monitor-container-security/acr-finding-select-image.png)

    Откроется список результатов для выбранного изображения.

    ![Список полученных результатов](media/monitor-container-security/acr-findings.png)

1. Чтобы узнать больше о поиске, выберите Поиск. 

    Откроется область сведений о выводах.

    [панель подробностей ![](media/monitor-container-security/acr-finding-details-pane.png)](media/monitor-container-security/acr-finding-details-pane.png#lightbox)

    Эта панель содержит подробное описание проблемы и ссылки на внешние ресурсы для устранения угроз.

1. Выполните действия, описанные в разделе "исправление" этой панели.

1. После выполнения действий, необходимых для устранения проблемы безопасности, замените образ в реестре:

    1. Отправка обновленного образа. Это приведет к запуску проверки. 
    
    1. На странице рекомендаций см. рекомендации по устранению уязвимости в образе реестра контейнеров Azure, которые следует исправить. 
    
        Если рекомендация по-прежнему отображается, а обрабатываемый образ по-прежнему отображается в списке уязвимых образов, проверьте действия по исправлению еще раз.

    1. Если вы уверены, что обновленное изображение Отправлено, проверено и больше не отображается в рекомендации, удалите "старый" уязвимый образ из реестра.


## <a name="hardening-your-containers-docker-hosts"></a>Усиление защиты узлов DOCKER контейнеров

Центр безопасности постоянно отслеживает конфигурацию узлов DOCKER и создает рекомендации по безопасности, отражающие отраслевые стандарты.

Чтобы просмотреть рекомендации по безопасности центра безопасности Azure для узлов DOCKER контейнеров, сделайте следующее:

1. На панели навигации центра безопасности откройте **приложение Compute & приложения** и перейдите на вкладку **контейнеры** .

1. При необходимости можно отфильтровать список ресурсов контейнера на узлах узлов контейнера.

    ![Фильтр ресурсов контейнера](media/monitor-container-security/container-resources-filter.png)

1. В списке компьютеров размещения контейнера выберите один из них для дальнейшего изучения.

    ![Рекомендации узла контейнера](media/monitor-container-security/container-resources-filtered-to-hosts.png)

    Откроется **страница сведения об узле контейнера** со сведениями об узле и списком рекомендаций.

1. В списке рекомендации выберите рекомендацию для дальнейшего изучения.

    ![Список рекомендаций узла контейнера](media/monitor-container-security/container-host-rec.png)

1. При необходимости прочтите описание, сведения, угрозы и действия по исправлению. 

1. Выберите **действие выполнить** в нижней части страницы.

    [Кнопка "выполнить действие" ![](media/monitor-container-security/host-security-take-action-button.png)](media/monitor-container-security/host-security-take-action.png#lightbox)

    Log Analytics открывается с настраиваемой операцией, готовой к запуску. Пользовательский запрос по умолчанию содержит список всех проверенных правил, которые были оценены, а также рекомендации, помогающие устранить эти проблемы.

    [![Log Analytics действия](media/monitor-container-security/log-analytics-for-action-small.png)](media/monitor-container-security/log-analytics-for-action.png#lightbox)

1. Настройте параметры запроса и выберите **выполнить** , если вы уверены, что они готовы для вашего узла. 



## <a name="next-steps"></a>Дальнейшие действия

В этой статье вы узнали, как использовать функции безопасности контейнеров в центре безопасности. 

Другие связанные материалы см. на следующих страницах: 

- [Рекомендации центра безопасности для контейнеров](recommendations-reference.md#recs-containers)
- [Оповещения для уровня кластера AKS](alerts-reference.md#alerts-akscluster)
- [Оповещения для уровня узла контейнера](alerts-reference.md#alerts-containerhost)
