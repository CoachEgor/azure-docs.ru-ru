---
title: Проверка задания Azure Stream Analytics с демонстрационными данными
description: В этой статье описывается тестирование задания Azure Stream Analytics, примера входных данных и отправка демонстрационных данных на портале Azure.
services: stream-analytics
author: mamccrea
ms.author: mamccrea
ms.reviewer: jasonh
ms.service: stream-analytics
ms.topic: conceptual
ms.date: 08/23/2019
ms.custom: seodec18
ms.openlocfilehash: 9c67d511f6c94c8b9af034835e149875304e2235
ms.sourcegitcommit: 083aa7cc8fc958fc75365462aed542f1b5409623
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2019
ms.locfileid: "70918967"
---
# <a name="test-an-azure-stream-analytics-job-with-sample-data"></a>Проверка задания Azure Stream Analytics с демонстрационными данными

В Azure Stream Analytics можно протестировать запрос без запуска или остановки задания. Вы можете проверить запросы к входящим данным из приемника входных данных или отправить демонстрационные данные из локального файла на портале Azure. Вы также можете тестировать запросы локально из локальных демонстрационных данных или динамических данных в [Visual Studio](https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-live-data-local-testing) и [Visual Studio Code](https://docs.microsoft.com/en-us/azure/stream-analytics/vscode-local-run). 

## <a name="sample-incoming-data-from-input"></a>Выборка входящих данных из ввода

Azure Stream Analytics автоматически извлекает события из потокового ввода. Можно выполнять запросы к примеру по умолчанию или задать конкретный интервал времени для образца.

1. Войдите на портал Azure.

2. Выберите существующее задание Stream Analytics.

3. На странице задания Stream Analytics в разделе **Топологии задания** установите флажок **Запрос**, чтобы открыть окно редактора запросов. 

4. Чтобы просмотреть пример списка входящих событий, выберите значок вход с файлом, и примеры событий будут автоматически отображаться в **предварительной версии входных данных**. 

   1\. Тип сериализации для данных автоматически определяется в формате JSON или CSV. Можно вручную изменить его, а также на JSON, CSV, AVRO, изменив параметр в раскрывающемся меню.
    
   2\. Используйте селектор для просмотра данных в **таблице** или **необработанном** формате.
    
   В. Если данные не являются актуальными, выберите **Обновить** , чтобы просмотреть последние события.

   В таблице ниже приведен пример данных в **формате таблицы**.

   ![Azure Stream Analytics пример входных данных в формате таблицы](./media/stream-analytics-test-query/asa-sample-table.png)

   В следующей таблице приведен пример данных в **формате RAW**:

   ![Azure Stream Analytics пример входных данных в формате RAW](./media/stream-analytics-test-query/asa-sample-raw.png)

5. Чтобы протестировать запрос с входящими данными, выберите **тестовый запрос**. Результаты отображаются на вкладке **Результаты теста** . Можно также выбрать **загрузить результаты** , чтобы скачать результаты.

   ![Azure Stream Analytics образец результатов тестового запроса](./media/stream-analytics-test-query/asa-test-query.png)

6. Чтобы проверить запрос по определенному диапазону входящих событий, выберите **выбрать диапазон времени**.
   
   ![Azure Stream Analytics диапазон времени для входящих событий выборки](./media/stream-analytics-test-query/asa-select-time-range.png)

7. Задайте диапазон времени для событий, которые вы хотите использовать для проверки запроса, и выберите **Пример**. В течение этого интервала времени можно получить до 1000 событий или 1 МБ, в зависимости от того, какое из них происходит первым.

   ![Azure Stream Analytics задать диапазон времени для входящих событий выборки](./media/stream-analytics-test-query/asa-set-time-range.png)

8. После выборки событий для выбранного периода времени они отображаются на вкладке **Просмотр ввода** .

   ![Azure Stream Analytics просмотреть результаты теста](./media/stream-analytics-test-query/asa-view-test-results.png)

9. Выберите **Сброс** , чтобы просмотреть пример списка входящих событий. Если выбран параметр **сбросить**, выбор диапазона времени будет потерян. Выберите **тестовый запрос** для проверки запроса и просмотра результатов на вкладке **Результаты теста** .

10. При внесении изменений в запрос нажмите кнопку **Сохранить запрос** , чтобы проверить новую логику запроса. Это позволяет итеративно изменить запрос и снова проверить его, чтобы увидеть, как изменяются выходные данные.

11. После проверки результатов, отображаемых в браузере, можно приступать к **запуску** задания.

## <a name="upload-sample-data-from-a-local-file"></a>Отправка демонстрационных данных из локального файла

Вместо использования данных в реальном времени можно использовать образцы данных из локального файла для проверки Azure Stream Analytics запроса.

1. Войдите на портал Azure.
   
2. Найдите имеющееся задание Stream Analytics и выберите его.

3. На странице задания Stream Analytics в разделе **Топологии задания** установите флажок **Запрос**, чтобы открыть окно редактора запросов.

4. Чтобы проверить запрос с помощью локального файла, выберите **отправить образец входных данных** на вкладке **Просмотр ввода** . 

   ![Azure Stream Analytics Отправить пример файла](./media/stream-analytics-test-query/asa-upload-sample-file.png)

5. Отправьте локальный файл для проверки запроса. Вы можете отправлять файлы только с форматами JSON, CSV или AVRO. Нажмите кнопку **ОК**.

   ![Azure Stream Analytics Отправить пример файла](./media/stream-analytics-test-query/asa-upload-sample-json-file.png)

6. Как только вы отправляете файл, содержимое файла можно просмотреть в виде таблицы или в формате RAW. Если выбрать параметр **сбросить**, образец данных вернется к входящим входным данным, описанным в предыдущем разделе. Любой другой файл можно передать для тестирования запроса в любое время.

7. Выберите **тестовый запрос** , чтобы проверить запрос к отправленному образцу файла.

8. Результаты теста отображаются на основе запроса. Вы можете изменить запрос и нажать кнопку **Сохранить запрос** для проверки новой логики запроса. Это позволяет итеративно изменить запрос и снова проверить его, чтобы увидеть, как изменяются выходные данные.

9. При использовании нескольких выходов в запросе результаты отображаются на основе выбранных выходных данных. 

   ![Azure Stream Analytics выбранные выходные данные](./media/stream-analytics-test-query/asa-sample-test-selected-output.png)

10. После проверки результатов, отображаемых в браузере, можно **запустить** задание.

## <a name="next-steps"></a>Следующие шаги

* [Справочник по языку запросов Azure Stream Analytics](https://docs.microsoft.com/stream-analytics-query/stream-analytics-query-language-reference)

* [Примеры запросов для общих шаблонов использования Stream Analytics](stream-analytics-stream-analytics-query-patterns.md)

* [Общие сведения о входных данных для Azure Stream Analytics](stream-analytics-add-inputs.md)

* [Описание выходных данных из Azure Stream Analytics](stream-analytics-define-outputs.md)