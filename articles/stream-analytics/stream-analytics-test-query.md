---
title: Проверка задания Azure Stream Analytics с демонстрационными данными
description: В этой статье описывается тестирование задания Azure Stream Analytics, примера входных данных и отправка демонстрационных данных на портале Azure.
author: mamccrea
ms.author: mamccrea
ms.reviewer: mamccrea
ms.service: stream-analytics
ms.topic: conceptual
ms.date: 3/6/2020
ms.custom: seodec18
ms.openlocfilehash: de2b99666dbed4eaec3db3e56800e9a7352e10e7
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "78898389"
---
# <a name="test-an-azure-stream-analytics-job-in-the-portal"></a>Проверьте задание Azure Stream Analytics на портале

В Azure Stream Analytics вы можете протестировать свой запрос, не запуская и не останавливая работу. Вы можете протестировать запросы на входящих данных из потоковых источников или загрузить выборочные данные из локального файла на портале Azure. Вы также можете протестировать запросы локально из ваших локальных выборочных данных или живых данных в [Visual Studio](stream-analytics-live-data-local-testing.md) и Visual [Studio Code.](visual-studio-code-local-run-live-input.md)

## <a name="automatically-sample-incoming-data-from-input"></a>Автоматически образуйте входящие данные из ввода

Аналитика потоков Azure автоматически извлекает события из потоковых входов. Вы можете запустить запросы по образцу по умолчанию или установить определенный временной промежуток для образца.

1. Войдите на портал Azure.

2. Найдите и выберите существующую работу Stream Analytics.

3. На странице задания Stream Analytics в разделе **Топологии задания** установите флажок **Запрос**, чтобы открыть окно редактора запросов. 

4. Чтобы увидеть список входящих событий, выберите ввод с иконой файла, и события образца автоматически отображаются в **предварительном просмотре ввода.**

   а. Тип сериализации для ваших данных автоматически обнаруживается, если его JSON или CSV. Вы можете вручную изменить его на JSON, CSV, AVRO, изменив опцию в меню выпадения.
    
   b. Используйте селектор для просмотра данных в **формате Таблица** или **Сырье.**
    
   c. Если отображаемые данные не актуальны, выберите **Обновление,** чтобы просмотреть последние события.

   Следующая таблица является примером данных в **формате таблицы:**

   ![Ввод примера Azure Stream Analytics в формате таблицы](./media/stream-analytics-test-query/asa-sample-table.png)

   Следующая таблица является примером данных в **формате Raw:**

   ![Ввод образцов Azure Stream Analytics в сыром формате](./media/stream-analytics-test-query/asa-sample-raw.png)

5. Чтобы протестировать запрос с помощью входящих данных, выберите **запрос test.** Результаты отображаются во вкладке **результатов теста.** Вы также можете выбрать **результаты загрузки** для загрузки результатов.

   ![Результаты пробных запросов Azure Stream Analytics](./media/stream-analytics-test-query/asa-test-query.png)

6. Чтобы протестировать запрос в отношении определенного диапазона времени входящих событий, выберите **временной диапазон.**
   
   ![Диапазон времени анализа потока Azure Stream для входящих событий выборки](./media/stream-analytics-test-query/asa-select-time-range.png)

7. Установите временной диапазон событий, которые необходимо использовать для тестирования запроса и выбора **примера.** В течение этого периода времени, вы можете получить до 1000 событий или 1 МБ, в зависимости от того, что приходит первым.

   ![Аналитика Azure Stream установила диапазон времени для входящих событий выборок](./media/stream-analytics-test-query/asa-set-time-range.png)

8. После того, как события будут отобраны для выбранного диапазона времени, они отображаются во вкладке **просмотра ввода.**

   ![Результаты тестирования Azure Stream Analytics](./media/stream-analytics-test-query/asa-view-test-results.png)

9. Выберите **сбросить,** чтобы увидеть список выборок входящих событий. Если вы выберете **сбросить,** ваш выбор диапазона времени будет потерян. Выберите **запрос теста,** чтобы проверить запрос и просмотреть результаты во вкладке **результатов теста.**

10. При внесении изменений в запрос выберите **запрос «Сохранить»** для тестирования новой логики запроса. Это позволяет итеративно изменять запрос и снова тестировать его, чтобы увидеть, как изменяется выход.

11. После проверки результатов, показанных в браузере, вы будете готовы **приступить** к работе.

## <a name="upload-sample-data-from-a-local-file"></a>Загрузка выборочных данных из локального файла

Вместо использования живых данных можно использовать выборочные данные из локального файла для тестирования запроса Azure Stream Analytics.

1. Войдите на портал Azure.
   
2. Найдите имеющееся задание Stream Analytics и выберите его.

3. На странице задания Stream Analytics в разделе **Топологии задания** установите флажок **Запрос**, чтобы открыть окно редактора запросов.

4. Чтобы протестировать запрос с помощью локального файла, выберите **ввод образца загрузки** на вкладке **просмотра ввода.** 

   ![Azure Stream Analytics загрузить пример файла](./media/stream-analytics-test-query/asa-upload-sample-file.png)

5. Загрузите локальный файл для тестирования запроса. Вы можете загружать файлы только в форматах JSON, CSV или AVRO. Нажмите кнопку **ОК**.

   ![Azure Stream Analytics загрузить пример файла](./media/stream-analytics-test-query/asa-upload-sample-json-file.png)

6. Как только вы загружаете файл, вы также можете увидеть содержимое файла в форме в виде таблицы или в его сыром формате. При выборе **сбросить**данные выборки вернутся к входящим входным данным, изложенным в предыдущем разделе. Вы можете загрузить любой другой файл для тестирования запроса в любое время.

7. Выберите **запрос теста** для тестирования запроса на загруженном примере файла.

8. Результаты тестирования отображаются на основе запроса. Вы можете изменить запрос и выбрать **запрос «Сохранить»** для тестирования новой логики запроса. Это позволяет итеративно изменять запрос и снова тестировать его, чтобы увидеть, как изменяется выход.

9. При использовании нескольких выходов в запросе результаты отображаются на основе выбранного вывода. 

   ![Azure Stream Analytics выбрала выход](./media/stream-analytics-test-query/asa-sample-test-selected-output.png)

10. После проверки результатов, показанных в браузере, вы можете **начать** работу.

## <a name="next-steps"></a>Дальнейшие действия
* [Создайте решение IoT с помощью Stream Analytics:](https://docs.microsoft.com/azure/stream-analytics/stream-analytics-build-an-iot-solution-using-stream-analytics)этот учебник поможет вам создать сквозное решение с генератором данных, который будет имитировать трафик на платной будке.

* [Справочник по языку запросов Azure Stream Analytics](https://docs.microsoft.com/stream-analytics-query/stream-analytics-query-language-reference)

* [Примеры запросов для распространенных шаблонов использования Stream Analytics](stream-analytics-stream-analytics-query-patterns.md)

* [Общие сведения о входных данных Azure Stream Analytics](stream-analytics-add-inputs.md)

* [Описание выходных данных из Azure Stream Analytics](stream-analytics-define-outputs.md)
