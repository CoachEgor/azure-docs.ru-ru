---
title: Включение избыточности зоны для кэша Azure для Redis (Предварительная версия)
description: Узнайте, как настроить избыточность зоны для кэша Azure уровня "Премиум" для экземпляров Redis
author: yegu-ms
ms.author: yegu
ms.service: cache
ms.topic: conceptual
ms.date: 08/11/2020
ms.openlocfilehash: 3c396d6d5b9da9a48e0d68a2d7d49561d6f688de
ms.sourcegitcommit: 32c521a2ef396d121e71ba682e098092ac673b30
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2020
ms.locfileid: "91347468"
---
# <a name="enable-zone-redundancy-for-azure-cache-for-redis-preview"></a>Включение избыточности зоны для кэша Azure для Redis (Предварительная версия)
Из этой статьи вы узнаете, как настроить избыточный в зоне экземпляр кэша Azure с помощью портал Azure.

Кэш Azure для уровней "Стандартный" и "Премиум" обеспечивает встроенную избыточность за счет размещения каждого кэша на двух выделенных виртуальных машинах (ВМ). Несмотря на то что эти виртуальные машины находятся в отдельных [доменах сбоя и обновления Azure](/azure/virtual-machines/windows/manage-availability) и имеют высокий уровень доступности, они подвержены сбоям на уровне центра обработки данных. Кэш Azure для Redis также поддерживает избыточность зоны на уровне Premium. Кэш, избыточный в пределах зоны, выполняется на виртуальных машинах, распределенных по нескольким [зонам доступности](/azure/virtual-machines/windows/manage-availability#use-availability-zones-to-protect-from-datacenter-level-failures). Он обеспечивает более высокую устойчивость и доступность.

> [!IMPORTANT]
> Эта предварительная версия предоставляется без соглашения об уровне обслуживания и не рекомендуется для рабочих нагрузок в рабочей среде. Дополнительные сведения см. в разделе Дополнительные [условия использования для предварительных версий Microsoft Azure.](https://azure.microsoft.com/support/legal/preview-supplemental-terms/) 
> 

## <a name="prerequisites"></a>Предварительные требования
* Подписка Azure. [создайте ее бесплатно](https://azure.microsoft.com/free/)

> [!NOTE]
> Сейчас эта функция доступна в предварительной версии. [свяжитесь с нами](mailto:azurecache@microsoft.com) , если вас интересует.
>

## <a name="create-a-cache"></a>Создание кэша
Чтобы создать кэш, выполните следующие действия.

1. Войдите на [портал Azure](https://portal.azure.com) и выберите **Создать ресурс**.
  
1. На странице **Создание** выберите **Базы данных**, а затем **Кэш Azure для Redis**.

    :::image type="content" source="media/cache-create/new-cache-menu.png" alt-text="Выберите кэш Azure для Redis.":::
   
1. На странице **Новый кэш Redis** настройте параметры для нового кэша.
   
    | Параметр      | Рекомендуемое значение  | Description |
    | ------------ |  ------- | -------------------------------------------------- |
    | **DNS-имя** | Введите глобально уникальное имя | Имя кэша должно быть строкой длиной от 1 до 63 символов и содержать только цифры, буквы и дефисы. Имя должно начинаться и заканчиваться цифрой или буквой и не может содержать более одного дефиса подряд. *Имя узла* для экземпляра кэша получит значение *\<DNS name>.redis.cache.windows.net*. | 
    | **подписка** | Раскройте список и выберите нужную подписку. | В этой подписке будет создан новый экземпляр кэша Redis для Azure. | 
    | **Группа ресурсов** | Раскройте список и выберите группу ресурсов или нажмите **Создать** и введите имя для новой группы ресурсов. | Имя группы ресурсов, в которой будут созданы кэш и другие ресурсы. Поместив все ресурсы приложения в одну группу ресурсов, вы сможете легко управлять ими и/или удалить их вместе. | 
    | **Местоположение** | Откройте список и выберите расположение. | Выберите оптимальный [регион](https://azure.microsoft.com/regions/) для других служб, которые будут использовать кэш. |
    | **Ценовая категория** | Раскрывающийся список и выберите кэш [уровня "Премиум](https://azure.microsoft.com/pricing/details/cache/) ". |  Ценовая категория определяет размер, производительность и функции, доступные для кэша. Дополнительные сведения см. в [обзоре предложения "Кэш Redis для Azure"](cache-overview.md). |
    | **Число реплик** | Слайд, чтобы выбрать количество реплик. | Значение по умолчанию: 1. |
    | **Зоны доступности** | Раскрывающийся список и выберите зоны для использования. | Виртуальные машины для кэша будут распределяться по выбранным зонам как можно более равномерно. Например, если в кэше есть три реплики и используются две зоны, в каждой зоне будут две виртуальные машины. |
   
1. После выбора кэша уровня "Премиум" вам будет предложено включить кластеризацию Redis. Оставить **кластеризацию** *отключенной*. 
   
    :::image type="content" source="media/cache-how-to-premium-clustering/redis-clustering-disabled.png" alt-text="Настройка кластера Redis.":::

    > [!NOTE]
    > Поддержка избыточности зоны работает только с некластеризованными и негеографически реплицированными кэшами в настоящее время. Кроме того, он не поддерживает закрытую связь, масштабирование, сохраняемость данных, импорт и экспорт.
    >

1. Нажмите кнопку **Создать**. 
   
    :::image type="content" source="media/cache-how-to-zone-redundancy/create-zones.png" alt-text="Создайте кэш Azure для Redis.":::
   
    На создание кэша требуется некоторое время. Вы можете отслеживать ход выполнения на странице **обзорных сведений** кэша Azure для Redis. Когда **Состояние** примет значение **Running** (Выполняется), кэш будет готов к использованию.

    > [!NOTE]
    > Невозможно изменить зоны доступности после создания кэша.
    >

## <a name="next-steps"></a>Next Steps
Дополнительные сведения о кэше Azure для функций Redis.

> [!div class="nextstepaction"]
> [Кэш Azure для уровней службы Redis Premium](cache-overview.md#service-tiers)
