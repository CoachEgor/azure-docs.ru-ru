---
title: Добавление реплик в кэш Azure для Redis (Предварительная версия)
description: Узнайте, как добавить дополнительные реплики в кэш Azure уровня "Премиум" для экземпляров Redis.
author: yegu-ms
ms.author: yegu
ms.service: cache
ms.topic: conceptual
ms.date: 08/11/2020
ms.openlocfilehash: a747cf8e1713eb905aee02af95c568a448b47f05
ms.sourcegitcommit: 32c521a2ef396d121e71ba682e098092ac673b30
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2020
ms.locfileid: "91347024"
---
# <a name="add-replicas-to-azure-cache-for-redis-preview"></a>Добавление реплик в кэш Azure для Redis (Предварительная версия)
В этой статье вы узнаете, как настроить экземпляр кэша Azure с дополнительными репликами с помощью портал Azure.

Кэш Azure для уровней "Стандартный" и "Премиум" обеспечивает избыточность за счет размещения каждого кэша на двух выделенных виртуальных машинах (ВМ). Эти виртуальные машины настроены в качестве первичных и реплик. Когда первичная виртуальная машина становится недоступной, реплика обнаруживает, что и создает новый первичный ресурс автоматически. Теперь вы можете увеличить количество реплик в кэше уровня "Премиум" до трех, что позволит создать четыре виртуальных машины, резервно создав кэш. Наличие нескольких реплик приводит к более высокой устойчивости, чем может предоставить одна реплика.

> [!IMPORTANT]
> Эта предварительная версия предоставляется без соглашения об уровне обслуживания и не рекомендуется для рабочих нагрузок в рабочей среде. Дополнительные сведения см. в разделе Дополнительные [условия использования для предварительных версий Microsoft Azure.](https://azure.microsoft.com/support/legal/preview-supplemental-terms/) 
> 

## <a name="prerequisites"></a>Предварительные требования
* Подписка Azure. [создайте ее бесплатно](https://azure.microsoft.com/free/)

> [!NOTE]
> Сейчас эта функция доступна в предварительной версии. [свяжитесь с нами](mailto:azurecache@microsoft.com) , если вас интересует.
>

## <a name="create-a-cache"></a>Создание кэша
Чтобы создать кэш, выполните следующие действия.

1. Войдите на [портал Azure](https://portal.azure.com) и выберите **Создать ресурс**.
  
1. На странице **Создание** выберите **Базы данных**, а затем **Кэш Azure для Redis**.

    :::image type="content" source="media/cache-create/new-cache-menu.png" alt-text="Выберите кэш Azure для Redis.":::
   
1. На странице **Новый кэш Redis** настройте параметры для нового кэша.
   
    | Параметр      | Рекомендуемое значение  | Description |
    | ------------ |  ------- | -------------------------------------------------- |
    | **DNS-имя** | Введите глобально уникальное имя | Имя кэша должно быть строкой длиной от 1 до 63 символов и содержать только цифры, буквы и дефисы. Имя должно начинаться и заканчиваться цифрой или буквой и не может содержать более одного дефиса подряд. *Имя узла* для экземпляра кэша получит значение *\<DNS name>.redis.cache.windows.net*. | 
    | **подписка** | Раскройте список и выберите нужную подписку. | В этой подписке будет создан новый экземпляр кэша Redis для Azure. | 
    | **Группа ресурсов** | Раскройте список и выберите группу ресурсов или нажмите **Создать** и введите имя для новой группы ресурсов. | Имя группы ресурсов, в которой будут созданы кэш и другие ресурсы. Поместив все ресурсы приложения в одну группу ресурсов, вы сможете легко управлять ими и/или удалить их вместе. | 
    | **Местоположение** | Откройте список и выберите расположение. | Выберите оптимальный [регион](https://azure.microsoft.com/regions/) для других служб, которые будут использовать кэш. |
    | **Ценовая категория** | Раскрывающийся список и выберите кэш [уровня "Премиум](https://azure.microsoft.com/pricing/details/cache/) ". |  Ценовая категория определяет размер, производительность и функции, доступные для кэша. Дополнительные сведения см. в [обзоре предложения "Кэш Redis для Azure"](cache-overview.md). |
    | **Число реплик** | Слайд, чтобы выбрать количество реплик. | Значение по умолчанию: 1. |
   
1. После выбора кэша уровня "Премиум" вам будет предложено включить кластеризацию Redis. Оставить **кластеризацию** *отключенной*. 
   
    :::image type="content" source="media/cache-how-to-premium-clustering/redis-clustering-disabled.png" alt-text="Настройка кластера Redis.":::

    > [!NOTE]
    > Поддержка нескольких реплик работает только с некластеризованными кэшами в настоящее время.
    >

1. Нажмите кнопку **Создать**. 
   
    :::image type="content" source="media/cache-how-to-multi-replicas/create-multi-replicas.png" alt-text="Создайте кэш Azure для Redis.":::
   
    На создание кэша требуется некоторое время. Вы можете отслеживать ход выполнения на странице **обзорных сведений** кэша Azure для Redis. Когда **Состояние** примет значение **Running** (Выполняется), кэш будет готов к использованию.

    > [!NOTE]
    > Число реплик в кэше нельзя изменить после его создания.
    >

## <a name="next-steps"></a>Next Steps
Дополнительные сведения о кэше Azure для функций Redis.

> [!div class="nextstepaction"]
> [Кэш Azure для уровней службы Redis Premium](cache-overview.md#service-tiers)
