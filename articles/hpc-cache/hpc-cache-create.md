---
title: Создание Azure HPC Cache (предварительная версия)
description: Создание экземпляра Azure HPC Cache
author: ekpgh
ms.service: hpc-cache
ms.topic: tutorial
ms.date: 09/24/2019
ms.author: v-erkell
ms.openlocfilehash: a0590c14032595bea685c69962ef27dca14d1d69
ms.sourcegitcommit: 29880cf2e4ba9e441f7334c67c7e6a994df21cfe
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/26/2019
ms.locfileid: "71300016"
---
# <a name="create-an-azure-hpc-cache-preview"></a>Создание Azure HPC Cache (предварительная версия)

Кэш создается на портале Azure. 

![снимок экрана с обзором кэша на портале Azure с кнопкой "Создать" внизу](media/hpc-cache-home-page.png)

## <a name="define-basic-details"></a>Определение основных сведений

![снимок экрана: страница со сведениями о проекте на портале Azure](media/hpc-cache-create-basics.png)

В области **Сведения о проекте** выберите подписку и группу ресурсов, в которых будет размещаться кэш. Убедитесь, что подписка находится в списке [доступа к предварительной версии](hpc-cache-prereqs.md#azure-subscription).

В области **Сведения о службе** задайте имя кэша и следующие атрибуты:

* Расположение — выберите один из [поддерживаемых регионов](hpc-cache-overview.md#region-availability).
* Виртуальная сеть — вы можете создать виртуальную сеть или выбрать имеющуюся.
* Подсеть — выберите или создайте подсеть с по крайней мере 64 IP-адресами (/24), которая будет использоваться только для экземпляра Azure HPC Cache.

## <a name="set-cache-capacity"></a>Установка емкости кэша
<!-- referenced from GUI - update aka.ms link if you change this header text -->

На странице **Кэш** необходимо задать емкость кэша. Это значение определяет, какой объем данных может хранить кэш и как быстро он может обслуживать клиентские запросы. 

По истечении периода общедоступной предварительной версии емкость также повлияет на стоимость кэша.

Емкость кэша измеряется в операциях ввода-вывода в секунду. Выберите емкость, задав следующие два значения:

* максимальная скорость передачи данных для кэша (пропускная способность) в ГБ/сек;
* объем хранилища, выделенный для кэшированных данных, в ТБ.

Выберите одно из доступных значений пропускной способности и размеры хранилища кэша. Емкость операций ввода-вывода в секунду вычисляется и отображается под селекторами значений.

Имейте в виду, что реальная скорость передачи данных зависит от рабочей нагрузки, скорости сети и типа целевых объектов хранилища. Выбранное значение задает максимальную пропускную способность для всего кэша, а для клиентских запросов доступна не вся пропускная способность. Например, если клиент запрашивает файл, который еще не хранится в кэше, или если файл помечен как устаревший, кэш использует часть своей пропускной способности для выборки из серверного хранилища.

Azure HPC Cache определяет, какие файлы необходимо кэшировать и предварительно загрузить, чтобы максимально увеличить количество попаданий в кэше. Содержимое кэша постоянно оценивается, и файлы, доступ к которым осуществляется нечасто, перемещаются в долговременное хранилище. Выберите размер хранилища кэша, в котором можно удобно разместить активный набор рабочих файлов, с дополнительным пространством для метаданных и других служебных данных.

![снимок экрана: страница определения размера кэша](media/hpc-cache-create-iops.png)

## <a name="add-storage-targets"></a>Добавление целевых объектов хранилища

Целевые объекты хранилища — это внутреннее долговременное хранилище для содержимого кэша.

Целевые объекты хранилища определяются при создании кэша, но их также можно добавить позже с помощью ссылки в разделе **Настройка** страницы кэша на портале.

![снимок экрана: страница целевых объектов хранилища](media/hpc-cache-storage-targets-pop.png)

Щелкните ссылку **Add storage target link** (Добавление целевого хранилища), чтобы определить серверные системы хранения. Хранилищем могут быть контейнеры больших двоичных объектов Azure или локальные системы NFS.

Вы можете определить до десяти разных целевых объектов хранилища.

Пошаговые инструкции по добавлению целевого объекта хранилища см. в [этой статье](hpc-cache-add-storage.md). Процедура отличается для экспорта хранилища BLOB-объектов или NFS.

Ниже приведен ряд советов.

* Для обоих типов хранилища необходимо указать, как найти серверную систему хранения (адрес NFS или имя контейнера больших двоичных объектов), и путь к пространству имен для клиентов.

* При создании целевого объекта хранилища BLOB-объектов убедитесь, что кэш имеет разрешения на доступ к учетной записи хранения, как описано в разделе [Добавление ролей контроля доступа в учетную запись](hpc-cache-add-storage.md#add-the-access-control-roles-to-your-account). Если вы не уверены, что конфигурация роли будет выполнена успешно, сначала создайте кэш, а затем добавьте хранилище BLOB-объектов.

* При создании целевого объекта хранилища NFS укажите [модель использования](hpc-cache-add-storage.md#choose-a-usage-model). Параметр модели использования позволяет оптимизировать рабочий процесс в кэше.

## <a name="add-resource-tags-optional"></a>Добавление тегов ресурсов (необязательно)

На странице **Теги** можно добавлять [теги ресурсов](https://go.microsoft.com/fwlink/?linkid=873112) в экземпляр Azure HPC Cache.

## <a name="finish-creating-the-cache"></a>Завершение создания кэша

После настройки нового кэша перейдите на вкладку **Просмотр и создание**. Портал проверяет выбранные параметры и позволяет просматривать выбранные значения. Если все правильно, нажмите кнопку **Создать**. 

Создание кэша занимает около 10 минут. Вы можете отслеживать ход создания на панели уведомлений на портале Azure. 

![Снимок экрана со страницами создания кэша и уведомлений на портале](media/hpc-cache-deploy-status.png)

По завершении создания появится уведомление со ссылкой на новый экземпляр Azure HPC Cache, а кэш отобразится в списке **Ресурсы** в подписке. 

![снимок экрана: экземпляр Azure HPC Cache на портале Azure](media/hpc-cache-new-overview.png)

## <a name="next-steps"></a>Дополнительная информация

После того как кэш появится в списке **Ресурсы**, его можно подключить для клиентского доступа, использовать для перемещения данных рабочего набора в новый целевой объект хранилища BLOB-объектов Azure или определить дополнительные источники данных.

* [Mount the Azure HPC Cache](hpc-cache-mount.md) (Подключение Azure HPC Cache)
* [Move data to Azure Blob storage for Azure HPC Cache](hpc-cache-ingest.md) (Перемещение данных в хранилище BLOB-объектов Azure для Azure HPC Cache)
* [Добавление целевых объектов хранилища](hpc-cache-add-storage.md)
