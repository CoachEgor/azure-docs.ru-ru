---
title: Предварительные требования для кэша HPC Azure
description: Необходимые условия для использования кэша HPC для Azure
author: ekpgh
ms.service: hpc-cache
ms.topic: conceptual
ms.date: 08/30/2019
ms.author: v-erkell
ms.openlocfilehash: 7bd1268784df50168e03673ac809b3a5854e2be7
ms.sourcegitcommit: a4b5d31b113f520fcd43624dd57be677d10fc1c0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/06/2019
ms.locfileid: "70775342"
---
# <a name="prerequisites-for-azure-hpc-cache"></a>Необходимые условия для кэша HPC для Azure

Прежде чем использовать портал Azure для создания нового кэша Azure HPC, убедитесь, что среда соответствует этим требованиям.

## <a name="azure-subscription"></a>Подписка на Azure

Рекомендуется использовать платную подписку.

> [!NOTE]
> Во время общедоступной предварительной версии группа кэша HPC Azure должна добавить подписку в список доступа, прежде чем ее можно будет использовать для создания экземпляра кэша. Эта процедура позволяет гарантировать, что каждый клиент получает высококачественное реагирование из своих тестовых кэшей. Заполните [эту форму](https://aka.ms/onboard-hpc-cache) , чтобы запросить доступ.

## <a name="network-infrastructure"></a>Сетевая инфраструктура

Прежде чем можно будет использовать кэш, необходимо настроить два варианта, связанных с сетью:

* Выделенная подсеть для экземпляра кэша Azure HPC
* Поддержка DNS для того, чтобы кэш мог получать доступ к хранилищу и другим ресурсам.

### <a name="cache-subnet"></a>Подсеть кэша

Для кэша HPC Azure требуется выделенная подсеть со следующими характеристиками:

* В подсети должен быть доступен по крайней мере 64 IP-адресов.
* Подсеть не может размещать другие виртуальные машины даже для связанных служб, таких как клиентские компьютеры.
* При использовании нескольких экземпляров кэша каждый из них должен иметь собственную подсеть.

Рекомендуется создать новую подсеть для кэша. Вы можете создать виртуальную сеть и подсеть в процессе создания кэша.

### <a name="dns-access"></a>Доступ к DNS

Для кэша HPC Azure требуется DNS для доступа к ресурсам за пределами своей виртуальной сети. В зависимости от того, какие ресурсы используются, может потребоваться настроить настраиваемый DNS-сервер и настроить перенаправление между этим сервером и Azure DNS серверами: 

* Для доступа к конечным точкам хранилища BLOB-объектов Azure и другим внутренним ресурсам необходим DNS-сервер на основе Azure.
* Для доступа к локальному хранилищу необходимо настроить пользовательский DNS-сервер, который может разрешать имена узлов хранилища.

Если вам нужен только доступ к хранилищу BLOB-объектов, для кэша можно использовать предоставляемый Azure сервер DNS по умолчанию. Однако если требуется доступ к другим ресурсам, следует создать пользовательский DNS-сервер и настроить его для пересылки любых запросов на разрешение, специфичных для Azure, на сервер Azure DNS. (Простой DNS-сервер также можно использовать для балансировки нагрузки клиентских подключений между всеми доступными точками подключения кэша.)

Дополнительные сведения о виртуальных сетях Azure и конфигурациях DNS-серверов см. в [статье разрешение имен для ресурсов в виртуальных сетях Azure](https://docs.microsoft.com/azure/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances).

## <a name="permissions"></a>Разрешения

Прежде чем начать создание кэша, проверьте эти компоненты, связанные с разрешениями.

* Кэш Azure HPC должен иметь возможность создавать виртуальные сетевые интерфейсы (NIC). Пользователь, создающий кэш, должен иметь достаточные привилегии в подписке для создания сетевых карт.
<!-- There are several ways to authorize this access; read [Additional prerequisites](media/preview-prereqs.md) to learn more. -->

* При использовании хранилища BLOB-объектов экземпляру кэша Azure HPC требуется авторизация для доступа к вашей учетной записи хранения. Вы можете использовать управление доступом на основе ролей (RBAC), чтобы предоставить кэшу доступ к хранилищу BLOB-объектов. Требуются две роли: Участник учетной записи хранения и участник данных BLOB-объекта хранилища. Следуйте инструкциям в разделе [Добавление хранилища в кэш](hpc-cache-add-storage.md#add-the-access-control-roles-to-your-account).

## <a name="storage-infrastructure"></a>Инфраструктура хранилища

Кэш поддерживает экспорт контейнеров больших двоичных объектов Azure или оборудования NFS. Целевые объекты хранилища можно определить при создании кэша, но их также можно добавить позже. 

### <a name="nfs-storage-requirements"></a>Требования к хранилищу NFS

При использовании локального хранилища оборудования кэш должен иметь сетевой доступ с высокой пропускной способностью к центру обработки данных из своей подсети. Рекомендуется использовать [ExpressRoute](https://docs.microsoft.com/azure/expressroute/) или аналогичный доступ.

Серверное хранилище NFS должно быть совместимой аппаратной или программной платформой. Для получения дополнительных сведений обратитесь к группе кэша HPC Azure.

### <a name="blob-storage-requirements"></a>Требования к хранилищу BLOB-объектов

Если вы хотите использовать хранилище BLOB-объектов Azure с кэшем HPC Azure, вам потребуется совместимая учетная запись хранения и либо пустой контейнер больших двоичных объектов, либо контейнер, который заполняется данными в формате кэша HPC Azure, как описано в разделе [Перемещение данных в хранилище BLOB-объектов Azure](hpc-cache-ingest.md).

Создайте учетную запись и контейнер, прежде чем пытаться добавить ее в качестве целевого объекта хранилища.

Чтобы создать совместимую учетную запись хранения, используйте следующие параметры:

* Производительность. **Стандартный**
* Тип учетной записи. **StorageV2 (общее назначение версии 2)**
* Репликация: **Локально избыточное хранилище (LRS)**
* Уровень доступа (по умолчанию): **Горячий уровень хранилища**

Рекомендуется использовать учетную запись хранения в том же расположении, что и кэш.

Также необходимо предоставить приложению кэша доступ к учетной записи хранения Azure. Следуйте описанию в области [Добавление хранилища в кэш](hpc-cache-add-storage.md#add-the-access-control-roles-to-your-account) , чтобы сделать кэш участником учетной записи хранения ролей доступа и участником данных BLOB-объекта хранилища. Если вы не являетесь владельцем учетной записи хранения, владелец этого этапа.

## <a name="next-steps"></a>Следующие шаги

* [Создание экземпляра кэша Azure HPC](hpc-cache-create.md) из портал Azure
