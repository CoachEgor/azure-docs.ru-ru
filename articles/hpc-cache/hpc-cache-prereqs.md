---
title: Предварительные требования для кэша Azure HPC (Предварительная версия)
description: Необходимые условия для использования кэша HPC для Azure
author: ekpgh
ms.service: hpc-cache
ms.topic: conceptual
ms.date: 09/24/2019
ms.author: v-erkell
ms.openlocfilehash: fab85785ea183736b4012c349af143ef3a8c784a
ms.sourcegitcommit: 29880cf2e4ba9e441f7334c67c7e6a994df21cfe
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/26/2019
ms.locfileid: "71299910"
---
# <a name="prerequisites-for-azure-hpc-cache-preview"></a>Предварительные требования для кэша HPC Azure (Предварительная версия)

Прежде чем использовать портал Azure для создания нового кэша Azure HPC, убедитесь, что среда соответствует этим требованиям.

## <a name="azure-subscription"></a>Подписка Azure

Рекомендуется использовать платную подписку.

> [!NOTE]
> Во время предварительной версии группа кэша HPC Azure должна добавить подписку в список доступа, прежде чем ее можно будет использовать для создания экземпляра кэша. Эта процедура позволяет гарантировать, что каждый клиент получает высококачественное реагирование из своих тестовых кэшей. Заполните [эту форму](https://aka.ms/onboard-hpc-cache) , чтобы запросить доступ.

## <a name="network-infrastructure"></a>Сетевая инфраструктура

Прежде чем можно будет использовать кэш, необходимо настроить два компонента, связанных с сетью:

* Выделенная подсеть для экземпляра кэша Azure HPC
* Поддержка DNS для того, чтобы кэш мог получать доступ к хранилищу и другим ресурсам.

### <a name="cache-subnet"></a>Подсеть кэша

Для кэша HPC Azure требуется выделенная подсеть со следующими характеристиками:

* В подсети должен быть доступен по крайней мере 64 IP-адресов.
* Подсеть не может размещать другие виртуальные машины даже для связанных служб, таких как клиентские компьютеры.
* При использовании нескольких экземпляров кэша Azure HPC каждому из них требуется собственная подсеть.

Рекомендуется создать новую подсеть для каждого кэша. Вы можете создать виртуальную сеть и подсеть в процессе создания кэша.

### <a name="dns-access"></a>Доступ к DNS

Для доступа к ресурсам за пределами своей виртуальной сети в кэше требуется DNS. В зависимости от того, какие ресурсы используются, может потребоваться настроить настраиваемый DNS-сервер и настроить перенаправление между этим сервером и Azure DNS серверами:

* Для доступа к конечным точкам хранилища BLOB-объектов Azure и другим внутренним ресурсам необходим DNS-сервер на основе Azure.
* Для доступа к локальному хранилищу необходимо настроить пользовательский DNS-сервер, который может разрешать имена узлов хранилища.

Если вам нужен только доступ к хранилищу BLOB-объектов, для кэша можно использовать предоставляемый Azure сервер DNS по умолчанию. Однако если требуется доступ к другим ресурсам, следует создать пользовательский DNS-сервер и настроить его для пересылки любых запросов на разрешение, специфичных для Azure, на сервер Azure DNS. (Простой DNS-сервер также можно использовать для балансировки нагрузки клиентских подключений между всеми доступными точками подключения кэша.)

Дополнительные сведения о виртуальных сетях Azure и конфигурациях DNS-серверов см. в [статье разрешение имен для ресурсов в виртуальных сетях Azure](https://docs.microsoft.com/azure/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances).

## <a name="permissions"></a>Разрешения

Прежде чем начать создание кэша, проверьте эти компоненты, связанные с разрешениями.

* Экземпляр кэша должен иметь возможность создания виртуальных сетевых интерфейсов (NIC). Пользователь, создающий кэш, должен иметь достаточные привилегии в подписке для создания сетевых карт.
<!-- There are several ways to authorize this access; read [Additional prerequisites](media/preview-prereqs.md) to learn more. -->

* При использовании хранилища BLOB-объектов для кэша Azure HPC требуется авторизация для доступа к вашей учетной записи хранения. Вы можете использовать управление доступом на основе ролей (RBAC), чтобы предоставить кэшу доступ к хранилищу BLOB-объектов. Требуются две роли: Участник учетной записи хранения и участник данных большого двоичного объекта хранилища. Следуйте инструкциям в разделе [Добавление целевых объектов хранилища](hpc-cache-add-storage.md#add-the-access-control-roles-to-your-account) , чтобы добавить роли.

## <a name="storage-infrastructure"></a>Инфраструктура хранилища

Кэш поддерживает экспорт контейнеров больших двоичных объектов Azure или оборудования NFS. Целевые объекты хранилища можно определить при создании кэша. Кроме того, вы можете добавить хранилище позже.

Каждый тип хранилища имеет определенные предварительные требования. 

### <a name="nfs-storage-requirements"></a>Требования к хранилищу NFS

При использовании локального хранилища оборудования кэш должен иметь сетевой доступ с высокой пропускной способностью к центру обработки данных из своей подсети. Рекомендуется использовать [ExpressRoute](https://docs.microsoft.com/azure/expressroute/) или аналогичный доступ.

Серверное хранилище NFS должно быть совместимой аппаратной или программной платформой. Для получения дополнительных сведений обратитесь к группе кэша HPC Azure.

### <a name="blob-storage-requirements"></a>Требования к хранилищу BLOB-объектов

Если вы хотите использовать хранилище BLOB-объектов Azure с кэшем, вам потребуется совместимая учетная запись хранения и пустой контейнер больших двоичных объектов или контейнер, который заполняется данными в формате кэша HPC Azure, как описано в разделе [Перемещение данных в хранилище BLOB-объектов Azure](hpc-cache-ingest.md).

Создайте учетную запись и контейнер, прежде чем пытаться добавить ее в качестве целевого объекта хранилища.

Чтобы создать совместимую учетную запись хранения, используйте следующие параметры:

* Производительность. **Стандартный**
* Тип учетной записи. **StorageV2 (общее назначение версии 2)**
* Репликация: **Локально избыточное хранилище (LRS)**
* Уровень доступа (по умолчанию): **Горячий уровень хранилища**

Рекомендуется использовать учетную запись хранения в том же расположении, что и кэш.
<!-- need to clarify location - same region or same resource group or same virtual network? -->

Также необходимо предоставить приложению кэша доступ к учетной записи хранения Azure. Следуйте описанию в области [Добавление целевых объектов хранилища](hpc-cache-add-storage.md#add-the-access-control-roles-to-your-account) , чтобы предоставить кэшированию участника учетной записи хранения ролей доступа и участника данных BLOB-объекта хранилища. Если вы не являетесь владельцем учетной записи хранения, владелец этого этапа.

## <a name="next-steps"></a>Следующие шаги

* [Создание экземпляра кэша Azure HPC](hpc-cache-create.md) из портал Azure
