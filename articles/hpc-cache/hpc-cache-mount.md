---
title: Установите лазурный кэш hPC
description: Как подключить клиентов к службе Azure HPC Cache
author: ekpgh
ms.service: hpc-cache
ms.topic: conceptual
ms.date: 10/30/2019
ms.author: rohogue
ms.openlocfilehash: d906ed9a1a55e936c6374806a9037085c47e3b01
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "73582214"
---
# <a name="mount-the-azure-hpc-cache"></a>Mount the Azure HPC Cache (Подключение Azure HPC Cache)

После создания кэша клиенты NFS могут получить к нему доступ с помощью простой команды крепления.

Команда крепления состоит из двух элементов:

* Один из адресов крепления кэша (перечислен на странице обзора кэша)
* Виртуальный путь пространства имен, установленный при создании цели хранения

![скриншот страницы обзоров экземпляра Azure HPC Cache с полем выделения вокруг списка адресов крепления в правом нижнем правом](media/hpc-cache-mount-addresses.png)

> [!NOTE] 
> Адреса крепления кэша соответствуют сетевым интерфейсам в подсети кэша. В группе ресурсов эти NICs перечислены `-cluster-nic-` с именами, заканчивающимися и номером. Не изменяйте и не удаляйте эти интерфейсы, иначе кэш станет недоступен.

Пути виртуального пространства имен отображаются на странице **целей хранилища.** Нажмите на индивидуальное целевое имя хранилища, чтобы увидеть его детали, включая агрегированные пути пространства имен, связанные с ним.

![скриншот целевой панели хранения кэша, с полем выделения вокруг входа в столбце Пути таблицы](media/hpc-cache-view-namespace-paths.png)

## <a name="mount-command-syntax"></a>Синтаксис команды Маунт

Используйте команду крепления, как следующее:

> sudo монтаж *cache_mount_address*:/*namespace_path* *local_path local_path* *варианты*

Пример

```
root@test-client:/tmp# mkdir hpccache
root@test-client:/tmp# sudo mount 10.0.0.28:/blob-demo-0722 ./hpccache/ -orw,tcp,mountproto=tcp,vers3,hard
root@test-client:/tmp# 
```

После того, как эта команда будет успешной, ``hpccache`` содержимое экспорта хранилища должно быть видно в каталоге клиента.

> [!NOTE] 
> Ваши клиенты должны иметь доступ к виртуальной сети и подсети, в которой размещается ваш кэш. Например, создать клиентские виртуальные в рамках одной виртуальной сети или использовать конечную точку, шлюз или другое решение в виртуальной сети для доступа извне. Помните, что больше ничего не может быть размещено внутри подсети кэша.

### <a name="mount-command-options"></a>Параметры команды маунт

Для надежного крепления клиента передайте эти настройки и аргументы в команде крепления: 

``mount -o hard,proto=tcp,mountproto=tcp,retry=30 ${CACHE_IP_ADDRESS}:/${NAMESPACE_PATH} ${LOCAL_FILESYSTEM_MOUNT_POINT}``

| Рекомендуемые настройки команды крепления | |
--- | --- 
``hard`` | Мягкие крепления к кэшу Azure HPC связаны со сбоями приложений и возможной потерей данных. 
``proto=netid`` | Этот параметр поддерживает соответствующую обработку сетевых ошибок NFS.
``mountproto=netid`` | Этот параметр поддерживает соответствующую обработку сетевых ошибок для операций подключения.
``retry=n`` | Задайте значение ``retry=30``, чтобы избежать временных ошибок при подключении. (При подключении переднего плана рекомендуется использовать другое значение.)

## <a name="next-steps"></a>Дальнейшие действия

* Чтобы переместить данные в целевые показатели хранения кэша, [прочитайте новое хранилище Azure Blob.](hpc-cache-ingest.md)
