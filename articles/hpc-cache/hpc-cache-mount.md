---
title: Подключение кэша HPC для Azure
description: Подключение клиентов к службе кэша Azure HPC
author: ekpgh
ms.service: hpc-cache
ms.topic: conceptual
ms.date: 10/30/2019
ms.author: rohogue
ms.openlocfilehash: d906ed9a1a55e936c6374806a9037085c47e3b01
ms.sourcegitcommit: f4d8f4e48c49bd3bc15ee7e5a77bee3164a5ae1b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73582214"
---
# <a name="mount-the-azure-hpc-cache"></a>Подключение кэша HPC для Azure

После создания кэша клиенты NFS могут получить к нему доступ с помощью простой команды подключения.

Команда подключения состоит из двух элементов:

* Один из адресов подключения кэша (указан на странице обзора кэша).
* Путь к виртуальному пространству имен, заданный при создании целевого объекта хранилища

![снимок экрана со страницей обзора экземпляра кэша HPC Azure с выделенным полем вокруг списка адресов подключения в нижнем правом углу](media/hpc-cache-mount-addresses.png)

> [!NOTE] 
> Адреса подключения к кэшу соответствуют сетевым интерфейсам в подсети кэша. В группе ресурсов эти сетевые карты перечислены с именами, которые заканчиваются на `-cluster-nic-` и числом. Не изменяйте или не удаляйте эти интерфейсы, иначе кэш станет недоступным.

Пути к виртуальному пространству имен отображаются на странице **целевые объекты хранилища** . Щелкните имя отдельного целевого объекта хранилища, чтобы просмотреть сведения о нем, включая связанные с ними объединенные пути к пространствам имен.

![снимок экрана: панель целевого объекта хранилища кэша с выделенным полем вокруг записи в столбце "путь" таблицы](media/hpc-cache-view-namespace-paths.png)

## <a name="mount-command-syntax"></a>Синтаксис команды подключения

Используйте команду подключения, как в следующем примере:

> Sudo Mount *cache_mount_address*:/*namespace_path* *local_path* {*Параметры*}

Пример:

```
root@test-client:/tmp# mkdir hpccache
root@test-client:/tmp# sudo mount 10.0.0.28:/blob-demo-0722 ./hpccache/ -orw,tcp,mountproto=tcp,vers3,hard
root@test-client:/tmp# 
```

После выполнения этой команды содержимое экспорта хранилища должно быть видимым в каталоге ``hpccache`` на клиенте.

> [!NOTE] 
> Ваши клиенты должны иметь доступ к виртуальной сети и подсети, в которых находится кэш. Например, создайте виртуальные машины клиента в той же виртуальной сети или используйте конечную точку, шлюз или другое решение в виртуальной сети для доступа извне. Помните, что другие возможности не могут размещаться в подсети кэша.

### <a name="mount-command-options"></a>Параметры команды подключения

Для надежного подключения клиента передайте следующие параметры и аргументы в команде mount: 

``mount -o hard,proto=tcp,mountproto=tcp,retry=30 ${CACHE_IP_ADDRESS}:/${NAMESPACE_PATH} ${LOCAL_FILESYSTEM_MOUNT_POINT}``

| Рекомендуемые параметры команды подключения | |
--- | --- 
``hard`` | Мягкое подключение к кэшу Azure HPC связано с ошибками приложений и возможной потерей данных. 
``proto=netid`` | Этот параметр поддерживает соответствующую обработку сетевых ошибок NFS.
``mountproto=netid`` | Этот параметр поддерживает соответствующую обработку сетевых ошибок для операций подключения.
``retry=n`` | Задайте значение ``retry=30``, чтобы избежать временных ошибок при подключении. (При подключении переднего плана рекомендуется использовать другое значение.)

## <a name="next-steps"></a>Дальнейшие действия

* Чтобы переместить данные в целевые объекты хранилища кэша, прочитайте статью [заполнение нового хранилища BLOB-объектов Azure](hpc-cache-ingest.md).
