---
title: Известные проблемы — Azure Digital двойников
description: Получите помощь в распознавании и устранении известных проблем с цифровым двойников Azure.
author: baanders
ms.author: baanders
ms.topic: troubleshooting
ms.service: digital-twins
ms.date: 07/14/2020
ms.openlocfilehash: 9130a3248e881c9d4e2c9bfe9017f43198d50f51
ms.sourcegitcommit: 02ca0f340a44b7e18acca1351c8e81f3cca4a370
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/19/2020
ms.locfileid: "88590172"
---
# <a name="known-issues-in-azure-digital-twins"></a>Известные проблемы в службе Digital двойников

В этой статье содержатся сведения об известных проблемах, связанных с Azure Digital двойников.

## <a name="400-client-error-bad-request-in-cloud-shell"></a>"ошибка клиента 400: недопустимый запрос" в Cloud Shell

Команды в Cloud Shell могут периодически завершаться с ошибкой "400 ошибка клиента: неправильный запрос URL-адреса http://localhost:50342/oauth2/token ", за которым следует полная трассировка стека.

### <a name="troubleshooting-steps"></a>Действия по устранению неполадок

Это можно устранить, повторно выполнив `az login` команду и выполнив последующие шаги входа.

После этого вы сможете повторно выполнить команду.

### <a name="possible-causes"></a>Возможные причины

Это результат известной проблемы в Cloud Shell: [*Получение маркера от Cloud Shell периодически завершается с ошибкой 400 клиента: неправильный запрос*](https://github.com/Azure/azure-cli/issues/11749).

## <a name="missing-role-assignment-after-scripted-setup"></a>Отсутствует назначение роли после установки в скрипте

Некоторые пользователи могут столкнуться с проблемами, описанными в разделе "назначение ролей" раздела [*как настроить экземпляр и выполнить проверку подлинности (в сценариях)*](how-to-set-up-instance-scripted.md). Сценарий не указывает на сбой, но роль *владельца Azure Digital двойников (Предварительная версия)* не назначена пользователю, и это повлияет на возможность создания других ресурсов в дороге.

Чтобы определить, успешно ли настроено назначение роли после выполнения сценария, следуйте инструкциям в разделе [*Проверка назначения роли пользователя*](how-to-set-up-instance-scripted.md#verify-user-role-assignment) статьи Установка. Если пользователь не отображается в этой роли, эта проблема повлияет на вас.

### <a name="troubleshooting-steps"></a>Действия по устранению неполадок

Чтобы устранить эту проблему, можно настроить назначение ролей вручную с помощью интерфейса командной строки или портал Azure. 

Следуйте указаниям, приведенным ниже:
* [CLI](how-to-set-up-instance-cli.md#set-up-user-access-permissions)
* [portal](how-to-set-up-instance-portal.md#set-up-user-access-permissions)

### <a name="possible-causes"></a>Возможные причины

Для пользователей, выполнивших вход с помощью персонального [учетная запись Майкрософт (MSA)](https://account.microsoft.com/account), идентификатор субъекта пользователя, который идентифицирует вас в таких командах, может отличаться от адреса электронной почты входа пользователя, что затрудняет его обнаружение и использование для правильного назначения роли.

## <a name="issue-with-interactive-browser-authentication"></a>Проблемы с интерактивной проверкой подлинности браузера

При написании кода проверки подлинности в приложениях Azure Digital двойников с помощью последней версии (версия **1.2.0**) **библиотеки [Azure. Identity](https://docs.microsoft.com/dotnet/api/azure.identity?view=azure-dotnet) **могут возникнуть проблемы с методом [интерактивебровсеркредентиал](https://docs.microsoft.com/dotnet/api/azure.identity.interactivebrowsercredential?view=azure-dotnet) .

Затронутый метод используется в следующих статьях: 
* [*Руководство. Написание кода для клиентского приложения*](tutorial-code.md)
* [*Пошаговое руководство. Написание кода проверки подлинности приложения*](how-to-authenticate-client.md)
* [*Практические руководства. Использование API-интерфейсов и пакетов SDK для цифровых двойников Azure*](how-to-use-apis-sdks.md)

Эта ошибка включает в себя ответ об ошибке "Azure. Identity. Аусентикатионфаиледексцептион" при попытке аутентификации в окне браузера. Окно браузера может не запуститься полностью или появилось для успешного выполнения проверки подлинности пользователя, в то время как клиентское приложение по-прежнему завершается с ошибкой.

### <a name="troubleshooting-steps"></a>Действия по устранению неполадок

Чтобы устранить эту проблему, приложения должны явно использовать Azure. Identity версии **1.1.1**. В этой версии библиотеки браузер должен загружаться и проходить проверку подлинности должным образом.

>[!NOTE]
> Нет необходимости добавлять библиотеку без указания какой-либо версии, так как по умолчанию все равно будет иметь последнюю **1.2.0**. Необходимо явно указать версию **1.1.1** .

### <a name="possible-causes"></a>Возможные причины

Это несовместимость между Azure Digital двойников и последней версией библиотеки Azure. Identity, версия **1.2.0**. 

Эта проблема возникает при использовании версии **1.2.0** в приложении или при добавлении библиотеки в проект без указания версии (так же, как по умолчанию используется последняя версия).

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о безопасности и разрешениях для Azure Digital двойников:
* [*Основные понятия: безопасность решений для цифровых двойников Azure*](concepts-security.md)