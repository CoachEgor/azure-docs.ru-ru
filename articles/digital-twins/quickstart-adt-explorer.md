---
title: Краткое руководство. Изучение примера сценария
titleSuffix: Azure Digital Twins
description: Краткое руководство. Использование примера ADT Explorer для визуализации и изучения предварительно построенного сценария.
author: baanders
ms.author: baanders
ms.date: 9/24/2020
ms.topic: quickstart
ms.service: digital-twins
ms.openlocfilehash: 0d6d543e1f7d68f1312b6531b798cf7f9a0cf3b8
ms.sourcegitcommit: 2e72661f4853cd42bb4f0b2ded4271b22dc10a52
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/14/2020
ms.locfileid: "92048514"
---
# <a name="quickstart---explore-a-sample-azure-digital-twins-scenario-using-adt-explorer"></a>Краткое руководство. Изучение примера сценария Azure Digital Twins с помощью ADT Explorer

С помощью Azure Digital Twins можно создавать модели реальных сред и взаимодействовать с ними. Для этого нужно смоделировать отдельные элементы как **цифровые двойников**, а затем подключить их к **графу** набора знаний, который может отвечать на события в реальном времени и запрашивать информацию.

В этом кратком руководстве вы изучите предварительно созданную диаграмму Azure Digital Twins с помощью примера приложения, которое называется [**Azure Digital Twins (ADT) Explorer**](/samples/azure-samples/digital-twins-explorer/digital-twins-explorer/). ADT Explorer позволяет загружать цифровое представление среды, просматривать визуальные изображения двойников и граф, которые создаются для отображения этой среды в Azure Digital Twins, а также выполнять другие действия по управлению через браузерный визуальный интерфейс.

Краткое руководство содержит следующие основные шаги.

1. Настройка экземпляра Azure Digital Twins и ADT Explorer
1. Отправка предварительно построенных моделей и данных графа для создания примера сценария
1. Изучение созданного графа сценария
1. Внесение изменений в граф

Пример графа, с которым вы будете работать, представляет собой здание с двумя этажами и двумя комнатами. Граф будет выглядеть так:

:::image type="content" source="media/quickstart-adt-explorer/graph-view-full.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены.":::

## <a name="prerequisites"></a>Предварительные требования

Для работы с этим кратким руководством вам требуется подписка Azure. Если у вас его еще нет, **[создайте его бесплатно](https://azure.microsoft.com/free/?WT.mc_id=A261C142F)** прямо сейчас.

Вам также потребуется **Node.js** на компьютере. Последнюю версию можно скачать по этому адресу: [Node.js](https://nodejs.org/).

Наконец, вам также потребуется загрузить два примера для использования во время прохождения краткого руководства:
* Пример приложения **ADT Explorer**. Этот пример содержит основное приложение, которое используется в кратком руководстве для загрузки и изучения сценария Azure Digital Twins. Чтобы получить приложение, перейдите по этой ссылке: [Azure Digital Twins (ADT) Explorer](/samples/azure-samples/digital-twins-explorer/digital-twins-explorer/). Нажмите кнопку *Download ZIP* (Загрузить ZIP-файл), чтобы загрузить *ZIP*-файл этого примера кода на свой компьютер. Это действие создает на локальном компьютере ZIP-папку с именем _**Azure_Digital_Twins__ADT__explorer.zip**_. Распакуйте папку и извлеките файлы.
* **Пример сценария Azure Digital Twins**. Содержит предварительно созданный граф Azure Digital Twins, который будет загружен в ADT Explorer для работы с ним. Чтобы получить сценарий, перейдите по этой ссылке: [Azure Digital Twins samples](/samples/azure-samples/digital-twins-samples/digital-twins-samples). Нажмите кнопку *Download ZIP* (Загрузить ZIP-файл), чтобы загрузить *ZIP*-файл этого примера кода на свой компьютер. Это действие создает на локальном компьютере ZIP-папку с именем _**Azure_Digital_Twins_samples.zip**_. Распакуйте папку и извлеките файлы.

## <a name="set-up-azure-digital-twins-and-adt-explorer"></a>Настройка Azure Digital Twins и ADT Explorer

Первым шагом в работе с Azure Digital Twins является настройка **экземпляра Azure Digital Twins**. После создания экземпляра службы вы сможете заполнять ее с примерами данных позже в кратком руководстве.

Вы также настроите разрешения для запуска ADT Explorer на компьютере и получите доступ к экземпляру Azure Digital Twins. После этого пример приложения можно использовать для изучения экземпляра и его данных.

### <a name="set-up-azure-digital-twins-instance"></a>Настройка экземпляра Azure Digital Twins

Сначала настройте экземпляр Azure Digital Twins и необходимую проверку подлинности, чтобы иметь возможность работать с экземпляром. Для этого выполните инструкции из статьи [ *Настройка экземпляра Azure Digital двойников и проверки подлинности (с помощью сценария)* ](how-to-set-up-instance-portal.md). В зависимости от предпочтительного интерфейса статья по установке доступна для [портала Azure](how-to-set-up-instance-portal.md), [CLI](how-to-set-up-instance-cli.md) или [автоматизированного примера сценария развертывания Cloud Shell](how-to-set-up-instance-scripted.md). Во всех версиях этих инструкций также указано, как проверить, успешно ли завершен каждый шаг и готов ли новый экземпляр к работе.

В этом кратком руководстве потребуются следующие значения, заданные при настройке экземпляра. Если вам нужно снова собрать эти значения, воспользуйтесь приведенными ниже ссылками в соответствующих разделах статьи о настройке, чтобы найти их на [портале Azure](https://portal.azure.com).
* **_Имя узла_** экземпляра Azure Digital Twins ([как найти на портале](how-to-set-up-instance-portal.md#verify-success-and-collect-important-values)).
* **_Идентификатор приложения (клиента)_** для регистрации приложения в Azure AD ([как найти на портале](how-to-set-up-instance-portal.md#collect-important-values)).
* **_Идентификатор каталога (арендатора)_** для регистрации приложения в Azure AD ([как найти на портале](how-to-set-up-instance-portal.md#collect-important-values)).

### <a name="set-adt-explorer-permissions"></a>Настройка разрешений ADT Explorer

Затем подготовьте созданный вами экземпляр Azure Digital Twins к работе с ADT Explorer, который является локально размещенным веб-приложением. Перейдите на страницу [Регистрация приложения](https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/RegisteredApps) на портале Azure и выберите имя своей регистрации приложения в списке.

В меню регистрации выберите *Аутентификация* и нажмите кнопку *Добавить платформу*.

:::image type="content" source="media/quickstart-adt-explorer/authentication-pre.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/authentication-pre.png":::

Далее, на странице *Настройка платформы* выберите *Интернет*.
Заполните сведения о конфигурации следующим образом:
* **URI перенаправления**: Добавление URI перенаправления *http://localhost:3000* .
* **Неявное разрешение**: Установите флажок *Маркеры доступа*.

Нажмите кнопку *Настроить*, чтобы завершить процесс.

:::row:::
    :::column:::
        :::image type="content" source="media/quickstart-adt-explorer/authentication-configure-web.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." на портале Azure. Проверив указанные ниже разделы, нажмите *Сохранить*.

:::image type="content" source="media/quickstart-adt-explorer/authentication-post.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены.":::

### <a name="run-and-configure-adt-explorer"></a>Запуск и настройка ADT Explorer

Затем запустите приложение ADT Explorer и настройте его для своего экземпляра Azure Digital Twins.

Перейдите к загруженной и распакованной папке _**Azure_Digital_Twins__ADT__explorer**_. Откройте командную строку в папке *Azure_Digital_Twins__ADT__explorer/client/src*.

Запустите `npm install`, чтобы загрузить все необходимые зависимости.

Затем запустите приложение, выполнив `npm run start`.

Через несколько секунд откроется окно браузера, и приложение отобразится в этом окне.

:::image type="content" source="media/quickstart-adt-explorer/explorer-blank.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/explorer-blank.png":::

Нажмите кнопку *Войти* в верхней части окна (как показано на рисунке ниже), чтобы настроить ADT Explorer для работы с настроенным экземпляром. 

:::image type="content" source="media/quickstart-adt-explorer/sign-in.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/sign-in.png":::

Введите важные сведения, собранные ранее в разделе [Предварительные требования](#prerequisites).
* Идентификатор приложения (клиента)
* Идентификатор каталога (клиента)
* URL-адрес экземпляра Azure Digital Twins в формате *https://{instance host name}*

>[!NOTE]
> Вы можете в любое время повторно посетить страницу и изменить эту информацию, выбрав тот же значок, чтобы снова открыть поле входа. Он сохранит переданные значения.

> [!TIP]
> Если при подключении отображается сообщение об ошибке `SignalRService.subscribe`, убедитесь, что URL-адрес Azure Digital Twins начинается с *https://* .

Если вы видите всплывающее окно *Запрос разрешений* от корпорации Майкрософт, предоставьте согласие для этого приложения и нажмите кнопку "Принять", чтобы продолжить.

## <a name="add-the-sample-data"></a>Добавление образца данных

Затем импортируйте пример сценария и графа в ADT Explorer.

Пример сценария находится в загруженной и распакованной папке _**Azure_Digital_Twins_samples**_, поэтому теперь следует перейти в папку.

### <a name="models"></a>Модели

Первым шагом в работе с Azure Digital Twins является определение словаря для вашей среды. Это делается путем создания пользовательских [**моделей**](concepts-models.md), описывающих типы сущностей, существующих в среде. 

Каждая модель написана на языке, похожем на формат JSON-LD, который называется **Digital Twin Definition Language (DTDL)** и описывает один тип сущности в терминах его *свойств*, *телеметрии*, *связей* и *компонентов*. Позже эти модели будут использоваться в качестве основы для цифровых двойников, представляющих определенные экземпляры этих типов.

Как правило, при создании модели вам предстоит выполнить три шага:
1. написать определение модели (в кратком руководстве, уже сделано в составе примера решения);
2. проверить правильность синтаксиса (в кратком руководстве, уже выполнено как часть примера решения);
3. отправить его в свой экземпляр Azure Digital Twins.
 
В этом кратком руководстве файлы модели уже были написаны, проверены и включены в загруженное решение. В этом разделе вы загрузили две предварительно написанные модели в свой экземпляр, чтобы определить эти компоненты в среде разработки:
* Этаж
* Комната

#### <a name="upload-models"></a>Отправка моделей

В окне *ПРЕДСТАВЛЕНИЕ МОДЕЛИ* щелкните значок *Отправить модель*.

:::image type="content" source="media/quickstart-adt-explorer/upload-model.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/upload-model.png":::
 
1. В появившемся поле выбора файла перейдите к папке *Azure_Digital_Twins_samples/AdtSampleApp/SampleClientApp/models* в загруженном репозитории.
2. Выберите *Room.json* и *Floor.json*, а затем нажмите кнопку ОК. (Вы можете передать другие модели, если хотите, но они не будут использоваться в этом кратком руководстве).
3. После всплывающего диалогового окна появится запрос на вход в учетную запись Azure.

>[!NOTE]
>Если вы видите следующее сообщение об ошибке: :::image type="content" source="media/quickstart-adt-explorer/error-models-popup.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." border="false"::: 
> Попробуйте отключить блокирование всплывающих окон или используйте другой браузер.

ADT Explorer теперь будет отправлять эти файлы модели в ваш экземпляр Azure Digital Twins. Они должны отображаться в окне *ПРЕДСТАВЛЕНИЕ МОДЕЛИ*, в котором отображаются понятные имена и полные идентификаторы моделей. Вы можете щелкнуть пузырь сведений *ПРЕДСТАВЛЕНИЕ МОДЕЛИ*, чтобы увидеть код DTDL.

:::row:::
    :::column:::
        :::image type="content" source="media/quickstart-adt-explorer/model-info.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/model-info.png":::
    :::column-end:::
    :::column:::
    :::column-end:::
    :::column:::
    :::column-end:::
:::row-end:::

### <a name="twins-and-the-twin-graph"></a>Цифровые двойники и граф двойников

Теперь, когда несколько моделей отправлено в ваш экземпляр Azure Digital Twins, можно добавить [**цифровые двойники**](concepts-twins-graph.md) согласно определениям моделей. 

Цифровые двойники представляют собой реальные сущности в вашей бизнес-среде: такие вещи, как датчики на ферме, световые индикаторы в автомобиле или — в этом кратком руководстве — комнаты в здании. Можно создать много двойников для модели любого типа (например, несколько комнат, которые используют модель *Room*) и соединять их с помощью связей с **графом двойников**, представляющим полную среду.

В этом разделе вы будете отправлять предварительно созданные двойники, подключенные к предварительно созданному графу. Граф содержит два этажа и две комнаты, соединенные по такой схеме:
* *Floor0*
    - содержит *Room0*
* *Floor1*
    - содержит *Room1*

#### <a name="import-the-graph"></a>Импорт графа

В окне *Представление графа* щелкните значок *Импорт графа*.

:::image type="content" source="media/quickstart-adt-explorer/import-graph.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/import-graph.png":::

В поле селектора файла перейдите в папку *Azure_Digital_Twins_samples/AdtSampleApp/SampleClientApp* и выберите файл таблицы _**buildingScenario.xlsx**_. Этот файл содержит описание примера графа. Нажмите кнопку ОК.

Через несколько секунд ADT Explorer откроет представление *Импорт*, в котором отображается предварительный просмотр загружаемого графа.

Чтобы подтвердить отправку графа, щелкните значок *Сохранить* в правом верхнем углу *ПРЕДСТАВЛЕНИЕ ГРАФА*:

:::row:::
    :::column:::
        :::image type="content" source="media/quickstart-adt-explorer/graph-preview-save.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/graph-preview-save.png":::
    :::column-end:::
    :::column:::
    :::column-end:::
:::row-end:::

ADT Explorer теперь будет использовать переданный файл для создания запрашиваемых двойников и связей между ними. Откроется диалоговое окно, показывающее, что процесс завершен. Нажмите *Закрыть*.

:::row:::
    :::column:::
        :::image type="content" source="media/quickstart-adt-explorer/import-success.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/import-success.png":::
    :::column-end:::
    :::column:::
    :::column-end:::
    :::column:::
    :::column-end:::
:::row-end:::

Теперь граф отправлен в ADT Explorer. Чтобы увидеть граф, нажмите кнопку *Выполнить запрос* в окне *ОБОЗРЕВАТЕЛЬ ГРАФА* в верхней части окна ADT Explorer. 

:::image type="content" source="media/quickstart-adt-explorer/run-query.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/run-query.png":::

Будет выполнен запрос по умолчанию для выбора и отображения всех цифровых двойников. ADT Explorer извлечет все двойники и связи из службы и создаст граф, определенный в окне *ПРЕДСТАВЛЕНИЕ ГРАФА*.

## <a name="explore-the-graph"></a>Просмотр графа

Теперь можно увидеть отправленный граф образца сценария:

:::image type="content" source="media/quickstart-adt-explorer/graph-view-full.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены.":::

Окружности (узлы графа) представляют цифровых двойников, а линии представляют связи. Вы увидите, что двойник *Floor0* содержит *Room0*, а двойник *Floor1* содержит *Room1*.

Если вы используете мышь, можно щелкнуть и перетащить части графа, чтобы переместить их.

### <a name="view-twin-properties"></a>Просмотр свойств двойника 

Вы можете выбрать двойника, чтобы просмотреть список его свойств и их значений в окне *ОБОЗРЕВАТЕЛЬ СВОЙСТВ*. 

Ниже приведены свойства двойника *Room0*.

:::row:::
    :::column:::
        :::image type="content" source="media/quickstart-adt-explorer/properties-room0.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/properties-room0.png":::
    :::column-end:::
    :::column:::
    :::column-end:::
:::row-end:::

Обратите внимание, что *Room0* имеет температуру **70**.

Ниже приведены свойства *Room1*.

:::row:::
    :::column:::
        :::image type="content" source="media/quickstart-adt-explorer/properties-room1.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/properties-room1.png":::
    :::column-end:::
    :::column:::
    :::column-end:::
:::row-end:::

Обратите внимание, что *Room1* имеет температуру **80**.

### <a name="query-the-graph"></a>Запрос графа

Главной особенностью Azure Digital Twins является возможность просто и эффективно [запрашивать](concepts-query-language.md) граф двойников, чтобы получать ответы о вашей среде. 

Одним из способов вызова двойников в графе являются их *свойства*. Запросы на основе свойств помогут получать ответы на множество вопросов, например о наличии в вашей среде выбросов, которые требуют внимания.

В этом разделе будет выполнен запрос, отвечающий на следующий вопрос: _**Какие двойники имеют температуру выше 75?**_

Чтобы увидеть ответ, выполните следующий запрос в окне *ОБОЗРЕВАТЕЛЬ ЗАПРОСОВ*:

```SQL
SELECT * FROM DigitalTwins T WHERE T.Temperature > 75
```

Припомните, что в свойствах двойника раньше для *Room0* была температура **70**, а для *Room1* была температура **80**. Поэтому в результатах отображается только _**Room1**_.
    
:::image type="content" source="media/quickstart-adt-explorer/result-query-property-before.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/result-query-property-before.png":::

>[!TIP]
> Другие операторы сравнения ( *<* , *>* , *=* или *! =* ) также поддерживаются в приведенном выше запросе. Вы можете попытаться подключить эти или другие значения, или другие свойства двойника в запрос, чтобы увидеть ответы на свои вопросы.

## <a name="edit-data-in-the-graph"></a>Изменение данных в графе

Для изменения свойств двойников, представленных в графе, можно использовать ADT Explorer. В этом разделе мы будем **_увеличивать температуру_ Room0 до 76**.

Для этого выберите *Room0*, открыв список свойств этого двойника в окне *ОБОЗРЕВАТЕЛЬ СВОЙСТВ*.

Свойства в этом списке доступны для редактирования. Выберите значение температуры **70**, чтобы активировать ввод нового значения. Введите **76** и щелкните значок *Сохранить*, чтобы обновить температуру до значения **76**.

:::row:::
    :::column:::
        :::image type="content" source="media/quickstart-adt-explorer/new-properties-room0.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/new-properties-room0.png":::
    :::column-end:::
    :::column:::
    :::column-end:::
:::row-end:::

После успешного сохранения вы увидите окно *Сведения об исправлении*, в котором отображается код исправления, который использовался в фоновом режиме с [API-интерфейсами](how-to-use-apis-sdks.md) Azure Digital Twins для внесения обновления. Нажмите *Закрыть*.

### <a name="query-to-see-the-result"></a>Запрос для просмотра результата

Чтобы убедиться, что граф успешно зарегистрировал обновление в *Room0*, заблаговременно перезапустите запрос, чтобы **получить всех двойников в окружении с температурой выше 75**:

```SQL
SELECT * FROM DigitalTwins T WHERE T.Temperature > 75
```

Теперь, когда температура *Room0* изменилась с **70** на **76**, в результатах должны отобразиться оба двойника.

:::image type="content" source="media/quickstart-adt-explorer/result-query-property-after.png" alt-text="Представление графа, состоящее из четырех циклических узлов, соединенных стрелками. Окружность с меткой &quot;Этаж1&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната1&quot;; окружность с меткой &quot;Этаж0&quot; соединена стрелкой с меткой &quot;содержит&quot; и окружностью с меткой &quot;Комната0&quot;. &quot;Этаж1&quot; и &quot;Этаж0&quot; не подключены." lightbox="media/quickstart-adt-explorer/result-query-property-after.png":::

## <a name="review-and-contextualize-learnings"></a>Просмотр и контекстуализация учебных моделей

В этом кратком руководстве вы создали экземпляр Azure Digital Twins, подключили его к ADT Explorer, и заполнили его примером сценария. 

Затем вы изучили граф
1. Используя запрос для ответа на вопрос о сценарии.
2. Изменяя свойства в цифровом двойнике.
3. Снова запустите запрос, чтобы увидеть, как изменился ответ в результате обновления.

Цель этого упражнения — продемонстрировать, как можно использовать граф Azure Digital Twins, чтобы ответить на вопросы о среде, даже если среда продолжит изменяться. 

Хотя в этом кратком руководстве вы обновили температуру вручную, в Azure Digital Twins можно подключать цифровые двойники к реальным устройствам Интернета вещей, чтобы обновления происходили автоматически на основе данных телеметрии. Это позволяет создать динамический граф, который всегда отражает реальное состояние среды и использовать запросы для получения сведений о том, что происходит в вашей среде также в режиме реального времени.

## <a name="clean-up-resources"></a>Очистка ресурсов

Чтобы окончательно завершить пример в этом кратком руководстве, сначала завершите работу консольного приложения. Это приведет к прерыванию подключения к приложению ADT Explorer в браузере, и вы больше не сможете просматривать динамические данные в браузере. Теперь можно закрыть вкладку браузера.

Если вы планируете продолжить работу с учебниками по Azure Digital Twins, то экземпляр, используемый в этом кратком руководстве, можно использовать повторно для этих статей, и удалять его не нужно.
 
[!INCLUDE [digital-twins-cleanup-basic.md](../../includes/digital-twins-cleanup-basic.md)]

Наконец, удалите папки примеров проекта, загруженные на локальный компьютер (_**Azure_Digital_Twins__ADT__explorer**_ и _**Azure_Digital_Twins_samples**_). Возможно, вам придется удалить как сжатую, так и распакованную версию.

## <a name="next-steps"></a>Дальнейшие шаги 

Далее перейдите к учебникам по Azure Digital Twins, чтобы создать собственный сценарий и средства взаимодействия Azure Digital Twins.

> [!div class="nextstepaction"]
> [*Руководство. Написание кода для клиентского приложения*](tutorial-code.md)