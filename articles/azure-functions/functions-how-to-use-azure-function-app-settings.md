---
title: Настройка настроек приложения функции в Azure
description: Узнайте, как настроить параметры приложения-функции Azure.
ms.assetid: 81eb04f8-9a27-45bb-bf24-9ab6c30d205c
ms.topic: conceptual
ms.date: 08/14/2019
ms.custom: cc996988-fb4f-47
ms.openlocfilehash: 662a04dbcc39f3fa95b0098eb8fe556b18b3495b
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79276950"
---
# <a name="manage-your-function-app"></a>Управление приложением функции 

В функциях Azure приложение-функция предоставляет контекст выполнения для отдельных функций. Поведение приложения-функции применяется ко всем содержащимся в нем функциям. Все функции в приложении функции должны быть одного и того же [языка.](supported-languages.md) 

Отдельные функции в функциональном приложении развертываются вместе и масштабируются вместе. Все функции в одной и той же функции приложения разделяют ресурсы, в каждом экземпляре, как масштабприложения приложения функции. 

Строки подключения, переменные среды и другие параметры приложения определяются отдельно для каждого приложения функции. Любые данные, которые должны быть переданы между функциональными приложениями, должны храниться извне в сохраняемом хранилище.

В этой статье описывается, как настроить и управлять функциями приложений. 

> [!TIP]  
> Многие параметры конфигурации также можно управлять с помощью [Azure CLI.] 

## <a name="get-started-in-the-azure-portal"></a>Начало работы на портале Azure

Для начала перейдите на [портал Azure] и войдите, используя свою учетную запись Azure. На панели поиска в верхней части портала введите имя приложения-функции и выберите его в списке. После выбора приложения-функции появляется следующая страница:

![Обзор приложения-функции на портале Azure](./media/functions-how-to-use-azure-function-app-settings/azure-function-app-main.png)

Вы можете перейти ко всему, что вам нужно для управления приложением функции со страницы обзора, в **[частности, настройки приложения](#settings)** и **[функции платформы.](#platform-features)**

## <a name="application-settings"></a><a name="settings"></a>Настройки приложения

Вкладка **«Настройки приложений»** поддерживает настройки, используемые приложением функции. Эти параметры хранятся в зашифрованном виде, и необходимо выбрать **значения Отображимы,** чтобы увидеть значения на портале. Вы также можете получить доступ к настройкам приложений с помощью Azure CLI.

### <a name="portal"></a>Портал

Чтобы добавить настройки на портале, выберите **новую настройку приложения** и добавьте новую пару ключей.

![Настройки приложения функции на портале Azure.](./media/functions-how-to-use-azure-function-app-settings/azure-function-app-settings-tab.png)

### <a name="azure-cli"></a>Azure CLI

Команда [`az functionapp config appsettings list`](/cli/azure/functionapp/config/appsettings#az-functionapp-config-appsettings-list) возвращает существующие настройки приложения, как в следующем примере:

```azurecli-interactive
az functionapp config appsettings list --name <FUNCTION_APP_NAME> \
--resource-group <RESOURCE_GROUP_NAME>
```

Команда [`az functionapp config appsettings set`](/cli/azure/functionapp/config/appsettings#az-functionapp-config-appsettings-set) добавляет или обновляет настройки приложения. Следующий пример создает настройки `CUSTOM_FUNCTION_APP_SETTING` с названным `12345`ключом и значением:


```azurecli-interactive
az functionapp config appsettings set --name <FUNCTION_APP_NAME> \
--resource-group <RESOURCE_GROUP_NAME> \
--settings CUSTOM_FUNCTION_APP_SETTING=12345
```

### <a name="use-application-settings"></a>Использование настроек приложений

[!INCLUDE [functions-environment-variables](../../includes/functions-environment-variables.md)]

При локальной разработке приложения функции необходимо поддерживать локальные копии этих значений в файле проекта local.settings.json. Чтобы узнать больше, смотрите [файл локальных настроек](functions-run-local.md#local-settings-file).

## <a name="platform-features"></a>Функции платформы

![Вкладка функций платформы для приложения-функции](./media/functions-how-to-use-azure-function-app-settings/azure-function-app-features-tab.png)

Приложения-функции выполняются на платформе службы приложения Azure и обслуживаются ею. Поэтому они имеют доступ к большинству функций базовой платформы веб-хостинга Azure. Вкладка **Функции платформы** предоставляет доступ ко многим функциям платформы службы приложений, которые можно использовать в приложениях-функциях. 

> [!NOTE]
> Не все функции службы приложений доступны при выполнении приложения с планом размещения потребления.

В остальной части этой статьи основное внимание уделяется следующим функциям службы приложений на портале Azure, которые полезны для функций:

+ [Редактор службы приложений](#editor)
+ [Консоль](#console)
+ [Дополнительные инструменты (Kudu)](#kudu)
+ [Варианты развертывания](#deployment)
+ [CORS](#cors)
+ [Проверка подлинности](#auth)

Дополнительные сведения о работе с параметрами службы приложений см. в статье [Настройка параметров в службе приложений Azure](../app-service/configure-common.md).

### <a name="app-service-editor"></a><a name="editor"></a>Редактор службы приложений

![Редактор службы приложений](./media/functions-how-to-use-azure-function-app-settings/configure-function-app-appservice-editor.png)

Редактор службы приложений — это расширенный редактор на портале, который можно использовать для изменения JSON-файлов конфигурации и файлов с кодом. При выборе этого параметра откроется отдельная вкладка браузера с базовым редактором. Он позволяет выполнять интеграцию с репозиторием Git, запускать и отлаживать код и изменять параметры приложения-функции. Этот редактор обеспечивает расширенную среду разработки для ваших функций по сравнению со встроенным редактором функций.  

Мы рекомендуем вам рассмотреть возможность разработки функций на локальном компьютере. Когда вы разрабатываете локально и публикуете в Azure, ваши файлы проекта читаются только на портале. Чтобы узнать больше, смотрите [Код и тестировать функции Azure локально](functions-develop-local.md).

### <a name="console"></a><a name="console"></a>Консоль

![Консоль приложения-функции](./media/functions-how-to-use-azure-function-app-settings/configure-function-console.png)

Консоль на портале оптимально подходит разработчикам, желающим взаимодействовать с приложением-функцией из командной строки. Стандартные команды включают создание каталогов и файлов и навигацию по ним, а также выполнение пакетных файлов и сценариев. 

При локальной разработке рекомендуется использовать [основные инструменты функций Azure](functions-run-local.md) и [ClI Azure.]

### <a name="advanced-tools-kudu"></a><a name="kudu"></a>Дополнительные инструменты (Kudu)

![Настройка Kudu](./media/functions-how-to-use-azure-function-app-settings/configure-function-app-kudu.png)

Дополнительные средства для службы приложений (которые также называются Kudu) предоставляют доступ к расширенным административным функциям для приложения-функции. С помощью Kudu можно управлять системными сведениями, параметрами приложения, переменными среды, заголовками HTTP и переменными сервера. Кроме того, можно также запустить **Kudu**, перейдя на конечную точку SCM для приложения-функции, например `https://<myfunctionapp>.scm.azurewebsites.net/`. 


### <a name="deployment-center"></a><a name="deployment"></a>Центр развертывания

При использовании решения управления исходным кодом для разработки и поддержания кода функций Центр развертывания позволяет создавать и развертывать из исходного управления. Ваш проект строится и развертывается в Azure при обновлении. Для получения дополнительной информации смотрите [технологии развертывания в функциях Azure.](functions-deployment-technologies.md)

### <a name="cross-origin-resource-sharing"></a><a name="cors"></a>Предоставление общего доступа к ресурсам независимо от источника

Чтобы предотвратить вредоносное выполнение кода на клиенте, современные браузеры блокируют запросы от веб-приложений к ресурсам, работающим в отдельном домене. [Совместное использование ресурсов кросс-происхождения (CORS)](https://developer.mozilla.org/docs/Web/HTTP/CORS) позволяет заголовку `Access-Control-Allow-Origin` объявить, какие источники разрешены для вызова конечных точек в приложении функции.

#### <a name="portal"></a>Портал

При настройке списка **разрешенных истоков** для `Access-Control-Allow-Origin` приложения функции заголовок автоматически добавляется ко всем ответам от конечных точек HTTP в приложении функции. 

![Настройка функции приложения CORS список](./media/functions-how-to-use-azure-function-app-settings/configure-function-app-cors.png)

При использовании`*`подстановочного знака () все остальные домены игнорируются. 

Используйте [`az functionapp cors add`](/cli/azure/functionapp/cors#az-functionapp-cors-add) команду, чтобы добавить домен в список разрешенных истоков. Следующий пример добавляет contoso.com домена:

```azurecli-interactive
az functionapp cors add --name <FUNCTION_APP_NAME> \
--resource-group <RESOURCE_GROUP_NAME> \
--allowed-origins https://contoso.com
```

Используйте [`az functionapp cors show`](/cli/azure/functionapp/cors#az-functionapp-cors-show) команду, чтобы перечислить текущие разрешенные истоки.

### <a name="authentication"></a><a name="auth"></a>Проверка подлинности

![Настройка проверки подлинности для приложения-функции](./media/functions-how-to-use-azure-function-app-settings/configure-function-app-authentication.png)

Если функции используют триггер HTTP, можно настроить обязательную предварительную проверку подлинности для вызовов. Служба приложений поддерживает аутентификацию Azure Active Directory и восподписанию с социальными провайдерами, такими как Facebook, Microsoft и Twitter. Дополнительные сведения о настройке определенных поставщиков аутентификации см. в разделе [Проверка подлинности и авторизация в службе приложений Azure](../app-service/overview-authentication-authorization.md). 


## <a name="next-steps"></a>Дальнейшие действия

+ [Настройка параметров службы приложений Azure](../app-service/configure-common.md)
+ [Непрерывное развертывание для Функций Azure](functions-continuous-deployment.md)

[Лазурный CLI]: /cli/azure/
[Портал Azure]: https://portal.azure.com
