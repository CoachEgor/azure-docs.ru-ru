---
title: Настройка параметров приложения функции в Azure
description: Узнайте, как настроить параметры приложения-функции Azure.
author: ggailey777
manager: gwallace
ms.assetid: 81eb04f8-9a27-45bb-bf24-9ab6c30d205c
ms.service: azure-functions
ms.topic: conceptual
ms.date: 08/14/2019
ms.author: glenga
ms.custom: cc996988-fb4f-47
ms.openlocfilehash: 7ad7f6156bbd8ea86e3e71bda4b23dac9722a0ef
ms.sourcegitcommit: ee61ec9b09c8c87e7dfc72ef47175d934e6019cc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/30/2019
ms.locfileid: "70170736"
---
# <a name="manage-your-function-app"></a>Управление приложением функции 

В функциях Azure приложение-функция предоставляет контекст выполнения для отдельных функций. Поведение приложения-функции применяется ко всем содержащимся в нем функциям. Все функции в приложении-функции должны иметь один и тот же [язык](supported-languages.md). 

Отдельные функции в приложении-функции развертываются вместе и масштабируются вместе. Все функции в одном и том же приложении функции совместно используют ресурсы для каждого экземпляра, так как приложение функции масштабируется. 

Строки подключения, переменные среды и другие параметры приложения определяются отдельно для каждого приложения функции. Все данные, которые должны совместно использоваться приложениями-функциями, должны храниться извне в постоянном хранилище.

В этой статье описывается настройка приложений функций и управление ими. 

> [!TIP]  
> Многие параметры конфигурации можно также управлять с помощью [Интерфейс командной строки Azure]. 

## <a name="get-started-in-the-azure-portal"></a>Начните работу на портале Azure

Для начала перейдите на [портал Azure] и войдите, используя свою учетную запись Azure. На панели поиска в верхней части портала введите имя приложения-функции и выберите его в списке. После выбора приложения-функции появляется следующая страница:

![Обзор приложения-функции на портале Azure](./media/functions-how-to-use-azure-function-app-settings/azure-function-app-main.png)

Вы можете выбрать все необходимое для управления приложением-функцией на странице Обзор, в частности **[Параметры приложения](#settings)** и **[функции платформы](#platform-features)** .

## <a name="settings"></a>Параметры приложения

На вкладке **Параметры приложения** хранятся параметры, используемые приложением функции. Эти параметры хранятся в зашифрованном виде, поэтому необходимо выбрать параметр **Показать значения** , чтобы просмотреть значения на портале. Вы также можете получить доступ к параметрам приложения с помощью Azure CLI.

### <a name="portal"></a>Портал

Чтобы добавить параметр на портале, выберите **параметр создать приложение** и добавьте новую пару «ключ-значение».

![Параметры приложения функции в портал Azure.](./media/functions-how-to-use-azure-function-app-settings/azure-function-app-settings-tab.png)

### <a name="azure-cli"></a>Azure CLI

[`az functionapp config appsettings list`](/cli/azure/functionapp/config/appsettings#az-functionapp-config-appsettings-list) Команда возвращает существующие параметры приложения, как показано в следующем примере:

```azurecli-interactive
az functionapp config appsettings list --name <FUNCTION_APP_NAME> \
--resource-group <RESOURCE_GROUP_NAME>
```

[`az functionapp config appsettings set`](/cli/azure/functionapp/config/appsettings#az-functionapp-config-appsettings-set) Команда добавляет или обновляет параметр приложения. В следующем примере создается параметр с именем `CUSTOM_FUNCTION_APP_SETTING` ключа и `12345`значением:


```azurecli-interactive
az functionapp config appsettings set --name <FUNCTION_APP_NAME> \
--resource-group <RESOURCE_GROUP_NAME> \
--settings CUSTOM_FUNCTION_APP_SETTING=12345
```

### <a name="use-application-settings"></a>Использовать параметры приложения

[!INCLUDE [functions-environment-variables](../../includes/functions-environment-variables.md)]

При разработке приложения-функции локально необходимо сохранить локальные копии этих значений в файле проекта Local. Settings. JSON. Дополнительные сведения см. в разделе [локальный файл параметров](functions-run-local.md#local-settings-file).

## <a name="platform-features"></a>Функции платформы

![Вкладка функций платформы для приложения-функции](./media/functions-how-to-use-azure-function-app-settings/azure-function-app-features-tab.png)

Приложения-функции выполняются на платформе службы приложения Azure и обслуживаются ею. Поэтому они имеют доступ к большинству функций базовой платформы веб-хостинга Azure. Вкладка **Функции платформы** предоставляет доступ ко многим функциям платформы службы приложений, которые можно использовать в приложениях-функциях. 

> [!NOTE]
> Не все функции службы приложений доступны при выполнении приложения с планом размещения потребления.

Оставшаяся часть этой статьи посвящена следующим функциям службы приложений в портал Azure, которые полезны для функций:

+ [Редактор службы приложений](#editor)
+ [Console](#console)
+ [Дополнительные инструменты (Kudu)](#kudu)
+ [Варианты развертывания](#deployment)
+ [CORS](#cors)
+ [Authentication](#auth)

Дополнительные сведения о работе с параметрами службы приложений см. в статье [Настройка параметров в службе приложений Azure](../app-service/configure-common.md).

### <a name="editor"></a>Редактор службы приложений

![Редактор службы приложений](./media/functions-how-to-use-azure-function-app-settings/configure-function-app-appservice-editor.png)

Редактор службы приложений — это расширенный редактор на портале, который можно использовать для изменения JSON-файлов конфигурации и файлов с кодом. При выборе этого параметра откроется отдельная вкладка браузера с базовым редактором. Он позволяет выполнять интеграцию с репозиторием Git, запускать и отлаживать код и изменять параметры приложения-функции. Этот редактор предоставляет улучшенную среду разработки для функций по сравнению с встроенным редактором функций.  

Рекомендуется разрабатывать функции на локальном компьютере. При разработке локально и публикации в Azure файлы проекта доступны только для чтения на портале. Дополнительные сведения см. в статье Использование [кода и тестирование функций Azure в локальной](functions-develop-local.md)среде.

### <a name="console"></a>Консоль

![Консоль приложения-функции](./media/functions-how-to-use-azure-function-app-settings/configure-function-console.png)

Консоль на портале оптимально подходит разработчикам, желающим взаимодействовать с приложением-функцией из командной строки. Стандартные команды включают создание каталогов и файлов и навигацию по ним, а также выполнение пакетных файлов и сценариев. 

При разработке локально рекомендуется использовать [Azure functions Core Tools](functions-run-local.md) и [Интерфейс командной строки Azure].

### <a name="kudu"></a>Дополнительные инструменты (Kudu)

![Настройка Kudu](./media/functions-how-to-use-azure-function-app-settings/configure-function-app-kudu.png)

Дополнительные средства для службы приложений (которые также называются Kudu) предоставляют доступ к расширенным административным функциям для приложения-функции. С помощью Kudu можно управлять системными сведениями, параметрами приложения, переменными среды, заголовками HTTP и переменными сервера. Кроме того, можно также запустить **Kudu**, перейдя на конечную точку SCM для приложения-функции, например `https://<myfunctionapp>.scm.azurewebsites.net/`. 


### <a name="deployment"></a>Центр развертывания

При использовании решения системы управления версиями для разработки и сопровождения кода функций центр развертывания позволяет выполнять сборку и развертывание из системы управления версиями. Проект будет создан и развернут в Azure при внесении обновлений. Дополнительные сведения см. [в статье технологии развертывания в службе "функции Azure](functions-deployment-technologies.md)".

### <a name="cors"></a>Общий доступ к ресурсам между источниками

Чтобы предотвратить выполнение вредоносного кода на клиенте, современные браузеры блокируют запросы от веб-приложений к ресурсам, выполняемым в отдельном домене. [Общий доступ к ресурсам между источниками (CORS)](https://developer.mozilla.org/docs/Web/HTTP/CORS) позволяет `Access-Control-Allow-Origin` заголовку объявить, какие источники могут вызывать конечные точки в приложении-функции.

#### <a name="portal"></a>Портал

При настройке списка **разрешенных источников** для приложения `Access-Control-Allow-Origin` -функции заголовок автоматически добавляется ко всем ответам из конечных точек HTTP в приложении функции. 

![Настройка списка CORS приложения функции](./media/functions-how-to-use-azure-function-app-settings/configure-function-app-cors.png)

При использовании подстановочного`*`знака () все остальные домены игнорируются. 

[`az functionapp cors add`](/cli/azure/functionapp/cors#az-functionapp-cors-add) Используйте команду, чтобы добавить домен в список разрешенных источников. В следующем примере добавляется домен contoso.com:

```azurecli-interactive
az functionapp cors add --name <FUNCTION_APP_NAME> \
--resource-group <RESOURCE_GROUP_NAME> \
--allowed-origins https://contoso.com
```

[`az functionapp cors show`](/cli/azure/functionapp/cors#az-functionapp-cors-show) Используйте команду для вывода списка текущих разрешенных источников.

### <a name="auth"></a>Проверка подлинности

![Настройка проверки подлинности для приложения-функции](./media/functions-how-to-use-azure-function-app-settings/configure-function-app-authentication.png)

Если функции используют триггер HTTP, можно настроить обязательную предварительную проверку подлинности для вызовов. Служба приложений поддерживает Azure Active Directory проверку подлинности и вход с помощью поставщиков социальных сетей, таких как Facebook, Microsoft и Twitter. Дополнительные сведения о настройке определенных поставщиков аутентификации см. в разделе [Проверка подлинности и авторизация в службе приложений Azure](../app-service/overview-authentication-authorization.md). 


## <a name="next-steps"></a>Следующие шаги

+ [Настройка параметров службы приложений Azure](../app-service/configure-common.md)
+ [Непрерывное развертывание для функций Azure](functions-continuous-deployment.md)

[Интерфейс командной строки Azure]: /cli/azure/
[портал Azure]: https://portal.azure.com
