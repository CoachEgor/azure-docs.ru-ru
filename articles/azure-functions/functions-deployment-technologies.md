---
title: Технологии развертывания в функциях Azure | Документация Майкрософт
description: Рассматриваются различные способы, вы можете развернуть код в функции Azure.
services: functions
documentationcenter: .net
author: ColbyTresness
manager: dariac
ms.service: azure-functions
ms.custom: vs-azure
ms.topic: conceptual
ms.date: 04/25/2019
ms.author: cotresne
ms.openlocfilehash: 47d8bf33fd686942326db3b1cc606978bf47a1bb
ms.sourcegitcommit: ccb9a7b7da48473362266f20950af190ae88c09b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/05/2019
ms.locfileid: "67594399"
---
# <a name="deployment-technologies-in-azure-functions"></a>Технологии развертывания в функциях Azure

Чтобы развернуть код проекта функции Azure в Azure можно использовать несколько различных технологий. В этой статье предоставляет исчерпывающий список этих технологий, описывает, какие технологии доступны для какой версии функций, объясняющее, что происходит при использовании каждого метода и рекомендации для лучшего метода для использования в различных сценариях . Различные средства, которые поддерживают развертывание для функций Azure лучше подходят для правильной технологии, исходя из их контекста.

## <a name="deployment-technology-availability"></a>Доступность технологии развертывания

> [!IMPORTANT]
> Функции Azure поддерживают кросс платформенной локальной разработки и размещения в Windows и Linux. В настоящее время доступны три планы размещения: [Потребление](functions-scale.md#consumption-plan), [уровня "премиум"](functions-scale.md#premium-plan), и [выделенной (служба приложений Azure)](functions-scale.md#app-service-plan). Каждый план имеет различное поведение. Не все технологии развертывания доступны для каждого вида "функции Azure".

| Технологии развертывания | Использование Windows | Windows "премиум" (Предварительная версия) | Выделенные Windows  | Потребление Linux (Предварительная версия) | Выделенные Linux |
|-----------------------|:-------------------:|:-------------------------:|:-----------------:|:---------------------------:|:---------------:|
| URL-адрес внешнего пакета<sup>1</sup> |✔|✔|✔|✔|✔|
| Развертывания ZIP-файлов |✔|✔|✔| |✔|
| Контейнер docker | | | | |✔|
| Веб-развертывания |✔|✔|✔| | |
| Система управления версиями |✔|✔|✔| |✔|
| Локальный репозиторий Git<sup>1</sup> |✔|✔|✔| |✔|
| Синхронизируются облачных<sup>1</sup> |✔|✔|✔| |✔|
| FTP<sup>1</sup> |✔|✔|✔| |✔|
| Редактирование портала |✔|✔|✔| |✔<sup>2</sup>|

<sup>1</sup> технология развертывания, которая требует [ручной триггер синхронизации](#trigger-syncing).  
<sup>2</sup> портала редактирование разрешено только для триггеров HTTP и таймера для функций в Linux с помощью специального плана.

## <a name="key-concepts"></a>Основные понятия

Некоторые основные понятия важны для понимания того, как работают развертываний в функциях Azure.

### <a name="trigger-syncing"></a>Триггер синхронизации

При изменении каких-либо триггеры, функции инфраструктуры необходимо иметь в виду изменения. Синхронизация происходит автоматически на других технологиях развертывания. Однако в некоторых случаях необходимо вручную синхронизировать триггеры. При развертывании обновлений, ссылаясь на URL-адрес внешнего пакета, local Git, синхронизацию с облаком или FTP, необходимо вручную синхронизировать триггеры. Вы можете синхронизировать триггеры в одном из трех способов:

* Перезапуск приложения-функции на портале Azure
* Отправить запрос HTTP POST для `https://{functionappname}.azurewebsites.net/admin/host/synctriggers?code=<API_KEY>` с помощью [главного ключа](functions-bindings-http-webhook.md#authorization-keys).
* Отправить запрос HTTP POST для `https://management.azure.com/subscriptions/<SUBSCRIPTION_ID>/resourceGroups/<RESOURCE_GROUP_NAME>/providers/Microsoft.Web/sites/<FUNCTION_APP_NAME>/syncfunctiontriggers?api-version=2016-08-01`. Замените заполнители своим Идентификатором подписки, имя группы ресурсов и имя приложения-функции.

## <a name="deployment-technology-details"></a>Сведения о технологии развертывания 

В функциях Azure доступны следующие методы развертывания.

### <a name="external-package-url"></a>URL-адрес внешнего пакета

URL-адрес внешнего пакета можно использовать для ссылки на файл удаленный пакет (ZIP-файл), содержащий приложение-функцию. Файл загружается из указанного URL-адреса, а приложение выполняется в [запуск из пакета](run-functions-from-deployment-package.md) режим.

>__Способы ее использования:__ Добавление `WEBSITE_RUN_FROM_PACKAGE` параметры приложения. Значение этого параметра должен быть URL-адрес (расположение файла определенного пакета, которую вы хотите запустить). Вы можете добавлять параметры либо [на портале](functions-how-to-use-azure-function-app-settings.md#settings) или [с помощью Azure CLI](/cli/azure/functionapp/config/appsettings#az-functionapp-config-appsettings-set). 
>
>Если вы используете хранилище больших двоичных объектов Azure, использовать закрытый контейнер с [подписанные URL-адреса (SAS)](../vs-azure-tools-storage-manage-with-storage-explorer.md#generate-a-sas-in-storage-explorer) для предоставления функций доступа к пакету. В любое время повторного запуска приложения, она получает копию содержимого. Ссылки должны быть допустимыми в течение времени существования приложения.

>__Когда следует использовать:__ URL-адрес внешнего пакета является единственным поддерживаемого метода развертывания для функций Azure на платформе Linux в плане потребления (Предварительная версия). При обновлении файл пакета, который ссылается на приложение-функцию, необходимо [вручную синхронизировать триггеры](#trigger-syncing) чтобы сообщить Azure, что приложения был изменен.

### <a name="zip-deploy"></a>Развертывания ZIP-файлов

Развертывания ZIP-файлов используется для принудительной отправки ZIP-файл, содержащий приложение-функцию в Azure. При необходимости можно задать приложение для запуска в [запуск из пакета](run-functions-from-deployment-package.md) режим.

>__Способы ее использования:__ Развертывание с помощью избранного клиента средства: [VS Code](functions-create-first-function-vs-code.md#publish-the-project-to-azure), [Visual Studio](functions-develop-vs.md#publish-to-azure), или [Azure CLI](functions-create-first-azure-function-azure-cli.md#deploy-the-function-app-project-to-azure). Чтобы вручную развернуть ZIP-файл для приложения-функции, следуйте инструкциям в [развертывание из ZIP-файл или URL-адрес](https://github.com/projectkudu/kudu/wiki/Deploying-from-a-zip-file-or-url).
>
>При развертывании с помощью zip, развертывание, можно настроить приложение для запуска в [запуск из пакета](run-functions-from-deployment-package.md) режим. Чтобы задать режим выполнения из пакета, установите `WEBSITE_RUN_FROM_PACKAGE` значение параметра приложения, чтобы `1`. Мы рекомендуем выполнять развертывание zip. Он возвращает сократить время загрузки для приложений, и он используется по умолчанию для VS Code, Visual Studio и Azure CLI.

>__Когда следует использовать:__ Развертывания ZIP-файлов — это технология рекомендации по развертыванию для функции Azure под управлением Windows, а также для функции Azure под управлением Linux в выделенном плане.

### <a name="docker-container"></a>Контейнер docker

Можно развернуть образ контейнера Linux, который содержит приложения-функции.

>__Способы ее использования:__ Создание приложения-функции Linux в выделенном плане и указать, какой образ контейнера для запуска из. Это можно сделать двумя способами.
>
>* Создание приложения-функции Linux на план службы приложений Azure на портале Azure. Для **публикации**выберите **образ Docker**, а затем настройте контейнер. Введите расположение, где размещен образ.
>* Создание приложения-функции Linux на план службы приложений с помощью Azure CLI. Чтобы узнать как это сделать, см. в разделе [Создание функции на платформе Linux с помощью пользовательского образа](functions-create-function-linux-custom-image.md#create-and-deploy-the-custom-image).
>
>Для развертывания в существующее приложение с помощью пользовательского контейнера, в [основных инструментов функций Azure](functions-run-local.md), использовать [ `func deploy` ](functions-run-local.md#publish) команды.

>__Когда следует использовать:__ Используйте параметр контейнер Docker при требуется более строгий контроль над средой Linux где выполняется приложение-функцию. Этот механизм развертывания доступен только для функций, выполняемых на платформе Linux в рамках плана службы приложений.

### <a name="web-deploy-msdeploy"></a>Веб-развертывания (MSDeploy)

Веб-развертывание пакетов и развертывание приложений Windows к любому серверу IIS, включая приложения-функции под управлением Windows в Azure.

>__Способы ее использования:__ Используйте [средств Visual Studio для функций Azure](functions-create-your-first-function-visual-studio.md). Очистить **выполнения из файла пакета (рекомендуется)** "флажок".
>
>Вы также можете скачать [3.6 Развертывание Web](https://www.iis.net/downloads/microsoft/web-deploy) и вызвать `MSDeploy.exe` напрямую.

>__Когда следует использовать:__ Веб-развертывание поддерживается и не имеет проблем, но предпочтительно [развертывания ZIP-файлов с помощью выполнения из пакета](#zip-deploy). Дополнительные сведения см. в разделе [руководство по разработке для Visual Studio](functions-develop-vs.md#publish-to-azure).

### <a name="source-control"></a>Система управления версиями

Используйте систему управления версиями для подключения приложения-функции в репозиторий Git. Обновление кода в нем активировать развертывание. Дополнительные сведения см. в разделе [вики-сайте Kudu](https://github.com/projectkudu/kudu/wiki/VSTS-vs-Kudu-deployments).

>__Способы ее использования:__ Используйте центр развертывания на портале функций Azure, чтобы настроить публикацию из системы управления версиями. Дополнительные сведения см. в статье [Непрерывное развертывание для функций Azure](functions-continuous-deployment.md).

>__Когда следует использовать:__ С помощью системы управления версиями является лучшим решением для команд, совместно работающих над их приложения-функции. Системы управления версиями — это вариант хорошо развертывания, который позволяет более сложные конвейеры развертывания.

### <a name="local-git"></a>Локальный репозиторий Git

Можно использовать локальный репозиторий Git коду Push-уведомлений с локального компьютера для функций Azure с помощью Git.

>__Способы ее использования:__ Следуйте инструкциям в [развертывание локального репозитория Git в службе приложений Azure](../app-service/deploy-local-git.md).

>__Когда следует использовать:__ Как правило рекомендуется использовать метод развертывания. При публикации из локального репозитория Git, вы должны [вручную синхронизировать триггеры](#trigger-syncing).

### <a name="cloud-sync"></a>Синхронизацию с облаком

Используйте облачные синхронизации для синхронизации содержимого из Dropbox и OneDrive для функций Azure.

>__Способы ее использования:__ Следуйте инструкциям в [синхронизация содержимого из облачной папки](../app-service/deploy-content-sync.md).

>__Когда следует использовать:__ Как правило рекомендуется использовать другие методы развертывания. При публикации с помощью синхронизацию с облаком, вы должны [вручную синхронизировать триггеры](#trigger-syncing).

### <a name="ftp"></a>FTP

Можно использовать FTP для прямой передачи файлов в функциях Azure.

>__Способы ее использования:__ Следуйте инструкциям в [развертывания содержимого с помощью FTP или FTPS](../app-service/deploy-ftp.md).

>__Когда следует использовать:__ Как правило рекомендуется использовать другие методы развертывания. При публикации по протоколу FTP, вам необходимо [вручную синхронизировать триггеры](#trigger-syncing).

### <a name="portal-editing"></a>Редактирование портала

В редакторе портала вы можете изменять непосредственно файлы, которые находятся в приложении-функции (по существу, развертывание каждый раз, чтобы сохранить изменения).

>__Способы ее использования:__ Чтобы иметь возможность редактировать ваши функции на портале Azure, необходимо иметь [создать свои функции на портале](functions-create-first-azure-function.md). Чтобы сохранить единый источник истины, иным способом развертывания делает функция только для чтения и запрещено изменять постоянной портала. Чтобы вернуться в состояние, в котором вы можете редактировать свои файлы на портале Azure, можно вручную включить в режим редактирования обратно `Read/Write` и удалить все параметры приложения, связанных с развертыванием (как `WEBSITE_RUN_FROM_PACKAGE`). 

>__Когда следует использовать:__ Портал — хороший способ начать работу с функциями Azure. Для более интенсивного разработках мы рекомендуем использовать клиентских средств:
>
>* [Начало работы с VS Code](functions-create-first-function-vs-code.md)
>* [Начало работы с помощью основных инструментов функций Azure](functions-run-local.md)
>* [Начало работы с помощью Visual Studio](functions-create-your-first-function-visual-studio.md)

Следующая таблица показывает операционных систем и языков, поддерживающих портала правку:

| | Использование Windows | Windows "премиум" (Предварительная версия) | Выделенные Windows | Потребление Linux (Предварительная версия) | Выделенные Linux |
|-|:-----------------: |:-------------------------:|:-----------------:|:---------------------------:|:---------------:|
| C# | | | | | |
| Скрипт C# |✔|✔|✔| |✔<sup>*</sup>|
| F# | | | | | |
| Java | | | | | |
| JavaScript (Node.js) |✔|✔|✔| |✔<sup>*</sup>|
| Python (предварительная версия) | | | | | |
| PowerShell (Предварительная версия) |✔|✔|✔| | |
| TypeScript (Node.js) | | | | | |

<sup>*</sup> Портала редактирование разрешено только для триггеров HTTP и таймера для функций в Linux с помощью специального плана.

## <a name="deployment-slots"></a>Слоты развертывания

При развертывании приложения-функции Azure, можно развернуть отдельный слот развертывания вместо развертывания непосредственно в рабочую среду. Дополнительные сведения о слотах развертывания, см. в разделе [слоты службы приложений Azure](../app-service/deploy-staging-slots.md).

### <a name="deployment-slots-levels-of-support"></a>Уровни поддержки слоты развертывания

Существует два уровня поддержки для слотов развертывания:

* **Общедоступная (GA)** : Полностью поддерживается и утвержденные для использования в рабочей среде.
* **Предварительная версия.** Еще не поддерживается, но ожидается в будущем станут общедоступными.

| План размещения/ОС | Уровень поддержки |
| --------------- | ------ |
| Использование Windows | Предварительный просмотр |
| Windows "премиум" (Предварительная версия) | Предварительный просмотр |
| Выделенные Windows | Общедоступная версия |
| Потребление Linux | Не поддерживается |
| Выделенные Linux | Общедоступная версия |

## <a name="next-steps"></a>Следующие шаги

Прочитайте следующие статьи, чтобы узнать больше о развертывании приложения-функции: 

+ [Непрерывное развертывание для функций Azure](functions-continuous-deployment.md)
+ [Непрерывная поставка с помощью DevOps в Azure](functions-how-to-azure-devops.md)
+ [Развертывание ZIP для функций Azure](deployment-zip-push.md)
+ [Выполнения функций Azure с помощью файла пакета](run-functions-from-deployment-package.md)
+ [Автоматизация развертывания ресурсов для приложения-функции в функциях Azure](functions-infrastructure-as-code.md)
