---
title: Технологии развертывания в функциях Azure | Документация Майкрософт
description: Узнайте подробно различными способами, вы можете развернуть код в функции Azure.
services: functions
documentationcenter: .net
author: ColbyTresness
manager: dariac
ms.service: azure-functions
ms.custom: vs-azure
ms.topic: conceptual
ms.date: 04/25/2019
ms.author: cotresne
ms.openlocfilehash: 10976c9cf16dfab4c31d0d77c519dc3277204a51
ms.sourcegitcommit: 2d3b1d7653c6c585e9423cf41658de0c68d883fa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/20/2019
ms.locfileid: "67293047"
---
# <a name="deployment-technologies-in-azure-functions"></a>Технологии развертывания в функциях Azure

Существует несколько разных технологий, которые можно использовать, чтобы развернуть код проекта функции Azure в Azure. В этой статье, предоставляет исчерпывающий список этих технологий, информирует о том, какие технологии доступны для какой версии функций, объясняет, что происходит при каждого метода используется и предоставляет рекомендации для лучшего метода для использования в различные сценарии. Различные средства, которые поддерживают развертывание для функций Azure лучше подходят для правильной технологии, исходя из их контекста.

## <a name="deployment-technology-availability"></a>Доступность технологии развертывания

> [!IMPORTANT]
> Функции Azure поддерживают между локальной разработки платформы и размещение двух операционных системах: Windows и Linux. Существуют три планах размещения в настоящее время недоступно, каждый из которых различное поведение - [потребления](functions-scale.md#consumption-plan), [уровня "премиум"](functions-scale.md#premium-plan), и [выделенной (служба приложений)](functions-scale.md#app-service-plan). Не все технологии развертывания доступны для каждого вида "функции Azure".

| Технологии развертывания | Использование Windows | Windows "премиум" (Предварительная версия) | Выделенные Windows  | Потребление Linux (Предварительная версия) | Выделенные Linux |
|-----------------------|:-------------------:|:-------------------------:|:-----------------:|:---------------------------:|:---------------:|
| URL-адрес внешнего пакета<sup>1</sup> |✔|✔|✔|✔|✔|
| Развертывания ZIP-файлов |✔|✔|✔| |✔|
| Контейнер docker | | | | |✔|
| Веб-развертывания |✔|✔|✔| | |
| Система управления версиями |✔|✔|✔| |✔|
| Локальный репозиторий Git<sup>1</sup> |✔|✔|✔| |✔|
| Синхронизируются облачных<sup>1</sup> |✔|✔|✔| |✔|
| FTP<sup>1</sup> |✔|✔|✔| |✔|
| Редактирование портала |✔|✔|✔| |✔<sup>2</sup>|

<sup>1</sup> технология развертывания, которая требует [ручной триггер синхронизации](#trigger-syncing).
<sup>2</sup> портала редактирование включено для триггеров HTTP и таймера для функции в Linux с помощью выделенного плана.

## <a name="key-concepts"></a>Основные понятия

Прежде чем продолжить, важно узнать некоторые основные понятия, важные для понимания работы развертывания в функциях Azure.

### <a name="trigger-syncing"></a>Триггер синхронизации

При изменении каких-либо триггеры, функции инфраструктуры необходимо знать об этих изменениях. Процесс синхронизации происходит автоматически на других технологиях развертывания. Однако в некоторых случаях необходимо вручную синхронизировать триггеры. При развертывании обновлений с помощью URL-адрес внешнего пакета, local Git, синхронизацию с облаком или FTP, необходимо убедиться, чтобы вручную синхронизировать триггеры. Вы можете синхронизировать триггеры в одном из трех способов:

* Перезапуск приложения-функции на портале Azure
* Отправить запрос HTTP POST для `https://www.{functionappname}.azurewebsites.net/admin/host/synctriggers?code=<API_KEY>` с помощью [главного ключа](functions-bindings-http-webhook.md#authorization-keys).
* Отправить запрос HTTP POST для `https://management.azure.com/subscriptions/<SUBSCRIPTION_ID>/resourceGroups/<RESOURCE_GROUP_NAME>/providers/Microsoft.Web/sites/<FUNCTION_APP_NAME>/syncfunctiontriggers?api-version=2016-08-01`. Замените заполнители своим Идентификатором подписки, имя группы ресурсов и имя приложения-функции.

## <a name="deployment-technology-details"></a>Сведения о технологии развертывания  

### <a name="external-package-url"></a>URL-адрес внешнего пакета

Позволяет ссылаться на удаленный пакет (.zip) файл, содержащий приложение-функцию. Файл загружается из указанного URL-адреса, а приложение выполняется в [выполнения из пакета](run-functions-from-deployment-package.md) режим.

>__Способы ее использования:__ Добавление `WEBSITE_RUN_FROM_PACKAGE` параметры приложения. Значение этого параметра должно быть URL-адрес — расположение файла определенного пакета, которую вы хотите запустить. Вы можете добавлять параметры либо [на портале](functions-how-to-use-azure-function-app-settings.md#settings) или [с помощью Azure CLI](/cli/azure/functionapp/config/appsettings#az-functionapp-config-appsettings-set). При использовании хранилища BLOB-объектов Azure, следует использовать закрытый контейнер с [подписи общего доступа (SAS)](../vs-azure-tools-storage-manage-with-storage-explorer.md#attach-a-storage-account-by-using-a-shared-access-signature-sas) для предоставления функций доступа к пакету. В любое время повторного запуска приложения он получает копию содержимого, что означает, что ссылки должен быть действительным в течение времени существования приложения.

>__Когда следует использовать:__ Этот способ только развертывания, которые поддерживаются для функций Azure на платформе Linux в плане потребления (Предварительная версия). При обновлении файл пакета ссылается на приложение-функцию, необходимо [вручную синхронизировать триггеры](#trigger-syncing) чтобы сообщить Azure, что приложения был изменен.

### <a name="zip-deploy"></a>Развертывания ZIP-файлов

Разрешает отправлять ZIP-файл, содержащий приложение-функцию в Azure. При необходимости можно также указать в приложении начать [выполнения из пакета](run-functions-from-deployment-package.md) режим.

>__Способы ее использования:__ Развертывание с помощью избранного клиента средство — [VS Code](functions-create-first-function-vs-code.md#publish-the-project-to-azure), [Visual Studio](functions-develop-vs.md#publish-to-azure), или [Azure CLI](functions-create-first-azure-function-azure-cli.md#deploy-the-function-app-project-to-azure). Чтобы вручную развернуть ZIP-файл для приложения-функции, следуйте инструкциям, приведенным в [развертывание из ZIP-файл или URL-адрес](https://github.com/projectkudu/kudu/wiki/Deploying-from-a-zip-file-or-url).
>
>Кроме того, при развертывании развертывание с помощью zip, пользователи могут указать для запуска приложения из в [выполнения из пакета](run-functions-from-deployment-package.md) режим, задав `WEBSITE_RUN_FROM_PACKAGE` значение параметра приложения как `1`. Этот параметр рекомендуется и выдает сократить время загрузки для приложений. Это делается по умолчанию для выше клиентские средства.

>__Когда следует использовать:__ Это технологии рекомендации по развертыванию для функции Azure под управлением Windows и функции Azure под управлением Linux в выделенном плане.

### <a name="docker-container"></a>Контейнер docker

Развертывание образа контейнера Linux, содержащий приложение-функцию.

>__Способы ее использования:__ Создание приложения-функции Linux в выделенном плане и указать, какой образ контейнера для запуска из. Это можно сделать двумя способами.
>
>* Создание приложения-функции Linux на план службы приложений на портале Azure. Выберите **образ Docker** для **публикации**и настройте контейнера, предоставляя расположение, где размещен образ.
>* Создание приложения-функции Linux на план службы приложений с помощью Azure CLI. Узнайте, как, просмотрев [Создание функции в Linux с помощью пользовательского образа](functions-create-function-linux-custom-image.md#create-and-deploy-the-custom-image).
>
>Для развертывания в существующее приложение с помощью пользовательского контейнера, используйте [ `func deploy` ](functions-run-local.md#publish) команду [основных инструментов функций Azure](functions-run-local.md).

>__Когда следует использовать:__ Используйте этот параметр, если требуется более строгий контроль над средой Linux где выполняется приложение-функцию. Этот механизм развертывания доступен только для функций, выполняемых на платформе Linux в рамках плана службы приложений.

### <a name="web-deploy-msdeploy"></a>Веб-развертывания (MSDeploy)

Пакеты и развертывание приложений Windows к любому серверу IIS, включая приложения-функции Azure под управлением Windows.

>__Способы ее использования:__ Используйте [средств Visual Studio для функций Azure](functions-create-your-first-function-visual-studio.md), и не делений `Run from package file (recommended)` "флажок".
>
>Кроме того, вызвать `MSDeploy.exe` непосредственно после загрузки [3.6 Развертывание Web](https://www.iis.net/downloads/microsoft/web-deploy).

>__Когда следует использовать:__ Эта технология развертывания поддерживается и не имеет проблем, но теперь является предпочтительным механизмом [Zip развертывание с помощью выполнения из пакета](#zip-deploy). Чтобы узнать больше, посетите [руководство по разработке для Visual Studio](functions-develop-vs.md#publish-to-azure).

### <a name="source-control"></a>Система управления версиями

Позволяет подключаться приложение-функцию с репозиторием git, таким образом, любые изменения кода в нем активировать развертывание. Дополнительные сведения, взгляните на [вики-сайте Kudu](https://github.com/projectkudu/kudu/wiki/VSTS-vs-Kudu-deployments).

>__Способы ее использования:__ Используйте центр развертывания на портале функций Azure, чтобы настроить публикацию из системы управления версиями. Дополнительные сведения см. в статье [Непрерывное развертывание для функций Azure](functions-continuous-deployment.md).

>__Когда следует использовать:__ С помощью системы управления версиями является лучшим решением для команд, совместная работа над их приложения-функции, и это отличный вариант, позволяющий более сложные конвейеры развертывания.

### <a name="local-git"></a>Локальный репозиторий git

Позволяет отправлять код из локального компьютера для функций Azure с помощью Git.

>__Способы ее использования:__ Следуйте инструкциям в [локальное развертывание Git в службе приложений Azure](../app-service/deploy-local-git.md).

>__Когда следует использовать:__ Как правило рекомендуется использовать другие методы развертывания. При публикации из локального репозитория git, вы должны [вручную синхронизировать триггеры](#trigger-syncing).

### <a name="cloud-sync"></a>Синхронизацию с облаком

Позволяет синхронизировать содержимое из Dropbox и OneDrive для функций Azure.

>__Способы ее использования:__ Следуйте инструкциям в [синхронизация содержимого из облачной папки](../app-service/deploy-content-sync.md).

>__Когда следует использовать:__ Как правило рекомендуется использовать другие методы развертывания. При публикации с синхронизацией облака, вы должны [вручную синхронизировать триггеры](#trigger-syncing).

### <a name="ftp"></a>FTP

Позволяет непосредственно передает файлы в функциях Azure.

>__Способы ее использования:__ Следуйте инструкциям в [развертывания содержимого с помощью FTP или FTPS](../app-service/deploy-ftp.md).

>__Когда следует использовать:__ Как правило рекомендуется использовать другие методы развертывания. При публикации с помощью FTP, вам необходимо [вручную синхронизировать триггеры](#trigger-syncing).

### <a name="portal-editing"></a>Редактирование портала

В редакторе портала позволяет напрямую редактировать файлы на свое приложение-функцию (по существу развертывания каждый раз, когда вы щелкните **Сохранить**).

>__Способы ее использования:__ Чтобы иметь возможность редактировать ваши функции на портале Azure, необходимо иметь [создать свои функции на портале](functions-create-first-azure-function.md). Иным способом развертывания делает функция только для чтения и предотвращает постоянной портала редактирования, позволяющий сохранить единый источник истины. Чтобы вернуться в состояние, в котором можно изменить файлы с помощью портала Azure, можно вручную включить в режим редактирования обратно `Read/Write` и удалить все параметры приложения, связанных с развертыванием (как `WEBSITE_RUN_FROM_PACKAGE`). 

>__Когда следует использовать:__ Портал — отличный способ начать работу с функциями Azure, но для любого насыщеннее разработках, с помощью клиента рекомендуется использовать средства:
>
>* [Начало работы с VS Code](functions-create-first-function-vs-code.md)
>* [Начало работы с помощью основных инструментов функций Azure](functions-run-local.md)
>* [Начало работы с помощью Visual Studio](functions-create-your-first-function-visual-studio.md)

Следующая таблица показывает операционных систем и языков, для которых поддерживается портала редактирования:

| | Использование Windows | Windows "премиум" (Предварительная версия) | Выделенные Windows | Потребление Linux (Предварительная версия) | Выделенные Linux |
|-|:-----------------: |:-------------------------:|:-----------------:|:---------------------------:|:---------------:|
| C# | | | | | |
| Скрипт C# |✔|✔|✔| |✔<sup>*</sup>|
| F# | | | | | |
| Java | | | | | |
| JavaScript (Node.js) |✔|✔|✔| |✔<sup>*</sup>|
| Python (предварительная версия) | | | | | |
| PowerShell (Предварительная версия) |✔|✔|✔| | |
| TypeScript (Node.js) | | | | | |

<sup>*</sup> Портала редактирование разрешено для триггеров HTTP и таймера для функций в Linux с помощью выделенного плана.

## <a name="deployment-slots"></a>Слоты развертывания

При развертывании приложения-функции Azure, можно развернуть отдельный слот развертывания вместо непосредственно в рабочую среду. Дополнительные сведения о слотах развертывания, см. в разделе [документации слотами службы приложения Azure](../app-service/deploy-staging-slots.md).

### <a name="deployment-slots-levels-of-support"></a>Уровни поддержки слоты развертывания

Существует два уровня поддержки.

* _Общедоступные_ — полностью поддерживаемые языки, утвержденные для использования в рабочей среде.
* _Предварительная версия_ — языки, которые еще не поддерживаются, но в будущем станут общедоступными.

| План размещения/ОС | Уровень поддержки |
| --------------- | ------ |
| Использование Windows | Предварительный просмотр |
| Windows "премиум" (Предварительная версия) | Предварительный просмотр |
| Выделенные Windows | Общедоступная версия |
| Потребление Linux | Не поддерживается |
| Выделенные Linux | Общедоступная версия |

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о развертывании приложения-функции в следующих статьях: 

+ [Непрерывное развертывание для функций Azure](functions-continuous-deployment.md)
+ [Непрерывная доставка с помощью DevOps в Azure](functions-how-to-azure-devops.md)
+ [Развертывание ZIP для функций Azure](deployment-zip-push.md)
+ [Выполнения функций Azure с помощью файла пакета](run-functions-from-deployment-package.md)
+ [Автоматизация развертывания ресурсов для приложения-функции в функциях Azure](functions-infrastructure-as-code.md)
