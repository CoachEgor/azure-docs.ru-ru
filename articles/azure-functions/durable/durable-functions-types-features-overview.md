---
title: Типы функций в функции Azure Durable
description: Узнайте о типах функций и ролей, поддерживающих связь между функциями и функциями в оркестровке функций длительного пользования в Функциях Azure.
author: cgillum
ms.topic: conceptual
ms.date: 08/22/2019
ms.author: azfuncdf
ms.openlocfilehash: 35ef9d8731e169e890f5985ce01215fec5d6e3de
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79277886"
---
# <a name="durable-functions-types-and-features"></a>Типы и функции долговечные

Устойчивые функции — это расширение [Функций Azure](../functions-overview.md). Можно использовать функции Durable для создания состояния выполнения функций. Надежное приложение функции — это решение, состоящее из различных функций Azure. Функции могут играть различные роли в прочной оркестровке функций. 

В настоящее время в Функциях Azure есть четыре типа прочных функций: деятельность, оркестратор, сущность и клиент. В остальном разделе более подробно рассказывается о типах функций, связанных с оркестровкой.

## <a name="orchestrator-functions"></a>Функции оркестратора

Функции оркестратора описывают, как выполняются действия и порядок выполнения действий. Функции оркестровки описывают оркестровку в коде (C q или JavaScript), как показано в [шаблонах приложений Durable Functions.](durable-functions-overview.md#application-patterns) Оркестрация может иметь множество различных типов действий, включая [функции активности,](#activity-functions) [подоркестрации,](durable-functions-orchestrations.md#sub-orchestrations) [ожидание внешних событий,](durable-functions-orchestrations.md#external-events) [HTTP](durable-functions-http-features.md)и [таймеры.](durable-functions-orchestrations.md#durable-timers) Функции оркестратора также могут взаимодействовать с [функциями сущности.](#entity-functions)

> [!NOTE]
> Функции оркестратора написаны с использованием обычного кода, но есть строгие требования о том, как написать код. В частности, код функции оркестратора должен быть *детерминированным.* Несоблюдение этих требований детерминизма может привести к тому, что функции оркестратора не смогут работать правильно. Подробную информацию об этих требованиях и способе их работы можно найти в теме [ограничений кода.](durable-functions-code-constraints.md)

Для получения более подробной информации о функциях оркестранта и их [функциях](durable-functions-orchestrations.md) см.

## <a name="activity-functions"></a>Функции действий

Функции деятельности являются основной единицей работы в прочной оркестровке функций. Функции деятельности — это функции и задачи, которые в процессе срежиссированы. Например, можно создать функцию оркестратора для обработки заказа. Задачи включают проверку запасов, зарядку клиента и создание груза. Каждая задача будет отдельной функцией деятельности. Эти функции действия могут выполняться последовательно, параллельно, или некоторое сочетание обоих.

В отличие от функций оркестратора, функции активности не ограничены в типе работы, которую вы можете сделать в них. Функции активности часто используются для выполнения сетевых вызовов или выполнения интенсивных операций процессора. Функция активности также может вернуть данные обратно в функцию оркестратора. Рамочная программа «Прочная задача» гарантирует, что каждая вызванная функция действия будет выполняться *по крайней мере один раз* во время выполнения оркестровки.

> [!NOTE]
> Поскольку функции активности гарантируют выполнение *по крайней мере один раз,* мы рекомендуем вам при возможности приэтом выполнять *логику* функции активности.

Используйте [триггер активности](durable-functions-bindings.md#activity-trigger) для определения функции активности. Функции .NET `DurableActivityContext` получают в качестве параметра. Вы также можете связать триггер с любым другим объектом JSON-serializeable для передачи входных данных в функцию. В JavaScript можно получить доступ к `<activity trigger binding name>` вхводом через свойство на [ `context.bindings` объекте.](../functions-reference-node.md#bindings) Функции активности могут передаваться только одному значению. Чтобы передать несколько значений, необходимо использовать tuples, массивы или сложные типы.

> [!NOTE]
> Вызвать функцию активности можно только с функции оркестратора.

## <a name="entity-functions"></a>Функции сущностей

Функции сущности определяют операции для чтения и обновления небольших фрагментов состояния. Мы часто ссылаемся на эти объекты состояния как *прочные сущности.* Как и функции оркестратора, функции сущностей — это функции с особым типом триггера, *триггером сущности*. Они также могут быть вызваны из функций клиента или от функций оркестратора. В отличие от функций оркестратора, функции сущности не имеют каких-либо конкретных ограничений кода. Функции сущностей также управляют состоянием явным образом, а не неявно представляют состояние с помощью потока управления.

> [!NOTE]
> Функции сущностей и связанные функции доступны только в Устойчивых функциях версии 2.0 и более поздних версиях.

Для получения дополнительной информации [Durable Entities](durable-functions-entities.md) о функциях сущности см.

## <a name="client-functions"></a>Клиентские функции

Функции оркестратора запускаются [связыванием триггера оркестровки,](durable-functions-bindings.md#orchestration-trigger) а функции сущности запускаются [связыванием триггера сущности.](durable-functions-bindings.md#entity-trigger) Оба этих триггера работают, реагируя на сообщения, которые загнаны в [концентратор задач.](durable-functions-task-hubs.md) Основной способ доставки этих сообщений — это использование [связывания клиента-оркестратора](durable-functions-bindings.md#orchestration-client) или [связывания клиента сущности](durable-functions-bindings.md#entity-client) из *функции клиента.* Любая функция, не являвается неоркестраторной, может быть *функцией клиента.* Например, можно вызвать оркестратора из функции HTTP-срабатывает, функции azure Event Hub и т.д. Что делает функцию *функции клиента* является его использование прочного привязки вывода клиента.

> [!NOTE]
> В отличие от других типов функций, функции оркестратора и сущности не могут быть срабатываны непосредственно с помощью кнопок в портале Azure. Если требуется протестировать функцию оркестратора или сущности в Azure Portal, необходимо вместо этого запустить *функцию клиента,* которая запускает функцию оркестратора или сущности в рамках ее реализации. Для простейших тестов рекомендуется функция *ручного триггера.*

В дополнение к запуску функций оркестратора или сущности, *прочная* связка клиента может быть использована для взаимодействия с запущенными оркестровками и сущностями. Например, оркестровки могут быть запрошены, прекращены и могут быть подняты с ними событиями. Для получения дополнительной информации об управлении оркестровками и сущностями можно ознакомиться в статье [управления экземплярами.](durable-functions-instance-management.md)

## <a name="next-steps"></a>Дальнейшие действия

Для начала создайте свою первую функцию прочного пользования в [C-](durable-functions-create-first-csharp.md) или [JavaScript](quickstart-js-vscode.md).

> [!div class="nextstepaction"]
> [Подробнее о оркестровке долгосрочных функций](durable-functions-orchestrations.md)