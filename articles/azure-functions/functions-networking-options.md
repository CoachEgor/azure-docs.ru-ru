---
title: Функции Azure, вариантах сетевого взаимодействия
description: Общие сведения о всех сетевых параметров, доступных в функциях Azure
services: functions
author: alexkarcher-msft
manager: jeconnoc
ms.service: azure-functions
ms.topic: conceptual
ms.date: 4/11/2019
ms.author: alkarche
ms.openlocfilehash: b7af0149a690e3cc3a357a5cb769751e3674d374
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61437690"
---
# <a name="azure-functions-networking-options"></a>Функции Azure, вариантах сетевого взаимодействия

В этой статье Описание сетевые функции, доступные через варианты размещения для функций Azure. Все следующие сетевые параметры предоставляют возможность доступа к ресурсам без использования маршрутизируемые адреса Интернета, или ограничить доступ к Интернету к приложению-функции. 

Модели размещения имеют различные уровни изоляции сети доступны. Выбор правильной поможет соответствия требованиям изоляции сети.

Вы можете разместить приложения-функции двумя способами:

* Есть ряд параметров плана, которые выполняются на мультитенантную инфраструктуру, с различными уровнями подключение к виртуальной сети и их масштабирование:
    * [План потребления](functions-scale.md#consumption-plan), которой может масштабироваться динамически в ответ для загрузки и предлагает параметры минимальной сетевой изоляции.
    * [План "премиум"](functions-scale.md#premium-plan-public-preview), которая также пропорционально увеличивает динамически, предлагая более полный сетевой изоляции.
    * Azure [план службы приложений](functions-scale.md#app-service-plan), который работает на фиксированный масштаб и предлагает аналогичные сетевой изоляции в план уровня "премиум".
* Функции можно запустить [среды службы приложений](../app-service/environment/intro.md). Этот метод развертывает функции в виртуальной сети и предлагает полный сетевой контроль и Улучшенная изоляция.

## <a name="matrix-of-networking-features"></a>Матрица возможностей работы в сети

|                |[План потребления](functions-scale.md#consumption-plan)|⚠ [План "премиум"](functions-scale.md#premium-plan-public-preview)|[План обслуживания приложения](functions-scale.md#app-service-plan)|[Среда службы приложений](../app-service/environment/intro.md)|
|----------------|-----------|----------------|---------|-----------------------|  
|[Входящий ограничения IP-адресов](#inbound-ip-restrictions)|✅Yes|✅Yes|✅Yes|✅Yes|
|[Интеграция с виртуальной сетью](#virtual-network-integration)|❌No|❌No|✅Yes|✅Yes|
|[Предварительный просмотр интеграции виртуальной сети (Azure ExpressRoute и конечных точек службы)](#preview-version-of-virtual-network-integration)|❌No|⚠Да|⚠Да|✅Yes|
|[гибридных подключений](#hybrid-connections)|❌No|❌No|✅Yes|✅Yes|
|[доступ к частным сайтам](#private-site-access)|❌No| ❌No|❌No|✅Yes|

⚠ Эта функция предварительного просмотра не для использования в рабочей среде.

## <a name="inbound-ip-restrictions"></a>Входящий ограничения IP-адресов

Ограничения IP-адресов можно использовать для определения списка приоритетные IP-адресов, разрешен или запрещен доступ к приложению. Этот список может содержать адреса IPv4 и IPv6. Если имеется одна или несколько записей, неявный «запретить все» существует в конец списка. Ограничения IP-адресов работать со всеми параметрами функции размещения.

> [!NOTE]
> Чтобы использовать редактор портала Azure, портал должен иметь возможность получить прямой доступ к выполняющегося приложения-функции. Кроме того устройство, которое вы используете для доступа к порталу должен иметь его список разрешенных IP-адрес. С помощью сетевых ограничений по по-прежнему можно найти какие-либо функции на **функции платформы** вкладки.

Дополнительные сведения см. в разделе [ограничения статического доступа в службе приложений Azure](../app-service/app-service-ip-restrictions.md).

## <a name="virtual-network-integration"></a>Интеграция виртуальной сети

Интеграция виртуальной сети позволяет приложения-функции для доступа к ресурсам в виртуальной сети. Эта функция доступна в план "премиум" и план службы приложений. Если приложение находится в среде службы приложений, он уже находится в виртуальной сети и не требует использования интеграции виртуальной сети для доступа к ресурсам в той же виртуальной сети.

Интеграция виртуальной сети предоставляет приложению-функции доступ к ресурсам в виртуальной сети, но не предоставлять [доступ к частным сайтам](#private-site-access) для приложения-функции из виртуальной сети.

Интеграция виртуальной сети можно использовать для обеспечения доступа из приложения к базам данных и веб-служб, работающих в виртуальной сети. Благодаря интеграции виртуальной сети не нужно предоставлять общедоступную конечную точку для приложений на виртуальной Машине. Вместо этого можно использовать маршрутизируемые адреса частного, недоступные из Интернета.

Общедоступная версия Интеграция виртуальной сети зависит от VPN-шлюза для подключения приложения-функции к виртуальной сети. Она доступна в функциях, размещенного в плане службы приложений. Узнайте, как настроить эту функцию, см. в разделе [интеграция приложения с виртуальной сетью Azure](../app-service/web-sites-integrate-with-vnet.md#enabling-vnet-integration).

### <a name="preview-version-of-virtual-network-integration"></a>Предварительную версию интеграции виртуальной сети

Новая версия функция интеграции виртуальных сетей находится в предварительной версии. Он не зависит от типа "точка сеть". Она поддерживает доступ к ресурсам ExpressRoute или конечные точки службы. Он доступен в плане "премиум", а также в планах службы приложений масштабируется до категории премиум v2.

Ниже приведены некоторые характеристики этой версии.

* Шлюз для его использования не требуется.
* Доступ к ресурсам можно получить с помощью подключения ExpressRoute без дополнительной настройки, за исключением интеграции с виртуальной сетью, подключенной при помощи ExpressRoute.
* Вы можете использовать ресурсы, защищенные службы конечной точки, из функции. Для этого нужно включите конечные точки службы в подсети, используемой для интеграции виртуальной сети.
* Невозможно настроить триггеры использовать ресурсы, защищенные службы конечной точки. 
* Приложения-функции и виртуальной сети должен быть в одном регионе.
* Новая функция требуется неиспользуемые подсеть в виртуальной сети, который был развернут через Azure Resource Manager.
* Рабочие нагрузки не поддерживаются, пока функция находится на этапе предварительной версии.
* Таблицы маршрутов и глобальные пиринга еще не доступны с помощью функции.
* Для каждого экземпляра потенциальных приложения-функции используется один адрес. Так как размер подсети нельзя изменить после назначения, используйте подсеть, которая может легко поддерживать размер максимальный масштаб. Например, чтобы обеспечить поддержку план "премиум", который можно масштабировать до 80 экземпляров, мы рекомендуем `/25` подсети, которая предоставляет 126 адреса узла.

Дополнительные сведения об использовании предварительной версии интеграции виртуальной сети, см. в разделе [интегрировать приложение-функцию с виртуальной сетью Azure](functions-create-vnet.md).

## <a name="hybrid-connections"></a>Гибридные подключения

[Гибридные подключения](../service-bus-relay/relay-hybrid-connections-protocol.md) входит в состав ретранслятора Azure, можно использовать для доступа к ресурсам приложений в других сетях. Они обеспечивают доступ из вашего приложения к конечной точке приложения. Его нельзя использовать для доступа к приложению. Гибридные подключения доступен для функций, выполняемых в [план службы приложений](functions-scale.md#app-service-plan) и [среды службы приложений](../app-service/environment/intro.md).

При использовании в функциях Azure, каждое гибридное подключение сопоставляется с одной комбинацией узла и порта TCP. Это означает, что конечная точка гибридного подключения может быть в любой операционной системе и любое приложение, до тех пор, пока вы пытаетесь получить доступ к TCP-порт прослушивания. Функция гибридных подключений не знать и используемый протокол приложения или вы обращаетесь. Она просто предоставляет доступ к сети.

Дополнительные сведения см. в разделе [документации по службе приложений для гибридных подключений](../app-service/app-service-hybrid-connections.md), который поддерживает функции в плане службы приложений.

## <a name="private-site-access"></a>доступ к частным сайтам;

Доступ к частным сайтам подразумевает приложения доступны только из частной сети как из в пределах виртуальной сети Azure. Доступ к частным сайтам доступна только в среде службы приложений, настроены с помощью внутреннего балансировщика нагрузки (ILB). Дополнительные сведения см. в разделе [Создание и использование внутреннего балансировщика нагрузки со средой службы приложений](../app-service/environment/create-ilb-ase.md).

Существует много способов доступа к ресурсам виртуальной сети в другие варианты размещения. Но в среде службы приложений — это единственный способ Разрешить триггерам функция могла произойти через виртуальную сеть.

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о функции сети и Azure: 

* [Следуйте указаниям руководства о начале работы благодаря интеграции виртуальной сети](./functions-create-vnet.md)
* [Функции, часто задаваемые вопросы по сети чтения](./functions-networking-faq.md)
* [Дополнительные сведения об интеграции виртуальной сети с помощью приложения службы и функции](../app-service/web-sites-integrate-with-vnet.md)
* [Дополнительные сведения о виртуальных сетях в Azure](../virtual-network/virtual-networks-overview.md)
* [Включить дополнительные сетевые компоненты и элемент управления со средами службы приложений](../app-service/environment/intro.md)
* [Подключение к отдельным локальным ресурсам без изменений брандмауэра с помощью гибридных подключений](../app-service/app-service-hybrid-connections.md)
