---
title: Триггеры и привязки в решении "Функции Azure"
description: Узнайте, как использовать триггеры и привязки для подключения функции Azure к интерактивным событиям и облачным службам.
services: functions
documentationcenter: na
author: craigshoemaker
manager: gwallace
ms.service: azure-functions
ms.topic: reference
ms.date: 02/18/2019
ms.author: cshoe
ms.openlocfilehash: 914158ba7cfcc7530120d427c62e69036b3bb156
ms.sourcegitcommit: 44e85b95baf7dfb9e92fb38f03c2a1bc31765415
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/28/2019
ms.locfileid: "70085089"
---
# <a name="azure-functions-triggers-and-bindings-concepts"></a>Основные понятия триггеров и привязок в Функциях Azure

В этой статье вы узнаете о высокоуровневых концепциях, связанных с триггерами и привязками функций.

Триггеры являются причиной выполнения функции. Триггер определяет, как вызывается функция, а функция должна иметь только один триггер. Триггеры имеют связанные данные, которые часто предоставляются в качестве полезных данных функции. 

Привязка к функции — это способ декларативного подключения другого ресурса к функции; привязки могут быть подключены как *входные привязки*, *выходные привязки*или и то, и другое. Данные привязок предоставляются функции в качестве параметров.

Вы можете сочетать и сопоставлять различные привязки в соответствии с вашими потребностями. Привязки являются необязательными, и функция может иметь одну или несколько входных и/или выходных привязок.

Триггеры и привязки позволяют избежать прописано доступа к другим службам. Функция получает нужные данные (например, содержимое сообщения из очереди) в виде параметров. Вы отправляете данные (например, для создания в очереди сообщения) с использованием возвращаемого значения функции. 

Рассмотрим следующие примеры реализации различных функций.

| Пример сценария | Триггер | Входная привязка | Выходная привязка |
|-------------|---------|---------------|----------------|
| Поступает новое сообщение очереди, которое запускает функцию для записи в другую очередь. | Очереди<sup>*</sup> | *None* | Очереди<sup>*</sup> |
|Запланированное задание считывает содержимое хранилища BLOB-объектов и создает новый документ Cosmos DB. | Timer | Хранилище BLOB-объектов | Cosmos DB |
|Сетка событий используется для чтения изображения из хранилища BLOB-объектов и документа из Cosmos DB для отправки сообщения электронной почты. | Сетка событий | Хранилище BLOB-объектов и Cosmos DB | SendGrid |
| Веб-перехватчик, использующий Microsoft Graph для обновления листа Excel. | HTTP | *None* | Microsoft Graph |

<sup>\*</sup>Представляет различные очереди

Эти примеры не являются исчерпывающими, но предоставляются для иллюстрации того, как можно использовать триггеры и привязки вместе.

###  <a name="trigger-and-binding-definitions"></a>Определения триггеров и привязок

Триггеры и привязки определяются по-разному в зависимости от подхода к разработке.

| Платформа | Триггеры и привязки настраиваются... |
|-------------|--------------------------------------------|
| Библиотека классов C# | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Наименование методов и C# параметров с помощью атрибутов |
| Все остальные (включая портал Azure) | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Обновление [Function. JSON](./functions-reference.md) ([схема](http://json.schemastore.org/function)) |

Портал предоставляет пользовательский интерфейс для этой конфигурации, но вы можете изменить файл напрямую, открыв **Расширенный редактор** , доступный через вкладку **Интеграция** функции.

В .NET тип параметра определяет тип данных для входных данных. Например, используйте `string` для привязки к тексту триггера очереди, массив байтов для чтения в двоичном виде и пользовательский тип для десериализации в объект.

В языках с динамическим типированием, таких как JavaScript, используйте свойство `dataType` в файле *function.json*. Например, задайте для `dataType` значение `binary`, чтобы прочитать содержимое HTTP-запроса в двоичном формате.

```json
{
    "dataType": "binary",
    "type": "httpTrigger",
    "name": "req",
    "direction": "in"
}
```

Другие варианты для `dataType` — `stream` и `string`.

## <a name="binding-direction"></a>Направление привязки

Все триггеры и привязки имеют свойство `direction` в файле [function.json](./functions-reference.md):

- Для триггеров направление всегда входящее (`in`).
- Для входных и выходных привязок используется как входящее (`in`), так и исходящее (`out`) направление.
- Некоторые привязки поддерживают специальное направление `inout`. При использовании `inout`вкладки **Интеграция** на портале доступен только **Расширенный редактор** .

Если вы используете для настройки триггеров и привязок [атрибуты в библиотеке классов](functions-dotnet-class-library.md), направление задается в конструкторе атрибута или вычисляется по типу параметра.

## <a name="supported-bindings"></a>Поддерживаемые привязки

[!INCLUDE [Full bindings table](../../includes/functions-bindings.md)]

Сведения о том, какие привязки доступны в предварительной версии или утверждены для использования в рабочей среде, см. в статье [Поддерживаемые языки в решении "Функции Azure"](supported-languages.md).

## <a name="resources"></a>Ресурсы
- [Выражения привязки и шаблоны](./functions-bindings-expressions-patterns.md)
- [Использование возвращаемого значения функции Azure](./functions-bindings-return-value.md)
- [Как зарегистрировать выражение привязки](./functions-bindings-register.md)
- Проверочный.
  - [Методика тестирования кода с помощью Функций Azure](functions-test-a-function.md)
  - [Запуск функции, не активируемой HTTP-запросом, вручную](functions-manually-run-non-http.md)
- [Обработка ошибок привязки](./functions-bindings-errors.md)

## <a name="next-steps"></a>Следующие шаги
> [!div class="nextstepaction"]
> [Регистрация расширений привязки функций Azure](./functions-bindings-register.md)
