---
title: Триггеры и привязки в решении "Функции Azure"
description: Научитесь использовать триггеры и привязки для подключения функции Azure к онлайн-событиям и облачным службам.
author: craigshoemaker
ms.topic: reference
ms.date: 02/18/2019
ms.author: cshoe
ms.openlocfilehash: d41fd7f66ecef3a563345424d7dc4366e47d3f0e
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79276508"
---
# <a name="azure-functions-triggers-and-bindings-concepts"></a>Основные понятия триггеров и привязок в Функциях Azure

В этой статье вы узнаете, на высоком уровне концепции, окружающие функции триггеров и привязок.

Триггеры являются причиной запуска функции. Триггер определяет, как вызывается функция, и функция должна иметь ровно один триггер. С триггерами связаны данные, которые обычно являются полезными данными функции. 

Привязка к функции является способом декларативного подключения другого ресурса к функции; привязки могут быть соединены в качестве *входных привязок,* *выходных привязок или обоих.* Данные привязок предоставляются функции в качестве параметров.

Вы можете комбинировать и сопоставлять различные привязки в соответствии со своими потребностями. Привязки необязательны, а у функции может быть одна или несколько входных и выходных привязок.

Триггеры и привязки позволяют избежать жесткого кодирования доступа к другим службам. Функция получает нужные данные (например, содержимое сообщения из очереди) в виде параметров. Вы отправляете данные (например, для создания в очереди сообщения) с использованием возвращаемого значения функции. 

Рассмотрим следующие примеры того, как можно реализовать различные функции.

| Пример сценария | Триггер | Связывание входных вхоза | Выходная привязка |
|-------------|---------|---------------|----------------|
| Поступает новое сообщение очереди, которое запускает функцию для записи в другую очередь. | Очереди<sup>*</sup> | *Нет* | Очереди<sup>*</sup> |
|Запланированное задание читает содержимое хранилища Blob и создает новый документ Cosmos DB. | Таймер | Хранилище BLOB-объектов | Cosmos DB |
|Сетка событий используется для чтения изображения из Blob Storage и документа из Cosmos DB для отправки электронной почты. | Сетка событий Azure | Blob хранения и космос DB | SendGrid |
| Веб-крюк, который использует Microsoft Graph для обновления листа Excel. | HTTP | *Нет* | Microsoft Graph |

<sup>\*</sup>Представляет различные очереди

Эти примеры не должны быть исчерпывающими, но предоставляются, чтобы проиллюстрировать, как можно использовать триггеры и привязки вместе.

###  <a name="trigger-and-binding-definitions"></a>Триггерные и обязательные определения

Триггеры и привязки определяются по-разному в зависимости от подхода к разработке.

| Платформа | Триггеры и привязки настраиваются на... |
|-------------|--------------------------------------------|
| Библиотека классов C# | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;методы и параметры украшения с помощью атрибутов C |
| Все остальные (включая портал Azure) | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;обновление [function.json](./functions-reference.md) [(схема](http://json.schemastore.org/function)) |

Портал предоставляет ui для этой конфигурации, но вы можете отредкиировать файл непосредственно, открыв **Расширенный редактор,** доступный через вкладку **Integrate** вашей функции.

В .NET тип параметра определяет тип данных для входных данных. Например, `string` используйте для привязки к тексту триггера очереди, массива байт для чтения как двоичный и пользовательский тип для десеризанизации объекта.

В языках с динамическим типированием, таких как JavaScript, используйте свойство `dataType` в файле *function.json*. Например, задайте для `dataType` значение `binary`, чтобы прочитать содержимое HTTP-запроса в двоичном формате.

```json
{
    "dataType": "binary",
    "type": "httpTrigger",
    "name": "req",
    "direction": "in"
}
```

Другие варианты для `dataType` — `stream` и `string`.

## <a name="binding-direction"></a>Направление привязки

Все триггеры и привязки имеют свойство `direction` в файле [function.json](./functions-reference.md):

- Для триггеров направление всегда входящее (`in`).
- Для входных и выходных привязок используется как входящее (`in`), так и исходящее (`out`) направление.
- Некоторые привязки поддерживают специальное направление `inout`. Если вы `inout`используете, только **Расширенный редактор** доступен через вкладку **Integrate** на портале.

Если вы используете для настройки триггеров и привязок [атрибуты в библиотеке классов](functions-dotnet-class-library.md), направление задается в конструкторе атрибута или вычисляется по типу параметра.

## <a name="supported-bindings"></a>Поддерживаемые привязки

[!INCLUDE [Full bindings table](../../includes/functions-bindings.md)]

Сведения о том, какие привязки доступны в предварительной версии или утверждены для использования в рабочей среде, см. в статье [Поддерживаемые языки в решении "Функции Azure"](supported-languages.md).

## <a name="resources"></a>Ресурсы
- [Выражения привязки и шаблоны](./functions-bindings-expressions-patterns.md)
- [Использование значения возврата функции Azure](./functions-bindings-return-value.md)
- [Как зарегистрировать связывающее выражение](./functions-bindings-register.md)
- Проверочный.
  - [Методика тестирования кода с помощью Функций Azure](functions-test-a-function.md)
  - [Запуск функции, не активируемой HTTP-запросом, вручную](functions-manually-run-non-http.md)
- [Обработка ошибок привязки](./functions-bindings-errors.md)

## <a name="next-steps"></a>Дальнейшие действия
> [!div class="nextstepaction"]
> [Регистрация связывающих расширений функций Azure](./functions-bindings-register.md)
