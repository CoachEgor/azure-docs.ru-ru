---
title: Разработка функций Azure с помощью Visual Studio Code | Документация Майкрософт
description: Узнайте, как разрабатывать и тестировать функции Azure с помощью расширения функций Azure для Visual Studio Code.
services: functions
author: ggailey777
manager: jeconnoc
ms.service: azure-functions
ms.topic: conceptual
ms.date: 04/11/2019
ms.author: glenga
ms.openlocfilehash: 17550e148ea61eb69a20fc6a3215dfb63b65f18e
ms.sourcegitcommit: f56b267b11f23ac8f6284bb662b38c7a8336e99b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/28/2019
ms.locfileid: "67452700"
---
# <a name="develop-azure-functions-using-visual-studio-code"></a>Разработка функций Azure с помощью Visual Studio Code

[Расширение "Функции Azure" для Visual Studio Code] позволяет локально разрабатывать и развертывать функции в Azure. Если вы впервые сталкиваетесь с функциями Azure, дополнительные сведения см. в статье [Общие сведения о Функциях Azure](functions-overview.md).

Расширение функций Azure предоставляет следующие преимущества: 

* Создание, редактирование и выполнение функций на локальном компьютере для разработки. 
* Публикация проектов Функций Azure непосредственно в Azure. 
* Запись функций на различных языках, сохраняя при этом все преимущества Visual Studio Code. 

Расширение может использоваться со следующими языками, поддерживаемые средой выполнения функций Azure версии 2.x: 

* [C#компиляции](functions-dotnet-class-library.md) 
* [C#сценарий](functions-reference-csharp.md)<sup>*</sup>
* [JavaScript](functions-reference-node.md)
* [Java](functions-reference-java.md)
* [PowerShell](functions-reference-powershell.md)
* [Python](functions-reference-python.md)

<sup>*</sup>Требует, [задать C# скрипт как язык проекта по умолчанию](#c-script-projects).

В этой статье примерах сейчас доступны только для JavaScript (Node.js) и C# класса функции библиотеки.  

Эта статья содержит сведения о том, как использовать расширение функций Azure для разработки функций и их публикации в Azure. Перед прочтением этой статьи, необходимо выполнить [Создание первой функции с помощью Visual Studio Code](functions-create-first-function-vs-code.md).

> [!IMPORTANT]
> Не объединяйте локальную разработку и разработку с помощью портала разработки в одном приложении-функции. При публикации из локального проекта в приложение-функцию любые функции, разработанные на портале, будут перезаписаны в процессе развертывания.

## <a name="prerequisites"></a>Технические условия

Прежде чем устанавливать и запускать [расширение функций Azure][расширение "функции azure" для visual studio code], должен соответствовать следующим требованиям:

* [Visual Studio Code](https://code.visualstudio.com/) установлены на одном из [поддерживаемые платформы](https://code.visualstudio.com/docs/supporting/requirements#_platforms).

* Активная подписка Azure.

[!INCLUDE [quickstarts-free-trial-note](../../includes/quickstarts-free-trial-note.md)]

Другие ресурсы, которые используются, например учетной записи хранения Azure создаются в вашей подписке при вы [публикация с использованием Visual Studio Code](#publish-to-azure).

> [!IMPORTANT]
> Можно разрабатывать функции в локальной среде и опубликовать в Azure без необходимости запуска и выполнения их локально. Существуют дополнительные требования для вашей работы локального запуска, включая автоматическую загрузку основных инструментов функций Azure. Дополнительные сведения см. в разделе [Дополнительные требования для локального запуска](#additional-requirements-to-run-locally). 

[!INCLUDE [functions-install-vs-code-extension](../../includes/functions-install-vs-code-extension.md)]

## <a name="create-an-azure-functions-project"></a>Создание проекта Функций Azure

Расширение функций позволяет создавать проекта приложения-функции, а также первой функции. Ниже показано, как создать функции, активируемой HTTP в новом проекте функции. [Триггер HTTP](functions-bindings-http-webhook.md) — это самый простой шаблон функции триггера для демонстрации.

1. Выберите **Azure: Functions** (Azure: Функции) и щелкните значок Create Function (Создать функцию).

    ![Создание функции](./media/functions-develop-vs-code/create-function.png)

1. Выберите папку для проекта приложения-функции, а затем **выбрать язык для проекта функция**. 

1. Выберите **триггер HTTP** шаблон функции, или вы можете **пропустить** Создание проекта без функции. Вы всегда можете [добавить функцию в проект](#add-a-function-to-your-project) позже. 

    ![Выбор шаблона функции, активируемой HTTP-запросом](./media/functions-develop-vs-code/create-function-choose-template.png)

1. Тип `HTTPTrigger` имя функции и нажмите клавишу ВВОД, затем выберите **функция** авторизации. Этот уровень авторизации необходимо указать [функциональную клавишу](functions-bindings-http-webhook.md#authorization-keys) при вызове функции конечной точки.

    ![Выберите функцию проверки подлинности](./media/functions-develop-vs-code/create-function-auth.png)

    С помощью шаблона функции, активируемой HTTP-запросом, будет создана функция на выбранном вами языке.

    ![Шаблон функции, активируемой HTTP-запросом, в Visual Studio Code](./media/functions-develop-vs-code/new-function-full.png)

Шаблон проекта создает проект в выбранном вами языке, устанавливает необходимые зависимости. Для любого языка и новый проект содержит следующие файлы:

* **host.json**: позволяет настроить узел функций. Эти параметры применяются как в локальном режиме, так и в Azure. Дополнительные сведения см. в [справочной статье о host.json](functions-host-json.md).

* **local.settings.json**: содержит параметры, используемые при выполнении функций локально. Эти параметры используются только в том случае, при локальном запуске. Дополнительные сведения см. в разделе [файл с локальными параметрами](#local-settings-file).

    >[!IMPORTANT]
    >Так как файл local.settings.json может содержать секреты, вы должны исключить его из системы управления версиями проекта.

На этом этапе можно добавить входные данные и выходные привязки к вашей функции [изменения файла function.json](#javascript-2), или с помощью [Добавление параметра к C# класса функции библиотеки](#c-class-library-2).

Вы также можете [добавьте в проект новую функцию](#add-a-function-to-your-project).

## <a name="install-binding-extensions"></a>Установка расширений привязки

За исключением триггеров HTTP и таймера привязок, реализуются в пакеты расширений. Необходимо установить пакеты расширений для триггеров и привязок, в которых они требуются. Способ установки расширений привязки зависит от языка проекта.

### <a name="javascript"></a>JavaScript

[!INCLUDE [functions-extension-bundles](../../includes/functions-extension-bundles.md)]

### <a name="c-class-library"></a>C\# библиотеки классов

Запустите [dotnet добавьте пакет](/dotnet/core/tools/dotnet-add-package) команду в окне терминала, чтобы установить необходимые расширения для работы пакеты в проекте. В следующем примере устанавливаются расширения хранилища Azure, которое реализует привязки для хранилища BLOB-объектов, очередей и таблиц.

```bash
dotnet add package Microsoft.Azure.WebJobs.Extensions.Storage --version 3.0.4
```

## <a name="add-a-function-to-your-project"></a>Добавление функции в проект

Можно добавить новую функцию в существующий проект с помощью одного из предопределенных шаблонов функций триггера. Чтобы добавить новый триггер функцию, нажмите клавишу F1, чтобы открыть палитру команд, а затем найдите и выполните команду **функций Azure: Создайте функцию...** . Следуйте инструкциям на экране выберите тип триггера и определить необходимые атрибуты триггера. Если триггер требует доступа ключ или строки подключения для подключения к службе, подготовьте его перед созданием функции триггера. 

Результаты этой операции зависят от языка проекта:

### <a name="javascript"></a>JavaScript

Новая папка создается в проекте, который содержит новый файл function.json и новый файл кода JavaScript.

### <a name="c-class-library"></a>C\# библиотеки классов

Новый C# файл библиотеки (.cs) класса добавляется в проект.

## <a name="add-input-and-output-bindings"></a>Добавление входных и выходных привязок

Функции можно расширить, добавив входных и выходных привязок. Способ сделать это зависит от языка проекта. Дополнительные сведения о привязках см. в разделе [триггеры функций Azure и основные понятия привязки](functions-triggers-bindings.md). 

Следующие примеры подключения к очереди хранилища с именем `outqueue`, где задается строка подключения для учетной записи хранения, в `MyStorageConnection` параметр приложения в файле local.settings.json. 

### <a name="javascript"></a>JavaScript

Visual Studio Code позволяет добавить привязки в файле function.json, следуя удобный набор запросов. Для создания привязки, щелкните правой кнопкой мыши (Ctrl + щелчок в macOS) `function.json` файл в папку функции и выберите **добавить привязку...** . 

![Добавить привязку в имеющуюся функцию JavaScript ](media/functions-develop-vs-code/function-add-binding.png)

Ниже приведены пример запросы для определения новой выходная привязка хранилища:

| Запрос | Значение | Описание |
| -------- | ----- | ----------- |
| **Выберите направление привязки** | `out` | Привязка является выходной привязкой. |
| **Выберите привязку с направлением...** | `Azure Queue Storage` | Привязка является привязкой очереди службы хранилища Azure. |
| **Имя, используемое для идентификации этой привязки в коде** | `msg` | Имя, которое используется для идентификации параметров привязки, указанных в коде. |
| **Очереди, на который будут отправляться сообщения** | `outqueue` | Имя очереди, в которой записывается привязка. Если *queueName* не существует, то при первом использовании этот параметр будет создан привязкой. |
| **Выберите параметр из «local.setting.json»** | `MyStorageConnection` | Имя параметра приложения, содержащего строку подключения для учетной записи хранения. Параметр `AzureWebJobsStorage` содержит строку подключения учетной записи хранения, созданной в приложении-функции. |

В этом примере добавляется следующей привязки `bindings` массива в файле function.json:

```javascript
{
    "type": "queue",
    "direction": "out",
    "name": "msg",
    "queueName": "outqueue",
    "connection": "MyStorageConnection"
}
```

Можно также добавить одно и то же определение привязки непосредственно в файле function.json.

В коде функции `msg` привязка осуществляется из `context`, как показано в следующем примере:

```javascript
context.bindings.msg = "Name passed to the function: " req.query.name;
```

Дополнительные сведения см. в разделе [выходная привязка хранилища очередей](functions-bindings-storage-queue.md#output---javascript-example) ссылки.

### <a name="c-class-library"></a>C\# библиотеки классов

Обновите метод функции, чтобы добавить следующий параметр, чтобы `Run` определение метода:

```cs
[Queue("outqueue"),StorageAccount("MyStorageConnection")] ICollector<string> msg
```

Этот код необходимо добавить следующие `using` инструкции:

```cs
using Microsoft.Azure.WebJobs.Extensions.Storage;
```

`msg` Параметр `ICollector<T>` тип, который представляет коллекцию сообщений, записываемых в выходном связывание, если функция завершается. Вы добавить одно или несколько сообщений в коллекцию, которые отправляются в очередь после завершения функции.

Дополнительные сведения см. в разделе [выходная привязка хранилища очередей](functions-bindings-storage-queue.md#output---c-example) ссылки.

[!INCLUDE [Supported triggers and bindings](../../includes/functions-bindings.md)]

## <a name="publish-to-azure"></a>Публикация в Azure

Visual Studio Code позволяет опубликовать проект функций непосредственно в Azure. При этом вы создаете приложение-функцию и связанные ресурсы в своей подписке Azure. Приложение-функция обеспечивает контекст выполнения функций. Проект упаковывается и развертывается в новом приложении-функции в вашей подписке Azure.

При публикации из Visual Studio Code, один из двух методов развертывания используются:

* [ZIP-развертывание с помощью выполнения-с-пакет включен](functions-deployment-technologies.md#zip-deploy): используется для большинства развертываний "функции Azure".
* [URL-адрес внешнего пакета](functions-deployment-technologies.md#external-package-url): используется для развертывания приложений Linux на [план потребления](functions-scale.md#consumption-plan).

### <a name="quick-function-app-creation"></a>Функция быстрого создания приложения

По умолчанию Visual Studio Code автоматически создает значения для Azure ресурсы, необходимые для приложения-функции. Эти значения основаны на выбранной название приложения-функции. Пример использования значения по умолчанию для публикации проекта в приложение-функцию в Azure, см. в разделе [краткое руководство по Visual Studio Code](functions-create-first-function-vs-code.md#publish-the-project-to-azure).

Если вы хотите предоставить явные имена созданных ресурсов, необходимо включить публикации с использованием дополнительных параметров.

### <a name="enabled-publishing-with-advanced-create-options"></a>Параметры создания включена публикация с расширенной

Позволяют контролировать параметры, связанных с создания функции Azure приложения, обновить расширение "функции Azure", чтобы включить дополнительные параметры.

1. Нажмите кнопку **файл > Параметры > Параметры**

1. Перемещаться по **параметры пользователя > расширения > функции Azure**

1. Установите флажок для **функции Azure: Создание дополнительных**

### <a name="publish-to-a-new-function-app-in-azure-with-advanced-creation"></a>Публикация в приложение-функцию в Azure с помощью создания дополнительных

Следующие шаги опубликовать проект в приложение-функцию, созданные с использованием дополнительных параметры создания.

1. В области **Azure: Functions** (Azure: Функции) щелкните значок Deploy to Function App (Развернуть в приложение-функцию).

    ![Параметры приложения-функции](./media/functions-develop-vs-code/function-app-publish-project.png)

1. Если вы не вошли в систему, вам будет предложено **Войти в Azure**. Вы также можете выбрать **Создать бесплатную учетную запись Azure**. После успешного входа из браузера вернитесь в Visual Studio Code.

1. Если у вас несколько подписок, щелкните **Выберите подписку** для приложения-функции, затем выберите **+ Создать новое приложение-функцию в Azure**.

1. Следуя инструкциям укажите следующие сведения:

    | Запрос | Значение | Описание |
    | ------ | ----- | ----------- |
    | Выбор приложения-функции в Azure | + Создать новое приложение-функцию в Azure | В следующей командной строке введите глобальное уникальное имя, определяющее новое приложение-функцию и нажмите клавишу ВВОД. Допустимые символы для имени приложения-функции: `a-z`, `0-9` и `-`. |
    | Выберите операционную Систему | Windows | Функция приложение запускается в Windows |
    | Выберите план размещения | План потребления | Бессерверные [размещение в плане потребления](functions-scale.md#consumption-plan) используется. |
    | Выберите среду выполнения для нового приложения | Языка проекта | Среда выполнения должны совпадать, при публикации проекта. |
    | Выберите группу ресурсов для новых ресурсов | Создать новую группу ресурсов | В следующей командной строке введите имя группы ресурсов, например `myResourceGroup`, и нажмите клавишу ВВОД. Кроме того, можно выбрать существующую группу ресурсов. |
    | Выберите учетную запись хранения | Создание учетной записи хранения | В следующей командной строке введите глобальное уникальное имя новой учетной записи хранения используется приложение-функцию и нажмите клавишу ВВОД. Имя учетной записи хранения должно содержать от 3 до 24 символов и состоять только из цифр и строчных букв. Кроме того, можно выбрать существующую учетную запись. |
    | Выберите расположение для новых ресурсов | область | Выберите расположение в ближайшем к вам [регионе](https://azure.microsoft.com/regions/) или регионе, ближайшем к другим службам, к которым обращаются ваши функции. |

    После создания приложения-функции и применения пакета развертывания отобразится уведомление. Выберите **View Output** (Просмотреть выходные данные) в уведомлении, чтобы просмотреть результаты создания и развертывания ресурсов Azure.

## <a name="republish-project-files"></a>Повторно опубликуйте файлы проекта

При настройке [непрерывное развертывание](functions-continuous-deployment.md), приложения-функции в Azure, обновляется при каждом обновлении исходных файлов в расположение подключенного источника. Хотя мы советуем этот практику разработки, можно также повторно опубликовать обновления файла проекта из Visual Studio Code. 

> [!IMPORTANT]
> Публикация в существующее приложение-функцию перезаписывает содержимое этого приложения в Azure.

1. В Visual Studio Code нажмите клавишу F1, чтобы открыть палитру команд. В палитре команд, найдите и выберите `Azure Functions: Deploy to function app...`.

1. Если вы не вошли в систему, вам будет предложено **Войти в Azure**. После успешного входа из браузера вернитесь в Visual Studio Code. Если у вас несколько подписок, **выберите подписку** , содержащий приложение-функцию.

1. Выберите существующие приложения-функции в Azure. Когда предупреждение о перезаписи всех файлов в приложении-функции, выберите **развернуть** принять такое предупреждение и продолжить. 

Проект перестроен, упаковать и передать в Azure. Существующий проект заменяется на новый пакет, и приложение-функция перезапускается.

## <a name="get-deployed-function-url"></a>Получить URL-адрес развернутого функции

Чтобы иметь возможность вызывать функции, активируемой HTTP, требуется URL-адрес функции при развертывании приложения-функции. Этот URL-адрес включает в себя все необходимые [ключи функций](functions-bindings-http-webhook.md#authorization-keys). Чтобы получить эти URL-адреса для ваших развернутых функций можно использовать модуль.

1. ключ нажмите клавишу F1, чтобы открыть палитру команд, а затем найдите и выполните команду **функций Azure: Скопируйте URL-адрес функции**.

1. Следуйте инструкциям на экране, чтобы выбрать приложение-функцию в Azure, а затем конкретного триггера HTTP, который необходимо вызвать. 

URL-адрес копируется в буфер обмена, а также любые необходимые ключи, переданным с помощью функции `code` параметр запроса. Используйте средство HTTP для отправки запросов POST или браузер для запросов GET в функцию удаленной.  

## <a name="run-functions-locally"></a>Запуск функций в локальной среде

Расширение функций Azure позволяет запускать проекты функций на локальном компьютере разработчика. Локальная среда выполнения та же среда выполнения, на котором размещается приложение-функцию в Azure. Локальные параметры считываются из [файл local.settings.json](#local-settings-file).

### <a name="additional-requirements-to-run-locally"></a>Дополнительные требования для локального запуска

Чтобы иметь возможность выполнять функции проекта локально, необходимо также выполнить следующие дополнительные требования:

* Установите [Основные инструменты Функции Azure](functions-run-local.md#v2) версии 2.x. Пакет основных инструментов будет загружено и установлено для вашей автоматически при запуске проект локально. Основные инструменты включают всей среды выполнения функций Azure, поэтому загрузка и установка может занять некоторое время.

* Установите необходимые дополнительные средства для выбранного языка:

    | Язык | Требование |
    | -------- | --------- |
    | **C#** | [расширение C#](https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp);<br/>[Средства .NET core CLI](https://docs.microsoft.com/dotnet/core/tools/?tabs=netcore2x)   |
    | **Java** | [Отладчик для расширения Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-debug)<br/>[Java 8](https://aka.ms/azure-jdks);<br/>[Maven 3+](https://maven.apache.org/) |
    | **JavaScript** | [Node.js](https://nodejs.org/)<sup>*</sup> |  
    | **Python** | [расширение Python](https://marketplace.visualstudio.com/items?itemName=ms-python.python);<br/>[Python 3.6 +](https://www.python.org/downloads/)|

    <sup>*</sup>Активные LTS и обслуживания LTS версии (8.11.1 и 10.14.1 рекомендуется).

### <a name="configure-the-project-to-run-locally"></a>Настройка проекта для локального запуска

Среда выполнения функций внутренним образом использует учетную запись хранилища Azure для всех типов триггеров, отличных от HTTP и веб-перехватчики. Это означает, что необходимо установить **Values.AzureWebJobsStorage** ключа допустимую строку подключения учетной записи хранилища Azure.

В этом разделе используется [расширение службы хранилища Azure для Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestorage) с [Microsoft Azure Storage Explorer](https://storageexplorer.com/) Чтобы подключиться и получить строку подключения к хранилищу.   

Чтобы задать строку подключения к учетной записи хранения, выполните следующие действия:

1. В Visual Studio откройте **Cloud Explorer**, разверните узел **Учетная запись хранения** > **Ваша учетная запись хранения**, а затем выберите **Свойства** и скопируйте значение параметра **Основная строка подключения**.

2. В своем проекте откройте файл local.settings.json и задайте в качестве значения ключа **AzureWebJobsStorage** скопированную вами строку подключения.

3. Повторите предыдущий шаг, чтобы добавить уникальные ключи в массив **Values** для всех других подключений, которые необходимы для функций.

Дополнительные сведения см. в разделе [файл с локальными параметрами](#local-settings-file).

### <a name="debugging-functions-locally"></a>Отладка функции в локальной среде  

Отладка функций, нажмите клавишу F5. Если вы еще не загрузили [основных инструментов][основные инструменты службы "функции azure"], вам будет предложено сделать это. Когда основные инструменты устанавливается и работает, выходные данные показаны в окне терминала. Это то же самое, как запущенные `func host start` основных инструментов команды из терминала, но с дополнительными создавать задачи и присоединенного отладчика.  

Когда проект запущен вы можете активировать функции, как это делается при развертывании в Azure. При работе в режиме отладки, точки останова срабатывают в Visual Studio Code, как ожидалось.

URL-АДРЕСЕ запроса для триггеров HTTP, отображается в выходных данных в окне терминала. Функциональные клавиши для триггеров HTTP не используются при локальном запуске. Дополнительные сведения см. в статье [Методика тестирования кода с помощью Функций Azure](functions-test-a-function.md).  

Дополнительные сведения см. в разделе [работать с основных инструментов функций Azure][основные инструменты службы "функции azure"].

[!INCLUDE [functions-local-settings-file](../../includes/functions-local-settings-file.md)]

По умолчанию эти параметры не переносятся автоматически при публикации проекта в Azure. После завершения публикации, вам предоставляется возможность публикации параметров с local.settings.json приложения-функции в Azure. Дополнительные сведения см. в разделе [приложения параметры публикации](#publish-application-settings).

Значения **ConnectionStrings** никогда не публикуются.

Значения параметров приложения функции также могут считываться в коде как переменные среды. Дополнительные сведения см. раздел переменных среды из следующих статей Справочник по языку:

* [Предкомпилированный код C#](functions-dotnet-class-library.md#environment-variables)
* [Скрипт C# (CSX)](functions-reference-csharp.md#environment-variables)
* [Java](functions-reference-java.md#environment-variables)
* [JavaScript](functions-reference-node.md#environment-variables)

## <a name="application-settings-in-azure"></a>Параметры приложения в Azure

Параметры в файле local.settings.json в проекте должен быть таким же, как параметры приложения в приложении-функции в Azure. Все параметры, добавляемые в файл local.settings.json необходимо также добавить к приложению-функции в Azure. Эти параметры не передаются автоматически при публикации проекта. Аналогичным образом, все параметры, которые можно создать в приложении-функции [на портале](functions-how-to-use-azure-function-app-settings.md#settings) должен загружаться в локальном проекте.

### <a name="publish-application-settings"></a>Опубликовать параметры приложения

Самый простой способ публикации необходимых параметров для приложения-функции в Azure является использование **параметры отправки** ссылки, отображаемой после успешной публикации проекта.

![Развертывание завершено передачи параметров приложения](./media/functions-develop-vs-code/upload-app-settings.png)

Параметры также можно опубликовать с помощью `Azure Functions: Upload Local Setting` команду в палитре команд. Отдельные параметры добавляются к параметрам приложения в Azure с помощью `Azure Functions: Add New Setting...` команды. 

> [!TIP]
> Не забудьте сохранить файл local.settings.json, перед его публикацией.

Если локальный файл зашифрован, он расшифровывается, публикации и снова зашифровываются. Если параметры существует с другими значениями в обоих расположениях, вам будет предложено выбрать дальнейшие действия.

Просмотреть существующие параметры приложений в **Azure: Функции** область, развернув подписке приложения-функции и **параметры приложения**.

![Вид параметра функции-приложения в Visual Studio Code](./media/functions-develop-vs-code/view-app-settings.png)

### <a name="download-settings-from-azure"></a>Загрузить параметры из Azure

Если вы создали параметры приложения в Azure, вы можете загрузить их в файл local.settings.json. с помощью `Azure Functions: Download Remote Settings...` команды. 

Как и для передачи данных, если локальный файл зашифрован, он расшифровывается, обновить и снова зашифровываются. Если параметры существует с другими значениями в обоих расположениях, вам будет предложено выбрать дальнейшие действия.

## <a name="monitoring-functions"></a>Мониторинг функций

Когда вы [локального запуска](#run-functions-locally), потоковую передачу данных журнала в консоль терминала. Можно также получить данные журнала при проекта функций в приложение-функцию в Azure. Вы либо подключиться к потоковой передачи журналов в Azure, чтобы просмотреть данные журнала практически в реальном времени, или вы можете включить Application Insights для более полное представление о том, как работает приложение-функцию.

### <a name="streaming-logs"></a>Журналы потоковой передачи.

При разработке приложения удобно видеть сведения о ведении журнала практически в режиме реального времени. Вы можете просмотреть поток журналов, создаваемых вашей функции. Следующие выходные данные — функция, активируемая пример потоковой передачи журналов для запроса на запрос HTTP:

![Потоковая передача журналов в выходных данных для триггера HTTP](media/functions-develop-vs-code/streaming-logs-vscode-console.png) 

Дополнительные сведения см. в разделе [журналов потоковой передачи](functions-monitoring.md#streaming-logs). 

[!INCLUDE [functions-enable-log-stream-vs-code](../../includes/functions-enable-log-stream-vs-code.md)]

> [!NOTE]
> Журналы потоковой передачи поддерживает только один экземпляр узла функций. Когда функция масштабируется до нескольких экземпляров, данных от других экземпляров не отображаются в потоке журнала. [Live Stream метрики](../azure-monitor/app/live-stream.md) в Application Insights поддерживается несколько экземпляров. А также в режиме реального времени, потоковую аналитику также основаны на [данные выборки](functions-monitoring.md#configure-sampling).

### <a name="application-insights"></a>Application Insights

Рекомендуемый способ наблюдения за выполнением этой функции — интеграция приложения-функции в Azure Application Insights. При создании приложения-функции на портале Azure эта интеграция выполняется по умолчанию. Тем не менее при создании приложения-функции во время публикации в Visual Studio интеграция в приложении-функции в Azure не происходит.

[!INCLUDE [functions-connect-new-app-insights.md](../../includes/functions-connect-new-app-insights.md)]

Дополнительные сведения см. в статье [Мониторинг Функций Azure](functions-monitoring.md).

## <a name="c-script-projects"></a>C\# проекты скриптов

По умолчанию все C# проекты создаются как [ C# скомпилированные библиотеки классов](functions-dotnet-class-library.md). При желании вместо этого для работы с C# проекты скриптов, необходимо выбрать C# скрипт в качестве языка по умолчанию в параметрах расширения функций Azure.

1. Нажмите кнопку **файл > Параметры > Параметры**.

1. Перемещаться по **параметры пользователя > расширения > функции Azure**.

1. Выберите **C #Script** из **функции Azure: Язык проекта**.

На этом этапе вызовы к базовой основные инструменты включают `--csx` параметр, который создает и публикует C# (.csx) проекта файлы скриптов. Язык по умолчанию, который указывается, все созданные проекты по умолчанию C# проекты скриптов. Не будет предложено выбрать язык проекта, если имеет значение по умолчанию. Чтобы создать другие проекты на таких языках, необходимо изменить этот параметр или удалите его из файла settings.json пользователя. После удаления этого параметра, снова будет предложено Выбор языка при создании проекта.

## <a name="command-palette-reference"></a>Справочник по командам палитры

Расширение функций Azure предоставляет полезные графический интерфейс в области Azure для взаимодействия с приложения-функции в Azure. Те же функциональные возможности также доступны в виде команд в палитре команд (F1). Доступны следующие команды Azure на конкретной функции.

|Команда функций Azure  | Описание  |
|---------|---------|
|**Добавьте новые параметры...**  |  Создает новый параметр приложения в Azure. Дополнительные сведения см. в разделе [приложения параметры публикации](#publish-application-settings). Может также потребоваться [загрузить этот параметр на локальные параметры](#download-settings-from-azure). |
| **Настройка источника развертывания...** | Подключение приложения-функции в Azure локальный репозиторий Git. Дополнительные сведения см. в разделе [непрерывное развертывание для функций Azure](functions-continuous-deployment.md). |
| **Подключение к репозиторию GitHub...** | Подключите свое приложение-функцию с репозиторием GitHub. |
| **Скопируйте URL-адрес функции** | Получает URL-адрес HTTP для удаленного запуска функции, выполняемой в Azure. Дополнительные сведения см. в разделе Практическое [получить URL-адрес развернутого функции](#get-deployed-function-url). |
| **Создание приложения-функции в Azure...** | Создает приложение-функцию в вашей подписке в Azure. Дополнительные сведения см. в разделе Практическое [публикации в приложение-функцию в Azure](#publish-to-azure).        |
| **Расшифровать параметры** | Использовать для расшифровки [локальные параметры](#local-settings-file) , были зашифрованы с помощью `Azure Functions: Encrypt Settings`.  |
| **Удаление приложения-функции...** | Удаляет существующее приложение-функцию в своей подписке на Azure. Если никакие другие приложения в плане службы приложений, ей предоставляется возможность удалить, слишком. Другие ресурсы, такие как учетные записи хранения и групп ресурсов, не будут удалены. Чтобы удалить все ресурсы, следует вместо этого [удалить группу ресурсов](functions-add-output-binding-storage-queue-vs-code.md#clean-up-resources). Локальный проект не влияет. |
|**Удалите функцию...**  | Удаляет существующую функцию из приложения-функции в Azure. Так как это не влияет на локальном проекте, вместо этого рекомендуется удалить функцию локально и затем [повторная публикация проекта](#republish-project-files). |
| **Удалите прокси-сервера...** | Удаляет прокси-класса функции Azure из приложения-функции в Azure. Дополнительные сведения о прокси-серверов, см. в разделе [работы с прокси функций Azure](functions-proxies.md). |
| **Удалите параметр...** | Удаляет функции параметр приложения в Azure. Не влияет на параметры в файле local.settings.json. |
| **Отключите из репозитория...**  | Удалить [непрерывное развертывание](functions-continuous-deployment.md) соединения приложения-функции в Azure и репозиторием системы управления версиями. |
| **Загрузите параметры удаленного доступа...** | Загружает параметры из выбранной функции приложения в Azure в файле local.settings.json. Если локальный файл зашифрован, он расшифровывается, обновить и снова зашифровываются. Если параметры существует с другими значениями в обоих расположениях, вам будет предложено выбрать дальнейшие действия. Убедитесь, что перед выполнением этой команды вы сохранили изменения в файл local.settings.json. |
| **Измените параметры...** | Изменяет значение существующего параметра функции приложения в Azure. Не влияет на параметры в файле local.settings.json.  |
| **Шифрования параметров** | Шифрует отдельные элементы в `Values` массива в [локальные параметры](#local-settings-file). В этом файле `IsEncrypted` задается значение `true`, которое сообщает локальная среда выполнения для расшифровки параметров перед их использованием. Шифрование локальные параметры, чтобы снизить риск утечки ценную информацию. В Azure приложение, которое всегда хранятся параметры шифрования. |
| **Теперь выполните функцию** | Запускает [функции, активируемой таймера](functions-bindings-timer.md) в Azure вручную для целей тестирования. Дополнительные сведения об активации функций отличные от HTTP в Azure, см. в разделе [вручную запустить функцию без триггера HTTP](functions-manually-run-non-http.md). |
| **Инициализация проекта для использования с Visual STUDIO Code...** | Добавляет необходимые файлы проекта Visual Studio Code в существующий проект функции. Эта команда используется для работы с проектом, созданный с помощью основных инструментов. |
| **Установка основных инструментов функций Azure обновления** | Устанавливает или обновляет [Основные инструменты службы "Функции Azure"] , которые используются для локального запуска. |
| **Повторное развертывание**  | Позволяет повторное развертывание файлов проекта из подключенных репозитория Git для конкретного развертывания в Azure. Чтобы повторно опубликовать локальные обновления из Visual Studio Code, [повторно опубликуйте проект](#republish-project-files). |
| **Переименуйте параметры...** | Изменяет имя ключа существующего параметра функции приложения в Azure. Не влияет на параметры в файле local.settings.json. После переименования параметры в Azure, вы должны [загружать эти изменения локальный проект](#download-settings-from-azure). |
| **Перезапустите** | Перезапуск приложения-функции в Azure. Также развертывание обновлений перезапущено приложение-функция. |
| **Задать AzureWebJobStorage...**| Задает значение `AzureWebJobStorage` параметр приложения. Этот параметр необходим для функций Azure и задается при создании приложения-функции в Azure. |
| **Начало** | Запускает приложение-функция, остановленное в Azure. | 
| **Запустить потоковую передачу журналов** | Запускает потоковая передача журналов для приложения-функции в Azure. Используйте журналы потоковой передачи во время удаленного устранения неполадок в Azure, если вам нужно просматривать эту информацию в близком к реальному времени. Дополнительные сведения см. в разделе [журналов потоковой передачи](#streaming-logs). |
| **Остановить** | Завершает списка запущенных в Azure приложения-функции. |
| **Остановить потоковую передачу журналов** | Останавливает потоковая передача журналов для приложения-функции в Azure. |
| **Переключить как параметр слота** | Если этот параметр включен, гарантирует, что параметр приложения сохраняется заданный слот развертывания. |
| **Удаление основных инструментов функций Azure** | Удаляет основных инструментов функций Azure, который необходим модуль. |
| **Отправьте локальные параметры...** | Передает параметры из файла local.settings.json в приложение выбранной функции в Azure. Если локальный файл зашифрован, он расшифровывается, отправляется и снова зашифровываются. Если параметры существует с другими значениями в обоих расположениях, вам будет предложено выбрать дальнейшие действия. Убедитесь, что перед выполнением этой команды вы сохранили изменения в файл local.settings.json. |
| **Просмотр фиксации в GitHub** | Показывает самой последней фиксацией в определенном развертывании при подключении приложения-функции в репозиторий. |
| **Просмотр журналов развертывания** | Отображаются журналы для конкретного развертывания приложение-функцию Azure. |

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения об основных инструментах Функций Azure см. в статье [Как программировать и тестировать функции Azure в локальной среде](functions-run-local.md).

Дополнительные сведения о разработке функций, таких как библиотеки класса .NET, см. в статье [Справочник разработчика C# по функциям Azure](functions-dotnet-class-library.md). Здесь также приведены примеры того, как использовать атрибуты для объявления разных типов привязок, поддерживаемых в службе "Функции Azure".    

[Расширение "Функции Azure" для Visual Studio Code]: https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurefunctions
[Основные инструменты службы "Функции Azure"]: functions-run-local.md