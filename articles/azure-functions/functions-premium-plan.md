---
title: План "премиум" функции Azure (Предварительная версия) | Документация Майкрософт
description: Планирование сведения и параметры конфигурации (виртуальной сети, не холодного запуска, длительность выполнения неограниченное) для функций Azure категории "премиум".
services: functions
author: jeffhollan
manager: jeconnoc
ms.assetid: ''
ms.service: azure-functions
ms.devlang: multiple
ms.topic: conceptual
ms.date: 4/11/2019
ms.author: jehollan
ms.openlocfilehash: de1915c7efb4bd8634228f341df2c57c443dd28e
ms.sourcegitcommit: 509e1583c3a3dde34c8090d2149d255cb92fe991
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/27/2019
ms.locfileid: "66242307"
---
# <a name="azure-functions-premium-plan-preview"></a>План "премиум" функции Azure (Предварительная версия)

План "премиум" функции Azure — это вариант размещения для приложения-функции. План "премиум" обеспечивает функции, такие как подключения к виртуальной сети, не холодного запуска и оборудования для уровня "премиум".  Несколько приложений-функций, которые могут развертываться на один и тот же план "премиум" и план можно настроить размер вычислительной операции, размер базовый план и план максимальный размер.  Сравнение план "премиум" и другой план и размещения типов, см. в разделе [функции масштабирования и варианты размещения](functions-scale.md).

> [!NOTE]
> Предварительная версия плана "премиум" поддерживает функций, выполняемых в .NET, Java или узел через инфраструктуру Windows.

## <a name="create-a-premium-plan"></a>Создать план "премиум"

[!INCLUDE [functions-premium-create](../../includes/functions-premium-create.md)]

Можно также создать план "премиум" с помощью Azure CLI

```azurecli-interactive
az functionapp plan create -g <resource-group> -n <plan-name> -l <region> --number-of-workers 1 --sku EP1
```

## <a name="features"></a>Функции

Следующие функции доступны для функции приложения, развернутые на план "премиум".

### <a name="pre-warmed-instances"></a>Предварительно подготовлены экземпляров

В случае нет события и выполнений сегодня в рамках плана потребления приложение может уменьшить ноль экземпляров. Когда поступают новые события, новый экземпляр должен быть специализированным с вашим приложением, в ней выполняются.  Специализирующем новых экземпляров может занять некоторое время в зависимости от приложения.  Это дополнительная задержка при первом вызове часто называется холодного запуска приложения.

В план "премиум" могут иметь приложения, предварительно подготовлены на указанное число экземпляров до размер вашего плана минимальное.  Предварительно подготовлены экземпляров также позволяют предварительно увеличение масштаба приложения перед высокой нагрузки. Приложение масштабируется, он сначала масштабируется в предварительно warmed экземпляры. Дополнительные экземпляры продолжают буфера out и "горячего" резервирования сразу в процессе подготовки к следующей операции масштабирования. Когда буфер предварительно как только экземпляры, можно избежать задержки холодного запуска.  Предварительно подготовлены экземпляров входит в состав план "премиум" и вам требуется поддерживать по крайней мере один экземпляр и на все время план активен.

Можно настроить количество экземпляров, предварительно подготовлены в Azure портал определяются выбранным вашей **приложения-функции**, попадают в **функции платформы** вкладке и выбрав **Scale Out**параметры. В окне редактора функции приложения, предварительно подготовлены экземпляров определенному приложению, но минимальное и максимальное число экземпляров применяются для всего плана.

![Параметры эластичного масштабирования](./media/functions-premium-plan/scale-out.png)

Можно также настроить экземпляры предварительно подготовлены для приложения с помощью Azure CLI

```azurecli-interactive
az resource update -g <resource_group> -n <function_app_name>/config/web --set properties.preWarmedInstanceCount=<desired_prewarmed_count> --resource-type Microsoft.Web/sites
```

### <a name="private-network-connectivity"></a>Подключения к частной сети

Функции Azure, развернутых в план уровня "премиум" использует преимущества [Новая интеграция виртуальной сети для веб-приложений](../app-service/web-sites-integrate-with-vnet.md#new-vnet-integration).  При настройке приложения можно взаимодействовать с ресурсами в виртуальной сети или защищено с помощью конечных точек службы.  Ограничения IP-адресов, также доступны в приложение, чтобы ограничить входящий трафик.

При назначении подсети в приложении-функции в плане "премиум", требуется подсеть с достаточно IP-адресов для каждого экземпляра потенциальных. На то, что максимальное количество экземпляров могут отличаться на этапе предварительной версии, мы требуем блок IP-адрес с по крайней мере 100 доступными адресами.

Дополнительные сведения см. в разделе [интегрировать свое приложение-функцию с виртуальной сетью](functions-create-vnet.md).

### <a name="rapid-elastic-scale"></a>Быстрое эластичного масштабирования

Приложения с помощью той же логике быстрого масштабирования плана потребления автоматически добавляются дополнительные вычислительные экземпляры.  Дополнительные сведения о принципах работы как масштабирования, см. в разделе [функции масштабирование и размещение](./functions-scale.md#how-the-consumption-and-premium-plans-work).

### <a name="unbounded-run-duration"></a>Не ограничено, длительность выполнения

Функции Azure в плане потребления ограничено до 10 минут для однократного выполнения.  В план "премиум" Длительность по умолчанию 30 минут, чтобы предотвратить неконтролируемый выполнений. Тем не менее, вы можете [изменить конфигурацию host.json](./functions-host-json.md#functiontimeout) сделать эту unbounded для приложения план "премиум".

В предварительной версии длительности работы не гарантируется, что за последние 12 минут и будет иметь шансы выполнения за 30 минут, если приложение не масштабируется сверх его количества минимальное рабочей роли.

## <a name="plan-and-sku-settings"></a>Параметры плана и номера SKU

При создании плана можно настроить два параметра: минимальное количество экземпляров (или размер плана) и ограничение максимального пакетов.  Минимальное число экземпляров для плана "премиум"-1, а максимальное повышение на этапе предварительной версии — 20.  Минимальное число экземпляров, зарезервированные и всегда работает.

> [!IMPORTANT]
> Плата за каждый экземпляр, выделенных в минимальное число экземпляров, независимо от того, если функции выполняются или нет.

Если вашему приложению требуется экземпляров, которыми размер вашего плана, он может продолжать горизонтальное масштабирование, пока число экземпляров достигает предела максимальное повышение.  Вам будут выставляться счета для экземпляров, которыми размер вашего плана, только пока они работают и арендованных вам.  Мы будем максимально эффективно собирает масштабируя ваше приложение, чтобы его заданного максимального лимита, в то время как экземпляры минимальное плана гарантируется для вашего приложения.

Можно настроить размер плана и максимальные значения на портале Azure, выбраны **Scale Out** в плане и развернутых этому плану для приложения-функции (в разделе **функции платформы**).

Можно также увеличить ограничение максимального пакетов с помощью Azure CLI:

```azurecli-interactive
az resource update -g <resource_group> -n <premium_plan_name> --set properties.maximumElasticWorkerCount=<desired_max_burst> --resource-type Microsoft.Web/serverfarms 
```

### <a name="available-instance-skus"></a>Доступному экземпляру номера SKU

При создании или масштабировании плана, можно выбрать три размера экземпляра.  Вам будет выставлен счет за общее число ядер и объем памяти, занятый в секунду.  Приложения можно автоматически масштабировать до нескольких экземпляров при необходимости.  

|SKU|Ядра|Память|Хранилище|
|--|--|--|--|
|EP1|1|3,5 ГБ|250 ГБ|
|EP2|2|7 ГБ|250 ГБ|
|EP3|4.|14 ГБ|250 ГБ|

## <a name="regions"></a>регионы

Ниже приведены поддерживаемые в настоящее время регионы для общедоступной предварительной версии.

|Регион|
|--|
|Восточная часть Австралии|
|Юго-Восточная часть Австралии|
|Центральная Канада|
|Центральный регион США|
|Восточная Азия|
|Восток США 2|
|Центральная Франция|
|Западная часть Японии|
|Центральная Корея|
|Центрально-северная часть США|
|Северная Европа|
|Центрально-южная часть США|
|Южная Индия|
|Юго-Восточная Азия|
|Западная часть Великобритании|
|Западная Европа|
|Западная Индия|
|Запад США|

## <a name="known-issues"></a>Известные проблемы

Можно отслеживать состояние известные проблемы [общедоступной предварительной версии на сайте GitHub](https://github.com/Azure/Azure-Functions/wiki/Premium-plan-known-issues).

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Понять, масштабирование и размещение параметров функций Azure](functions-scale.md)
