---
title: Регистрация расширений привязки функций Azure
description: Узнайте, как зарегистрировать расширение привязки функций Azure на основе вашей среды.
author: craigshoemaker
ms.topic: reference
ms.date: 07/08/2019
ms.author: cshoe
ms.openlocfilehash: a045ef0fea70347f168e8ae0cc93e0c359f31dfa
ms.sourcegitcommit: bfeae16fa5db56c1ec1fe75e0597d8194522b396
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/10/2020
ms.locfileid: "88031134"
---
# <a name="register-azure-functions-binding-extensions"></a>Регистрация расширений привязки функций Azure

Начиная с функций Azure версии 2. x, [привязки](./functions-triggers-bindings.md) доступны в виде отдельных пакетов из среды выполнения функций. Несмотря на то, что функции .NET обращаются к привязкам через пакеты NuGet, пакеты расширений позволяют другим функциям обращаться ко всем привязкам через параметр конфигурации.

Рассмотрим следующие элементы, связанные с расширениями привязки:

- Расширения привязки явно не регистрируются в функциях 1. x, за исключением случаев [создания библиотеки классов C# с помощью Visual Studio](#local-csharp).

- Триггеры HTTP и Timer поддерживаются по умолчанию и не нуждаются в расширении.

В следующей таблице показано, когда и как регистрируются привязки.

| Среда разработки |Регистрация<br/> в службе "Функции" версии 1.x  |Регистрация<br/> в функциях 3. x/2. x  |
|-------------------------|------------------------------------|------------------------------------|
|Портал Azure|Автоматически|Автоматически<sup>*</sup>|
|Разработка Non-.NET языков или локальных средств Azure Core Tools|Автоматически|[Использование Azure Functions Core Tools и пакетов расширений](#extension-bundles)|
|Библиотека классов C# с использованием Visual Studio|[С помощью средств NuGet](#vs)|[С помощью средств NuGet](#vs)|
|Библиотека классов C# с использованием Visual Studio Code|Недоступно|[С помощью .NET Core CLI](#vs-code)|

<sup>*</sup>Портал использует пакеты расширений.

## <a name="extension-bundles"></a><a name="extension-bundles"></a>Пакеты расширений

Пакеты расширений — это способ добавить совместимый набор функций в приложение-функцию с помощью расширений привязки. При использовании пакетов при сборке приложения добавляются предопределенный набор расширений. Пакеты расширений, определенные в пакете, проверяются на совместимость друг с другом, что позволяет избежать конфликтов между пакетами. Пакеты расширений позволяют избежать необходимости публиковать код проекта .NET в проекте функций non-.NET. Пакеты расширений можно включить в host.jsфайла приложения.  

Вы можете использовать пакеты расширений с версией 2. x и более поздними версиями среды выполнения функций. 

Пакеты расширений можно использовать для локальной разработки с помощью Azure Functions Core Tools, Visual Studio Code и при удаленной сборке. При разработке локально убедитесь, что вы используете последнюю версию [Azure functions Core Tools](functions-run-local.md#v2). Пакеты расширений также используются при разработке функций в портал Azure. 

Если вы не используете пакеты расширений, необходимо установить пакет SDK для .NET Core 2. x на локальном компьютере перед [явной установкой каких бы то ни было расширений привязки](#explicitly-install-extensions). Файл Extensions. csproj, который явно определяет необходимые расширения, добавляется в проект. Пакеты расширений удаляют эти требования для локальной разработки. 

Чтобы использовать пакеты расширений, обновите *host.js* для файла, включив в него следующую запись `extensionBundle` :
 
[!INCLUDE [functions-extension-bundles-json](../../includes/functions-extension-bundles-json.md)]

## <a name="explicitly-install-extensions"></a>Явно установить расширения

[!INCLUDE [functions-extension-register-core-tools](../../includes/functions-extension-register-core-tools.md)]

## <a name="nuget-packages"></a><a name="local-csharp"></a>Пакеты NuGet

Для проекта функций на основе библиотеки классов C# следует устанавливать пакеты расширений специально для проектов, которые не являются классами 

### <a name="c-class-library-with-visual-studio"></a><a name="vs"></a>\#Библиотека классов C в Visual Studio

В **Visual Studio**пакеты можно установить из консоли диспетчера пакетов с помощью команды [Install-Package](/nuget/tools/ps-ref-install-package) , как показано в следующем примере:

```powershell
Install-Package Microsoft.Azure.WebJobs.Extensions.ServiceBus -Version <TARGET_VERSION>
```

Имя пакета, используемого для данной привязки, приведено в справочной статье для этой привязки. Например, вы можете ознакомиться с [разделом о пакетах в справочной статье о привязках Служебной шины](functions-bindings-service-bus.md#functions-1x).

Замените `<TARGET_VERSION>` в этом примере определенной версией пакета, например `3.0.0-beta5`. Допустимые версии перечислены на отдельных страницах пакета по адресу [NuGet.org](https://nuget.org). Основные версии, соответствующие функциям среды выполнения 1. x или 2. x, указаны в справочной статье для привязки.

При использовании `Install-Package` для ссылки на привязку не нужно использовать [пакеты расширений](#extension-bundles). Этот подход характерен для библиотек классов, созданных в Visual Studio.

## <a name="c-class-library-with-visual-studio-code"></a><a name="vs-code"></a>Библиотека классов C# с Visual Studio Code

В **Visual Studio Code**установите пакеты для проекта библиотеки классов C# из командной строки с помощью команды [DotNet add package](/dotnet/core/tools/dotnet-add-package) в .NET Core CLI. В следующем примере показано, как добавить привязку:

```terminal
dotnet add package Microsoft.Azure.WebJobs.Extensions.<BINDING_TYPE_NAME> --version <TARGET_VERSION>
```

Интерфейс .NET Core CLI можно использовать только при разработке в среде "Функции Azure" версии 2.х.

Замените на `<BINDING_TYPE_NAME>` имя пакета, содержащего необходимую привязку. Нужную ссылочную статью привязки можно найти в [списке поддерживаемых привязок](./functions-triggers-bindings.md#supported-bindings).

Замените `<TARGET_VERSION>` в этом примере определенной версией пакета, например `3.0.0-beta5`. Допустимые версии перечислены на отдельных страницах пакета по адресу [NuGet.org](https://nuget.org). Основные версии, соответствующие функциям среды выполнения 1. x или 2. x, указаны в справочной статье для привязки.

## <a name="next-steps"></a>Дальнейшие действия
> [!div class="nextstepaction"]
> [Пример триггера и привязки функции Azure](./functions-bindings-example.md)
