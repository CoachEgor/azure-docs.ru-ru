---
title: Регистрация расширений привязки функций Azure
description: Узнайте, как зарегистрировать расширение привязки функций Azure на основе вашей среды.
services: functions
documentationcenter: na
author: craigshoemaker
manager: gwallace
ms.service: azure-functions
ms.topic: reference
ms.date: 07/08/2019
ms.author: cshoe
ms.openlocfilehash: 93ced443a73d5499d8b305770c3c866c26d540f0
ms.sourcegitcommit: 44e85b95baf7dfb9e92fb38f03c2a1bc31765415
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/28/2019
ms.locfileid: "70086467"
---
# <a name="register-azure-functions-binding-extensions"></a>Регистрация расширений привязки функций Azure

В функциях Azure версии 2. x [привязки](./functions-triggers-bindings.md) доступны в виде отдельных пакетов из среды выполнения функций. Несмотря на то, что функции .NET обращаются к привязкам через пакеты NuGet, пакеты расширений позволяют другим функциям обращаться ко всем привязкам через параметр конфигурации.

Рассмотрим следующие элементы, связанные с расширениями привязки:

- Расширения привязки явно не регистрируются в функциях 1. x, за исключением случаев [создания библиотеки C# классов с помощью Visual Studio](#local-csharp).

- Триггеры HTTP и Timer поддерживаются по умолчанию и не нуждаются в расширении.

В следующей таблице показано, когда и как регистрируются привязки.

| Среда разработки |Регистрация<br/> в службе "Функции" версии 1.x  |Регистрация<br/> в службе "Функции" версии 2.x  |
|-------------------------|------------------------------------|------------------------------------|
|портала Azure|Автоматически|Автоматически|
|Разработка Non-.NET языков или локальных средств Azure Core Tools|Автоматически|[Использование Azure Functions Core Tools и пакетов расширений](#extension-bundles)|
|C#Библиотека классов с помощью Visual Studio|[С помощью средств NuGet](#vs)|[С помощью средств NuGet](#vs)|
|Библиотека классов C# с использованием Visual Studio Code|Н/Д|[С помощью .NET Core CLI](#vs-code)|

## <a name="extension-bundles"></a>Пакеты расширений для локальной разработки

Пакеты расширений — это локальная технология разработки для среды выполнения версии 2. x, которая позволяет добавить совместимый набор функций в проект приложения-функции. Эти пакеты расширений затем включаются в пакет развертывания при развертывании в Azure. Пакеты делают все привязки, опубликованные корпорацией Майкрософт, доступными через параметр в файле *Host. JSON* . Пакеты расширений, определенные в пакете, совместимы друг с другом, что позволяет избежать конфликтов между пакетами. При разработке локально убедитесь, что вы используете последнюю версию [Azure functions Core Tools](functions-run-local.md#v2).

Пакеты расширений используются для локальной разработки с помощью Azure Functions Core Tools или Visual Studio Code.

Если вы не используете пакеты расширений, необходимо установить пакет SDK для .NET Core 2. x на локальном компьютере перед установкой каких бы то ни было расширений привязки. Пакеты удаляют это требование для локальной разработки. 

Чтобы использовать пакеты расширений, обновите файл *Host. JSON* , включив в него следующую запись `extensionBundle`:

```json
{
    "version": "2.0",
    "extensionBundle": {
        "id": "Microsoft.Azure.Functions.ExtensionBundle",
        "version": "[1.*, 2.0.0)"
    }
}
```

В `extensionBundle`доступны следующие свойства:

| Свойство | Описание |
| -------- | ----------- |
| **`id`** | Пространство имен для пакетов расширений функций Microsoft Azure. |
| **`version`** | Версия устанавливаемого пакета. Среда выполнения функций всегда выбирает максимально допустимую версию, определенную диапазоном версий или интервалом. Приведенное выше значение версии разрешает все версии пакета от 1.0.0 до, но не включает 2.0.0. Дополнительные сведения см. в описании [интервала для указания диапазонов версий](https://docs.microsoft.com/nuget/reference/package-versioning#version-ranges-and-wildcards). |

Версии пакета увеличиваются по мере изменения пакетов в пакете. Изменения основной версии происходят, когда пакеты в пакете увеличиваются по основной версии, что обычно совпадает с изменением в основной версии среды выполнения функций.  

Текущий набор расширений, установленных пакетом по умолчанию, перечислен в этом [файле Extensions. JSON](https://github.com/Azure/azure-functions-extension-bundles/blob/master/src/Microsoft.Azure.Functions.ExtensionBundle/extensions.json).

<a name="local-csharp"></a>

## <a name="vs"></a>Библиотека\# классов C в Visual Studio

В **Visual Studio**пакеты можно установить из консоли диспетчера пакетов с помощью команды [Install-Package](https://docs.microsoft.com/nuget/tools/ps-ref-install-package) , как показано в следующем примере:

```powershell
Install-Package Microsoft.Azure.WebJobs.Extensions.ServiceBus -Version <TARGET_VERSION>
```

Имя пакета, используемого для данной привязки, приведено в справочной статье для этой привязки. Например, вы можете ознакомиться с [разделом о пакетах в справочной статье о привязках Служебной шины](functions-bindings-service-bus.md#packages---functions-1x).

Замените `<TARGET_VERSION>` в этом примере определенной версией пакета, например `3.0.0-beta5`. Допустимые версии перечислены на страницах отдельных пакетов на сайте [NuGet.org](https://nuget.org). Основные версии, которые соответствуют среде выполнения службы "Функции" версии 1.х или 2.х, указаны в справочной статье по конкретной привязке.

При использовании `Install-Package` для ссылки на привязку не нужно использовать [пакеты расширений](#extension-bundles). Этот подход характерен для библиотек классов, созданных в Visual Studio.

## <a name="vs-code"></a>C# библиотека классов с Visual Studio Code

> [!NOTE]
> Мы рекомендуем использовать [пакеты расширений](#extension-bundles) , чтобы функции автоматически установили совместимый набор пакетов расширений привязки.

В **Visual Studio Code**установите пакеты для проекта библиотеки C# классов из командной строки с помощью команды [DotNet Add Package](https://docs.microsoft.com/dotnet/core/tools/dotnet-add-package) в .NET Core CLI. В следующем примере показано, как добавить привязку:

```terminal
dotnet add package Microsoft.Azure.WebJobs.Extensions.<BINDING_TYPE_NAME> --version <TARGET_VERSION>
```

Интерфейс .NET Core CLI можно использовать только при разработке в среде "Функции Azure" версии 2.х.

Замените `<BINDING_TYPE_NAME>` именем пакета, предоставленного в справочной статье для требуемой привязки. Нужную ссылочную статью привязки можно найти в [списке поддерживаемых привязок](./functions-triggers-bindings.md#supported-bindings).

Замените `<TARGET_VERSION>` в этом примере определенной версией пакета, например `3.0.0-beta5`. Допустимые версии перечислены на страницах отдельных пакетов на сайте [NuGet.org](https://nuget.org). Основные версии, которые соответствуют среде выполнения службы "Функции" версии 1.х или 2.х, указаны в справочной статье по конкретной привязке.

## <a name="next-steps"></a>Следующие шаги
> [!div class="nextstepaction"]
> [Пример триггера и привязки функции Azure](./functions-bindings-example.md)
