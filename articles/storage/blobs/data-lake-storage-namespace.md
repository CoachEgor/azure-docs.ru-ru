---
title: Иерархическое пространство имен Azure Data Lake Storage 2-го поколения
description: Описывает концепцию иерархического пространства имен для хранения azure Data Lake Storage Gen2
author: normesta
ms.service: storage
ms.topic: conceptual
ms.date: 02/11/2020
ms.author: normesta
ms.reviewer: jamesbak
ms.subservice: data-lake-storage-gen2
ms.openlocfilehash: 6ce94590a1d0de6941c27d972bdd1c4194080e95
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77153083"
---
# <a name="azure-data-lake-storage-gen2-hierarchical-namespace"></a>Иерархическое пространство имен Azure Data Lake Storage 2-го поколения

Ключевым механизмом, позволяющим Azure Data Lake Storage 2-го поколения обеспечивать производительность файловой системы на уровне и по ценам хранилища объектов, является добавление **иерархического пространства имен**. Эта функция позволяет собирать объекты и файлы внутри учетной записи, которые упорядочиваются в иерархию каталогов и вложенных подкаталогов таким же образом, как организована файловая система на вашем компьютере. Благодаря включению иерархического пространства имен учетная запись хранилища становится способной обеспечить масштабируемость и экономичность хранения объектов, семантику файловой системы, знакомую для аналитических двигателей и фреймворков.

## <a name="the-benefits-of-a-hierarchical-namespace"></a>Преимущества иерархического пространства имен

Следующие преимущества связаны с файловыми системами, которые реализуют иерархическое пространство имен для данных больших двоичных объектов:

- **Атомарное управление каталогами**. Хранилища объектов выражают иерархию каталогов, внедряя символы косой черты (/) в имя объекта для обозначения сегментов пути. Хотя это соглашение подходит для организации объектов, оно не оказывает помощи в таких действиях, как перемещение, переименование или удаление каталогов. Без реальных каталогов приложения должны потенциально обрабатывать миллионы отдельных больших двоичных объектов для выполнения задач на уровне каталогов. Напротив, иерархическое пространство имен обрабатывает эти задачи, обновляя одну запись (родительский каталог).

    Эта оптимизация особенно важна для многих платформ анализа больших данных. Такие инструменты, как Hive и Spark, часто записывают выходные данные во временные расположения, а затем переименовывают расположение по завершении задания. Без иерархического пространства имен это переименование часто может занять больше времени, чем сам процесс аналитики. Уменьшение латентности задания равняется сокращению совокупной стоимости владения (TCO) для аналитических рабочих нагрузок.

- **Знакомый стиль интерфейса**. Файловые системы хорошо понятны и разработчикам, и пользователям. Нет необходимости изучать новую парадигму хранения, когда вы переходите в облако, так как интерфейс файловой системы, предоставляемый хранилищем Data Lake Gen2, использует ту же парадигму на больших и небольших компьютерах.

Одна из причин, почему хранилища объектов исторически не поддерживали иерархические пространства имен, заключается в том, что эти пространства имен ограничивали масштабирование. Тем не менее иерархическое пространство имен хранилища Data Lake Gen2 масштабируется линейно и не ухудшает ни объем данных, ни производительность.

## <a name="deciding-whether-to-enable-a-hierarchical-namespace"></a>Принятие решения о том, включать ли иерархическое пространство имен

После включения иерархического пространства имен в учетной записи вы не сможете вернуть его обратно в плоское пространство имен. Поэтому подумайте, имеет ли смысл включать иерархическое пространство имен, основанное на характере рабочих нагрузок хранилища объектов.

Некоторые рабочие нагрузки могут не получить никакой пользы, включив иерархическое пространство имен. Это такие рабочие нагрузки, как резервные копии, хранилище изображений и другие приложения, в которых хранится организация объекта отдельно от самих объектов (например, в отдельной базе данных). 

Кроме того, несмотря на то, что поддержка функций хранения Blob и экосистемы службы Azure продолжает расти, по-прежнему существуют некоторые функции и службы Azure, которые еще не поддерживаются в учетных записях, которые имеют иерархическое пространство имен. Смотрите [известные проблемы](data-lake-storage-known-issues.md). 

Как правило, мы рекомендуем включить иерархическое пространство имен для рабочих нагрузок хранения данных, предназначенных для файловых систем, которые манипулируют каталогами. Сюда входят все рабочие нагрузки, которые в основном предназначены для обработки аналитики. Наборы данных, требующие высокой степени организации, также выиграют, включив иерархическое пространство имен.

Причины включения иерархического пространства имен определяются анализом ТХО. Как правило, при улучшении латентности рабочей нагрузки в связи с ускорением хранения вычислительные ресурсы требуются на меньшее время. Задержка для многих рабочих нагрузок может быть улучшена из-за манипуляций с атомным каталогом, который включен иерархическим пространством имен. Во многих рабочих нагрузках цена вычислительного ресурса составляет > 85 % от общей стоимости, поэтому даже небольшое сокращение латентности рабочей нагрузки приводит к значительному уменьшению суммы совокупной стоимости владения. Даже в тех случаях, когда включение иерархического пространства имен увеличивает затраты на хранение, ТКО по-прежнему снижается из-за снижения затрат на вычисления.

Для анализа различий в ценах хранения данных, ценах транзакций и ценах резервирования емкости [Azure Data Lake Storage Gen2 pricing](https://azure.microsoft.com/pricing/details/storage/data-lake/)между учетными записями, которые имеют плоское иерархическое пространство имен по сравнению с иерархическим пространством имен, см.

## <a name="next-steps"></a>Дальнейшие действия

- [Создание учетной записи хранилища](./data-lake-storage-quickstart-create-account.md)
