---
title: Ускорение запроса на хранение данных Azure Data Lake (предварительный просмотр)
description: Ускорение запросов (предварительный просмотр) — это новая возможность для хранения озер данных Azure Data, которая позволяет приложениям и системам аналитики резко оптимизировать обработку данных путем извлечения только данных, необходимых для обработки.
author: normesta
ms.topic: conceptual
ms.author: normesta
ms.reviewer: jamesbak
ms.date: 04/21/2020
ms.service: storage
ms.subservice: data-lake-storage-gen2
ms.openlocfilehash: 191a3280075403c8c5b57c5ffca1c7707d1ddb11
ms.sourcegitcommit: d57d2be09e67d7afed4b7565f9e3effdcc4a55bf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/22/2020
ms.locfileid: "81771824"
---
# <a name="azure-data-lake-storage-query-acceleration-preview"></a>Ускорение запроса на хранение данных Azure Data Lake (предварительный просмотр)

Ускорение запросов (предварительный просмотр) — это новая возможность для хранения озер данных Azure Data, которая позволяет приложениям и системам аналитики резко оптимизировать обработку данных, извлекая только те данные, которые им необходимы для выполнения данной операции. Это сокращает время и вычислительную мощность, необходимые для получения критической информации о хранимых данных.

> [!NOTE]
> Функция ускорения запроса находится в открытом доступе и доступна в центральных регионах Канады и Франции. Для проверки ограничений смотрите статью [«Известные проблемы».](data-lake-storage-known-issues.md) Чтобы зарегистрироваться в предварительном просмотре, [см.](https://aka.ms/adls/qa-preview-signup)  

## <a name="overview"></a>Обзор

Ускорение запросов принимает фильтрацию *предикатов* и *проекций столбцов,* которые позволяют приложениям фильтровать строки и столбцы во время считывания данных с диска. Только данные, отвечающие условиям предиката, передаются по сети в приложение. Это снижает задержку сети и затраты на вычисления.  

Можно использовать S'L для указания предикатов фильтра строки и проекций столбцов в запросе ускорения запроса. Запрос обрабатывает только один файл. Таким образом, расширенные реляционные функции S'L, такие как соединения и группы по агрегатам, не поддерживаются. Ускорение запросов поддерживает отформатированные CSV и JSON данные в качестве ввода для каждого запроса.

Функция ускорения запроса не ограничивается хранением data Lake (учетные записи хранения, на которых включено иерархическое пространство имен). Ускорение запроса полностью совместимо с каплями в учетных записях хранения, которые **не** имеют иерархического пространства имен включенна на них. Это означает, что вы можете достичь такого же сокращения задержки сети и вычисления расходов при обработке данных, которые уже хранятся в качестве капли в учетных записях хранения.

Например, как использовать ускорение запроса в клиентском приложении, см. [данные фильтра с помощью ускорения запроса](data-lake-storage-query-acceleration-how-to.md)на хранение данных Azure Data Lake.

## <a name="data-flow"></a>Поток данных

Следующая диаграмма иллюстрирует, как обычное приложение использует ускорение запроса для обработки данных.

> [!div class="mx-imgBorder"]
> ![Обзор ускорения запросов](./media/data-lake-storage-query-acceleration/query-acceleration.png)

1. Клиентская заявка запрашивает данные файлов, указывая предикаты и прогнозы столбцов.

2. Ускорение запроса разбирает указанный запрос S'L и распределяет работу для анализа и фильтрации данных.

3. Процессоры считывают данные с диска, разбирают данные с помощью соответствующего формата, а затем фильтруют данные, применяя указанные прогнозы предикатов и столбцов.

4. Ускорение запроса сочетает в себе осколки ответа для обратной связи в клиентское приложение.

5. Клиентское приложение получает и разбирает потокответ. Приложение не нуждается в фильтрации каких-либо дополнительных данных и может применить желаемый расчет или преобразование непосредственно.

## <a name="better-performance-at-a-lower-cost"></a>Более высокую производительность при меньших затратах

Ускорение запросов оптимизирует производительность за счет сокращения объема данных, которые передаются и обрабатываются вашим приложением.

Для расчета агрегированного значения приложения обычно извлекают **все** данные из файла, а затем обрабатывают и фильтруют данные локально. Анализ входной/выходной модели для рабочих нагрузок аналитики показывает, что приложениям обычно требуется только 20% данных, которые они читают для выполнения любого заданного расчета. Эта статистика верна даже после применения таких методов, как [обрисовка раздела.](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-optimize-hive-query#hive-partitioning) Это означает, что 80% этих данных необоснованно передается по всей сети, разбирается и фильтруется приложениями. Этот шаблон, в основном предназначенный для удаления ненужных данных, несет значительные затраты на вычисления.  

Несмотря на то, что Azure имеет лидирующую в отрасли сеть с точки зрения пропускной способности и задержки, необоснованная передача данных по этой сети по-прежнему обходится дорого для производительности приложений. Отфильтровывая нежелательные данные во время запроса на хранение, ускорение запроса устраняет эту стоимость.

Кроме того, нагрузка процессора, необходимая для анализа и фильтрации ненужных данных, требует, чтобы приложение предусматривало большее количество и больше VMs для выполнения своей работы. Перенос этой вычислительной нагрузки на ускорение запросов может приносить значительные затраты.

## <a name="applications-that-can-benefit-from-query-acceleration"></a>Приложения, которые могут извлечь выгоду из ускорения запроса

Ускорение запросов предназначено для распределенных аналитических платформ и приложений для обработки данных. 

Распределенные аналитические платформы, такие как Apache Spark и Apache Hive, включают слой абстракции хранения в рамках. Эти двигатели также включают оптимизаторы запросов, которые могут включать знания о возможностях службы ввоза/о при определении оптимального плана запросов для запросов пользователей. Эти платформы начинают интегрировать ускорение запросов. В результате пользователи этих фреймворков увидят улучшенную задержку запроса и меньшую общую стоимость владения без внесения каких-либо изменений в запросы. 

Ускорение запросов также предназначено для обработки данных. Эти типы приложений обычно выполняют крупномасштабные преобразования данных, которые могут не приводить непосредственно к анализу, поэтому они не всегда используют установленные платформы распределенной аналитики. Эти приложения часто имеют более прямую связь с базовой службой хранения данных, поэтому они могут извлечь прямую пользу из таких функций, как ускорение запросов. 

Например, как приложение может интегрировать ускорение запросов, см. [данные фильтра с помощью ускорения запроса](data-lake-storage-query-acceleration-how-to.md)в области хранения данных Azure Data Lake.

## <a name="pricing"></a>Цены

Из-за возросшей вычислительной нагрузки в службе хранения azure Data Lake, модель ценообразования для использования ускорения запроса отличается от обычной модели транзакций Azure Data Lake Storage. Ускорение запроса взимает стоимость за количество отсканированных данных, а также стоимость объема данных, возвращенных вызывающему абоненту.

Несмотря на изменение модели биллинга, модель ценообразования ускорения запроса предназначена для снижения общей стоимости владения рабочей нагрузкой, учитывая снижение гораздо более дорогих затрат на VM.

## <a name="next-steps"></a>Следующие шаги

- [Форма ускорения запроса](https://aka.ms/adls/qa-preview-signup)    
- [Фильтруя данные с помощью ускорения запроса в области хранения данных Azure Data Lake](data-lake-storage-query-acceleration-how-to.md)
- [Ссылка на ускорение запросов s'L (предварительный просмотр)](query-acceleration-sql-reference.md)
- Ссылка на ускорение запроса REST API



