---
title: Горячий, крутой и архивный уровни доступа для больших двоичных объектов в службе хранилища Azure
description: Ознакомьтесь со сведениями о горячий, холодной и архивной уровнях доступа для хранилища BLOB-объектов Azure. Проверьте учетные записи хранения, поддерживающие распределение по уровням. Сравните параметры хранилища блочных BLOB-объектов.
author: mhopkins-msft
ms.author: mhopkins
ms.date: 09/28/2020
ms.service: storage
ms.subservice: blobs
ms.topic: conceptual
ms.reviewer: clausjor
ms.openlocfilehash: 569e785cd8fc3ec4bbf9960cef63258e83496847
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "91460736"
---
# <a name="azure-blob-storage-hot-cool-and-archive-access-tiers"></a>Хранилище BLOB-объектов Azure: горячий, холодный и архивный уровни доступа

Служба хранилища Azure предоставляет различные уровни доступа, которые позволяют хранить данные больших двоичных объектов наиболее экономичным способом. Ниже перечислены возможные уровни доступа.

- **Горячая** оптимизация для хранения данных, к которым часто обращаются.
- **Cool** Для хранения данных, которые редко используются и хранятся не менее 30 дней, оптимизировано.
- **Архив** — оптимизирован для хранения данных, которые редко обращаются и хранятся не менее 180 дней с гибкими требованиями к задержке (в порядке часов).

Следующие факторы связаны с разными уровнями доступа.

- На уровне учетной записи можно задать только холодный и горячий уровни доступа. Архивный уровень доступа на уровне учетной записи недоступен.
- Горячий, холодный и архивный уровни доступа можно устанавливать на уровне большого двоичного объекта во время или после отправки.
- Для данных на холодном уровне допускается несколько меньший уровень доступности, но требуются те же показатели надежности, задержек при извлечении и пропускной способности, что и для данных на горячем уровне. Для холодных данных соглашение об уровне обслуживания (SLA) с несколько более низкой доступностью и более высокая стоимость доступа по сравнению с горячими данными являются приемлемым компромиссом с учетом более низких затрат на хранение.
- В архивных хранилищах данные хранятся в автономном режиме, что обеспечивает наименьшую стоимость хранения, но также и самые высокие затраты на восстановление данных и доступ к ним.

Объемы данных, хранящихся в облаке, увеличиваются в геометрической прогрессии. Чтобы оптимизировать затраты при расширении хранилища, размещайте данные на разных уровнях с учетом частоты обращения и планируемого срока хранения. Данные, хранящиеся в облаке, могут быть разными в зависимости от способа их создания, обработки и доступа к ним в течение всего времени их существования. Одни данные активно используют и изменяют на протяжении всего жизненного цикла. Другие данные часто используются в начале цикла, но по мере их устаревания к ним обращаются все реже. Некоторые данные остаются неактивными в облаке, и к ним обращаются редко или не обращаются вообще.

Каждый из этих сценариев доступа к данным имеет преимущества от другого уровня доступа, оптимизированного для определенного шаблона доступа. Благодаря горячий, холодной и архивной уровнях доступа хранилище BLOB-объектов Azure решает эту потребность в дифференцированных уровнях доступа с отдельными моделями ценообразования.

[!INCLUDE [storage-multi-protocol-access-preview](../../../includes/storage-multi-protocol-access-preview.md)]

## <a name="storage-accounts-that-support-tiering"></a>Учетные записи хранения, которые поддерживают распределение по уровням

Распределение данных между горячим, замечательным и архивным хранилищем объектов поддерживается только в учетных записях хранилища BLOB-объектов и общего назначения v2 (GPv2). Учетные записи общего назначения v1 (GPv1) не поддерживают распределение по уровням. Клиенты могут легко преобразовывать существующие учетные записи GPv1 или хранилища BLOB-объектов в учетные записи GPv2 с помощью портал Azure. GPv2 предоставляет новые цены и функции для больших двоичных объектов, файлов и очередей. Некоторые функции и цены предлагаются только в учетных записях GPv2. Оцените использование учетных записей GPv2 после всесторонней проверки цен. Некоторые рабочие нагрузки могут быть более дорогими на GPv2, чем GPv1. Дополнительные сведения см. в статье [Общие сведения об учетной записи хранения Azure](../common/storage-account-overview.md).

Учетные записи хранилища BLOB-объектов и GPv2 предоставляют атрибут **уровня доступа** на уровне учетной записи. Этот атрибут позволяет указать уровень доступа по умолчанию для любого большого двоичного объекта, который не задан явным образом на уровне объекта. Для объектов с уровнем, заданным на уровне объектов, уровень учетной записи не применяется. Уровень архива можно применять только на уровне объектов. Переключаться между этими уровнями доступа можно в любое время.

## <a name="hot-access-tier"></a>Горячий уровень хранилища

Горячий уровень доступа имеет более высокую стоимость хранения, чем холодный или архивный, зато стоимость доступа самая низкая. Примеры сценариев использования для уровня горячего доступа включают следующее:

- данные, которые активно используются или должны быть доступны (для чтения и записи);
- данные, подготовленные для обработки и последующего перехода на холодный уровень доступа.

## <a name="cool-access-tier"></a>Холодный уровень хранилища

Холодный уровень доступа имеет более низкую стоимость хранения, но более высокую стоимость доступа, чем горячий уровень. Этот уровень предназначен для данных, которые будут храниться на холодном уровне не менее 30 дней. Примеры сценариев использования для холодного уровня доступа включают следующее:

- Наборы данных резервного копирования и аварийного восстановления краткосрочного хранения.
- Старое мультимедийное содержимое, которое нечасто просматривают, но которое должно быть доступно сразу по необходимости.
- Большие наборы данных, которые нужно хранить при меньших затратах, при этом большую часть данных собирают для последующей обработки (*например*, нужно долго хранить данные научных исследований или необработанные данные телеметрии производственного объекта).

## <a name="archive-access-tier"></a>Архивный уровень хранилища

Уровень доступа к архиву имеет наименьшую стоимость хранения. Но он имеет более высокие затраты на получение данных по сравнению с горячий и холодной уровнями. Данные должны оставаться на уровне архива в течение не менее 180 дней или быть подвержены периоду раннего удаления. Получение данных на уровне архива может занять несколько часов в зависимости от приоритета восстановления. Для небольших объектов восстановление с высоким приоритетом может получить объект из архива в течение 1 часа. Дополнительные сведения см. в статье восстановление [данных большого двоичного объекта с уровня архива](storage-blob-rehydration.md) .

Хотя большой двоичный объект находится в архивном хранилище, данные большого двоичного объекта находятся в автономном режиме и не могут быть прочитаны, перезаписаны или изменены. Чтобы прочитать или скачать большой двоичный объект в архиве, необходимо сначала выполнить его восстановление на уровне сети. Вы не можете создавать моментальные снимки большого двоичного объекта в архивном хранилище. Однако метаданные больших двоичных объектов остаются в сети и доступны, что позволяет перечислить большой двоичный объект, его свойства, метаданные и теги индекса больших двоичных объектов. Задание или изменение метаданных большого двоичного объекта в архиве запрещено; Однако можно задавать и изменять теги индекса больших двоичных объектов. Для больших двоичных объектов в архиве единственными допустимыми операциями являются GetBlobProperties, GetBlobMetadata, Сетблобтагс, Жетблобтагс, Финдблобсбитагс, ListBlobs, SetBlobTier, CopyBlob и DeleteBlob.

Ниже приведены примеры сценариев использования для уровня доступа к архиву.

- Долгосрочное резервное копирование, вторичное резервное копирование и архивные наборы данных
- Исходные (необработанные) данные, которые необходимо сохранить даже после их окончательной обработки
- Данные соответствия требованиям и архивные данные, которые нужно хранить в течение длительного времени и которые вряд ли когда-либо будут использовать

> [!NOTE]
> Сейчас уровень архива не поддерживается для учетных записей ZRS, ГЗРС или RA-ГЗРС.

## <a name="account-level-tiering"></a>Распределение по уровням учетной записи

Большие двоичные объекты во всех трех уровнях доступа могут сосуществовать в одной учетной записи. Любой большой двоичный объект, который не имеет явно назначенный уровень, выводит уровень из параметра уровень доступа учетной записи. Если уровень доступа поступает из учетной записи, вы увидите, что свойство " **выводимый** большой двоичный объект уровня доступа" имеет значение "true", а свойство большого двоичного объекта **уровня доступа** соответствует уровню учетной записи. В портал Azure _выводимое свойство уровня доступа_ отображается с уровнем доступа к BLOB-объектом " **горячий" (выводимый)** или " **крутой" (выводимый)**.

Изменение уровня доступа к учетной записи применяется ко всем _выводимым объектам уровня доступа_ , хранящимся в учетной записи без явного набора уровней. Если вы переключаете уровень учетной записи с "горячий" на "тепло", вам будет выставляться счет за операции записи (за 10 000) для всех больших двоичных объектов без установленного уровня в учетных записях GPv2. Плата за это изменение в учетных записях хранения BLOB-объектов не взимается. Вы получите оплату за операции чтения (за 10 000) и получение данных (за ГБ) при переключении со холодного на горячий в хранилище BLOB-объектов или учетные записи GPv2.

## <a name="blob-level-tiering"></a>Распределение BLOB-объектов по уровням

Распределение по уровням BLOB-объектов позволяет отправлять данные на выбранный уровень доступа с помощью операций [размещения BLOB-объектов](/rest/api/storageservices/put-blob) или [размещения блоков](/rest/api/storageservices/put-block-list) , а также изменять уровень данных на уровне объектов с помощью функции [задания уровня большого двоичного объекта](/rest/api/storageservices/set-blob-tier) или [управления жизненным циклом](#blob-lifecycle-management) . Вы можете передать данные на требуемый уровень доступа, а затем легко изменить уровень доступа к большому двоичному объекту на уровнях "горячий", "холодного" или "архивный" при изменении шаблонов использования без перемещения данных между учетными записями. Все запросы на изменение уровня выполняются немедленно, а изменения уровней между горячими и замечательными — мгновенно. Однако восстановление большого двоичного объекта из архива может занять несколько часов.

Время последнего изменения уровня большого двоичного объекта определяет атрибут **Access Tier Change Time** свойства большого двоичного объекта. При перезаписи большого двоичного объекта на активном или холодном уровне созданный большой двоичный объект наследует уровень большого двоичного объекта, который был перезаписан, если только новый уровень доступа к большому двоичному объекту не будет явно задан при создании. Если большой двоичный объект находится на уровне архива, он не может быть перезаписан, поэтому отправка такого же большого двоичного объекта не разрешена в этом сценарии. 

> [!NOTE]
> Архивное хранилище и распределение BLOB-объектов по уровням поддерживают только большие двоичные объекты.

### <a name="blob-lifecycle-management"></a>Управление жизненным циклом большого двоичного объекта

Управление жизненным циклом хранилища BLOB-объектов предлагает обширную политику на основе правил, которую можно использовать для переноса данных на лучший уровень доступа и для истечения срока действия данных в конце жизненного цикла. Дополнительные сведения см. в статье [Управление жизненным циклом хранилища BLOB-объектов Azure (предварительная версия)](storage-lifecycle-management-concepts.md).  

> [!NOTE]
> В настоящее время данные, хранящиеся в учетной записи хранилища блочных BLOB-объектов (производительность Premium), не могут быть распределены по уровням "горячий", "холодное" или "архивный" с помощью [уровня большого двоичного объекта](/rest/api/storageservices/set-blob-tier)
> Чтобы переместить данные, необходимо синхронно копировать большие двоичные объекты из учетной записи хранения блочного BLOB-объекта на уровень горячего доступа в другой учетной записи, используя [блок размещения из API URL](/rest/api/storageservices/put-block-from-url) или версию AzCopy, которая поддерживает этот API.
> API *Put Block From URL* (Вставка блока из URL-адреса) синхронно копирует данные на сервере, то есть вызов завершается только после того, как все данные перемещены из исходного расположения сервера в расположение назначения.

### <a name="blob-level-tiering-billing"></a>Выставление счетов за распределение BLOB-объектов по уровням

Когда большой двоичный объект передается или перемещается на горячий, холодное или архивный уровень, плата за нее направляется по соответствующей ставке сразу после изменения уровня.

Перемещение большого двоичного объекта на более холодный уровень (горячий -> холодный, горячий -> архивный или холодный -> архивный) оплачивается как операция записи на целевой уровень. Запись на целевой уровень оплачивается за каждые 10 000 операций, а запись данных — за каждый ГБ.

Когда большой двоичный объект перемещается на уровень "теплый" (Archive->"тепло", "Archive->" горячий "или" холодный ">" горячий "), операция оплачивается как прочитанная с уровня источника, где операция чтения (за 10 000) и данные (за ГБ) применяются к исходному уровню. Плата за раннее удаление также может применяться к любому большому двоичному объекту, перемещенному из "холодного" или архивного уровня. Восстановление [данных из архива](storage-blob-rehydration.md) занимает время, и данные будут начисляться на архивные цены до восстановления данных в сети и изменения уровня больших двоичных объектов на "горячий" или "холодное". В следующей таблице приведены сведения о том, как выставляются счета за изменения уровня.

| | **Расходы на запись (Операция + Доступ)** | **Расходы на чтение (Операция + Доступ)**
| ---- | ----- | ----- |
| **Направление SetBlobTier** | горячий >,<br> Архив "горячий >"<br> стильный >Архив | Archive — >здорово<br> Archive — >горячий,<br> стильный — >горячий

### <a name="cool-and-archive-early-deletion"></a>Раннее удаление с "холодного" и архивного уровней

Любой большой двоичный объект, перемещаемый на замечательный уровень (только для учетных записей GPv2), подвергается простому периоду раннего удаления в 30 дней. Любой большой двоичный объект, перемещаемый на архивный уровень, подлежит периоду раннего удаления архива в 180 дней. Эта плата пропорциональна. Например, если большой двоичный объект перемещается в архив, а затем удаляется или перемещается на горячий уровень через 45 дней, вам будет взиматься плата за раннее удаление, эквивалентную 135 (180 минус 45) дней хранения этого большого двоичного объекта в архиве.

Вы можете вычислить раннее удаление, используя свойство большого двоичного объекта ( **Последнее изменение**), если уровень доступа не изменился. В противном случае можно использовать, когда уровень доступа был изменен для охлаждения или архивации, просмотрев свойство большого двоичного объекта: **уровень доступа — изменение времени**. Дополнительные сведения о свойствах больших двоичных объектов см. в статье [Получение свойств большого двоичного объекта](https://docs.microsoft.com/rest/api/storageservices/get-blob-properties).

## <a name="comparing-block-blob-storage-options"></a>Сравнение параметров хранилища блочных BLOB-объектов

В следующей таблице показано сравнение хранилища больших двоичных объектов производительности Premium, а также уровней доступа "горячий", "холодный" и "архивный".

|                                           | **Производительность Premium**   | **Горячий уровень** | **Изящный уровень**       | **Уровень архива**  |
| ----------------------------------------- | ------------------------- | ------------ | ------------------- | ----------------- |
| **Доступность**                          | 99,9 %                     | 99,9 %        | 99 %                 | Автономная миграция           |
| **Доступность** <br> **(операции чтения RA-GRS)**  | Недоступно                       | 99,99 %       | 99,9 %               | Автономная миграция           |
| **Плата за использование**                         | Более высокие затраты на хранение, снижение уровня доступа и стоимость транзакций | Выше стоимость хранения, ниже расходы на доступ и транзакции | Ниже стоимость хранения, выше расходы на доступ и транзакции | Ниже стоимость хранения, очень высокие расходы на доступ и транзакции |
| **Объекты минимального размера**                   | Недоступно                       | Недоступно          | Недоступно                 | Недоступно               |
| **Минимальный срок хранения**              | Недоступно                       | Недоступно          | 30 дней<sup>1</sup> | 180 дней
| **Задержка** <br> **(время до получения первого байта)** | Миллисекунды с одной цифрой | Миллисекунды | Миллисекунды        | Часы<sup>2</sup> |

<sup>1</sup> объекты на "холодном" уровне в учетных записях GPv2 имеют минимальный срок хранения в 30 дней. Учетные записи хранения BLOB-объектов не имеют минимального срока хранения для уровня "стильный".

<sup>2</sup> архивное хранилище в настоящее время поддерживает 2 восходящие приоритеты, High и Standard, которые предлагают различные задержки при извлечении. Дополнительные сведения см. в статье восстановление [данных большого двоичного объекта из уровня архива](storage-blob-rehydration.md).

> [!NOTE]
> Учетные записи хранения BLOB-объектов поддерживают те же показатели производительности и масштабируемости, что и учетные записи хранения общего назначения версии 2. Дополнительные сведения см. в статье [Scalability and performance targets for Blob storage](scalability-targets.md) (Целевые показатели масштабируемости и производительности для хранилища BLOB-объектов).

## <a name="quickstart-scenarios"></a>Сценарии быстрого запуска

В этом разделе демонстрируются следующие сценарии использования портал Azure и PowerShell:

- Изменение уровня доступа по умолчанию для учетной записи GPv2 или учетной записи хранилища BLOB-объектов.
- Изменение уровня большого двоичного объекта в учетной записи GPv2 или учетной записи хранилища BLOB-объектов.

### <a name="change-the-default-account-access-tier-of-a-gpv2-or-blob-storage-account"></a>Изменение уровня доступа по умолчанию для учетной записи GPv2 или учетной записи хранилища BLOB-объектов

# <a name="portal"></a>[Портал](#tab/azure-portal)
1. Войдите на [портал Azure](https://portal.azure.com).

1. На портале Azure найдите и выберите **Все ресурсы**.

1. Затем выберите учетную запись хранения.

1. В окне **Параметры**выберите **Конфигурация** , чтобы просмотреть и изменить конфигурацию учетной записи.

1. Выберите подходящий уровень доступа для ваших потребностей: задайте для **уровня доступа** значение " **крутой** " или " **горячий**".

1. В верхней части щелкните **Save (сохранить** ).

![Изменение уровня учетной записи по умолчанию в портал Azure](media/storage-tiers/account-tier.png)

# <a name="powershell"></a>[PowerShell](#tab/azure-powershell)
Для изменения уровня учетной записи можно использовать следующий сценарий PowerShell. Переменная `$rgName` должна быть инициализирована с помощью имени группы ресурсов. Переменная `$accountName` должна быть инициализирована с помощью имени учетной записи хранения. 
```powershell
#Initialize the following with your resource group and storage account names
$rgName = ""
$accountName = ""

#Change the storage account tier to hot
Set-AzStorageAccount -ResourceGroupName $rgName -Name $accountName -AccessTier Hot
```
---

### <a name="change-the-tier-of-a-blob-in-a-gpv2-or-blob-storage-account"></a>Изменение уровня большого двоичного объекта в GPv2 или учетной записи хранилища BLOB-объектов
# <a name="portal"></a>[Портал](#tab/azure-portal)
1. Войдите на [портал Azure](https://portal.azure.com).

1. На портале Azure найдите и выберите **Все ресурсы**.

1. Затем выберите учетную запись хранения.

1. Выберите свой контейнер и большой двоичный объект.

1. В разделе **Свойства BLOB-объекта** выберите **Изменение уровня**.

1. Выберите " **горячий**", " **холодного**" или **архивный** уровень доступа. Если ваш большой двоичный объект в данный момент находится в архиве и вы хотите выполнить восстановление на уровне сети, можно также выбрать параметр "использовать приоритет" (" **стандартный** " или " **высокий**").

1. Щелкните **Сохранить** внизу.

![Изменение уровня BLOB-объекта в портал Azure](media/storage-tiers/blob-access-tier.png)

# <a name="powershell"></a>[PowerShell](#tab/azure-powershell)
Для изменения уровня BLOB-объектов можно использовать следующий сценарий PowerShell. Переменная `$rgName` должна быть инициализирована с помощью имени группы ресурсов. Переменная `$accountName` должна быть инициализирована с помощью имени учетной записи хранения. Переменная `$containerName` должна быть инициализирована с помощью имени контейнера. Переменная `$blobName` должна быть инициализирована с помощью имени большого двоичного объекта. 
```powershell
#Initialize the following with your resource group, storage account, container, and blob names
$rgName = ""
$accountName = ""
$containerName = ""
$blobName == ""

#Select the storage account and get the context
$storageAccount =Get-AzStorageAccount -ResourceGroupName $rgName -Name $accountName
$ctx = $storageAccount.Context

#Select the blob from a container
$blob = Get-AzStorageBlob -Container $containerName -Blob $blobName -Context $ctx

#Change the blob’s access tier to archive
$blob.ICloudBlob.SetStandardBlobTier("Archive")
```
---

## <a name="pricing-and-billing"></a>Цены и выставление счетов

Все учетные записи хранения используют модель ценообразования для блочного хранилища BLOB-объектов на основе уровня каждого большого двоичного объекта. При выставлении счетов следует учитывать следующее:

- **Затраты на хранение**. Помимо объема хранимых данных стоимость хранения данных зависит от уровня доступа. Чем холоднее уровень хранилища, тем меньше стоит каждый гигабайт.
- **Затраты на доступ к данным.** Чем холоднее уровень хранилища, тем дороже доступ к данным. Для данных на уровне холодного и архивного доступа взимается плата за доступ к данным за гигабайт для чтения.
- **Затраты на транзакции**. взимается плата за все уровни, которые увеличиваются по мере того, как уровень становится еще больше.
- **Расходы на передачу данных георепликации**. Этот платеж касается только тех учетных записей, в которых настроена георепликация, включая GRS и RA-GRS. При передаче данных георепликации взимается плата за гигабайт данных.
- **Расходы на исходящий трафик.** Передача трафика (из региона Azure) предусматривает выставление счетов за использование пропускной способности по гигабайтам, как и при использовании учетных записей хранения общего назначения.
- **Изменение уровня доступа**. изменение уровня доступа к учетной записи приведет к оплате изменений уровня _доступа для выводимых_ больших двоичных объектов, хранящихся в учетной записи без явного набора уровней. Сведения об изменении уровня доступа для одного большого двоичного объекта см. в разделе [выставление счетов по уровням на уровне больших двоичных объектов](#blob-level-tiering-billing).

    Изменение уровня доступа для большого двоичного объекта при включении управления версиями или наличии моментальных снимков большого двоичного объекта может привести к дополнительным издержкам. Дополнительные сведения о том, как выставляются счета при включении управления версиями BLOB-объектов и явном изменении уровня большого двоичного объекта, см. в разделе [цены и выставление счетов](versioning-overview.md#pricing-and-billing) в документации по системе управления версиями BLOB-объектов. Дополнительные сведения о том, как выставляются счета при наличии моментальных снимков большого двоичного объекта и явном изменении уровня BLOB-объектов, см. в разделе [цены и выставление счетов](snapshots-overview.md#pricing-and-billing) в документации по моментальным снимкам больших двоичных объектов.

> [!NOTE]
> Дополнительные сведения о ценах на блочные BLOB-объекты см. на странице цен на службу [хранилища Azure](https://azure.microsoft.com/pricing/details/storage/blobs/) . Дополнительные сведения о ценах на исходящий трафик см. на странице с [ценами на передачу данных](https://azure.microsoft.com/pricing/details/data-transfers/).

## <a name="faq"></a>ВОПРОСЫ И ОТВЕТЫ

**Следует ли использовать учетную запись хранилища BLOB-объектов или учетную запись GPv2, если нужно распределить данные по уровням?**

Мы рекомендуем использовать учетную запись GPv2 вместо учетных записей хранилища BLOB-объектов для распределения по уровням. GPv2 поддерживает все возможности, которые поддерживают учетные записи хранилища BLOB-объектов и многие другие функции. Цены на учетную запись хранилища BLOB-объектов и учетную запись GPv2 почти идентичны. Но некоторые новые возможности и скидки будут доступны только в пределах учетных записей GPv2. Учетные записи GPv1 не поддерживают распределение по уровням.

Структура ценообразования в учетных записях GPv1 и GPv2 различна, поэтому клиенты должны тщательно оценить их, прежде чем принимать решение об использовании учетных записей GPv2. Имеющуюся учетную запись хранилища BLOB-объектов или учетную запись GPv1 можно легко преобразовать в GPv2 одним щелчком мыши. Дополнительные сведения см. в статье [Общие сведения об учетной записи хранения Azure](../common/storage-account-overview.md).

**Можно ли хранить объекты во всех трех (горячий, холодном и архивном) уровнях доступа в одной учетной записи?**

Да. Атрибут **уровня доступа** , заданный на уровне учетной записи, является уровнем учетной записи по умолчанию, который применяется ко всем объектам в этой учетной записи без явного уровня Set. Распределение по уровням BLOB-объектов позволяет задать уровень доступа на уровне объектов независимо от того, какой уровень доступа в этой учетной записи имеет значение. Большие двоичные объекты на любом из трех уровней доступа (горячий, крутой или архивный) могут находиться в одной и той же учетной записи.

**Можно ли изменить уровень доступа по умолчанию для учетной записи хранения BLOB-объектов или GPv2?**

Да, можно изменить уровень учетной записи по умолчанию, задав атрибут **уровня доступа** в учетной записи хранения. Изменение уровня учетной записи применяется ко всем объектам, хранящимся в учетной записи без явного набора уровней (например, « **горячий» (выводимый)** или « **крутой» (выводимый)**). Переключение уровня учетной записи с "горячего" на "холодное" приводит к операциям записи (на 10 000) для всех больших двоичных объектов без установленного уровня в учетных записях GPv2 и переключение с "холодного" на "10 000 горячий" для всех больших двоичных объектов в хранилище BLOB-объектов и учетных записей GPv2.

**Можно ли задать архивный уровень в качестве уровня доступа к учетной записи по умолчанию?**

Нет. В качестве уровня доступа к учетной записи по умолчанию можно задать только горячий и холодное уровни доступа. Архивный уровень можно задать только на уровне объекта. При передаче большого двоичного объекта вы указываете выбранный уровень доступа: "горячий", "холодное" или архивный, независимо от уровня учетной записи по умолчанию. Эта функция позволяет записывать данные непосредственно на уровень архива, чтобы издержки сэкономить время с момента создания данных в хранилище BLOB-объектов.

**В каких регионах доступны уровни доступа "горячий", "холодного" и "архивный"?**

Уровни "горячий" и "холодного", а также уровень BLOB-объектов доступны во всех регионах. Хранилище архивного уровня изначально будет доступно только в выбранных регионах. Полный список см. на странице [Доступность продуктов по регионам](https://azure.microsoft.com/regions/services/).

**Какие варианты избыточности поддерживаются для уровней доступа "горячий", "холодного" и "архивный"?**

Горячий и холодной уровни поддерживают все параметры избыточности. Уровень архива поддерживает только LRS, GRS и RA-GRS. ZRS, ГЗРС и RA-ГЗРС не поддерживаются для уровня архива.

**Ведут ли большие двоичные объекты на уровне "холодного" уровня доступа иначе, чем на уровне "горячего" уровня доступа?**

Большие двоичные объекты на уровне горячего доступа имеют те же задержки, что и BLOB-объекты в учетных записях GPv1, GPv2 и хранилища BLOB-объектов. Большие двоичные объекты на простом уровне доступа имеют схожую задержку (в миллисекундах) в качестве больших двоичных объектов в учетных записях GPv1, GPv2 и хранилища BLOB-объектов. Большие двоичные объекты на уровне доступа к архиву имеют несколько часов задержки в учетных записях GPv1, GPv2 и хранилища BLOB-объектов.

Большие двоичные объекты на уровне "холодного" уровня доступа имеют более низкий уровень обслуживания (SLA), чем большие двоичные объекты, хранящиеся на уровне горячего доступа. Дополнительные сведения см. в статье [Соглашение об уровне обслуживания для хранилища](https://azure.microsoft.com/support/legal/sla/storage/v1_5/).

**Одинаковы ли операции на "горячем", "холодном" и архивном уровне?**

Все операции на "горячем" и "холодном" уровнях полностью согласованы. Все допустимые операции архивации, в том числе GetBlobProperties, GetBlobMetadata, Сетблобтагс, Жетблобтагс, Финдблобсбитагс, ListBlobs, SetBlobTier и DeleteBlob, соответствуют 100% в соответствии с горячий и холодностью. Данные большого двоичного объекта невозможно прочитать или изменить в архивном уровне до повторного сохранения. в архиве поддерживаются только операции чтения метаданных больших двоичных объектов. Однако Теги индекса BLOB-объектов можно считывать, задавать или изменять в архиве.

**Как узнать, что восстановление большого двоичного объекта с архивированного уровня на "горячий" или "холодный" уровень завершено?**

Во время повторного сохранения можно использовать операцию получения свойств BLOB-объекта для опроса атрибута **состояния архива** и подтверждения завершения изменения уровня. Для состояния отображается значение rehydrate-pending-to-hot или rehydrate-pending-to-cool в зависимости от целевого уровня. По завершении свойство состояния архивации удаляется, а для свойства **уровня доступа** большого двоичного объекта отображается значение "горячего" или "холодного" уровня. Дополнительные сведения см. в статье восстановление [данных большого двоичного объекта с уровня архива](storage-blob-rehydration.md) .

**Когда начнется выставление счетов по соответствующему тарифу после установки уровня большого двоичного объекта?**

Плата за каждый большой двоичный объект выставляется в соответствии с уровнем, обозначенным в свойстве **Уровень доступа** большого двоичного объекта. При установке нового уровня сети для большого двоичного объекта свойство **уровень доступа** немедленно отражает новый уровень для всех переходов. Однако восстановление большого двоичного объекта из автономного архивного уровня на горячий или холодной уровень может занять несколько часов. В этом случае плата взимается по тарифам архива до завершения повторного сохранения, после чего свойство **уровень доступа** отражает новый уровень. После восстановлении на уровне "в сети" плата взимается за этот большой двоичный объект по ставке "горячий" или "холодно".

**Разделы справки определить, будет ли взиматься плата за раннее удаление при удалении или перемещении большого двоичного объекта из холодного или архивного уровня?**

За любой большой двоичный объект, который удаляется или перемещается с "холодного" (только для учетных записей GPv2) или архивного уровней до истечения 30 и 180 дней соответственно, будет взиматься плата за раннее удаление. Вы можете определить срок хранения большого двоичного объекта на холодном или архивном уровне, проверив свойство большого двоичного объекта **Access Tier Change Time**, которое предоставляет метку последнего изменения уровня. Если уровень большого двоичного объекта не изменился, можно проверить свойство **Последнее измененное** BLOB-объект. Дополнительные сведения см. в разделе [холодное и архивирование раннего удаления](#cool-and-archive-early-deletion).

**Какие средства Azure и пакеты SDK поддерживают распределение BLOB-объектов по уровням и архивное хранилище?**

Портал Azure, PowerShell и средства CLI, а также клиентские библиотеки .NET, Java, Python и Node.js поддерживают распределение BLOB-объектов по уровням и архивное хранилище.  

**Сколько данных можно хранить на "горячем", "холодном" и архивном уровне данных?**

Хранение данных и другие ограничения задаются на уровне учетной записи, а не на уровне доступа. Вы можете использовать все ограничения на одном уровне или на всех трех уровнях. Дополнительные сведения см. в разделе [целевые показатели масштабируемости и производительности для учетных записей хранения](../common/scalability-targets-standard-account.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json)уровня "Стандартный".

## <a name="next-steps"></a>Дальнейшие шаги

Оцените горячие, интересные и архивные учетные записи в GPv2 и хранилище BLOB-объектов

- [Доступность продуктов по регионам](https://azure.microsoft.com/regions/#services)
- [Управление жизненным циклом хранилища BLOB-объектов Azure (предварительная версия)](storage-lifecycle-management-concepts.md)
- [Дополнительные сведения о восстановлении данных больших двоичных объектов из уровня архива](storage-blob-rehydration.md)
- [Определите, будет ли производительность вашего приложения выгоднее](storage-blob-performance-tiers.md)
- [Оценка использования текущих учетных записей хранения путем включения метрик службы хранилища Azure](../common/storage-enable-and-view-metrics.md)
- [Цены на горячий, холодный и архивный уровни в учетных записях хранилища BLOB-объектов и учетных записях GPv2 по регионам](https://azure.microsoft.com/pricing/details/storage/)
- [Проверка сведений о ценах на передачу данных](https://azure.microsoft.com/pricing/details/data-transfers/)
