---
title: Руководство. Включение личного домена с использованием протокола SSL на статическом веб-сайте с помощью Azure CDN — служба хранилища Azure
description: Сведения о настройке личного домена для размещения статического веб-сайта.
author: normesta
ms.service: storage
ms.topic: tutorial
ms.date: 05/22/2019
ms.author: normesta
ms.reviewer: dineshm
ms.openlocfilehash: a65c0e677182eb224f6bfa7ed834740458b97098
ms.sourcegitcommit: 670c38d85ef97bf236b45850fd4750e3b98c8899
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/08/2019
ms.locfileid: "68847011"
---
# <a name="tutorial-use-azure-cdn-to-enable-a-custom-domain-with-ssl-for-a-static-website"></a>Руководство. Включение личного домена с использованием протокола SSL для статического веб-сайта с помощью Azure CDN

Это руководство представляет собой вторую часть цикла. В нем вы узнаете, как включить конечную точку личного домена с использованием протокола SSL для вашего статического веб-сайта. 

В этом руководстве показано, как использовать [Azure CDN](../../cdn/cdn-overview.md), чтобы настроить конечную точку личного домена для вашего статического веб-сайта. С помощью Azure CDN можно подготовить пользовательские SSL-сертификаты, использовать личный домен и настроить все пользовательские правила повторного создания одновременно. Настройка Azure CDN приводит к дополнительным расходам, но обеспечивает постоянно низкую задержку при доступе к веб-сайту из любой точки мира. В Azure CDN можно также включить шифрование SSL с собственным сертификатом. Сведения о ценах на Azure CDN см. на [этой странице](https://azure.microsoft.com/pricing/details/cdn/).

Из второй части цикла вы узнаете, как выполнять следующие задачи:

> [!div class="checklist"]
> * Создать конечную точку CDN в конечной точке статического веб-сайта.
> * Включить личный домен и SSL.

## <a name="prerequisites"></a>Предварительные требования

Прежде чем начать работу с этим руководством, завершите первую часть — [руководство по размещению статического веб-сайта в хранилище BLOB-объектов](storage-blob-static-website-host.md). 

## <a name="sign-in-to-the-azure-portal"></a>Вход на портал Azure

Чтобы начать, войдите на [портал Azure](https://portal.azure.com/).

## <a name="create-a-cdn-endpoint-on-the-static-website-endpoint"></a>Создание конечной точки CDN в конечной точке статического веб-сайта

1. Найдите свою учетную запись хранения на портале Azure и отобразите общие сведения о ней.
1. В меню **Служба BLOB-объектов** выберите **Azure CDN**, чтобы настроить эту сеть.
1. В разделе **Профиль CDN** укажите новый или существующий профиль CDN. Дополнительные сведения см. в [кратком руководстве по созданию профиля и конечной точки Azure CDN](../../cdn/cdn-create-new-endpoint.md).
1. Укажите ценовую категорию для конечной точки CDN. В этом руководстве используется ценовая категория **Akamai уровня "Стандартный"** из-за быстроты ее применения (обычно в течение нескольких минут). Другие ценовые категории могут применяться дольше, но при этом обеспечивать другие преимущества. Подробные сведения см. в статье [Сравнение функций продуктов Azure CDN](../../cdn/cdn-features.md).
1. В поле **Имя конечной точки в сети доставки содержимого** укажите имя своей конечной точки CDN. Имя конечной точки CDN должно быть уникальным в Azure.
1. В поле **Имя узла источника** укажите конечную точку статического веб-сайта. Чтобы узнать конечную точку статического веб-сайта, перейдите к параметрам **Статический веб-сайт** для своей учетной записи хранения. Скопируйте основную конечную точку и вставьте ее в конфигурацию CDN, удалив идентификатор протокола (*например* HTTPS).

    На следующем изображении показан пример конфигурации конечной точки.

    ![Снимок экрана с примером конфигурации конечной точки CDN](media/storage-blob-static-website-custom-domain/add-cdn-endpoint.png)

1. Создайте конечную точку CDN и дождитесь ее распространения.
1. Чтобы убедиться, что конечная точка CDN настроена правильно, щелкните конечную точку, чтобы перейти к ее параметрам. В разделе общих сведений о конечной точке CDN для вашей учетной записи хранения найдите имя узла конечной точки и перейдите к конечной точке, как показано на следующем рисунке. Формат конечной точки CDN будет примерно таким: `https://staticwebsitesamples.azureedge.net`.

    ![Снимок экрана с разделом общих сведений о конечной точке CDN](media/storage-blob-static-website-custom-domain/verify-cdn-endpoint.png)

    По завершении распространения конечной точки CDN перейдите к ней, чтобы отобразить содержимое файла index.html, который вы ранее передали на свой статический веб-сайт.

1. Чтобы просмотреть параметры источника для конечной точки CDN, перейдите в подраздел **Источник** раздела **Параметры** конечной точки CDN. Вы увидите, что параметр **Тип источника** имеет значение *Настраиваемый источник*, а в поле **Имя узла источника** отображается конечная точка статического веб-сайта.

    ![Снимок экрана с параметрами источника для конечной точки CDN](media/storage-blob-static-website-custom-domain/verify-cdn-origin.png)

## <a name="enable-custom-domain-and-ssl"></a>Включение личного домена и SSL

1. Создайте запись CNAME с помощью поставщика доменных имен для перенаправления личного домена к конечной точке CDN. Запись CNAME для поддомена *www* должна быть следующего вида:

    ![Указание записи CNAME для поддомена www](media/storage-blob-static-website-custom-domain/subdomain-cname-record.png)

1. На портале Azure отобразите параметры конечной точки CDN. В разделе **Параметры** перейдите в подраздел **Личные домены**, чтобы настроить личный домен и SSL-сертификат.
1. Выберите **Добавить личный домен** и введите имя домена, а затем щелкните **Добавить**.
1. Выберите новое сопоставление личного домена, чтобы подготовить SSL-сертификат.
1. Установите для параметра **HTTPS для личного домена** состояние **включено** и нажмите кнопку **Сохранить**. Настройка личного домена может занять несколько часов. На портале будет отображаться ход выполнения, как показано на следующем рисунке.

    ![Снимок экрана, демонстрирующий ход выполнения настройки личного домена](media/storage-blob-static-website-custom-domain/configure-custom-domain-https.png)

1. Проверьте сопоставление статического веб-сайта с личным доменом, перейдя по URL-адресу личного домена.

Подробные сведения о включении HTTPS для личных доменов см. в статье [Руководство. Настройка протокола HTTPS для личного домена в Azure CDN](../../cdn/cdn-custom-ssl.md).

## <a name="next-steps"></a>Дополнительная информация

Во второй части этого руководства вы узнали, как настраивать личный домен с помощью протокола SSL в Azure CDN для вашего статического веб-сайта.

Подробные сведения о настройке и использовании сети доставки содержимого Azure см. в статье [Что такое сеть доставки содержимого в Azure?](../../cdn/cdn-overview.md)