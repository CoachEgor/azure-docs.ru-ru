---
title: Рекомендации по безопасности для хранения Blob
titleSuffix: Azure Storage
description: Узнайте о рекомендациях по безопасности для хранения Blob. Реализация этого руководства поможет вам выполнить свои обязательства по обеспечению безопасности, как это описано в нашей модели общей ответственности.
services: storage
author: tamram
ms.service: storage
ms.subservice: blobs
ms.topic: conceptual
ms.date: 03/11/2020
ms.author: tamram
ms.custom: security-recommendations
ms.openlocfilehash: 0b32f7e8fa2ec0d1d28f2fd42147e140d2d03341
ms.sourcegitcommit: 09a124d851fbbab7bc0b14efd6ef4e0275c7ee88
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2020
ms.locfileid: "82086119"
---
# <a name="security-recommendations-for-blob-storage"></a>Рекомендации по безопасности для хранения Blob

Эта статья содержит рекомендации по безопасности для хранения Blob. Реализация этих рекомендаций поможет вам выполнить свои обязательства по обеспечению безопасности, как это описано в нашей модели общей ответственности. Для получения дополнительной информации о том, что корпорация Майкрософт делает для выполнения обязанностей поставщика услуг, прочитайте [Общие обязанности по облачным вычислениям.](https://gallery.technet.microsoft.com/Shared-Responsibilities-81d0ff91/file/225366/1/Shared%20Responsibility%20for%20Cloud%20Computing-2019-10-25.pdf)

Некоторые рекомендации, включенные в эту статью, могут быть автоматически проверены Центром безопасности Azure. Центр безопасности Azure — это первая линия защиты ресурсов в Azure. Для получения информации о Центре безопасности Azure см. [What is Azure Security Center?](../../security-center/security-center-intro.md)

Центр безопасности Azure периодически анализирует состояние безопасности ресурсов Azure для выявления потенциальных уязвимостей безопасности. Затем он предоставляет вам рекомендации о том, как их решать. Более подробную информацию о рекомендациях Центра безопасности Azure можно узнать [в Центре безопасности Azure.](../../security-center/security-center-recommendations.md)

## <a name="data-protection"></a>Защита данных

| Рекомендация | Комментарии | Центр безопасности |
|-|----|--|
| Используйте модель развертывания ресурсов Azure | Создание новых учетных записей хранения с использованием модели развертывания ресурсов Azure Resource Manager для важных улучшений безопасности, включая превосходный контроль доступа (RBAC) и аудит, развертывание и управление менеджером ресурсов, доступ к управляемым идентификаторам, доступ к ресурсам azure Key Vault для секретов, а также аутентификацию на основе Azure AD и авторизацию доступа к данным и ресурсам хранилища Azure. Если это возможно, переносите существующие учетные записи хранения, которые используют классическую модель развертывания для использования менеджера ресурсов Azure. Для получения дополнительной информации об менеджере ресурсов Azure можно ознакомиться на [обзоре менеджера ресурсов Azure.](/azure/azure-resource-manager/resource-group-overview) | - |
| Включить требуемую опцию **Безопасной передачи** на всех ваших учетных записях | При вхотливке требуемой опции **безопасной передачи** все запросы, сделанные в отношении учетной записи хранилища, должны осуществляться по защищенным соединениям. Любые запросы, сделанные по HTTP, не сбудутся. Для получения дополнительной информации [см.](../common/storage-require-secure-transfer.md) | [Да](../../security-center/security-center-sql-service-recommendations.md) |
| Включить расширенную защиту угроз для всех учетных записей хранения | Расширенная защита от угроз для Azure Storage предоставляет дополнительный уровень безопасности, который обнаруживает необычные и потенциально опасные попытки получить доступ к учетным записям или использовать их. Оповещения о безопасности срабатывают в Центре безопасности Azure при возникновении аномалий в деятельности, а также отправляются по электронной почте администраторам подписки с подробной информацией о подозрительной деятельности и рекомендациями по расследованию и устранению угроз. Для получения дополнительной информации [см.](../common/storage-advanced-threat-protection.md) | [Да](../../security-center/security-center-sql-service-recommendations.md) |
| Включите мягкое удаление для данных капли | Мягкое удаление позволяет восстановить данные капли после их удаления. Для получения дополнительной информации о мягком удалении [см.](storage-blob-soft-delete.md) | - |
| Храните критически важные для бизнеса данные в непреложных каплях | Настройка юридических удержаний и временных политик удержания для хранения данных капли в состоянии WORM (Написать один раз, прочитайте много) состояния. Капли, хранящиеся непреложно, могут быть прочитаны, но не могут быть изменены или удалены в течение интервала удержания. Для получения дополнительной информации [см.](storage-blob-immutable-storage.md) | - |
| Ограничьте только доступ к подписям общего доступа (SAS) только соединениям HTTPS | Требование HTTPS при использовании токеном SAS для доступа к данным blob помогает свести к минимуму риск подслушивания. Для получения дополнительной информации см. [Грант ограниченный доступ к ресурсам хранения Azure с использованием общих подписей доступа (SAS)](../common/storage-sas-overview.md). | - |

## <a name="identity-and-access-management"></a>Управление удостоверениями и доступом

| Рекомендация | Комментарии | Центр безопасности |
|-|----|--|
| Используйте активный каталог Azure (Azure AD) для авторизации доступа к данным blob | Azure AD обеспечивает превосходную безопасность и простоту использования по сравнению с общим ключом для авторизации запросов на хранение Blob. Для получения дополнительной информации [см. Авторизовать доступ к каплям и очередям Azure с помощью Active Directory Azure.](../common/storage-auth-aad.md) | - |
| Имейте в виду основную сумму наименьших привилегий при назначении разрешений директору безопасности Azure AD через RBAC | При назначении роли пользователю, группе или приложению предоставы, которые основываются на безопасности, только те разрешения, которые необходимы им для выполнения их задач. Ограничение доступа к ресурсам помогает предотвратить непреднамеренное и злонамеренное неправомерное использование ваших данных. | - |
| Используйте делегацию пользователей SAS, чтобы предоставить клиентам ограниченный доступ к данным blob | Делегация пользователей SAS защищена учетными данными Active Directory (Azure AD), а также разрешениями, указанными для SAS. Делегация пользователя SAS аналогична сервису SAS с точки зрения сферы охвата и функции, но предлагает преимущества безопасности по сравнению с службой SAS. Для получения дополнительной информации см. [Грант ограниченный доступ к ресурсам хранения Azure с использованием общих подписей доступа (SAS)](../common/storage-sas-overview.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json). | - |
| Защищайте ключи доступа к учетной записи с помощью Azure Key Vault | Корпорация Майкрософт рекомендует использовать Azure AD для авторизации запросов в хранилище Azure. Однако, если необходимо использовать авторизацию Shared Key, защитите ключи учетной записи с помощью Azure Key Vault. Вы можете получить ключи из хранилища ключей во время выполнения, вместо того, чтобы сохранять их с помощью приложения. Для получения дополнительной информации о Убежище ключей Azure смотрите [обзор Azure Key Vault.](../../key-vault/general/overview.md) | - |
| Периодически регенерировать ключи учетной записи | Периодические вращения ключей учетной записи снижают риск передачи данных злоумышленникам. | - |
| Имейте в виду основную наименьшую привилегию при назначении разрешений SAS | При создании SAS укажите только те разрешения, которые требуются клиенту для выполнения его функции. Ограничение доступа к ресурсам помогает предотвратить непреднамеренное и злонамеренное неправомерное использование ваших данных. | - |
| Иметь план отзыва лицензии для любого SAS, который вы выдаете клиентам | Если SAS скомпрометирован, вы хотите отозвать Этот SAS как можно скорее. Чтобы отозвать делегацию пользователя SAS, отменить ключ делегации пользователя, чтобы быстро аннулировать все подписи, связанные с этим ключом. Чтобы отменить службу SAS, связанную с политикой сохраненного доступа, можно удалить сохраненную политику доступа, переименовать политику или изменить время ее действия на время, которое было в прошлом. Для получения дополнительной информации см. [Грант ограниченный доступ к ресурсам хранения Azure с использованием общих подписей доступа (SAS)](../common/storage-sas-overview.md).  | - |
| Если служба SAS не связана с сохраненной политикой доступа, установите срок действия до одного часа или менее | Служба SAS, не связанная с политикой сохраненного доступа, не может быть отозвана. По этой причине рекомендуется ограничить срок действия, чтобы SAS действителен в течение одного часа или менее. | - |
| Ограничьте анонимный доступ к чтению в открытых местах к контейнерам и кабоям | Анонимный, общедоступный доступ к контейнеру и его капли предоставляет только для чтения доступ к этим ресурсам для любого клиента. Избегайте предоставления общедоступного доступа к чтению, если сценарий не требует этого. | - |

## <a name="networking"></a>Сеть

| Рекомендация | Комментарии | Центр безопасности |
|-|----|--|
| Включить правила брандмауэра | Назначьте правила брандмауэра, чтобы ограничить доступ к учетной записи хранилища запросам, которые исходят от указанных IP-адресов или диапазонов, или из списка подсетей в виртуальной сети Azure (VNet). Для получения дополнительной информации о настройке правил брандмауэра [см.](../files/storage-sync-files-firewall-and-proxy.md) | - |
| Разрешить доверенным службам Майкрософт доступ к учетной записи хранилища | Включение правил брандмауэра для учетной записи хранилища блокирует входящие запросы данных по умолчанию, если только запросы поступают от службы, работающей в виртуальной сети Azure (VNet) или с разрешенных общедоступных IP-адресов. Запросы от других служб Azure, в том числе портала Azure, служб метрики и ведения журналов, блокируются. Вы можете разрешить запросы от других служб Azure, добавив исключение, позволяющее доверенным службам Майкрософт получить доступ к учетной записи хранилища. Для получения дополнительной информации о добавлении исключения для надежных служб Майкрософт [см.](../files/storage-sync-files-firewall-and-proxy.md)| - |
| Использование частных конечных точек | Частная конечная точка присваивает учетную запись хранилища частного IP-адреса из виртуальной сети Azure (VNet). Он обеспечивает безопасность всего трафика между Вашим VNet и учетной записью хранения по частной ссылке. Для получения дополнительной информации о частных конечных точках [см. Подключение к учетной записи хранения с помощью Azure Private Endpoint.](../../private-link/create-private-endpoint-storage-portal.md) | - |
| Используйте теги службvе VNet | Тег службы представляет собой группу префиксов IP-адресов из данной службы Azure. Корпорация Майкрософт управляет адресными префиксами, охватываемыми тегом службы, и автоматически обновляет тег службы при изменении адресов. Для получения дополнительной информации о тегах [Azure service tags overview](../../virtual-network/service-tags-overview.md)служб, поддерживаемых хранилищем Azure, см. В учебнике, в котором показано, как использовать теги услуг для создания исходящих сетевых правил, [см.](../../virtual-network/tutorial-restrict-network-access-to-resources.md) | - |
| Ограничение доступа к сетям для конкретных сетей | Ограничение сетевого доступа к сетям, принимающим клиентов, требующих доступа, снижает подверженность ваших ресурсов сетевым атакам. | [Да](../../security-center/security-center-sql-service-recommendations.md) |

## <a name="loggingmonitoring"></a>Регистрация/Мониторинг

| Рекомендация | Комментарии | Центр безопасности |
|-|----|--|
| Отслеживайте авторизуемые запросы | Включите журнал хранения Azure для отслеживания авторизованного запроса на хранение Azure. В журналах указывается, был ли запрос сделан анонимно, с помощью токена OAuth 2.0, с помощью shared Key или с помощью общей подписи доступа (SAS). Для получения дополнительной информации смотрите [журнал аналитики хранения данных Azure.](../common/storage-analytics-logging.md) | - |

## <a name="next-steps"></a>Дальнейшие действия

- [Документация безопасности Azure](https://docs.microsoft.com//azure/security/)
- [Безопасная документация по разработке](https://docs.microsoft.com/azure/security/develop/).
