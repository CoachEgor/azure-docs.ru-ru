---
title: Размещение статических веб-сайтов в службе хранилища Azure
description: Размещение статических веб-сайтов в службе хранилища Azure предоставляет экономичное, масштабируемое решение для размещения современных веб-приложений.
services: storage
author: normesta
ms.service: storage
ms.topic: article
ms.author: normesta
ms.reviewer: seguler
ms.date: 05/29/2019
ms.subservice: blobs
ms.openlocfilehash: 36cc8cebdb567cb9650ad1ad3baf72a0b5478247
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "66427978"
---
# <a name="static-website-hosting-in-azure-storage"></a>Размещение статических веб-сайтов в службе хранилища Azure

Может служить статическое содержимое (HTML, CSS, JavaScript и файлы изображений) непосредственно из контейнера хранилища с именем *$web*. Размещение содержимого в службе хранилища Azure позволяет использовать бессерверных архитектур, которые включают ["функции Azure"](/azure/azure-functions/functions-overview) и другие платформы как службы (PaaS).

> [!NOTE]
> Если веб-узла зависит от кода на стороне сервера, используйте [службе приложений Azure](/azure/app-service/overview) вместо этого.

## <a name="setting-up-a-static-website"></a>Настройка статического веб-сайта

Размещение статического веб-сайта — это функция, который необходимо включить в учетной записи хранения.

Чтобы включить статического размещения веб-сайта, выберите имя файла по умолчанию и затем при необходимости укажите путь к настраиваемая страница ошибки 404. Если контейнер хранилища BLOB-объектов с именем **$web** еще не существует в учетной записи, он будет создан автоматически. Добавьте файлы вашего сайта в этот контейнер.

Пошаговые инструкции см. в разделе [размещения статического веб-сайта в службе хранилища Azure](storage-blob-static-website-how-to.md).

![Выбор метрики для статических веб-сайтов службы хранилища Azure](./media/storage-blob-static-website/storage-blob-static-website-blob-container.png)

Файлы в **$web** контейнера учитывается регистр, обслуживаемых с помощью запросов на анонимный доступ, они также доступны только с помощью операций чтения.

## <a name="uploading-content"></a>Отправка содержимого

Можно использовать любой из этих средств для передачи содержимого в **$web** контейнера:

> [!div class="checklist"]
> * [Интерфейс командной строки Azure](storage-blob-static-website-how-to.md#cli)
> * [Overview of Azure PowerShell](storage-blob-static-website-how-to.md#powershell) (Общие сведения об Azure PowerShell)
> * [AzCopy](../common/storage-use-azcopy-v10.md)
> * [Azure Storage Explorer;](https://azure.microsoft.com/features/storage-explorer/)
> * [Azure Pipelines](https://azure.microsoft.com/services/devops/pipelines/)
> * [Расширение Visual Studio Code](https://code.visualstudio.com/tutorials/static-website/getting-started)

## <a name="viewing-content"></a>Просмотр содержимого

Пользователи могут просматривать содержимое узла из браузера с помощью общедоступного URL-адрес веб-сайта. URL-адрес можно найти с помощью портала Azure, Azure CLI или PowerShell. Используйте эту таблицу в качестве справочника.

|Средство| Руководство |
|----|----|
|**портал Azure** | [Поиск URL-адрес веб-сайта с помощью портала Azure](storage-blob-static-website-how-to.md#portal-find-url) |
|**Интерфейс командной строки Azure** | [Поиск URL-адрес веб-сайта с помощью Azure CLI](storage-blob-static-website-how-to.md#cli-find-url) |
|**Overview of Azure PowerShell** (Общие сведения об Azure PowerShell) | [Поиск URL-адрес веб-сайта с помощью PowerShell](storage-blob-static-website-how-to.md#powershell-find-url) |

URL-адрес сайта содержит регионального кода. Пример URL-адрес `https://contosoblobaccount.z22.web.core.windows.net/` содержит регионального кода `z22`.

Хотя этот код должен оставаться URL-адрес, он предназначен только для внутреннего использования, и вам не придется использовать этот код в любом другом.

Индекс документ, который вы указываете при включении размещения статического веб-сайта, появляется, если пользователи откройте сайт, а не указать конкретный файл (например: `https://contosoblobaccount.z22.web.core.windows.net`).  

Если сервер возвращает ошибку 404, а не указан документ ошибки при включении веб-сайт, 404 страница по умолчанию возвращается пользователю.

## <a name="impact-of-the-setting-the-public-access-level-of-the-web-container"></a>Влияние параметра уровень общего доступа веб-контейнер

Можно изменить уровень общего доступа **$web** контейнер, но это не оказывает влияния на конечную точку основной статического веб-сайта, так как эти файлы будут обслуживаться с помощью запросов анонимный доступ. Это означает общий доступ ко всем файлам (только для чтения).

На следующем рисунке показан параметр уровня общего доступа на портале Azure:

![Снимок экрана, показывающий, как задать уровень общего доступа на портале](./media/storage-manage-access-to-resources/storage-manage-access-to-resources-0.png)

Хотя первичный статический веб-сайт конечной точки не затрагивается, изменения уровня общего доступа влияет на конечную точку службы основного большого двоичного объекта.

Например, если изменить уровень общего доступа **$web** контейнера из **Private (без анонимного доступа)** для **большой двоичный объект (анонимный доступ на чтение для больших двоичных объектов только)** , а затем уровень общего доступа к конечной точке основного статический веб-сайт `https://contosoblobaccount.z22.web.core.windows.net/index.html` не изменяется.

Тем не менее, общий доступ к основной большой двоичный объект конечной точки службы `https://contosoblobaccount.blob.core.windows.net/$web/index.html` измените с закрытого на public. Теперь пользователи могут открывать этот файл с помощью любого из этих двух конечных точек.

## <a name="content-delivery-network-cdn-and-secure-socket-layer-ssl-support"></a>Сеть доставки содержимого (CDN) и поддержки Secure Socket Layer (SSL)

Чтобы сделать доступным файлов статического веб-сайта по личного домена и HTTPS, см. в разделе [использование Azure CDN для доступа к большим двоичным объектам с пользовательскими доменами по протоколу HTTPS](storage-https-custom-domain-cdn.md). В ходе этого процесса, необходимо указать CDN к первичной реплике *статический веб-сайт* конечной точки, в отличие от основного *служба BLOB-объектов* конечной точки. Может потребоваться подождать несколько минут, прежде, чем содержимое отображается как конфигурации CDN не выполняются немедленно.

При обновлении вашей статического веб-сайта, не забудьте очистить кэшированное содержимое на пограничных серверах CDN, очистка конечной точки CDN. Дополнительные сведения см. в статье [Очистка конечной точки сети CDN Azure](../../cdn/cdn-purge-endpoint.md).

> [!NOTE]
> HTTPS поддерживается через сетевой конечной точке учетной записи, скомпилированных в собственном коде, и сетевой конечной точке становится доступен через HTTP и HTTPS. Тем не менее если учетной записи хранения настроен на требование безопасной передачи по протоколу HTTPS, пользователи должны использовать конечную точку HTTPS. Дополнительные сведения см. в разделе [требование безопасной передачи в службе хранилища Azure](../common/storage-require-secure-transfer.md).
>
> Использование пользовательских доменов по протоколу HTTPS требует использования Azure CDN в настоящее время.

## <a name="custom-domain-names"></a>Имена пользовательских доменов

Вы можете предоставить вашей статического веб-сайта с помощью личного домена. Дополнительные сведения см. в разделе [Настройка имени личного домена для учетной записи хранения Azure](storage-custom-domain-name.md).

Подробно рассмотрено размещение домена в Azure, см. в разделе [размещать свой домен в Azure DNS](../../dns/dns-delegate-domain-azure-dns.md).

## <a name="pricing"></a>Цены

Вы можете включить размещение статический веб-сайт бесплатно. Счет выставляется только за хранилище BLOB-объектов, который использует веб-узла и эксплуатационные расходы. Дополнительные сведения о ценах на хранилище BLOB-объектов Azure см. на [странице цен](https://azure.microsoft.com/pricing/details/storage/blobs/).

## <a name="metrics"></a>metrics

Вы можете включить метрики на страницах статического веб-сайта. После включения метрик, трафик статистики для файлов в **$web** контейнера отображаются в панели мониторинга метрик.

Чтобы включить метрики на страницах статический веб-сайт, см. в разделе [включить метрики на страницах статический веб-сайт](storage-blob-static-website-how-to.md#metrics).

## <a name="next-steps"></a>Дальнейшие действия

* [Размещение статического веб-сайта в службе хранилища Azure](storage-blob-static-website-how-to.md)
* [Использование Azure CDN для доступа к большим двоичным объектам с пользовательскими доменами по протоколу HTTPS](storage-https-custom-domain-cdn.md)
* [Настройка имени личного домена для конечной точки хранилища BLOB-объектов](storage-custom-domain-name.md)
* [Функции Azure](/azure/azure-functions/functions-overview)
* [службе приложений Azure](/azure/app-service/overview)
* [Создание первого бессерверного веб-приложения](https://docs.microsoft.com/azure/functions/tutorial-static-website-serverless-api-with-database)
* [Учебник. по размещению домена в Azure DNS](../../dns/dns-delegate-domain-azure-dns.md)
