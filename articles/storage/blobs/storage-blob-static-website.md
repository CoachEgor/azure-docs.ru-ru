---
title: Размещение статических веб-сайтов в службе хранилища Azure
description: Размещение статических веб-сайтов в службе хранилища Azure предоставляет экономичное, масштабируемое решение для размещения современных веб-приложений.
author: normesta
ms.service: storage
ms.topic: conceptual
ms.author: normesta
ms.reviewer: dineshm
ms.date: 05/29/2019
ms.subservice: blobs
ms.openlocfilehash: 8dc5599e681d9aee84f884cd4990163a2481d386
ms.sourcegitcommit: f2149861c41eba7558649807bd662669574e9ce3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2020
ms.locfileid: "75708168"
---
# <a name="static-website-hosting-in-azure-storage"></a>Размещение статических веб-сайтов в службе хранилища Azure

Вы можете обрабатывать статическое содержимое (HTML, CSS, JavaScript и файлы изображений) непосредственно из контейнера хранилища с именем *$Web*. Размещение содержимого в службе хранилища Azure позволяет использовать бессерверные архитектуры, включающие [функции Azure](/azure/azure-functions/functions-overview) и другие службы "платформа как услуга" (PaaS).

> [!NOTE]
> Если ваш сайт зависит от кода на стороне сервера, используйте вместо него [службу приложений Azure](/azure/app-service/overview) .

## <a name="setting-up-a-static-website"></a>Настройка статического веб-сайта

Размещение статических веб-сайтов — это функция, которую необходимо включить в учетной записи хранения.

Чтобы включить размещение статических веб-сайтов, выберите имя файла по умолчанию, а затем при необходимости укажите путь к пользовательской странице 404. Если контейнер хранилища BLOB-объектов с именем **$Web** еще не существует в учетной записи, он будет создан автоматически. Добавьте файлы сайта в этот контейнер.

Пошаговые инструкции см. [в разделе размещение статического веб-сайта в службе хранилища Azure](storage-blob-static-website-how-to.md).

![Выбор метрики для статических веб-сайтов службы хранилища Azure](./media/storage-blob-static-website/storage-blob-static-website-blob-container.png)

Файлы в контейнере **$Web** чувствительны к регистру, обрабатываются через анонимные запросы и доступны только через операции чтения.

## <a name="uploading-content"></a>Отправка содержимого

Вы можете использовать любое из этих средств для отправки содержимого в контейнер **$Web** :

> [!div class="checklist"]
> * [Azure CLI](storage-blob-static-website-how-to.md#cli)
> * [Overview of Azure PowerShell](storage-blob-static-website-how-to.md#powershell) (Общие сведения об Azure PowerShell)
> * [AzCopy](../common/storage-use-azcopy-v10.md)
> * [Обозреватель службы хранилища Azure](https://azure.microsoft.com/features/storage-explorer/)
> * [Azure Pipelines](https://azure.microsoft.com/services/devops/pipelines/)
> * [Расширение Visual Studio Code](/azure/javascript/tutorial-vscode-static-website-node-01)

## <a name="viewing-content"></a>Просмотр содержимого

Пользователи могут просматривать содержимое сайта в браузере с помощью общедоступного URL-адреса веб – сайта. URL-адрес можно найти с помощью портал Azure, Azure CLI или PowerShell. Используйте эту таблицу в качестве справочника.

|Средство| Руководство |
|----|----|
|**Портал Azure** | [Поиск URL-адреса веб-сайта с помощью портал Azure](storage-blob-static-website-how-to.md#portal-find-url) |
|**Azure CLI** | [Поиск URL-адреса веб-сайта с помощью Azure CLI](storage-blob-static-website-how-to.md#cli-find-url) |
|**Overview of Azure PowerShell** (Общие сведения об Azure PowerShell) | [Поиск URL-адреса веб-сайта с помощью PowerShell](storage-blob-static-website-how-to.md#powershell-find-url) |

URL-адрес сайта содержит региональный код. Например, URL-адрес `https://contosoblobaccount.z22.web.core.windows.net/` содержит региональные `z22`кода.

Хотя этот код должен оставаться в URL-адресе, он предназначен только для внутреннего использования, и вам не придется использовать этот код другим способом.

Документ индекса, указанный при включении размещения статических веб-сайтов, отображается, когда пользователи открывают сайт и не указывают конкретный файл (например, `https://contosoblobaccount.z22.web.core.windows.net`).  

Если сервер возвращает ошибку 404 и при включении веб-сайта не был указан документ об ошибке, то пользователю возвращается страница 404 по умолчанию.

> [!NOTE]
> [CORS](https://docs.microsoft.com/rest/api/storageservices/cross-origin-resource-sharing--cors--support-for-the-azure-storage-services) не поддерживается на статическом веб-сайте.

## <a name="impact-of-the-setting-the-public-access-level-of-the-web-container"></a>Влияние параметра на общий уровень доступа веб-контейнера

Можно изменить уровень общего доступа контейнера **$Web** , но это не повлияет на конечную точку основной статической веб-сайта, так как эти файлы обслуживаются через запросы анонимного доступа. Это означает доступ ко всем файлам — Public (только для чтения).

На следующем снимке экрана показан параметр уровня общего доступа в портал Azure.

![Снимок экрана, показывающий, как задать общий уровень доступа на портале](./media/storage-manage-access-to-resources/storage-manage-access-to-resources-0.png)

Хотя основная конечная точка веб-сайта не затрагивается, изменение общедоступного уровня доступа влияет на конечную точку основной службы больших двоичных объектов.

Например, если изменить уровень общего доступа **$Web** контейнера с **Private (без анонимного доступа)** на **BLOB-объект (анонимный доступ на чтение только для больших двоичных объектов)** , то уровень общего доступа к основной конечной точке веб-сайта `https://contosoblobaccount.z22.web.core.windows.net/index.html` не изменится.

Однако открытый доступ к основной конечной точке службы BLOB-объектов `https://contosoblobaccount.blob.core.windows.net/$web/index.html` меняется с Private на public. Теперь пользователи могут открыть этот файл с помощью любой из этих двух конечных точек.

## <a name="content-delivery-network-cdn-and-secure-socket-layer-ssl-support"></a>Сеть доставки содержимого (CDN) и поддержка протокола SSL

Сведения о том, как сделать файлы статических веб-сайтов доступными через личный домен и HTTPS, см. в разделе [использование Azure CDN для доступа к BLOB-объектам с пользовательскими доменами по протоколу HTTPS](storage-https-custom-domain-cdn.md). В рамках этого процесса необходимо указать CDN на основную конечную точку *статического веб-сайта* , а не в основную конечную точку *службы больших двоичных объектов* . Возможно, потребуется подождать несколько минут, прежде чем содержимое будет отображаться, так как конфигурация CDN не будет немедленно выполнена.

При обновлении статического веб-сайта не забудьте очистить кэшированное содержимое на пограничных серверах CDN, выполнив очистку конечной точки CDN. Дополнительные сведения см. в статье [Очистка конечной точки сети CDN Azure](../../cdn/cdn-purge-endpoint.md).

> [!NOTE]
> Протокол HTTPS поддерживается с помощью веб-конечной точки учетной записи, поэтому веб-конечная точка доступна через HTTP и HTTPS. Однако если учетная запись хранения настроена на требование безопасной передачи по протоколу HTTPS, пользователи должны использовать конечную точку HTTPS. Дополнительные сведения см. [в статье обязательное безопасное перемещение в службе хранилища Azure](../common/storage-require-secure-transfer.md).
>
> Использование пользовательских доменов по протоколу HTTPS требует использования Azure CDN в настоящее время.

## <a name="custom-domain-names"></a>Имена личных доменов

Статический веб-сайт можно сделать доступным через личный домен. Дополнительные сведения см. в статье [Настройка пользовательского доменного имени для учетной записи хранения Azure](storage-custom-domain-name.md).

Подробный обзор размещения домена в Azure см. в разделе [Размещение домена в Azure DNS](../../dns/dns-delegate-domain-azure-dns.md).

## <a name="pricing"></a>Стоимость

Можно включить бесплатное размещение статических веб-сайтов. Вы оплачиваете только хранилище BLOB-объектов, которое использует ваш сайт, и затраты на эксплуатацию. Дополнительные сведения о ценах на хранилище BLOB-объектов Azure см. на [странице цен](https://azure.microsoft.com/pricing/details/storage/blobs/).

## <a name="metrics"></a>Метрики

Вы можете включить метрики на статических страницах веб-сайта. После включения метрик в панели мониторинга метрик отображается статистика трафика по файлам в контейнере **$Web** .

Сведения о включении метрик на статических страницах веб-сайта см. в разделе [Включение метрик на статических страницах веб-сайта](storage-blob-static-website-how-to.md#metrics).

## <a name="next-steps"></a>Дальнейшие действия

* [Размещение статического веб-сайта в службе хранилища Azure](storage-blob-static-website-how-to.md)
* [Использование Azure CDN для доступа к BLOB-объектам с пользовательскими доменами по протоколу HTTPS](storage-https-custom-domain-cdn.md)
* [Настройка имени личного домена для конечной точки хранилища BLOB-объектов](storage-custom-domain-name.md)
* [Функции Azure](/azure/azure-functions/functions-overview)
* [Служба приложений Azure](/azure/app-service/overview)
* [Создание первого бессерверного веб-приложения](https://docs.microsoft.com/azure/functions/tutorial-static-website-serverless-api-with-database)
* [Руководство. Размещение домена в Azure DNS](../../dns/dns-delegate-domain-azure-dns.md)
