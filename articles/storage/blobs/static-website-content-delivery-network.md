---
title: Интеграция статического веб-сайта с Azure CDN - Azure Storage
description: Узнайте, как кэшировать статический контент веб-сайта из учетной записи хранения Azure с помощью Azure Content Delivery Network (CDN).
author: normesta
ms.service: storage
ms.subservice: blobs
ms.topic: conceptual
ms.author: normesta
ms.date: 04/07/2020
ms.openlocfilehash: 4516e9f48174a0f1f5201c46cf114badf13d99d6
ms.sourcegitcommit: 2d7910337e66bbf4bd8ad47390c625f13551510b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80878831"
---
# <a name="integrate-a-static-website-with-azure-cdn"></a>Интеграция статического веб-сайта с Azure CDN

Вы можете включить [сеть доставки содержимого Azure (CDN)](../../cdn/cdn-overview.md) для кэша содержимого [статического веб-сайта,](storage-blob-static-website.md) размещенного в учетной записи хранения Azure. Вы можете использовать Azure CDN для настройки пользовательской конечной точки домена для вашего статического веб-сайта, предоставления пользовательских сертификатов TLS/SSL и настройки пользовательских правил переписывания. Настройка Azure CDN приводит к дополнительным расходам, но обеспечивает постоянно низкую задержку при доступе к веб-сайту из любой точки мира. Azure CDN также предоставляет шифрование TLS с вашим собственным сертификатом. 

Сведения о ценах на Azure CDN см. на [этой странице](https://azure.microsoft.com/pricing/details/cdn/).

## <a name="enable-azure-cdn-for-your-static-website"></a>Включите Azure CDN для вашего статического веб-сайта

Вы можете включить Azure CDN для вашего статического веб-сайта прямо из учетной записи хранения. Если для конечной точки CDN нужно указать дополнительные параметры, например [оптимизировать скачивание больших файлов](../../cdn/cdn-optimization-overview.md#large-file-download), создайте конечную точку CDN или профиль CDN с помощью [расширения Azure CDN](../../cdn/cdn-create-new-endpoint.md).

1. Найдите свою учетную запись хранения на портале Azure и отобразите общие сведения о ней.

1. В меню **службы Blob** выберите **Azure CDN,** чтобы открыть страницу **Azure CDN:**

    ![Создание конечной точки CDN](media/storage-blob-static-website-custom-domain/cdn-storage-new.png)

1. В разделе **профиля CDN** укажите, следует ли создавать новый профиль CDN или использовать существующий. Профиль CDN представляет собой набор конечных точек CDN, которые разделяют ценовой уровень и поставщика. Затем введите уникальное имя CDN в вашей подписке.

1. Укажите ценовую категорию для конечной точки CDN. Чтобы узнать больше о [ценах, см.](https://azure.microsoft.com/pricing/details/cdn/) Для получения дополнительной информации о функциях, доступных с каждым уровнем, [см.](../../cdn/cdn-features.md)

1. В поле **Имя конечной точки в сети доставки содержимого** укажите имя своей конечной точки CDN. Конечная точка CDN должна быть уникальной в Azure и должна предоставить первую часть URL-адреса конечных точек. Форма подтверждает, что имя конечных точек является уникальным.

1. Укажите свою конечную точку статического веб-сайта в поле **хоста Origin.** 

   Чтобы узнать конечную точку статического веб-сайта, перейдите к параметрам **Статический веб-сайт** для своей учетной записи хранения.  Копируйте первичную конечную точку и вставьте ее в конфигурацию CDN.

   > [!IMPORTANT]
   > Убедитесь в том, чтобы удалить идентификатор протокола *(например,* HTTPS) и задняя косая черта в URL. Например, если статическая конечная точка веб-сайта — это, `https://mystorageaccount.z5.web.core.windows.net/`то вы укажете `mystorageaccount.z5.web.core.windows.net` в поле **хоста Origin.**

   На следующем изображении показан пример конфигурации конечной точки.

   ![Снимок экрана с примером конфигурации конечной точки CDN](media/storage-blob-static-website-custom-domain/add-cdn-endpoint.png)

1. Выберите **Создать,** а затем ждать CDN для обеспечения. Созданная конечная точка отображается в списке конечных точек. (Если у вас есть какие-либо ошибки в форме, рядом с этим полем появляется восклицательный знак.)

1. Чтобы убедиться, что конечная точка CDN настроена правильно, щелкните конечную точку, чтобы перейти к ее параметрам. В разделе общих сведений о конечной точке CDN для вашей учетной записи хранения найдите имя узла конечной точки и перейдите к конечной точке, как показано на следующем рисунке. Формат конечной точки CDN будет примерно таким: `https://staticwebsitesamples.azureedge.net`.

    ![Снимок экрана с разделом общих сведений о конечной точке CDN](media/storage-blob-static-website-custom-domain/verify-cdn-endpoint.png)

1. После того, как конечная точка CDN подготовлена, навигация по конечной точке CDN отображает содержимое файла index.html, который вы ранее загрузили на ваш статический веб-сайт.

1. Чтобы просмотреть параметры источника для конечной точки CDN, перейдите в подраздел **Источник** раздела **Параметры** конечной точки CDN. Вы увидите, что параметр **Тип источника** имеет значение *Настраиваемый источник*, а в поле **Имя узла источника** отображается конечная точка статического веб-сайта.

    ![Снимок экрана с параметрами источника для конечной точки CDN](media/storage-blob-static-website-custom-domain/verify-cdn-origin.png)

## <a name="remove-content-from-azure-cdn"></a>Удаление содержимого из Azure CDN

Если кэширование объекта в сети CDN Azure больше не требуется, можно выполнить одно из следующих действий:

* Сделать контейнер закрытым, а не общедоступным. Дополнительные сведения см. в статье [Управление анонимным доступом на чтение к контейнерам и большим двоичным объектам](storage-manage-access-to-resources.md).
* Отключить или удалить конечную точку CDN с помощью портала Azure.
* Изменить размещенную службу, чтобы она перестала отвечать на запросы объекта.

Объект, кэшированный в сети Azure CDN, сохраняется в кэше до истечения срока жизни для этого объекта или до [очистки](../../cdn/cdn-purge-endpoint.md) конечной точки. По истечении срока действия Azure CDN проверит, действует ли еще конечная точка CDN и возможен ли анонимный доступ к этому объекту. Если это не так, объект больше не будет кэшироваться.

## <a name="next-steps"></a>Дальнейшие действия

(Необязательно) Добавьте пользовательский домен в конечную точку Azure CDN. Смотрите [учебник: Добавьте пользовательский домен в конечную точку Azure CDN.](../../cdn/cdn-map-content-to-custom-domain.md)
