---
title: Рекомендации по безопасности для хранилища очередей
titleSuffix: Azure Storage
description: Сведения о рекомендациях по обеспечению безопасности для хранилища очередей. Реализация этого руководства поможет вам выполнить обязательства по обеспечению безопасности, как описано в нашей общей модели ответственности.
services: storage
author: tamram
ms.service: storage
ms.topic: conceptual
ms.date: 12/12/2019
ms.author: tamram
ms.custom: security-recommendations
ms.openlocfilehash: 1315e1f81ee32a544b623b7f3ffad61a7e7275d8
ms.sourcegitcommit: f4f626d6e92174086c530ed9bf3ccbe058639081
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/25/2019
ms.locfileid: "75486291"
---
# <a name="security-recommendations-for-queue-storage"></a>Рекомендации по безопасности для хранилища очередей

Эта статья содержит рекомендации по обеспечению безопасности для хранилища очередей. Реализация этих рекомендаций поможет вам удовлетворить обязательства по обеспечению безопасности, как описано в нашей общей модели ответственности. Дополнительные сведения о том, что делает корпорация Майкрософт для выполнения обязанностей поставщиков услуг, см. в статье [Общие обязанности для облачных вычислений](https://gallery.technet.microsoft.com/Shared-Responsibilities-81d0ff91/file/225366/1/Shared%20Responsibility%20for%20Cloud%20Computing-2019-10-25.pdf).

Некоторые из рекомендаций, описанных в этой статье, можно автоматически отслеживать с помощью центра безопасности Azure. Центр безопасности Azure — это первая строка защиты ресурсов в Azure. Сведения о центре безопасности Azure см. в статье [что такое центр безопасности Azure?](../../security-center/security-center-intro.md).

Центр безопасности Azure периодически анализирует состояние безопасности ресурсов Azure для выявления потенциальных уязвимостей системы безопасности. Затем он предоставляет рекомендации по их устранению. Дополнительные сведения о рекомендациях центра безопасности Azure см. [в статье рекомендации по безопасности в центре безопасности Azure](../../security-center/security-center-recommendations.md).

## <a name="data-protection"></a>Защита данных

| Рекомендация | Комментарии | Центр безопасности |
|-|----|--|
| Использование модели развертывания Azure Resource Manager | Создание новых учетных записей хранения с помощью модели развертывания Azure Resource Manager для важных улучшений безопасности, включая полный контроль доступа (RBAC) и аудит, развертывание и управление на основе диспетчер ресурсов, доступ к управляемым удостоверениям, доступ для Azure Key Vault секретов, проверки подлинности и авторизации на основе Azure AD для доступа к данным и ресурсам службы хранилища Azure. По возможности перенесите существующие учетные записи хранения, использующие классическую модель развертывания, для использования Azure Resource Manager. Дополнительные сведения о Azure Resource Manager см. в разделе Общие сведения о [Azure Resource Manager](/azure/azure-resource-manager/resource-group-overview). | - |
| Включение параметра " **требуется безопасное перемещение** " для всех учетных записей хранения | При включении параметра " **требуется безопасное перемещение** " все запросы к учетной записи хранения должны выполняться по защищенным соединениям. Любые запросы, выполненные по протоколу HTTP, завершатся ошибкой. Дополнительные сведения см. [в статье обязательное безопасное перемещение в службе хранилища Azure](../common/storage-require-secure-transfer.md). | [Да](../../security-center/security-center-sql-service-recommendations.md) |
| Включить расширенную защиту от угроз для всех учетных записей хранения | Расширенная защита от угроз для службы хранилища Azure предоставляет дополнительный уровень логики безопасности, который обнаруживает необычные и потенциально опасные попытки доступа или использования учетных записей хранения. Оповещения системы безопасности активируются в центре безопасности Azure при возникновении аномалий в работе, а также отправляются по электронной почте администраторам подписки с подробными сведениями о подозрительных действиях и рекомендациями по исследованию и устранению угроз. Дополнительные сведения см. в статье [Расширенная защита от угроз для службы хранилища Azure](../common/storage-advanced-threat-protection.md). | [Да](../../security-center/security-center-sql-service-recommendations.md) |
| Ограничить токены подписанного URL-адресом (SAS) только HTTPS-подключениями | Обязательное использование HTTPS, если клиент использует маркер SAS для доступа к данным очереди, помогая снизить риск перехвата. Дополнительные сведения см. [в статье предоставление ограниченного доступа к ресурсам службы хранилища Azure с помощью подписанных URL-адресов (SAS)](../common/storage-sas-overview.md). | - |

## <a name="identity-and-access-management"></a>Управление идентификационной информацией и доступом

| Рекомендация | Комментарии | Центр безопасности |
|-|----|--|
| Использование Azure Active Directory (Azure AD) для авторизации доступа к данным очереди | Azure AD обеспечивает более высокую безопасность и простоту использования общего ключа для авторизации запросов к хранилищу очередей. Дополнительные сведения см. [в статье авторизация доступа к BLOB-объектам и очередям Azure с помощью Azure Active Directory](../common/storage-auth-aad.md). | - |
| При назначении разрешений субъекту безопасности Azure AD через RBAC следует учитывать основные полномочия. | При назначении роли пользователю, группе или приложению предоставьте этому субъекту безопасности только те разрешения, которые необходимы им для выполнения своих задач. Ограничение доступа к ресурсам помогает предотвратить непреднамеренное и вредоносное неправильное использование данных. | - |
| Защита ключей доступа к учетной записи с помощью Azure Key Vault | Корпорация Майкрософт рекомендует использовать Azure AD для авторизации запросов к службе хранилища Azure. Однако, если необходимо использовать авторизацию с общим ключом, защитите ключи учетной записи с помощью Azure Key Vault. Вы можете получить ключи из хранилища ключей во время выполнения, а не сохранять их вместе с приложением. | - |
| Периодическое повторное создание ключей учетной записи | Вращение ключей учетной записи периодически снижает риск предоставления данных вредоносным субъектам. | - |
| При назначении разрешений для SAS следует помнить о минимальных правах доступа | При создании SAS укажите только те разрешения, которые требуются клиенту для выполнения своей функции. Ограничение доступа к ресурсам помогает предотвратить непреднамеренное и вредоносное неправильное использование данных. | - |
| Наличие плана отзыва для любого SAS, который вы выдаете клиентам | В случае компрометации SAS необходимо как можно скорее отозвать этот SAS. Чтобы отозвать SAS пользователя, отмените ключ делегирования пользователя, чтобы быстро сделать недействительными все подписи, связанные с этим ключом. Чтобы отозвать SAS службы, связанный с хранимой политикой доступа, можно удалить хранимую политику доступа, переименовать политику или изменить время окончания срока действия на время в прошлом. Дополнительные сведения см. [в статье предоставление ограниченного доступа к ресурсам службы хранилища Azure с помощью подписанных URL-адресов (SAS)](../common/storage-sas-overview.md).  | - |
| Если ПОДПИСАНный URL-адрес службы не связан с хранимой политикой доступа, установите время истечения до одного часа или меньше. | ПОДПИСАНный URL-адрес службы, который не связан с хранимой политикой доступа, нельзя отозвать. Поэтому рекомендуется ограничить срок действия, чтобы SAS был действителен в течение одного часа или меньше. | - |

## <a name="networking"></a>Работа в сети

| Рекомендация | Комментарии | Центр безопасности |
|-|----|--|
| Включить правила брандмауэра | Настройте правила брандмауэра, чтобы ограничить доступ к учетной записи хранения для запросов, исходящих из указанных IP-адресов или диапазонов, или из списка подсетей в виртуальной сети Azure. Дополнительные сведения о настройке правил брандмауэра см. в разделе [Синхронизация файлов Azure параметры прокси-сервера и брандмауэра](../files/storage-sync-files-firewall-and-proxy.md). | - |
| Разрешить доверенным службам Майкрософт доступ к учетной записи хранения | Включение правил брандмауэра для вашей учетной записи хранения блокирует входящие запросы данных по умолчанию, если запросы не берутся из службы, работающей в виртуальной сети Azure (VNet), или из разрешенных общедоступных IP-адресов. Запросы от других служб Azure, в том числе портала Azure, служб метрики и ведения журналов, блокируются. Вы можете разрешить запросы от других служб Azure, добавив исключение, чтобы разрешить доверенным службам Майкрософт доступ к учетной записи хранения. Дополнительные сведения о добавлении исключений для доверенных служб Майкрософт см. в разделе [Синхронизация файлов Azure параметры прокси-сервера и брандмауэра](../files/storage-sync-files-firewall-and-proxy.md).| - |
| Использование частных конечных точек | Частная конечная точка назначает в учетной записи хранения частный IP-адрес из виртуальной сети Azure (VNet). Он обеспечивает безопасность всего трафика между виртуальной сетью и учетной записью хранения по частному каналу. Дополнительные сведения о частных конечных точках см. в статье VPN [-Подключение к учетной записи хранения с помощью частной конечной точки Azure](../../private-link/create-private-endpoint-storage-portal.md). | - |
| Ограничение сетевого доступа к конкретным сетям | Ограничение сетевого доступа к сетям, в которых размещаются клиенты, которым требуется доступ, снижает уязвимость ресурсов для сетевых атак. | [Да](../../security-center/security-center-sql-service-recommendations.md) |

## <a name="loggingmonitoring"></a>Ведение журнала и мониторинг

| Рекомендация | Комментарии | Центр безопасности |
|-|----|--|
| Контроль авторизации запросов | Включите ведение журнала службы хранилища Azure, чтобы отслеживание авторизации каждого запроса к службе хранилища Azure. Журналы указывают, был ли запрос анонимно, с помощью маркера OAuth 2,0, с помощью общего ключа или подписанного URL-адрес (SAS). Дополнительные сведения см. в статье [ведение журнала аналитики хранилища Azure](../common/storage-analytics-logging.md). | - |

## <a name="next-steps"></a>Дальнейшие действия

- [Документация по безопасности Azure](https://docs.microsoft.com//azure/security/)
- [Документация по разработке безопасности](https://docs.microsoft.com/azure/security/develop/).
