---
title: Шифрование службы хранилища Azure для неактивных данных | Документация Майкрософт
description: Служба хранилища Azure защищает данные, автоматически шифруя их перед сохранением в облаке. Все данные в хранилище Azure шифруются и расшифровываются прозрачно с помощью 256-разрядного шифрования AES и совместимы с FIPS 140-2.
services: storage
author: tamram
ms.service: storage
ms.topic: conceptual
ms.date: 05/15/2019
ms.author: tamram
ms.reviewer: cbrooks
ms.subservice: common
ms.openlocfilehash: 2abaa994bf507c3ffb65199af9ac609ece138ea4
ms.sourcegitcommit: 2d9a9079dd0a701b4bbe7289e8126a167cfcb450
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/29/2019
ms.locfileid: "71673047"
---
# <a name="azure-storage-encryption-for-data-at-rest"></a>Шифрование неактивных данных в службе хранилища Azure

Служба хранилища Azure автоматически шифрует данные при сохранении их в облаке. Шифрование защищает ваши данные и помогает удовлетворить ваши обязательства по обеспечению безопасности и соответствия требованиям Организации. Данные в службе хранилища Azure шифруются и расшифровываются прозрачно с использованием 256-разрядного [шифрования AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard), одним из наиболее подданных блоков блочных шифров и совместимым с FIPS 140-2. Шифрование службы хранилища Azure аналогично шифрованию BitLocker в Windows.

Шифрование службы хранилища Azure включено для всех новых и существующих учетных записей хранения и не может быть отключено. Поскольку данные защищены по умолчанию, вам не нужно изменять код или приложения, чтобы воспользоваться преимуществами шифрования службы хранилища Azure. 

Учетные записи хранения шифруются независимо от уровня производительности ("Стандартный" или "Премиум") или модели развертывания (Azure Resource Manager или классической версии). Все параметры избыточности службы хранилища Azure поддерживают шифрование, а все копии учетной записи хранения шифруются. Все ресурсы службы хранилища Azure шифруются, включая большие двоичные объекты, диски, файлы, очереди и таблицы. Все метаданные объекта также шифруются.

Шифрование не влияет на производительность службы хранилища Azure. Дополнительные затраты на шифрование службы хранилища Azure отсутствуют.

Дополнительные сведения о криптографических модулях, лежащих в основе шифрования службы хранилища Azure, см. в разделе [Cryptography API: Next Generation](https://docs.microsoft.com/windows/desktop/seccng/cng-portal) (API Cryptography: следующее поколение).

## <a name="key-management"></a>Управление ключами

Вы можете использовать ключи, управляемые корпорацией Майкрософт, для шифрования учетной записи хранения или управлять шифрованием с помощью собственных ключей, а также Azure Key Vault.

### <a name="microsoft-managed-keys"></a>Ключи, управляемые корпорацией Майкрософт

По умолчанию учетная запись хранения использует ключи шифрования, управляемые корпорацией Майкрософт. Параметры шифрования для вашей учетной записи хранения можно просмотреть в разделе " **Шифрование** " [портал Azure](https://portal.azure.com), как показано на следующем рисунке.

![Просмотр учетной записи, зашифрованной с помощью ключей, управляемых корпорацией Майкрософт](media/storage-service-encryption/encryption-microsoft-managed-keys.png)

### <a name="customer-managed-keys"></a>Ключи, управляемые клиентом

Вы можете управлять шифрованием службы хранилища Azure с помощью управляемых клиентом ключей. Ключи, управляемые клиентом, обеспечивают большую гибкость при создании, повороте, отключении и отмене контроля доступа. Кроме того, можно выполнять аудит ключей шифрования, используемых для защиты данных. 

Используйте Azure Key Vault для управления ключами и аудита использования ключа. Можно либо создать собственные ключи и сохранить их в хранилище ключей, либо использовать Azure Key Vault API для создания ключей. Учетная запись хранения и Key Vault должны быть расположены в одном регионе, но могут находиться в разных подписках. Дополнительные сведения о Azure Key Vault см. в разделе [что такое Azure Key Vault?](../../key-vault/key-vault-overview.md).

Чтобы отозвать доступ к ключам, управляемым клиентом, см. статью [Azure Key Vault PowerShell](https://docs.microsoft.com/powershell/module/azurerm.keyvault/) и [Azure Key Vault CLI](https://docs.microsoft.com/cli/azure/keyvault). Отзыв доступа блокирует доступ ко всем данным в учетной записи хранения, так как ключ шифрования недоступен для службы хранилища Azure.

Сведения об использовании управляемых клиентом ключей с помощью службы хранилища Azure см. в одной из следующих статей:

- [Настройка управляемых клиентом ключей для шифрования службы хранилища Azure на портале Azure](storage-encryption-keys-portal.md)
- [Настройка управляемых клиентом ключей для шифрования службы хранилища Azure с помощью PowerShell](storage-encryption-keys-powershell.md)
- [Использование управляемых клиентом ключей с шифрованием службы хранилища Azure из Azure CLI](storage-encryption-keys-cli.md)

> [!IMPORTANT]
> Управляемые клиентом ключи используют управляемые удостоверения для ресурсов Azure, функции Azure Active Directory (Azure AD). При переносе подписки из одного каталога Azure AD в другой управляемые удостоверения не обновляются, а ключи, управляемые клиентом, могут перестать работать. Дополнительные сведения см. в статье **Передача подписки между каталогами Azure AD** в [часто задаваемых вопросах и известных проблемах с управляемыми удостоверениями для ресурсов Azure](../../active-directory/managed-identities-azure-resources/known-issues.md#transferring-a-subscription-between-azure-ad-directories).  

> [!NOTE]  
> Управляемые клиентом ключи не поддерживаются для [управляемых дисков Azure](../../virtual-machines/windows/managed-disks-overview.md).

## <a name="azure-storage-encryption-versus-disk-encryption"></a>Шифрование службы хранилища Azure и шифрование диска

При использовании шифрования службы хранилища Azure все учетные записи хранения Azure и содержащиеся в них ресурсы шифруются, включая страничные BLOB-объекты, которые поддерживают диски виртуальных машин Azure. Кроме того, диски виртуальной машины Azure могут быть зашифрованы с помощью [шифрования дисков Azure](../../security/azure-security-disk-encryption-overview.md). Шифрование дисков Azure использует стандартные отраслевые [BitLocker](https://docs.microsoft.com/windows/security/information-protection/bitlocker/bitlocker-overview) в Windows и [DM-](https://en.wikipedia.org/wiki/Dm-crypt) Encryption в Linux для предоставления решений шифрования на основе операционной системы, интегрированных с Azure Key Vault.

## <a name="next-steps"></a>Следующие шаги

- [Что такое хранилище ключей Azure?](../../key-vault/key-vault-overview.md)
