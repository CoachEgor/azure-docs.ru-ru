---
title: Для доступа к BLOB-объектов или очередь данных — хранилище Azure с помощью портала Azure
description: При доступе к BLOB-объектов или данных очереди с помощью портала Azure, портал отправляет запросы в службу хранилища Azure на самом деле. Эти запросы в службу хранилища Azure могут проходить проверку подлинности и авторизацию с помощью своей учетной записи Azure AD или ключ доступа учетной записи хранения.
services: storage
author: tamram
ms.service: storage
ms.topic: article
ms.date: 03/19/2019
ms.author: tamram
ms.reviewer: cbrooks
ms.subservice: common
ms.openlocfilehash: 00f34fa9a1932aebd467163e0ed7441c993387df
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "65154010"
---
# <a name="use-the-azure-portal-to-access-blob-or-queue-data"></a>С помощью портала Azure для доступа к данным BLOB-объектов или очередей

При доступе к BLOB-объектов или данных с помощью очереди [портала Azure](https://portal.azure.com), портала на самом деле выполняет запросы к службе хранилища Azure. Эти запросы в службу хранилища Azure могут проходить проверку подлинности и авторизацию с помощью своей учетной записи Azure AD или ключ доступа учетной записи хранения. На портале будет указано, какой метод аутентификации вы используете и позволяет переключаться между ними, если у вас есть соответствующие разрешения.  

## <a name="permissions-needed-to-access-blob-or-queue-data"></a>Разрешения, необходимые для доступа к данным BLOB-объектов или очередей

В зависимости от способа проверки подлинности доступа к данным BLOB-объектов или очередей на портале Azure вам потребуется определенные разрешения. В большинстве случаев эти разрешения предоставляются с помощью управления доступом на основе ролей (RBAC). Дополнительные сведения о RBAC см. в разделе [что такое управление доступом на основе ролей (RBAC)?](../../role-based-access-control/overview.md).

### <a name="account-access-key"></a>Ключ доступа учетной записи

Чтобы получить доступ к данным больших двоичных объектов и очереди ключом доступа учетной записи, необходимо иметь вам назначены роли RBAC, включает действие RBAC **Microsoft.Storage/storageAccounts/listkeys/action**. Эта роль RBAC может быть встроенную или пользовательскую роль. Встроенные роли, которые поддерживают **Microsoft.Storage/storageAccounts/listkeys/action** включают:

- Azure Resource Manager [владельца](../../role-based-access-control/built-in-roles.md#owner) роли
- Azure Resource Manager [участник](../../role-based-access-control/built-in-roles.md#contributor) роли
- [Участник учетной записи хранения](../../role-based-access-control/built-in-roles.md#storage-account-contributor) роли

При попытке получить доступ к данным BLOB-объектов или очередей на портале Azure, портал сначала проверяет ли вам назначена роль с **Microsoft.Storage/storageAccounts/listkeys/action**. Если вам назначена роль с помощью этого действия, на портале используется ключ учетной записи для доступа к данным BLOB-объектов и очередей. Если вы не была назначена роль с помощью этого действия, портале пытается получить доступ к данным, используя учетную запись Azure AD.

> [!NOTE]
> Эквивалент диспетчера ресурсов Azure включают роли администратора классической подписки, администратор службы и Соадминистратора [владельца](../../role-based-access-control/built-in-roles.md#owner) роли. **Владельца** роли включает в себя все действия, включая **Microsoft.Storage/storageAccounts/listkeys/action**, поэтому пользователь с одной из этих административных ролей также можно получить доступ к данных больших двоичных объектов и очереди с помощью ключ учетной записи. Дополнительные сведения см. в разделе [роли администратора классической подписки](../../role-based-access-control/rbac-and-directory-admin-roles.md#classic-subscription-administrator-roles).

### <a name="azure-ad-account"></a>Учетная запись Azure AD

Для доступа к BLOB-объектов или очередей данные на портале Azure, используя учетную запись Azure AD, оба из следующих инструкций должны соблюдаться для вас:

- Вам назначены Azure Resource Manager [чтения](../../role-based-access-control/built-in-roles.md#reader) роли, как минимум, областью действия которых будет уровень учетной записи хранения или более поздней версии. **Чтения** роль предоставляет самые ограниченные разрешения, но также допускается другой роли Azure Resource Manager, которая предоставляет доступ к ресурсам управления учетной записи хранения.
- Вам назначена либо стандартной или пользовательской роли, который предоставляет доступ к данным BLOB-объектов или очередей.

**Чтения** назначение ролей или другой назначение ролей Azure Resource Manager необходима, чтобы пользователь может просматривать и переход к ресурсам управления учетной записи хранения на портале Azure. Роли RBAC, которые предоставляют доступ к данным BLOB-объектов или очередей не имеет доступа к ресурсам управления учетной записи хранения. Чтобы получить доступ к данным BLOB-объектов или очередей на портале, пользователь должен разрешения на доступ к ресурсам учетной записи хранения. Дополнительные сведения об этом требовании см. в разделе [назначить роль читателя для доступа к порталу](../common/storage-auth-aad-rbac-portal.md#assign-the-reader-role-for-portal-access).

Встроенные роли, которые поддерживают доступ к данным BLOB-объектов или очередей включают:

- [Владелец данных хранилища BLOB-объектов](../../role-based-access-control/built-in-roles.md#storage-blob-data-owner): Для управления доступом POSIX для Gen2 хранилища Озера данных Azure.
- [Участник для данных больших двоичных объектов хранилища](../../role-based-access-control/built-in-roles.md#storage-blob-data-contributor): Разрешения на чтение, запись и удаление для больших двоичных объектов.
- [Модуль чтения данных хранилища BLOB-объектов](../../role-based-access-control/built-in-roles.md#storage-blob-data-reader): Разрешения только на чтение для больших двоичных объектов.
- [Участник для данных очереди хранилища](../../role-based-access-control/built-in-roles.md#storage-queue-data-contributor): Чтение, запись и удаление разрешений для очередей.
- [Модуль чтения данных очереди хранилища](../../role-based-access-control/built-in-roles.md#storage-queue-data-reader): Только для чтения разрешений для очередей.
    
Пользовательские роли может поддерживать различные сочетания те же разрешения, предоставляемые встроенных ролей. Дополнительные сведения о создании настраиваемых ролей RBAC см. в разделе [пользовательские роли для ресурсов Azure](../../role-based-access-control/custom-roles.md) и [понимать определения ролей для ресурсов Azure](../../role-based-access-control/role-definitions.md).

> [!NOTE]
> Список очередей с ролью администратора классической подписки не поддерживается. Чтобы получить список очередей, пользователь должен назначен для их Azure Resource Manager **чтения** роли, **модуль чтения данных очереди хранилища** роли, или **участник для данных очереди хранилища** роль.

## <a name="navigate-to-blobs-or-queues-in-the-portal"></a>Перейдите к BLOB-объектов или очередей на портале

Чтобы просмотреть данные, BLOB-объектов или очередей на портале, перейдите к **Обзор** для вашей учетной записи хранения, а затем щелкните ссылки для **большие двоичные объекты** или **очереди**. Также вы можете перейти к **служба BLOB-объектов** и **служба очередей** разделы, в меню. 

![Перейдите к данным BLOB-объектов или очередей на портале Azure](media/storage-access-blobs-queues-portal/blob-queue-access.png)

## <a name="determine-the-current-authentication-method"></a>Определить текущий метод проверки подлинности

При переходе к контейнеру или очереди, портала Azure указывает ли вы сейчас используете ключ доступа учетной записи или учетной записи Azure AD для проверки подлинности.

В примерах в этом разделе показано, доступ к контейнеру и его большим двоичным объектам, но портал отображает то же сообщение, при доступе к очереди и его сообщения, или список очередей.

### <a name="account-access-key"></a>Ключ доступа учетной записи

Если вы выполняете проверку подлинности с помощью ключа доступа учетной записи, вы увидите **ключ доступа** указан в качестве метода проверки подлинности на портале:

![В настоящее время доступ к данным контейнера ключом учетной записи](media/storage-access-blobs-queues-portal/auth-method-access-key.png)

Чтобы перейти на использование учетной записи Azure AD, щелкните ссылку, выделены в изображении. Если у вас есть соответствующие разрешения через назначенных вам ролей RBAC, вы сможете продолжить. Тем не менее при отсутствии нужных разрешений, вы увидите сообщение об ошибке, аналогичный приведенному ниже:

![Ошибка, показано, если учетной записи Azure AD не поддерживает доступ](media/storage-access-blobs-queues-portal/auth-error-azure-ad.png)

Обратите внимание на то, что большие двоичные объекты не отображаются в списке, если учетной записи Azure AD не имеет разрешений для их просмотра. Щелкните **переключиться на ключ доступа** ссылку, чтобы использовать ключ доступа для проверки подлинности снова.

### <a name="azure-ad-account"></a>Учетная запись Azure AD

Если вы выполняете проверку подлинности с использованием учетной записи Azure AD, вы увидите **учетной записи пользователя Azure AD** указан в качестве метода проверки подлинности на портале:

![В настоящее время доступ к данным контейнера с учетной записью Azure AD](media/storage-access-blobs-queues-portal/auth-method-azure-ad.png)

Чтобы перейти на использование ключа доступа учетной записи, щелкните ссылку, выделены в изображении. Если у вас есть доступ к ключу учетной записи, затем вы сможете продолжить. Тем не менее если отсутствует доступ к ключу учетной записи, вы увидите сообщение об ошибке, аналогичный приведенному ниже:

![Ошибка, показано, если у вас нет доступа к ключу учетной записи](media/storage-access-blobs-queues-portal/auth-error-access-key.png)

Обратите внимание на то, что большие двоичные объекты не отображаются в списке, если у вас нет доступа к ключам учетной записи. Щелкните **переключиться на учетную запись пользователя Azure AD** ссылку, чтобы использовать учетную запись Azure AD для проверки подлинности снова.

## <a name="next-steps"></a>Дальнейшие действия

- [Проверки подлинности доступа к BLOB-объекты Azure и очереди, с помощью Azure Active Directory](storage-auth-aad.md)
- [Предоставление доступа к контейнерам Azure и очереди с RBAC на портале Azure](storage-auth-aad-rbac-portal.md)
- [Предоставление доступа к Azure данные больших двоичных объектов и очереди с помощью RBAC с помощью Azure CLI](storage-auth-aad-rbac-cli.md)
- [Предоставление доступа к Azure данные больших двоичных объектов и очереди с помощью RBAC с помощью PowerShell](storage-auth-aad-rbac-powershell.md)
