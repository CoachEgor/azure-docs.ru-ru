---
title: Проверьте свойство «Последнее время синхронизации» для учетной записи хранилища
titleSuffix: Azure Storage
description: Узнайте, как проверить свойство **Last Sync Time** для гео-реплицируемой учетной записи хранения. Свойство **Last Sync Time** указывает последний раз, когда все записи из первичной области были успешно записаны на вторичный регион.
services: storage
author: tamram
ms.service: storage
ms.topic: how-to
ms.date: 01/16/2019
ms.author: tamram
ms.reviewer: artek
ms.subservice: common
ms.openlocfilehash: 3a406ce6db060b9ff5be7bcadecb6c7ff7e65a1f
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77165492"
---
# <a name="check-the-last-sync-time-property-for-a-storage-account"></a>Проверьте свойство «Последнее время синхронизации» для учетной записи хранилища

При настройке учетной записи хранилища можно указать, что ваши данные копируются во вторичную область, находясь в сотнях миль от основной области. Георепликация обеспечивает долговечность ваших данных в случае значительного простоя в первичном регионе, например, стихийного бедствия. Если вы дополнительно включить доступ к чтению во вторичном регионе, ваши данные остаются доступными для считывательных операций, если основная область становится недоступной. Вы можете создать приложение, чтобы легко переключиться на чтение из вторичной области, если основная область не отвечает.

Гео-избыточное хранилище (GRS) и гео-зонно-излишним хранилищем (ГЗРС) (предварительный просмотр) синтезируют данные асинхронно в второстепенный регион. Для чтения доступа к вторичному региону включите геоизмеривое хранилище (RA-GRS) или геозоне чтения(RA-G'RS). Для получения дополнительной информации о различных вариантах избыточности, предлагаемых Azure Storage, [см.](storage-redundancy.md)

В этой статье описывается, как проверить свойство **Last Sync Time** для учетной записи хранения, чтобы вы могли оценить любые расхождения между первичными и вторичными регионами.

## <a name="about-the-last-sync-time-property"></a>О свойстве Последнее время синхронизации

Поскольку георепликация является асинхронной, возможно, что данные, записанные в основной регион, еще не были записаны во вторичную область на момент сбоя. Свойство **«Последнее время синхронизации»** указывает на то, что последний раз данные из первичного региона были успешно записаны во вторичную область. Все записи, сделанные в основной области до последнего времени синхронизации доступны для чтения из вторичного местоположения. Записи, сделанные в основной области после последнего времени синхронизации свойства могут или не могут быть доступны для чтения еще.

Свойство **«Последнее время синхронизации»** — это значение даты/времени GMT.

## <a name="get-the-last-sync-time-property"></a>Получить свойство Последнее время синхронизации

Для получения значения свойства **Последнее время синхронизации** можно использовать PowerShell или Azure CLI.

# <a name="powershell"></a>[PowerShell](#tab/azure-powershell)

Чтобы получить последнее время синхронизации учетной записи хранилища с помощью PowerShell, установите модуль предварительного просмотра Azure Storage, который поддерживает получение георепликации. Например:

```powershell
Install-Module Az.Storage –Repository PSGallery -RequiredVersion 1.1.1-preview –AllowPrerelease –AllowClobber –Force
```

Затем проверьте свойство **GeoReplicationStats.LastSyncTime** учетной записи хранилища. Не забудьте заменить значения заполнителя на свои собственные значения:

```powershell
$lastSyncTime = $(Get-AzStorageAccount -ResourceGroupName <resource-group> `
    -Name <storage-account> `
    -IncludeGeoReplicationStats).GeoReplicationStats.LastSyncTime
```

# <a name="azure-cli"></a>[Лазурный CLI](#tab/azure-cli)

Чтобы получить последнее время синхронизации учетной записи хранилища с помощью Azure CLI, проверьте свойство учетной записи хранилища **geoReplicationStats.lastSyncTime.** Используйте `--expand` параметр для возврата значений для свойств, вложенных в **geoReplicationStats.** Не забудьте заменить значения заполнителя на свои собственные значения:

```azurecli-interactive
$lastSyncTime=$(az storage account show \
    --name <storage-account> \
    --resource-group <resource-group> \
    --expand geoReplicationStats \
    --query geoReplicationStats.lastSyncTime \
    --output tsv)
```

---

## <a name="see-also"></a>См. также

- [Избыточность хранилища Azure](storage-redundancy.md)
- [Изменение опции избыточности для учетной записи хранилища](redundancy-migration.md)
- [Проектирование высокодоступных приложений с использованием геоизущегося хранилища для чтения доступа](storage-designing-ha-apps-with-ragrs.md)