---
title: Авторизация операций с данными
titleSuffix: Azure Storage
description: Узнайте о различных способах авторизации доступа к хранилищам Azure, включая active-каталог Azure, авторизацию общих ключей или подписи общего доступа (SAS).
services: storage
author: tamram
ms.service: storage
ms.topic: conceptual
ms.date: 02/24/2020
ms.author: tamram
ms.reviewer: cbrooks
ms.subservice: common
ms.openlocfilehash: b0f2ad7566d0204871a9c6441315d6201662d92b
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77616291"
---
# <a name="authorizing-access-to-data-in-azure-storage"></a>Разрешение доступа к данным в хранилище Azure

Каждый раз, когда вы получаете доступ к данным в учетной записи хранения, ваш клиент делает запрос по протоколу HTTP/HTTPS в службе хранилища Azure. Каждый запрос к безопасному ресурсу должен быть авторизирован, чтобы служба обеспечивала клиенту разрешение на доступ к данным.

В следующей таблице описаны параметры, которые Azure Storage предлагает для авторизации доступа к ресурсам:

|  |Общий ключ (ключ учетной записи хранилища)  |Подписанный URL-адрес (SAS)  |Azure Active Directory (Azure AD)  |Активный каталог (предварительный просмотр) |Анонимный доступ к чтению  |
|---------|---------|---------|---------|---------|---------|
|Большие двоичные объекты Azure     |[Поддерживается](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживается](storage-sas-overview.md)         |[Поддерживается](storage-auth-aad.md)         |Не поддерживается|[Поддерживается](../blobs/storage-manage-access-to-resources.md)         |
|Лазурные файлы (SMB)     |[Поддерживается](/rest/api/storageservices/authorize-with-shared-key/)         |Не поддерживается         |[Поддерживается только с помощью служб доменов AAD](../files/storage-files-active-directory-overview.md)         |[Поддерживаемые учетные данные должны быть синхронизированы с Azure AD](../files/storage-files-active-directory-overview.md)|Не поддерживается         |
|Лазурные файлы (REST)     |[Поддерживается](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживается](storage-sas-overview.md)         |Не поддерживается         |Не поддерживается |Не поддерживается         |
|Очереди Azure     |[Поддерживается](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживается](storage-sas-overview.md)         |[Поддерживается](storage-auth-aad.md)         |Не поддерживается | Не поддерживается         |
|Таблицы Azure     |[Поддерживается](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживается](storage-sas-overview.md)         |Не поддерживается         |Не поддерживается| Не поддерживается         |

Каждый вариант авторизации кратко описан ниже:

- **Интеграция Active Directory Azure (Azure AD)** для капли и очередей. Azure AD обеспечивает управление доступом на основе ролей (RBAC) для точной настройки управления доступом клиента к ресурсам в учетной записи хранения. Для получения дополнительной информации об интеграции Azure [Authorize access to Azure blobs and queues using Azure Active Directory](storage-auth-aad.md)AD для капли и очередей см.

- **Служба активных доменов Azure Active Directory (Azure AD DS) аутентификация** для файлов Azure. Azure Files поддерживает авторизацию на основе идентификационных данных через блок сообщений сервера (SMB) через Azure AD DS. RBAC можно использовать для тонкого контроля над доступом клиента к ресурсам Azure Files в учетной записи хранилища. Для получения дополнительной информации о проверке подлинности файлов Azure с использованием доменных служб обратитесь к нашему [обзору](../files/storage-files-active-directory-overview.md).

- **Активная проверка подлинности каталога (AD) для** файлов Azure. Azure Files поддерживает авторизацию на основе идентификационных данных через AMB через AD. Ваш сервис домена AD может быть размещен на банкоматах или в VMs Azure. Доступ к файлам sMB поддерживается с помощью учетных данных AD из компьютеров, объединенных доменом, как на территории, так и в Azure. Вы можете использовать RBAC для управления доступом к уровню обмена и DACL NTFS для обеспечения разрешения на получение разрешения на каталог/файл. Для получения дополнительной информации о проверке подлинности файлов Azure с использованием доменных служб обратитесь к нашему [обзору](../files/storage-files-active-directory-overview.md).

- **Авторизация с помощью общего ключа** для больших двоичных объектов, файлов, очередей и таблиц. Клиент, использующий общий ключ, передает заголовок с каждым запросом, подписанным с использованием ключа доступа к учетной записи хранения. Дополнительные сведения см. в статье [Авторизация с помощью общего ключа](/rest/api/storageservices/authorize-with-shared-key/).
- **Подписи коллективного доступа** для больших двоичных объектов, файлов, очередей и таблиц. Подписанный URL-адрес (SAS) обеспечивает ограниченный доступ к ресурсам в учетной записи хранения. Добавление ограничений для интервала времени, во время которого подпись действительна, или для предоставленных разрешений, обеспечивает гибкость в управлении доступом. Дополнительные сведения см. в статье [Использование подписанных URL-адресов (SAS)](storage-sas-overview.md).
- **Анонимный общий доступ на чтение** к контейнерам и большим двоичным объектам. Авторизация не требуется. Дополнительные сведения см. в статье [Управление анонимным доступом на чтение к контейнерам и большим двоичным объектам](../blobs/storage-manage-access-to-resources.md).  

По умолчанию все ресурсы в службе хранилища Azure защищены и доступны только владельцу учетной записи. Хотя вы можете использовать любую из описанных выше стратегий авторизации, чтобы предоставить клиентам доступ к ресурсам в вашей учетной записи хранения, корпорация Майкрософт рекомендует использовать Azure AD, когда это возможно, в виду максимальной безопасности и простоты использования.

## <a name="next-steps"></a>Дальнейшие действия

- [Разрешить доступ к каплям и очередям Azure с помощью active-каталога Azure](storage-auth-aad.md)
- [Авторизация с помощью общего ключа](/rest/api/storageservices/authorize-with-shared-key/)
- [Предоставляетограниченный доступ к ресурсам хранения Azure с помощью общих подписей доступа (SAS)](storage-sas-overview.md)
