---
title: Авторизация операций с данными
titleSuffix: Azure Storage
description: Узнайте о различных способах авторизации доступа к службе хранилища Azure, в том числе Azure Active Directory, авторизации общего ключа или подписанных URL-адресах (SAS).
services: storage
author: tamram
ms.service: storage
ms.topic: conceptual
ms.date: 02/24/2020
ms.author: tamram
ms.reviewer: cbrooks
ms.subservice: common
ms.openlocfilehash: b0f2ad7566d0204871a9c6441315d6201662d92b
ms.sourcegitcommit: f15f548aaead27b76f64d73224e8f6a1a0fc2262
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/26/2020
ms.locfileid: "77616291"
---
# <a name="authorizing-access-to-data-in-azure-storage"></a>Авторизация доступа к данным в службе хранилища Azure

Каждый раз, когда вы получаете доступ к данным в учетной записи хранения, ваш клиент делает запрос по протоколу HTTP/HTTPS в службе хранилища Azure. Каждый запрос к безопасному ресурсу должен быть авторизирован, чтобы служба обеспечивала клиенту разрешение на доступ к данным.

В следующей таблице описаны параметры, предоставляемые службой хранилища Azure для авторизации доступа к ресурсам.

|  |Общий ключ (ключ учетной записи хранения)  |Подписанный URL-адрес (SAS)  |Azure Active Directory (Azure AD)  |Active Directory (Предварительная версия) |Анонимный открытый доступ на чтение  |
|---------|---------|---------|---------|---------|---------|
|Большие двоичные объекты Azure     |[Поддерживаются](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживаются](storage-sas-overview.md)         |[Поддерживаются](storage-auth-aad.md)         |Не поддерживается|[Поддерживаются](../blobs/storage-manage-access-to-resources.md)         |
|Службы файлов Azure (SMB)     |[Поддерживаются](/rest/api/storageservices/authorize-with-shared-key/)         |Не поддерживается         |[Поддерживается, только с доменными службами AAD](../files/storage-files-active-directory-overview.md)         |[Поддерживается, учетные данные должны быть синхронизированы с Azure AD.](../files/storage-files-active-directory-overview.md)|Не поддерживается         |
|Службы файлов Azure (остальные)     |[Поддерживаются](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживаются](storage-sas-overview.md)         |Не поддерживается         |Не поддерживается |Не поддерживается         |
|Очереди Azure     |[Поддерживаются](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживаются](storage-sas-overview.md)         |[Поддерживаются](storage-auth-aad.md)         |Не поддерживается | Не поддерживается         |
|Таблицы Azure     |[Поддерживаются](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживаются](storage-sas-overview.md)         |Не поддерживается         |Не поддерживается| Не поддерживается         |

Каждый вариант авторизации кратко описан ниже.

- **Интеграция Azure Active Directory (Azure AD)** для больших двоичных объектов и очередей. Azure AD обеспечивает управление доступом на основе ролей (RBAC) для точной настройки управления доступом клиента к ресурсам в учетной записи хранения. Дополнительные сведения об интеграции Azure AD с большими двоичными объектами и очередями см. в статье [авторизация доступа к BLOB-объектам и очередям Azure с помощью Azure Active Directory](storage-auth-aad.md).

- **Проверка подлинности Azure Active Directory доменных служб (Azure AD DS)** для файлов Azure. Служба файлов Azure поддерживает авторизацию на основе удостоверений через протокол SMB с помощью Azure AD DS. RBAC можно использовать для точного управления доступом клиента к ресурсам службы файлов Azure в учетной записи хранения. Дополнительные сведения о проверке подлинности файлов Azure с помощью доменных служб см. в нашем [обзоре](../files/storage-files-active-directory-overview.md).

- **Проверка подлинности Active Directory (AD) (Предварительная версия)** для службы файлов Azure. Служба файлов Azure поддерживает проверку подлинности по протоколу SMB через AD. Службу домена AD можно разместить на локальных компьютерах или на виртуальных машинах Azure. Доступ к файлам по протоколу SMB поддерживается с помощью учетных данных AD присоединенных к домену компьютеров (локально или в Azure). RBAC можно использовать для управления доступом на уровне общего доступа и списков DACL NTFS для принудительного применения разрешений на уровне каталогов и файлов. Дополнительные сведения о проверке подлинности файлов Azure с помощью доменных служб см. в нашем [обзоре](../files/storage-files-active-directory-overview.md).

- **Авторизация с помощью общего ключа** для больших двоичных объектов, файлов, очередей и таблиц. Клиент, использующий общий ключ, передает заголовок с каждым запросом, подписанным с использованием ключа доступа к учетной записи хранения. Дополнительные сведения см. в статье [Авторизация с помощью общего ключа](/rest/api/storageservices/authorize-with-shared-key/).
- **Подписи коллективного доступа** для больших двоичных объектов, файлов, очередей и таблиц. Подписанный URL-адрес (SAS) обеспечивает ограниченный доступ к ресурсам в учетной записи хранения. Добавление ограничений для интервала времени, во время которого подпись действительна, или для предоставленных разрешений, обеспечивает гибкость в управлении доступом. Дополнительные сведения см. в статье [Использование подписанных URL-адресов (SAS)](storage-sas-overview.md).
- **Анонимный общий доступ на чтение** к контейнерам и большим двоичным объектам. Авторизация не требуется. Дополнительные сведения см. в статье [Управление анонимным доступом на чтение к контейнерам и большим двоичным объектам](../blobs/storage-manage-access-to-resources.md).  

По умолчанию все ресурсы в службе хранилища Azure защищены и доступны только владельцу учетной записи. Хотя вы можете использовать любую из описанных выше стратегий авторизации, чтобы предоставить клиентам доступ к ресурсам в вашей учетной записи хранения, корпорация Майкрософт рекомендует использовать Azure AD, когда это возможно, в виду максимальной безопасности и простоты использования.

## <a name="next-steps"></a>Дальнейшие действия

- [Авторизация доступа к BLOB-объектам и очередям Azure с помощью Azure Active Directory](storage-auth-aad.md)
- [Авторизация с помощью общего ключа](/rest/api/storageservices/authorize-with-shared-key/)
- [Предоставление ограниченного доступа к ресурсам службы хранилища Azure с помощью подписанных URL-адресов (SAS)](storage-sas-overview.md)
