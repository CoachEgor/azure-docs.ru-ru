---
title: Авторизация операций с данными
titleSuffix: Azure Storage
description: Узнайте о различных способах авторизации доступа к хранилищам Azure, включая active-каталог Azure, авторизацию общих ключей или подписи общего доступа (SAS).
services: storage
author: tamram
ms.service: storage
ms.topic: conceptual
ms.date: 04/15/2020
ms.author: tamram
ms.reviewer: cbrooks
ms.subservice: common
ms.openlocfilehash: 8db6140789a9e4f46e368b913cacacd21609ccd9
ms.sourcegitcommit: 31ef5e4d21aa889756fa72b857ca173db727f2c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2020
ms.locfileid: "81529728"
---
# <a name="authorizing-access-to-data-in-azure-storage"></a>Разрешение доступа к данным в хранилище Azure

Каждый раз, когда вы получаете доступ к данным в учетной записи хранения, ваш клиент делает запрос по протоколу HTTP/HTTPS в службе хранилища Azure. Каждый запрос к безопасному ресурсу должен быть авторизирован, чтобы служба обеспечивала клиенту разрешение на доступ к данным.

В следующей таблице описаны параметры, которые Azure Storage предлагает для авторизации доступа к ресурсам:

|  |Общий ключ (ключ учетной записи хранилища)  |Подписанный URL-адрес (SAS)  |Azure Active Directory (Azure AD)  |Службы домена на территории помещений (предварительный просмотр) |Анонимный доступ к чтению  |
|---------|---------|---------|---------|---------|---------|
|Большие двоичные объекты Azure     |[Поддерживается](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживается](storage-sas-overview.md)         |[Поддерживается](storage-auth-aad.md)         |Не поддерживается|[Поддерживается](../blobs/storage-manage-access-to-resources.md)         |
|Лазурные файлы (SMB)     |[Поддерживается](/rest/api/storageservices/authorize-with-shared-key/)         |Не поддерживается         |[Поддерживается только с помощью служб доменов AAD](../files/storage-files-active-directory-overview.md)         |[Поддерживаемые учетные данные должны быть синхронизированы с Azure AD](../files/storage-files-active-directory-overview.md)|Не поддерживается         |
|Лазурные файлы (REST)     |[Поддерживается](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживается](storage-sas-overview.md)         |Не поддерживается         |Не поддерживается |Не поддерживается         |
|Очереди Azure     |[Поддерживается](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживается](storage-sas-overview.md)         |[Поддерживается](storage-auth-aad.md)         |Не поддерживается | Не поддерживается         |
|Таблицы Azure     |[Поддерживается](/rest/api/storageservices/authorize-with-shared-key/)         |[Поддерживается](storage-sas-overview.md)         |Не поддерживается         |Не поддерживается| Не поддерживается         |

Каждый вариант авторизации кратко описан ниже:

- **Интеграция Active Directory Azure (Azure AD)** для капли и очередей. Azure AD обеспечивает элементанный контроль доступа (RBAC) для контроля за доступом клиента к ресурсам в учетной записи хранилища. Для получения дополнительной информации об интеграции Azure [Authorize access to Azure blobs and queues using Azure Active Directory](storage-auth-aad.md)AD для капли и очередей см.

- **Служба активных доменов Azure Active Directory (Azure AD DS) аутентификация** для файлов Azure. Azure Files поддерживает авторизацию на основе идентификационных данных через блок сообщений сервера (SMB) через Azure AD DS. RBAC можно использовать для тонкого контроля над доступом клиента к ресурсам Azure Files в учетной записи хранилища. Для получения дополнительной информации о проверке подлинности файлов Azure с использованием доменных служб обратитесь к [обзору](../files/storage-files-active-directory-overview.md).

- **Служба проверки подлинности Active Directory Domain Services (AD DS, или предпосылок AD DS) для** проверки подлинности Azure Files. Azure Files поддерживает авторизацию на основе идентификационных данных по SMB через AD DS. Среда AD DS может размещаться в банкоматах или в VMs Azure. Доступ к файлам sMB поддерживается с помощью учетных данных AD DS из компьютеров, объединенных доменом, как на территории, так и в Azure. Вы можете использовать комбинацию RBAC для управления доступом к уровню доли и DACL NTFS для обеспечения разрешения на уровне каталога/файла. Для получения дополнительной информации о проверке подлинности файлов Azure с использованием доменных служб обратитесь к [обзору](../files/storage-files-active-directory-overview.md).

- **Авторизация с помощью общего ключа** для больших двоичных объектов, файлов, очередей и таблиц. Клиент, использующий общий ключ, передает заголовок с каждым запросом, подписанным с использованием ключа доступа к учетной записи хранения. Дополнительные сведения см. в статье [Авторизация с помощью общего ключа](/rest/api/storageservices/authorize-with-shared-key/).
- **Подписи коллективного доступа** для больших двоичных объектов, файлов, очередей и таблиц. Подписанный URL-адрес (SAS) обеспечивает ограниченный доступ к ресурсам в учетной записи хранения. Добавление ограничений для интервала времени, во время которого подпись действительна, или для предоставленных разрешений, обеспечивает гибкость в управлении доступом. Дополнительные сведения см. в статье [Использование подписанных URL-адресов (SAS)](storage-sas-overview.md).
- **Анонимный общий доступ на чтение** к контейнерам и большим двоичным объектам. Авторизация не требуется. Дополнительные сведения см. в статье [Управление анонимным доступом на чтение к контейнерам и большим двоичным объектам](../blobs/storage-manage-access-to-resources.md).  

По умолчанию все ресурсы в службе хранилища Azure защищены и доступны только владельцу учетной записи. Хотя вы можете использовать любую из описанных выше стратегий авторизации, чтобы предоставить клиентам доступ к ресурсам в вашей учетной записи хранения, корпорация Майкрософт рекомендует использовать Azure AD, когда это возможно, в виду максимальной безопасности и простоты использования.

## <a name="next-steps"></a>Следующие шаги

- [Разрешить доступ к каплям и очередям Azure с помощью active-каталога Azure](storage-auth-aad.md)
- [Авторизация с помощью общего ключа](/rest/api/storageservices/authorize-with-shared-key/)
- [Предоставляетограниченный доступ к ресурсам хранения Azure с помощью общих подписей доступа (SAS)](storage-sas-overview.md)
