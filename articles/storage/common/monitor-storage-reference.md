---
title: Справочные материалы по данным мониторинга службы хранилища Azure | Документация Майкрософт
description: Справочник по журналам и метрикам для данных мониторинга из службы хранилища Azure.
author: normesta
services: azure-monitor
ms.service: azure-monitor
ms.topic: reference
ms.date: 05/01/2020
ms.author: normesta
ms.subservice: logs
ms.custom: monitoring
ms.openlocfilehash: fa8838dd5eca03d9dd85e424f0163eb9ca8ed5e2
ms.sourcegitcommit: 3d79f737ff34708b48dd2ae45100e2516af9ed78
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/23/2020
ms.locfileid: "87077847"
---
# <a name="azure-storage-monitoring-data-reference"></a>Справочные материалы по данным мониторинга службы хранилища Azure

Сведения о сборе и анализе данных мониторинга для службы хранилища Azure см. на странице [Мониторинг службы хранилища Azure](monitor-storage.md).

## <a name="metrics"></a>Метрики

В следующих таблицах перечислены метрики платформы, собранные для службы хранилища Azure: 

### <a name="capacity-metrics"></a>Метрики емкости

Значения метрик емкости отправляются в Azure Monitor каждый час. Значения обновляются каждый день. Интервал времени определяет интервал, за который представлены значения метрик. Поддерживаемый интервал времени для всех метрик емкости — один час (PT1H).

Служба хранилища Azure предоставляет следующие метрики емкости в Azure Monitor.

#### <a name="account-level"></a>На уровне учетной записи

В этой таблице показаны [метрики уровня учетной записи](https://docs.microsoft.com/azure/azure-monitor/platform/metrics-supported#microsoftstoragestorageaccounts).

| Метрика | Описание |
| ------------------- | ----------------- |
| UsedCapacity | Объем хранилища, используемый учетной записью хранения. Для стандартных учетных записей хранения это общая емкость, используемая большим двоичным объектом, таблицей, файлом или очередью. Для учетных записей хранения уровня "Премиум" и учетных записей хранения больших двоичных объектов эта емкость сопоставима с емкостью метрики BlobCapacity. <br/><br/> Единица измерения: Байты <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |

#### <a name="blob-storage"></a>Хранилище BLOB-объектов

В этой таблице показаны [метрики хранилища BLOB-объектов](https://docs.microsoft.com/azure/azure-monitor/platform/metrics-supported#microsoftstoragestorageaccountsblobservices).

| Метрика | Описание |
| ------------------- | ----------------- |
| BlobCapacity | Объем хранилища BLOB-объектов, используемый в учетной записи хранения. <br/><br/> Единица измерения: Байты <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 <br/> Размеры: **BlobType** и **BlobTier** ([определение](#metrics-dimensions)) |
| BlobCount    | Количество больших двоичных объектов, хранящихся в учетной записи хранения. <br/><br/> Единица измерения: Count <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 <br/> Размеры: **BlobType** и **BlobTier** ([определение](#metrics-dimensions)) |
| блобпровисионедсизе | Объем хранилища, подготовленного в учетной записи хранения. Эта метрика применима только к учетным записям хранения класса Premium. <br/><br/> Единица: байт <br/> Тип агрегирования: Среднее |
| ContainerCount    | Число контейнеров в учетной записи хранения. <br/><br/> Единица измерения: Count <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |
| IndexCapacity     | Объем хранилища, используемый для индекса ADLS 2-го поколения (иерархического). <br/><br/> Единица измерения: Байты <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |

#### <a name="table-storage"></a>Хранилище таблиц

В этой таблице показаны [метрики хранилища таблиц](https://docs.microsoft.com/azure/azure-monitor/platform/metrics-supported#microsoftstoragestorageaccountstableservices).

| Метрика | Описание |
| ------------------- | ----------------- |
| TableCapacity | Объем хранилища таблиц, используемый учетной записью хранения. <br/><br/> Единица измерения: Байты <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |
| TableCount   | Количество таблиц в учетной записи хранения. <br/><br/> Единица измерения: Count <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |
| TableEntityCount | Количество сущностей таблицы в учетной записи хранения. <br/><br/> Единица измерения: Count <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |

#### <a name="queue-storage"></a>Хранилище очередей

В этой таблице показаны [метрики хранилища очередей](https://docs.microsoft.com/azure/azure-monitor/platform/metrics-supported#microsoftstoragestorageaccountsfileservices).

| Метрика | Описание |
| ------------------- | ----------------- |
| QueueCapacity | Объем хранилища очередей, используемый учетной записью хранения. <br/><br/> Единица измерения: Байты <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |
| QueueCount   | Количество очередей в учетной записи хранения. <br/><br/> Единица измерения: Count <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |
| QueueMessageCount | Приблизительное количество сообщений очередей в службе очередей учетной записи хранения. <br/><br/>Единица измерения: Count <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |

#### <a name="file-storage"></a>Хранилище файлов

В этой таблице показаны [метрики хранилища файлов](https://docs.microsoft.com/azure/azure-monitor/platform/metrics-supported#microsoftstoragestorageaccountsqueueservices).

| Метрика | Описание |
| ------------------- | ----------------- |
| FileCapacity | Объем хранилища файлов, используемый учетной записью хранения. <br/><br/> Единица измерения: Байты <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |
| FileCount   | Количество файлов в учетной записи хранения. <br/><br/> Единица измерения: Count <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |
| FileShareCount | Количество общих папок в учетной записи хранения. <br/><br/> Единица измерения: Count <br/> Тип агрегирования: Среднее <br/> Пример значения. 1024 |
| филешарепровисионедиопс | Число подготовленных операций ввода-вывода в общей папке. Эта метрика применима только к хранилищу файлов уровня "Премиум". <br/><br/> Единица: байт <br/> Тип агрегирования: Среднее |

### <a name="transaction-metrics"></a>Метрики транзакций

Метрики транзакций создаются при каждом запросе к учетной записи хранения, отправляемом из службы хранилища Azure в Azure Monitor. Если учетная запись хранения неактивна, данные на основе метрик транзакций за этот период будут отсутствовать. Все метрики транзакций доступны на уровне учетной записи и службы (хранилище BLOB-объектов, хранилище таблиц, файлы Azure и хранилище очередей). Интервал времени определяет интервал, за который представлены значения метрик. Поддерживаемые интервалы времени для всех метрик транзакций — PT1H и PT1M.

Служба хранилища Azure предоставляет следующие метрики транзакций в Azure Monitor.

| Метрика | Описание |
| ------------------- | ----------------- |
| Transactions | Количество запросов к службе хранения или указанной операции API. Это число включает успешные и неудачные запросы, а также запросы, вызвавшие ошибку. <br/><br/> Единица измерения: Count <br/> Тип агрегирования: Итог <br/> Применимые измерения. ResponseType, GeoType, ApiName и Authentication ([определение](#metrics-dimensions))<br/> Пример значения. 1024 |
| Входящий трафик | Объем входящих данных. Это количество включает входящий трафик из внешнего клиента в службу хранилища Azure, а также входящий трафик в пределах Azure. <br/><br/> Единица измерения: Байты <br/> Тип агрегирования: Итог <br/> Применимые измерения. GeoType, ApiName и Authentication ([определение](#metrics-dimensions)) <br/> Пример значения. 1024 |
| Исходящие | Объем исходящих данных. Это количество включает исходящий трафик из внешнего клиента в службу хранилища Azure, а также исходящий трафик в пределах Azure. В результате это количество не отражает исходящий трафик для тарификации. <br/><br/> Единица измерения: Байты <br/> Тип агрегирования: Итог <br/> Применимые измерения. GeoType, ApiName и Authentication ([определение](#metrics-dimensions)) <br/> Пример значения. 1024 |
| SuccessServerLatency | Среднее время, используемое для обработки успешного запроса службы хранилища Azure. Это значение не включает в себя сетевую задержку, указанную в метрике SuccessE2ELatency. <br/><br/> Единица измерения: Миллисекунды <br/> Тип агрегирования: Среднее <br/> Применимые измерения. GeoType, ApiName и Authentication ([определение](#metrics-dimensions)) <br/> Пример значения. 1024 |
| SuccessE2ELatency | Средняя совокупная задержка успешных запросов к службе хранения или указанной операции API. Это значение включает необходимое время обработки в пределах службы хранилища Azure для считывания запроса, отправки ответа и получения подтверждения ответа. <br/><br/> Единица измерения: Миллисекунды <br/> Тип агрегирования: Среднее <br/> Применимые измерения. GeoType, ApiName и Authentication ([определение](#metrics-dimensions)) <br/> Пример значения. 1024 |
| Доступность | Процент доступности службы хранения или указанной операции API. Доступность рассчитывается следующим образом: общее значение запросов для тарификации делится на количество применимых запросов, включая запросы, вызвавшие непредвиденные ошибки. Все непредвиденные ошибки приводят к снижению уровня доступности службы хранения или указанной операции API. <br/><br/> Единица измерения: Процент <br/> Тип агрегирования: Среднее <br/> Применимые измерения. GeoType, ApiName и Authentication ([определение](#metrics-dimensions)) <br/> Пример значения. 99,99 |

<a id="metrics-dimensions"></a>

## <a name="metrics-dimensions"></a>Измерения метрик

Служба хранилища Azure поддерживает следующие измерения метрик в Azure Monitor.

| Название измерения | Описание |
| ------------------- | ----------------- |
| **BlobType** | Тип большого двоичного объекта только для метрик больших двоичных объектов. Поддерживаемые значения: **BlockBlob**, **PageBlob** и **Azure Data Lake Storage**. Расширенный большой двоичный объект включен в BlockBlob. |
| **BlobTier** | Служба хранилища Azure предоставляет различные уровни доступа, которые позволяют хранить данные больших двоичных объектов наиболее экономичным способом. Дополнительные сведения об уровнях большого двоичного объекта в службе хранилища Azure см. на [этой странице](../blobs/storage-blob-storage-tiers.md). Поддерживаются следующие значения: <br/> <li>**Горячий**: горячий уровень доступа</li> <li>**Холодный**: холодный уровень доступа</li> <li>**Архивирование**. Архивный уровень доступа</li> <li>**Премиум**: уровень "Премиум" для блочного BLOB-объекта</li> <li>**P4/P6/P10/P15/P20/P30/P40/P50/P60**: типы уровней для страничного BLOB-объекта категории "Премиум"</li> <li>**Стандартный**. Тип уровня для страничного BLOB-объекта (цен. категория "Стандартный")</li> <li>**Необусловленный**: тип уровня для учетной записи хранения общего назначения версии 1</li> |
| **GeoType** | Транзакции из основного или дополнительного кластера. Допустимые значения: **Primary** и **Secondary**. Применимо к геоизбыточному хранилищу с доступом только для чтения (RA-GRS) при считывании объектов из дополнительного клиента. |
| **ResponseType** | Тип ответа транзакции. Доступные значения: <br/><br/> <li>**ServerOtherError**. Все остальные ошибки на стороне сервера, за исключением описанных </li> <li>**ServerBusyError**. Запрос с проверкой подлинности, который вернул код состояния HTTP 503. </li> <li>**ServerTimeoutError**. Запрос с проверкой подлинности (время ожидания которого истекло), который вернул код состояния HTTP 500. Время ожидания истекло из-за ошибки на стороне сервера. </li> <li>**AuthorizationError**. Запрос с проверкой подлинности, завершившийся сбоем из-за несанкционированного доступа к данным или сбоя авторизации. </li> <li>**NetworkError**. Запрос с проверкой подлинности, завершившийся сбоем из-за ошибок сети. Чаще всего происходит, когда клиент преждевременно закрывает подключение до истечения времени ожидания. </li><li>**ClientAccountBandwidthThrottlingError**. Запрос регулируется по пропускной способности при превышении [ограничений масштабируемости учетной записи хранения](scalability-targets-standard-account.md).</li><li>**ClientAccountRequestThrottlingError**. Запрос регулируется по частоте запросов при превышении [ограничений масштабируемости учетной записи хранения](scalability-targets-standard-account.md).<li>**ClientThrottlingError**. Другая ошибка регулирования на стороне клиента. ClientAccountBandwidthThrottlingError и ClientAccountRequestThrottlingError исключаются.</li> <li>**ClientTimeoutError**. Запрос с проверкой подлинности (время ожидания которого истекло), который вернул код состояния HTTP 500. Если для времени ожидания сети клиента или времени ожидания запроса задано меньшее значение, чем требовалось для службы хранения, это предусмотренное время ожидания. В противном случае оно будет отмечено как ServerTimeoutError. </li> <li>**ClientOtherError**. Все остальные ошибки на стороне клиента, за исключением описанных. </li> <li>**Выполнено**. Выполненный запрос.</li> <li> **SuccessWithThrottling**. Успешный запрос, если клиент SMB регулируется первыми попытками, а завершается успешно после повторных.</li> |
| **ApiName** | Имя операции. Пример: <br/> <li>**CreateContainer**;</li> <li>**DeleteBlob**;</li> <li>**GetBlob**.</li> Для всех имен операций. Дополнительные сведения см. в этой [статье](/rest/api/storageservices/storage-analytics-logged-operations-and-status-messages). |
| **Аутентификация** | Тип аутентификации, используемой в транзакциях. Доступные значения: <br/> <li>**AccountKey**. Транзакция проходит аутентификацию с помощью ключа учетной записи хранения.</li> <li>**SAS**. Транзакция проходит аутентификацию с помощью подписанных URL-адресов.</li> <li>**OAuth**. Транзакция проходит аутентификацию с помощью маркеров доступа OAuth.</li> <li>**Anonymous**. Транзакция запрашивается анонимно. Сюда не входят предварительные запросы.</li> <li>**AnonymousPreflight**. Транзакция является предварительным запросом.</li> |

Для метрик с поддержкой измерений необходимо указать значение измерения, чтобы увидеть соответствующие значения метрик. Например, если вы хотите просмотреть значения **Transactions** для поиска успешных ответов, необходимо выполнить фильтрацию по измерению **ResponseType** со значением **Success**. Если вы хотите просмотреть значения **BlobCount** для блочного BLOB-объекта, необходимо выполнить фильтрацию по измерению **BlobType** со значением **BlockBlob**.

## <a name="resource-logs-preview"></a>Журналы ресурсов (предварительная версия)

> [!NOTE]
> Журналы службы хранилища Azure в Azure Monitor предоставляются в общедоступной предварительной версии. Они также доступны для предварительного тестирования во всех регионах общедоступного облака. Чтобы зарегистрироваться для использования предварительной версии, см. [эту страницу](https://forms.microsoft.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbRxW65f1VQyNCuBHMIMBV8qlUM0E0MFdPRFpOVTRYVklDSE1WUTcyTVAwOC4u).  Эта предварительная версия включает журналы для больших двоичных объектов (в том числе Azure Data Lake Storage 2-го поколения), файлов, очередей, таблиц, учетных записей хранения категории "Премиум" общего назначения версии 1 и учетных записей хранения общего назначения версии 2. Классические учетные записи хранения не поддерживаются.

В следующей таблице перечислены свойства журналов ресурсов службы хранилища Azure при их сборе в журналах Azure Monitor или службе хранилища Azure. Свойства содержат сведения об операции, службе и типе авторизации, которые использовались для выполнения операции.

### <a name="fields-that-describe-the-operation"></a>Поля со сведениями об операции

```json
{
    "time": "2019-02-28T19:10:21.2123117Z",
    "resourceId": "/subscriptions/12345678-2222-3333-4444-555555555555/resourceGroups/mytestrp/providers/Microsoft.Storage/storageAccounts/testaccount1/blobServices/default",
    "category": "StorageWrite",
    "operationName": "PutBlob",
    "operationVersion": "2017-04-17",
    "schemaVersion": "1.0",
    "statusCode": 201,
    "statusText": "Success",
    "durationMs": 5,
    "callerIpAddress": "192.168.0.1:11111",
    "correlationId": "ad881411-201e-004e-1c99-cfd67d000000",
    "location": "uswestcentral",
    "uri": "http://mystorageaccount.blob.core.windows.net/cont1/blobname?timeout=10"
}
```

| Свойство | Описание |
|:--- |:---|
|**time** | Время получения запроса хранилищем (время в формате UTC). Например, так: `2018/11/08 21:09:36.6900118`.|
|**resourceId** | Идентификатор ресурса учетной записи хранения. Пример: `/subscriptions/208841be-a4v3-4234-9450-08b90c09f4/resourceGroups/`<br>`myresourcegroup/providers/Microsoft.Storage/storageAccounts/mystorageaccount/storageAccounts/blobServices/default`|
|**category** | Категория запрошенной операции. Например, `StorageRead`, `StorageWrite`или `StorageDelete`.|
|**operationName** | Тип выполненной операции REST. <br> Полный список операций см. на странице [Операции с протоколированием и сообщения о состоянии Аналитики Службы хранилища](https://docs.microsoft.com/rest/api/storageservices/storage-analytics-logged-operations-and-status-messages). |
|**operationVersion** | Версия службы хранилища, указанная при осуществлении запроса. Эквивалентна значению заголовка **x-ms-version**. Например, так: `2017-04-17`.|
|**schemaVersion** | Версия схемы журнала. Например, так: `1.0`.|
|**statusCode** | Код состояния HTTP для запроса. Если запрос будет прерван, может быть задано значение `Unknown`. <br> Пример: `206` |
|**statusText** | Состояние запрошенной операции.  Полный список сообщений о состоянии см. на странице [Операции с протоколированием и сообщения о состоянии Аналитики Службы хранилища](https://docs.microsoft.com/rest/api/storageservices/storage-analytics-logged-operations-and-status-messages). В версии 2017-04-17 и более поздних сообщение о состоянии `ClientOtherError` не используется. Вместо этого поле содержит код ошибки. Пример: `SASSuccess`  |
|**durationMs** | Общее время выполнения запрошенной операции в миллисекундах. Это значение включает время чтения входящего запроса и отправки ответа инициатору запроса. Например: `12`.|
|**callerIpAddress** | IP-адрес инициатора запроса, включая номер порта. Например, так: `192.100.0.102:4362`. |
|**correlationId** | Идентификатор, используемый для сопоставления журналов между ресурсами. Например, так: `b99ba45e-a01e-0042-4ea6-772bbb000000`. |
|**расположение** | Расположение учетной записи хранения. Например, так: `North Europe`. |
|**protocol**|Протокол, используемый в операции. Например, `HTTP`, `HTTPS`, `SMB`или `NFS`.|
| **uri** | Запрашиваемый универсальный идентификатор ресурса. Например, так: `http://myaccountname.blob.core.windows.net/cont1/blobname?timeout=10`. |

### <a name="fields-that-describe-how-the-operation-was-authenticated"></a>Поля, описывающие аутентификацию операции

```json
{
    "identity": {
        "authorization": [
            {
                "action": "Microsoft.Storage/storageAccounts/blobServices/containers/blobs/read",
                "principals": [
                    {
                        "id": "fde5ba15-4355-4223-b811-cccccccccccc",
                        "type": "User"
                    }
                ],
                "roleAssignmentId": "ecf75cb8-491c-4a25-ad6e-aaaaaaaaaaaa",
                "roleDefinitionId": "b7e6dc6d-f1e8-4753-8033-ffffffffffff"
            }
        ],
        "requester": {
            "appId": "691458b9-1327-4635-9f55-bbbbbbbbbbbb",
            "audience": "https://storage.azure.com/",
            "objectId": "fde5ba15-4355-4223-b811-cccccccccccc",
            "tenantId": "72f988bf-86f1-41af-91ab-dddddddddddd",
            "tokenIssuer": "https://sts.windows.net/72f988bf-86f1-41af-91ab-eeeeeeeeeeee/"
           },
        "type": "OAuth"
    },
}

```

| Свойство | Описание |
|:--- |:---|
|**identity/type** | Тип аутентификации, используемый для выполнения запроса. Например, `OAuth`, `SAS Key`, `Account Key`или `Anonymous`. |
|**identity/tokenHash**|Это поле зарезервировано для внутреннего использования. |
|**authorization/action** | Действие, назначенное запросу. Например: `Microsoft.Storage/storageAccounts/blobServices/containers/blobs/read` |
|**authorization/roleAssignmentId** | Идентификатор назначения ролей. Например: `4e2521b7-13be-4363-aeda-111111111111`.|
|**authorization/roleDefinitionId** | Идентификатор определения роли. Например, так: `ba92f5b4-2d11-453d-a403-111111111111"`.|
|**principals/id** | Идентификатор субъекта безопасности. Например, так: `a4711f3a-254f-4cfb-8a2d-111111111111`.|
|**principals/type** | Тип субъекта безопасности. Например, так: `ServicePrincipal`. |
|**requester/appID** | Идентификатор приложения Open Authorization (OAuth), который используется в качестве инициатора запроса. <br> Например, так: `d3f7d5fe-e64a-4e4e-871d-333333333333`.|
|**requester/audience** | Аудитория OAuth запроса. Например, так: `https://storage.azure.com`. |
|**requester/objectId** | Идентификатор объекта OAuth инициатора запроса. В случае аутентификации Kerberos предоставляется идентификатор объекта пользователя, который ее прошел. Например, так: `0e0bf547-55e5-465c-91b7-2873712b249c`. |
|**requester/tenantId** | Идентификатор клиента OAuth удостоверения. Например: `72f988bf-86f1-41af-91ab-222222222222`.|
|**requester/tokenIssuer** | Издатель токенов OAuth. Например, так: `https://sts.windows.net/72f988bf-86f1-41af-91ab-222222222222/`.|
|**requester/upn** | Имя участника-пользователя (UPN) инициатора запроса. Например, так: `someone@contoso.com`. |
|**requester/userName** | Это поле зарезервировано для внутреннего использования.|

### <a name="fields-that-describe-the-service"></a>Поля со сведениями о службе

```json
{
    "properties": {
        "accountName": "testaccount1",
        "requestUrl": "https://testaccount1.blob.core.windows.net:443/upload?restype=container&comp=list&prefix=&delimiter=%2F&marker=&maxresults=30&include=metadata&_=1551405598426",
        "userAgentHeader": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36 Edge/17.17134",
        "referrerHeader": "blob:https://ms.portal.azure.com/6f50025f-3b88-488d-b29e-3c592a31ddc9",
        "clientRequestId": "",
        "etag": "",
        "serverLatencyMs": 63,
        "serviceType": "blob",
        "operationCount": 0,
        "requestHeaderSize": 2658,
        "requestBodySize": 0,
        "responseHeaderSize": 295,
        "responseBodySize": 2018,
        "contentLengthHeader": 0,
        "requestMd5": "",
        "serverMd5": "",
        "lastModifiedTime": "",
        "conditionsUsed": "",
        "smbTreeConnectID" : "0x3",
        "smbPersistentHandleID" : "0x6003f",
        "smbVolatileHandleID" : "0xFFFFFFFF00000065",
        "smbMessageID" : "0x3b165",
        "smbCreditsConsumed" : "0x3",
        "smbCommandDetail" : "0x2000 bytes at offset 0xf2000",
        "smbFileId" : " 0x9223442405598953",
        "smbSessionID" : "0x8530280128000049",
        "smbCommandMajor" : "0x6",
        "smbCommandMinor" : "DirectoryCloseAndDelete"
    }

}
```

| Свойство | Описание |
|:--- |:---|
|**accountName** | Имя учетной записи хранения. Например: `mystorageaccount`.  |
|**requestUrl** | Запрошенный URL-адрес. Например, так: `http://mystorageaccount.blob.core.windows.net/cont1/blobname?timeout=10`.|
|**userAgentHeader** | Значение заголовка **User-Agent** в кавычках. Например, так: `WA-Storage/6.2.0 (.NET CLR 4.0.30319.42000; Win32NT 6.2.9200.0)`.|
|**referrerHeader** | Значение заголовка **Referrer**. Например, так: `http://contoso.com/about.html`.|
|**clientRequestId** | Значение заголовка запроса **x-ms-client-request-id**. Например, так: `360b66a6-ad4f-4c4a-84a4-0ad7cb44f7a6`. |
|**etag** | Идентификатор ETag возвращенного объекта в кавычках. Например, так: `0x8D101F7E4B662C4`.  |
|**serverLatencyMs** | Общее время выполнения запрошенной операции в миллисекундах. Это значение не включает сетевую задержку (время чтения входящего запроса и отправки ответа инициатору запроса). Например, так: `22`. |
|**serviceType** | Служба, ассоциированная с этим запросом. Например, `blob`, `table`, `files`или `queue`. |
|**operationCount** | Число зарегистрированных в журнале операций, участвующих в запросе. Это число начинается с индекса `0`. Для некоторых запросов, таких как копирование большого двоичного объекта, требуется более одной операции. Хотя большинство запросов выполняет лишь одну операцию. Например, так: `1`. |
|**requestHeaderSize** | Размер заголовка запроса в байтах. Например, так: `578`. <br>Если запрос завершится неудачно, это значение может быть пустым. |
|**requestBodySize** | Размер пакетов запроса, прочтенных службой хранилища, в байтах. <br> Например, так: `0`. <br>Если запрос завершится неудачно, это значение может быть пустым.  |
|**responseHeaderSize** | Размер заголовка ответа в байтах. Например, так: `216`. <br>Если запрос завершится неудачно, это значение может быть пустым.  |
|**responseBodySize** | Размер пакетов ответа, записанных службой хранилища, в байтах. Если запрос завершится неудачно, это значение может быть пустым. Например, так: `216`.  |
|**requestMd5** | Значение либо заголовка **Content-MD5**, либо заголовка **x-ms-content-md5** в запросе. Значение хэша MD5, указанное в этом поле, представляет содержимое запроса. Например, так: `788815fd0198be0d275ad329cafd1830`. <br>Это поле может быть пустым.  |
|**serverMd5** | Значение хэша MD5, вычисленное службой хранилища. Например, так: `3228b3cf1069a5489b298446321f8521`. <br>Это поле может быть пустым.  |
|**lastModifiedTime** | Время последнего изменения возвращенного объекта.  Например, так: `Tuesday, 09-Aug-11 21:13:26 GMT`. <br>Это поле будет пустым для операций, которые могут возвращать несколько объектов. |
|**conditionsUsed** | Разделенный точками с запятой список пар "ключ-значение", которые представляют условие. Условие может быть любым из перечисленных ниже: <li> If-Modified-Since <li> If-Unmodified-Since <li> If-Match <li> If-None-Match  <br> Например, так: `If-Modified-Since=Friday, 05-Aug-11 19:11:54 GMT`. |
|**contentLengthHeader** | Значение заголовка Content-Length для запроса, отправленного службе хранилища. Если запрос был успешным, будет задано значение requestBodySize. Если запрос завершился неудачно, это значение может быть не равно requestBodySize или быть пустым. |
|**tlsVersion** | Версия TLS, используемая в подключении запроса. Например: `TLS 1.2`. |
|**smbTreeConnectID** | SMB (Server Message Block) **treeConnectId**, установленный во время подключения к дереву. Пример: `0x3` |
|**smbPersistentHandleID** | Постоянный идентификатор дескриптора из запроса SMB2 CREATE, который сохраняется при повторных подключениях к сети.  Указывается в [MS-SMB2](https://docs.microsoft.com/openspecs/windows_protocols/ms-smb2/f1d9b40d-e335-45fc-9d0b-199a31ede4c3) 2.2.14.1 как **SMB2_FILEID.Persistent**. Пример: `0x6003f` |
|**smbVolatileHandleID** | Временный идентификатор дескриптора из запроса SMB2 CREATE, который перезапускается при повторных подключениях к сети.  Указывается в [MS-SMB2](https://docs.microsoft.com/openspecs/windows_protocols/ms-smb2/f1d9b40d-e335-45fc-9d0b-199a31ede4c3) 2.2.14.1 как **SMB2_FILEID.Volatile**. Пример: `0xFFFFFFFF00000065` |
|**smbMessageID** | Относительное подключение **MessageId**. Например: `0x3b165` |
|**smbCreditsConsumed** | Входящий или исходящий трафик, используемый запросом, в единицах равных 64 КБ. Пример: `0x3` |
|**smbCommandDetail** | Дополнительные сведения о конкретном запросе, а не об общем типе запроса. Пример: `0x2000 bytes at offset 0xf2000` |
|**smbFileId** | **FileId**, связанный с файлом или каталогом.  Приблизительный аналог NTFS FileId. Пример: `0x9223442405598953` |
|**smbSessionID** | Параметр SMB2 **SessionId**, установленный во время настройки сеанса. Пример: `0x8530280128000049` |
|**smbCommandMajor uint32** | Значение в **SMB2_HEADER.Command**. В настоящее время это число в диапазоне от 0 до 18 включительно. Пример: `0x6` |
|**smbCommandMinor** | Подкласс **SmbCommandMajor**, где необходимо. Например: `DirectoryCloseAndDelete` |

## <a name="see-also"></a>См. также раздел

- Описание мониторинга службы хранилища Azure см. на [этой странице](monitor-storage.md).
- Подробные сведения о мониторинге ресурсов Azure см. в статье [Мониторинг ресурсов Azure с помощью Azure Monitor](../../azure-monitor/insights/monitor-azure-resource.md).