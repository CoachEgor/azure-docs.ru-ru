---
title: азкопии скамейке Документы Майкрософт
description: В этой статье содержится справочная информация для команды скамейки azcopy.
author: normesta
ms.service: storage
ms.topic: reference
ms.date: 10/16/2019
ms.author: normesta
ms.subservice: common
ms.reviewer: zezha-msft
ms.openlocfilehash: 8570bce87aeea5473b4aadf9bd30bc0a648a6f0f
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "72518308"
---
# <a name="azcopy-bench"></a>azcopy bench

Запускает тест производительности, загрузив тестовые данные в указанный пункт назначения. Тестовые данные генерируются автоматически.

Базовая команда выполняет тот же процесс загрузки, что и "копия", за исключением того, что:

  - Нет параметра источника.  Для команды требуется только URL назначения. В текущем выпуске этот URL назначения должен относиться к контейнеру с каплями.
  
  - Полезная нагрузка описывается параметрами командной строки, которые контролируют, сколько файлов автоматически генерируется и насколько они велики. Процесс генерации происходит полностью в памяти. Диск не используется.
  
  - Поддерживаются лишь некоторые из дополнительных параметров, доступных для команды копирования.
  
  - Измеряется и сообщается о дополнительной диагностике.
  
  - По умолчанию переданные данные удаляются в конце тестового запуска.

Режим Бенчмарк автоматически настраивается на количество параллельных соединений TCP, что дает максимальную пропускную стоимость. Он будет отображать этот номер в конце. Чтобы предотвратить автоматическую настройку, установите AZCOPY_CONCURRENCY_VALUE переменной среды на определенное количество соединений.

Все обычные типы аутентификации поддерживаются. Однако наиболее удобным подходом для бенчмаркинга обычно является создание пустого контейнера с токеном SAS и использование аутентификации SAS.

## <a name="examples"></a>Примеры

```azcopy
azcopy bench [destination] [flags]
```

Выполнить тест с параметрами по умолчанию (подходит для бенчмаркинга сетей до 1 Гбит/с):

- азкопии скамейке "https:/ /'account'.blob.core.windows.net/ »контейнер»? <SAS>"

Выполнить тест, который загружает 100 файлов, каждый 2 GiB в размере: (подходит для бенчмаркинга на быстрой сети, например, 10 Гбит/с):

- азкопии скамейке "https:/ /'account'.blob.core.windows.net/ »контейнер»? <SAS>" --файл-счет 100 --размер-за файл 2G

Так же, как выше, но использовать 50000 файлов, каждый 8 MiB в размере и вычислить их MD5 хэши (так же, как --put-md5 флаг делает это в команде копирования). Цель --put-md5 при бенчмаркинге состоит в том, чтобы проверить, влияет ли вычисление MD5 на пропускную стоимость выбранного количества и размера файлов:

- азкопии скамейке "https:/ /'account'.blob.core.windows.net/ »контейнер»? <SAS>" --файл-счет 50000 -размер-за файл 8M --put-md5

## <a name="options"></a>Параметры

**--blob-типа** строки Определяет тип капли в пункт назначения. Используется для сравнения различных типов капли. Идентичен одноименному параметру в команде копирования (по умолчанию "Обнаружение").

**--блок-размер-mb** поплавок Используйте этот размер блока (указано в MiB). По умолчанию автоматически рассчитывается на основе размера файла. Разрешены десятичные фракции - например, 0,25. Идентичен одноименному параметру в команде копирования.

**--удалить-тест-данные**  Если это так, то базовые данные будут удалены в конце тестовых запусков.  Установите его на ложный, если вы хотите сохранить данные в пункте назначения - например, использовать их для ручных тестов вне базового режима (по умолчанию верно).

**--количество файлов-отсчета** uint Количество автоматически генерируемых файлов данных для использования (по умолчанию 100).

**-h, --помощь**  Помощь для скамейки

**--строка уровня журнала** Определите многословность журнала для файла журнала, доступные уровни: INFO (все запросы/ответы), ВНИМАНИЕ (медленные ответы), ERROR (только неудавемые запросы) и NONE (без журналов вывода). (по умолчанию "INFO")

**--пут-md5**  Создайте хэш MD5 каждого файла и сохраните хэш как свойство Content-MD5 кабы/файл назначения. (По умолчанию хэш НЕ создается.) Идентичен одноименному параметру в команде копирования.

**--размер в строке** строки размер каждого автоматического генерируемого файла данных. Должно быть число сразу же следуют K, M или G. Например. 12k или 200G (по умолчанию "250M").

## <a name="options-inherited-from-parent-commands"></a>Параметры, унаследованные от родительских команд

**--кап-мбитп uint32**  Ограничивает скорость передачи, в мегабитах в секунду. Пропускная часть момент за моментом может незначительно отличаться от крышки. Если эта опция установлена до нуля или опущена, пропускная часть не ограничена.

**--тип вывода** Формат вывода команды. Выбор включает в себя: текст, Json. Значение по умолчанию — это «текст». (по умолчанию "текст").

## <a name="see-also"></a>См. также

- [Azcopy](storage-ref-azcopy.md)
