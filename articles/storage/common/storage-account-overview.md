---
title: Общие сведения об учетной записи хранения
titleSuffix: Azure Storage
description: Общие сведения о вариантах для создания и использования учетной записи хранения Azure.
services: storage
author: tamram
ms.service: storage
ms.topic: conceptual
ms.date: 12/20/2019
ms.author: tamram
ms.subservice: common
ms.openlocfilehash: 8f912635fc0fb14fc54426a108af5f67d26213f4
ms.sourcegitcommit: 3dc1a23a7570552f0d1cc2ffdfb915ea871e257c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2020
ms.locfileid: "75975706"
---
# <a name="storage-account-overview"></a>Общие сведения об учетной записи хранения

Учетная запись хранения Azure содержит все объекты данных службы хранилища Azure: большие двоичные объекты, файлы, очереди, таблицы и диски. Учетная запись хранения предоставляет уникальное пространство имен для данных службы хранилища Azure, доступное из любой точки мира по протоколу HTTP или HTTPS. Данные в учетной записи хранения Azure являются устойчивыми и высокодоступными, безопасными и масштабируемыми.

Сведения о создании учетной записи хранения Azure см. в [этой статье](storage-account-create.md).

## <a name="types-of-storage-accounts"></a>Типы учетных записей хранения

[!INCLUDE [storage-account-types-include](../../../includes/storage-account-types-include.md)]

### <a name="general-purpose-v2-accounts"></a>Учетные записи общего назначения версии 2.

Учетные записи хранения общего назначения версии 2 поддерживают последние возможности службы хранилища Azure и содержат все функции учетных записей общего назначения версии 1 и учетных записей хранилища BLOB-объектов. Учетные записи общего назначения версии 2 отличаются наименьшей ориентировочной платой за каждый гигабайт для службы хранилища Azure, а также конкурентоспособными в отрасли ценами на транзакции. Учетные записи хранения общего назначения версии 2 поддерживают эти службы хранилища Azure:

- большие двоичные объекты (все типы: блочные, добавочные, страничные);
- Data Lake Gen2
- Файлы
- Диски
- Очереди
- Таблицы

> [!NOTE]
> Корпорация Майкрософт рекомендует для большинства сценариев использовать учетные записи общего назначения версии 2. Учетную запись хранения общего назначения версии 1 или хранилища BLOB-объектов можно легко обновить до учетной записи общего назначения версии 2 без простоев или копирования данных.
>
> Дополнительные сведения об обновлении до учетной записи общего назначения версии 2 см. в [этой статье](storage-account-upgrade.md).

Учетные записи хранения общего назначения версии 2 обеспечивают несколько уровней доступа для хранения данных на основе шаблонов использования. Дополнительные сведения см. в разделе [Уровни доступа для данных блочных BLOB-объектов](#access-tiers-for-block-blob-data).

### <a name="general-purpose-v1-accounts"></a>Учетные записи общего назначения версии 1

Учетные записи хранения общего назначения версии 1 обеспечивают доступ ко всем службам хранилища Azure, но могут не иметь последних функций или цены за гигабайт. Учетные записи хранения общего назначения версии 1 поддерживают эти службы хранилища Azure:

- большие двоичные объекты (все типы);
- Файлы
- Диски
- Очереди
- Таблицы

В большинстве случаев следует использовать учетные записи общего назначения версии 2. В этих сценариях можно использовать учетные записи общего назначения версии 1:

- Для приложений требуется классическая модель развертывания Azure. Учетные записи общего назначения версии 2 и учетные записи хранилища BLOB-объектов поддерживают только модель развертывания с помощью Azure Resource Manager.

- Ваши приложения потребляют много ресурсов или используют значительную пропускную способность георепликации, но не требуют большой емкости. В этом случае учетные записи хранения общего назначения версии 1 могут быть наиболее экономичным вариантом.

- Вы используете версию [служб хранилища REST API](https://msdn.microsoft.com/library/azure/dd894041.aspx) более раннюю, чем 2014-02-14, или клиентскую библиотеку с версией ниже 4. x. Невозможно обновить приложение.

### <a name="blockblobstorage-accounts"></a>Учетные записи Блоккблобстораже

Учетная запись Блоккблобстораже — это специализированная учетная запись хранения, используемая для хранения неструктурированных данных объекта в виде блочных BLOB-объектов. Вы также можете использовать учетную запись Блоккблобстораже для создания блочных BLOB-объектов уровня "Премиум". Этот тип учетной записи хранения поддерживает блочные и добавочные большие двоичные объекты, но не страничные BLOB-объекты, таблицы или очереди.

По сравнению с учетными записями общего назначения v2 и Блобстораже учетные записи Блоккблобстораже обеспечивают низкую и постоянную задержку и более высокие показатели транзакций.

В настоящее время учетные записи Блоккблобстораже не поддерживают распределение по уровням для горячего, холодного или архивного уровня доступа.

### <a name="filestorage-accounts"></a>Учетные записи Филестораже

Учетная запись Филестораже — это специализированная учетная запись хранения, используемая для хранения и создания общих файловых ресурсов уровня "Премиум". Этот тип учетной записи хранения поддерживает файлы, но не блочные, добавочные, страничные BLOB-объекты, таблицы или очереди.

Учетные записи Филестораже обеспечивают уникальные характеристики производительности, такие как разбивка на количество операций ввода-вывода в секунду. Дополнительные сведения об этих характеристиках см. в разделе " [уровни производительности файлового ресурса](../files/storage-files-planning.md#file-share-performance-tiers) " раздела "рекомендации по планированию файлов".

## <a name="naming-storage-accounts"></a>Именование учетных записей хранения

Помните о следующих правилах при назначении имени учетной записи хранения.

- Имя учетной записи хранения должно содержать от 3 до 24 символов и состоять только из цифр и строчных букв.
- Имя учетной записи хранения должно быть уникальным в Azure. Две учетные записи хранения не могут иметь одно имя.

## <a name="performance-tiers"></a>Уровни производительности

Учетные записи хранения общего назначения можно настроить для любого из следующих уровней производительности:

- Уровень производительности "Стандартный" для хранения больших двоичных объектов, файлов, таблиц, очередей и дисков виртуальных машин Azure. Дополнительные сведения о целевых показателях масштабируемости для стандартных учетных записей хранения см. в статье [целевые показатели масштабируемости для стандартных учетных записей хранения](scalability-targets-standard-account.md).
- Уровень производительности "Премиум" для хранения только неуправляемых дисков виртуальных машин. Корпорация Майкрософт рекомендует использовать управляемые диски с виртуальными машинами Azure вместо неуправляемых дисков. Дополнительные сведения о целевых показателях масштабируемости для уровня производительности "Премиум" см. в статье [целевые показатели масштабируемости для учетных записей хранилища BLOB-объектов класса Premium](../blobs/scalability-targets-premium-page-blobs.md).

Учетные записи хранения Блоккблобстораже обеспечивают уровень производительности "Премиум" для хранения блочных BLOB-объектов и добавления больших двоичных объектов. Дополнительные сведения см. в статье [целевые показатели масштабируемости для учетных записей хранения блочных BLOB-объектов класса Premium](../blobs/scalability-targets-premium-block-blobs.md).

Учетные записи хранения Филестораже обеспечивают уровень производительности "Премиум" для файловых ресурсов Azure. Дополнительные сведения см. в статье [целевые показатели масштабируемости и производительности службы файлов Azure](../files/storage-files-scale-targets.md).

## <a name="access-tiers-for-block-blob-data"></a>Уровни доступа для данных блочных BLOB-объектов

Служба хранилища Azure предоставляет различные возможности доступа к данным блочных BLOB-объектов на основе шаблонов использования. Каждый уровень доступа в службе хранилища Azure оптимизирован для определенного шаблона использования данных. Если выбрать правильный уровень доступа для ваших потребностей, это позволит хранить данные блочных BLOB-объектов наиболее экономичным способом.

Доступные уровни доступа:

- Уровень **горячего** доступа. Этот уровень оптимизирован для частого доступа к объектам в учетной записи хранения. Доступ к данным в активном уровне является наиболее экономичным, а затраты на хранение — выше. Новые учетные записи хранения создаются на горячем уровне по умолчанию.
- **Стильный** уровень доступа. Этот уровень оптимизирован для хранения больших объемов данных, доступ к которым осуществляется нечасто и хранится не менее 30 дней. Хранение данных на простом уровне является более экономичным, но доступ к этим данным может быть более дорогостоящим, чем доступ к данным на активном уровне.
- Уровень **архива** . Этот уровень доступен только для отдельных блочных BLOB-объектов. Уровень архива оптимизирован для данных, которые могут допускать несколько часов задержки при получении, и они останутся на уровне архива в течение не менее 180 дней. Уровень архива является наиболее экономичным вариантом хранения данных. Однако доступ к этим данным требует больших затрат, чем доступ к данным на горячий или холодном уровнях.

При изменении схемы использования данных можно переключаться между этими уровнями доступа в любое время. Дополнительные сведения о уровнях доступа см. в статье [хранилище BLOB-объектов Azure: горячий, стильный и архивный уровни доступа](../blobs/storage-blob-storage-tiers.md).

> [!IMPORTANT]
> Изменение уровня доступа для имеющейся учетной записи хранения или большого двоичного объекта может привести к дополнительным затратам. Дополнительные сведения см. в разделе [Выставление счетов за использование учетной записи хранения](#storage-account-billing).

## <a name="replication"></a>Репликация

[!INCLUDE [storage-common-redundancy-options](../../../includes/storage-common-redundancy-options.md)]

См. дополнительные сведения о [репликации службы хранилища Azure](storage-redundancy.md).

## <a name="encryption"></a>Шифрование

Все данные в вашей учетной записи хранения шифруются на стороне службы. Дополнительные сведения о шифровании см. в статье [Шифрование службы хранилища Azure для неактивных данных](storage-service-encryption.md).

## <a name="storage-account-endpoints"></a>Конечные точки учетной записи хранения

Учетная запись хранения предоставляет для ваших данных уникальное пространство имен в Azure. У каждого объекта, который хранится в службе хранилища Azure, есть адрес, содержащий уникальное имя учетной записи. Сочетание имени учетной записи и конечной точки службы хранилища Azure формирует конечные точки для вашей учетной записи хранения.

Например, если учетная запись хранения общего назначения имеет имя *mystorageaccount*, конечными точками по умолчанию для учетной записи будут:

- Хранилище BLOB-объектов: `https://*mystorageaccount*.blob.core.windows.net`
- Хранилище таблиц: `https://*mystorageaccount*.table.core.windows.net`
- Хранилище очередей: `https://*mystorageaccount*.queue.core.windows.net`
- Службы файлов Azure: `https://*mystorageaccount*.file.core.windows.net`

> [!NOTE]
> Учетные записи блочных и BLOB-объектов предоставляют только конечную точку службы BLOB-объектов.

Создайте URL-адрес для доступа к объекту в учетной записи хранения, добавив расположение объекта в учетную запись хранения в конечную точку. Например, адрес BLOB-объекта может иметь следующий формат: http://*mystorageaccount*.blob.core.windows.net/*mycontainer*/*myblob*.

Для своей учетной записи хранения вы можете настроить использование личного домена для больших двоичных объектов. Дополнительные сведения см. в статье [Настройка имени личного домена для учетной записи службы хранилища Azure](../blobs/storage-custom-domain-name.md).  

## <a name="control-access-to-account-data"></a>Управление доступом к данным учетной записи

По умолчанию данные в учетной записи доступны только владельцу учетной записи. Вы контролируете, кто может получить доступ к данным и какими разрешениями они располагают.

Каждый запрос к вашей учетной записи хранения должен быть авторизован. На уровне службы запрос должен включать допустимый заголовок *авторизации* . В частности, этот заголовок содержит все сведения, необходимые службе для проверки запроса перед его выполнением.

Предоставить доступ к данным в вашей учетной записи хранения можно с помощью любого из следующих подходов:

- **Azure Active Directory:** Используйте учетные данные Azure Active Directory (Azure AD) для проверки подлинности пользователя, группы или другого удостоверения для доступа к данным большого двоичного объекта и очереди. Если аутентификация удостоверения выполнена успешно, Azure AD возвращает токен для использования при авторизации запроса в хранилище BLOB-объектов Azure или хранилище очередей. Дополнительные сведения см. в статье об [аутентификации доступа к службе хранилища Azure с помощью Azure Active Directory](storage-auth-aad.md).
- **Общий ключ авторизации:** используйте ключ доступа к учетной записи хранения для создания строки подключения, которую приложение использует в среде выполнения для доступа к службе хранилища Azure. Значения в строке подключения используются для создания заголовка *авторизации*, который передается в службу хранилища Azure. Дополнительные сведения см. в статье [Настройка строк подключения службы хранилища Azure](storage-configure-connection-string.md).
- **Подпись общего доступа:** Используйте подписанный URL-доступ для делегирования доступа к ресурсам в вашей учетной записи хранения, если вы не используете авторизацию Azure AD. Подписанный URL-адрес — это токен, который инкапсулирует все сведения, необходимые для авторизации запроса в службу хранилища Azure на основе URL-адреса. Вы можете указать ресурс хранилища, предоставленные разрешения и интервал, в течение которого разрешения допустимы, как часть подписанного URL-адреса. Дополнительные сведения см. в статье [Использование подписанных URL-адресов (SAS)](storage-sas-overview.md).

> [!NOTE]
> Аутентификация пользователей или приложений с использованием учетных данных Azure AD обеспечивает превосходную защиту и простоту использования по сравнению с другими средствами авторизации. Хотя вы можете продолжать применять для приложений авторизацию с помощью общего ключа, благодаря использованию Azure AD не нужно хранить ключ доступа к учетной записи с кодом. Вы также можете продолжать использовать подписанные URL-адреса для предоставления доступа с точной настройкой к ресурсам в учетной записи хранения, но Azure AD предлагает аналогичные возможности без необходимости управлять токенами SAS или беспокоиться об отзыве скомпрометированного SAS.
>
> Корпорация Майкрософт рекомендует использовать авторизацию Azure AD для приложений BLOB-объектов и очередей службы хранилища Azure, когда это возможно.

## <a name="copying-data-into-a-storage-account"></a>Копирование данных в учетную запись хранения

Корпорация Майкрософт предоставляет служебные программы и библиотеки для импорта данных из локальных устройств хранения или сторонних поставщиков услуг облачного хранения. Используемое решение зависит от количества передаваемых данных.

При обновлении до учетной записи общего назначения версии 2 с учетной записи хранения общего назначения версии 1 или учетной записи хранилища BLOB-объектов ваши данные переносятся автоматически. Корпорация Майкрософт рекомендует этот путь для обновления учетной записи. Однако если вы решили переместить данные из учетной записи общего назначения версии 1 в учетную запись хранения BLOB-объектов, вы перенесете данные вручную с помощью средств и библиотек, описанных ниже.

### <a name="azcopy"></a>AzCopy

AzCopy — это программа командной строки Windows, предназначенная для быстрого копирования большого объема данных в службу хранилища Azure и из нее. С помощью AzCopy можно копировать данные в учетную запись хранилища BLOB-объектов из имеющейся учетной записи хранения общего назначения или передать данные из локальных устройств хранения. Дополнительные сведения см. в разделе [Передача данных с помощью служебной программы AzCopy](../common/storage-use-azcopy.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json).

### <a name="data-movement-library"></a>Библиотека перемещения данных

В основе библиотеки перемещения данных службы хранилища Azure для .NET лежит основная платформа перемещения данных, на базе которой работает AzCopy. Библиотека предназначена для надежной и простой передачи данных при высокой производительности, как AzCopy. Вы можете использовать библиотеку перемещения данных, чтобы воспользоваться встроенными функциями AzCopy. Дополнительные сведения см. в статье [Библиотека перемещения данных службы хранилища Azure для .NET](https://github.com/Azure/azure-storage-net-data-movement) .

### <a name="rest-api-or-client-library"></a>REST API или клиентская библиотека

Вы можете создать пользовательское приложение для переноса данных из учетной записи хранения общего назначения v1 в учетную запись хранения BLOB-объектов. Используйте одну из клиентских библиотек Azure или REST API служб хранилища Azure. Служба хранилища Azure предоставляет богатые клиентские библиотеки для создания приложений с использованием .NET, Java, Android, C++, Node.js, PHP, Ruby и Python. Клиентские библиотеки предлагают дополнительные возможности, такие как логический алгоритм повтора, ведение журнала и параллельная загрузка. Также есть возможность вести разработку непосредственно через интерфейс API REST, который можно вызывать в любом языке программирования, поддерживающем запросы HTTP/HTTPS.

Дополнительные сведения о REST API службы хранилища Azure см. в [справочнике по интерфейсу REST API для служб хранилища Azure](https://docs.microsoft.com/rest/api/storageservices/).

> [!IMPORTANT]
> Вместе с большими двоичными объектами, зашифрованными на стороне клиента, хранятся связанные с шифрованием метаданные. При копировании большого двоичного объекта, зашифрованного на стороне клиента, убедитесь, что при операции копирования сохраняются метаданные большого двоичного объекта и особенно метаданные, связанные с шифрованием. Если скопировать большой двоичный объект без метаданных шифрования, его содержимое нельзя будет извлечь повторно. Дополнительные сведения о метаданных, связанных с шифрованием, см. в статье [Шифрование на стороне клиента для службы хранилища Microsoft Azure](../common/storage-client-side-encryption.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json).

## <a name="storage-account-billing"></a>Выставление счетов за использование учетной записи хранения

[!INCLUDE [storage-account-billing-include](../../../includes/storage-account-billing-include.md)]

## <a name="next-steps"></a>Дальнейшие действия

- [создать учетную запись хранения;](storage-account-create.md)
- [Создание учетной записи хранения блочных BLOB-объектов](../blobs/storage-blob-create-account-block-blob.md)
