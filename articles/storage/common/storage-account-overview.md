---
title: Общие сведения об учетной записи хранения Azure | Документация Майкрософт
description: Общие сведения о вариантах для создания и использования учетной записи хранения Azure.
services: storage
author: tamram
ms.service: storage
ms.topic: article
ms.date: 06/07/2019
ms.author: tamram
ms.subservice: common
ms.openlocfilehash: 2adb2928772f97c2dc14b8ebe9eb2072cbc4a36d
ms.sourcegitcommit: 5b76581fa8b5eaebcb06d7604a40672e7b557348
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/13/2019
ms.locfileid: "68985367"
---
# <a name="azure-storage-account-overview"></a>Общие сведения об учетной записи хранения

Учетная запись хранения Azure содержит все объекты данных службы хранилища Azure: большие двоичные объекты, файлы, очереди, таблицы и диски. Учетная запись хранения предоставляет уникальное пространство имен для данных службы хранилища Azure, доступное из любой точки мира по протоколу HTTP или HTTPS. Данные в учетной записи хранения Azure являются устойчивыми и высокодоступными, безопасными и масштабируемыми.

Сведения о создании учетной записи хранения Azure см. в [этой статье](storage-quickstart-create-account.md).

## <a name="types-of-storage-accounts"></a>Типы учетных записей хранения

[!INCLUDE [storage-account-types-include](../../../includes/storage-account-types-include.md)]

### <a name="general-purpose-v2-accounts"></a>Учетные записи общего назначения версии 2.

Учетные записи хранения общего назначения версии 2 поддерживают последние возможности службы хранилища Azure и содержат все функции учетных записей общего назначения версии 1 и учетных записей хранилища BLOB-объектов. Учетные записи общего назначения версии 2 отличаются наименьшей ориентировочной платой за каждый гигабайт для службы хранилища Azure, а также конкурентоспособными в отрасли ценами на транзакции. Учетные записи хранения общего назначения версии 2 поддерживают эти службы хранилища Azure:

- большие двоичные объекты (все типы: блочные, добавочные, страничные);
- Файлы
- Диски
- Списки ожидания
- Таблицы

> [!NOTE]
> Корпорация Майкрософт рекомендует для большинства сценариев использовать учетные записи общего назначения версии 2. Учетную запись хранения общего назначения версии 1 или хранилища BLOB-объектов можно легко обновить до учетной записи общего назначения версии 2 без простоев или копирования данных.
>
> Дополнительные сведения об обновлении до учетной записи общего назначения версии 2 см. в [этой статье](storage-account-upgrade.md).

Учетные записи хранения общего назначения версии 2 обеспечивают несколько уровней доступа для хранения данных на основе шаблонов использования. Дополнительные сведения см. в разделе [Уровни доступа для данных блочных BLOB-объектов](#access-tiers-for-block-blob-data).

### <a name="general-purpose-v1-accounts"></a>Учетные записи общего назначения версии 1

Учетные записи общего назначения версии 1 обеспечивают доступ ко всем службам хранилища Azure, но не предоставляют новейших возможностей или низких цен за гигабайт. Учетные записи хранения общего назначения версии 1 поддерживают эти службы хранилища Azure:

- большие двоичные объекты (все типы);
- Файлы
- Диски
- Списки ожидания
- Таблицы

Хотя в большинстве случаев рекомендуется использовать учетные записи общего назначения версии 2, учетные записи общего назначения версии 1 лучше всего подходят для этих сценариев:

* Для приложений требуется классическая модель развертывания Azure. Учетные записи общего назначения версии 2 и учетные записи хранилища BLOB-объектов поддерживают только модель развертывания с помощью Azure Resource Manager.

* В ваших приложениях выполняется большое число транзакций или используется значительная пропускная способность георепликации, но для них не требуется большая емкость. В этом случае учетные записи хранения общего назначения версии 1 могут быть наиболее экономичным вариантом.

* Вы используете версию [REST API служб хранилища](https://msdn.microsoft.com/library/azure/dd894041.aspx) , выпущенную раньше 14.02.2014, или клиентскую библиотеку версии ниже 4 и не можете установить новую версию приложения.

### <a name="block-blob-storage-accounts"></a>Блокировать учетные записи хранения BLOB-объектов

Учетная запись хранения блочного BLOB-объекта — это специализированная учетная запись хранения для хранения неструктурированных данных объекта в виде блочных BLOB. Этот тип учетной записи хранения поддерживает блочные и добавочные большие двоичные объекты, но не страничные BLOB-объекты, таблицы и очереди.

По сравнению с учетными записями общего назначения и хранилища BLOB-объектов, учетные записи хранения BLOB-объектов обеспечивают низкую и постоянную задержку и более высокие скорости транзакций.

Учетные записи хранения блочных BLOB-объектов в настоящее время не поддерживают распределение по уровням "горячий", "холодный" или архивный уровни доступа.

### <a name="filestorage-storage-accounts"></a>Учетные записи хранения Филестораже

Учетная запись хранения Филестораже — это специализированная учетная запись хранения, используемая для хранения и создания общих файловых ресурсов уровня "Премиум". Учетные записи хранения Филестораже обеспечивают уникальные характеристики производительности, такие как разбивка на количество операций ввода-вывода в секунду. Дополнительные сведения об этих характеристиках см. в разделе " [уровни производительности файлового ресурса](../files/storage-files-planning.md#file-share-performance-tiers) " раздела "рекомендации по планированию файлов".

## <a name="naming-storage-accounts"></a>Именование учетных записей хранения

Помните о следующих правилах при назначении имени учетной записи хранения.

- Имя учетной записи хранения должно содержать от 3 до 24 символов и состоять только из цифр и строчных букв.
- Имя учетной записи хранения должно быть уникальным в Azure. Две учетные записи хранения не могут иметь одно имя.

## <a name="performance-tiers"></a>Уровни производительности

Учетные записи хранения общего назначения можно настроить для любого из следующих уровней производительности:

* Уровень производительности "Стандартный" для хранения больших двоичных объектов, файлов, таблиц, очередей и дисков виртуальных машин Azure.
* Уровень производительности "Премиум" для хранения только неуправляемых дисков виртуальных машин.

Учетные записи хранения блочных BLOB-объектов обеспечивают уровень производительности Premium для хранения блочных BLOB-объектов и добавления больших двоичных объектов.

Учетные записи хранения Филестораже обеспечивают уровень производительности "Премиум" для файловых ресурсов Azure.

## <a name="access-tiers-for-block-blob-data"></a>Уровни доступа для данных блочных BLOB-объектов

Служба хранилища Azure предоставляет различные возможности доступа к данным блочных BLOB-объектов на основе шаблонов использования. Каждый уровень доступа в службе хранилища Azure оптимизирован для определенного шаблона использования данных. Если выбрать правильный уровень доступа для ваших потребностей, это позволит хранить данные блочных BLOB-объектов наиболее экономичным способом.

Доступные уровни доступа:

* **Горячий** уровень доступа оптимизирован для частого доступа к объектам в учетной записи хранения. Доступ к данным в активном уровне является наиболее экономичным, а затраты на хранение — выше. Новые учетные записи хранения создаются на горячем уровне по умолчанию.
* **Холодный** уровень доступа оптимизирован для хранения больших объемов данных, которые используются редко и хранятся не менее 30 дней. Хранение данных на простом уровне является более экономичным, но доступ к этим данным может быть более дорогостоящим, чем доступ к данным на активном уровне.
* **Архивный** уровень доступен только для отдельных блочных BLOB-объектов. Уровень архива оптимизирован для данных, которые допускают несколько часов задержки при получении и остаются на архиве в течение не менее 180 дней. Хранение данных на архивном уровне наиболее экономично, но доступ к этим данным затратнее, чем доступ к данным на горячем и холодном уровнях.

Если нужно изменить шаблон использования данных, вы в любое время можете изменить уровень доступа. Дополнительные сведения о уровнях доступа см. в статье [хранилище BLOB-объектов Azure: горячий, стильный и архивный уровни доступа](../blobs/storage-blob-storage-tiers.md).

> [!IMPORTANT]
> Изменение уровня доступа для имеющейся учетной записи хранения или большого двоичного объекта может привести к дополнительным затратам. Дополнительные сведения см. в разделе [Выставление счетов за использование учетной записи хранения](#storage-account-billing).

## <a name="replication"></a>Репликация

[!INCLUDE [storage-common-redundancy-options](../../../includes/storage-common-redundancy-options.md)]

См. дополнительные сведения о [репликации службы хранилища Azure](storage-redundancy.md).

## <a name="encryption"></a>Шифрование

Все данные в вашей учетной записи хранения шифруются на стороне службы. Дополнительные сведения о шифровании см. в статье [Шифрование службы хранилища Azure для неактивных данных](storage-service-encryption.md).

## <a name="storage-account-endpoints"></a>Конечные точки учетной записи хранения

Учетная запись хранения предоставляет для ваших данных уникальное пространство имен в Azure. У каждого объекта, который хранится в службе хранилища Azure, есть адрес, содержащий уникальное имя учетной записи. Сочетание имени учетной записи и конечной точки службы хранилища Azure формирует конечные точки для вашей учетной записи хранения.

Например, если учетная запись хранения общего назначения имеет имя *mystorageaccount*, конечными точками по умолчанию для учетной записи будут:

* хранилище BLOB-объектов — http://*mystorageaccount*.blob.core.windows.net;
* хранилище таблиц — http://*mystorageaccount*.table.core.windows.net;
* хранилище очередей — http://*mystorageaccount*.queue.core.windows.net;
* файлы Azure — http://*mystorageaccount*.file.core.windows.net;

> [!NOTE]
> Учетные записи блочных и BLOB-объектов предоставляют только конечную точку службы BLOB-объектов.

URL-адрес для доступа к объекту в учетной записи хранения создается путем добавления местоположения объекта в учетной записи хранения к конечной точке. Например, адрес BLOB-объекта может иметь следующий формат: http://*mystorageaccount*.blob.core.windows.net/*mycontainer*/*myblob*.

Для своей учетной записи хранения вы можете настроить использование личного домена для больших двоичных объектов. Дополнительные сведения см. в статье [Настройка имени личного домена для учетной записи службы хранилища Azure](../blobs/storage-custom-domain-name.md).  

## <a name="control-access-to-account-data"></a>Управление доступом к данным учетной записи

По умолчанию данные в учетной записи доступны только владельцу учетной записи. Вы контролируете, кто может получить доступ к данным и какими разрешениями они располагают.

Каждый запрос к вашей учетной записи хранения должен быть авторизован. На уровне службы запрос должен содержать допустимый заголовок *авторизации*, который включает в себя все сведения, необходимые для того, чтобы служба проверила запрос перед его выполнением.

Предоставить доступ к данным в вашей учетной записи хранения можно с помощью любого из следующих подходов:

- **Azure Active Directory:** Используйте учетные данные Azure Active Directory (Azure AD) для проверки подлинности пользователя, группы или другого удостоверения для доступа к данным большого двоичного объекта и очереди. Если аутентификация удостоверения выполнена успешно, Azure AD возвращает токен для использования при авторизации запроса в хранилище BLOB-объектов Azure или хранилище очередей. Дополнительные сведения см. в статье об [аутентификации доступа к службе хранилища Azure с помощью Azure Active Directory](storage-auth-aad.md).
- **Общий ключ авторизации:** используйте ключ доступа к учетной записи хранения для создания строки подключения, которую приложение использует в среде выполнения для доступа к службе хранилища Azure. Значения в строке подключения используются для создания заголовка *авторизации*, который передается в службу хранилища Azure. Дополнительные сведения см. в статье [Настройка строк подключения службы хранилища Azure](storage-configure-connection-string.md).
- **Подписанный URL-адрес:** используйте подписанный URL-адрес для делегирования доступа к ресурсам в вашей учетной записи хранения, если вы не используете аутентификацию Azure AD. Подписанный URL-адрес — это токен, который инкапсулирует все сведения, необходимые для авторизации запроса в службу хранилища Azure на основе URL-адреса. Вы можете указать ресурс хранилища, предоставленные разрешения и интервал, в течение которого разрешения допустимы, как часть подписанного URL-адреса. Дополнительные сведения см. в статье [Использование подписанных URL-адресов (SAS)](storage-sas-overview.md).

> [!NOTE]
> Аутентификация пользователей или приложений с использованием учетных данных Azure AD обеспечивает превосходную защиту и простоту использования по сравнению с другими средствами авторизации. Хотя вы можете продолжать применять для приложений авторизацию с помощью общего ключа, благодаря использованию Azure AD не нужно хранить ключ доступа к учетной записи с кодом. Вы также можете продолжать использовать подписанные URL-адреса для предоставления доступа с точной настройкой к ресурсам в учетной записи хранения, но Azure AD предлагает аналогичные возможности без необходимости управлять токенами SAS или беспокоиться об отзыве скомпрометированного SAS. 
>
> Корпорация Майкрософт рекомендует по возможности использовать аутентификацию Azure AD для приложений больших двоичных объектов и очередей службы хранилища Azure.

## <a name="copying-data-into-a-storage-account"></a>Копирование данных в учетную запись хранения

Корпорация Майкрософт предоставляет служебные программы и библиотеки для импорта данных из локальных устройств хранения или сторонних поставщиков услуг облачного хранения. Выбор решения, которое следует использовать, зависит от количества передаваемых данных. 

При обновлении до учетной записи общего назначения версии 2 с учетной записи хранения общего назначения версии 1 или учетной записи хранилища BLOB-объектов ваши данные переносятся автоматически. Корпорация Майкрософт рекомендует этот путь для обновления учетной записи. Тем не менее, если принято решение переместить данные из учетной записи общего назначения версии 1 в учетную запись хранилища BLOB-объектов, вам потребуется перенести данные вручную с помощью средств и библиотек, описанных ниже. 

### <a name="azcopy"></a>AzCopy

AzCopy — это программа командной строки Windows, предназначенная для быстрого копирования большого объема данных в службу хранилища Azure и из нее. С помощью AzCopy можно копировать данные в учетную запись хранилища BLOB-объектов из имеющейся учетной записи хранения общего назначения или передать данные из локальных устройств хранения. Дополнительные сведения см. в разделе [Передача данных с помощью служебной программы AzCopy](../common/storage-use-azcopy.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json).

### <a name="data-movement-library"></a>Библиотека перемещения данных

В основе библиотеки перемещения данных службы хранилища Azure для .NET лежит основная платформа перемещения данных, на базе которой работает AzCopy. Библиотека предназначена для надежной и простой передачи данных при высокой производительности, как AzCopy. Благодаря ей вы можете пользоваться всеми преимуществами функций AzCopy в своем приложении без необходимости запускать внешние экземпляры AzCopy и выполнять их мониторинг. Дополнительные сведения см. в статье [Microsoft Azure Storage Data Movement Library (0.7.0)](https://github.com/Azure/azure-storage-net-data-movement) (Библиотека перемещения данных службы хранилища Microsoft Azure (0.7.0)).

### <a name="rest-api-or-client-library"></a>REST API или клиентская библиотека

Вы можете самостоятельно создать приложение, чтобы перенести данные в учетную запись хранения BLOB-объектов, используя одну из клиентских библиотек Azure или API REST служб хранения Azure. Служба хранилища Azure предоставляет богатые клиентские библиотеки для создания приложений с использованием .NET, Java, Android, C++, Node.js, PHP, Ruby и Python. Клиентские библиотеки предлагают дополнительные возможности, такие как логический алгоритм повтора, ведение журнала и параллельная загрузка. Также есть возможность вести разработку непосредственно через интерфейс API REST, который можно вызывать в любом языке программирования, поддерживающем запросы HTTP/HTTPS.

Дополнительные сведения о REST API службы хранилища Azure см. в [справочнике по интерфейсу REST API для служб хранилища Azure](https://docs.microsoft.com/rest/api/storageservices/). 

> [!IMPORTANT]
> Вместе с большими двоичными объектами, зашифрованными на стороне клиента, хранятся связанные с шифрованием метаданные. При копировании большого двоичного объекта, зашифрованного на стороне клиента, убедитесь, что при операции копирования сохраняются метаданные большого двоичного объекта и особенно метаданные, связанные с шифрованием. Если скопировать большой двоичный объект без метаданных шифрования, его содержимое нельзя будет извлечь повторно. Дополнительные сведения о метаданных, связанных с шифрованием, см. в статье [Шифрование на стороне клиента для службы хранилища Microsoft Azure](../common/storage-client-side-encryption.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json).

### <a name="azure-importexport-service"></a>Служба импорта и экспорта Azure

Если у вас есть большой объем данных для импорта в учетную запись хранения, воспользуйтесь службой импорта и экспорта Azure. Служба импорта и экспорта используется для безопасного переноса больших объемов данных в хранилище BLOB-объектов Azure и службу файлов Azure посредством отправки дисков в центр обработки данных Azure. 

Кроме того, эту службу можно использовать, чтобы переносить данные из хранилища BLOB-объектов Azure на диски и передавать на локальные сайты. Данные с одного или нескольких дисков можно импортировать в хранилище BLOB-объектов Azure или службу файлов Azure. Дополнительные сведения о службе импорта и экспорта Azure см. в [этой статье](https://docs.microsoft.com/azure/storage/common/storage-import-export-service).

## <a name="storage-account-billing"></a>Выставление счетов за использование учетной записи хранения

[!INCLUDE [storage-account-billing-include](../../../includes/storage-account-billing-include.md)]

## <a name="next-steps"></a>Следующие шаги

* Чтобы узнать, как создать учетную запись хранения Azure общего назначения, см. раздел [Создание учетной записи хранения](storage-quickstart-create-account.md).
* Сведения о создании учетной записи хранилища блочных BLOB-объектов см. в статье [Создание учетной записи хранилища блочных BLOB-](../blobs/storage-blob-create-account-block-blob.md)объектов.
* Сведения об управлении учетной записью хранения или ее удалении см. в статье [Manage storage account settings in the Azure portal](storage-account-manage.md) (Управление параметрами учетной записи хранения на портале Azure).
