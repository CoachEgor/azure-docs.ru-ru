---
title: Общие сведения об учетной записи хранения
titleSuffix: Azure Storage
description: Общие сведения о вариантах для создания и использования учетной записи хранения Azure.
services: storage
author: tamram
ms.service: storage
ms.topic: conceptual
ms.date: 01/17/2020
ms.author: tamram
ms.subservice: common
ms.openlocfilehash: 3694a1d04ec25f44cfcf9395bdd148e2fd3c0d9f
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79371565"
---
# <a name="storage-account-overview"></a>Общие сведения об учетной записи хранения

Учетная запись хранения Azure содержит все объекты данных службы хранилища Azure: большие двоичные объекты, файлы, очереди, таблицы и диски. Учетная запись предоставляет уникальное пространство имен для данных хранения Azure, которое доступно из любой точки мира по адресу HTTP или HTTPS. Данные в учетной записи хранения Azure долговечны и высокодоступны, безопасны и масштабируемы.

Сведения о создании учетной записи хранения Azure см. в [этой статье](storage-account-create.md).

## <a name="types-of-storage-accounts"></a>Типы учетных записей хранения

[!INCLUDE [storage-account-types-include](../../../includes/storage-account-types-include.md)]

### <a name="general-purpose-v2-accounts"></a>Учетные записи общего назначения версии 2.

Учетные записи хранения общего назначения версии 2 поддерживают последние возможности службы хранилища Azure и содержат все функции учетных записей общего назначения версии 1 и учетных записей хранилища BLOB-объектов. Учетные записи общего назначения версии 2 отличаются наименьшей ориентировочной платой за каждый гигабайт для службы хранилища Azure, а также конкурентоспособными в отрасли ценами на транзакции. Учетные записи хранения общего назначения версии 2 поддерживают эти службы хранилища Azure:

- большие двоичные объекты (все типы: блочные, добавочные, страничные);
- Озеро Данных Gen2
- Файлы
- Диски
- Очереди
- Таблицы

> [!NOTE]
> Корпорация Майкрософт рекомендует для большинства сценариев использовать учетные записи общего назначения версии 2. Учетную запись хранения общего назначения версии 1 или хранилища BLOB-объектов можно легко обновить до учетной записи общего назначения версии 2 без простоев или копирования данных.
>
> Дополнительные сведения об обновлении до учетной записи общего назначения версии 2 см. в [этой статье](storage-account-upgrade.md).

Учетные записи хранения общего назначения версии 2 обеспечивают несколько уровней доступа для хранения данных на основе шаблонов использования. Дополнительные сведения см. в разделе [Уровни доступа для данных блочных BLOB-объектов](#access-tiers-for-block-blob-data).

### <a name="general-purpose-v1-accounts"></a>Учетные записи общего назначения версии 1

Учетные записи v1 общего назначения предоставляют доступ ко всем службам хранения Azure, но могут не иметь последних функций или самых низких цен за гигабайт. Учетные записи хранения общего назначения версии 1 поддерживают эти службы хранилища Azure:

- большие двоичные объекты (все типы);
- Файлы
- Диски
- Очереди
- Таблицы

В большинстве случаев следует использовать учетные записи v2 общего назначения. Для следующих сценариев можно использовать учетные записи v1 общего назначения:

- Для приложений требуется классическая модель развертывания Azure. Учетные записи общего назначения версии 2 и учетные записи хранилища BLOB-объектов поддерживают только модель развертывания с помощью Azure Resource Manager.

- Приложения являются транзакционными или используют значительную пропускную способность георепликации, но не требуют большой емкости. В этом случае учетные записи хранения общего назначения версии 1 могут быть наиболее экономичным вариантом.

- Вы используете версию [REST API Служб ы хранения данных,](https://msdn.microsoft.com/library/azure/dd894041.aspx) которая раньше 2014-02-14, или клиентскую библиотеку с версией ниже 4.x. Вы не можете обновить приложение.

### <a name="blockblobstorage-accounts"></a>Учетные записи BlockBlobStorage

Учетная запись BlockBlobStorage — это специализированная учетная запись хранения в уровне производительности премиум-класса для хранения неструктурированных данных объектов в виде блоковых капли или капли приложения. По сравнению с учетными записями v2 и BlobStorage общего назначения, учетные записи BlockBlobStorage обеспечивают низкую, последовательную задержку и более высокие показатели транзакций.

Учетные записи BlockBlobStorage в настоящее время не поддерживают многоуровневые уровни доступа к горячим, крутым или архивным уровням. Этот тип учетной записи хранилища не поддерживает капли страницы, таблицы или очереди.

### <a name="filestorage-accounts"></a>Учетные записи FileStorage

Учетная запись FileStorage — это специализированная учетная запись хранения, используемая для хранения и создания премиум-файлов. Этот вид учетной записи хранилища поддерживает файлы, но не блокирует капли, капли приложения, капли страниц, таблицы или очереди.

Учетные записи FileStorage предлагают уникальные характеристики, посвященные производительности, такие как разрыв IOPS. Для получения дополнительной информации [File share storage tiers](../files/storage-files-planning.md#storage-tiers) об этих характеристиках см.

## <a name="naming-storage-accounts"></a>Именование учетных записей хранения

Помните о следующих правилах при назначении имени учетной записи хранения.

- Имя учетной записи хранения должно содержать от 3 до 24 символов и состоять только из цифр и строчных букв.
- Имя учетной записи хранения должно быть уникальным в Azure. Две учетные записи хранения не могут иметь одно имя.

## <a name="performance-tiers"></a>Уровни производительности

В зависимости от типа создаваемых учетных записей можно выбрать между стандартными и премиальными уровнями производительности.

### <a name="general-purpose-storage-accounts"></a>Учетные записи хранения общего назначения

Учетные записи хранения общего назначения можно настроить для любого из следующих уровней производительности:

- Уровень производительности "Стандартный" для хранения больших двоичных объектов, файлов, таблиц, очередей и дисков виртуальных машин Azure. Для получения дополнительной информации о целевых [Scalability targets for standard storage accounts](scalability-targets-standard-account.md)показателях масштабируемости для стандартных учетных записей хранения см.
- Премиум-уровень производительности для хранения неуправляемых виртуальных машинных дисков. Корпорация Майкрософт рекомендует использовать управляемые диски с виртуальными машинами Azure вместо неуправляемых дисков. Для получения дополнительной информации о целевых показателях масштабируемости для уровня производительности премиум-класса см. [Целевые показатели масштабируемости для учетных записей для хранения капля премиум-страниц.](../blobs/scalability-targets-premium-page-blobs.md)

### <a name="blockblobstorage-storage-accounts"></a>Учетные записи хранения BlockBlobStorage

Учетные записи хранения BlockBlobStorage обеспечивают уровень производительности премиум-класса для хранения блоковых капли и капли приложений. Для получения дополнительной информации см. [Целевые показатели масштабируемости для учетных записей хранения премиум-блоков.](../blobs/scalability-targets-premium-block-blobs.md)

### <a name="filestorage-storage-accounts"></a>Учетные записи хранения файлов FileStorage

Учетные записи хранения Файлов FileStorage обеспечивают более высокий уровень производительности для файлов Azure. Для получения дополнительной информации смотрите [цели масштабируемости и производительности файлов Azure Files.](../files/storage-files-scale-targets.md)

## <a name="access-tiers-for-block-blob-data"></a>Уровни доступа для данных блочных BLOB-объектов

Служба хранилища Azure предоставляет различные возможности доступа к данным блочных BLOB-объектов на основе шаблонов использования. Каждый уровень доступа в службе хранилища Azure оптимизирован для определенного шаблона использования данных. Если выбрать правильный уровень доступа для ваших потребностей, это позволит хранить данные блочных BLOB-объектов наиболее экономичным способом.

Доступные уровни доступа:

- Уровень **горячего** доступа. Этот уровень оптимизирован для частого доступа к объектам в учетной записи хранилища. Доступ к данным на горячем уровне является наиболее рентабельным, в то время как затраты на хранение выше. Новые учетные записи хранения создаются на горячем уровне по умолчанию.
- **Уровень доступа Cool.** Этот уровень оптимизирован для хранения больших объемов данных, которые редко доступны и хранятся в течение не менее 30 дней. Хранение данных в прохладном уровне является более рентабельным, но доступ к этим данным может быть более дорогим, чем доступ к данным в горячем уровне.
- **Архивный** уровень. Этот уровень доступен только для отдельных блок капли. Уровень архива оптимизирован для данных, которые могут терпеть несколько часов задержки поиска и которые будут оставаться в уровне архива, по крайней мере 180 дней. Уровень архива является наиболее экономичным вариантом для хранения данных. Однако доступ к этим данным обходится дороже, чем доступ к данным в горячих или холодных уровнях.

При изменении шаблона использования данных можно в любое время переключаться между этими уровнями доступа. Для получения дополнительной информации [Azure Blob storage: hot, cool, and archive access tiers](../blobs/storage-blob-storage-tiers.md)о уровнях доступа см.

> [!IMPORTANT]
> Изменение уровня доступа для имеющейся учетной записи хранения или большого двоичного объекта может привести к дополнительным затратам. Дополнительные сведения см. в разделе [Выставление счетов за использование учетной записи хранения](#storage-account-billing).

## <a name="redundancy"></a>Избыточность

[!INCLUDE [storage-common-redundancy-options](../../../includes/storage-common-redundancy-options.md)]

## <a name="encryption"></a>Шифрование

Все данные в вашей учетной записи хранения шифруются на стороне службы. Дополнительные сведения о шифровании см. в статье [Шифрование службы хранилища Azure для неактивных данных](storage-service-encryption.md).

## <a name="storage-account-endpoints"></a>Конечные точки учетной записи хранения

Учетная запись хранения предоставляет для ваших данных уникальное пространство имен в Azure. У каждого объекта, который хранится в службе хранилища Azure, есть адрес, содержащий уникальное имя учетной записи. Сочетание имени учетной записи и конечной точки службы хранилища Azure формирует конечные точки для вашей учетной записи хранения.

Например, если учетная запись хранения общего назначения имеет имя *mystorageaccount*, конечными точками по умолчанию для учетной записи будут:

- Хранилище Blob:`https://*mystorageaccount*.blob.core.windows.net`
- Хранение таблицы:`https://*mystorageaccount*.table.core.windows.net`
- Хранение очереди:`https://*mystorageaccount*.queue.core.windows.net`
- Файлы Azure:`https://*mystorageaccount*.file.core.windows.net`

> [!NOTE]
> Блок blob и blob хранения счетов подвергать только конечная точка службы Blob.

Постройте URL-адрес для доступа к объекту в учетной записи хранилища, приложив местоположение объекта в учетной записи хранилища к конечной точке. Например, адрес BLOB-объекта может иметь следующий формат: http://*mystorageaccount*.blob.core.windows.net/*mycontainer*/*myblob*.

Для своей учетной записи хранения вы можете настроить использование личного домена для больших двоичных объектов. Дополнительные сведения см. в статье [Настройка имени личного домена для учетной записи службы хранилища Azure](../blobs/storage-custom-domain-name.md).  

## <a name="control-access-to-account-data"></a>Управление доступом к данным учетной записи

По умолчанию данные в учетной записи доступны только владельцу учетной записи. Вы контролируете, кто может получить доступ к данным и какими разрешениями они располагают.

Каждый запрос к вашей учетной записи хранения должен быть авторизован. На уровне службы запрос должен содержать действительный заголовок *авторизации.* В частности, этот заголовок включает всю информацию, необходимую службе для проверки запроса перед его выполнением.

Предоставить доступ к данным в вашей учетной записи хранения можно с помощью любого из следующих подходов:

- **Активный каталог Azure:** Используйте учетные данные Azure Active Directory (Azure AD) для проверки подлинности пользователя, группы или другой идентификации для доступа к данным капли и очереди. Если аутентификация удостоверения выполнена успешно, Azure AD возвращает токен для использования при авторизации запроса в хранилище BLOB-объектов Azure или хранилище очередей. Дополнительные сведения см. в статье об [аутентификации доступа к службе хранилища Azure с помощью Azure Active Directory](storage-auth-aad.md).
- **Общий ключ авторизации:** используйте ключ доступа к учетной записи хранения для создания строки подключения, которую приложение использует в среде выполнения для доступа к службе хранилища Azure. Значения в строке подключения используются для создания заголовка *авторизации*, который передается в службу хранилища Azure. Дополнительные сведения см. в статье [Настройка строк подключения службы хранилища Azure](storage-configure-connection-string.md).
- **Общая подпись доступа:** Используйте общую подпись доступа для делегирования доступа к ресурсам в учетной записи хранилища, если вы не используете авторизацию Azure AD. Подписанный URL-адрес — это токен, который инкапсулирует все сведения, необходимые для авторизации запроса в службу хранилища Azure на основе URL-адреса. Вы можете указать ресурс хранилища, предоставленные разрешения и интервал, в течение которого разрешения допустимы, как часть подписанного URL-адреса. Дополнительные сведения см. в статье [Использование подписанных URL-адресов (SAS)](storage-sas-overview.md).

> [!NOTE]
> Аутентификация пользователей или приложений с использованием учетных данных Azure AD обеспечивает превосходную защиту и простоту использования по сравнению с другими средствами авторизации. Хотя вы можете продолжать применять для приложений авторизацию с помощью общего ключа, благодаря использованию Azure AD не нужно хранить ключ доступа к учетной записи с кодом. Вы также можете продолжать использовать подписанные URL-адреса для предоставления доступа с точной настройкой к ресурсам в учетной записи хранения, но Azure AD предлагает аналогичные возможности без необходимости управлять токенами SAS или беспокоиться об отзыве скомпрометированного SAS.
>
> Корпорация Майкрософт рекомендует использовать авторизацию Azure AD для приложений хранения данных Azure и очереди, когда это возможно.

## <a name="copying-data-into-a-storage-account"></a>Копирование данных в учетную запись хранения

Корпорация Майкрософт предоставляет служебные программы и библиотеки для импорта данных из локальных устройств хранения или сторонних поставщиков услуг облачного хранения. Какое решение вы используете, зависит от количества передаваемых данных.

При обновлении до учетной записи общего назначения версии 2 с учетной записи хранения общего назначения версии 1 или учетной записи хранилища BLOB-объектов ваши данные переносятся автоматически. Корпорация Майкрософт рекомендует этот путь для обновления учетной записи. Однако, если вы решите перенести данные с учетной записи v1 общего назначения в учетную запись хранения Blob, то вы будете мигрировать ваши данные вручную, используя инструменты и библиотеки, описанные ниже.

### <a name="azcopy"></a>AzCopy

AzCopy — это программа командной строки Windows, предназначенная для быстрого копирования большого объема данных в службу хранилища Azure и из нее. С помощью AzCopy можно копировать данные в учетную запись хранилища BLOB-объектов из имеющейся учетной записи хранения общего назначения или передать данные из локальных устройств хранения. Для получения дополнительной информации [см.](../common/storage-use-azcopy.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json)

### <a name="data-movement-library"></a>Библиотека перемещения данных

В основе библиотеки перемещения данных службы хранилища Azure для .NET лежит основная платформа перемещения данных, на базе которой работает AzCopy. Библиотека предназначена для надежной и простой передачи данных при высокой производительности, как AzCopy. Вы можете использовать библиотеку движения данных, чтобы использовать возможности AzCopy нативной базе. Для получения дополнительной [Azure Storage Data Movement Library for .NET](https://github.com/Azure/azure-storage-net-data-movement) информации см.

### <a name="rest-api-or-client-library"></a>REST API или клиентская библиотека

Можно создать пользовательское приложение для переноса данных из учетной записи хранения v1 общего назначения в учетную запись хранения Blob. Воспользуйтесь одной из клиентских библиотек Azure или службой хранения данных Rest API Azure. Служба хранилища Azure предоставляет богатые клиентские библиотеки для создания приложений с использованием .NET, Java, Android, C++, Node.js, PHP, Ruby и Python. Клиентские библиотеки предлагают дополнительные возможности, такие как логический алгоритм повтора, ведение журнала и параллельная загрузка. Также есть возможность вести разработку непосредственно через интерфейс API REST, который можно вызывать в любом языке программирования, поддерживающем запросы HTTP/HTTPS.

Дополнительные сведения о REST API службы хранилища Azure см. в [справочнике по интерфейсу REST API для служб хранилища Azure](https://docs.microsoft.com/rest/api/storageservices/).

> [!IMPORTANT]
> Вместе с большими двоичными объектами, зашифрованными на стороне клиента, хранятся связанные с шифрованием метаданные. При копировании большого двоичного объекта, зашифрованного на стороне клиента, убедитесь, что при операции копирования сохраняются метаданные большого двоичного объекта и особенно метаданные, связанные с шифрованием. Если скопировать большой двоичный объект без метаданных шифрования, его содержимое нельзя будет извлечь повторно. Дополнительные сведения о метаданных, связанных с шифрованием, см. в статье [Шифрование на стороне клиента для службы хранилища Microsoft Azure](../common/storage-client-side-encryption.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json).

## <a name="storage-account-billing"></a>Выставление счетов за использование учетной записи хранения

[!INCLUDE [storage-account-billing-include](../../../includes/storage-account-billing-include.md)]

## <a name="next-steps"></a>Дальнейшие действия

- [Создание учетной записи хранилища](storage-account-create.md)
- [Создание учетной записи хранения блочных BLOB-объектов](../blobs/storage-blob-create-account-block-blob.md)
