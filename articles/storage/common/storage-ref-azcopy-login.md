---
title: azcopy login | Документация Майкрософт
description: В этой статье содержатся справочные сведения о команде azcopy Login.
author: normesta
ms.service: storage
ms.topic: reference
ms.date: 10/16/2019
ms.author: normesta
ms.subservice: common
ms.reviewer: zezha-msft
ms.openlocfilehash: d07d1a706635a7f269a9a51769ae6f8bbf57df3d
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "80295404"
---
# <a name="azcopy-login"></a>azcopy login

Выполняет вход в Azure Active Directory для доступа к ресурсам службы хранилища Azure.

## <a name="synopsis"></a>Краткий обзор

Войдите в Azure Active Directory, чтобы получить доступ к ресурсам службы хранилища Azure.

Для авторизации учетной записи хранения Azure необходимо назначить роль **участника данных BLOB-объекта хранилища** учетной записи пользователя в контексте учетной записи хранения, родительской группы ресурсов или родительской подписки.

Эта команда кэширует зашифрованные данные входа для текущего пользователя с помощью встроенных механизмов операционной системы.

Дополнительные сведения см. в примерах.

> [!IMPORTANT]
> Если задать переменную среды с помощью командной строки, эта переменная будет доступна для чтения в журнале командной строки. Рассмотрите возможность очистки переменных, содержащих учетные данные из журнала командной строки. Чтобы переменные отображались в журнале, можно использовать сценарий, чтобы запросить у пользователя учетные данные и задать переменную среды.

```azcopy
azcopy login [flags]
```

## <a name="related-conceptual-articles"></a>Связанные концептуальные статьи

- [Get started with AzCopy](storage-use-azcopy-v10.md) (Начало работы с AzCopy)
- [Перенос данных с помощью AzCopy и хранилища BLOB-объектов](storage-use-azcopy-blobs.md)
- [Transfer data with AzCopy and file storage](storage-use-azcopy-files.md) (Передача данных с помощью AzCopy и хранилища файлов)
- [Configure, optimize, and troubleshoot AzCopy](storage-use-azcopy-configure.md) (Настройка, оптимизация и устранение неполадок с AzCopy)

## <a name="examples"></a>Примеры

Войдите в интерактивном режиме, указав для идентификатора клиента AAD по умолчанию значение Common:

```azcopy
azcopy login
```

Войдите в интерактивном режиме с указанным ИДЕНТИФИКАТОРом клиента:

```azcopy
azcopy login --tenant-id "[TenantID]"
```

Войдите в систему, используя назначенное системой удостоверение виртуальной машины (ВМ):

```azcopy
azcopy login --identity
```

Войдите в систему, используя назначенное пользователем удостоверение виртуальной машины и идентификатор клиента для удостоверения службы:

```azcopy
azcopy login --identity --identity-client-id "[ServiceIdentityClientID]"
```

Войдите в систему, используя назначенное пользователем удостоверение виртуальной машины и идентификатор объекта для удостоверения службы:

```azcopy
azcopy login --identity --identity-object-id "[ServiceIdentityObjectID]"
```

Войдите в систему, используя назначенное пользователем удостоверение виртуальной машины и идентификатор ресурса для удостоверения службы:

```azcopy
azcopy login --identity --identity-resource-id "/subscriptions/<subscriptionId>/resourcegroups/myRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/myID"
```

Войдите в систему как субъект-службу, используя секрет клиента. Задайте для переменной среды AZCOPY_SPA_CLIENT_SECRET секрет клиента для проверки подлинности субъекта-службы на основе секрета.

```azcopy
azcopy login --service-principal
```

Войдите в систему как субъект-службу, используя сертификат и пароль. Задайте для переменной среды AZCOPY_SPA_CERT_PASSWORD пароль сертификата для авторизации субъекта-службы на основе сертификата.

```azcopy
azcopy login --service-principal --certificate-path /path/to/my/cert
```

Убедитесь, что/Пас/то/ми/церт в качестве пути к файлу PEM или PKCS12. AzCopy не удается подключиться к системному хранилищу сертификатов для получения сертификата.

параметр--certificate-Path обязателен при проверке подлинности субъекта-службы на основе сертификата.

## <a name="options"></a>Параметры

|Параметр|Описание|
|--|--|
|--AAD-Endpoint|Используемая конечная точка Azure Active Directory. Значение по умолчанию (`https://login.microsoftonline.com`) верно для общедоступного облака Azure. Задайте этот параметр при проверке подлинности в национальном облаке. См. раздел [конечные точки проверки подлинности Azure AD](https://docs.microsoft.com/azure/active-directory/develop/authentication-national-cloud#azure-ad-authentication-endpoints).
Этот флаг не требуется для Управляемое удостоверение службы.|
|--Строка идентификатора приложения|Идентификатор приложения, которому назначено пользовательское удостоверение. Требуется для проверки подлинности субъекта-службы.|
|--Строка сертификата-путь|Путь к сертификату для проверки подлинности имени участника-службы. Требуется для проверки подлинности субъекта-службы на основе сертификата.|
|-h, --help|Отображение содержимого справки для команды login.|
|--Identity|Войдите в систему, используя удостоверение виртуальной машины, также известное как управляемое удостоверение службы (MSI).|
|--Identity-Client-ID, строка|Идентификатор клиента, которому назначено пользовательское удостоверение.|
|--Identity-Object-ID, строка|Идентификатор объекта, которому назначено пользовательское удостоверение.|
|--Identity-Resource-ID, строка|Идентификатор ресурса назначенного пользователю удостоверения.|
|--Service-Principal|Войдите через SPN (имя субъекта-службы) с помощью сертификата или секрета. Секрет клиента или пароль сертификата должны быть помещены в соответствующую переменную среды. Введите `AzCopy env` , чтобы просмотреть имена и описания переменных среды.|
|--Строка идентификатора клиента| Идентификатор клиента Azure Active Directory, используемый для интерактивного входа в устройство OAuth.|

## <a name="options-inherited-from-parent-commands"></a>Параметры, унаследованные от родительских команд

|Параметр|Описание|
|---|---|
|--Cap-Мбит/с UInt32|Скорость передачи с прописными буквами в мегабит в секунду. Посекундная пропускная способность может немного отличаться от ограничения. Если этот параметр имеет значение 0 или пропущен, пропускная способность не ограничена.|
|--строка выходного типа|Формат вывода команды. Среди вариантов: Text, JSON. Значение по умолчанию — "Text".|

## <a name="see-also"></a>См. также

- [azcopy](storage-ref-azcopy.md)
