---
title: Управление ключами доступа к учетной записи
titleSuffix: Azure Storage
description: Узнайте, как просматривать ключи доступа к учетной записи хранения, управлять ими и вращать их.
services: storage
author: tamram
ms.service: storage
ms.topic: how-to
ms.date: 12/18/2019
ms.author: tamram
ms.openlocfilehash: 13adf6de420b54299d04a226dab81e75cbb9fef2
ms.sourcegitcommit: 3dc1a23a7570552f0d1cc2ffdfb915ea871e257c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/15/2020
ms.locfileid: "75975789"
---
# <a name="manage-storage-account-access-keys"></a>Управление ключами доступа к учетной записи хранения

При создании учетной записи хранения платформа Azure создает два 512-разрядных ключа доступа к учетной записи хранения. Эти ключи можно использовать для авторизации доступа к данным в учетной записи хранения с помощью авторизации общего ключа.

Корпорация Майкрософт рекомендует использовать Azure Key Vault для управления ключами доступа и регулярного вращения и повторного создания ключей. Использование Azure Key Vault упрощает процесс смены ключей без прерывания работы приложений. Вы также можете вручную повернуть ключи.

[!INCLUDE [storage-account-key-note-include](../../../includes/storage-account-key-note-include.md)]

## <a name="view-access-keys-and-connection-string"></a>Просмотр ключей доступа и строки подключения

[!INCLUDE [storage-view-keys-include](../../../includes/storage-view-keys-include.md)]

## <a name="use-azure-key-vault-to-manage-your-access-keys"></a>Использование Azure Key Vault для управления ключами доступа

Корпорация Майкрософт рекомендует использовать Azure Key Vault для управления ключами доступа и их смены. Приложение может безопасно получать доступ к ключам в Key Vault, что позволяет избежать их хранения в коде приложения. Дополнительные сведения об использовании Key Vault для управления ключами см. в следующих статьях:

- [Управление ключами учетной записи хранения с помощью Azure Key Vault и PowerShell](../../key-vault/key-vault-overview-storage-keys-powershell.md)
- [Управление ключами учетной записи хранения с помощью Azure Key Vault и Azure CLI](../../key-vault/key-vault-ovw-storage-keys.md)

## <a name="manually-rotate-access-keys"></a>Поворот ключей доступа вручную

Корпорация Майкрософт рекомендует периодически менять ключи доступа, чтобы обеспечить безопасность вашей учетной записи хранения. По возможности используйте Azure Key Vault для управления ключами доступа. Если вы не используете Key Vault, необходимо будет вручную поворачивать ключи.

Таким образом, чтобы можно было осуществлять смену ключей, назначаются два ключа доступа. Наличие двух ключей гарантирует, что ваше приложение будет поддерживать доступ к службе хранилища Azure в течение всего процесса.

> [!WARNING]
> Повторное создание ключей доступа может влиять на работу ваших приложений или служб Azure, которые зависят от ключа учетной записи хранения. Все клиенты, использующие ключ учетной записи для доступа к учетной записи хранения, должны быть обновлены, чтобы использовать новый ключ, включая службы мультимедиа, облачные, классические и мобильные приложения, а также приложения для графического пользовательского интерфейса для службы хранилища Azure, такие как [Обозреватель службы хранилища Azure](https://azure.microsoft.com/features/storage-explorer/).

Для смены ключей учетной записи хранения следуйте приведенной процедуре.

1. Обновите строки подключения в коде приложения, чтобы использовать вторичный ключ.
2. Повторное создание основного ключа доступа для вашей учетной записи хранения. В колонке **Ключи доступа** на портале Azure щелкните **Повторно создать Key1**, а затем нажмите кнопку **Да**, чтобы подтвердить создание ключа.
3. Обновите строки подключения в коде, чтобы они ссылались на новый основной ключ доступа.
4. Повторите процедуру, чтобы повторно создать вторичный ключ доступа.

> [!NOTE]
> Во всех приложениях рекомендуется использовать одновременно только один из ключей. Если в одних приложениях используется ключ 1, а в других — ключ 2, вы не сможете произвести смену ключей без того, чтобы некоторые приложения утратили доступ.

## <a name="next-steps"></a>Дальнейшие действия

- [Общие сведения об учетной записи хранения](storage-account-overview.md)
- [создать учетную запись хранения;](storage-account-create.md)
