---
title: azcopy Sync | Документация Майкрософт
description: В этой статье содержатся справочные сведения о команде azcopy Sync.
author: normesta
ms.service: storage
ms.topic: reference
ms.date: 08/26/2019
ms.author: normesta
ms.subservice: common
ms.reviewer: zezha-msft
ms.openlocfilehash: fb6c3b711a89ae7e4ef403a75927c4c6172523d0
ms.sourcegitcommit: 532335f703ac7f6e1d2cc1b155c69fc258816ede
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/30/2019
ms.locfileid: "70195767"
---
# <a name="azcopy-sync"></a>Синхронизация azcopy

Реплицирует исходное расположение в целевое расположение.

## <a name="synopsis"></a>Краткий обзор

Время последнего изменения используется для сравнения. Файл пропускается, если время последнего изменения в назначении является более новым.

Поддерживаются следующие пары.

- локальный < — > большого двоичного объекта Azure (можно использовать проверку подлинности SAS или OAuth).

Команда Sync отличается от команды копирования несколькими способами.

  1. По умолчанию рекурсивный флаг включен.
  2. Источник и назначение не должны содержать шаблоны (например, * или?).
  3. Флаги include и Exclude могут быть списком шаблонов, соответствующих именам файлов. Иллюстрации см. в разделе "пример".
  4. Если в месте назначения отсутствуют файлы или большие двоичные объекты, которые отсутствуют в источнике, пользователю будет предложено удалить их.

     Этот запрос можно отключить с помощью соответствующих флагов, чтобы автоматически ответить на вопрос при удалении.

### <a name="advanced"></a>Расширенная

AzCopy автоматически определяет тип содержимого файлов при отправке с локального диска на основе расширения или содержимого файла (если не указано расширение).

Встроенная таблица подстановки является небольшой, но в UNIX она дополняется файлами MIME локальной системы, если она доступна по одному или нескольким из следующих имен:

- /етк/миме.типес
- /etc/apache2/mime.types
- /етк/апаче/миме.типес

В Windows типы MIME извлекаются из реестра.

```azcopy
azcopy sync [flags]
```

## <a name="examples"></a>Примеры

Синхронизировать один файл:

```azcopy
azcopy sync "/path/to/file.txt" "https://[account].blob.core.windows.net/[container]/[path/to/blob]"
```

То же, что и выше, но на этот раз можно также вычислить хэш MD5 содержимого файла и сохранить его как свойство Content-MD5 объекта BLOB:

```azcopy
azcopy sync "/path/to/file.txt" "https://[account].blob.core.windows.net/[container]/[path/to/blob]" --put-md5
```

Синхронизируйте весь каталог, включая его вложенные каталоги (Обратите внимание, что рекурсия включена по умолчанию):

```azcopy
azcopy sync "/path/to/dir" "https://[account].blob.core.windows.net/[container]/[path/to/virtual/dir]"
```

или диспетчер конфигурации служб

```azcopy
azcopy sync "/path/to/dir" "https://[account].blob.core.windows.net/[container]/[path/to/virtual/dir]" --put-md5
```

Синхронизировать только самые популярные файлы внутри каталога, но не его вложенные каталоги:

```azcopy
azcopy sync "/path/to/dir" "https://[account].blob.core.windows.net/[container]/[path/to/virtual/dir]" --recursive=false
```

Синхронизировать подмножество файлов в каталоге (например, только файлы JPG и PDF или имя файла «Ексактнаме»):

```azcopy
azcopy sync "/path/to/dir" "https://[account].blob.core.windows.net/[container]/[path/to/virtual/dir]" --include="*.jpg;*.pdf;exactName"
```

Синхронизировать весь каталог, но исключить определенные файлы из области (например: каждый файл, начинающийся с foo или заканчивающийся на Bar):

```azcopy
azcopy sync "/path/to/dir" "https://[account].blob.core.windows.net/[container]/[path/to/virtual/dir]" --exclude="foo*;*bar"
```

> [!NOTE]
> Если флаги включения и исключения используются вместе, будут рассматриваться только файлы, соответствующие шаблонам включения, но те, которые соответствуют шаблонам исключения, всегда будут игнорироваться.

## <a name="options"></a>Параметры

|Параметр|Описание|
|--|--|
|--Block-Size-МБ, с плавающей запятой|Используйте этот размер блока (указанный в MiB) при отправке в службу хранилища Azure или скачивании из службы хранилища Azure. Значение по умолчанию вычисляется автоматически на основе размера файла. Десятичные дроби разрешены (например: 0,25).|
|--Check-строка MD5|Указывает, насколько строго должны проверяться хэши MD5 при скачивании. Этот параметр доступен только при скачивании. Доступные значения: Не проверять, вход, Фаилифдифферент, Фаилифдифферентормиссинг. (по умолчанию "Фаилифдифферент").|
|--Delete — строка назначения|Определяет, следует ли удалять лишние файлы из места назначения, которые отсутствуют в источнике. Можно задать значение true, false или Prompt. Если задано значение Prompt, пользователю будет предложено ввести вопрос перед планированием удаления файлов и больших двоичных объектов. (значение по умолчанию — false).|
|--исключение строки|Исключение файлов, имена которых совпадают с именем списка шаблонов. Например: *. jpg;* . PDF; Ексактнаме.|
|-h, --help|Отображение содержимого справки для команды синхронизации.|
|--включить строку|Включайте только те файлы, имя которых совпадает со списком шаблонов. Например: *. jpg;* . PDF; Ексактнаме.|
|--Строка уровня журнала|Укажите уровень детализации журнала для файла журнала, доступные уровни: СВЕДЕНИЯ (все запросы и ответы), предупреждение (медленные ответы), ошибка (только неудачные запросы) и нет (нет выходных журналов). (по умолчанию "INFO").|
|--размещение-MD5|Создайте хэш MD5 для каждого файла и сохраните хэш как свойство Content-MD5 целевого большого двоичного объекта или файла. (По умолчанию хэш не создается.) Доступно только при отправке.|
|--recursive|По умолчанию имеет значение true, если при синхронизации между каталогами выполняется рекурсивный поиск подкаталогов. (значение по умолчанию — true).|

## <a name="options-inherited-from-parent-commands"></a>Параметры, унаследованные от родительских команд

|Параметр|Описание|
|---|---|
|--Cap-Мбит/с UInt32|Скорость передачи с прописными буквами в мегабит в секунду. Посекундная пропускная способность может немного отличаться от ограничения. Если этот параметр имеет значение 0 или пропущен, пропускная способность не ограничена.|
|--строка выходного типа|Формат вывода команды. Среди вариантов: Text, JSON. Значение по умолчанию — "Text".|

## <a name="see-also"></a>См. также

- [azcopy](storage-ref-azcopy.md)
