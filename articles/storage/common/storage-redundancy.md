---
title: Избыточность данных в службе хранилища Azure | Документация Майкрософт
description: Данные в учетной записи хранения Microsoft Azure реплицируются для обеспечения устойчивости и высокого уровня доступности. Параметры избыточности включают локально избыточное хранилище (LRS), хранилище, избыточное в виде зоны (ZRS), геоизбыточное хранилище (GRS), геоизбыточное хранение с доступом на чтение (RA-GRS), хранилище, избыточное в геопоясе (ГЗРС) (Предварительная версия) и геоизбыточную зону с доступом для чтения. хранилище (RA-ГЗРС) (Предварительная версия).
services: storage
author: tamram
ms.service: storage
ms.topic: conceptual
ms.date: 09/17/2019
ms.author: tamram
ms.reviewer: artek
ms.subservice: common
ms.openlocfilehash: 8025228275afeb3f23268db759eb7659b9887132
ms.sourcegitcommit: 2d9a9079dd0a701b4bbe7289e8126a167cfcb450
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/29/2019
ms.locfileid: "71670786"
---
# <a name="azure-storage-redundancy"></a>Избыточность хранилища Azure

Данные в учетной записи хранения Microsoft Azure всегда реплицируются, обеспечивая устойчивость и высокий уровень доступности. Служба хранилища Azure копируют данные для защиты от запланированных и незапланированных событий, включая временные сбои оборудования, сети или энергоснабжения, масштабные стихийные бедствия и т. д. Вы можете реплицировать данные в пределах одного центра обработки данных, между зональными центрами обработки данных в одном регионе или между географически разделенными регионами.

Репликация гарантирует соответствие учетной записи хранения [соглашению об уровне обслуживания относительно хранения данных](https://azure.microsoft.com/support/legal/sla/storage/) даже при сбоях. Сведения о гарантиях службы хранилища Azure в вопросах устойчивости и доступности см. в соглашении об уровне обслуживания.

Служба хранилища Azure регулярно проверяет целостность данных, хранимых с помощью циклических проверок избыточности (Кркс). Если обнаружено повреждение данных, оно будет восстановлено с использованием избыточных данных. Служба хранилища Azure также вычисляет контрольные суммы во всем сетевом трафике, чтобы обнаружить повреждение пакетов данных при хранении или извлечении данных.

## <a name="choosing-a-redundancy-option"></a>Выбор варианта избыточности

При создании учетной записи хранения можете выбрать один из следующих вариантов избыточности:

[!INCLUDE [azure-storage-redundancy](../../../includes/azure-storage-redundancy.md)]

В таблице ниже представлено краткое описание области устойчивости и доступности, которую каждая стратегия репликации предоставляет для данного типа события (или события с аналогичным уровнем влияния).

| Сценарий                                                                                                 | LRS                             | ZRS                              | GRS/RA-GRS                                  | ГЗРС/RA-ГЗРС (Предварительная версия)                              |
| :------------------------------------------------------------------------------------------------------- | :------------------------------ | :------------------------------- | :----------------------------------- | :----------------------------------- |
| Недоступность узлов в центре обработки данных                                                                 | Да                             | Да                              | Да                                  | Да                                  |
| Весь центр обработки данных (зональный или не зональный) становится недоступным                                           | Нет                              | Да                              | Да                                  | Да                                  |
| Региональный сбой                                                                                     | Нет                              | Нет                               | Да                                  | Да                                  |
| Доступ на чтение к данным (в удаленной геореплицируемой области) в случае недоступности всего региона | Нет                              | Нет                               | Да (с RA-GRS)                                   | Да (с RA-ГЗРС)                                 |
| Предназначено для обеспечения надежности объектов на уровне \_\_ в течение определенного года                                          | не менее 99,999999999 % (11 девяток) | не менее 99,9999999999 % (12 девяток) | не менее 99,99999999999999 % (16 девяток) | не менее 99,99999999999999 % (16 девяток) |
| Поддерживаемые типы учетных записей хранения                                                                   | GPv2, GPv1, BLOB-объект                | GPv2                             | GPv2, GPv1, BLOB-объект                     | GPv2                     |
| Доступность по соглашению об уровне обслуживания для запросов на чтение | По крайней мере 99,9 % (99 % для холодного уровня доступа) | По крайней мере 99,9 % (99 % для холодного уровня доступа) | Не менее 99,9% (99% для холодного уровня доступа) для GRS<br /><br />Не менее 99,99% (99,9% для холодного уровня доступа) для RA-GRS | Не менее 99,9% (99% для холодного уровня доступа) для ГЗРС<br /><br />Не менее 99,99% (99,9% для холодного уровня доступа) для RA-ГЗРС |
| Доступность по соглашению об уровне обслуживания для запросов на запись | По крайней мере 99,9 % (99 % для холодного уровня доступа) | По крайней мере 99,9 % (99 % для холодного уровня доступа) | По крайней мере 99,9 % (99 % для холодного уровня доступа) | По крайней мере 99,9 % (99 % для холодного уровня доступа) |

Все данные в учетной записи хранения реплицируются, включая блочные и добавочные, страничные BLOB-объекты, очереди, таблицы и файлы. Реплицируются все типы учетных записей хранения, хотя для ZRS требуется учетная запись хранения общего назначения версии 2.

В разделе [Цены на службу хранилища Azure](https://azure.microsoft.com/pricing/details/storage/) приведены сведения о различных вариантах обеспечения избыточности данных. 

Сведения о гарантиях службы хранилища Azure в вопросах устойчивости и доступности см. в [Соглашении об уровне обслуживания службы хранилища Azure](https://azure.microsoft.com/support/legal/sla/storage/).

> [!NOTE]
> Сейчас хранилище Azure класса Premium поддерживает только локально избыточное хранилище (LRS).

## <a name="changing-replication-strategy"></a>Изменение стратегии репликации

Вы можете изменить стратегию репликации учетной записи хранения с помощью [портал Azure](https://portal.azure.com/), [Azure PowerShell](storage-powershell-guide-full.md), [Azure CLI](https://docs.microsoft.com/cli/azure/install-azure-cli?view=azure-cli-latest)или одной из [клиентских библиотек службы хранилища Azure](https://docs.microsoft.com/azure/index#pivot=sdkstools). При изменении типа репликации для учетной записи хранения простоя не будет.

> [!NOTE]
> В настоящее время вы не можете использовать портал Azure или клиентские библиотеки службы хранилища Azure для преобразования учетной записи в ZRS, ГЗРС или RA-ГЗРС. Сведения о переносе учетной записи в ZRS см. в статье [хранилище, избыточное в зонах (ZRS) для создания высокодоступных приложений службы хранилища Azure](storage-redundancy-zrs.md) . Сведения о миграции ГЗРС или RA-ГЗРС см. в разделе [хранилище, избыточное в геозонах, для обеспечения высокой доступности и максимальной устойчивости (Предварительная версия)](storage-redundancy-zrs.md) .

### <a name="are-there-any-costs-to-changing-my-accounts-replication-strategy"></a>Нужно ли платить за изменение стратегии репликации учетной записи?

Это зависит от способа преобразования. Упорядочивание по крайней мере с самыми ресурсоемкими предложениями по избыточности в службе хранилища Azure LRS, ZRS, GRS, RA-GRS, ГЗРС и RA-ГЗРС. Например, при переходе *от* LRS к любому другому типу репликации будет взиматься дополнительная плата, так как вы переходите на более сложный уровень избыточности. При переходе *на* GRS или RA-GRS будет взиматься плата за пропускную способность, так как ваши данные (в основном регионе) реплицируются в удаленный дополнительный регион. Плата является одноразовой стоимостью при начальной настройке. После копирования данных не взимается дополнительная плата за миграцию. Вы платите только за репликацию новых или обновлений существующих данных. Сведения о стоимости пропускной способности см. на странице [цен на хранение блочных BLOB-объектов](https://azure.microsoft.com/pricing/details/storage/blobs/).

Если вы переносите учетную запись хранения из GRS в LRS, дополнительные затраты не взимается, но реплицированные данные удаляются из дополнительного расположения.

Если вы переносите учетную запись хранения из RA-GRS в GRS или LRS, эта учетная запись оплачивается как RA-GRS за дополнительные 30 дней после преобразования.

## <a name="see-also"></a>См. также

- [Локально избыточное хранилище (LRS). Недорогое средство для обеспечения избыточности данных для службы хранилища Azure](storage-redundancy-lrs.md)
- [Хранилище, избыточное между зонами (ZRS). высокодоступные приложения для службы хранилища Azure](storage-redundancy-zrs.md)
- [Гео-избыточное хранилище (GRS). Межрегиональная репликация для службы хранилища Azure](storage-redundancy-grs.md)
- [Хранилище, избыточное в геопоясе (ГЗРС), для обеспечения высокой доступности и максимальной устойчивости (Предварительная версия)](storage-redundancy-gzrs.md)
- [Целевые показатели масштабируемости и производительности службы хранилища Azure](storage-scalability-targets.md)
- [Проектирование высокодоступных приложений с использованием RA-GRS](../storage-designing-ha-apps-with-ragrs.md)
- [служба хранилища Microsoft Azure параметров избыточности и геоизбыточного хранилища с доступом на чтение](https://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx)
- [Документ SOSP, Azure Storage: A Highly Available Cloud Storage Service with Strong Consistency](https://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx) (Служба хранилища Azure: высокодоступная служба облачного хранения со строгой согласованностью).
