---
title: Избыточность данных в службе хранилища Azure | Документация Майкрософт
description: Данные в учетной записи хранения Microsoft Azure реплицируются для обеспечения устойчивости и высокого уровня доступности. Варианты репликации включают локально избыточное хранилище (LRS), хранилище, избыточное между зонами (ZRS), геоизбыточное хранилище (GRS) и геоизбыточное хранилище с доступом для чтения (RA-GRS).
services: storage
author: tamram
ms.service: storage
ms.topic: article
ms.date: 01/18/2019
ms.author: tamram
ms.subservice: common
ms.openlocfilehash: 347ae6dbdbab866b6d82d64bec4e668689078429
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60729568"
---
# <a name="azure-storage-redundancy"></a>Избыточность хранилища Azure

Данные в учетной записи хранения Microsoft Azure всегда реплицируются, обеспечивая устойчивость и высокий уровень доступности. Служба хранилища Azure копируют данные для защиты от запланированных и незапланированных событий, включая временные сбои оборудования, сети или энергоснабжения, масштабные стихийные бедствия и т. д. Вы можете реплицировать данные в пределах одного центра обработки данных, между зональными центрами обработки данных в одном регионе или между географически разделенными регионами.

Репликация гарантирует соответствие учетной записи хранения [соглашению об уровне обслуживания относительно хранения данных](https://azure.microsoft.com/support/legal/sla/storage/) даже при сбоях. Сведения о гарантиях службы хранилища Azure в вопросах устойчивости и доступности см. в соглашении об уровне обслуживания.

## <a name="choosing-a-redundancy-option"></a>Выбор варианта избыточности

При создании учетной записи хранения можете выбрать один из следующих вариантов избыточности:

* [Локально избыточное хранилище (LRS)](storage-redundancy-lrs.md)
* [Хранилище, избыточное между зонами (ZRS)](storage-redundancy-zrs.md)
* [Геоизбыточное хранилище (GRS)](storage-redundancy-grs.md)
* [Геоизбыточное хранилище с доступом для чтения (RA-GRS)](storage-redundancy-grs.md#read-access-geo-redundant-storage)

В таблице ниже представлено краткое описание области устойчивости и доступности, которую каждая стратегия репликации предоставляет для данного типа события (или события с аналогичным уровнем влияния).

| Сценарий                                                                                                 | LRS                             | ZRS                              | GRS                                  | RA-GRS                               |
| :------------------------------------------------------------------------------------------------------- | :------------------------------ | :------------------------------- | :----------------------------------- | :----------------------------------- |
| Недоступность узлов в центре обработки данных                                                                 | Да                             | Да                              | Да                                  | Да                                  |
| Весь центр обработки данных (зональный или не зональный) становится недоступным                                           | Нет                              | Да                              | Да                                  | Да                                  |
| Региональный сбой                                                                                     | Нет                              | Нет                               | Да                                  | Да                                  |
| Доступ на чтение к данным (в удаленной геореплицируемой области) в случае недоступности всего региона | Нет                              | Нет                               | Нет                                   | Да                                  |
| Предназначено для обеспечения надежности объектов на уровне \_\_ в течение определенного года                                          | не менее 99,999999999 % (11 девяток) | не менее 99,9999999999 % (12 девяток) | не менее 99,99999999999999 % (16 девяток) | не менее 99,99999999999999 % (16 девяток) |
| Поддерживаемые типы учетных записей хранения                                                                   | GPv2, GPv1, BLOB-объект                | GPv2                             | GPv2, GPv1, BLOB-объект                     | GPv2, GPv1, BLOB-объект                     |
| Доступность по соглашению об уровне обслуживания для запросов на чтение | По крайней мере 99,9 % (99 % для холодного уровня доступа) | По крайней мере 99,9 % (99 % для холодного уровня доступа) | По крайней мере 99,9 % (99 % для холодного уровня доступа) | По крайней мере 99,9 % (99,9 % для холодного уровня доступа) |
| Доступность по соглашению об уровне обслуживания для запросов на запись | По крайней мере 99,9 % (99 % для холодного уровня доступа) | По крайней мере 99,9 % (99 % для холодного уровня доступа) | По крайней мере 99,9 % (99 % для холодного уровня доступа) | По крайней мере 99,9 % (99 % для холодного уровня доступа) |

В разделе [Цены на службу хранилища Azure](https://azure.microsoft.com/pricing/details/storage/) приведены сведения о различных вариантах обеспечения избыточности данных. 

Сведения о гарантиях службы хранилища Azure в вопросах устойчивости и доступности см. в [Соглашении об уровне обслуживания службы хранилища Azure](https://azure.microsoft.com/support/legal/sla/storage/).

> [!NOTE]
> Хранилище класса Premium поддерживает только локально избыточное хранилище (LRS).

## <a name="changing-replication-strategy"></a>Изменение стратегии репликации
Разработка стратегии репликации учетной записи хранения можно изменить с помощью [портала Azure](https://portal.azure.com/), [Azure Powershell](storage-powershell-guide-full.md), [Azure CLI](https://docs.microsoft.com/cli/azure/install-azure-cli?view=azure-cli-latest), или один из [клиент Azure библиотеки](https://docs.microsoft.com/azure/index?view=azure-dotnet#pivot=sdkstools). При изменении типа репликации для учетной записи хранения простоя не будет.

   > [!NOTE]
   > В настоящее время нельзя использовать портал или API для преобразования учетной записи в ZRS. Если вы хотите преобразовать репликацию своей учетной записи в ZRS, ознакомьтесь с разделом [Хранилище, избыточное между зонами (ZRS). Высокодоступные приложения для службы хранилища Azure](storage-redundancy-zrs.md), чтобы узнать больше.
    
### <a name="are-there-any-costs-to-changing-my-accounts-replication-strategy"></a>Нужно ли платить за изменение стратегии репликации учетной записи?
Это зависит от способа преобразования. Если расположить хранилища по цене предложения избыточности (начиная с самого дешевого и заканчивая самым дорогим), получится следующее: LRS, ZRS, GRS и RA-GRS. Например за переход *с* LRS на любое другое хранилище будет взиматься дополнительная плата, так как требуется более сложный уровень избыточности. За переход *на* GRS или RA-GRS будет взиматься дата за выходную пропускную способность, так как данные (в основном регионе) реплицируются на удаленный дополнительный регион. Это одноразовый платеж при начальной настройке. После копирования данных плата за преобразование взиматься не будет. Вы будете оплачивать только репликацию всех новых данных или обновлений до имеющихся. Сведения о стоимости пропускной способности см. на странице [цен на хранение блочных BLOB-объектов](https://azure.microsoft.com/pricing/details/storage/blobs/).

При преобразовании учетной записи хранения тип репликации grs на LRS, без дополнительных затрат, но реплицированные данные удаляются из дополнительного расположения.

При преобразовании учетной записи хранения RA-GRS в GRS или LRS, этой учетной записи, оплачивается как RA-GRS 30 дней после даты, который он был преобразован.

## <a name="see-also"></a>См. также

- [Локально избыточное хранилище (LRS). Недорогое средство для обеспечения избыточности данных для службы хранилища Azure](storage-redundancy-lrs.md)
- [Хранилище, избыточное между зонами (ZRS). высокодоступные приложения для службы хранилища Azure](storage-redundancy-zrs.md)
- [Гео-избыточное хранилище (GRS). Межрегиональная репликация для службы хранилища Azure](storage-redundancy-grs.md)
- [Целевые показатели масштабируемости и производительности службы хранилища Azure](storage-scalability-targets.md)
- [Проектирование высокодоступных приложений с использованием RA-GRS](../storage-designing-ha-apps-with-ragrs.md)
- [Служба хранилища Microsoft Azure избыточность параметры и доступ на чтение географически избыточное хранилище](https://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx)
- [Документ SOSP, Azure Storage: A Highly Available Cloud Storage Service with Strong Consistency](https://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx) (Служба хранилища Azure: высокодоступная служба облачного хранения со строгой согласованностью).
