---
title: Мониторинг производительности, работоспособности и использования с метриками обозреватель данных Azure
description: Узнайте, как использовать обозреватель данных Azure метрики для мониторинга производительности, работоспособности и использования кластера.
author: orspod
ms.author: orspodek
ms.reviewer: gabil
ms.service: data-explorer
ms.topic: conceptual
ms.date: 04/01/2019
ms.openlocfilehash: a9c9f4d827d21c374bebba9d39e33b0bcad8a83e
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60826804"
---
# <a name="monitor-azure-data-explorer-performance-health-and-usage-with-metrics"></a>Мониторинг производительности, работоспособности и использования с метриками обозреватель данных Azure

Azure Data Explorer — это быстрая и полностью управляемая служба для анализа большого объема потоковых данных в реальном времени, поступающих из приложений, а также с веб-сайтов, устройств Интернета вещей и т. д. Чтобы использовать обозреватель данных Azure, сначала нужно создать кластер и одну или несколько баз данных в этом кластере. Затем вы должны принять (загрузить) данные в базы данных, чтобы к ним можно было выполнять запросы. Метрики Azure обозреватель данных предоставляют ключевые индикаторы работоспособности и производительности ресурсов кластера. Использование метрик, описанные в этой статье, чтобы отслеживать работоспособность кластера обозреватель данных Azure и производительность в рамках определенного сценария как автономные метрики. Можно также использовать метрики в качестве основы для оперативной [панелей мониторинга Azure](/azure/azure-portal/azure-portal-dashboards) и [оповещений Azure](/azure/azure-monitor/platform/alerts-metric-overview).

## <a name="prerequisites"></a>Технические условия

* Если у вас нет подписки Azure, создайте [бесплатную учетную запись Azure](https://azure.microsoft.com/free/).

* Создание [кластера и базы данных](create-cluster-database-portal.md).

## <a name="sign-in-to-the-azure-portal"></a>Вход на портал Azure

Войдите на [портале Azure](https://portal.azure.com/).

## <a name="using-metrics"></a>С помощью метрик

В кластере обозреватель данных Azure, выберите **метрики** чтобы открыть панель метрик и начала анализа в кластере.

![Выбор метрик](media/using-metrics/select-metrics.png)

В области метрик:

![Панель метрик](media/using-metrics/metrics-pane.png)

1. Чтобы создать диаграмму метрики, выберите **метрика** имя и соответствующие **статистической обработки** каждой метрики, как описано ниже. **Ресурсов** и **пространство имен метрики** выбора уже выбраны к кластеру обозреватель данных Azure.

    **Метрика** | **Единица измерения** | **Агрегирование** | **Описание метрики**
    |---|---|---|---|
    | Использование кэша | Процент | AVG, Max, Min | Процентное отношение используемых ресурсов выделенный кэш в данный момент в кластере. Кэш ссылается на SSD, выделенных для активности пользователей в соответствии с политикой кэша определенного размера. Использование среднего кэша 80% или меньше — это экологически состояние для кластера. Если использование среднее кэша превышает 80%, кластер должен быть [масштабировать в сторону](manage-cluster-scale-up.md) в хранилище оптимизированных для операций ценовой категории или [масштабировать](manage-cluster-scale-out.md) дополнительные экземпляры. Кроме того можно адаптировать политику кэширования (меньшее количество дней в кэше). Если кэш заняты более чем на 100%, размер данных должен быть помещен в кэш, в соответствии с политикой кэширования, больше, общий размер кэша в кластере. |
    | ЦП | Процент | AVG, Max, Min | Процент выделенных вычислительных ресурсов в настоящий момент каким машин в кластере. Средняя загрузка ЦП на 80% или менее устойчивой для кластера. Максимальное значение загрузки ЦП составляет 100%, это означает, что отсутствуют дополнительные вычислительные ресурсы для обработки данных. Когда плохо работает кластер, проверьте максимальное значение ЦП, чтобы определить, существуют конкретным ЦП, которые заблокированы. |
    | События, обработанные (для концентраторов событий) | Количество | MAX, Min, Sum | Общее число событий, чтение из концентраторов событий и обрабатываемые кластером. События разбиваются на отклонены и события, принимаемое ядра кластера. |
    | Задержка приема данных | Секунды | AVG, Max, Min | Задержка данных принимаются с момента данные были доставлены в кластере, пока он не готов к запросу. Период задержки приема данных зависит от сценария приема. |
    | Результат приема | Количество | Количество | Общее число операций приема, которые не удалось и выполнена успешно. Используйте **применить разделение** для создания сегментов успеха и ошибкой результаты и анализ измерений (**значение** > **состояние**).|
    | Использование приема | Процент | AVG, Max, Min | Процент фактические ресурсы, используемые для приема данных из общее число ресурсов, выделенных в политике емкость для выполнения приема. Политика емкости по умолчанию — не более 512 приема одновременных операций или 75% ресурсов кластера, значительные средства на прием. Использование среднего приема 80% или меньше является устойчивой состояние для кластера. Максимальное значение использования приема равно 100%, что означает все возможности приема кластера и может привести к очереди приема. |
    | Тома приема (в МБ) | Количество | MAX, Min, Sum | Общий объем данных, полученных кластера (в МБ) до сжатия. |
    | Активности | Количество | Avg | Отслеживает отклик кластера. Полностью гибкий кластера возвращает значение 1, и возвращает значение 0, кластер заблокированных или отключенных. |
    | Query duration (Длительность запросов) | Секунды | Count, Avg, Min, Max, Sum | Общее время, пока не будут получены результаты запроса (не включая экземпляры задержки в сети). |
    | | | |

    Дополнительные сведения о [поддерживаемых метрик кластера обозреватель данных Azure](/azure/azure-monitor/platform/metrics-supported#microsoftkustoclusters)

2. Выберите **добавить метрику** кнопку, чтобы увидеть несколько метрик, на одной диаграмме.
3. Выберите **+ новая диаграмма** кнопку, чтобы увидеть несколько диаграмм в одном представлении.
4. Изменить диапазон времени с помощью средства выбора времени (по умолчанию: за последние 24 часа).
5. Используйте [ **добавить фильтр** и **применить разделение** ](/azure/azure-monitor/platform/metrics-getting-started#apply-dimension-filters-and-splitting) для метрик, измерениями.
6. Выберите **закрепить на панели мониторинга** добавить конфигурацию диаграммы к панелям мониторинга, таким образом, вы можете просмотреть ее снова.
7. Задайте **новое правило генерации оповещений** визуализировать метрики с помощью набора критериев. В новом правиле генерации оповещений будет указан целевой ресурс, метрика, разделение и измерения фильтров из диаграммы. Эти параметры изменить [панели создания правил генерации оповещений](/azure/azure-monitor/platform/metrics-charts#create-alert-rules).

Дополнительные сведения об использовании [обозревателя метрик](/azure/azure-monitor/platform/metrics-getting-started).


## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Краткое руководство Запрос данных в Azure Data Explorer](web-query-data.md)
