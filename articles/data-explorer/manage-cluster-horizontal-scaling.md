---
title: Масштабировать кластер обозреватель данных Azure
description: В этой статье описаны действия, чтобы увеличивать и уменьшать в кластере Azure обозреватель данных на основе изменения спроса.
author: orspod
ms.author: orspodek
ms.reviewer: mblythe
ms.service: data-explorer
ms.topic: conceptual
ms.date: 06/30/2019
ms.openlocfilehash: 29bfcc42462a667850f0b2e1bbda3d29cd1597ab
ms.sourcegitcommit: 1e347ed89854dca2a6180106228bfafadc07c6e5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/05/2019
ms.locfileid: "67571521"
---
# <a name="manage-cluster-horizontal-scaling-to-accommodate-changing-demand"></a>Управлять учетом меняющихся потребностей горизонтальное масштабирование кластера

Изменение размера кластера соответствующим образом очень важно для обеспечения производительности обозревателя данных Azure. Но запросу в кластере не может быть спрогнозирован с абсолютная точность. Размер кластера статических может привести к недостаточного и чрезмерного использования, каждая из которых является идеальным.

Лучше *масштабировать* кластер, добавляя и удаляя емкость по мере изменения потребности в ресурсах. Существует два рабочих процесса масштабирования: 
* Горизонтальное масштабирование, также называется масштабирование увеличением или уменьшением.
* Вертикальное масштабирование также называется масштабирование вверх и вниз.

В этой статье объясняется горизонтальное масштабирование рабочего процесса.

Горизонтальное масштабирование позволяет масштабировать число экземпляров автоматически на основе предварительно определенных правил и расписаний. Укажите параметры автоматического масштабирования для своего кластера на портале Azure, как описано в этой статье.

## <a name="steps-to-configure-horizontal-scaling"></a>Действия по настройке горизонтального масштабирования

На портале Azure перейдите к ресурсу кластера обозревателя данных. В разделе **параметры** щелкните **горизонтальное масштабирование**. 

Выберите способ требуемой автомасштабирования: **Ручное масштабирование**, **оптимизированных для операций автомасштабирования** или **автомасштабирования Custom**.

### <a name="manual-scale"></a>Ручное масштабирование

Ручное масштабирование — это параметр по умолчанию с помощью создания кластера. Это означает, что кластер емкостью кластера статических, который не изменится автоматически. Вы можете статические ресурсы, используя панели и не изменится до следующий раз мы изменим масштаб кластера параметры масштабирования.

   ![Метод ручное масштабирование](media/manage-cluster-horizontal-scaling/manual-scale-method.png)

### <a name="optimized-autoscale"></a>Оптимизированный автомасштабирования

Оптимизированный автомасштабирования способ рекомендуемые автомасштабирования. Действия по настройке автоматического масштабирования оптимизировано:

1. Параметр автомасштабирования оптимизировать и выбрать более низкий предел и верхний предел объема экземпляры кластера, автомасштабирования, которые выполняются между эти ограничения.
2. Щелкните "Сохранить".

   ![Метод оптимизированного автомасштабирования](media/manage-cluster-horizontal-scaling/optimized-autoscale-method.png)

После того как нажать кнопку Сохранить оптимизированный механизм автомасштабирования будет начать работать, и это действия будут отображаться в журнале действий кластера. Этот метод автомасштабирования выполняется оптимизация производительности кластера и затраты: кластера начнется перейдет в состояние недостаточного использования он будет требуется масштабировать в которой оставьте производительности затраты на том же и ниже, если кластер запустится перейдет в состояние объекта чрезмерного использования, он будет масштабирован, чтобы убедиться в том, что они всегда работают хорошо

### <a name="custom-autoscale"></a>Пользовательские автомасштабирования

Метод пользовательского автоматического масштабирования позволяет масштабировать кластер динамически на основе метрик вами. На следующем рисунке показан потоком и действия по настройке автоматического масштабирования Custom. Более подробное описание ниже рисунок.

1. В **имя параметра автомасштабирования** окне укажите имя, например *горизонтального масштабирования: кэшировать использования*. 

   ![Правило масштабирования](media/manage-cluster-horizontal-scaling/custom-autoscale-method.png)

2. Для **режим масштабирования**выберите **масштабирования на основе метрики**. Этот режим обеспечивает динамическое масштабирование. Можно также выбрать **Масштабирование до указанного числа экземпляров**.

3. Выберите **+ добавить правило**.

4. В разделе **Правило масштабирования** справа укажите значения для каждого параметра.

    **Критерии**

    | Параметр | Описание и значение |
    | --- | --- |
    | **Агрегат времени** | Выберите условия агрегирования, например **Среднее**. |
    | **Имя метрики** | Выберите метрику для операции масштабирования, например **Cache Utilization**. |
    | **Статистика интервала времени** | Выберите одно из значений: **Среднее**, **Минимум**, **Максимум** и **Сумма**. |
    | **Operator** | Выберите нужный параметр, например **Больше или равно**. |
    | **Пороговое значение**. | Выберите соответствующее значение. Например для использования кэша, 80 процентов является хорошей отправной точкой. |
    | **Продолжительность (в минутах)** | Выберите период времени, используемый системой при вычислении метрик. Начните со значения по умолчанию, равного 10 минутам. |
    |  |  |

    **Действие**

    | Параметр | Описание и значение |
    | --- | --- |
    | **Операция** | Выберите соответствующий параметр для свертывания или горизонтального масштабирования. |
    | **Число экземпляров** | Выберите количество узлов или экземпляров, которые требуется добавить или удалить при выполнении условий метрики. |
    | **Охлаждение (в минутах)** | Выберите интервал времени ожидания между операциями масштабирования. Начните со значения по умолчанию, равного 5 минутам. |
    |  |  |

5. Выберите **Добавить**.

6. В разделе **Ограничения экземпляров** слева укажите значения всех параметров.

    | Параметр | Описание и значение |
    | --- | --- |
    | **Минимальные** | Число экземпляров в кластере, поддерживаемое вне зависимости от уровня использования. |
    | **Максимум** | Число экземпляров в кластере, поддерживаемое в зависимости от уровня использования. |
    | **Default** | Число экземпляров по умолчанию. Этот параметр используется в том случае, если имеются проблемы с чтением метрики ресурсов. |
    |  |  |

7. Щелкните **Сохранить**.

Вы настроили операцию горизонтального масштабирования для кластера обозревателя данных Azure. Добавьте правило для операции свертывания. Если вам нужна помощь с проблемами, масштабирование кластеров, [откройте запрос в службу поддержки](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview) на портале Azure.

## <a name="next-steps"></a>Следующие шаги

* [Мониторинг производительности, работоспособности и использования с метриками обозреватель данных Azure](using-metrics.md)
* [Управление вертикальное масштабирование кластера](manage-cluster-vertical-scaling.md) для определения соответствующего размера кластера.
