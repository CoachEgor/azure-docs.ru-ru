---
title: Масштабировать кластер обозреватель данных Azure
description: В этой статье описаны действия, чтобы увеличивать и уменьшать в кластере Azure обозреватель данных на основе изменения спроса.
author: orspod
ms.author: orspodek
ms.reviewer: mblythe
ms.service: data-explorer
ms.topic: conceptual
ms.date: 06/30/2019
ms.openlocfilehash: 882f44683bbdc7f4eb49ff4912ca7a33187afbf8
ms.sourcegitcommit: 084630bb22ae4cf037794923a1ef602d84831c57
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/03/2019
ms.locfileid: "67537894"
---
# <a name="manage-cluster-scale-out-to-accommodate-changing-demand"></a>Управление горизонтальным масштабированием кластера с учетом меняющихся потребностей

Изменение размера кластера соответствующим образом очень важно для обеспечения производительности обозревателя данных Azure. Но запросу в кластере не может быть спрогнозирован с абсолютная точность. Размер кластера статических может привести к недостаточного и чрезмерного использования, каждая из которых является идеальным.

Лучше *масштабировать* кластер, добавляя и удаляя емкость по мере изменения потребности в ресурсах. Существует два рабочих процесса масштабирования: вертикальное и горизонтальное масштабирование. В этой статье объясняется рабочий процесс горизонтального масштабирования.

В этой статье показано, как управлять кластера горизонтального масштабирования, также известный как автомасштабирования. Автоматическое масштабирование позволяет масштабировать число экземпляров автоматически на основе предварительно определенных правил и расписаний. Укажите параметры автоматического масштабирования для своего кластера на портале Azure, как описано в этой статье.

## <a name="steps-to-configure-autoscale"></a>Действия по настройке автоматического масштабирования

На портале Azure перейдите к ресурсу кластера обозревателя данных. В разделе **параметры** щелкните **горизонтальное масштабирование**. На **Настройка** выберите **включить Автомасштабирование**.

   ![Включение автомасштабирования](media/manage-cluster-scaling/enable-autoscale.png)

На приведенном ниже рисунке показан процесс из нескольких следующих шагов. Более подробное описание ниже рисунок.

1. В **имя параметра автомасштабирования** окне укажите имя, например *горизонтального масштабирования: кэшировать использования*. 

   ![Правило масштабирования](media/manage-cluster-scaling/scale-rule.png)

2. Для **режим масштабирования**выберите **масштабирования на основе метрики**. Этот режим обеспечивает динамическое масштабирование. Можно также выбрать **Масштабирование до указанного числа экземпляров**.

3. Выберите **+ добавить правило**.

4. В разделе **Правило масштабирования** справа укажите значения для каждого параметра.

    **Критерии**

    | Параметр | Описание и значение |
    | --- | --- |
    | **Агрегат времени** | Выберите условия агрегирования, например **Среднее**. |
    | **Имя метрики** | Выберите метрику для операции масштабирования, например **Cache Utilization**. |
    | **Статистика интервала времени** | Выберите одно из значений: **Среднее**, **Минимум**, **Максимум** и **Сумма**. |
    | **Оператор** | Выберите нужный параметр, например **Больше или равно**. |
    | **Пороговое значение**. | Выберите соответствующее значение. Например для использования кэша, 80 процентов является хорошей отправной точкой. |
    | **Продолжительность (в минутах)** | Выберите период времени, используемый системой при вычислении метрик. Начните со значения по умолчанию, равного 10 минутам. |
    |  |  |

    **Действие**

    | Параметр | Описание и значение |
    | --- | --- |
    | **Операция** | Выберите соответствующий параметр для свертывания или горизонтального масштабирования. |
    | **Число экземпляров** | Выберите количество узлов или экземпляров, которые требуется добавить или удалить при выполнении условий метрики. |
    | **Охлаждение (в минутах)** | Выберите интервал времени ожидания между операциями масштабирования. Начните со значения по умолчанию, равного 5 минутам. |
    |  |  |

5. Выберите **Добавить**.

6. В разделе **Ограничения экземпляров** слева укажите значения всех параметров.

    | Параметр | Описание и значение |
    | --- | --- |
    | **Минимальные** | Число экземпляров в кластере, поддерживаемое вне зависимости от уровня использования. |
    | **Максимум** | Число экземпляров в кластере, поддерживаемое в зависимости от уровня использования. |
    | **По умолчанию** | Число экземпляров по умолчанию. Этот параметр используется в том случае, если имеются проблемы с чтением метрики ресурсов. |
    |  |  |

7. Щелкните **Сохранить**.

Вы настроили операцию горизонтального масштабирования для кластера обозревателя данных Azure. Добавьте правило для операции свертывания. Эта конфигурация позволяет масштабировать кластер динамически на основе метрик вами.

Если вам нужна помощь с проблемами, масштабирование кластеров, [откройте запрос в службу поддержки](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview) на портале Azure.

## <a name="next-steps"></a>Дальнейшие действия

* [Мониторинг производительности, работоспособности и использования с метриками обозреватель данных Azure](using-metrics.md)

* [Управление вертикального масштабирования кластера](manage-cluster-scale-up.md) для определения соответствующего размера кластера.
