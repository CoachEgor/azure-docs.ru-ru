---
title: Выберите правильный номер SKU виртуальной машины для кластера Azure обозреватель данных
description: В этой статье описывается, как выбрать оптимальный размер SKU для кластера Azure обозреватель данных.
author: avneraa
ms.author: avnera
ms.reviewer: orspodek
ms.service: data-explorer
ms.topic: conceptual
ms.date: 07/14/2019
ms.openlocfilehash: 2d078f9715a0cfa171f0c88776a4ab78c15215a8
ms.sourcegitcommit: dd3db8d8d31d0ebd3e34c34b4636af2e7540bd20
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/22/2020
ms.locfileid: "77561856"
---
# <a name="select-the-correct-vm-sku-for-your-azure-data-explorer-cluster"></a>Выберите правильный номер SKU виртуальной машины для кластера Azure обозреватель данных 

При создании нового кластера или оптимизации кластера для изменения рабочей нагрузки Azure обозреватель данных предлагает несколько номеров SKU виртуальной машины. Виртуальные машины были тщательно выбраны, чтобы обеспечить наиболее оптимальные затраты на любую рабочую нагрузку. 

Размер и номер SKU виртуальной машины кластера управления данными полностью управляются службой обозреватель данных Azure. Они определяются такими факторами, как размер виртуальной машины ядра и Рабочая нагрузка приема. 

Номер SKU виртуальной машины для кластера подсистемы можно изменить в любое время, увеличив [масштаб кластера](manage-cluster-vertical-scaling.md). Лучше начать с наименьшего размера SKU, соответствующего первоначальному сценарию. Учтите, что увеличение масштаба кластера приводит к простою до 30 минут, в то время как кластер создается повторно с новым номером SKU виртуальной машины.

> [!TIP]
> [Зарезервированные экземпляры вычислений (RI)](https://docs.microsoft.com/azure/virtual-machines/windows/prepay-reserved-vm-instances) применимы к кластеру Azure обозреватель данных.  

В этой статье описаны различные варианты номеров SKU виртуальных машин и приведены технические сведения, которые помогут вам сделать лучший вариант.

## <a name="select-a-cluster-type"></a>Выберите тип кластера

Azure обозреватель данных предлагает кластеры двух типов:

* **Рабочая среда**. производственные кластеры содержат два узла для кластеров управления данными и ядра, а также работают в рамках [соглашения об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/data-explorer/v1_0/)Azure обозреватель данных.

* **Разработка и тестирование (без соглашения об уровне обслуживания)** : кластеры разработки и тестирования имеют один узел D11 v2 для кластера ядра и один узел D1 для кластера управления данными. Этот тип кластера является минимальной конфигурацией затрат из-за нехватки количества экземпляров и без учета разметки модуля. Соглашение об уровне обслуживания для этой конфигурации кластера отсутствует, так как в нем отсутствует избыточность.

## <a name="sku-types"></a>Типы SKU

При создании кластера Azure обозреватель данных выберите *оптимальный* номер SKU виртуальной машины для запланированной рабочей нагрузки. Вы можете выбрать один из следующих семейств номеров SKU Azure обозреватель данных:

* **D v2**: SKU d оптимизирован для вычислений и имеет две разновидности:
    * Сама виртуальная машина
    * Виртуальная машина, Объединенная с дисками хранилища класса Premium

* **Ls**: параметр L SKU оптимизирован для хранения в хранилище. Он имеет гораздо больший размер SSD, чем номер SKU с аналогичной ценой.

Основные различия между доступными типами SKU описаны в следующей таблице.
 
| Атрибут | НОМЕР SKU D | НОМЕР SKU L |
|---|---|---
|**Небольшие номера SKU**|Минимальный размер — D11 с двумя ядрами|Минимальный размер — 4 – 4 ядра. |
|**Доступность**|Доступно во всех регионах (версия DS + PS имеет более ограниченную доступность)|Доступно в нескольких регионах |
|**Стоимость кэша за&nbsp;ГБ на ядро**|Высокая с номером SKU D, низкое с версией DS + PS|Самый низкий при использовании варианта оплаты по мере использования |
|**Цены на зарезервированные экземпляры (RI)**|Высокая скидка (свыше 55&nbsp;процента для обязательства в течение трех лет)|Низкая скидка (20&nbsp;процента на обязательство за три года) |  

## <a name="select-your-cluster-vm"></a>Выбор виртуальной машины кластера 

Чтобы выбрать виртуальную машину кластера, [Настройте вертикальное масштабирование](manage-cluster-vertical-scaling.md#configure-vertical-scaling). 

Используя различные варианты номеров SKU виртуальных машин, вы можете оптимизировать затраты для требований к производительности и оперативной кэш-памяти для вашего сценария. 
* Если требуется наиболее оптимальная производительность для большого объема запросов, идеальный номер SKU должен быть оптимизирован для вычислений. 
* Если необходимо запрашивать большие объемы данных с относительно низкой загрузкой запросов, то SKU, оптимизированные для хранения, могут снизить затраты и по-прежнему обеспечивать высокую производительность.

Поскольку количество экземпляров на кластер для малых SKU ограничено, предпочтительнее использовать более крупные виртуальные машины с большим объемом ОЗУ. Для некоторых типов запросов требуется больше ОЗУ, что требует более ресурсоемких ресурсов ОЗУ, например запросов, использующих `joins`. Поэтому при рассмотрении параметров масштабирования рекомендуется масштабировать до более крупного SKU, а не масштабировать, добавляя дополнительные экземпляры.

## <a name="vm-options"></a>Параметры виртуальной машины

Технические спецификации для виртуальных машин кластера Azure обозреватель данных описаны в следующей таблице.

|**Название**| **Категория** | **Размер SSD** | **Ядра** | **ОЗУ** | **Диски хранилища класса Premium (1&nbsp;ТБ)**| **Минимальное число экземпляров на кластер** | **Максимальное число экземпляров на кластер**
|---|---|---|---|---|---|---|---
|D11 v2| оптимизированные для вычислений | 75&nbsp;ГБ    | 2 | 14&nbsp;ГБ | 0 | 1 | 8 (за исключением SKU для разработки и тестирования, который равен 1)
|D12 v2| оптимизированные для вычислений | 150&nbsp;ГБ   | 4 | 28&nbsp;ГБ | 0 | 2 | 16
|D13 v2| оптимизированные для вычислений | 307&nbsp;ГБ   | 8 | 56&nbsp;ГБ | 0 | 2 | 1000
|D14 v2| оптимизированные для вычислений | 614&nbsp;ГБ   | 16| 112&nbsp;ГБ | 0 | 2 | 1000
|DS13 V2 + 1&nbsp;ТБ&nbsp;PS| оптимизированные для хранилища | 1&nbsp;ТБ | 8 | 56&nbsp;ГБ | 1 | 2 | 1000
|DS13 v2 + 2&nbsp;ТБ&nbsp;PS| оптимизированные для хранилища | 2&nbsp;ТБ | 8 | 56&nbsp;ГБ | 2 | 2 | 1000
|DS14 v2 + 3&nbsp;ТБ&nbsp;PS| оптимизированные для хранилища | 3&nbsp;ТБ | 16 | 112&nbsp;ГБ | 2 | 2 | 1000
|DS14 v2 + 4&nbsp;ТБ&nbsp;PS| оптимизированные для хранилища | 4&nbsp;ТБ | 16 | 112&nbsp;ГБ | 4 | 2 | 1000
|L4s v1| оптимизированные для хранилища | 650&nbsp;ГБ | 4 | 32&nbsp;ГБ | 0 | 2 | 16
|L8s v1| оптимизированные для хранилища | 1,3&nbsp;ТБ | 8 | 64&nbsp;ГБ | 0 | 2 | 1000
|L16s_1| оптимизированные для хранилища | 2,6&nbsp;ТБ | 16| 128&nbsp;ГБ | 0 | 2 | 1000

* Обновленный список номеров SKU виртуальных машин для каждого региона можно просмотреть с помощью Azure обозреватель данных [ЛИСТСКУС API](/dotnet/api/microsoft.azure.management.kusto.clustersoperationsextensions.listskus?view=azure-dotnet). 
* Дополнительные сведения о [различных SKU](/azure/virtual-machines/windows/sizes). 

## <a name="next-steps"></a>Следующие шаги

* Вы можете в любое время [увеличить или уменьшить масштаб](manage-cluster-vertical-scaling.md) кластера подсистемы, ИЗМЕНИВ номер SKU виртуальной машины в зависимости от различий. 

* Можно [масштабировать или масштабировать](manage-cluster-horizontal-scaling.md) размер кластера подсистемы, чтобы изменить емкость в зависимости от изменяющихся требований.

