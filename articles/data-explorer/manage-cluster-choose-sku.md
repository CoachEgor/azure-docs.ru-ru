---
title: Выберите правильный номер SKU виртуальной машины для кластера Azure обозреватель данных
description: В этой статье описывается, как выбрать оптимальный размер SKU для кластера Azure обозреватель данных.
author: avnera
ms.author: avnera
ms.reviewer: orspodek
ms.service: data-explorer
ms.topic: conceptual
ms.date: 07/14/2019
ms.openlocfilehash: 0239111ca56dfe431a00eee83c79eedccc66c927
ms.sourcegitcommit: 920ad23613a9504212aac2bfbd24a7c3de15d549
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2019
ms.locfileid: "68226152"
---
# <a name="select-the-correct-vm-sku-for-your-azure-data-explorer-cluster"></a>Выберите правильный номер SKU виртуальной машины для кластера Azure обозреватель данных 

В обозреватель данных Azure имеется несколько номеров SKU виртуальных машин, из которых можно выбрать при создании нового кластера или оптимизации кластера для изменяющихся рабочих нагрузок. Виртуальные машины были тщательно выбраны, чтобы обеспечить наиболее оптимальную стоимость любой рабочей нагрузки. 

Размер и номер SKU виртуальной машины кластера управления данными полностью управляются службой обозреватель данных Azure. Он определяется такими факторами, как размер виртуальной машины ядра и Рабочая нагрузка приема. 

Номер SKU виртуальной машины для кластера подсистемы можно изменить в любое время, увеличив [масштаб кластера](manage-cluster-vertical-scaling.md). Поэтому лучше начать с минимального размера SKU, соответствующего первоначальному сценарию. Учтите, что увеличение масштаба кластера приводит к простою до 30 минут, а кластер создается заново с новым номером SKU виртуальной машины.

> [!TIP]
> Compute [RI (зарезервированные экземпляры)](https://docs.microsoft.com/azure/virtual-machines/windows/prepay-reserved-vm-instances) применимо к кластеру Azure обозреватель данных.  

В этой статье описываются различные варианты номеров SKU виртуальных машин и приводятся технические сведения, которые помогут выбрать оптимальный вариант.

## <a name="select-the-cluster-type"></a>Выбор типа кластера

Azure обозреватель данных предлагает кластеры двух типов:

* **Производство**: Производственные кластеры содержат два узла для кластеров управления данными и ядра, а также работают в рамках [соглашения об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/data-explorer/v1_0/)Azure обозреватель данных.

* **Разработка и тестирование (без соглашения об уровне обслуживания)** : Кластеры разработки и тестирования имеют один узел D11_v2 для кластера ядра и один узел D1 для кластера управления данными. Этот тип кластера является минимальной конфигурацией затрат из-за нехватки количества экземпляров и не взимается за разметку подсистемы. Соглашение об уровне обслуживания для этой конфигурации кластера отсутствует, так как в нем отсутствует избыточность.

## <a name="sku-types"></a>Типы SKU

При создании кластера Azure обозреватель данных выберите оптимальный номер  SKU виртуальной машины для запланированной рабочей нагрузки. Обозреватель данных Azure имеет два семейства SKU для выбора:

* **D_V2**: SKU « **D** » оптимизированы для вычислений и предоставляются в двух разновидностях.
    * Сама виртуальная машина
    * Виртуальная машина, Объединенная с дисками хранилища класса Premium

* **LS**: SKU **L** является оптимизированным для хранилища. Он имеет гораздо больший размер SSD, чем номер SKU с аналогичной ценой **D** .

В следующей таблице приведены основные различия между доступными типами номеров SKU.
 
|**Атрибут** | **НОМЕР SKU D** | **НОМЕР SKU L**
|---|---|---
|**Небольшие номера SKU**|Минимальный размер — 11 "с двумя ядрами|Минимальный размер — "уровень 4" с четырьмя ядрами
|**Доступность**|Доступно во всех регионах (версия DS + PS имеет более ограниченную доступность)|Доступно в нескольких регионах
|**Цена за кэш за ГБ на ядро**|Высокая с номером SKU D, низкое с версией DS + PS|Самый дешевый вариант с параметром " *Оплата по мере* использования"
|**Цены на RI (зарезервированные экземпляры)**|Высокая скидка (свыше 55% для обязательства в течение трех лет)|Низкая скидка (20% для обязательства в течение трех лет)  

## <a name="select-your-cluster-vm"></a>Выбор виртуальной машины кластера 

Чтобы выбрать виртуальную машину кластера, [Настройте вертикальное масштабирование](manage-cluster-vertical-scaling.md#configure-vertical-scaling). 

Различные параметры SKU виртуальной машины позволяют оптимизировать затраты на необходимые требования к производительности и оперативному кэшированию для нужного сценария. Если сценарий требует наиболее оптимальной производительности для большого объема запросов, идеальный SKU должен быть оптимизирован для вычислений. С другой стороны, если для сценария требуется выполнение запросов к большим объемам данных с относительно низкой загрузкой запросов, уровень SKU, оптимизированный для хранилища, снизит затраты, при этом обеспечивая высокую производительность.

Количество экземпляров на кластер для мелких номеров SKU ограничено, поэтому предпочтительнее использовать более крупные виртуальные машины с большим объемом ОЗУ. Объем ОЗУ необходим для некоторых типов запросов, которые требуют более ресурсоемких ресурсов ОЗУ, например запросов, использующих `joins`. Поэтому при рассмотрении параметров масштабирования рекомендуется масштабировать до более крупного номера SKU, чем при увеличении масштаба, добавляя дополнительные экземпляры.

## <a name="vm-options"></a>Параметры виртуальной машины

В следующей таблице приведены технические спецификации для виртуальных машин кластера Azure обозреватель данных.

|**Name**| **Категория** | **Размер SSD** | **Ядра** | **ОЗУ** | **Диски хранилища класса Premium (1 ТБ)**| **Минимальное число экземпляров на кластер** | **Максимальное число экземпляров на кластер**
|---|---|---|---|---|---|---|---
|D11_v2| оптимизированные для вычислений | 75 ГБ    | 2 | 14 ГБ | 0 | 1 | 8 (за исключением SKU для разработки и тестирования, где он равен 1)
|D12_v2| оптимизированные для вычислений | 150 ГБ   | 4 | 28 ГБ | 0 | 2 | 16
|D13_v2| оптимизированные для вычислений | 307 ГБ   | 8 | 56 ГБ | 0 | 2 | 1000
|D14_v2| оптимизированные для вычислений | 614 ГБ   | 16| 112 ГБ | 0 | 2 | 1000
|DS13_v2 + 1 ТБ PS| оптимизировано для хранилища | 1 TБ | 8 | 56 ГБ | 1 | 2 | 1000
|DS13_v2 + 2 ТБ PS| оптимизировано для хранилища | 2 ТБ | 8 | 56 ГБ | 2 | 2 | 1000
|DS14_v2 + выигрышем PS| оптимизировано для хранилища | 3 TБ | 16 | 112 ГБ | 2 | 2 | 1000
|DS14_v2 + 4 ТБ PS| оптимизировано для хранилища | 4 TБ | 16 | 112 ГБ | 4 | 2 | 1000
|L4s_v1| оптимизировано для хранилища | 650 ГБ | 4 | 32 ГБ | 0 | 2 | 16
|L8s_v1| оптимизировано для хранилища | 1,3 ТБ | 8 | 64 ГБ | 0 | 2 | 1000
|L16s_1| оптимизировано для хранилища | 2,6 ТБ | 16| 128 ГБ | 0 | 2 | 1000

* Просмотрите обновленный список номеров SKU виртуальных машин на регион с помощью Azure обозреватель данных [ЛИСТСКУС API](/dotnet/api/microsoft.azure.management.kusto.clustersoperationsextensions.listskus?view=azure-dotnet). 
* Дополнительные сведения о [различных SKU вычислений](/azure/virtual-machines/windows/sizes-compute). 

## <a name="next-steps"></a>Следующие шаги

* Кластер подсистемы можно [масштабировать](manage-cluster-vertical-scaling.md) в любое время, изменяя номера SKU виртуальной машины для различных потребностей. 

* Размер кластера подсистемы можно [масштабировать в и,](manage-cluster-horizontal-scaling.md) чтобы изменить емкость с изменяемыми запросами.

