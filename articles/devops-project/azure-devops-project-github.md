---
title: Руководство по Создание конвейера CI/CD для существующего кода с помощью Azure DevOps Projects
description: Azure DevOps Projects упрощает начало работы с Azure. С помощью DevOps Projects вы можете использовать собственный код и репозиторий GitHub для запуска приложения в выбранной службе Azure за несколько простых шагов.
services: vsts
documentationcenter: vs-devops-build
ms.author: mlearned
ms.manager: gwallace
editor: ''
ms.assetid: ''
ms.workload: web
ms.prod: devops
ms.technology: devops-cicd
ms.tgt_pltfrm: na
ms.topic: tutorial
ms.date: 06/27/2019
author: mlearned
ms.custom: mvc
monikerRange: vsts
ms.openlocfilehash: 15ac201a078864717d8e0079801507cf5fc0fe3b
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73481119"
---
# <a name="tutorial-create-a-cicd-pipeline-for-your-existing-code-by-using-azure-devops-projects"></a>Руководство по Создание конвейера CI/CD для существующего кода с помощью Azure DevOps Projects

Azure DevOps Projects — это упрощенный интерфейс, который позволяет добавить существующий код и репозиторий Git либо выбрать пример приложения, чтобы создать конвейер непрерывной интеграции (CI) и непрерывной поставки (CD) в Azure.

Вы сможете выполнять следующие задачи:

> [!div class="checklist"]
> * создание конвейера CI/CD с помощью DevOps Projects;
> * настройка доступа к репозиторию GitHub и выбор платформы;
> * настройка Azure DevOps и подписки Azure; 
> * фиксация изменений в GitHub и их автоматическое развертывание в Azure;
> * изучение конвейера CI/CD в Azure Pipelines;
> * Очистка ресурсов

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Вы можете получить бесплатную подписку с помощью [Visual Studio Dev Essentials](https://visualstudio.microsoft.com/dev-essentials/).
* Доступ к GitHub или внешнему репозиторию Git, содержащему код .NET, Java, PHP, Node, Python или статический веб-код.

## <a name="sign-in-to-the-azure-portal"></a>Вход на портал Azure

Azure DevOps Projects создает конвейер CI/CD в Azure Pipelines. Вы можете создать новую организацию Azure DevOps или использовать существующую. Azure DevOps Projects также создает ресурсы Azure в требуемой подписке Azure.

1. Войдите на [портале Azure](https://portal.azure.com).

2. В меню портала Azure выберите **Создать ресурс**.

   ![Меню портала Azure: "Создать ресурс"](_img/azure-devops-project-github/createaresource.png)

3. Выберите **DevOps > Проект DevOps**.

   ![Панель мониторинга DevOps Projects](_img/azure-devops-project-github/azuredashboard.png)

3. Выберите **Bring your own code** (Добавьте свой код) и нажмите кнопку **Далее**.

## <a name="configure-access-to-your-github-repo-and-choose-a-framework"></a>настройка доступа к репозиторию GitHub и выбор платформы;

1. Выберите **GitHub** или внешний репозиторий кода **Git**. Для работы с этим учебником выберите **GitHub**. В первый раз вам может потребоваться пройти аутентификацию в GitHub, чтобы разрешить Azure доступ к репозиторию GitHub.

2. Выберите **репозиторий** и **ветку**, а затем нажмите кнопку **Далее**.

3. Если вы используете контейнеры Docker, для параметра **Приложение в контейнере Docker** выберите значение **ДА** (в этом учебнике оставьте значение **НЕТ**) и нажмите кнопку **Далее**. Чтобы получить дополнительные сведения об использовании контейнеров Docker, наведите указатель мыши на значок **i**.

   ![Платформа .NET](_img/azure-devops-project-github/appframework.png)

4. В раскрывающихся списках выберите **среду выполнения приложения** и **платформу**, а затем нажмите кнопку **Далее**. Исполняющая среда, которую вы выбрали ранее, определяет доступный тип объекта развертывания в службе Azure.

5. Выберите **службу Azure** для развертывания приложения и нажмите кнопку **Далее**.

## <a name="configure-azure-devops-and-an-azure-subscription"></a>настройка Azure DevOps и подписки Azure;

1. Заполните поле **Имя проекта**.

2. Создайте бесплатную **организацию Azure DevOps** или выберите имеющуюся из раскрывающегося списка.

3. Выберите **подписку Azure**, введите имя для **веб-приложения** или присвойте имя по умолчанию. После этого выберите **расположение** и нажмите кнопку **Готово**. Через несколько минут обзор развертывания проекта DevOps отобразится на портале Azure.

4. Выберите **Перейти к ресурсу**, чтобы просмотреть панель мониторинга DevOps Project. В правом верхнем углу закрепите **проект** на панели мониторинга для быстрого доступа. Azure DevOps Projects автоматически настраивает сборку непрерывной интеграции и триггер выпуска. Код остается в репозитории GitHub или другом внешнем репозитории. Пример приложения настроен в репозитории в вашей **организации Azure DevOps**. Сборка выполнена и ваше приложение развернуто в Azure.

   ![Представление панели мониторинга DevOps Projects](_img/azure-devops-project-github/projectsdashboard.png)

5. Панель мониторинга позволяет просматривать репозиторий кода, конвейер CI/CD и приложение в Azure. В области справа под разделом "Ресурсы Azure" выберите **Обзор** для просмотра выполняющегося приложения.

## <a name="commit-changes-to-github-and-automatically-deploy-them-to-azure"></a>фиксация изменений в GitHub и их автоматическое развертывание в Azure;

Теперь вы готовы к совместной работе над приложением с использованием процесса CI/CD, который позволяет автоматически развернуть последние результаты работы на веб-сайте. При каждом изменении в репозитории GitHub запускается сборка в Azure DevOps, и конвейер CD выполняет развертывание в Azure.

1. На панели мониторинга проекта DevOps щелкните **Репозитории**. В новой вкладке браузера откроется репозиторий GitHub. Внесите изменения в приложение и щелкните **Commit changes** (Сохранить изменения).

2. Через несколько секунд в Azure Pipelines начнется выполнение сборки. Состояние сборки можно отслеживать на панели мониторинга DevOps Projects или в рамках организации Azure DevOps, выбрав вкладку **Конвейеры сборки** на панели мониторинга проекта.

## <a name="examine-the-azure-pipelines-cicd-pipeline"></a>изучение конвейера CI/CD в Azure Pipelines;

Azure DevOps Projects автоматически настраивает конвейер CI/CD в Azure Pipelines. При необходимости изучите и настройте конвейер. Чтобы составить представление о конвейерах сборки и выпуска, сделайте следующее:

1. На панели мониторинга DevOps Projects выберите **Конвейеры сборки**.

2. Когда откроется страница **Azure Pipelines**, вы увидите журнал последних сборок и состояние каждой из них.

   ![Конвейеры сборки Azure DevOps](_img/azure-devops-project-github/pipelinesbuildpage.png)

3. В правом верхнем углу страницы **Сборки** вы увидите элемент **Изменить**, позволяющий изменить текущую сборку, **Очередь**, позволяющий поставить новую сборку в очередь, и многоточие ( **&#8942;** ), позволяющее открыть меню с дополнительными параметрами. Выберите **Изменить**.

4. При сборке выполняются различные задачи, такие как получение исходного кода из репозитория, восстановление зависимостей и публикация результатов для развертывания. Справа в разделе **Имя** измените имя конвейера сборки на более описательное. Щелкните **Сохранить и поместить в очередь**, а затем нажмите кнопку **Сохранить**, оставьте комментарий и снова нажмите кнопку **Сохранить**.

   ![Страница "Сборки Azure DevOps"](_img/azure-devops-project-github/buildpage.png)

5. Чтобы просмотреть журнал аудита последних изменений сборки, щелкните вкладку **Журнал**. Azure DevOps отслеживает все изменения, внесенные в конвейер сборки, и позволяет сравнивать версии.

6. Щелкните вкладку **Триггеры**. Проект Azure DevOps автоматически создает триггер CI с параметрами по умолчанию. Такие триггеры, как **Включение непрерывной интеграции**, можно настроить для выполнения сборки при каждой фиксации изменения кода или при планировании выполнения сборок в определенное время.

## <a name="clean-up-resources"></a>Очистка ресурсов

Службу приложений Azure и связанные с ней ресурсы, созданные при работе с этим руководством, можно удалить, если они больше не нужны. Для этого воспользуйтесь функцией **Удалить** на панели мониторинга DevOps Projects.

## <a name="next-steps"></a>Дополнительная информация

После настройки процесса CI/CD с помощью этого руководства в Azure DevOps Projects автоматически создается конвейер сборки и выпуска. Вы можете изменить эти конвейеры сборки и выпуска в соответствии с потребностями вашей команды. Вы научились выполнять следующие задачи:

> [!div class="checklist"]
>  * создание конвейера CI/CD с помощью DevOps Projects;
> * настройка доступа к репозиторию GitHub и выбор платформы;
> * настройка Azure DevOps и подписки Azure;
> * фиксация изменений в GitHub и их автоматическое развертывание в Azure;
> * изучение конвейера CI/CD в Azure Pipelines;
> * Очистка ресурсов

См. дополнительные сведения о конвейере CI/CD:

> [!div class="nextstepaction"]
> [Define your multi-stage continuous deployment (CD) pipeline](https://docs.microsoft.com/azure/devops/pipelines/release/define-multistage-release-process?view=vsts) (Настройка многоэтапного конвейера для непрерывного развертывания)

Дополнительные сведения о мониторинге приложений см. в следующей статье:
  
 > [!div class="nextstepaction"]
 > [Общие сведения о службе Azure Monitor](https://docs.microsoft.com/azure/azure-monitor/overview)
