---
title: Центры уведомлений Azure и миграции Google Firebase Cloud Messaging (FCM)
description: Описывает, как центры уведомлений Azure учитывает GCM Google FCM миграции.
services: notification-hubs
author: jwargo
manager: patniko
editor: spelluru
ms.service: notification-hubs
ms.workload: mobile
ms.tgt_pltfrm: ''
ms.devlang: ''
ms.topic: article
ms.date: 04/10/2019
ms.author: jowargo
ms.openlocfilehash: 4cbfc67bc66e84b4743f3326db40872241e5d474
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61458303"
---
# <a name="azure-notification-hubs-and-the-google-firebase-cloud-messaging-fcm-migration"></a>Центры уведомлений Azure и миграции Google Firebase Cloud Messaging (FCM)

## <a name="current-state"></a>Текущее состояние

Когда Google объявила о его миграции из Google Cloud Messaging (GCM) для Firebase Cloud Messaging (FCM), службы Push-уведомлений, как наши пришлось изменить, как мы отправили уведомления для устройств Android, чтобы применить изменение.

Мы обновляется серверную часть службы, а затем опубликованных обновлений на наш API и пакеты SDK, при необходимости. С нашей реализации мы приняли решение для обеспечения совместимости с существующими схемами уведомлений GCM, чтобы свести к минимуму влияние на заказчика. Это означает, что мы в настоящее время отправки уведомлений на устройства Android с использованием FCM в устаревшем режиме FCM. В конечном счете мы хотим добавить true поддержку FCM, включая новые функции и формат полезных данных. Это долговременная изменение и текущей миграции фокусируется на обеспечении совместимости с существующими приложениями и пакеты SDK. GCM или FCM пакеты SDK можно использовать в приложении (а также наш пакет SDK), и мы убедитесь, что правильно отправляется уведомление.

Некоторые клиенты недавно получил сообщение электронной почты от Google предупреждение о приложениях, используя конечную точку GCM для уведомлений. Это было просто создает предупреждение и ничего не разрывается — ваше приложение Android по-прежнему отправляются уведомления Google для обработки и Google по-прежнему обрабатывает их. Некоторые клиенты явно указана конечная точка GCM в их конфигурации службы используется конечная точка не рекомендуется. Мы уже определили этот пробел и работали исправления проблемы Google об отправке сообщения электронной почты.

Мы заменили этой устаревшей конечной точки и развертывании исправления.

## <a name="going-forward"></a>Забегая вперед

Часто задаваемые вопросы о Google FCM говорит, что не нужно ничего делать. В [FCM часто задаваемые вопросы о](https://developers.google.com/cloud-messaging/faq), Google сказал «клиентские пакеты SDK и GCM маркеры будут работать бесконечно. Тем не менее будет ориентированы последнюю версию служб Google Play в приложении Android, если не выполнить миграцию FCM.»

Если приложение использует библиотеку GCM, продолжим и следуйте инструкциям от Google, чтобы обновить библиотеку FCM в вашем приложении. Наш пакет SDK совместим с, поэтому вам не придется выполнять в приложении на нашей стороне обновления (при условии, что вы будете в курсе нашей версии пакета SDK).

## <a name="questions-and-answers"></a>Вопросы и ответы

Вот некоторые ответы на распространенные вопросы, который мы слышали от клиентов:

**Вопрос.** Что нужно сделать для обеспечения совместимости даты прекращения (Google текущей даты прекращения зависит 29 мая и может измениться)?

**Ответ.** Ничего. Необходимо поддерживать совместимость с существующей схемой уведомления GCM. Ключ GCM будут продолжать работать в обычном режиме, как и любые пакеты SDK GCM и библиотеки, используемой приложением.

Если вы решите выполнить обновление до SDK FCM и библиотеки, чтобы воспользоваться преимуществами новых функций, ключ GCM по-прежнему будет работать. Вы можете перейти к с помощью ключа FCM, если вы хотите, но убедитесь, что при добавлении Firebase в проект существующие GCM, при создании нового проекта Firebase. Это гарантирует обратной совместимости с клиентами под управлением более старых версий приложения, которые по-прежнему использовать пакеты SDK GCM и библиотеки.

При создании нового проекта FCM и не присоединение к существующему проекту GCM, после обновления концентраторов уведомлений с использованием нового секрета FCM вы потеряете возможность для Push-уведомлений в текущей установки приложения, так как новый ключ FCM не имеет ссылки на старые GCM проект.

**Вопрос.** Почему я получаю это сообщение электронной почты о старых конечных точках GCM используется? Что нужно делать?

**Ответ.** Ничего. Мы был переход на новые конечные точки и завершения скоро станет, никаких изменений не требуется. Компоненты работоспособны, пропущенных одной конечной точки просто причина предупреждающие сообщения от Google.

**Вопрос.** Как можно я переход в новый FCM пакеты SDK и библиотеки без нарушения существующих пользователей?

Ответ. Обновить в любое время. Google пока не объявила любой устаревания существующих пакетов SDK GCM и библиотек. Чтобы убедиться, не нарушая Push-уведомлений существующим пользователям, убедитесь, что при создании нового проекта Firebase, которые связываются с существующего проекта GCM. Это позволит гарантировать новый Firebase, секреты будут работать для пользователей, запущена более старая версия приложения с помощью GCM пакеты SDK и библиотеки, а также новых пользователей приложения с помощью пакетов SDK FCM и библиотеки.

**Вопрос.** Когда можно использовать новые функции FCM и схем для Мои уведомления?

**Ответ.** Как только мы опубликуем обновления на наш API и пакеты SDK, следите за обновлениями — ожидается, что требуется что-нибудь для вас в ближайшие месяцы.
