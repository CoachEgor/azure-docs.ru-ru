---
title: Экспорт шаблона Azure Resource Manager с помощью портала Azure
description: Экспорт шаблона Azure Resource Manager с ресурсами в подписке с помощью портала Azure.
author: tfitzmac
ms.service: azure-resource-manager
ms.topic: conceptual
ms.date: 05/09/2019
ms.author: tomfitz
ms.openlocfilehash: ea9499da3dac67635a48704f439f6592c6ed467e
ms.sourcegitcommit: 8fc5f676285020379304e3869f01de0653e39466
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/09/2019
ms.locfileid: "65515389"
---
# <a name="single-and-multi-resource-export-to-template-in-azure-portal"></a>Экспорт одной или нескольких ресурсов в шаблон на портале Azure

Для упрощения создания шаблонов Azure Resource Manager, можно экспортировать шаблон из существующих ресурсов. Экспортированный шаблон поможет вам разобраться в синтаксисе JSON и свойства, которые развертывания ресурсов. Чтобы автоматизировать будущие развертывания, начните с экспортированный шаблон и измените его для вашего сценария.

Диспетчер ресурсов позволяет выбрать один или несколько ресурсов для экспорта в шаблон. Вы можете сосредоточиться на именно ресурсы, необходимые в шаблоне.

## <a name="choose-the-right-export-option"></a>Выберите параметр экспорта вправо

Шаблон можно экспортировать двумя способами:

* **Экспорт из группы ресурсов или ресурса**. Этот параметр создает новый шаблон из существующих ресурсов. Экспортированный шаблон — это «снимок» текущее состояние группы ресурсов. Вы можете экспортировать всю группу ресурсов или определенным ресурсам в этой группе ресурсов.

* **Экспорт перед развертыванием или из журнала**. Этот параметр возвращает точную копию шаблона, используемого для развертывания.

В зависимости от выбранного варианта экспортированные шаблоны имеют различные возможности.

| Из группы ресурсов или ресурса | Перед развертыванием или из журнала |
| --------------------- | ----------------- |
| Шаблон это моментальный снимок текущего состояния ресурсов. Он включает все ручные изменения, внесенные после развертывания. | Шаблон отображает только состояние ресурсов во время развертывания. Все ручные изменения, внесенные после развертывания не включаются. |
| Какие ресурсы можно выбрать из группы ресурсов для экспорта. | Включены все ресурсы для конкретного развертывания. Не удается выбрать подмножество этих ресурсов, или добавить ресурсы, которые были добавлены в другое время. |
| Шаблон включает все свойства ресурсов, включая некоторые свойства, которые бы задать обычно во время развертывания. Может потребоваться удалить или очистить эти свойства перед повторным использованием шаблона. | Шаблон содержит только свойства, необходимые для развертывания. Шаблон — это готовые к использованию. |
| Шаблон, возможно, не включает все параметры, необходимые для повторного использования. Большинство значений свойства жестко запрограммированы в шаблоне. Чтобы повторно развернуть шаблон в других средах, необходимо добавить параметры, позволяющих разнообразить возможности для настройки ресурсов. | Шаблон содержит параметры, которые позволяют легко выполнить повторное развертывание в различных средах. |

Экспорт шаблона из группы ресурсов или ресурса, когда:

* Необходимо сохранить изменения в ресурсы, которые были сделаны после исходного развертывания.
* Необходимо выбрать, какие ресурсы будут экспортированы.

Экспорт шаблона перед развертыванием или в журнале, когда:

* Требуется шаблон на использование.
* Не нужно включать изменения, внесенные после исходного развертывания.

## <a name="export-template-from-resource-group"></a>Экспорт шаблона из группы ресурсов

Чтобы экспортировать один или несколько ресурсов из группы ресурсов:

1. Выберите группу ресурсов с ресурсами, которые вы хотите экспортировать.

1. Чтобы экспортировать все ресурсы в группе ресурсов, выберите все и затем **Экспорт шаблона**. **Экспорт шаблона** параметр становится доступен только после выбора хотя бы один ресурс.

   ![Экспорт всех ресурсов](./media/export-template-portal/select-all-resources.png)

1. Чтобы выбрать нужные ресурсы для экспорта, установите флажки рядом с этими ресурсами. Выберите **Экспорт шаблона**.

   ![Выберите ресурсы для экспорта](./media/export-template-portal/select-resources.png)

1. Экспортированный шаблон отображается и доступен для скачивания.

   ![Отобразить шаблон](./media/export-template-portal/show-template.png)

## <a name="export-template-from-resource"></a>Экспорт шаблона из ресурсов

Чтобы экспортировать один ресурс:

1. Выберите группу ресурсов, содержащую ресурс, который вы хотите экспортировать.

1. Выберите ресурс для экспорта.

   ![Выбор ресурса](./media/export-template-portal/select-link-resource.png)

1. Для этого ресурса, выберите **Экспорт шаблона** в левой области.

   ![Экспорт ресурса](./media/export-template-portal/export-single-resource.png)

1. Экспортированный шаблон отображается и доступен для скачивания. Шаблон содержит только один ресурс.

## <a name="export-template-before-deployment"></a>Экспорт шаблона перед развертыванием

1. Выберите службу Azure, который вы хотите развернуть.

1. Заполните значения для новой службы.

1. После прохождения проверки, но перед запуском развертывания, выберите **загрузить шаблон для автоматизации**.

   ![Скачать шаблон](./media/export-template-portal/download-before-deployment.png)

1. Шаблон отображается и доступен для загрузки.

   ![Отобразить шаблон](./media/export-template-portal/show-template-before-deployment.png)

## <a name="export-template-after-deployment"></a>Экспорт шаблона после развертывания

Вы можете экспортировать шаблон, который использовался для развертывания существующих ресурсов. Шаблон, который вы получаете является именно тот, который был использован для развертывания.

1. Выберите группу ресурсов, которые вы хотите экспортировать.

1. Щелкните ссылку под **развертываний**.

   ![Выбор журнала развертывания](./media/export-template-portal/select-deployment-history.png)

1. Выберите одно из развертываний из журнала развертывания.

   ![Выберите развертывание](./media/export-template-portal/select-details.png)

1. Выберите **шаблона**. Шаблон, используемый для этого развертывания отображается и доступен для загрузки.

   ![Выбор шаблона](./media/export-template-portal/show-template-from-history.png)

## <a name="next-steps"></a>Дальнейшие действия

- Чтобы узнать, Azure Resource Manager, см. в разделе [обзоре Azure Resource Manager](./resource-group-overview.md).
- Чтобы узнать синтаксис шаблона Resource Manager, см. в разделе [описание структуры и синтаксиса шаблонов Azure Resource Manager](./resource-group-authoring-templates.md).
- Чтобы научиться разрабатывать шаблоны, см. в разделе [пошаговые учебники](/azure/azure-resource-manager/).
- Чтобы просмотреть схемы шаблонов Azure Resource Manager, см. в разделе [Справочник по шаблонам](/azure/templates/).