---
title: Экспорт шаблона Azure Resource Manager с помощью портал Azure
description: Используйте портал Azure, чтобы экспортировать шаблон Azure Resource Manager из ресурсов в подписке.
author: tfitzmac
ms.service: azure-resource-manager
ms.topic: conceptual
ms.date: 06/19/2019
ms.author: tomfitz
ms.openlocfilehash: 15f527dfe517dcb3329b8b61243d7c5054eedb56
ms.sourcegitcommit: 4d177e6d273bba8af03a00e8bb9fe51a447196d0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/04/2019
ms.locfileid: "71959702"
---
# <a name="single-and-multi-resource-export-to-a-template-in-azure-portal"></a>Экспорт одного и нескольких ресурсов в шаблон в портал Azure

Чтобы упростить создание шаблонов Azure Resource Manager, можно экспортировать шаблон из существующих ресурсов. Экспортированный шаблон помогает понять синтаксис и свойства JSON, которые развертывают ресурсы. Чтобы автоматизировать будущие развертывания, начните с экспортированного шаблона и измените его для вашего сценария.

Диспетчер ресурсов позволяет выбрать один или несколько ресурсов для экспорта в шаблон. Вы можете сосредоточиться на точности ресурсов, необходимых в шаблоне.

В этой статье показано, как экспортировать шаблоны с помощью портала. Можно также использовать [Azure CLI](manage-resource-groups-cli.md#export-resource-groups-to-templates), [Azure PowerShell](manage-resource-groups-powershell.md#export-resource-groups-to-templates)или [REST API](/rest/api/resources/resourcegroups/exporttemplate).

## <a name="choose-the-right-export-option"></a>Выбор параметра экспорта справа

Шаблон можно экспортировать двумя способами:

* **Экспорт из группы ресурсов или ресурса**. Этот параметр создает новый шаблон на основе существующих ресурсов. Экспортированный шаблон — это "моментальный снимок" текущего состояния группы ресурсов. В этой группе ресурсов можно экспортировать всю группу ресурсов или определенные ресурсы.

* **Экспорт перед развертыванием или из журнала**. Этот параметр возвращает точную копию шаблона, используемого для развертывания.

В зависимости от выбранного варианта экспортируемые шаблоны имеют разные качества.

| Из группы ресурсов или ресурса | Перед развертыванием или из журнала |
| --------------------- | ----------------- |
| Шаблон является моментальным снимком текущего состояния ресурсов. Он включает все изменения, внесенные вручную после развертывания. | В шаблоне отображаются только сведения о состоянии ресурсов во время развертывания. Любые изменения, внесенные вручную после развертывания, не включаются. |
| Вы можете выбрать ресурсы из группы ресурсов для экспорта. | Включены все ресурсы для определенного развертывания. Нельзя выбрать подмножество этих ресурсов или добавить ресурсы, которые были добавлены в другое время. |
| Шаблон включает все свойства ресурсов, включая некоторые свойства, которые обычно не задаются во время развертывания. Возможно, потребуется удалить или очистить эти свойства перед повторной использованием шаблона. | Шаблон включает только свойства, необходимые для развертывания. Шаблон готов к использованию. |
| Возможно, шаблон не включает все параметры, необходимые для повторного использования. Большинство значений свойств жестко закодированы в шаблоне. Чтобы повторно развернуть шаблон в других средах, необходимо добавить параметры, повышающие возможность настройки ресурсов. | Шаблон включает параметры, которые упрощают повторное развертывание в разных средах. |

Экспортируйте шаблон из группы ресурсов или ресурса, если:

* Необходимо записать изменения в ресурсы, которые были сделаны после исходного развертывания.
* Необходимо выбрать экспортируемые ресурсы.

Экспортируйте шаблон перед развертыванием или из журнала, если:

* Вам нужен простой в использовании шаблон.
* Не нужно включать изменения, внесенные после исходного развертывания.

## <a name="export-template-from-resource-group"></a>Экспорт шаблона из группы ресурсов

Чтобы экспортировать один или несколько ресурсов из группы ресурсов, выполните следующие действия.

1. Выберите группу ресурсов, содержащую ресурсы, которые необходимо экспортировать.

1. Чтобы экспортировать все ресурсы в группе ресурсов, выберите все, а затем **Экспорт шаблона**. Параметр **Экспорт шаблона** активируется только после выбора по крайней мере одного ресурса.

   ![Экспорт всех ресурсов](./media/export-template-portal/select-all-resources.png)

1. Чтобы выбрать определенные ресурсы для экспорта, установите флажки рядом с этими ресурсами. Затем выберите **Экспорт шаблона**.

   ![Выбор ресурсов для экспорта](./media/export-template-portal/select-resources.png)

1. Откроется экспортированный шаблон, который можно скачать.

   ![Отобразить шаблон](./media/export-template-portal/show-template.png)

## <a name="export-template-from-resource"></a>Экспорт шаблона из ресурса

Чтобы экспортировать один ресурс, выполните следующие действия.

1. Выберите группу ресурсов, содержащую ресурс, который необходимо экспортировать.

1. Выберите ресурс для экспорта.

   ![Выбор ресурса](./media/export-template-portal/select-link-resource.png)

1. Для этого ресурса выберите **Экспорт шаблона** в левой области.

   ![Экспорт ресурса](./media/export-template-portal/export-single-resource.png)

1. Откроется экспортированный шаблон, который можно скачать. Шаблон содержит только один ресурс.

## <a name="export-template-before-deployment"></a>Экспорт шаблона перед развертыванием

1. Выберите службу Azure, которую требуется развернуть.

1. Введите значения для новой службы.

1. После прохождения проверки, но перед началом развертывания выберите **скачать шаблон для службы автоматизации**.

   ![Скачать шаблон](./media/export-template-portal/download-before-deployment.png)

1. Шаблон отображается и доступен для загрузки.

   ![Отобразить шаблон](./media/export-template-portal/show-template-before-deployment.png)

## <a name="export-template-after-deployment"></a>Экспорт шаблона после развертывания

Можно экспортировать шаблон, который использовался для развертывания существующих ресурсов. Шаблон, который вы получаете, совпадает с тем, который использовался для развертывания.

1. Выберите группу ресурсов, которую необходимо экспортировать.

1. Выберите ссылку в разделе **развертывания**.

   ![Выбор журнала развертывания](./media/export-template-portal/select-deployment-history.png)

1. Выберите одно из развертываний из журнала развертывания.

   ![Выбор развертывания](./media/export-template-portal/select-details.png)

1. Выберите **шаблон**. Шаблон, используемый для этого развертывания, отображается и доступен для загрузки.

   ![Выбор шаблона](./media/export-template-portal/show-template-from-history.png)

## <a name="next-steps"></a>Следующие шаги

- Узнайте, как экспортировать шаблоны с помощью [Azure CLI](manage-resource-groups-cli.md#export-resource-groups-to-templates), [Azure PowerShell](manage-resource-groups-powershell.md#export-resource-groups-to-templates)или [REST API](/rest/api/resources/resourcegroups/exporttemplate).
- Сведения о синтаксисе шаблона диспетчер ресурсов см. в разделе [Общие сведения о структуре и синтаксисе шаблонов Azure Resource Manager](./resource-group-authoring-templates.md).
- Дополнительные сведения о разработке шаблонов см. в пошаговых [руководствах](/azure/azure-resource-manager/).
- Сведения о том, как просмотреть схемы шаблонов Azure Resource Manager, см. в разделе [Справочник по шаблонам](/azure/templates/).
