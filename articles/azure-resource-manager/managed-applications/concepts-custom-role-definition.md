---
title: Обзор пользовательских определений ролей
description: Описывает концепцию создания пользовательских определений ролей для управляемых приложений.
ms.topic: conceptual
ms.author: jobreen
author: jjbfour
ms.date: 09/16/2019
ms.openlocfilehash: 7b7fff913c177703f959bfa103c8e310d01059e2
ms.sourcegitcommit: d6e4eebf663df8adf8efe07deabdc3586616d1e4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/15/2020
ms.locfileid: "81391830"
---
# <a name="custom-role-definition-artifact-in-azure-managed-applications"></a>Пользовательский артефакт определения ролей в управляемых приложениях Azure

Пользовательское определение роли является дополнительным артефактом в управляемых приложениях. Он используется для определения того, какие разрешения управляемого приложения необходимы для выполнения своих функций.

В этой статье приводится обзор пользовательского артефакта определения ролей и его возможностей.

## <a name="custom-role-definition-artifact"></a>Пользовательский артефакт определения роли

Вам нужно назвать пользовательский артефакт определения роли customRoleDefinition.json. Поместите его на том же уровне, что и createUiDefinition.json и mainTemplate.json в пакете .zip, который создает управляемое определение приложения. Чтобы узнать, как создать пакет .zip и опубликовать управляемое определение приложения, [см.](publish-service-catalog-app.md)

## <a name="custom-role-definition-schema"></a>Пользовательская схема определения ролей

Файл customRoleDefinition.json имеет свойство `roles` верхнего уровня, которое является массивом ролей. Эти роли являются разрешениями, которые необходимо для функционирования управляемого приложения. В настоящее время разрешены только встроенные роли, но можно указать несколько ролей. Роль может быть соссылкой по идентификатору определения роли или по имени роли.

Пример JSON для пользовательского определения роли:

```json
{
    "contentVersion": "0.0.0.1",
    "roles": [
        {
            "properties": {
                "roleName": "Contributor"
            }
        },
        {
            "id": "acdd72a7-3385-48ef-bd42-f606fba81ae7"
        },
        {
            "id": "/providers/Microsoft.Authorization/roledefinitions/9980e02c-c2be-4d73-94e8-173b1dc7cf3c"
        }
    ]
}
```

## <a name="roles"></a>Роли

Роль состоит из либо `$.properties.roleName` `id`a, так и:

```json
{
    "id": null,
    "properties": {
        "roleName": "Contributor"
    }
}
```

> [!NOTE]
> Вы можете использовать `id` `roleName` либо поле. Требуется только один. Эти поля используются для поиска определения роли, которое должно быть применено. Если оба будут `id` поставлены, поле будет использоваться.

|Свойство|Обязательно?|Описание|
|---------|---------|---------|
|идентификатор|Да|Идентификатор встроенной роли. Вы можете использовать полный идентификатор или просто GUID.|
|roleName|Да|Название встроенной роли.|