---
title: Запрос JIT-доступа
description: Описывает, как издатели управляемых приложений Azure запрашивают доступ к управляемому приложению.
author: MSEvanhi
ms.topic: conceptual
ms.date: 06/03/2019
ms.author: evanhi
ms.openlocfilehash: 7f475774828bcaecd471e13de994b156041323ed
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "75651388"
---
# <a name="enable-and-request-just-in-time-access-for-azure-managed-applications"></a>Включить и запросить простой доступ к управляемым приложениям Azure

Потребители вашего управляемого приложения могут неохотно предоставлять вам постоянный доступ к управляемой группе ресурсов. Как издатель приложения менеджера, вы можете предпочесть, чтобы потребители точно знали, когда вам нужно получить доступ к управляемым ресурсам. Чтобы предоставить потребителям больший контроль над предоставлением доступа к управляемым ресурсам, Azure Managed Applications предоставляет функцию, называемую точно в срок (JIT) доступ, который в настоящее время в предварительном просмотре.

Доступ JIT позволяет запрашивать повышенный доступ к ресурсам управляемого приложения для устранения неполадок или технического обслуживания. Вы всегда имеете доступ только для чтения к ресурсам, но в течение определенного периода времени вы можете иметь более широкий доступ.

Рабочий поток для предоставления доступа:

1. Вы добавляете управляемое приложение на рынок и указываете, что доступ к JIT доступен.

1. Во время развертывания потребитель предоставляет JIT доступ к этому экземпляру управляемого приложения.

1. После развертывания потребитель может изменить настройки для доступа JIT.

1. Вы отправляете запрос на доступ, когда вам нужно устранить неполадки или обновить управляемые ресурсы.

1. Потребитель одобряет ваш запрос.

В этой статье основное внимание уделяется действиям, предпринимаемым издателями для обеспечения доступа jIT и отправки запросов. Чтобы узнать об утверждении запросов доступа JIT, в [управляемых приложениях Azure](approve-just-in-time-access.md)можно узнать о том, что они будут утверждены в режиме времени.

## <a name="add-jit-access-step-to-ui"></a>Добавление шага доступа JIT к uI

Ваш файл CreateUiDefinition.json точно так же, как файл uI, который вы создаете для постоянного доступа, за исключением того, что вы должны включить шаг, который позволяет потребителям включить доступ jIT. Чтобы узнать больше о публикации первого управляемого [Azure Managed Applications in the Marketplace](publish-marketplace-app.md)приложения в Azure Marketplace, см.

Чтобы поддержать возможности JIT для вашего предложения, добавьте следующее содержимое в файл CreateUiDefinition.json:

В "шагах":

```json
{
    "name": "jitConfiguration",
    "label": "JIT Configuration",
    "subLabel": {
        "preValidation": "Configure JIT settings for your application",
        "postValidation": "Done"
    },
    "bladeTitle": "JIT Configuration",
    "elements": [
        {
          "name": "jitConfigurationControl",
          "type": "Microsoft.Solutions.JitConfigurator",
          "label": "JIT Configuration"
        }
    ]
}
```
 
В "выходах":

```json
"jitAccessPolicy": "[steps('jitConfiguration').jitConfigurationControl]"
```

> [!NOTE]
> Доступ JIT находится в предварительном просмотре. Схема конфигурации JIT может измениться в будущих итерациях.

## <a name="enable-jit-access"></a>Включить доступ jIT

При определении предложения на рынке убедитесь, что вы включите доступ jIT.

1. Войти на [издательский портал Cloud Partner.](https://cloudpartner.azure.com)

1. Предоставьте значения для публикации управляемого приложения на рынке. Выберите **Да** для **доступа к JIT?**

   ![Включение JIT-доступа](./media/request-just-in-time-access/marketplace-enable.png)

Вы добавили шаг конфигурации JIT в свой uI и включили доступ JIT в предложение marketplace. Когда потребители развертывают управляемое приложение, они могут [включить доступ jIT для своего экземпляра.](approve-just-in-time-access.md#enable-during-deployment)

## <a name="request-access"></a>Запрос доступа

При необходимости доступа к управляемым ресурсам потребителя вы отправляете запрос на определенную роль, время и продолжительность. Затем потребитель должен утвердить запрос.

Для отправки запроса доступа JIT:

1. Выберите **Доступ JIT** для управляемого приложения, к которому вам необходимо получить доступ.

1. Выберите **подходящие роли**и **активируйте** в столбце ACTION для выбранной вами роли.

   ![Активировать запрос на доступ](./media/request-just-in-time-access/send-request.png)

1. В форме **«Активировать роль»** выберите время и продолжительность начала для активной роли. Выберите **активировать** для отправки запроса.

   ![Активировать доступ](./media/request-just-in-time-access/activate-access.png) 

1. Просмотр уведомлений, чтобы увидеть, что новый запрос JIT успешно отправляется потребителю.

   ![Уведомление](./media/request-just-in-time-access/in-progress.png)

   Теперь вы должны ждать, пока потребитель [одобрит ваш запрос.](approve-just-in-time-access.md#approve-requests)

1. Для просмотра статуса всех запросов JIT для управляемого приложения выберите **историю доступа JIT** и **историю запросов.**

   ![Просмотр состояния](./media/request-just-in-time-access/view-status.png)

## <a name="known-issues"></a>Известные проблемы

Основной идентификатор учетной записи, запрашивающей доступ к JIT, должен быть явно включен в определение управляемого приложения. Учетная запись не может быть включена только через группу, указанную в пакете. Это ограничение будет зафиксировано в будущем выпуске.

## <a name="next-steps"></a>Дальнейшие действия

Чтобы узнать об утверждении запросов на доступ jIT, в [управляемых приложениях Azure](approve-just-in-time-access.md)можно узнать о запросах на доступ к JIT.
