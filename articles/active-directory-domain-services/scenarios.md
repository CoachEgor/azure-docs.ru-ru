---
title: Общие сценарии развертывания для служб доменов Azure AD Документы Майкрософт
description: Узнайте о некоторых из распространенных сценариев и примеров использования для служб доменов Active Directory Для обеспечения ценности и удовлетворения бизнес-потребностей.
services: active-directory-ds
author: iainfoulds
manager: daveba
ms.assetid: c5216ec9-4c4f-4b7e-830b-9d70cf176b20
ms.service: active-directory
ms.subservice: domain-services
ms.workload: identity
ms.topic: conceptual
ms.date: 02/10/2020
ms.author: iainfou
ms.openlocfilehash: ac67ef64ca4850c6e805b5314ace856114d889a7
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "77917236"
---
# <a name="common-use-cases-and-scenarios-for-azure-active-directory-domain-services"></a>Общие случаи использования и сценарии для служб домена активных каталогов Azure

Службы функционального домена Azure Active Directory Domain Services (Azure AD DS) предоставляют управляемые доменные службы, такие как соединение доменов, групповая политика, легкий протокол доступа к каталогам (LDAP) и аутентификация Kerberos / NTLM. Azure AD DS интегрируются с существующим клиентом Azure AD, что позволяет пользователям входить в систему с использованием существующих учетных данных. Эти доменные службы используются без необходимости развертывания, управления и исправления контроллеров доменов в облаке, что обеспечивает более плавный подъем и перемещение ресурсов в Azure.

В этой статье излагаются некоторые общие бизнес-сценарии, в которых Azure AD DS обеспечивает ценность и удовлетворяет этим потребностям.

## <a name="secure-administration-of-azure-virtual-machines"></a>Безопасное администрирование виртуальных машин Azure

Чтобы позволить использовать единый набор учетных данных AD, виртуальные машины Azure (VMs) можно присоединить к домену Azure AD DS. Такой подход уменьшает проблемы управления учетными данными, такие как поддержание учетных записей локальных администраторов на каждом VM или отдельных учетных записей и паролей между средами.

ВМ, которые соединены с доменом Azure AD DS, также можно управлять и обеспечивать с помощью групповой политики. Обязательные базовые принципы безопасности могут быть применены к ВМ, чтобы заблокировать их в соответствии с корпоративными правилами безопасности. Например, можно использовать возможности управления групповыми политиками для ограничения типов приложений, которые могут быть запущены на VM.

![Упрощенное администрирование виртуальных машин Azure](./media/active-directory-domain-services-scenarios/streamlined-vm-administration.png)

Рассмотрим общий пример сценария. Поскольку серверы и другая инфраструктура достигают конца срока службы, Contoso хочет перенести приложения, размещенные в настоящее время в помещениях, в облако. Их текущий ИТ-стандарт предписывает, что серверы, принимающие корпоративные приложения, должны быть конюшни и управляться с использованием групповой политики. ИТ-администратор Contoso предпочел бы объединить сярты по вс-м информации, развернутым в Azure, чтобы упростить администрирование, поскольку пользователи могут вписаться в систему с использованием своих корпоративных учетных данных. При соединении доменов vMs также могут быть настроены в соответствии с требуемыми базовыми линиями безопасности с использованием объектов групповой политики (ГПО). Contoso предпочла бы не развертывать, не контролировать и управлять собственными контроллерами доменов в Azure.

Azure AD DS отлично подходит для этого случая использования. Управляемый домен Azure AD DS позволяет объединять виносы, использовать единый набор учетных данных и применять групповую политику. Как управляемый домен, вам не придется настраивать и поддерживать контроллеры домена самостоятельно.

### <a name="deployment-notes"></a>Примечания по развертыванию

Следующие соображения развертывания применяются к данному примеру случая использования:

* Управляемые доменами Azure AD DS по умолчанию используютединую, плоскую структуру организационного блока (OU). Все конменты, объединенные VM, находятся в одном OU. При желании можно создать пользовательские ОУ.
* Azure AD DS использует встроенный GPO для контейнеров пользователей и компьютеров. Для дополнительного контроля можно создавать пользовательские графические процессоры и нацелять их на пользовательские ОУ.
* Azure AD DS поддерживает базовую схему компьютерного объекта AD. Вы не можете расширить схему компьютерного объекта.

## <a name="lift-and-shift-on-premises-applications-that-use-ldap-bind-authentication"></a>Лифт-и-сдвиг на-предпосылки приложений, которые используют LDAP связывать аутентификации

В качестве примера сценария, Contoso имеет на месте приложение, которое было приобретено у ISV много лет назад. Приложение в настоящее время находится в режиме обслуживания ISV и запрашивая изменения в приложении является непомерно дорогим. Это приложение имеет веб-интерфейс, который собирает учетные данные пользователей с помощью веб-формы, а затем проверяет подлинность пользователей, выполняя LDAP привязывать к предварительной среде AD DS.

![Привязка LDAP](./media/active-directory-domain-services-scenarios/ldap-bind.png)

Contoso хотела бы перенести это приложение в Azure. Приложение должно продолжать работать как есть, без каких-либо изменений. Кроме того, пользователи должны иметь возможность аутентификации, используя свои существующие корпоративные учетные данные и без дополнительной подготовки. Она должна быть прозрачной для конечных пользователей, где приложение работает.

В этом сценарии Azure AD DS позволяет приложениям выполнять ldAP-связи в рамках процесса проверки подлинности. Устаревшие приложения могут поднимать и переходить в Azure и продолжать беспрепятственно аутентифицировать пользователей без каких-либо изменений в конфигурации или пользовательском опыте.

### <a name="deployment-notes"></a>Примечания по развертыванию

Следующие соображения развертывания применяются к данному примеру случая использования:

* Убедитесь, что приложению не нужно изменять/записывать в каталог. LDAP записывает доступ к домену Azure AD DS, управляемый dS, не поддерживается.
* Вы не можете изменить пароли непосредственно в домене Azure AD DS. Конечный пользователь может изменить пароль либо с помощью механизма изменения паролей Azure AD в режиме самообслуживания, либо в локальном каталоге. Затем эти изменения автоматически синхронизируются и доступны в домене Azure AD DS.

## <a name="lift-and-shift-on-premises-applications-that-use-ldap-read-to-access-the-directory"></a>Лифт-и-сдвиг на-предпосылки приложений, которые используют LDAP читать для доступа к каталогу

Как и в предыдущем примере сценария, предположим, Что Contoso имеет приложение line-of-business (LOB), разработанное почти десять лет назад. Это приложение является каталог известно и был разработан для использования LDAP для чтения информации / атрибуты о пользователях из AD DS. Приложение не изменяет атрибуты или иным образом записывается в каталог.

Contoso хочет перенести это приложение в Azure и удалить стареющее на месте оборудование, в настоящее время размещающее это приложение. Приложение не может быть переписано для использования современных API каталогов, таких как REST на основе Microsoft Graph API. Вариант подъема и смены желательно, когда приложение может быть перенесено для работы в облаке, без изменения кода или переписывания приложения.

Чтобы помочь в этом сценарии, Azure AD DS позволяет приложениям выполнять ldAP-чтения в отношении управляемого домена, чтобы получить информацию об атрибутах, в которой он нуждается. Приложение не нужно переписывать, поэтому подъем и переход в Azure позволяет пользователям продолжать использовать приложение, не понимая, что есть изменения в том, где он работает.

### <a name="deployment-notes"></a>Примечания по развертыванию

Следующие соображения развертывания применяются к данному примеру случая использования:

* Убедитесь, что приложению не нужно изменять/записывать в каталог. LDAP записывает доступ к домену Azure AD DS, управляемый dS, не поддерживается.
* Убедитесь, что приложению не нужна схема пользовательского/расширенного Active Directory. Расширения схемы не поддерживаются в Azure AD DS.

## <a name="migrate-an-on-premises-service-or-daemon-application-to-azure"></a>Мигрируйте в припредстательную службу или приложение daemon в Azure

Некоторые приложения включают несколько уровней, где один из уровней должен выполнять аутентифицированные вызовы на уровне бэкэнда, например базу данных. Учетные записи служб DD обычно используются в этих сценариях. При переходе и смещении приложений в Azure DD Azure AD SS позволяет продолжать использовать учетные записи служб таким же образом. Вы можете использовать ту же учетную запись службы, которая синхронизирована с вашего каталога в azure AD, или создать пользовательский OU, а затем создать отдельную учетную запись службы в этом OU. При любом подходе приложения продолжают функционировать таким же образом, чтобы делать аутентифицированные вызовы на другие уровни и службы.

![Учетная запись службы с WIA](./media/active-directory-domain-services-scenarios/wia-service-account.png)

В этом примере Contoso имеет специально созданное приложение для хранилища программного обеспечения, которое включает в себя веб-фронт, сервер S'L и сервер FTP бэкэнда. Интегрированная аутентификация Windows с помощью учетных записей служб проверяет подлинность веб-передней части сервера FTP. Веб-интерфейс настраивается для запуска в качестве учетной записи службы. Внутренний сервер настраивается для авторизации доступа к учетной записи службы для веб-интерфейса. Contoso не хочет развертывать и управлять своими собственными минатными вычислениями в облаке, чтобы переместить это приложение в Azure.

В этом случае серверы, хпарящийся на переднем конце веб-страницы, сервере S'L и сервере FTP, могут быть перенесены на VMs-серверы Azure и соединены с доменом Azure AD DS. Затем в своем каталоге для целей проверки подлинности приложения, который синхронизируется через Azure AD с помощью Azure AD Connect, в приложении можно использовать одну и ту же учетную запись службы.

### <a name="deployment-notes"></a>Примечания по развертыванию

Следующие соображения развертывания применяются к данному примеру случая использования:

* Убедитесь, что приложения используют имя пользователя и пароль для проверки подлинности. Проверка подлинности сертификата или смарт-карты не поддерживается DS Azure AD.
* Вы не можете изменить пароли непосредственно в домене Azure AD DS. Конечный пользователь может изменить пароль либо с помощью механизма изменения паролей Azure AD в режиме самообслуживания, либо в локальном каталоге. Затем эти изменения автоматически синхронизируются и доступны в домене Azure AD DS.

## <a name="windows-server-remote-desktop-services-deployments-in-azure"></a>Развертывание удаленных настольных служб Windows Server в Azure

Для предоставления управляемых доменных служб удаленным настольным серверам, развернутым в Azure, можно использовать Azure AD DS. Для получения дополнительной информации об этом сценарии развертывания узнайте, [как интегрировать службы домена Azure AD с развертыванием RDS.][windows-rds]

## <a name="domain-joined-hdinsight-clusters"></a>Присоединенные к домену кластеры HDInsight

Можно настроить кластер Azure HDInsight, который соединен с управляемым доменом Azure AD DS с включенным Apache Ranger. Вы можете создавать и применять политики Hive через Apache Ranger и позволять пользователям, таким как специалисты по обработке данных, подключаться к Hive с помощью инструментов на основе ODBC, таких как Excel или Tableau. Мы продолжаем работать над добавлением других рабочих нагрузок, таких как HBase, Spark и Storm, в число связанных с доменом HDInsight.

Для получения дополнительной информации [how to configure domain-joined HDInsight clusters][hdinsight] об этом сценарии развертывания см.

## <a name="next-steps"></a>Дальнейшие действия

Для начала [создайте и наймите экземпляр службы домена активных каталогов Azure][tutorial-create-instance]

<!-- INTERNAL LINKS -->
[hdinsight]: ../hdinsight/domain-joined/apache-domain-joined-configure.md
[tutorial-create-instance]: tutorial-create-instance.md

<!-- EXTERNAL LINKS -->
[windows-rds]: /windows-server/remote/remote-desktop-services/rds-azure-adds
