---
title: Выполнение модуля Runbook в службе автоматизации Azure
description: Рассматривается обработка модуля Runbook в службе автоматизации Azure.
services: automation
ms.subservice: process-automation
ms.date: 04/14/2020
ms.topic: conceptual
ms.openlocfilehash: 053a506ad28978404a147e0604fe731f0b474225
ms.sourcegitcommit: c535228f0b77eb7592697556b23c4e436ec29f96
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/06/2020
ms.locfileid: "82855742"
---
# <a name="runbook-execution-in-azure-automation"></a>Выполнение модуля Runbook в службе автоматизации Azure

Автоматизация процессов в службе автоматизации Azure позволяет создавать PowerShell, рабочие процессы PowerShell и графические модули Runbook, а также управлять ими. Дополнительные сведения см. в статье [модули Runbook службы автоматизации Azure](automation-runbook-types.md). 

Автоматизация выполняет модули Runbook на основе определенной в них логики. Если модуль Runbook был прерван, он перезапускается в начале. Это поведение требует написания модулей Runbook, которые поддерживают перезапуск при возникновении временных проблем.

Запуск модуля Runbook в службе автоматизации Azure создает задание, которое является единственным экземпляром выполнения модуля Runbook. Каждое задание получает доступ к ресурсам Azure, создавая подключение к подписке Azure. Задание может получить доступ к ресурсам в центре обработки данных, только если эти ресурсы доступны из общедоступного облака.

Служба автоматизации Azure назначает рабочую роль для выполнения каждого задания во время выполнения модуля Runbook. Пока рабочие роли используются многими учетными записями Azure, задания от различных учетных записей службы автоматизации изолируются друг от друга. Вы не можете управлять рабочими службами, в которых запрашиваются задания.

При просмотре списка модулей Runbook в портал Azure отображается состояние каждого задания, запущенного для каждого модуля Runbook. Служба автоматизации Azure хранит журналы заданий не более 30 дней.

На следующей схеме показан жизненный цикл задания Runbook для [модулей Runbook PowerShell](automation-runbook-types.md#powershell-runbooks), [модулей Runbook рабочих процессов PowerShell](automation-runbook-types.md#powershell-workflow-runbooks)и [графических модулей Runbook](automation-runbook-types.md#graphical-runbooks).

![Состояния задания — рабочий процесс PowerShell](./media/automation-runbook-execution/job-statuses.png)

[!INCLUDE [GDPR-related guidance](../../includes/gdpr-dsr-and-stp-note.md)]

>[!NOTE]
>Эта статья была изменена и теперь содержит сведения о новом модуле Az для Azure PowerShell. Вы по-прежнему можете использовать модуль AzureRM, исправления ошибок для которого будут продолжать выпускаться как минимум до декабря 2020 г. Дополнительные сведения о совместимости модуля Az с AzureRM см. в статье [Introducing the new Azure PowerShell Az module](https://docs.microsoft.com/powershell/azure/new-azureps-module-az?view=azps-3.5.0) (Знакомство с новым модулем Az для Azure PowerShell). Инструкции по установке модуля Az в гибридной рабочей роли Runbook см. в статье об [установке модуля Azure PowerShell](https://docs.microsoft.com/powershell/azure/install-az-ps?view=azps-3.5.0). Чтобы обновить модули в учетной записи службы автоматизации, см. руководство по [обновлению модулей Azure PowerShell в службе автоматизации Azure](automation-update-azure-modules.md).

## <a name="security"></a>Безопасность

Служба автоматизации Azure использует [Центр безопасности Azure (ASC)](https://docs.microsoft.com/azure/security-center/security-center-introAzure) для обеспечения безопасности ресурсов и выявления компромиссов в системах Linux. Безопасность обеспечивается в рабочих нагрузках, независимо от того, находятся ли ресурсы в Azure. См. статью [Введение в проверку подлинности в службе автоматизации Azure](https://docs.microsoft.com/azure/automation/automation-security-overview).

ASC накладывает ограничения на пользователей, которые могут выполнять любые сценарии, подписанные или неподписанные, на виртуальной машине. Если вы являетесь пользователем с корневым доступом к виртуальной машине, необходимо явным образом настроить компьютер с помощью цифровой подписи или отключить ее. В противном случае можно запустить сценарий только для применения обновлений операционной системы после создания учетной записи службы автоматизации и включения соответствующей функции.

## <a name="subscriptions"></a>Подписки

[Подписка](https://docs.microsoft.com/office365/enterprise/subscriptions-licenses-accounts-and-tenants-for-microsoft-cloud-offerings) Azure — это соглашение с корпорацией Майкрософт, которое использует одну или несколько облачных служб, за которые начисляются счета. Для службы автоматизации Azure каждая подписка связана с учетной записью службы автоматизации Azure, и в учетной записи можно [создать несколько подписок](manage-runbooks.md#work-with-multiple-subscriptions) .

## <a name="azure-monitor"></a>Azure Monitor

Служба автоматизации Azure использует [Azure Monitor](https://docs.microsoft.com/azure/azure-monitor/overview) для наблюдения за операциями компьютера. Для выполнения операций требуется Log Analyticsная Рабочая область и [агенты log Analytics](https://docs.microsoft.com/azure/azure-monitor/platform/log-analytics-agent).

### <a name="log-analytics-agent-for-windows"></a>агент Log Analytics для Windows.

[Агент log Analytics для Windows](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windowsmonitor) работает с Azure Monitor для управления виртуальными машинами Windows и физическими компьютерами. Компьютеры могут работать либо в Azure, либо в среде, отличной от Azure, например в локальном центре обработки данных. Необходимо настроить агент для передачи отчетов в одну или несколько рабочих областей Log Analytics.

>[!NOTE]
>Агент Log Analytics для Windows ранее назывался Microsoft Monitoring Agent (MMA).

### <a name="log-analytics-agent-for-linux"></a>Агент Log Analytics для Linux

[Агент log Analytics для Linux](https://docs.microsoft.com/azure/azure-monitor/platform/agent-linux) работает аналогично агенту для Windows, но подключает компьютеры Linux к Azure Monitor. Агент устанавливается с учетной записью пользователя **нксаутоматион** , которая разрешает выполнение команд, которым требуются разрешения root, например, в гибридной рабочей роли Runbook. Учетная запись **нксаутоматион** — это системная учетная запись, которая не требует пароля. 

Учетная запись **нксаутоматион** с соответствующими разрешениями sudo должна присутствовать во время [установки гибридной рабочей роли Runbook Linux](automation-linux-hrw-install.md). Если вы попытаетесь установить рабочую роль, а учетная запись отсутствует или не имеет соответствующих разрешений, установка завершится сбоем.

Журналы, доступные для агента Log Analytics и учетной записи **нксаутоматион** :

* журнал агента/Вар/ОПТ/Микрософт/омсажент/лог/омсажент.лог-Log Analytics 
* /Вар/ОПТ/Микрософт/омсажент/рун/аутоматионворкер/воркер.лог — журнал рабочей роли службы автоматизации

## <a name="runbook-execution-environment"></a>Среда выполнения Runbook

Модули Runbook в службе автоматизации Azure могут выполняться в песочнице Azure или [гибридной рабочей роли Runbook](automation-hybrid-runbook-worker.md). 

Если модули Runbook предназначены для проверки подлинности и запуска ресурсов в Azure, они выполняются в песочнице Azure, которая является общей средой, которую могут использовать несколько заданий. Для заданий, использующих одну и ту же песочницу, применяются ее ограничения ресурсов. Среда "песочницы Azure" не поддерживает интерактивные операции. Он предотвращает доступ ко всем необработанным COM-серверам. Также требуется использовать локальные MOF-файлы для модулей Runbook, которые делают вызовы Win32.

Вы также можете использовать [гибридную рабочую роль Runbook](automation-hybrid-runbook-worker.md) для запуска модулей Runbook непосредственно на компьютере, на котором размещается роль, и локальных ресурсах в среде. Служба автоматизации Azure хранит и управляет модулями Runbook, а затем доставляет их одному или нескольким назначенным компьютерам.

>[!NOTE]
>Для запуска в гибридной рабочей роли Runbook Linux сценарии должны быть подписаны, а рабочий процесс настроен соответствующим образом. Кроме того, [Проверка подписи должна быть отключена](https://docs.microsoft.com/azure/automation/automation-linux-hrw-install#turn-off-signature-validation). 

В следующей таблице перечислены некоторые задачи выполнения Runbook с рекомендуемой средой выполнения, перечисленными для каждого из них.

|Задача|Рекомендация|Примечания|
|---|---|---|
|Интеграция с ресурсами Azure|Песочница Azure|При размещении в Azure проверка подлинности выполняется проще. Если вы используете гибридную рабочую роль Runbook на виртуальной машине Azure, вы можете [использовать проверку подлинности Runbook с управляемыми удостоверениями](automation-hrw-run-runbooks.md#runbook-auth-managed-identities).|
|Получите оптимальную производительность для управления ресурсами Azure|Песочница Azure|Сценарий выполняется в той же среде с меньшей задержкой.|
|Снижение операционных расходов|Песочница Azure|Нет никаких затрат на вычислительные ресурсы и виртуальных машин.|
|Выполнение долго выполняемого скрипта|Гибридная рабочая роль Runbook|В песочницах Azure предусмотрены [ограничения ресурсов](../azure-resource-manager/management/azure-subscription-service-limits.md#automation-limits).|
|Взаимодействие с локальными службами|Гибридная рабочая роль Runbook|Может напрямую обращаться к хост-компьютеру или ресурсам в других облачных средах или в локальной среде. |
|Требовать программное обеспечение и исполняемые файлы стороннего производителя|Гибридная рабочая роль Runbook|Вы управляете операционной системой и можете устанавливать программное обеспечение.|
|Мониторинг файла или папки с модулем Runbook|Гибридная рабочая роль Runbook|Используйте [задачу наблюдателя](automation-watchers-tutorial.md) в гибридной рабочей роли Runbook.|
|Запуск скрипта, интенсивно использующий ресурсы|Гибридная рабочая роль Runbook| В песочницах Azure предусмотрены [ограничения ресурсов](../azure-resource-manager/management/azure-subscription-service-limits.md#automation-limits).|
|Использование модулей с конкретными требованиями| Гибридная рабочая роль Runbook|Некоторые примеры.</br> WinSCP — зависимость от winscp.exe. </br> Администрирование IIS — зависимость от включения служб IIS и управления ими.|
|Установка модуля с помощью установщика|Гибридная рабочая роль Runbook|Модули для песочницы должны поддерживать копирование.|
|Используйте Runbook или модули, для которых требуется .NET Framework версия, отличающаяся от версии 4.7.2|Гибридная рабочая роль Runbook|Песочницы службы автоматизации поддерживают .NET Framework 4.7.2, и обновление до другой версии не поддерживается.|
|Запуск сценариев, требующих повышения прав|Гибридная рабочая роль Runbook|"Песочницы" не допускают повышение прав. С помощью гибридной рабочей роли Runbook можно отключить UAC и использовать [командлет Invoke-Command](https://docs.microsoft.com/powershell/module/microsoft.powershell.core/invoke-command?view=powershell-7) при выполнении команды, требующей повышения прав.|
|Запуск скриптов, которым требуется доступ к инструментарий управления Windows (WMI) (WMI)|Гибридная рабочая роль Runbook|Задания, выполняемые в песочницах в облаке, не могут получить доступ к поставщику WMI. |

## <a name="resources"></a>Ресурсы

Модули Runbook должны иметь логику для работы с ресурсами, например виртуальными машинами, сетью и ресурсами в сети. Ресурсы привязаны к подписке Azure, а для доступа к любому ресурсу модулям Runbook требуются соответствующие учетные данные. См. раздел [ресурсы](https://docs.microsoft.com/rest/api/resources/resources). Пример обработки ресурсов в модуле Runbook см. в разделе [Обработка ресурсов](manage-runbooks.md#handle-resources). 

## <a name="credentials"></a>Учетные данные

Для доступа к любому ресурсу модуль Runbook требует наличия соответствующих [учетных данных](shared-resources/credentials.md) , будь то Azure или сторонние системы. Эти учетные данные хранятся в службе автоматизации Azure, Key Vault и т. д.  

## <a name="runbook-permissions"></a>Разрешения для модулей Runbook

Для модуля Runbook необходимы разрешения для проверки подлинности в Azure с помощью учетных данных. Учетные данные можно указать с помощью:

- Учетная запись локального пользователя для доступа к локальным ресурсам
- [Управляемые удостоверения для ресурсов Azure](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview)для виртуальных машин, работающих в Azure
- Учетная запись запуска от имени службы автоматизации, которая позволяет получать доступ к сертификатам учетной записи службы автоматизации на виртуальной машине и использовать их локально для проверки подлинности.

## <a name="modules"></a>Модули

Служба автоматизации Azure поддерживает ряд модулей по умолчанию, включая модули AzureRM (AzureRM. Automation) и модуль, содержащий несколько внутренних командлетов. Также поддерживаются устанавливаемые модули, включая AZ modules (az. Automation), которые в настоящее время используются в качестве предпочтений для модулей AzureRM. Дополнительные сведения о модулях, доступных для модулей Runbook и конфигураций DSC, см. [в статье Управление модулями в службе автоматизации Azure](shared-resources/modules.md).

## <a name="certificates"></a>Сертификаты

Служба автоматизации Azure использует [Сертификаты](shared-resources/certificates.md) для проверки подлинности в Azure или добавляет их в Azure или сторонние ресурсы. Сертификаты хранятся в безопасном доступе для модулей Runbook и конфигураций DSC. 

Модули Runbook могут использовать самозаверяющие сертификаты, которые не подписаны центром сертификации (ЦС). См. раздел [Создание нового сертификата](shared-resources/certificates.md#create-a-new-certificate).

## <a name="jobs"></a>Задания

Служба автоматизации Azure поддерживает среду для выполнения заданий из одной и той же учетной записи службы автоматизации. В одном модуле Runbook может быть запущено множество заданий одновременно. Чем больше заданий выполняются одновременно, тем вероятнее, что они будут отправлены в одну и ту же песочницу. 

Задания, выполняемые в одном и том же процессе "песочницы", могут влиять друг на друга. Одним из примеров является выполнение командлета [Disconnect-азаккаунт](https://docs.microsoft.com/powershell/module/az.accounts/disconnect-azaccount?view=azps-3.7.0) . Выполнение этого командлета отключает каждое задание Runbook в общем изолированном процессе. Дополнительные сведения см. в разделе [предотвращение параллельных заданий](manage-runbooks.md#prevent-concurrent-jobs).

>[!NOTE]
>Задания PowerShell, запущенные из модуля Runbook, который выполняется в песочнице Azure, могут не запускаться в полном [языковом режиме PowerShell](/powershell/module/microsoft.powershell.core/about/about_language_modes). 

### <a name="job-statuses"></a>Состояния заданий

В следующей таблице описаны возможные состояния задания. Вы можете просмотреть сводку состояния для всех заданий Runbook или получить подробные сведения о конкретном задании Runbook в портал Azure. Вы также можете настроить интеграцию с рабочей областью Log Analytics для пересылки состояния задания и потоков задания модуля Runbook. Дополнительные сведения об интеграции с журналами Azure Monitor см. [в разделе Пересылка состояния задания и потоков заданий из службы автоматизации в журналы Azure Monitor](automation-manage-send-joblogs-log-analytics.md). Пример работы с состояниями в модуле Runbook см. в разделе [Получение состояния заданий](manage-runbooks.md#obtain-job-statuses) .

| Состояние | Описание |
|:--- |:--- |
| Завершено |Задание успешно выполнено. |
| Failed |Не удалось выполнить компиляцию графического модуля Runbook или рабочего процесса PowerShell. Не удалось запустить Runbook скрипта PowerShell, или задание имело исключение. См. раздел [типы Runbook службы автоматизации Azure](automation-runbook-types.md).|
| Задание не выполнено. Ожидание ресурсов. |Задание не выполнено, так как задание превысило ограничение [доли](#fair-share) три раза и было запущено с той же контрольной точки или с момента запуска модуля Runbook. |
| Поставлено в очередь |Задание ожидает, пока ресурсы в сотруднике службы автоматизации станут доступны, чтобы его можно было запустить. |
| Запуск |Задание было назначено рабочей роли, и система его запускает. |
| Возобновление |Система возобновляет задание после его приостановки. |
| Запущен |Задание выполняется. |
| Задание выполняется. Ожидание ресурсов. |Задание выгружено, поскольку превышено ограничение доли . Задание будет возобновлено позже с его последней контрольной точки. |
| Остановлена |Задание было остановлено пользователем до его завершения. |
| Остановка |Система останавливает задание. |
| Приостановлена |Применяется только к [графическим модулям Runbook и рабочим процессам PowerShell](automation-runbook-types.md) . Задание было приостановлено пользователем, системой или с помощью команды в модуле Runbook. Если у модуля Runbook нет контрольной точки, он начинается с начала. Если в модуле есть контрольная точка, задание возобновится с последней контрольной точки. Система приостанавливает модуль Runbook только при возникновении исключения. По умолчанию для `ErrorActionPreference` переменной задано значение Continue, что означает, что задание продолжает выполняться при возникновении ошибки. Если для привилегированной переменной задано значение остановить, задание приостанавливается при возникновении ошибки.  |
| Приостановка |Применяется только к [графическим модулям Runbook и рабочим процессам PowerShell](automation-runbook-types.md) . Система пытается приостановить задание по запросу пользователя. Модуль Runbook должен достичь следующей контрольной точки, прежде чем задание может быть приостановлено. Если она уже прошла последнюю контрольную точку, она завершится, прежде чем ее можно будет приостановить. |

## <a name="activity-logging"></a>Ведение журнала действий

Выполнение модулей Runbook в службе автоматизации Azure записывает сведения в журнал действий для учетной записи службы автоматизации. Дополнительные сведения об использовании журнала см. в разделе [Получение сведений из журнала действий](manage-runbooks.md#retrieve-details-from-activity-log). 

## <a name="exceptions"></a>Исключения

В этом разделе описываются некоторые способы управления исключениями или временные проблемы в модулях Runbook. Примером является исключение WebSocket. Исправьте обработку исключений, чтобы временные сбои сети не вызывали сбоя модулей Runbook. 

### <a name="erroractionpreference"></a>ErrorActionPreference

Переменная [ErrorActionPreference](/powershell/module/microsoft.powershell.core/about/about_preference_variables#erroractionpreference) определяет, как PowerShell реагирует на устранимую ошибку. Завершающие ошибки всегда завершаются и не затрагиваются `ErrorActionPreference`.

Когда модуль Runbook использует `ErrorActionPreference`, обычно Неустранимая ошибка, например `PathNotFound` командлет [Get-ChildItem](https://docs.microsoft.com/powershell/module/microsoft.powershell.management/get-childitem?view=powershell-7) , останавливает выполнение модуля Runbook. В следующем коде показано использование функции `ErrorActionPreference`. Последняя команда [Write-Output](https://docs.microsoft.com/powershell/module/microsoft.powershell.utility/write-output?view=powershell-7) не выполняется, так как скрипт останавливается.

```powershell-interactive
$ErrorActionPreference = 'Stop'
Get-ChildItem -path nofile.txt
Write-Output "This message will not show"
```

### <a name="try-catch-finally"></a>Попробуйте catch finally

[Try catch finally](/powershell/module/microsoft.powershell.core/about/about_try_catch_finally) используется в сценариях PowerShell для решения завершающих ошибок. Скрипт может использовать этот механизм для перехвата конкретных исключений или общих исключений. `catch` Инструкция должна использоваться для трассировки или попыток обрабатывать ошибки. В следующем примере предпринимается попытка скачать несуществующий файл. Он перехватывает `System.Net.WebException` исключение и возвращает последнее значение для любого другого исключения.

```powershell-interactive
try
{
   $wc = new-object System.Net.WebClient
   $wc.DownloadFile("http://www.contoso.com/MyDoc.doc")
}
catch [System.Net.WebException]
{
    "Unable to download MyDoc.doc from http://www.contoso.com."
}
catch
{
    "An error occurred that could not be resolved."
}
```

### <a name="throw"></a>Throw

Для создания завершающей ошибки можно использовать [throw](/powershell/module/microsoft.powershell.core/about/about_throw) . Этот механизм может быть полезен при определении собственной логики в модуле Runbook. Если сценарий соответствует критерию, который должен его прерывать, можно использовать `throw` оператор для его отмены. В следующем примере эта инструкция используется для отображения требуемого параметра функции.

```powershell-interactive
function Get-ContosoFiles
{
  param ($path = $(throw "The Path parameter is required."))
  Get-ChildItem -Path $path\*.txt -recurse
}
```

## <a name="errors"></a>Ошибки

Модули Runbook должны справляться с ошибками. Служба автоматизации Azure поддерживает два типа ошибок PowerShell, которые завершаются и не завершаются. 

Прекращение обработки ошибок останавливает выполнение модуля Runbook при их возникновении. Модуль Runbook останавливается с состоянием задания Failed.

Неустранимые ошибки позволяют продолжить выполнение сценария даже после его появления. Примером незавершающей ошибки может быть ситуация, когда модуль Runbook использует `Get-ChildItem` командлет с несуществующим путем. PowerShell видит, что путь не существует, выдает ошибку и переходит к следующей папке. Ошибка в этом случае не устанавливает состояние задания Runbook в значение Failed, и задание может даже быть завершено. Чтобы выполнить принудительную остановку модуля Runbook при неустранимой ошибке, вы можете использовать `ErrorAction Stop` в командлете.

## <a name="executables-or-calling-processes"></a>Исполняемые файлы или вызывающие процессы

Модули Runbook, работающие в изолированных средах Azure, не поддерживают вызывающие процессы, такие как исполняемые файлы (**exe** ) или подпроцессы. Это связано с тем, что Песочница Azure — это общий процесс в контейнере, который не может получить доступ ко всем базовым API. Для сценариев, в которых требуется программное обеспечение сторонних разработчиков или вызовы подпроцессов, необходимо выполнить модуль Runbook в [гибридной рабочей роли Runbook](automation-hybrid-runbook-worker.md).

## <a name="access-to-device-and-application-characteristics"></a>Доступ к характеристикам устройств и приложений

Задания Runbook, которые выполняются в изолированных средах Azure, не могут получить доступ к характеристикам устройства или приложения. Наиболее распространенным API-интерфейсом, используемым для запроса метрик производительности в Windows, является WMI, с некоторыми общими метриками использования памяти и ЦП. Однако не имеет значения, какой API используется, так как задания, выполняемые в облаке, не могут получить доступ к реализации Майкрософт для управления предприятием на основе веб-служб (WBEM). Эта платформа построена на основе модель CIM (CIM), предоставляя отраслевые стандарты для определения характеристик устройств и приложений.

## <a name="webhooks"></a>Веб-перехватчики

Внешние службы, например Azure DevOps Services и GitHub, могут запускать модуль Runbook в службе автоматизации Azure. Чтобы выполнить этот тип запуска, служба использует [веб-перехватчик](automation-webhooks.md) с помощью одного запроса HTTP. Использование веб-перехватчика позволяет запускать модули Runbook без реализации полного решения службы автоматизации Azure. 

## <a name="shared-resources-among-runbooks"></a><a name="fair-share"></a>Общие ресурсы между модулями Runbook

Для совместного использования ресурсов всеми модулями Runbook в облаке служба автоматизации Azure временно выгружает или останавливает любое задание, которое выполнялось более трех часов. Задания для [модулей Runbook PowerShell](automation-runbook-types.md#powershell-runbooks) и [модулей Runbook Python](automation-runbook-types.md#python-runbooks) остановлены, не перезапускаются и состояние задания останавливается.

Для выполнения длительных задач рекомендуется использовать гибридную рабочую роль Runbook. Гибридные рабочие роли Runbook не ограничены равномерным распределением и могут выполняться сколько угодно. Другие [границы](../azure-resource-manager/management/azure-subscription-service-limits.md#automation-limits) заданий применимы к песочницам Azure и к гибридным рабочим ролям Runbook. Хотя гибридные рабочие роли Runbook не ограничиваются ограничением в 3 часа, следует разрабатывать модули Runbook для рабочих процессов, которые поддерживают перезапуск, от непредвиденных проблем с локальной инфраструктурой.

Другой вариант — оптимизировать модуль Runbook с помощью дочерних модулей Runbook. Например, модуль Runbook может пройти одну и ту же функцию для нескольких ресурсов, например операцию с базой данных в нескольких базах данных. Эту функцию можно переместить в [дочерний модуль Runbook](automation-child-runbooks.md) , а модуль Runbook вызвать его с помощью команды [Start-азаутоматионрунбук](https://docs.microsoft.com/powershell/module/az.automation/start-azautomationrunbook?view=azps-3.7.0). Дочерние модули Runbook выполняются параллельно в отдельных процессах.

Использование дочерних модулей Runbook сокращает общее время, необходимое для выполнения родительского модуля Runbook. Модуль Runbook может использовать командлет [Get-азаутоматионжоб](https://docs.microsoft.com/powershell/module/az.automation/get-azautomationjob?view=azps-3.7.0) для проверки состояния задания для дочернего модуля Runbook, если он по-прежнему содержит больше операций после завершения дочернего элемента.

## <a name="next-steps"></a>Дальнейшие шаги

* Дополнительные сведения о работе с модулем Runbook см. [в статье Управление модулями Runbook в службе автоматизации Azure](manage-runbooks.md).
* Дополнительные сведения о методах, которые можно использовать для запуска модуля Runbook в службе автоматизации Azure, см. в статье [Запуск модуля Runbook в службе автоматизации Azure](automation-starting-a-runbook.md).
* См. сведения о [PowerShell, включая справочник по языку и обучающие модули](https://docs.microsoft.com/powershell/scripting/overview).
* Справочник по командлетам PowerShell см. в документации по [Az.Automation](https://docs.microsoft.com/powershell/module/az.automation/?view=azps-3.7.0#automation
).
