---
title: Общие сведения о проверке подлинности учетной записи службы автоматизации Azure
description: Эта статья содержит общие сведения о проверке подлинности учетной записи службы автоматизации Azure.
keywords: безопасность в службе автоматизации, обеспечение безопасности в службе автоматизации, проверка подлинности в службе автоматизации
services: automation
ms.subservice: process-automation
ms.date: 04/23/2020
ms.topic: conceptual
ms.openlocfilehash: d2b9f705c73e667f34e46fdeed3c80af1e65fb12
ms.sourcegitcommit: 0b80a5802343ea769a91f91a8cdbdf1b67a932d3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/25/2020
ms.locfileid: "83830112"
---
# <a name="automation-account-authentication-overview"></a>Общие сведения о проверке подлинности учетной записи службы автоматизации

С помощью службы автоматизации Azure можно автоматизировать задачи, выполняемые с ресурсами Azure (локально), а также с ресурсами других поставщиков облачных служб, например Amazon Web Services (AWS). Для автоматизации задач можно использовать runbook или гибридную рабочую роль Runbook, если требуется управление задачами, не относящимися к Azure. В любой из этих сред требуются разрешения на безопасный доступ к ресурсам с минимальными правами в рамках подписки Azure.

В этой статье рассматриваются разные сценарии проверки подлинности, поддерживаемые службой автоматизации Azure, и описывается процесс начала работы с учетом среды или сред, для которых вы настраиваете управление.

## <a name="automation-account"></a>Учетная запись службы автоматизации 

При первом запуске службы автоматизации Azure необходимо создать по крайней мере одну учетную запись службы автоматизации. Учетные записи службы автоматизации позволяют изолировать ресурсы службы автоматизации (runbook, ресурсы и конфигурации) от ресурсов в других учетных записей. Учетные записи службы автоматизации можно использовать, чтобы разделить ресурсы на отдельные логические среды. Например, для разработки можно использовать одну учетную запись, для рабочей среды — другую, а для локальной среды — третью. Учетная запись службы автоматизации Azure отличается от учетной записи Майкрософт или учетных записей, созданных в рамках подписки Azure. Общие сведения см. в статье [Создание учетной записи службы автоматизации](automation-quickstart-create-account.md).

## <a name="automation-resources"></a>Ресурсы службы автоматизации

Ресурсы каждой учетной записи службы автоматизации связаны с одним регионом Azure, но учетные записи могут управлять всеми ресурсами в вашей подписке Azure. Главной причиной создания учетных записей службы автоматизации в разных регионах будет наличие политик, требующих изолировать данные и ресурсы в определенном регионе.

Все задачи, создаваемые для ресурсов с использованием Azure Resource Manager и командлетов PowerShell в службе автоматизации Azure, должны выполнять проверку подлинности в Azure с помощью корпоративных учетных данных (удостоверения Azure Active Directory). 

## <a name="run-as-account"></a>учетная запись запуска от имени

Учетные записи запуска от имени в службе автоматизации Azure позволяют выполнять проверку подлинности для управления ресурсами в Azure с использованием командлетов PowerShell. При создании учетной записи запуска от имени в Azure Active Directory создается пользователь субъекта-службы и ему назначается роль участника на уровне подписки. Для runbook, которые используют гибридные рабочие роли Runbook на виртуальных машинах Azure, вместо учетной записи запуска от имени можно применить [проверку подлинности на основе управляемых удостоверений](automation-hrw-run-runbooks.md#runbook-auth-managed-identities), чтобы получать доступ к ресурсам Azure.

## <a name="service-principal-for-run-as-account"></a>Субъект-служба для учетной записи запуска от имени

У субъекта-службы для учетной записи запуска от имени по умолчанию нет разрешений на чтение данных из Azure AD. Если вы хотите добавить разрешения на чтение данных из Azure AD или управления ими, необходимо предоставить субъекту-службе разрешения в разделе **Разрешения API**. Дополнительные сведения см. в разделе [Добавление разрешений для доступа к веб-API](../active-directory/develop/quickstart-configure-app-access-web-apis.md#add-permissions-to-access-web-apis).

## <a name="role-based-access-control"></a>Управление доступом на основе ролей

В Azure Resource Manager контроль доступа на основе ролей можно использовать для предоставления разрешений учетной записи пользователя Azure AD и учетной записи запуска от имени, а также для проверки подлинности субъекта-службы. Дополнительные сведения о разработке модели управления разрешениями в службе автоматизации см. в статье [Управление доступом на основе ролей в службе автоматизации Azure](automation-role-based-access-control.md).  

## <a name="runbook-authentication-with-hybrid-runbook-worker"></a>Проверка подлинности runbook для гибридной рабочей роли Runbook 

Последовательности runbook, запущенные в гибридной рабочей роли Runbook в вашем центре обработки данных или в других облаках, например в вычислительных службах AWS, не могут использовать стандартный для обычных runbook метод проверки подлинности в ресурсах Azure. Это происходит потому, что такие ресурсы работают за пределами Azure и для них требуются отдельные учетные данные безопасности, определяемые службой автоматизации для проверки подлинности ресурсов, доступ к которым они получают локально. Дополнительные сведения о проверке подлинности runbook в рабочей роли runbook см. в статье [Запуск модулей Runbook в гибридной рабочей роли Runbook](automation-hrw-run-runbooks.md). 

## <a name="next-steps"></a>Дальнейшие действия

* Сведения о создании учетной записи службы автоматизации на портале Azure см. в статье [Создание автономной учетной записи службы автоматизации Azure](automation-create-standalone-account.md).
* Если вы предпочитаете работать с шаблонами, см. статью [Создание учетной записи службы автоматизации с помощью шаблона Azure Resource Manager](automation-create-account-template.md).
* Для использования Amazon Web Services прочитайте статью [Аутентификация модулей runbook службы автоматизации Azure с помощью Amazon Web Services](automation-config-aws-account.md).