---
title: Высокая доступность — база данных Azure для PostgreSQL — один сервер
description: Эта статья содержит сведения о высокой доступности в базе данных Azure для PostgreSQL-Single Server.
author: rachel-msft
ms.author: raagyema
ms.service: postgresql
ms.topic: conceptual
ms.date: 5/6/2019
ms.openlocfilehash: 80229ff78c4570db583f1218d5d2f72da2dec388
ms.sourcegitcommit: 6bb98654e97d213c549b23ebb161bda4468a1997
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/03/2019
ms.locfileid: "74768577"
---
# <a name="high-availability-concepts-in-azure-database-for-postgresql---single-server"></a>Основные понятия высокого уровня доступности в базе данных Azure для PostgreSQL — один сервер
Служба "База данных Azure для службы PostgreSQL" обеспечивает гарантированный высокий уровень доступности. Платные соглашения об уровне обслуживания обеспечивают доступность 99,99% в общедоступной версии. При использовании этой службы время простоя приложений практически отсутствует.

## <a name="high-availability"></a>Высокий уровень доступности
Модель высокого уровня доступности (HA) основана на встроенных механизмах отработки отказа, срабатывающих при прерывании работы на уровне узла. Прерывание работы на уровне узла может произойти из-за сбоя оборудования или в ответ на развертывание службы.

Изменения, вносимые в сервер базы данных Azure для PostgreSQL, происходят в контексте транзакции на постоянной основе. Изменения синхронно записываются в службу хранилища Azure, когда транзакция фиксируется. В случае прерывания работы на уровне узла сервер базы данных автоматически создает новый узел и подключает к нему хранилище данных. Все активные подключения прерываются, а все текущие транзакции не фиксируются.

## <a name="application-retry-logic-is-essential"></a>Важность логики повтора в приложении
Очень важно, чтобы приложения базы данных PostgreSQL могли обнаруживать и восстанавливать прерванные подключения и повторять поврежденные транзакции. Когда приложение повторяет попытку операции, его подключение прозрачно перенаправляется к вновь созданному экземпляру, который заменяет поврежденный экземпляр.

Внутри платформы Azure для перенаправления подключений к новому экземпляру используется шлюз. После прерывания весь процесс отработки отказа обычно занимает десятки секунд. Так как перенаправление внутренне обрабатывается шлюзом, внешняя строка подключения остается неизменной для клиентских приложений.

## <a name="scaling-up-or-down"></a>Увеличение или уменьшение масштаба
Как и в модели высокого уровня доступности, при масштабировании базы данных Azure для PostgreSQL создается новый экземпляр сервера с указанным размером. Существующее хранилище данных отключается от исходного экземпляра и подключается к новому экземпляру.

Во время операции масштабирования происходит прерывание подключений к базе данных. Клиентские приложения отключаются, а открытые незафиксированные транзакции отменяются. Когда клиентское приложение предпринимает попытку восстановить подключение или устанавливает новое подключение, шлюз направляет это подключение к экземпляру с новым размером. 

## <a name="next-steps"></a>Дальнейшие действия
- Ознакомьтесь с дополнительными сведениями об [обработке временных ошибок подключения](concepts-connectivity.md).
- Чтобы узнать, как реплицировать данные с репликами для чтения, см. [здесь](howto-read-replicas-portal.md).
