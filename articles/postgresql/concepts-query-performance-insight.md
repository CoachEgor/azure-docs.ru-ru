---
title: Запрос Performance Insight - База данных Azure для PostgreS-L - Единый сервер
description: В этой статье описывается функция анализа производительности запросов в базе данных Azure для PostgreS-L - Single Server.
author: rachel-msft
ms.author: raagyema
ms.service: postgresql
ms.topic: conceptual
ms.date: 08/21/2019
ms.openlocfilehash: dd5b4ec53d82421ddd9d680ca41e48eeecc43c2c
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "74768390"
---
# <a name="query-performance-insight"></a>Анализ производительности запросов 

**Применяется к:** База данных Azure для PostgreS'L - Версии для одного сервера 9.6, 10, 11

Этот компонент помогает быстро определить наиболее медленно выполняющиеся запросы, их изменение со временем и ожидания каких действий влияют на них.

## <a name="permissions"></a>Разрешения
Чтобы просматривать текст запросов в анализе производительности запросов, требуются разрешения **Владельца** или **Участника**. **Модуль чтения** может просматривать графики и таблицы, но не текст запросов.

## <a name="prerequisites"></a>Предварительные требования
Чтобы компонент "Анализ производительности запросов" работал, данные должны находиться в [хранилище запросов](concepts-query-store.md).

## <a name="viewing-performance-insights"></a>Просмотр анализа производительности
Представление [анализа производительности запросов](concepts-query-performance-insight.md) на портале Azure содержит визуализации ключевых данных из хранилища запросов. 

На странице портала базы данных Azure для сервера PostgreS'L выберите **«Анализ производительности» в** разделе **Интеллектуальная производительность** панели меню.

![Анализ производительности медленно выполняющихся запросов](./media/concepts-query-performance-insight/query-performance-insight-landing-page.png)

Вкладка **Длинные запросы** показывает пять основных запросов по средней продолжительности исполнения, агрегированные в 15-минутных интервалах. Дополнительные запросы можно выбрать в раскрывающемся списке **Количество запросов**. При этом цвета, соответствующие тому или иному идентификатору запроса на графике, могут изменяться.

Чтобы уменьшить временной интервал графика, перетащите его границу. Кроме того, для просмотра более коротких или более длинных периодов используйте соответственно значки увеличения и уменьшения масштаба.

Дополнительные сведения о медленно выполняющихся запросах за выбранный временной интервал см. в таблице под графиком.

Откройте вкладку **Статистика ожидания**, чтобы посмотреть визуализации ожидания на сервере.

![Запрос Performance Insight ждет статистики](./media/concepts-query-performance-insight/query-performance-insight-wait-statistics.png)

## <a name="considerations"></a>Рекомендации
* Запрос Performance Insight недоступен для [прочитаных реплик.](concepts-read-replicas.md)

## <a name="next-steps"></a>Дальнейшие действия
- Дополнительные сведения о [мониторинге и настройке](concepts-monitoring.md) см. в базе данных Azure для PostgreSQL.


