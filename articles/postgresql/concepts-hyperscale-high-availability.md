---
title: Высокая доступность — масштабирование (Цитус) — база данных Azure для PostgreSQL
description: Основные понятия высокого уровня доступности и аварийного восстановления
author: jonels-msft
ms.author: jonels
ms.service: postgresql
ms.subservice: hyperscale-citus
ms.topic: conceptual
ms.date: 11/04/2019
ms.openlocfilehash: 10679ab02826fb606af65c72621f2afb609bc81b
ms.sourcegitcommit: 5ab4f7a81d04a58f235071240718dfae3f1b370b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2019
ms.locfileid: "74975539"
---
# <a name="high-availability-in-azure-database-for-postgresql--hyperscale-citus"></a>Высокий уровень доступности в базе данных Azure для PostgreSQL — масштабирование (Цитус)

Функция высокого уровня доступности (HA) позволяет минимизировать время простоя базы данных за счет поддержания резервных реплик каждого узла в группе серверов. В случае сбоя узла при использовании варианта развертывания "Гипермасштабирование" входящие подключения переключаются с узла, на котором произошел сбой, на его резервную реплику. Отработка отказа выполняется в течение нескольких минут. Узлы, для которых повышается уровень, всегда получают свежие данные посредством синхронной потоковой репликации PostgreSQL.

Чтобы воспользоваться преимуществами высокой доступности на узле координатора, приложения базы данных должны обнаружить и повторить удаленные соединения и неудачные транзакции. Вновь повышенный координатор будет доступен с той же строкой подключения.

Восстановление можно разделить на три этапа: обнаружение, отработка отказа и полное восстановление.  Масштабирование выполняет периодические проверки работоспособности на каждом узле, а после четырех неудачных проверок он определяет, что узел не работает. Затем масштабирование переводит состояние ожидания в первичный узел (отработка отказа) и подготавливает новую резервную копию.
Начнется репликация потоковой передачи с новым узлом в актуальном состоянии.  После репликации всех данных узел достиг полного восстановления.

### <a name="next-steps"></a>Дальнейшие действия

- Узнайте, как [включить высокий уровень доступности](howto-hyperscale-high-availability.md) в группе серверов с масштабированием.
