---
title: Высокая доступность — масштабирование (Цитус) — база данных Azure для PostgreSQL
description: Основные понятия высокого уровня доступности и аварийного восстановления
author: jonels-msft
ms.author: jonels
ms.service: postgresql
ms.subservice: hyperscale-citus
ms.topic: conceptual
ms.date: 11/04/2019
ms.openlocfilehash: 10679ab02826fb606af65c72621f2afb609bc81b
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "74975539"
---
# <a name="high-availability-in-azure-database-for-postgresql--hyperscale-citus"></a>Высокий уровень доступности в базе данных Azure для PostgreSQL — масштабирование (Цитус)

Высокая доступность (HA) позволяет избежать простоя базы данных за счет поддержания резервных реплик каждого узла в группе серверов. Если узел выходит из строя, он переключает входящие подключения с сбойного узла на резервный. Отработка отказа происходит в течение нескольких минут, а повышенные узлы всегда имеют актуальные данные через синхронную потоковую репликацию PostgreSQL.

Чтобы воспользоваться преимуществами высокой доступности на узле координатора, приложения базы данных должны обнаружить и повторить удаленные соединения и неудачные транзакции. Вновь повышенный координатор будет доступен с той же строкой подключения.

Восстановление можно разделить на три этапа: обнаружение, отработка отказа и полное восстановление.  Масштабирование выполняет периодические проверки работоспособности на каждом узле, а после четырех неудачных проверок он определяет, что узел не работает. Затем масштабирование переводит состояние ожидания в первичный узел (отработка отказа) и подготавливает новую резервную копию.
Начнется репликация потоковой передачи с новым узлом в актуальном состоянии.  После репликации всех данных узел достиг полного восстановления.

### <a name="next-steps"></a>Дальнейшие действия

- Узнайте, как [включить высокий уровень доступности](howto-hyperscale-high-availability.md) в группе серверов с масштабированием.
