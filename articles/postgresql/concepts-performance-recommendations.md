---
title: Рекомендации по производительности в базе данных Azure для PostgreSQL — один сервер
description: В этой статье описывается функция рекомендации по повышению производительности в базе данных Azure для PostgreSQL-Single Server.
author: rachel-msft
ms.author: raagyema
ms.service: postgresql
ms.topic: conceptual
ms.date: 08/21/2019
ms.openlocfilehash: e1e9e998c2ac4695d955a546d0f02fbc2b517d5e
ms.sourcegitcommit: beb34addde46583b6d30c2872478872552af30a1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/22/2019
ms.locfileid: "69907478"
---
# <a name="performance-recommendations-in-azure-database-for-postgresql---single-server"></a>Рекомендации по производительности в базе данных Azure для PostgreSQL — один сервер

**Применимо к:** База данных Azure для PostgreSQL — один сервер 9,6 и 10

Функция рекомендаций по производительности анализирует базы данных, чтобы создать настраиваемые предложения для повышения производительности. Для получения рекомендаций анализ рассматривает различные характеристики базы данных, включая схему. Включите [хранилище запросов](concepts-query-store.md) на сервере, чтобы полностью использовать функцию "рекомендации по повышению производительности". После реализации каких-либо рекомендаций по производительности следует протестировать производительность, чтобы оценить влияние этих изменений. 

## <a name="permissions"></a>Разрешения
Для выполнения анализа с помощью функции рекомендаций по повышению производительности требуются разрешения **владельца** или **участника**.

## <a name="performance-recommendations"></a>Рекомендации по производительности
Функция [рекомендаций по повышению производительности](concepts-performance-recommendations.md) анализирует рабочие нагрузки на сервере и определяет, какие индексы могут помочь в повышении производительности.

Откройте **рекомендации по повышению производительности** в разделе **Интеллектуальная производительность** строки меню на странице портал Azure сервера PostgreSQL.

![Целевая страница рекомендаций по повышению производительности](./media/concepts-performance-recommendations/performance-recommendations-page.png)

Выберите **анализ** и выберите базу данных, которая начнет анализ. В зависимости от рабочей нагрузки, выполнение анализа может занять несколько минут. По окончании анализа на портале появится уведомление. Анализ выполняет глубокое изучение базы данных. Рекомендуется выполнять анализ в периоды наименьшей нагрузки. 

В окне **рекомендации** отобразится список рекомендаций, если они были найдены.

![Новая страница рекомендаций по производительности](./media/concepts-performance-recommendations/performance-recommendations-result.png)

Рекомендации не применяются автоматически. Чтобы применить рекомендацию, скопируйте текст запроса и запустите его из выбранного клиента. Не забудьте протестировать и отслеживать его, чтобы оценить рекомендацию. 

## <a name="recommendation-types"></a>Типы рекомендаций

В настоящее время поддерживаются два типа рекомендаций: *Создание индекса* и *Удаление индекса*.

### <a name="create-index-recommendations"></a>Рекомендации по созданию индексов
Рекомендации по *созданию индекса* предлагают новые индексы для ускорения наиболее часто выполняемых и длительных запросов в рабочей нагрузке. Этот тип рекомендации требует, чтобы [хранилище запросов](concepts-query-store.md) было включено. Хранилище запросов собирает сведения о запросах и предоставляет подробную статистику времени выполнения запросов и частоту, которую анализ использует для создания рекомендаций.

### <a name="drop-index-recommendations"></a>Рекомендации по удалению индексов
Помимо обнаружения отсутствующих индексов, база данных Azure для PostgreSQL анализирует производительность существующих индексов. Если индекс редко используется или избыточен, анализатор рекомендует удалить его.

## <a name="considerations"></a>Рекомендации
* Рекомендации по производительности недоступны для [реплик чтения](concepts-read-replicas.md).
## <a name="next-steps"></a>Следующие шаги
- Дополнительные сведения о [мониторинге и настройке](concepts-monitoring.md) см. в базе данных Azure для PostgreSQL.

