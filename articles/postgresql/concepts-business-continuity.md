---
title: Непрерывность бизнеса - База данных Azure для PostgreS-L - Единый сервер
description: В этой статье описывается непрерывность бизнеса (точка восстановления времени, сбой в работе центра обработки данных, геовосстановление) при использовании базы данных Azure для PostgreS'L.
author: rachel-msft
ms.author: raagyema
ms.service: postgresql
ms.topic: conceptual
ms.date: 08/21/2019
ms.openlocfilehash: afa03399933bdc8bd8ff869125955cfd9e0abecb
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "75981932"
---
# <a name="overview-of-business-continuity-with-azure-database-for-postgresql---single-server"></a>Обзор непрерывности бизнеса с базой данных Azure для PostgreS-L - Единый сервер

Здесь описываются возможности службы "База данных Azure для PostgreSQL" по обеспечению непрерывности бизнес-процессов и аварийного восстановления. Вы узнаете о способах восстановления после аварийных событий, которые могут приводить к потере данных или недоступности базы данных и приложений. Здесь также содержатся сведения о том, как действовать в ситуациях, когда ошибка пользователя или приложения нарушает целостность данных, происходит сбой региона Azure или приложение требует обслуживания.

## <a name="features-that-you-can-use-to-provide-business-continuity"></a>Функции, которые можно использовать для обеспечения непрерывности бизнес-процессов

Служба "База данных Azure для PostgreSQL" предоставляет возможности обеспечения непрерывности бизнеса, к которым относятся автоматическое резервное копирование и возможность для пользователей инициировать геовосстановление. У каждой из этих функций разные параметры оценки времени восстановления (ERT) и возможной потери данных. Узнав, на что влияют эти параметры, вы сможете выбирать те, которые вам подходят, и использовать их вместе в различных сценариях. При разработке плана обеспечения непрерывности бизнес-процессов нужно понимать, какое максимальное время до полного восстановления приложения после аварийного события допустимо. Это целевое время восстановления (RTO). Необходимо также понимать, какой максимальный объем потери последних обновлений данных (т. е. за какой интервал времени) в приложении допустим при восстановлении после аварийного события. Это целевая точка восстановления (RPO).

В приведенной ниже таблице сравниваются ERT и RPO для доступных функций:

| **Функция** | **Basic** | **Общая цель** | **Оптимизирована память** |
| :------------: | :-------: | :-----------------: | :------------------: |
| Восстановление до точки во времени из резервной копии | Любая точка восстановления в пределах срока хранения | Любая точка восстановления в пределах срока хранения | Любая точка восстановления в пределах срока хранения |
| Геовосстановление из геореплицированных резервных копий | Не поддерживается | ERT < 12 ч<br/>RPO < 1 ч | ERT < 12 ч<br/>RPO < 1 ч |

> [!IMPORTANT]
> Удаленные серверы **нельзя** восстановить. Если вы удалите сервер, все связанные с ним базы данных также будут удалены без возможности восстановления. Используйте [блокировку ресурсов Azure,](../azure-resource-manager/management/lock-resources.md) чтобы предотвратить случайное удаление сервера.

## <a name="recover-a-server-after-a-user-or-application-error"></a>Восстановление сервера после ошибки пользователя или приложения

Резервные копии сервера позволяют восстановить его после различных аварийных событий. Например, пользователь может случайно удалить данные, важную таблицу или даже всю базу данных, приложение может случайно перезаписать важные данные неверной информацией из-за внутренней ошибки, и т. д.

Вы можете выполнить **момент времени восстановления** для создания копии вашего сервера в известный хороший момент во времени. Этот момент должен находиться в пределах срока хранения резервной копии, который был настроен для сервера. После восстановления данных на новый сервер можно либо заменить исходный сервер только что восстановленным, либо скопировать необходимые данные с восстановленного сервера на исходный.

## <a name="recover-from-an-azure-data-center-outage"></a>Восстановление после срана центра обработки данных Azure

В редких случаях возможен сбой центра обработки данных Azure. Такой сбой вызывает нарушение работы компании, которое может длиться от нескольких минут до нескольких часов.

Один из вариантов — дождаться возобновления работы сервера после того, как сбой центра обработки данных будет устранен. Это работает для приложений, сервер которых можно отключить на некоторое время, например для среды разработки. Когда в центре обработки данных наблюдается сбой, вы не знаете, как долго может продолжаться сбой, поэтому эта опция работает только в том случае, если сервер не нужен.

## <a name="geo-restore"></a>геовосстановлением;

Функция геовосстановления восстанавливает сервер с помощью геоизмотливых резервных копирований. Резервные ожидания размещаются в [парном регионе](../best-practices-availability-paired-regions.md)сервера. Вы можете восстановить из этих резервных копирований в любой другой регион. Геовосстановление создает новый сервер с данными из резервных данных. Узнайте больше о геовосстановлении из [статьи резервного копирования и восстановления концепций](concepts-backup.md).

> [!IMPORTANT]
> Геовосстановление возможно только в том случае, если сервер был подготовлен с геоизбыточным хранилищем резервных копий. Если вы хотите переключиться с локально избыточных на геоизбыточные резервные копии на существующем сервере, необходимо с помощью pg_dump сделать дамп имеющегося сервера и восстановить его на только что созданном сервере, где настроено геоизбыточное резервное копирование.

## <a name="cross-region-read-replicas"></a>Кросс-регион читать реплики
Вы можете использовать реплики чтения по перекрестному региону для повышения непрерывности бизнеса и планирования аварийного восстановления. Прочитанные реплики обновляются асинхронно с использованием технологии физической репликации PostgreS'L. Узнайте больше о прочитанном репликах, доступных регионах и о том, как не переутомиться из [статьи о концепциях прочитан реплик.](concepts-read-replicas.md) 

## <a name="next-steps"></a>Дальнейшие действия
- Дополнительные сведения об автоматическом создании резервных копий см. в [этой статье](concepts-backup.md). 
- Дополнительные сведения см. в статьях [Как заархивировать и восстановить сервер в базе данных Azure для PostgreSQL с помощью портала Azure](howto-restore-server-portal.md) или [Как выполнить резервное копирование и восстановление сервера в базе данных Azure для PostgreSQL с помощью Azure CLI](howto-restore-server-cli.md).
- См. дополнительные сведения в статье [Реплики чтения в Базе данных Azure для PostgreSQL](concepts-read-replicas.md).