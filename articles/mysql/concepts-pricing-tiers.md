---
title: Ценовые категории службы "База данных Azure для MySQL"
description: Узнайте о различных уровнях ценообразования для базы данных Azure для MyS'L, включая поколения вычислений, типы хранения, размер хранилища, vCores, память и периоды хранения резервного копирования.
author: jan-eng
ms.author: janeng
ms.service: mysql
ms.topic: conceptual
ms.date: 02/25/2020
ms.openlocfilehash: cf959112a2a717da1005be062dda3b83163d8d6c
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "79269449"
---
# <a name="azure-database-for-mysql-pricing-tiers"></a>Ценовые категории службы "База данных Azure для MySQL"

Вы можете создать сервер службы "База данных Azure для MySQL" в одной из трех ценовых категорий: "Базовый", "Общего назначения" и "С оптимизацией для операций в памяти". Ценовые категории различаются объемом вычислительных ресурсов в виртуальных ядрах, которые можно подготовить, объемом памяти на виртуальное ядро и технологиями хранения данных. Все ресурсы настраиваются на уровне сервера MySQL. У сервера может быть одна или несколько баз данных.

|    | **Basic** | **Общая цель** | **С оптимизацией для операций в памяти** |
|:---|:----------|:--------------------|:---------------------|
| Поколение вычислительных ресурсов | Поколение 4, поколение 5 | Поколение 4, поколение 5 | Поколение 5 |
| Виртуальные ядра | 1, 2 | 2, 4, 8, 16, 32, 64 |2, 4, 8, 16, 32 |
| Объем памяти на виртуальное ядро | 2 ГБ | 5 ГБ | 10 ГБ |
| Объем памяти | От 5 ГБ до 1 ТБ | От 5 ГБ до 16 ТБ | От 5 ГБ до 16 ТБ |
| Срок хранения резервной копии | От 7 до 35 дней | От 7 до 35 дней | От 7 до 35 дней |

Чтобы выбрать ценовую категорию, в качестве отправной точки используйте следующую таблицу.

| Ценовая категория | Целевые рабочие нагрузки |
|:-------------|:-----------------|
| Basic | Рабочие нагрузки с невысокими вычислительными потребностями и производительностью операций ввода-вывода. В качестве примера можно привести серверы, используемые для разработки или тестирования, или небольшие редко используемые приложения. |
| Общее назначение | Для решения большинства бизнес-задач требуются сбалансированные вычислительные ресурсы и память с масштабируемой пропускной способностью операций ввода-вывода. К примерам относятся серверы для размещения мобильных и веб-приложений, а также других корпоративных приложений.|
| С оптимизацией для операций в памяти | Рабочие нагрузки с высокой производительностью базы данных, требующие эффективной обработки данных в памяти для быстрого выполнения транзакций и повышения уровня параллелизма. К примерам относятся серверы для обработки данных в режиме реального времени, а также аналитические или транзакционные приложения с высоким уровнем производительности.|

После создания сервера количество виртуальных ядер, поколение оборудования и ценовую категорию (кроме переключения на категорию "Базовый" и с нее) можно увеличить и уменьшить в считаные секунды. Кроме того, можно независимо друг от друга увеличивать и уменьшать объем хранилища и срок хранения резервных копий без простоя приложения. После создания сервера невозможно изменить тип хранилища резервных копий. Для получения дополнительной информации смотрите раздел [ресурсов шкалы.](#scale-resources)

## <a name="compute-generations-and-vcores"></a>Поколения вычислительных ресурсов и виртуальные ядра

Вычислительные ресурсы поставляются в виде виртуальных ядер, которые представляют собой логические ЦП основного оборудования. China East 1, China North 1, US DoD Central и US DoD East используют логические процессоры Gen 4, основанные на процессорах Intel E5-2673 v3 (Haswell) 2,4 ГГц. Во всех остальных регионах используются логические процессоры Gen 5, основанные на процессорах Intel E5-2673 v4 (Broadwell) 2,3 ГГц.

## <a name="storage"></a>Хранилище

Хранилище, которое вы подготавливаете, определяет объем доступной емкости хранилища для сервера службы "База данных Azure для MySQL". Хранилище используется для файлов базы данных, временных файлов, журналов транзакций и журналов сервера MySQL. Общий объем хранилища, который вы подготовили, также определяет доступную производительность операций ввода-вывода для сервера.

|    | **Basic** | **Общая цель** | **С оптимизацией для операций в памяти** |
|:---|:----------|:--------------------|:---------------------|
| Тип хранилища | Базовое хранилище | Хранение общего назначения | Хранение общего назначения |
| Объем памяти | От 5 ГБ до 1 ТБ | От 5 ГБ до 16 ТБ | От 5 ГБ до 16 ТБ |
| Шаг приращения хранилища | 1 ГБ | 1 ГБ | 1 ГБ |
| ОПЕРАЦИЙ ВВОДА-ВЫВОДА | Переменная |3 операции ввода-вывода в секунду на ГБ<br/>Минимум 100 операций ввода-вывода в секунду<br/>Макс 20,000 IOPS | 3 операции ввода-вывода в секунду на ГБ<br/>Минимум 100 операций ввода-вывода в секунду<br/>Макс 20,000 IOPS |

> [!NOTE]
> Хранение до 16 ТБ и 20 000 IOPS поддерживается в следующих регионах: Восточная ЧАСТЬ США, Восток США 2, Центральная часть США, Западная ЧАСТЬ США, Северо-Центральная ЧАСТЬ США, Северная Европа, Западная Европа, Великобритания, Запад, юго-восточная Азия, Восточная Азия, Япония Восток, Япония Западная, Корея , Корея, Южная, Австралия Восток, Австралия на юго-востоке.
>
> Все остальные регионы поддерживают до 4 ТБ хранения и до 6000 IOPS.
>

Вы можете добавить дополнительную емкость хранилища во время и после создания сервера, и позволить системе расти хранения автоматически на основе потребления памяти вашей рабочей нагрузки. 

>[!NOTE]
> Хранение можно только масштабировать, а не сокращать.

Для ценовой категории "Базовый" фиксированное число операций ввода-вывода в секунду не гарантируется. В категориях "Общего назначения" и "С оптимизацией для операций в памяти" показатель операций ввода-вывода в секунду соотносится с подготовленным размером хранилища как 3 к 1.

Вы можете отслеживать показатель операций ввода-вывода на портале Azure или с помощью команд Azure CLI. Соответствующими показателями для мониторинга являются [лимит хранения, процент хранения, используемое хранилище и процент io.100.](concepts-monitoring.md)

### <a name="reaching-the-storage-limit"></a>Достигнут размер хранилища

Серверы с объемом хранения менее 100 ГБ помечены только для чтения, если свободное хранилище составляет менее 5% от объема резервированного хранилища. Серверы с подготовленным хранилищем более чем на 100 ГБ помечаются как доступные только для чтения, когда остается менее 5 ГБ свободного хранилища.

Например, если у вас предусмотрено 110 ГБ памяти, а фактическое использование составляет более 105 ГБ, сервер помечается только для чтения. Кроме того, если у вас есть обеспеченные 5 ГБ памяти, сервер помечен только читать, когда свободное хранилище достигает менее 256 МБ.

Пока служба пытается пометить сервер как доступный только для чтения, блокируются все новые запросы на запись транзакций, а выполнение существующих активных транзакций продолжается. Если сервер помечен как доступный только для чтения, все последующие операции записи и фиксации транзакций не выполняются. Запросы на чтение продолжат обрабатываться без перерыва. После повышения емкости подготовленного хранилища сервер снова будет готов к принятию транзакций записи.

Мы рекомендуем включить автоматическое увеличение хранилища или настроить оповещение, чтобы уведомить вас о приближении к порогу хранилища сервера, чтобы избежать попадания в состояние, находящееся только для чтения. Дополнительные сведения см. в статье о том, [как настроить оповещение](howto-alert-on-metric.md).

### <a name="storage-auto-grow"></a>Автоматическое хранение

Автоматическое хранение данных предотвращает запуск сервера и становится только для чтения. Если автоматическое выращивание хранилища включено, хранилище автоматически растет, не влияя на рабочую нагрузку. Для серверов с объемом менее 100 ГБ предусмотренного хранилища размер резерва увеличивается на 5 ГБ, когда свободное хранилище находится ниже 10% от объема резервированного хранилища. Для серверов с более чем 100 ГБ подготовленного хранилища размер резерва увеличивается на 5%, когда свободное пространство для хранения ниже 10 ГБ от предусмотренного размера хранилища. Применяются максимальные лимиты хранения, указанные выше.

Например, если у вас предусмотрено 1000 ГБ памяти, а фактическое использование составляет более 990 ГБ, размер хранилища сервера увеличивается до 1050 ГБ. Кроме того, если у вас есть предусмотренные 10 ГБ памяти, размер хранилища увеличивается до 15 ГБ, когда менее 1 ГБ памяти бесплатно.

Помните, что хранилище можно только масштабировать, а не вниз.

## <a name="backup"></a>Резервное копирование

В службе автоматически создаются резервные копии сервера. Вы можете выбрать период удержания от 7 до 35 дней. Серверы общего назначения и оптимизации памяти могут выбрать гео-избыточное хранилище для резервного копирования. Подробнее о резервных копированиях читайте в [статье о концепциях](concepts-backup.md).

## <a name="scale-resources"></a>Масштабирование ресурсов

После создания сервера можно независимо друг от друга изменять количество виртуальных ядер, поколение оборудования, ценовую категорию (кроме переключения на категорию "Базовый" и с нее), объем хранилища и срок хранения резервных копий. После создания сервера невозможно изменить тип хранилища резервных копий. Число виртуальных ядер можно увеличивать или уменьшать. Срок хранения резервных копий можно увеличивать и уменьшать в диапазоне от 7 до 35 дней. Размер хранилища можно только увеличить. Масштабирование ресурсов можно выполнить с помощью портала или Azure CLI. Пример масштабирования с помощью CLI см. в статье [Мониторинг и масштабирование сервера базы данных Azure для MySQL с помощью Azure CLI](scripts/sample-scale-server.md).

При изменении количества виртуальных ядер, поколения оборудования или ценовой категории создается копия сервера-источника с новым распределением вычислительных ресурсов. После того как новый сервер заработает, подключения переключатся на него. Во время перехода системы на новый сервер нельзя будет установить новые подключения, а для всех незафиксированных транзакций будет выполнен откат. Длительность этого промежутка может быть разной, но, как правило, он составляет меньше минуты.

Масштабирование хранилища и изменение срока хранения резервных копий — это полностью интерактивные операции. Они не останавливают работу приложения и не влияют на нее. Так как количество операций ввода-вывода в секунду возрастает по мере увеличения размера подготовленного хранилища, вы можете увеличивать количество доступных операций ввода-вывода на сервере путем масштабирования хранилища.

## <a name="pricing"></a>Цены

Наиболее актуальные сведения о стоимости см. в статье [Цены на Базу данных Azure для PostgreSQL](https://azure.microsoft.com/pricing/details/mysql/). Расходы на вашу конфигурацию можно посмотреть на [портале Azure](https://portal.azure.com/#create/Microsoft.MySQLServer). На вкладке **Ценовая категория** отображается ежемесячная стоимость выбранных параметров. Если у вас нет подписки Azure, для расчета цены можно воспользоваться калькулятором цен Azure. На сайте с [калькулятором цен Azure](https://azure.microsoft.com/pricing/calculator/) нажмите кнопку **Добавить элементы**, разверните категорию **Базы данных** и выберите **База данных Azure для MySQL**, чтобы настроить параметры.

## <a name="next-steps"></a>Дальнейшие действия

- Узнайте, как [создать сервер MySQL на портале](howto-create-manage-server-portal.md).
- Дополнительные сведения см. в статье [Ограничения в базе данных Azure для PostgreSQL](concepts-limits.md).
- Дополнительные сведения см. в статье [Создание реплик чтения и управление ими с помощью портала Azure](howto-read-replicas-portal.md).
