---
title: Выбор правильного типа развертывания - База данных Azure для MyS'L
description: В этой статье описывается, какие факторы следует учитывать перед развертыванием базы данных Azure для MyS'L как инфраструктуру как службу (IaaS), либо платформу как службу (PaaS).
author: kummanish
ms.author: manishku
ms.service: mysql
ms.topic: conceptual
ms.date: 12/02/2019
ms.openlocfilehash: 50bcd42189b1bcc945d726277975892f07f1baa1
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "78255533"
---
# <a name="choose-the-right-mysql-server-option-in-azure"></a>Выберите правильный вариант MyS'L Server в Azure

С помощью Azure рабочие нагрузки сервера MyS'L могут работать в размещенной виртуальной инфраструктуре машин в качестве службы (IaaS) или в качестве платформы для хостинга в качестве службы (PaaS). PaaS имеет несколько вариантов развертывания, и в каждом варианте развертывания есть уровни обслуживания. При выборе между IaaS и PaaS необходимо решить, хотите ли вы управлять базой данных, применять патчи и делать резервные отработки, или если вы хотите делегировать эти операции Azure.

При принятии решения рассмотрите следующие два варианта:

- **База данных Azure для MyS'L**. Эта опция представляет собой полностью управляемый движок базы данных MyS'L, основанный на стабильной версии сообщества MyS'L. Эта реляционная база данных как услуга (DBaaS), размещенная на облачной платформе Azure, относится к отраслевой категории PaaS.

  С управляемым экземпляром MyS'L в Azure можно использовать встроенные функции, которые в противном случае требуют обширной конфигурации, когда MyS'L Server находится либо в помещении, либо в Azure VM.

  При использовании MyS'L в качестве услуги, вы платите, как вы идете с вариантами для масштабирования или масштабирования для большего контроля без перерыва. И в отличие от автономного сервера MyS'L, база данных Azure для MyS'L имеет дополнительные функции, такие как встроенная высокая доступность, интеллект и управление.

- **MyS'L на Azure VMs**. Этот вариант относится к отраслевой категории IaaS. С помощью этого сервиса вы можете запустить MyS'L Server внутри полностью управляемой виртуальной машины на облачной платформе Azure. Все последние версии и издания MyS'L могут быть установлены на виртуальной машине IaaS.

  В наиболее существенном отличии от базы данных Azure для MyS'L, MyS'L на Azure VMs предлагает контроль над движком базы данных. Тем не менее, этот контроль происходит за счет ответственности за управление ввоком и многие задачи администрирования баз данных (DBA). Эти задачи включают в себя обслуживание и исправление серверов баз данных, восстановление базы данных и проектирование высокой доступности.

Основные различия между этими вариантами показаны в приведенной ниже таблице.

|            | База данных Azure для MySQL | MyS'L на Azure VMs    |
|:-------------------|:-----------------------------|:--------------------|
| Соглашение об уровне обслуживания (SLA)                | Предложения SLA 99.99% доступности| До 99,95% доступности с двумя или более экземплярами в том же наборе доступности.<br/><br/>99,9% доступности с одним экземпляром VM с использованием премиум-памяти.<br/><br/>99,99% используют зоны доступности с несколькими экземплярами в наборах нескольких доступных.<br/><br/>Смотрите [виртуальные машины SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines/v1_8/). |
| Исправление операционной системы        | Автоматически  | Управляется клиентами |
| Исправление MyS'L     | Автоматически  | Управляется клиентами |
| Высокий уровень доступности | Модель высокой доступности (HA) основана на встроенных механизмах сбоя при прерывании уровня узла. В таких случаях служба автоматически создает новый экземпляр и прикрепляет хранилище к данному экземпляру. | Заказчики проектируют, реализуют, тестируют и поддерживают высокую доступность. Возможности могут включать кластеризацию, репликацию и т.д.|
| Избыточность в пределах зоны | Сейчас не поддерживаются: | Для запуска в различных зонах доступности можно настроить VMs Azure. Для создания собственного решения для создания, управления и обслуживания собственного вторичного центра обработки данных необходимо создать, управлять и поддерживать их собственный вторичный центр обработки данных.|
| Гибридные сценарии | С [помощью репликации Data-in](https://docs.microsoft.com/azure/mysql/concepts-data-in-replication)вы можете синхронизировать данные с внешнего сервера MyS'L в базу данных Azure для службы MyS'L. Внешний сервер может быть локальным, на виртуальных машинах или в службе базы данных, размещенной другими поставщиками облачных служб.<br/><br/> С помощью функции [воспроизведения реплики чтения](https://docs.microsoft.com/azure/mysql/concepts-read-replicas) можно реплицировать данные из базы данных Azure для главного сервера MyS'L до пяти серверов реплики только для чтения. Реплики находятся в пределах одного региона Azure или в разных регионах. Только для чтения реплики асинхронно обновляются с помощью технологии репликации бинлогов.| Управляется клиентами
| Резервное копирование и восстановление | Автоматически создает [резервные копии сервера](https://docs.microsoft.com/azure/mysql/concepts-backup#backups) и хранит их в локально настроенном хранилище, которое является либо локально излишним, либо георезервным. Служба занимает полное, дифференциальное и резервное копирование журналов транзакций | Управляется клиентами |
| Мониторинг операций баз данных | Предлагает клиентам возможность [устанавливать оповещения](https://docs.microsoft.com/azure/mysql/concepts-monitoring) об операции базы данных и действовать по достижении пороговых значений. | Управляется клиентами |
| Расширенная защита от угроз | Обеспечивает [расширенную защиту от угроз.](https://docs.microsoft.com/azure/mysql/howto-database-threat-protection-portal) Эта защита обнаруживает аномальные действия, которые указывают на необычные и потенциально опасные попытки получить доступ к базам данных или эксплуатировать их. | Клиенты должны создать эту защиту для себя.
| Аварийное восстановление | Хранит автоматизированные резервные копии в локально настроенном [локальном или геолинейном хранилище.](https://docs.microsoft.com/azure/mysql/howto-restore-server-portal) Резервное копирование также может восстановить сервер в точку времени. Срок хранения составляет от 7 до 35 дней. Восстановление осуществляется с помощью портала Azure. | Полностью управляется клиентами. Обязанности включают в себя, но не ограничиваются планированием, тестированием, архивированием, хранением и удержанием. Дополнительная опция заключается в использовании хранилища служб восстановления Azure для резервного копирования VMs-м и баз данных на vMs- ими. Эта опция находится в предварительном просмотре. |
| Рекомендации по производительности | Предоставляет клиентам [рекомендации по производительности](https://techcommunity.microsoft.com/t5/Azure-Database-for-MySQL/Azure-brings-intelligence-and-high-performance-to-Azure-Database/ba-p/769110) на основе системных файлов журнала использования. Рекомендации помогают оптимизировать рабочие нагрузки. | Управляется клиентами |

## <a name="business-motivations-for-choosing-paas-or-iaas"></a>Бизнес-мотивация для выбора PaaS или IaaS

Есть несколько факторов, которые могут повлиять на ваше решение выбрать PaaS или IaaS для размещения баз данных MyS'L.

### <a name="cost"></a>Стоимость

Ограниченное финансирование часто является основным соображением, определяющим наилучшее решение для размещения баз данных. Это верно независимо от того, являетесь ли вы стартапом с небольшимколичеством денег или командой в созданной компании, которая работает в условиях жестких бюджетных ограничений. В этом разделе описаны основы выставления счетов и лицензирования в Azure, поскольку они применяются к базе данных Azure для MyS'L и MyS'L на Azure VMs.

#### <a name="billing"></a>Выставление счетов

База данных Azure для MyS'L в настоящее время доступна в качестве службы в нескольких уровнях с различными ценами на ресурсы. Все ресурсы выставляются почасовой оплаты по фиксированной ставке. Для получения последней информации о поддерживаемых в настоящее время уровнях обслуживания, размерах вычислений и объемах хранения [данных](https://docs.microsoft.com/azure/mysql/concepts-pricing-tiers)см. Вы можете динамически настроить уровни обслуживания и вычислить размеры в соответствии с разнообразными потребностями в емких данных приложения. Вам выставляется счет за исходящий интернет-трафик по регулярным [тарифам передачи данных.](https://azure.microsoft.com/pricing/details/data-transfers/)

С помощью базы данных Azure для MyS'L корпорация Майкрософт автоматически настраивает, исправляет и обновляет программное обеспечение базы данных. Эти автоматизированные действия снижают расходы на администрирование. Кроме того, база данных Azure для MyS'L имеет встроенные возможности [резервного копирования.](https://docs.microsoft.com/azure/mysql/concepts-backup) Эти возможности помогут вам добиться значительной экономии средств, особенно если у вас есть большое количество баз данных. В отличие от этого, с MyS'L на Azure VMs вы можете выбрать и запустить любую версию MyS'L. Независимо от того, какую версию MyS'L вы используете, вы платите за подготовленный VM и расходы на конкретный тип лицензии MyS'L, используемый.

База данных Azure для MyS'L обеспечивает встроенную высокую доступность для любого вида прерывания уровня узлов, сохраняя при этом гарантию SLA 99,99% для службы. Однако для высокой доступности баз данных в вгруппах, клиенты должны использовать такие варианты доступности, как [репликация MyS'L,](https://dev.mysql.com/doc/refman/8.0/en/replication.html) которые доступны в базе данных MyS'L. Использование поддерживаемой опции высокой доступности не предоставляет дополнительных SLA. Но это позволяет достичь более 99,99% доступности базы данных при дополнительных затратах и административных накладных расходах.

Для получения дополнительной информации о ценах см.
* [База данных Azure для ценообразования на MyS'L](https://azure.microsoft.com/pricing/details/mysql/)
* [Виртуальные цены машины](https://azure.microsoft.com/pricing/details/virtual-machines/)
* [Калькулятор цен Azure](https://azure.microsoft.com/pricing/calculator/)

### <a name="administration"></a>Администрирование

Для многих компаний решение о переходе на облачный сервис связано не только со сложностью администрирования, но и с затратами. С IaaS и PaaS, Microsoft:

- Администрирование базовой инфраструктуры.
- Автоматически реплицирует все данные для обеспечения аварийного восстановления.
- Настраивает и обновляет программное обеспечение базы данных.
- Управляет балансировкой нагрузки.
- Прозрачное сбой при сбое сервера.

В следующем перечне описаны административные соображения для каждого варианта:

* С помощью базы данных Azure для MyS'L вы можете продолжать администрировать базу данных. Но вам больше не нужно управлять движком базы данных, операционной системой или оборудованием. Примеры элементов, которые вы можете продолжать администрировать, включают:

  - Базы данных
  - Вход
  - Настройка индекса
  - Настройка запросов
  - Аудит
  - Безопасность

  Кроме того, настройка высокой доступности в другой центр обработки данных требует минимальной и не такой конфигурации или администрирования.

* Благодаря мисСЗЛ на VMs Azure у вас есть полный контроль над операционной системой и конфигурацией сервера MyS'L. С помощью VM вы решаете, когда обновлять или обновлять программное обеспечение операционной системы и базы данных. Вы также решаете, когда устанавливать дополнительное программное обеспечение, такое как антивирусное приложение. Некоторые автоматизированные функции предоставляются для значительного упрощения исправления, резервного копирования и высокой доступности. Вы можете управлять размером VM, количеством дисков и конфигурациями их хранения. Для получения дополнительной информации [см.](https://docs.microsoft.com/azure/virtual-machines/windows/sizes)

### <a name="time-to-move-to-azure"></a>Пора переходить на Azure

* База данных Azure для MyS'L является правильным решением для облачных приложений, когда производительность разработчика и быстрое время выхода на рынок новых решений имеют решающее значение. С программной функциональностью, похожей на dBA, сервис подходит для облачных архитекторов и разработчиков, поскольку снижает потребность в управлении базовой операционной системой и базой данных.

* Если вы хотите избежать времени и затрат на приобретение нового оборудования, MyS'L на Azure VMs является правильным решением для приложений, которые требуют базы данных MyS'L или доступа к функциям MyS'L на Windows или Linux. Это решение также подходит для переноса существующих приложений и баз данных в Azure в нетронутую, в тех случаях, когда база данных Azure для MyS'L плохо подходит.

  Поскольку нет необходимости изменять слои презентации, приложения и данных, вы экономите время и бюджет на переочните существующее решение. Вместо этого можно сосредоточиться на переносе всех решений в Azure и на устранении некоторых оптимизаций производительности, которые могут потребоваться платформе Azure.

## <a name="next-steps"></a>Дальнейшие действия

* Смотрите [базу данных Azure для ценообразования MyS'L](https://azure.microsoft.com/pricing/details/MySQL/).
* Начатые, [создав свой первый сервер.](https://docs.microsoft.com/azure/MySQL/quickstart-create-MySQL-server-database-using-azure-portal)
