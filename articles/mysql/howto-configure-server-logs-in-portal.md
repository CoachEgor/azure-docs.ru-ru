---
title: Доступ к медленным журналам запросов - Портал Azure - База данных Azure для MyS'L
description: В этой статье описывается, как настроить и получить доступ к медленным журналам в базе данных Azure для MyS'L с портала Azure.
author: ajlam
ms.author: andrela
ms.service: mysql
ms.topic: conceptual
ms.date: 3/18/2020
ms.openlocfilehash: 0261ff7ca8a60dc5fd986a64b9944f9cb9f101e3
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "80062497"
---
# <a name="configure-and-access-slow-query-logs-from-the-azure-portal"></a>Настройка и доступ к медленным журналам запросов с портала Azure

Вы можете настроить, перечислить и загрузить [базу данных Azure для журналов медленных запросов MyS'L](concepts-server-logs.md) с портала Azure.

## <a name="prerequisites"></a>Предварительные требования
Шаги, предусмотренные в этой статье, требуют, чтобы у вас была [база данных Azure для сервера MyS'L.](quickstart-create-mysql-server-database-using-azure-portal.md)

## <a name="configure-logging"></a>Настройка журнала
Настройте доступ к журналу медленных запросов MySQL. 

1. Войдите на [портал Azure](https://portal.azure.com/).

2. Выберите сервер базы данных Azure для MySQL.

3. В разделе **Мониторинг** в боковой панели выберите **журналы Сервера.** 
   ![Скриншот параметров журналов Сервера](./media/howto-configure-server-logs-in-portal/1-select-server-logs-configure.png)

4. Чтобы увидеть параметры сервера, выберите **Нажмите здесь, чтобы включить журналы и настроить параметры журнала.**

5. Измените параметры, которые необходимо настроить. Все изменения, вносимые в этом сеансе, выделены фиолетовым цветом. 

   После изменения параметров выберите **Сохранить**. Или вы можете отказаться от изменений.

   ![Скриншот параметров параметров сервера](./media/howto-configure-server-logs-in-portal/3-save-discard.png)

Со **страницы Параметры сервера** можно вернуться к списку журналов, закрыв страницу.

## <a name="view-list-and-download-logs"></a>Просмотр списка журналов и их скачивание
После начала регистрации можно просмотреть список доступных журналов медленных запросов и загрузить отдельные файлы журналов.

1. Откройте портал Azure.

2. Выберите сервер базы данных Azure для MySQL.

3. В разделе **Мониторинг** в боковой панели выберите **журналы Сервера.** Страница показывает список файлов журнала.

   ![Скриншот страницы журналов Server со списком выделится журналами](./media/howto-configure-server-logs-in-portal/4-server-logs-list.png)

   > [!TIP]
   > Действует следующее соглашение об именовании журналов: **mysql-slow-<имя_вашего_сервера>-ггггммддчч.log**. Дата и время, используемое в имени файла, — это время, когда был выпущен журнал. Файлы журнала вращаются каждые 24 часа или 7,5 ГБ, в зависимости от того, что наступит ра-таке. 

4. При необходимости используйте поле поиска, чтобы быстро сузить до определенного журнала, в зависимости от даты и времени. Поиск осуществляется по имени журнала.

5. Чтобы загрузить отдельные файлы журнала, выберите значок внизовой стрелки рядом с каждым файлом журнала в строке таблицы.

   ![Скриншот страницы журналов Сервера с выделенной иконой вниз-стрелки](./media/howto-configure-server-logs-in-portal/5-download.png)

## <a name="set-up-diagnostic-logs"></a>Настройка журналов диагностики

1. В разделе **Мониторинг** в боковой панели выберите **настройки диагностики Добавлены** > **диагностические настройки.**

   ![Скриншот вариантов диагностических настроек](./media/howto-configure-server-logs-in-portal/add-diagnostic-setting.png)

1. Укажите имя диагностической настройки.

1. Укажите, какие данные тонут для отправки журналов медленного запроса (учетная запись хранения, концентратор событий или рабочее пространство Log Analytics).

1. Выберите **MySqlSlowLogs** в качестве типа журнала.
![Скриншот параметров конфигурации параметров диагностических настроек](./media/howto-configure-server-logs-in-portal/configure-diagnostic-setting.png)

1. После настройки приемников данных для сравщенного медленного запроса выберите **Сохранить.**
![Скриншот параметров конфигурации диагностических настроек с выделением Сохранить](./media/howto-configure-server-logs-in-portal/save-diagnostic-setting.png)

1. Получите доступ к медленным журналам запросов, исследуя их в настроенных данных. Появление журналов может занять до 10 минут.

## <a name="next-steps"></a>Дальнейшие действия
- Смотрите [журналы медленных запросов Access в CLI,](howto-configure-server-logs-in-cli.md) чтобы узнать, как загружать медленные журналы запросов программно.
- Подробнее о [журналах медленных запросов](concepts-server-logs.md) читайте в базе данных Azure для MyS'L.
- Для получения более подробной информации об определениях параметров и [logs](https://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html)журналах MyS'L см.