---
title: Мониторинг в базе данных Azure для MySQL
description: В этой статье описываются метрики для мониторинга и создания предупреждений в базе данных Azure для MySQL, включая ЦП, хранилище и статистику подключений.
author: ajlam
ms.author: andrela
ms.service: mysql
ms.topic: conceptual
ms.date: 06/05/2019
ms.openlocfilehash: 0122f952e586d0535fc2e482c7b78266f8809272
ms.sourcegitcommit: bafb70af41ad1326adf3b7f8db50493e20a64926
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/25/2019
ms.locfileid: "67062440"
---
# <a name="monitoring-in-azure-database-for-mysql"></a>Мониторинг в базе данных Azure для MySQL
Мониторинг данных о серверах помогает устранять неполадки и оптимизировать рабочую нагрузку. База данных Azure для MySQL предоставляет различные метрики, позволяющие понять действия сервера.

## <a name="metrics"></a>metrics
Все метрики Azure записываются ежеминутно, и каждая из них предоставляет данные за последние 30 дней. Вы можете настроить оповещения на основе метрик. Пошаговые инструкции см. в статье [Использование портала Azure для настройки оповещений на основе метрик для базы данных Azure для MySQL](howto-alert-on-metric.md). Другие задачи включают настройку автоматических действий, выполнение расширенной аналитики и архивирование журнала. Дополнительные сведения см. в статье [Обзор метрик в Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).

### <a name="list-of-metrics"></a>Список метрик
Для базы данных Azure для MySQL доступны следующие метрики:

|Метрика|Отображаемое имя метрики|Единица|Описание|
|---|---|---|---|
|cpu_percent|Нагрузка ЦП|Percent|Процент используемого ЦП.|
|memory_percent|Процент памяти|Percent|Процент используемой памяти.|
|io_consumption_percent|Процент ввода-вывода данных|Percent|Процент используемых операций ввода-вывода.|
|storage_percent|Storage percentage|Percent|Процент использованного объема хранилища сервера (от максимального объема).|
|storage_used|Используемое хранилище|Байт|Используемый объем хранилища. Хранилище, используемое службой, может содержать файлы базы данных, журналы транзакций и журналы сервера.|
|serverlog_storage_percent|Процент хранилища для журнала сервера|Percent|Процент использованного объема хранилища журнала сервера (от максимального объема).|
|serverlog_storage_usage|Используемый объем хранилища для журнала сервера|Байт|Используемый объем хранилища журнала сервера.|
|serverlog_storage_limit|Максимальный объем хранилища для журнала сервера|Байт|Максимальный объем хранилища журнала сервера для этого сервера.|
|storage_limit|Storage limit|Байт|Максимальный объем хранилища для этого сервера.|
|active_connections|Активные подключения|Count|Число активных подключений к серверу.|
|connections_failed|Неудачные подключения|Count|Число неудачных попыток подключения к серверу.|
|seconds_behind_master|Задержка репликации в секундах|Count|Количество секунд, на которое сервер-реплика отстает от главного сервера.|
|network_bytes_egress|Выход сети|Байт|Исходящий сетевой трафик по активным подключениям.|
|network_bytes_ingress|Вход сети|Байт|Входящий сетевой трафик по активным подключениям.|
|backup_storage_used|Используемое хранилище резервных копий|Байт|Объем используемого хранилища резервных копий.|

## <a name="server-logs"></a>Журналы сервера
На сервере можно включить низкую регистрацию запросов и аудита. Эти журналы также доступны в журналах диагностики Azure в Azure Monitor журналов, концентраторах событий и учетной записи хранения. Дополнительные сведения о ведении журналов см. в статьях [журналы аудита](concepts-audit-logs.md) и [журналы медленных запросов](concepts-server-logs.md) .

## <a name="query-store"></a>Хранилище запросов
[Хранилище запросов](concepts-query-store.md) — это предварительная версия функции, позволяющая отслеживать производительность запросов с течением времени, включая статистику выполнения запросов и события ожидания. Эта функция сохраняет сведения о производительности среды выполнения запросов в схеме **MySQL** . Вы можете управлять процессами сбора и хранения данных с помощью различных приспособлений конфигурации.

## <a name="query-performance-insight"></a>Анализ производительности запросов
Средство [Анализ производительности запросов](concepts-query-performance-insight.md) работает совместно с хранилищем запросов для предоставления визуализаций, доступных на портале Azure. Эти диаграммы позволяют определить основные запросы, влияющие на производительность. Анализ производительности запросов находится в общедоступной предварительной версии и доступна в разделе **Интеллектуальная производительность** на странице портала базы данных Azure для MySQL Server.

## <a name="performance-recommendations"></a>Рекомендации по производительности
Функция [Рекомендации по производительности](concepts-performance-recommendations.md) определяет возможности для повышения производительности рабочей нагрузки. Общедоступная предварительная версия функции "Рекомендации по производительности" предоставляет рекомендации по созданию индексов, которые потенциально могут повысить производительность рабочих нагрузок. Для создания рекомендаций по индексам эта функция учитывает различные характеристики базы данных, включая ее схемы и рабочую нагрузку по данным хранилища запросов. После реализации любой из рекомендаций по повышению производительности клиенты должны протестировать производительность, чтобы оценить результаты внесенных изменений.

## <a name="next-steps"></a>Следующие шаги
- См. рекомендации по созданию оповещений для метрики в статье [Как настраивать оповещения](howto-alert-on-metric.md).
- Дополнительные сведения о доступе к метрикам и их экспорте с помощью портала Azure, REST API или интерфейса командной строки см. в статье [Обзор метрик в Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).
- Читайте наш блог, чтобы ознакомиться с [рекомендациями по мониторингу сервера](https://azure.microsoft.com/blog/best-practices-for-alerting-on-metrics-with-azure-database-for-mysql-monitoring/).
