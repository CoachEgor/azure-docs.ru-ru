---
title: Подключение к службе хранилища BLOB-объектов Azure — Azure Logic Apps
description: Создание и администрирование больших двоичных объектов в хранилище Azure с помощью Azure Logic Apps
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ecfan
ms.author: estfan
ms.reviewer: klam, LADocs
ms.topic: article
ms.date: 05/21/2018
tags: connectors
ms.openlocfilehash: ea3e97db9ec560306788943d92a7670025f38bdc
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60958644"
---
# <a name="create-and-manage-blobs-in-azure-blob-storage-with-azure-logic-apps"></a>Создание и администрирование больших двоичных объектов в хранилище BLOB-объектов Azure с помощью Azure Logic Apps

В этой статье описано, как получить доступ к файлам, хранящимся в виде больших двоичных объектов в учетной записи хранения Azure, из приложения логики с помощью соединителя хранилища BLOB-объектов Azure. Таким образом можно создавать приложения логики, которые автоматизируют задачи и рабочие процессы по управлению файлами. Например, можно создавать приложения логики, которые создают, получают, обновляют и удаляют файлы в вашей учетной записи хранения.

Предположим, что у вас есть средство, которое обновляется на веб-сайте Azure. Оно используется как триггер для приложения логики. Когда это событие происходит, приложение логики может обновить некоторые файлы в контейнере хранилища BLOB-объектов, что является действием в приложении логики.

> [!NOTE]
> Logic Apps не поддерживает непосредственное подключение к учетным записям хранения Azure через брандмауэры. Чтобы получить доступ к этим учетным записям хранения, используйте любой из этих вариантов:
>
> * Создайте [среду службы интеграции](../logic-apps/connect-virtual-network-vnet-isolated-environment-overview.md), которая может подключаться к ресурсам в виртуальной сети Azure.
>
> * Если вы уже используете службу управления API, ее можно применить в этом сценарии. Дополнительные сведения см. в статье [Простая архитектура корпоративной интеграции](https://aka.ms/aisarch).

Если вы не знакомы с приложениями логики, ознакомьтесь со статьями [Что такое Azure Logic Apps](../logic-apps/logic-apps-overview.md) и [Краткое руководство. Создание первого автоматизированного рабочего процесса с помощью Azure Logic Apps на портале Azure](../logic-apps/quickstart-create-first-logic-app-workflow.md).
См. технические сведения о <a href="https://docs.microsoft.com/connectors/azureblobconnector/" target="blank">соединителях хранилища BLOB-объектов Azure</a>.

## <a name="prerequisites"></a>Технические условия

* Если у вас еще нет подписки Azure, <a href="https://azure.microsoft.com/free/" target="_blank">зарегистрируйтесь для получения бесплатной учетной записи Azure</a>.

* [Учетная запись хранения Azure и контейнер хранилища.](../storage/blobs/storage-quickstart-blobs-portal.md)

* Приложения логики с возможностью доступа к учетной записи хранилища BLOB-объектов Azure. Чтобы запустить приложение логики с помощью триггера хранилища BLOB-объектов Azure, требуется [пустое приложение логики](../logic-apps/quickstart-create-first-logic-app-workflow.md).

<a name="add-trigger"></a>

## <a name="add-blob-storage-trigger"></a>Добавление триггера хранилища BLOB-объектов

В Azure Logic Apps каждое приложение логики должно запускаться по [триггеру](../logic-apps/logic-apps-overview.md#logic-app-concepts), который активируется, когда происходит определенное событие или если выполняются заданные условия. При каждом срабатывании триггера обработчик Logic Apps создает экземпляр приложения логики, запускающий рабочий процесс.

В этом примере показано, как можно запустить рабочий процесс приложения логики с помощью триггера **Хранилище BLOB-объектов Azure — когда большой двоичный объект добавлен или изменен (только свойства)**, при добавлении или обновлении свойств большого двоичного объекта в контейнере хранилища. 

1. На портале Azure или в Visual Studio создайте пустое приложение логики. Откроется конструктор приложений логики. В этом примере используется портал Azure.

2. В поле поиска введите "большой двоичный объект azure" в качестве условия фильтра. В списке триггеров выберите нужный триггер.

   В этом примере использует этот триггер: **Хранилище BLOB-объектов — когда большой двоичный объект добавляется или изменяется (только свойства)**

   ![Выбрать триггер](./media/connectors-create-api-azureblobstorage/azure-blob-trigger.png)

3. Если вам будет предложено ввести сведения о подключении, [создайте подключение к хранилищу BLOB-объектов](#create-connection). Или, если подключение уже существует, введите необходимые сведения для триггера.

   Для этого примера выберите контейнер и папку, которую вы хотите отслеживать.

   1. В поле **Контейнер** выберите значок папки.

   2. В списке папок выберите правую угловую скобку ( **>** ), а затем найдите и выберите нужную папку.

      ![Выбор папки](./media/connectors-create-api-azureblobstorage/trigger-select-folder.png)

   3. Укажите частоту и продолжительность, с которыми триггер будет проверять изменения в папке.

4. Завершив работу, нажмите кнопку **Сохранить** на панели инструментов конструктора.

5. Теперь продолжайте добавлять действия в приложение логики для задач, которые необходимо выполнить с результатами триггера.

<a name="add-action"></a>

## <a name="add-blob-storage-action"></a>Добавление действия хранилища BLOB-объектов

В Azure Logic Apps [действие](../logic-apps/logic-apps-overview.md#logic-app-concepts) — это шаг в рамках рабочего процесса, выполняемый после срабатывания триггера или другого действия. В этом примере приложение логики запускается при срабатывании [триггера повторения](../connectors/connectors-native-recurrence.md).

1. На портале Azure или в Visual Studio откройте приложение логики в конструкторе приложений логики. В этом примере используется портал Azure.

2. В конструкторе Logic Apps выберите для триггера или действия пункты **Новый шаг** > **Добавить действие**.

   ![Добавить действие](./media/connectors-create-api-azureblobstorage/add-action.png) 

   Чтобы добавить действие между существующими шагами, наведите указатель мыши на соединяющую стрелку. 
   Щелкните появившийся знак "плюс" (**+**), а затем выберите **Добавить действие**.

3. В поле поиска введите "большой двоичный объект azure" в качестве условия фильтра. В списке действий выберите любое необходимое действие.

   В этом примере это действие: **Хранилище BLOB-объектов - Get-content BLOB-объектов**

   ![Выбор действия](./media/connectors-create-api-azureblobstorage/azure-blob-action.png) 

4. Если вам будет предложено ввести сведения о подключении, [создайте подключение к хранилищу BLOB-объектов Azure](#create-connection). Или, если подключение уже существует, введите необходимые сведения для действия.

   Для этого примера выберите нужный файл.

   1. В поле **Большой двоичный объект** выберите значок папки.
  
      ![Выбор папки](./media/connectors-create-api-azureblobstorage/action-select-folder.png)

   2. Найдите и выберите файл на основе **идентификационного номера** большого двоичного объекта. Вы можете найти этот **идентификационный номер** в метаданных большого двоичного объекта, возвращаемых триггером хранилища BLOB-объектов (см. выше).

5. Завершив работу, нажмите кнопку **Сохранить** на панели инструментов конструктора.
Для тестирования приложения логики выбранная папка должна содержать большой двоичный объект.

В этом примере возвращается только содержимое большого двоичного объекта. Чтобы просмотреть содержимое, добавьте другое действие для создания файла с большим двоичным объектом c использованием другого соединителя. Например, добавьте действие OneDrive, которое создает файл на основе содержимого большого двоичного объекта.

<a name="create-connection"></a>

## <a name="connect-to-storage-account"></a>Подключение к учетной записи хранилища

[!INCLUDE [Create connection general intro](../../includes/connectors-create-connection-general-intro.md)]

[!INCLUDE [Create a connection to Azure blob storage](../../includes/connectors-create-api-azureblobstorage.md)]

## <a name="connector-reference"></a>Справочник по соединителям

Технические сведения, такие как триггеры, действия и ограничений, описанных в открытых API соединителя (прежнее название — Swagger) файл, см. в разделе [соединителя справочной странице](/connectors/azureblobconnector/).

## <a name="get-support"></a>Получение поддержки

* Если у вас возникли вопросы, то посетите [форум Azure Logic Apps](https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurelogicapps).
* Отправить идею по поводу возможности или проголосовать за нее вы можете на [сайте отзывов пользователей Logic Apps](https://aka.ms/logicapps-wish).

## <a name="next-steps"></a>Дальнейшие действия

* См. дополнительные сведения о других [соединителях Logic Apps](../connectors/apis-list.md).
