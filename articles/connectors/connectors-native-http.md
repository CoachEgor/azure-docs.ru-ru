---
title: Вызов конечных точек HTTP и HTTPS — Azure Logic Apps
description: Отправка исходящих запросов на конечные точки HTTP и HTTPS с помощью Azure Logic Apps
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ecfan
ms.author: estfan
ms.reviewer: klam, LADocs
ms.topic: conceptual
ms.date: 07/05/2019
tags: connectors
ms.openlocfilehash: df856e0d76dbd5903964bc80aa01b97b7461128a
ms.sourcegitcommit: fad368d47a83dadc85523d86126941c1250b14e2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/19/2019
ms.locfileid: "71122701"
---
# <a name="send-outgoing-calls-to-http-or-https-endpoints-by-using-azure-logic-apps"></a>Отправка исходящих вызовов конечных точек HTTP или HTTPS с помощью Azure Logic Apps

С помощью [Azure Logic Apps](../logic-apps/logic-apps-overview.md) и встроенного триггера HTTP или действия можно создавать автоматизированные задачи и рабочие процессы, которые регулярно отправляют запросы к любой КОНЕЧНОЙ точке HTTP или HTTPS. Для получения и реагирования на входящие вызовы HTTP или HTTPS следует использовать встроенный [триггер запроса или действие ответа](../connectors/connectors-native-reqres.md).

Например, можно отслеживать конечную точку службы для веб-сайта, проверяя эту конечную точку по указанному расписанию. При возникновении определенного события в этой конечной точке, например при переходе на веб-сайт, событие запускает рабочий процесс приложения логики и выполняет указанные действия.

Чтобы проверить или *опросить* конечную точку по регулярному расписанию, можно использовать триггер HTTP в качестве первого шага в рабочем процессе. При каждой проверке триггер отправляет вызов или *запрос* к конечной точке. Ответ от конечной точки определяет, выполняется ли рабочий процесс приложения логики. Триггер передает любое содержимое из ответа действиям в приложении логики.

При необходимости действия HTTP можно использовать как любой другой этап в рабочем процессе для вызова конечной точки. Ответ от конечной точки определяет, как выполнить оставшиеся действия рабочего процесса.

На основе возможностей целевой конечной точки соединитель HTTP поддерживает протоколы TLS версии 1,0, 1,1 и 1,2. Logic Apps согласовывает с конечной точкой, используя максимально возможную поддерживаемую версию. Например, если конечная точка поддерживает 1,2, то в соединителе сначала используется 1,2. В противном случае соединитель использует следующую самую новую поддерживаемую версию.

## <a name="prerequisites"></a>Предварительные требования

* Подписка Azure. Если у вас еще нет подписки Azure, [зарегистрируйтесь для получения бесплатной учетной записи Azure](https://azure.microsoft.com/free/).

* URL-адрес целевой конечной точки, которую необходимо вызвать

* Базовые знания о [создании приложений логики](../logic-apps/quickstart-create-first-logic-app-workflow.md). Если вы не знакомы с приложениями логики, ознакомьтесь со статьей [Что такое Azure Logic Apps](../logic-apps/logic-apps-overview.md).

* Приложение логики, из которого нужно вызвать целевую конечную точку. Чтобы начать с триггера HTTP, [создайте пустое приложение логики](../logic-apps/quickstart-create-first-logic-app-workflow.md). Чтобы использовать действие HTTP, запустите приложение логики с любым нужным триггером. В этом примере в качестве первого шага используется триггер HTTP.

## <a name="add-an-http-trigger"></a>Добавление триггера HTTP

Этот встроенный триггер выполняет HTTP-вызов по указанному URL-адресу для конечной точки и возвращает ответ.

1. Войдите на [портале Azure](https://portal.azure.com). Откройте пустое приложение логики в конструкторе приложений логики.

1. В конструкторе в поле поиска введите "http" в качестве фильтра. В списке **триггеры** Выберите триггер **http** .

   ![Выбор триггера HTTP](./media/connectors-native-http/select-http-trigger.png)

   В этом примере триггер переименовывается в "HTTP Trigger", чтобы у шага было более описательное имя. Кроме того, в примере далее добавляется действие HTTP, и оба имени должны быть уникальными.

1. Укажите значения [параметров триггера HTTP](../logic-apps/logic-apps-workflow-actions-triggers.md##http-trigger) , которые необходимо включить в вызов целевой конечной точки. Настройте периодичность, с которой триггер должен проверять целевую конечную точку.

   ![Ввод параметров триггера HTTP](./media/connectors-native-http/http-trigger-parameters.png)

   Дополнительные сведения о типах проверки подлинности, доступных для HTTP, см. в разделе [Проверка подлинности триггеров и действий HTTP](../logic-apps/logic-apps-workflow-actions-triggers.md#connector-authentication).

1. Чтобы добавить другие доступные параметры, откройте список **Добавить новый параметр** и выберите нужные параметры.

1. Продолжите создание рабочего процесса приложения логики с действиями, выполняемыми при срабатывании триггера.

1. Когда все будет готово, сохраните приложение логики. На панели инструментов конструктора щелкните **Сохранить**.

## <a name="add-an-http-action"></a>Добавление действия HTTP

Это встроенное действие выполняет HTTP-вызов по указанному URL-адресу для конечной точки и возвращает ответ.

1. Войдите на [портале Azure](https://portal.azure.com). Создание приложения логики в Конструкторе приложений логики.

   В этом примере в качестве первого шага используется триггер HTTP.

1. На шаге, куда нужно добавить действие HTTP, выберите **новый шаг**.

   Чтобы добавить действие между шагами, переместите указатель на стрелку между шагами. Выберите отображаемый знак плюса ( **+** ), а затем щелкните **Добавить действие**.

1. В конструкторе в поле поиска введите "http" в качестве фильтра. В списке **действия** выберите действие **http** .

   ![Выбор действия HTTP](./media/connectors-native-http/select-http-action.png)

   В этом примере действие переименовывается в "действие HTTP", чтобы у шага было более описательное имя.

1. Укажите значения [параметров HTTP-действия](../logic-apps/logic-apps-workflow-actions-triggers.md##http-action) , которые необходимо включить в вызов целевой конечной точки.

   ![Ввод параметров для действия HTTP](./media/connectors-native-http/http-action-parameters.png)

   Дополнительные сведения о типах проверки подлинности, доступных для HTTP, см. в разделе [Проверка подлинности триггеров и действий HTTP](../logic-apps/logic-apps-workflow-actions-triggers.md#connector-authentication).

1. Чтобы добавить другие доступные параметры, откройте список **Добавить новый параметр** и выберите нужные параметры.

1. Закончив, не забудьте сохранить приложение логики. На панели инструментов конструктора щелкните **Сохранить**.

## <a name="content-with-multipartform-data-type"></a>Содержимое с типом данных multipart/form-data

Для обработки содержимого, которое `multipart/form-data` имеет тип в HTTP-запросах, можно добавить объект JSON, `$content-type` включающий `$multipart` атрибуты и, в текст HTTP-запроса, используя этот формат.

```json
"body": {
   "$content-type": "multipart/form-data",
   "$multipart": [
      {
         "body": "<output-from-trigger-or-previous-action>",
         "headers": {
            "Content-Disposition": "form-data; name=file; filename=<file-name>"
         }
      }
   ]
}
```

Например, предположим, что у вас есть приложение логики, которое отправляет запрос HTTP POST для файла Excel на веб-сайт с помощью API этого сайта, который поддерживает `multipart/form-data` этот тип. Вот как может выглядеть это действие:

![Составные данные форм](./media/connectors-native-http/http-action-multipart.png)

Ниже приведен тот же пример, в котором показано определение JSON действия HTTP в базовом определении рабочего процесса:

```json
{
   "HTTP_action": {
      "body": {
         "$content-type": "multipart/form-data",
         "$multipart": [
            {
               "body": "@trigger()",
               "headers": {
                  "Content-Disposition": "form-data; name=file; filename=myExcelFile.xlsx"
               }
            }
         ]
      },
      "method": "POST",
      "uri": "https://finance.contoso.com"
   },
   "runAfter": {},
   "type": "Http"
}
```

## <a name="connector-reference"></a>Справочник по соединителям

Дополнительные сведения о параметрах триггера и действия см. в следующих разделах:

* [Параметры триггера HTTP](../logic-apps/logic-apps-workflow-actions-triggers.md##http-trigger)
* [Параметры действия HTTP](../logic-apps/logic-apps-workflow-actions-triggers.md##http-action)

### <a name="output-details"></a>Сведения о выходных данных

Ниже приведены дополнительные сведения о выходных данных триггера или действия HTTP, которые возвращают эти сведения:

| Имя свойства | Type | Описание |
|---------------|------|-------------|
| header | object | Заголовки из запроса |
| body | object | Объект JSON | Объект с содержимым текста из запроса |
| status code | int | Код состояния из запроса |
|||

| status code | Описание |
|-------------|-------------|
| 200 | OK |
| 202 | Принято |
| 400 | Ошибочный запрос |
| 401 | Неавторизованный |
| 403 | Запрещено |
| 404 | Не удалось найти |
| 500 | Внутренняя ошибка сервера. Произошла неизвестная ошибка. |
|||

## <a name="next-steps"></a>Следующие шаги

* См. дополнительные сведения о других [соединителях Logic Apps](../connectors/apis-list.md).
