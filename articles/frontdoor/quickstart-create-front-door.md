---
title: Краткое руководство. Создание профиля Front Door для обеспечения высокого уровня доступности приложений
description: В этом кратком руководстве описывается создание профиля Front Door для глобального веб-приложения, обеспечивающего высокий уровень доступности и производительности.
services: front-door
documentationcenter: ''
author: sharad4u
editor: ''
ms.assetid: ''
ms.service: frontdoor
ms.devlang: na
ms.topic: quickstart
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/31/2018
ms.author: sharadag
ms.openlocfilehash: 67a4f9eb3290ba09a2c19325464cf7ad224856e7
ms.sourcegitcommit: dbde4aed5a3188d6b4244ff7220f2f75fce65ada
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/19/2019
ms.locfileid: "74184516"
---
# <a name="quickstart-create-a-front-door-for-a-highly-available-global-web-application"></a>Краткое руководство. Создание службы Front Door для глобального веб-приложения высокого уровня доступности

В этом кратком руководстве показано, как создать профиль Front Door, который обеспечивает высокий уровень доступности и производительности глобального веб-приложения. 

Описанный здесь сценарий охватывает два экземпляра веб-приложения, выполняющиеся в разных регионах Azure. Создается конфигурация Front Door на основании [внутренних серверов с одинаковыми весами и приоритетами](front-door-routing-methods.md), что помогает направлять трафик пользователей в ближайший набор внутренних серверов сайта, на котором выполняется приложение. Front Door постоянно отслеживает веб-приложение и обеспечивает автоматическую отработку отказа на следующий доступный внутренний сервер, когда ближайший сайт становится недоступным.

Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись Azure](https://azure.microsoft.com/free/?WT.mc_id=A261C142F), прежде чем начинать работу.

## <a name="sign-in-to-azure"></a>Вход в Azure 
Войдите на портал Azure по адресу https://portal.azure.com.

## <a name="prerequisites"></a>Предварительные требования
Для этого краткого руководства необходимо развернуть два экземпляра веб-приложения, выполняющиеся в разных регионах Azure (*восточная часть США* и *Западная Европа*). Оба экземпляра веб-приложения выполняются в режиме "активный — активный". Это значит, что любой из них может принимать трафик в любой момент, в отличие от конфигурации "активный — резервный", в которой один экземпляр используется как резервный для отработки отказа.

1. В верхней левой части экрана выберите **Создать ресурс** > **Интернет** > **Веб-приложение** > **Создать**.
2. В колонке **Веб-приложение** введите или выберите следующие сведения и введите параметры по умолчанию там, где они отсутствуют.

     | Параметр         | Значение     |
     | ---              | ---  |
     | ИМЯ           | Введите уникальное имя для вашего веб-приложения.  |
     | группа ресурсов.          | Выберите **Создать**, а затем введите *myResourceGroupFD1*. |
     | Расположение или план службы приложений         | Нажмите кнопку **Создать**.  В поле "План службы приложений" введите *myAppServicePlanEastUS*, а затем выберите **ОК**. 
     |      Location  |   Восточная часть США        |
    |||

3. Нажмите кнопку **Создать**.
4. Веб-сайт по умолчанию будет создан при успешном развертывании веб-приложения.
5. Повторите шаги 1–3, чтобы создать второй веб-сайт в другом регионе Azure со следующими параметрами:

     | Параметр         | Значение     |
     | ---              | ---  |
     | ИМЯ           | Введите уникальное имя для вашего веб-приложения.  |
     | группа ресурсов.          | Выберите **Создать**, а затем введите *myResourceGroupFD2*. |
     | Расположение или план службы приложений         | Нажмите кнопку **Создать**.  В поле "План службы приложений" введите *myAppServicePlanWestEurope*, а затем выберите **ОК**. 
     |      Location  |   Западная Европа      |
    |||


## <a name="create-a-front-door-for-your-application"></a>Создание профиля Front Door для приложения
### <a name="a-add-a-frontend-host-for-front-door"></a>О. Добавление интерфейсного узла для Front Door
Создайте конфигурацию Front Door, которая направляет трафик пользователя в соответствии с минимальной задержкой между двумя внутренними серверами.

1. Вверху слева последовательно выберите **Создать ресурс** > **Сети** > **Front Door** > **Создать**.
2. На странице **Create a Front Door** (Создание Front Door) начните с добавления основных сведений. Укажите подписку, в которой нужно настроить Front Door. Как и для любого другого ресурса Azure, необходимо также указать группу ресурсов и ее регион, если вы создаете группу ресурсов. Наконец, необходимо указать имя экземпляра Front Door.
3. После ввода основных сведений в первую очередь необходимо определить **интерфейсный узел** для конфигурации. Результатом должно стать допустимое доменное имя, например `myappfrontend.azurefd.net`. Это имя узла должно быть глобально уникальным, но служба Front Door сама проверит его. 

### <a name="b-add-application-backend-and-backend-pools"></a>B. Добавление внутреннего сервера приложения и внутренних пулов

Далее необходимо сгруппировать внутренние серверы приложения во внутренний пул, в котором Front Door будет обращаться к вашему приложению. 

1. Щелкните значок "+", чтобы добавить внутренний пул, а затем укажите **имя** внутреннего пула, например `myBackendPool`.
2. Затем щелкните "Add Backends" (Добавить внутренние серверы), чтобы добавить веб-сайты, созданные ранее.
3. Выберите для параметра **Target host type** (Целевой тип узла) значение "Служба приложений", выберите подписку, в которой вы создали веб-сайт, а затем выберите первый веб-сайт из списка **Target host name** (Имя целевого узла), то есть  *myAppServicePlanEastUS.azurewebsites.net*.
4. Оставьте остальные поля без изменений и нажмите кнопку **Добавить**.
5. Повторите шаги 2–4, чтобы добавить другой веб-сайт, *myAppServicePlanWestEurope.azurewebsites.net*
6. При необходимости вы можете изменить параметры проб работоспособности и балансировки нагрузки для внутреннего пула, но подойдут и значения по умолчанию. Щелкните **Добавить**.


### <a name="c-add-a-routing-rule"></a>C. Добавление правила маршрутизации
Наконец, щелкните значок "+" в разделе "Правила маршрутизации", чтобы настроить правила маршрутизации. Это необходимо, чтобы сопоставить интерфейсный узел с внутренним пулом. По сути это позволяет настроить пересылку запроса, поступившего на `myappfrontend.azurefd.net`, во внутренний пул `myBackendPool`. Щелкните **Добавить**, чтобы добавить правило маршрутизации для Front Door. Теперь все должно быть готово к созданию экземпляра Front Door, поэтому щелкните **Review and Create** (Просмотреть и создать).

>[!WARNING]
> Вы **должны** убедиться, что каждый из интерфейсных узлов в службе Front Door имеет правило маршрутизации со связанным с ним путем по умолчанию ("/\*"). То есть среди всех правил маршрутизации должно быть по крайней мере одно правило для каждого из узлов внешнего интерфейса, определенных в пути по умолчанию ("/\*"). В противном случае это может привести к неправильной маршрутизации трафика пользователя.

## <a name="view-front-door-in-action"></a>Проверка работы Front Door
После создания экземпляра Front Door может потребоваться несколько минут, чтобы конфигурация была развернута глобально. После завершения перейдите к созданному вами интерфейсному узлу. Для этого откройте веб-браузер и перейдите по URL-адресу `myappfrontend.azurefd.net`. Ваш запрос будет автоматически направлен с указанного внутреннего сервера во внутреннем пуле на ближайший к вам внутренний сервер. 

### <a name="view-front-door-handle-application-failover"></a>Проверка отработки отказа приложения службой Front Door
Если вы хотите проверить, как работает немедленная глобальная отработка отказа Front Door, вы можете перейти на один из созданных вами веб-сайтов и остановить его. В зависимости от параметров пробы работоспособности, определенных для внутреннего пула, будет мгновенно выполнена отработка отказа трафика на другой развернутый веб-сайт. Можно также проверить поведение службы, отключив внутренний сервер в конфигурации внутреннего пула для вашего экземпляра Front Door. 

## <a name="clean-up-resources"></a>Очистка ресурсов
Ставшие ненужными группы ресурсов, веб-приложения и все связанные ресурсы можно удалить.

## <a name="next-steps"></a>Дополнительная информация
В этом кратком руководстве вы создали профиль Front Door, который позволяет перенаправлять трафик пользователей для веб-приложений, требующих высокого уровня доступности и максимальной производительности. Чтобы узнать больше о маршрутизации трафика, ознакомьтесь с [методами маршрутизации](front-door-routing-methods.md), используемыми в службе Front Door.