---
title: Служба Azure Front Door | Документация Майкрософт
description: В статье представлен обзор службы Azure Front Door. Узнайте, подходит ли она для балансировки нагрузки трафика пользователя для вашего приложения.
services: frontdoor
documentationcenter: ''
author: sharad4u
editor: ''
ms.service: frontdoor
ms.devlang: na
ms.topic: overview
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/23/2019
ms.author: sharadag
ms.openlocfilehash: b2ee41324cfaefa4d5aec3aa02b2d0d8c75da78f
ms.sourcegitcommit: 2d7910337e66bbf4bd8ad47390c625f13551510b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80879128"
---
# <a name="what-is-azure-front-door"></a>Что такое Azure Front Door?
Azure Front Door позволяет определять и отслеживать глобальную маршрутизацию для вашего веб-трафика посредством оптимизации и управлять ею для обеспечения наилучшей производительности и мгновенной глобальной отработки отказа для обеспечения высокой доступности. С помощью службы Front Door вы можете преобразовать глобальные (с поддержкой нескольких регионов) пользовательские и корпоративные приложения в современные, надежные, высокопроизводительные и персонализированные приложения, интерфейсы API и содержимое, которые охватывают глобальную аудиторию с помощью Azure.

Служба Front Door работает на протоколах 7-го уровня или уровня HTTP/HTTPS и использует протокол произвольной передачи с разделенным протоколом TCP, а также глобальную сеть Майкрософт для улучшения возможности глобального подключения. Таким образом, выбрав метод маршрутизации в конфигурации, вы можете убедиться, что служба Front Door направляет клиентские запросы в самую быструю и доступную серверную часть приложения. Серверная часть приложения — это любая служба, размещенная в среде Azure или за ее пределами, с доступом в Интернет. Служба Front Door предоставляет целый ряд [методов маршрутизации трафика](front-door-routing-methods.md) и [параметров мониторинга работоспособности сервера](front-door-health-probes.md), подходящих для приложений с различными потребностями и моделями автоматического перехода на другой ресурс. Так же как и [Диспетчер трафика](../traffic-manager/traffic-manager-overview.md), служба Front Door устойчива к сбоям, в том числе к сбоям всего региона Azure.

>[!NOTE]
> Azure предоставляет набор полностью управляемых решений балансировки нагрузки для пользовательских сценариев. Если вам необходима глобальная маршрутизация на основе DNS и вам **не** нужны обработка подключений по протоколу TLS (разгрузка SSL) или обработка прикладного уровня HTTP- или HTTPS-запросов, вам стоит обратить внимание на [Диспетчер трафика](../traffic-manager/traffic-manager-overview.md). Если вам необходима балансировка нагрузки между серверами в регионе на прикладном уровне, присмотритесь к [Шлюзу приложений](../application-gateway/application-gateway-introduction.md), а для балансировки нагрузки на сетевом уровне обратите внимание на [Load Balancer](../load-balancer/load-balancer-overview.md). В комплексных сценариях может быть целесообразно объединить эти решения.
>
> Сравнение параметров балансировки нагрузки Azure см. в статье [Overview of load-balancing options in Azure](https://docs.microsoft.com/azure/architecture/guide/technology-choices/load-balancing-overview) (Общие сведения о параметрах балансировки нагрузки в Azure).

Служба Front Door включает следующие функции.

## <a name="accelerate-application-performance"></a>Повышение производительности приложения
С помощью разделенного протокола на основе TCP с произвольной передачей данных служба Front Door гарантирует, что конечные пользователи получат быстрое подключение к ближайшей POP (точке присутствия) Front Door. Использование глобальной сети Microsoft для подключения к серверным приложениям из POP Front Door обеспечивает более высокую доступность и надежность, поддерживая при этом уровень производительности. Эта возможность подключения к серверной части также основана на наименьшей задержке в сети. Подробнее о таких методах маршрутизации службы Front Door, как [Разделенный протокол TCP](front-door-routing-architecture.md#splittcp) и [Протокол произвольной передачи](front-door-routing-architecture.md#anycast).

## <a name="increase-application-availability-with-smart-health-probes"></a>Повышение доступности приложений с помощью интеллектуальных проб работоспособности

Служба Front Door обеспечивает высокую доступность для критически важных приложений с помощью интеллектуальных проб работоспособности для мониторинга серверов как на задержки, так и на доступность и обеспечивает мгновенный автоматический переход на другой ресурс при выходе сервера из строя. Таким образом, вы можете выполнять операции запланированного обслуживания приложений, не вызывая простоев всей системы. Во время обслуживания служба Front Door направляет трафик к альтернативным серверам.

## <a name="url-based-routing"></a>Маршрутизация на основе URL-адреса
Маршрутизация на основе URL-путей позволяет направлять трафик в пулы серверов в зависимости от URL-путей поступающих запросов. Один из сценариев — это маршрутизация запросов различных типов содержимого в различные пулы серверов.

Например, запросы для `http://www.contoso.com/users/*` направляются в UserProfilePool, а запросы для `http://www.contoso.com/products/*` — в ProductInventoryPool.  Front Door позволяет создавать более сложные сценарии сопоставления маршрутов, используя алгоритм наилучшего соответствия, поэтому если ни один из шаблонов пути не соответствует, то выбирается правило маршрутизации по умолчанию для `http://www.contoso.com/*` и трафик направляется к правилу маршрутизации "ловить все" по умолчанию. Подробнее см. в разделе [Как Front Door сопоставляет запросы и правила маршрутизации](front-door-route-matching.md).

## <a name="multiple-site-hosting"></a>Размещение нескольких сайтов
Размещение нескольких сайтов позволяет настроить в одной конфигурации Front Door несколько веб-сайтов. Эта функция позволяет настроить более эффективную топологию развертываний, добавляя разные веб-сайты в одну конфигурацию Front Door. Исходя из архитектуры приложения, вы можете настроить Azure Front Door, чтобы либо направлять каждый веб-сайт в отдельный серверный пул, либо направлять различные веб-сайты в один и тот же серверный пул. Например, служба Front Door может обслуживать трафик для `images.contoso.com` и `videos.contoso.com` из двух серверных пулов с названиями ImagePool и VideoPool. Или же можно настроить оба узла внешнего интерфейса, чтобы трафик направлялся в один серверный пул с названием MediaPool.

Аналогично в одной службе Front Door вы можете настроить два разных домена `www.contoso.com` и `www.fabrikam.com`.

## <a name="session-affinity"></a>Сходство сеансов
Функция сходства сеансов на основе файлов cookie удобна, если нужно, чтобы сеанс пользователя выполнялся на том же сервере приложения. При использовании файлов cookie, управляемых Front Door, последующий трафик из пользовательского сеанса направляется для обработки на тот же сервер приложения. Эта функция важна, если состояние сеанса пользователя сохраняется локально на сервере.

## <a name="tls-termination"></a>Терминирование TLS
Front Door поддерживает терминирование TLS в пограничной среде, а значит отдельные пользователи смогут настроить TLS-подключение с использованием сред Front Door вместо того, чтобы устанавливать подключения для дальней передачи к серверу приложения. Кроме того, служба Front Door поддерживает как HTTP, так и HTTPS-подключение между средами Front Door и серверами. Таким образом, можно также настроить сквозное TLS-шифрование. Например, если служба Front Door для рабочей нагрузки приложения получает более 5000 запросов в минуту из-за повторного использования подключения активных служб, она установит примерно 500 соединений с сервером приложения, тем самым уменьшив значительную нагрузку на серверы.

## <a name="custom-domains-and-certificate-management"></a>Управление личными доменами и сертификатами
При использовании службы Front Door для доставки содержимого, если вы хотите обеспечить видимость своего доменного имени в URL-адресе Front Door, требуется личный домен. Видимое доменное имя удобно для клиентов и эффективно используется для популяризации бренда.
Служба Front Door также поддерживает протокол HTTPS для пользовательских доменных имен. Используйте эту функцию, выбрав управляемые сертификаты Front Door для своего трафика либо отправив собственный TLS/SSL-сертификат.

## <a name="application-layer-security"></a>Безопасность на прикладном уровне
Azure Front Door позволяет создавать собственные правила брандмауэра веб-приложений (WAF) для управления доступом, чтобы защитить рабочую нагрузку HTTP/HTTPS от различных угроз на основе параметров IP-адресов клиента, кода страны и протокола HTTP. Кроме того, служба Front Door также позволяет создавать правила ограничения скорости для борьбы с вредоносным бот-трафиком. Дополнительные сведения о брандмауэре веб-приложения см. в статье [Что такое брандмауэр веб-приложения Azure?](../web-application-firewall/overview.md)

Платформа Front Door защищена [Защитой от атак DDoS Azure](../virtual-network/ddos-protection-overview.md) категории "Базовая". В дополнение можно включить Защиту от атак DDoS Azure категории "Стандартная" в виртуальные сети и защищать ресурсы от сетевых атак (TCP/UDP) посредством автоматической настройки и устранения рисков. Служба Front Door — это обратный прокси-сервер уровня 7, который по умолчанию позволяет веб-трафику проходить по серверам и блокирует другие типы трафика.

## <a name="url-redirection"></a>Перенаправление URL-адресов
Ожидается, что благодаря сильному стремлению поддерживать лишь безопасное подключение, веб-приложения будут автоматически перенаправлять любой HTTP-трафик на HTTPS. Таким образом все взаимодействие между пользователями и приложением выполняется по зашифрованному пути. 

Обычно владельцы приложений выполняют это требование, создавая выделенную службу, единственной целью которой является перенаправление запросов, которые она получает по HTTP, на HTTPS. Служба Azure Front Door поддерживает возможность перенаправления трафика с HTTP на HTTPS. Это упрощает конфигурацию приложения, оптимизирует использование ресурсов и обеспечивает поддержку новых сценариев перенаправления, включая глобальное перенаправление на основе пути. Перенаправление URL-адресов из службы Azure Front Door не ограничивается лишь перенаправлением HTTP на HTTPS, но также выполняет перенаправление на другое имя узла, другой путь или даже на новую строку запроса в URL-адресе.

Дополнительные сведения о перенаправлении трафика с помощью службы Azure Front Door см. в [этой статье](front-door-url-redirect.md).

## <a name="url-rewrite"></a>Переопределение URL-адреса
Служба Front Door поддерживает [переопределение URL-адреса](front-door-url-rewrite.md), позволяя настраивать дополнительный пользовательский путь пересылки, чтобы использовать его при конструировании запроса для пересылки на сервер. Служба Front Door также позволяет настроить отправку заголовка узла при пересылке запроса на сервер.

## <a name="protocol-support---ipv6-and-http2-traffic"></a>Поддержка протоколов. Трафик IPv6 и HTTP/2
Azure Front Door имеет встроенную поддержку сквозного подключения по протоколу IPv6, а также протокола HTTP/2. 

Протокол HTTP/2 обеспечивает полнодуплексную связь между клиентом и серверами приложения через длительное подключение по протоколу TCP. Благодаря протоколу HTTP/2 обеспечивается лучшее интерактивное взаимодействие между сервером и клиентом, которое может быть двунаправленным, без необходимости выполнять опрос, как это требуется в реализациях на основе протокола HTTP. В отличие от протокола HTTP, протокол HTTP/2 обеспечивает низкие задержки на подготовку и может повторно использовать одно и то же TCP-подключение для нескольких запросов или ответов, благодаря чему ресурсы используются более эффективно. Дополнительные сведения о [поддержке HTTP/2 в службе Azure Front Door](front-door-http2.md).

## <a name="pricing"></a>Цены

Сведения о ценах на службу Front Door см. на странице [расценок Azure Front Door Service](https://azure.microsoft.com/pricing/details/frontdoor/).

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о [создании Front Door](quickstart-create-front-door.md).
- Дополнительные сведения о том, [как работает Front Door](front-door-routing-architecture.md).
