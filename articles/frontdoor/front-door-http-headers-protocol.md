---
title: Протокол поддержки для заголовков HTTP в службе Azure двери | Документация Майкрософт
description: В этой статье описывается протоколы заголовка HTTP, которые поддерживает служба двери.
services: frontdoor
documentationcenter: ''
author: sharad4u
ms.service: frontdoor
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 09/10/2018
ms.author: sharadag
ms.openlocfilehash: 92e8435e4336c68982e4becc2a95f99b2c776c0e
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60736652"
---
# <a name="protocol-support-for-http-headers-in-azure-front-door-service"></a>Поддержка протокола для заголовков HTTP в службе Azure передовой линии
В этой статье описывается протокол, который поддерживает служба двери части пути вызова (см. рисунок). Дополнительные сведения о заголовках HTTP, поддерживаемые службой двери в следующих разделах.

![Служба Azure Front Door — протокол HTTP-заголовков][1]

>[!IMPORTANT]
>Служба двери не сертифицировать все заголовки HTTP, которые здесь не рассматриваются.

## <a name="client-to-front-door-service"></a>Клиенту службы передовой линии
Входной двери служба принимает большинство заголовков из входящего запроса, не изменяя их. Некоторые зарезервированные заголовки удаляются из входящего запроса в случае отправки, включая заголовки с X - FD-* префикс.

## <a name="front-door-service-to-backend"></a>Входной двери службы к серверной части

Служба двери включает заголовки из входящего запроса, если не удалены из-за ограничений. Входной двери также добавляет следующие заголовки:

| Верхний колонтитул  | Пример и описание |
| ------------- | ------------- |
| Via |  С помощью: 1.1 azure </br> Версия HTTP клиента а затем добавляет входной двери *Azure* как значение заголовка Via. Это указывает на версию клиента HTTP, а этот входной двери был получателю промежуточных для запроса между клиентом и серверной части.  |
| X-Azure-ClientIP | X-Azure-ClientIP: 127.0.0.1 </br> Представляет IP-адрес клиента, связанный с запросом, который обрабатывается. Например запрос, поступающих из учетной записи-посредника добавить заголовок X-Forwarded-For, чтобы указать IP-адрес исходного заявителя. |
| X-Azure-SocketIP |  X-Azure-SocketIP: 127.0.0.1 </br> Представляет сокет IP-адрес, связанный с соединением TCP, являющийся источником текущего запроса. IP-адрес запроса клиента может оказаться равным свой IP-адрес сокета тем, что можно произвольно перезаписаны пользователем.|
| X-Azure-Ref |  X-Azure-Ref: 0zxV+XAAAAABKMMOjBv2NT4TY6SQVjC0zV1NURURHRTA2MTkANDM3YzgyY2QtMzYwYS00YTU0LTk0YzMtNWZmNzA3NjQ3Nzgz </br> Уникальная ссылка строка, определяющая запросов, выполненных с входной двери. Он используется для поиска в журналах доступа и важных для устранения неполадок.|
| X-Azure-RequestChain |  X-Azure-RequestChain: hops=1 </br> Заголовок двери использует для определения циклов запрос, что пользователи не должен принимать зависимость на нем. |
| X-Forwarded-For | X-Forwarded-For: 127.0.0.1 </br> Поле заголовка X-Forwarded-For (XFF) HTTP часто определяет исходный IP-адрес клиента, подключающегося к серверу через прокси-сервер или load balancer HTTP. Если имеется существующий заголовок XFF, входной двери добавляет IP-адрес сокета клиента к нему или добавляет заголовок XFF с IP-адрес сокета клиента. |
| X-Forwarded-Host | X-Forwarded-Host: contoso.azurefd.net </br> Поле заголовка HTTP X-Forwarded-Host является чаще всего используется для идентификации исходного узлу, запрошенному клиентом в заголовке запроса HTTP узла. Это, так как имя узла из входной двери могут отличаться для внутреннего сервера, обрабатывающего запрос. |
| X-Forwarded-Proto | X-Forwarded-Proto: http </br> Поле заголовка HTTP X-Forwarded-Proto часто используется для идентификации исходного протокола HTTP-запроса, так как входной двери, в зависимости от конфигурации, может обмениваться данными с серверной части с помощью протокола HTTPS. Это справедливо, даже если запрос на обратный прокси-сервер HTTP. |

## <a name="front-door-service-to-client"></a>Входной двери службы для клиента

Все заголовки, отправляемые двери из серверной части, также передаются клиенту. Ниже приведены заголовки, отправленные из входной двери клиентам.

| Верхний колонтитул  | Пример |
| ------------- | ------------- |
| X-Azure-Ref |  *X-Azure-Ref: 0zxV+XAAAAABKMMOjBv2NT4TY6SQVjC0zV1NURURHRTA2MTkANDM3YzgyY2QtMzYwYS00YTU0LTk0YzMtNWZmNzA3NjQ3Nzgz* </br> Это уникальная эталонная строка, которая идентифицирует запрос, обслуженный Front Door. Это крайне важно для устранения неполадок, так как он используется для поиска в журналах доступа.|

## <a name="next-steps"></a>Дальнейшие действия

- [Создание передовой линии](quickstart-create-front-door.md)
- [Как работает передовой линии](front-door-routing-architecture.md)

<!--Image references-->
[1]: ./media/front-door-http-headers-protocol/front-door-protocol-summary.png