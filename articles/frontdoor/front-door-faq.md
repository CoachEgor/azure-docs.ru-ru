---
title: Служба Azure двери — часто задаваемые вопросы о двери | Документация Майкрософт
description: Эта страница содержит ответы на часто задаваемые вопросы о службе Azure передовой линии
services: frontdoor
documentationcenter: ''
author: sharad4u
ms.service: frontdoor
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 03/08/2019
ms.author: sharadag
ms.openlocfilehash: b033f463722ddb3a0b7beabdf659900e7d7188df
ms.sourcegitcommit: 08138eab740c12bf68c787062b101a4333292075
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/22/2019
ms.locfileid: "67330867"
---
# <a name="frequently-asked-questions-for-azure-front-door-service"></a>Часто задаваемые вопросы о службе Azure двери

В этой статье содержатся ответы на часто задаваемые вопросы о службе Azure двери компонентах и функциях. Если вы не нашли ответ на свой вопрос, свяжитесь с нами, используя следующие каналы (в порядке эскалации):

1. Раздел комментариев этой статьи.
2. [UserVoice службы Azure двери](https://feedback.azure.com/forums/217313-networking?category_id=345025).
3. **Служба поддержки Майкрософт.** Чтобы создать запрос на поддержку на портале Azure, на вкладке **Справка** нажмите кнопку **Справка и поддержка**, а затем выберите **Новый запрос на поддержку**.

## <a name="general"></a>Общие сведения

### <a name="what-is-azure-front-door-service"></a>Что такое Azure Front Door Service?

Служба Azure двери — сеть доставки приложений (ADN) как услугу, предлагает различные возможности уровня 7 балансировки нагрузки для ваших приложений. Он предоставляет динамическое ускорение сайтов (DSA) вместе с глобальная Балансировка нагрузки с практически в реальном времени отработки отказа. Это службы высокой доступности и масштабируемости, которая полностью управляется Azure.

### <a name="what-features-does-azure-front-door-service-support"></a>Какие функции поддерживает двери службы Azure?

Служба Azure двери поддерживает динамическое ускорение сайтов (DSA), разгрузку SSL и сквозного режима связи SSL, брандмауэр веб-приложения, сходства сеансов на основе файлов cookie, маршрутизация на основе пути url, бесплатные сертификаты и управление несколькими домена и другим пользователям. Полный список поддерживаемых функций см. в разделе [Обзор двери службы Azure](front-door-overview.md).

### <a name="what-is-the-difference-between-azure-front-door-service-and-azure-application-gateway"></a>Какова разница между службой двери Azure и шлюза приложений Azure?

Хотя двери и шлюз приложений уровня 7 подсистемы балансировки нагрузки (HTTP/HTTPS), основное различие заключается в том, что входной двери является глобальной службой, тогда как шлюз приложений — это региональная служба. Хотя двери можно балансировать между вашей разные единицы/кластеров/метка единицы масштабирования в регионах, шлюз приложений позволяет распределять нагрузку между на виртуальных машинах и контейнерах и т.д., в рамках единицы масштабирования.

### <a name="when-should-we-deploy-an-application-gateway-behind-front-door"></a>Когда следует развернуть шлюз приложений за двери?

Приведены основные сценарии, почему один должен использовать шлюз приложений за двери.

- Входной двери может выполнять балансировку только на глобальном уровне, но если требуется распределять нагрузку трафика еще дальше в своей виртуальной сети (VNET), то они должны использовать шлюз приложений нагрузки на основе пути.
- Так как входной двери не работает на уровне виртуальной Машины или контейнера, поэтому она не поддерживает фильтрации подключений. Тем не менее шлюз приложений позволяет сделать фильтрации подключений. 
- Со шлюзом приложений за AFD позволяет достичь 100%, разгрузка SSL и направлять только HTTP-запросы в своей виртуальной сети (VNET).
- Входной двери, так и с помощью шлюза приложений поддерживают сходство сеансов. Хотя двери может направлять последующий трафик из сеанса пользователя в один и тот же кластер или серверной части в определенном регионе, шлюз приложений direct могут быть привязаны трафик на один и тот же сервер в кластере.  

### <a name="can-we-deploy-azure-load-balancer-behind-front-door"></a>Можно ли развернуть двери балансировщика нагрузки Azure?

Служба Azure двери должен направлять трафик на общедоступный виртуальный IP-адрес или общедоступным DNS-имя. Развертывание балансировщика нагрузки Azure за двери — общий вариант использования.

### <a name="what-protocols-does-azure-front-door-service-support"></a>Какие протоколы поддерживает двери службы Azure?

Служба Azure двери поддерживает HTTP, HTTPS и HTTP/2.

### <a name="how-does-azure-front-door-service-support-http2"></a>Как службы двери Azure поддерживает HTTP/2?

Поддержка протокола HTTP/2 доступна для клиентов, подключающихся к службе Azure двери только. Подключение, в серверную часть в серверном пуле, по протоколу HTTP/1.1. По умолчанию включена поддержка HTTP/2.

### <a name="what-resources-are-supported-today-as-part-of-backend-pool"></a>Какие ресурсы сейчас поддерживаются как часть серверного пула?

Серверные пулы могут состоять из хранилища, веб-приложения, экземпляры Kubernetes или любые другие пользовательское имя узла с подключения к общедоступным сетям. Служба Azure двери требует, что серверных частей определяются через общедоступный IP-адрес или разрешимые DNS-имени узла. Членами пулов серверной части может быть в зонах, регионы, или даже за пределами Azure, до тех пор, пока они имеют подключения к общедоступным сетям.

### <a name="what-regions-is-the-service-available-in"></a>В каких регионах доступна служба?

Служба Azure двери — это глобальная служба и не привязан к любого конкретного региона Azure. Единственное место, необходимо указать при создании двери расположение группы ресурсов, который по сути указание будут храниться метаданные для группы ресурсов. Сам ресурс двери создается как глобальный ресурс, и конфигурации развертывается глобально для всех точек подключения (точка присутствия). 

### <a name="what-are-the-pop-locations-for-azure-front-door-service"></a>Что такое расположение узлов POP для входной двери службы Azure?

Служба Azure двери имеет тот же список расположений POP (точка присутствия), как Azure CDN от корпорации Майкрософт. Полный список наших извлечений из стека, любезно см. в разделе [расположения Azure CDN POP от корпорации Майкрософт](https://docs.microsoft.com/azure/cdn/cdn-pop-locations).

### <a name="is-azure-front-door-service-a-dedicated-deployment-for-my-application-or-is-it-shared-across-customers"></a>— Служба Azure двери специальное развертывание для моего приложения или общее для всех клиентов?

Служба Azure двери — глобально распределенная служба несколькими клиентами. Таким образом инфраструктура двери является общим для всех клиентов. Тем не менее, создав профиль двери, вы определяете конкретной конфигурации, необходимые для вашего приложения и без изменения, внесенные в ваш входной двери повлиять на другие конфигурации двери.

### <a name="is-http-https-redirection-supported"></a>Поддерживается ли перенаправление протоколов HTTP -> HTTPS?

Да. На самом деле Azure двери службы поддерживает узлы, пути и запроса строку перенаправления, а также частью URL-адрес перенаправления. Дополнительные сведения о [URL-адрес перенаправления](front-door-url-redirect.md). 

### <a name="in-what-order-are-routing-rules-processed"></a>В каком порядке обрабатываются правила маршрутизации?

Маршруты для вашей двери не упорядочены и конкретный маршрут выбирается по наилучшее соответствие. Дополнительные сведения о [как входной двери соответствует запросам, чтобы правило маршрутизации](front-door-route-matching.md).

### <a name="how-do-i-lock-down-the-access-to-my-backend-to-only-azure-front-door-service"></a>Как заблокировать доступ для моих внутренних только входной двери службе Azure?

Вы можете настроить IP-адрес управления доступом по адресам для вашей серверных систем для приема трафика только из службы Azure двери. Вы можете ограничить приложению принимать входящие подключения только от пространства IP-адрес серверной части службы Azure двери. Сейчас мы работаем над Интеграция [диапазоны IP-адресов Azure и тегами служб](https://www.microsoft.com/download/details.aspx?id=56519) , но теперь вы можете см. в статье диапазоны IP-адресов, как показано ниже:
 
- **IPv4** - `147.243.0.0/16`
- **IPv6** - `2a01:111:2050::/44`

> [!WARNING]
> Нашего внутреннего пространства IP-адрес может измениться позже, однако мы следит за тем, пока это не произошло, что мы бы были интегрированы с [диапазоны IP-адресов Azure и тегами служб](https://www.microsoft.com/download/details.aspx?id=56519). Мы рекомендуем подписаться на [диапазоны IP-адресов Azure и тегами служб](https://www.microsoft.com/download/details.aspx?id=56519) любого изменения или обновления. 

### <a name="can-the-anycast-ip-change-over-the-lifetime-of-my-front-door"></a>Можно ли изменить IP-адреса произвольной рассылки в течение времени существования моей двери?

IP-адреса произвольной рассылки переднего плана для вашего двери обычно не следует изменять и может оставаться статическим в течение времени существования передовой линии. Тем не менее, есть **никаких гарантий** для той же цели. Любезно не получает прямой зависимости от IP-адрес.  

### <a name="does-azure-front-door-service-support-static-or-dedicated-ips"></a>Поддерживает ли служба Azure двери статические или выделенный IP-адреса?

Нет, Azure двери служба в настоящее время не поддерживает произвольной рассылки внешнего интерфейса статические или выделенный IP-адресов. 

### <a name="does-azure-front-door-service-support-x-forwarded-for-headers"></a>Поддерживает ли служба Azure двери заголовки x-forwarded-for?

Да, служба Azure двери поддерживает заголовки X-Forwarded-For, X-Forwarded-Host и X-Forwarded-Proto. Для X-Forwarded-For, если заголовок уже присутствует, а затем двери IP-адрес сокета клиента добавляется к ней. В противном случае он добавляет заголовок с IP-адрес сокета клиента в качестве значения. X-Forwarded-Host и X-Forwarded-Proto переопределяется значение.

Дополнительные сведения о [двери поддерживаемые заголовки HTTP](front-door-http-headers-protocol.md).  

### <a name="how-long-does-it-take-to-deploy-an-azure-front-door-service-does-my-front-door-still-work-when-being-updated"></a>Сколько времени занимает развертывания двери служб Azure? Мои двери по-прежнему работает во время обновления?

Создание передовой линии или совсем нет обновлений для существующих двери занимает около 3 – 5 минут для глобального развертывания. Это означает в течение 3 – 5 минут, входной двери конфигурации будет развернут на всех наших POP, глобально.

Примечание: пользовательские обновления сертификатов SSL займет около 30 минут для развернут глобально.

## <a name="configuration"></a>Параметр Configuration

### <a name="can-azure-front-door-load-balance-or-route-traffic-within-a-virtual-network"></a>Можно Балансировка нагрузки Azure входной двери или маршрут трафика в виртуальной сети?

Azure двери (AFD) требуется общедоступный IP-адрес или разрешимые DNS-имя для маршрутизации трафика. Таким образом, ответ — нет AFD напрямую нельзя настроить маршрутизацию в виртуальной сети, но между ними с помощью шлюза приложений или Azure Load Balancer будет реализации этого сценария.

### <a name="what-are-the-various-timeouts-and-limits-for-azure-front-door-service"></a>Каковы различные времени ожидания и ограничения службы двери Azure?

Дополнительные сведения обо всех документированных [время ожидания и ограничения службы Azure двери](https://docs.microsoft.com/azure/azure-subscription-service-limits#azure-front-door-service-limits).

## <a name="performance"></a>Производительность

### <a name="how-does-azure-front-door-service-support-high-availability-and-scalability"></a>Как службы двери Azure поддерживает высокую доступность и масштабируемость?

Служба Azure двери — это глобально Распределенная платформа несколькими клиентами с огромные объемы ресурсов для удовлетворения всех требований к масштабируемости приложения. Доставлено от края глобальной сети корпорации Майкрософт, входной двери предоставляет глобальный возможность балансировки нагрузки, которая позволяет выполнить отработку отказа всего приложения или даже отдельные микрослужбы в регионах или разными облаками.

## <a name="ssl-configuration"></a>Настройка SSL

### <a name="what-tls-versions-are-supported-by-azure-front-door-service"></a>Какие версии TLS поддерживаются службой двери Azure?

Входной двери поддерживает TLS версий 1.0, 1.1 и 1.2. TLS 1.3 пока не поддерживается.

### <a name="what-certificates-are-supported-on-azure-front-door-service"></a>Какие сертификаты поддерживает двери службы Azure?

Чтобы включить протокол HTTPS для безопасной доставки содержимого в личном домене двери, вы можете использовать сертификат, который управляется службой двери Azure или использовать собственный сертификат.
Передовой управляемых подготавливает параметр стандартный SSL-сертификат, с помощью Digicert и хранятся на переднем плане дверь в Key Vault. Если вы решили использовать собственный сертификат, то вы можете использовать сертификат из поддерживаемых ЦС и может быть стандартный SSL, сертификат высокой надежности или даже групповой сертификат. Самозаверяющие сертификаты не поддерживаются. Узнайте, [как включить протокол HTTPS для личного домена](https://aka.ms/FrontDoorCustomDomainHTTPS).

### <a name="does-front-door-support-auto-rotation-of-certificates"></a>Поддерживает ли двери автоматическая ротация сертификатов?

Автоматическая ротация не поддерживается для собственных пользовательского SSL-сертификата. Как и в том, как она была настроена в первый раз для данного пользовательского домена, может потребоваться для входной двери точки до версии правильного сертификата в хранилище ключей и убедитесь, что субъект-службу для входной двери по-прежнему имеет доступ к хранилищу ключей. Эта операция развертывания обновленного сертификата с дверью полностью atomic и не вызывает какого-либо влияния рабочей среде, указано имя субъекта или по сети SAN для сертификата не изменяется.
</br>Для параметра сертификата двери управляемые сертификаты, автоматически поворачиваться двери.

### <a name="what-are-the-current-cipher-suites-supported-by-azure-front-door-service"></a>Каковы текущие комплекты шифров поддерживается службой двери Azure?

Ниже перечислены текущие комплекты шифров поддерживается службой Azure двери.

- TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
- TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
- TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
- TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
- TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
- TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
- TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
- TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
- TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA
- TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA
- TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA
- TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA
- TLS_RSA_WITH_AES_256_GCM_SHA384
- TLS_RSA_WITH_AES_128_GCM_SHA256
- TLS_RSA_WITH_AES_256_CBC_SHA256
- TLS_RSA_WITH_AES_128_CBC_SHA256
- TLS_RSA_WITH_AES_256_CBC_SHA
- TLS_RSA_WITH_AES_128_CBC_SHA

### <a name="does-azure-front-door-service-also-support-re-encryption-of-traffic-to-the-backend"></a>Входной двери службе Azure также поддерживает повторное шифрование трафика к серверной части?

Да, служба двери Azure поддерживает разгрузку SSL и сквозного режима связи SSL, повторно шифрующие трафик к серверной части. На самом деле так как подключения к серверной части осуществляться через общедоступный IP-адрес, рекомендуется настроить ваш входной двери для использования протокола HTTPS в качестве протокола переадресации.

### <a name="can-i-configure-ssl-policy-to-control-ssl-protocol-versions"></a>Можно ли настроить политику SSL для управления версиями протокола SSL?

Нет, сейчас не поддерживает двери, чтобы запретить конкретные версии TLS, нельзя также задать минимальное версий TLS. 

### <a name="can-i-configure-front-door-to-only-support-specific-cipher-suites"></a>Можно ли настроить дверью поддерживают только определенные шифров?

Нет, Настройка двери для конкретных комплектов шифров не поддерживается. 

## <a name="diagnostics-and-logging"></a>Диагностика и ведение журнала

### <a name="what-types-of-metrics-and-logs-are-available-with-azure-front-door-service"></a>Какие метрики и журналы доступны службе двери Azure?

Сведения о журналах и других диагностических возможностях см. в разделе [мониторинг метрик и журналов для входной двери](front-door-diagnostics.md).

### <a name="what-is-the-retention-policy-on-the-diagnostics-logs"></a>Что такое политика хранения журналов диагностики?

Журналы диагностики находятся в учетных записях хранения клиентов, и клиенты могут задать политику хранения в зависимости от своих предпочтений. Журналы диагностики также можно отправить в концентратор событий или журналы Azure Monitor. Дополнительные сведения см. в разделе [диагностики службы Azure двери](front-door-diagnostics.md).

### <a name="how-do-i-get-audit-logs-for-azure-front-door-service"></a>Как получить журналы аудита для службы двери Azure?

Доступны журналы аудита для службы Azure двери. На портале, щелкните **журнал действий** в колонке меню вашего двери, получить доступ к журналу аудита. 

### <a name="can-i-set-alerts-with-azure-front-door-service"></a>Можно настроить оповещения с помощью службы Azure двери?

Да, служба двери Azure поддерживает оповещения. Оповещения настраиваются на основе метрик. 

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о [создании Front Door](quickstart-create-front-door.md).
- Дополнительные сведения о том, [как работает Front Door](front-door-routing-architecture.md).