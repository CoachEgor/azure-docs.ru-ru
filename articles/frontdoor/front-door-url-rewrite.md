---
title: Служба Azure Front Door Service. Переопределение URL-адреса | Документация Майкрософт
description: В этой статье объясняется, как служба Azure Front Door Service выполняет переопределение URL-адреса для маршрутов, если эта функция настроена.
services: front-door
documentationcenter: ''
author: sharad4u
ms.service: frontdoor
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 09/10/2018
ms.author: sharadag
ms.openlocfilehash: dc2126276e3e8e0d35ce8ed1f835544386659eff
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60736193"
---
# <a name="url-rewrite-custom-forwarding-path"></a>Переопределение URL-адреса (пользовательский путь переадресации)
Служба Azure Front Door Service поддерживает переопределение URL-адреса, позволяя настраивать дополнительный **пользовательский путь переадресации**, чтобы использовать его при конструировании запроса для пересылки на сервер. По умолчанию, если пользовательский путь переадресации не указан, служба Front Door скопирует входящий URL-путь в URL-адрес, используемый в перенаправленном запросе. Заголовок узла, используемый в перенаправленном запросе, соответствует настройкам для выбранной серверной части. Сведения о том, какие действия он выполняет и как его можно настроить, см. в разделе [Заголовок узла серверной системы](front-door-backend-pool.md#hostheader).

Мощной составляющей перенаправления URL-адреса является то, что с помощью пользовательского пути перенаправления будет скопирована любая часть входящего пути, соответствующая пути с подстановочными знаками, в перенаправленный путь (сегменты пути — это **зеленые** сегменты в примере ниже):
</br>
![Переопределение URL-адреса Azure Front Door][1]

## <a name="url-rewrite-example"></a>Пример переопределения URL-адреса
Рассмотрим правило маршрутизации со следующими настроенными узлами внешнего интерфейса и путями:

| Узлы      | Пути       |
|------------|-------------|
| www\.contoso.com | /\*         |
|            | /foo        |
|            | /foo/\*     |
|            | /foo/bar/\* |

В первом столбце в таблице ниже показаны примеры входящих запросов, а во втором столбце показано, каким мог бы быть "наиболее конкретный" соответствующий путь маршрута.  Третий столбец и последующие столбцы первой строки таблицы — это примеры настроенных **пользовательских путей переадресации**, а остальные строки в этих столбцах представляют собой примеры того, какими могли бы быть пути перенаправленных запросов, если бы они соответствовали запросу в этой строке.

Например, если просмотреть вторую строку, из нее следует, что для входящего запроса `www.contoso.com/sub` перенаправленный путь был бы `/sub` при условии, что пользовательский путь — `/`. Если пользовательский путь — `/fwd/`, то перенаправленный путь был бы `/fwd/sub`. И т. д. для остальных столбцов. **Выделенные** части путей ниже представляют собой сегменты, которые являются частью совпадения по подстановочным знакам.


| Входящий запрос       | Путь с наиболее конкретным соответствием | /          | /fwd/          | /foo/          | /foo/bar/          |
|------------------------|--------------------------|------------|----------------|----------------|--------------------|
| www\.contoso.com/            | /\*                      | /          | /fwd/          | /foo/          | /foo/bar/          |
| www\.contoso.com/**sub**     | /\*                      | /**sub**   | /fwd/**sub**   | /foo/**sub**   | /foo/bar/**sub**   |
| www\.contoso.com/**a/b/c**   | /\*                      | /**a/b/c** | /fwd/**a/b/c** | /foo/**a/b/c** | /foo/bar/**a/b/c** |
| www\.contoso.com/foo         | /foo                     | /          | /fwd/          | /foo/          | /foo/bar/          |
| www\.contoso.com/foo/        | /foo/\*                  | /          | /fwd/          | /foo/          | /foo/bar/          |
| www\.contoso.com/foo/**панели** | /foo/\*                  | /**bar**   | /fwd/**bar**   | /foo/**bar**   | /foo/bar/**bar**   |


## <a name="optional-settings"></a>Необязательные параметры
Есть дополнительные необязательные параметры, которые также можно задать для каких-либо параметров правила маршрутизации:

* **Конфигурации кэша.** Если этот параметр отключен или не указан, то запросы, соответствующие этому правилу маршрутизации, не будут пытаться использовать кэшированное содержимое и вместо этого всегда будут получать содержимое из серверной части. Дополнительные сведения о [кэшировании с помощью Front Door](front-door-caching.md).



## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о [создании Front Door](quickstart-create-front-door.md).
- Дополнительные сведения о том, [как работает Front Door](front-door-routing-architecture.md).

<!--Image references-->
[1]: ./media/front-door-url-rewrite/front-door-url-rewrite-example.jpg