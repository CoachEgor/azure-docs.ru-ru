---
title: Дверца Front с Azure, служба — URL-адрес перенаправления | Документация Майкрософт
description: Эта статья поможет вам понять, как службы двери Azure поддерживает перенаправление URL-адреса маршруты, если настроен.
services: front-door
documentationcenter: ''
author: sharad4u
ms.service: frontdoor
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/08/2019
ms.author: sharadag
ms.openlocfilehash: 3d77a16d24a1a843b39d97904a675518c43a525a
ms.sourcegitcommit: 08138eab740c12bf68c787062b101a4333292075
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/22/2019
ms.locfileid: "67332953"
---
# <a name="url-redirect"></a>URL-адрес перенаправления
Входной двери службы Azure можно использовать для перенаправления трафика. Можно перенаправить трафик на нескольких уровнях (протокол, имя узла, путь, строку запроса) и все функции могут настраиваться для отдельных микрослужб как перенаправление выполняется на основе пути. Это упрощает настройку приложения, оптимизирует использование ресурсов и обеспечивает поддержку новых сценариев перенаправления, включая перенаправление на основе пути и глобальное перенаправление.
</br>

![Перенаправление URL-адресов Azure двери][1]

## <a name="redirection-types"></a>Перенаправление типов
Тип перенаправления задает код состояния ответа для клиентов, чтобы понять назначение этого перенаправления. Поддерживаются следующие типы перенаправления:

- **301 (перемещен окончательно)** : Указывает, что к целевому ресурсу назначен новый постоянный URI, и все будущие ссылки на этот ресурс должен использовать один из вложенного URI. Использования 301 код состояния HTTP для перенаправления HTTPS. 
- **302 (найдено)** : Указывает, что целевой ресурс временно хранится с другим URI. Так как в некоторых случаях может быть изменена перенаправление, клиент должен продолжать использовать эффективный URI запроса для будущих запросов.
- **307 (Временное перенаправление)** : Указывает, что целевой ресурс временно хранится с другим URI, и агент пользователя не должна изменение метода запроса, если он выполняет автоматическое перенаправление на этот URI. Так как перенаправление может меняться со временем, клиент должен продолжить использование исходного действующие запроса URI для будущих запросов.
- **308 (постоянное перенаправление)** : Указывает, что к целевому ресурсу назначен новый постоянный URI, и все будущие ссылки на этот ресурс должен использовать один из вложенного URI. Клиенты с помощью возможностей, редактирования ссылки должен автоматически повторно скомпоновать ссылок на вступает в силу URI запроса к одному или нескольким из новые ссылки, отправленный сервером, где это возможно.

## <a name="redirection-protocol"></a>Перенаправление протокола
Можно задать протокол, который будет использоваться для перенаправления. Это позволяет одним из наиболее распространенных вариантов использования функции перенаправления, который задать HTTP для перенаправления HTTPS.

- **Только HTTPS**: Установите для протокола HTTPS, только если вам нужно перенаправлять трафик с HTTP на HTTPS. Служба Azure двери рекомендует должен всегда указывать перенаправление на HTTPS только.
- **Только HTTP**: Это перенаправляет входящий запрос HTTP. Используйте это значение только в том случае, если вы хотите сохранить ваш трафик HTTP, который является, без шифрования.
- **Сопоставить запрос**: Этот параметр сохраняет протокол, используемый входящего запроса. Таким образом запрос HTTP остается HTTP и HTTPS-запрос остается перенаправления HTTPS post.

## <a name="destination-host"></a>Конечный узел
Как часть настройки маршрутизации перенаправления можно также изменить имя узла или домена для перенаправления запроса. Можно настроить это поле, изменить имя узла в URL-адрес для перенаправления или в противном случае сохранять имя узла из входящего запроса. Таким образом, с помощью этого поля можно перенаправлять все запросы, отправленные https://www.contoso.com/ * для https://www.fabrikam.com/ *.

## <a name="destination-path"></a>Конечный путь
Для тех случаях, когда в замене сегмент пути URL-адреса перенаправления можно настроить это поле с новым значением пути. В противном случае вы можете сохранить значение пути как часть перенаправления. Таким образом, с помощью этого поля, вы можете перенаправлять все запросы, отправляемые https://www.contoso.com/ * для https://www.contoso.com/redirected-site.

## <a name="query-string-parameters"></a>Параметры строки запроса
Кроме того, можно заменить параметры строки запроса в URL-адрес перенаправления. Чтобы заменить любую существующую строку запроса из входящего URL-адрес запроса, задайте для этого поля «Replace», а затем установите соответствующее значение. В противном случае вы можете сохранить исходный набор строк запроса, задав поле «Preserve». Например, с помощью этого поля можно перенаправить весь трафик отправлялся https://www.contoso.com/foo/bar для https://www.contoso.com/foo/bar?&utm_referrer=https%3A%2F%2Fwww.bing.com%2F. 

## <a name="destination-fragment"></a>Целевом фрагменте
Целевом фрагменте — это часть URL-адреса после «#», обычно используемые браузеры должны переходить на указанном разделе на странице. Можно настроить это поле, чтобы добавить фрагмент URL-адрес перенаправления.

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о [создании Front Door](quickstart-create-front-door.md).
- Дополнительные сведения о том, [как работает Front Door](front-door-routing-architecture.md).

<!--Image references-->
[1]: ./media/front-door-url-redirect/front-door-url-redirect.png