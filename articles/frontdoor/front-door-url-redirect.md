---
title: Передняя дверь Azure - URL Перенаправление Документы Майкрософт
description: Эта статья поможет вам понять, как Azure Front Door поддерживает перенаправление URL для своих маршрутов, если настроен.
services: front-door
documentationcenter: ''
author: sharad4u
ms.service: frontdoor
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/08/2019
ms.author: sharadag
ms.openlocfilehash: 5e3e44c4aee84fe9e2e21174a1d65fdf26b765a2
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "80295473"
---
# <a name="url-redirect"></a>Перенаправление URL-адреса
Вы можете использовать Переднюю дверь Azure для перенаправления трафика. Трафик можно перенаправить на несколько уровней (протокол, имя хоста, строка пути, строка запроса), и вся функциональность может быть настроена для отдельных микрослужб, поскольку перенаправление основано на пути. Это упрощает настройку приложения, оптимизирует использование ресурсов и обеспечивает поддержку новых сценариев перенаправления, включая перенаправление на основе пути и глобальное перенаправление.
</br>

![Url URL-адрес Azure Front Door перенаправить][1]

## <a name="redirection-types"></a>Типы перенаправления
Перенаправление типа устанавливает код статуса ответа для клиентов, чтобы понять цель перенаправления. Поддерживаются следующие типы перенаправления:

- **301 (Перемещено постоянно)**: Указывает на то, что целевому ресурсу был назначен новый постоянный URI, и любые будущие ссылки на этот ресурс должны использовать один из закрытых URI. Используйте код статуса 301 для перенаправления HTTPS на HTTPS. 
- **302 (Найдено)**: Указывает на то, что целевой ресурс временно находится под другим URI. Поскольку перенаправление может быть изменено в некоторых случаях, клиент должен продолжать использовать эффективный запрос URI для будущих запросов.
- **307 (Временное перенаправление)**: Указывает на то, что целевой ресурс временно находится под другим URI, и агент пользователя НЕ должен не изменять метод запроса, если он выполняет автоматическое перенаправление на этот URI. Поскольку перенаправление может меняться с течением времени, клиент должен продолжать использовать исходный эффективный запрос URI для будущих запросов.
- **308 (Постоянное перенаправление)**: Указывает на то, что целевому ресурсу был назначен новый постоянный URI, и любые будущие ссылки на этот ресурс должны использовать один из закрытых URI. Клиенты с возможностями редактирования ссылок, должны автоматически перессылать ссылки на эффективный запрос URI на один или несколько новых ссылок, отправленных сервером, где это возможно.

## <a name="redirection-protocol"></a>Протокол перенаправления
Можно настроить протокол, который будет использоваться для перенаправления. Это позволяет одним из наиболее распространенных случаев использования функции перенаправления, то есть установить HTTP на httpS перенаправление.

- **HTTPS только**: Установите протокол только httpS, если вы хотите перенаправить трафик с HTTP на HTTPS. Передняя дверь Azure рекомендует всегда устанавливать перенаправление только на HTTPS.
- **ТОЛЬКО HTTP**: Это перенаправляет входящий запрос на HTTP. Используйте это значение только в том случае, если вы хотите сохранить трафик HTTP, который не зашифрован.
- **Запрос на соответствие**: Эта опция сохраняет протокол, используемый входящим запросом. Таким образом, запрос HTTP остается HTTP, а запрос HTTPS остается перенаправлением postS HTTPS.

## <a name="destination-host"></a>Пункт назначения
В рамках настройки перенаправления ренативной реукторы можно также изменить имя или домен для запроса на перенаправление. Можно установить это поле для изменения имени хоста в URL для перенаправления или иным образом сохранить имя хоста из входящего запроса. Таким образом, используя это поле, вы `https://www.contoso.com/*` `https://www.fabrikam.com/*`можете перенаправить все запросы, отправленные на .

## <a name="destination-path"></a>Конечный путь
В случаях, когда требуется заменить сегмент пути URL в рамках перенаправления, можно установить это поле с новым значением пути. В противном случае можно сохранить значение пути как часть перенаправления. Таким образом, используя это поле, вы `https://www.contoso.com/\*` можете `https://www.contoso.com/redirected-site`перенаправить все запросы, отправленные на .

## <a name="query-string-parameters"></a>Параметры строки запроса
Параметры строки запроса также можно заменить в перенаправленном URL-адресе. Чтобы заменить любую существующую строку запроса из входящего URL-адреса запроса, установите это поле на "Заменить", а затем установите соответствующее значение. В противном случае можно сохранить исходный набор строк запроса, установив поле на "Сохранение". Например, используя это поле, можно перенаправить `https://www.contoso.com/foo/bar` весь `https://www.contoso.com/foo/bar?&utm_referrer=https%3A%2F%2Fwww.bing.com%2F`трафик, отправленный на . 

## <a name="destination-fragment"></a>Фрагмент назначения
Фрагмент назначения — это часть URL-адреса после 'я', обычно используемая браузерами для посадки в определенный раздел на странице. Можно установить это поле, чтобы добавить фрагмент в URL-адрес перенаправления.

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о [создании Front Door](quickstart-create-front-door.md).
- Дополнительные сведения о том, [как работает Front Door](front-door-routing-architecture.md).

<!--Image references-->
[1]: ./media/front-door-url-redirect/front-door-url-redirect.png