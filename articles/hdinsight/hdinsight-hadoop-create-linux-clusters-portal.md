---
title: Создание кластеров Apache Hadoop с помощью веб-браузера, Azure HDInsight
description: Узнайте, как создавать кластеры Apache Hadoop, Apache HBase, Apache Storm или Apache Spark в Linux для HDInsight с помощью веб-браузера и портал Azure.
author: hrasheed-msft
ms.author: hrasheed
ms.reviewer: jasonh
ms.service: hdinsight
ms.topic: conceptual
ms.custom: hdinsightactive
ms.date: 02/19/2020
ms.openlocfilehash: bcc71b7244ba3498b2fcde023d372e67f41d6117
ms.sourcegitcommit: 5a71ec1a28da2d6ede03b3128126e0531ce4387d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/26/2020
ms.locfileid: "77623203"
---
# <a name="create-linux-based-clusters-in-hdinsight-by-using-the-azure-portal"></a>Создание кластеров под управлением Linux в HDInsight с помощью портала Azure

[!INCLUDE [selector](../../includes/hdinsight-create-linux-cluster-selector.md)]

Портал Azure — это веб-инструмент управления службами и ресурсами, размещенными в облаке Microsoft Azure. Из этой статьи вы узнаете, как создавать кластеры Azure HDInsight под управлением Linux с помощью портала Azure. Дополнительные сведения можно получить из [создания кластеров HDInsight](./hdinsight-hadoop-provision-linux-clusters.md).

[!INCLUDE [delete-cluster-warning](../../includes/hdinsight-delete-cluster-warning.md)]

Портал Azure предоставляет большую часть свойств кластера. С помощью шаблонов Azure Resource Manager можно скрыть множество сведений. Дополнительные сведения см. в статье [Создание кластеров Apache Hadoop в HDInsight с помощью шаблонов Resource Manager](hdinsight-hadoop-create-linux-clusters-arm-templates.md).

Если у вас еще нет подписки Azure, [создайте бесплатную учетную запись Azure](https://azure.microsoft.com/free/?WT.mc_id=A261C142F), прежде чем начинать работу.

## <a name="create-clusters"></a>Создание кластеров

[!INCLUDE [secure-transfer-enabled-storage-account](../../includes/hdinsight-secure-transfer.md)]

1. Войдите на [портал Azure](https://portal.azure.com).

1. В верхнем меню выберите **+ создать ресурс**.

    ![Создание нового кластера в портал Azure](./media/hdinsight-hadoop-create-linux-clusters-portal/azure-portal-create-resource.png "Создание кластера на портале Azure")

1. Выберите **аналитика** > **Azure HDInsight** , чтобы открыть страницу **Создание кластера hdinsight** .

## <a name="basics"></a>Основы

![Основы создания кластера HDInsight](./media/hdinsight-hadoop-create-linux-clusters-portal/azure-portal-cluster-basics.png "Создание кластера на портале Azure")

На вкладке **основы** укажите следующие сведения.

|Свойство |Описание |
|---|---|
|Subscription|В раскрывающемся списке выберите подписку Azure, используемую для кластера.|
|Группа ресурсов|В раскрывающемся списке выберите существующую группу ресурсов или щелкните **создать**.|
|Имя кластера|Введите глобально уникальное имя|
|Регион|В раскрывающемся списке выберите регион, в котором создается кластер.|
|Тип кластера|Щелкните **выбрать тип кластера** , чтобы открыть список. В списке выберите нужный тип кластера. Кластеры HDInsight бывают разных типов. Они соответствуют рабочей нагрузке или технологии, для которой предназначен кластер. Создать кластер, в котором бы объединились несколько типов, нельзя.|
|Версия|В раскрывающемся списке выберите **версию**. Используйте версию по умолчанию, если не уверены, что именно нужно выбрать. Дополнительные сведения см. в статье [Что представляют собой компоненты и версии Hadoop, доступные в HDInsight?](hdinsight-component-versioning.md)|
|Имя пользователя для входа в кластер|Укажите имя пользователя, значение по умолчанию — **Admin**.|
|Пароль для входа в кластер|Укажите пароль.|
|Подтверждение пароля для входа в кластер|Введите пароль повторно|
|Имя пользователя для Secure Shell (SSH)|Укажите имя пользователя, значение по умолчанию — **sshuser** .|
|Использование пароля для входа в кластер для SSH|Если вам нужен тот же пароль SSH, что и пароль администратора, указанный ранее, установите флажок **использовать пароль для входа в кластер для SSH** . В противном случае введите **пароль** или **открытый ключ**, которые будут использоваться для аутентификации пользователя SSH. Мы рекомендуем использовать открытый ключ. Нажмите кнопку **Выбрать** внизу страницы, чтобы сохранить учетные данные конфигурации.  Дополнительные сведения см. в руководстве по [подключению к HDInsight (Apache Hadoop) с помощью SSH](hdinsight-hadoop-linux-use-ssh-unix.md).|

Нажмите кнопку **Далее: > > хранилища** , чтобы перейти на следующую вкладку.

## <a name="storage"></a>Память

![Хранилище для создания кластера HDInsight](./media/hdinsight-hadoop-create-linux-clusters-portal/azure-portal-cluster-storage.png "Создание нового кластера в хранилище портал Azure")

### <a name="primary-storage"></a>Основное хранилище

В раскрывающемся списке для **типа первичного хранилища**выберите тип хранилища по умолчанию. Последующие поля для заполнения будут зависеть от выбранного. Для службы **хранилища Azure**:

1. В качестве **метода выбора**выберите либо **выбрать из списка**, либо **использовать ключ доступа**.
    * В **списке выбрать из**выберите свою **основную учетную запись хранения** из раскрывающегося списка или выберите **создать новый**.
    * Для параметра **использовать ключ доступа**введите **имя учетной записи хранения**. Затем укажите **ключ доступа**.

1. Для параметра **контейнер**оставьте значение по умолчанию или введите новое.

### <a name="additional-azure-storage"></a>Дополнительная служба хранилища Azure

Необязательно. Выберите **Добавить службу хранилища Azure** для дополнительного хранилища кластера. Использование дополнительной учетной записи хранения в регионе, отличном от региона кластера HDInsight, не поддерживается.

### <a name="metastore-settings"></a>Параметры хранилище метаданных

Необязательно. Укажите существующую базу данных SQL для сохранения метаданных Apache Hive, Apache Oozie и (или) Apache Ambari за пределами кластера. База данных SQL Azure, используемая для хранилище метаданных, должна разрешать подключение к другим службам Azure, включая Azure HDInsight. При создании хранилища метаданных не следует использовать в названиях базы данных тире или дефисы. Это может привести к сбою при создании кластера.

Выберите **Далее: безопасность + сетевые > >** , чтобы перейти на следующую вкладку.

## <a name="security--networking"></a>Безопасность и работа в сети

![Создание сетей безопасности кластера HDInsight](./media/hdinsight-hadoop-create-linux-clusters-portal/azure-portal-cluster-security-networking.png "Создание сетей безопасности кластера HDInsight")

На вкладке **безопасность и сеть** укажите следующие сведения.

|Свойство |Описание |
|---|---|
|Пакет безопасности корпоративного уровня|Необязательно: установите флажок, чтобы использовать **Корпоративный пакет безопасности**. Дополнительные сведения см. в статье [Настройка кластера HDInsight с корпоративный пакет безопасности с помощью доменных служб Azure Active Directory](./domain-joined/apache-domain-joined-configure-using-azure-adds.md).|
|TLS|Необязательно. Выберите версию TLS из раскрывающегося списка. Дополнительные сведения см. в разделе [безопасность транспортного уровня](./hdinsight-plan-virtual-network-deployment.md#transport-layer-security).|
|Виртуальная сеть|Необязательно. Выберите в раскрывающемся списке существующую виртуальную сеть и подсеть. Дополнительные сведения см. [в статье Планирование развертывания виртуальной сети для кластеров Azure HDInsight](hdinsight-plan-virtual-network-deployment.md). Статья содержит конкретные требования к конфигурации виртуальной сети.|
|Параметры шифрования диска|Необязательно. Установите флажок, чтобы использовать шифрование. Дополнительные сведения см. в разделе [Шифрование диска, управляемого клиентом](./disk-encryption.md).|
|Прокси-сервер REST для Kafka|Этот параметр доступен только для типа кластера Kafka. Дополнительные сведения см. в разделе [использование прокси-сервера RESTful](./kafka/rest-proxy.md).|
|Тождество|Необязательно. Выберите существующее удостоверение службы, назначенное пользователем, из раскрывающегося списка. Дополнительные сведения см. [в статье управляемые удостоверения в Azure HDInsight](./hdinsight-managed-identities.md).|

Выберите **Далее: Конфигурация + цены > >** , чтобы перейти на следующую вкладку.

## <a name="configuration--pricing"></a>Настройка и цены

![Создание конфигурации кластера HDInsight](./media/hdinsight-hadoop-create-linux-clusters-portal/azure-portal-cluster-configuration.png "Вкладка "Конфигурация и цены"")

На вкладке **Настройка и цены** укажите следующие сведения.

|Свойство |Описание |
|---|---|
|+ Добавить приложение|Необязательно. Выберите любые нужные приложения. Эти приложения могут разрабатывать корпорация Майкрософт, независимые поставщики программного обеспечения (ISV) или вы сами. Дополнительные сведения см. в разделе [Установка приложения во время создания кластера](hdinsight-apps-install-applications.md#install-applications-during-cluster-creation).|
|Размер узла|Необязательно. Выберите узел другого размера.|
|Число узлов|Необязательно. Введите число узлов для указанного типа узла. Если вы планируете более 32 рабочих узлов, выберите размер головного узла по крайней мере с восемью ядрами и 14 ГБ ОЗУ. Планируйте количество узлов либо при создании кластера, либо путем масштабирования кластера после создания.|
|Включение автомасштабирования|Необязательно. Установите флажок, чтобы включить эту функцию. Дополнительные сведения см. в статье [Автоматическое масштабирование кластеров Azure HDInsight](./hdinsight-autoscale-clusters.md).|
|+ Добавить действие скрипта|Необязательно. Этот параметр работает, если вы хотите использовать пользовательский скрипт для настройки кластера при создании кластера. Дополнительные сведения о действиях сценариев см. в статье [Настройка кластеров HDInsight под управлением Linux с помощью действий сценариев](hdinsight-hadoop-customize-cluster-linux.md).|

Выберите **Проверка и создание > >** , чтобы проверить конфигурацию кластера и перейти на последнюю вкладку.

## <a name="review--create"></a>Отзыв и создание

![Сводка по созданию кластера HDInsight](./media/hdinsight-hadoop-create-linux-clusters-portal/azure-portal-cluster-review-create-hadoop.png "Укажите число узлов кластера")

Проверьте параметры. Выберите **Создать**, чтобы создать кластер.

Обычно создание кластера занимает около 20 минут. Проверьте **Уведомления**, чтобы узнать, как идет процесс подготовки.

## <a name="post-creation"></a>После создания

Когда кластер будет создан, нажмите кнопку **Перейти к ресурсу** в уведомлении **Развертывание прошло успешно**. В окне кластера содержатся следующие сведения.

![Общие сведения о кластере HDI портал Azure](./media/hdinsight-hadoop-create-linux-clusters-portal/hdinsight-create-cluster-completed.png "Свойства кластера")

Некоторые значки в окне описаны ниже.

|Свойство | Описание |
|---|---|
|Обзор|Предоставляет все ценные сведения о кластере. Например, имя, группа ресурсов, к которой она принадлежит, расположение, операционная система и URL-адрес панели мониторинга кластера.|
|Панели мониторинга кластера|Направляет вас на портал Ambari, связанный с кластером.|
|SSH + вход в кластер|Предоставляет сведения, необходимые для доступа к кластеру с помощью SSH.|
|Удаление|Удаление кластера HDInsight.|

## <a name="customize-clusters"></a>Настройка кластеров

* [Настройка кластеров HDInsight с помощью начальной загрузки](hdinsight-hadoop-customize-cluster-bootstrap.md)
* [Настройка кластеров HDInsight под управлением Linux с помощью действий сценариев](hdinsight-hadoop-customize-cluster-linux.md)

## <a name="delete-the-cluster"></a>Удаление кластера

См. раздел [Удаление кластера HDInsight с помощью браузера, PowerShell или Azure CLI](./hdinsight-delete-cluster.md).

## <a name="troubleshoot"></a>Устранение неполадок

Если при создании кластеров HDInsight возникли проблемы, см. раздел [Создание кластеров](./hdinsight-hadoop-customize-cluster-linux.md#access-control).

## <a name="next-steps"></a>Следующие шаги

Вы успешно создали кластер HDInsight. Теперь узнайте, как работать с кластером.

### <a name="apache-hadoop-clusters"></a>Кластеры Apache Hadoop

* [Использование Hive и HiveQL с Hadoop в HDInsight для анализа примера файла Apache log4j](hadoop/hdinsight-use-hive.md)
* [Использование MapReduce с HDInsight](hadoop/hdinsight-use-mapreduce.md)

### <a name="apache-hbase-clusters"></a>Кластеры Apache HBase

* [Начало работы с Apache HBase в HDInsight](hbase/apache-hbase-tutorial-get-started-linux.md)
* [Разработка приложений Java для Apache HBase в HDInsight](hbase/apache-hbase-build-java-maven-linux.md)

### <a name="apache-storm-clusters"></a>Кластеры Apache Storm

* [Создание топологий для Apache Storm в HDInsight на языке Java](storm/apache-storm-develop-java-topology.md)
* [Использование компонентов Python в Apache Storm в HDInsight](storm/apache-storm-develop-python-topology.md)
* [Развертывание и мониторинг топологии с помощью Apache Storm в HDInsight.](storm/apache-storm-deploy-monitor-topology-linux.md)

### <a name="apache-spark-clusters"></a>Кластеры Apache Spark

* [Руководство. Создание приложения Scala Maven для Apache Spark в HDInsight с помощью IntelliJ](spark/apache-spark-create-standalone-application.md)
* [Удаленная отправка заданий Spark в кластер Azure HDInsight с помощью Apache Spark REST API](spark/apache-spark-livy-rest-interface.md)
* [Руководство. Анализ данных Apache Spark с использованием Power BI в HDInsight](spark/apache-spark-use-bi-tools.md)
* [Apache Spark и Машинное обучение. Прогнозирование результатов проверки пищевых продуктов с помощью Spark в HDInsight](spark/apache-spark-machine-learning-mllib-ipython.md)
