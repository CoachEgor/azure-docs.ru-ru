---
title: Создание кластеров Apache Hadoop с помощью веб-браузера, Azure HDInsight
description: Узнайте, как создавать кластеры Apache Hadoop, Apache HBase, Apache Storm или Apache Spark в Linux для HDInsight с помощью веб-браузера и портал Azure.
author: hrasheed-msft
ms.author: hrasheed
ms.reviewer: jasonh
ms.service: hdinsight
ms.custom: hdinsightactive
ms.topic: conceptual
ms.date: 11/13/2019
ms.openlocfilehash: 820ddb8d06cfd2aac2b053305f23ad330e4fd7c3
ms.sourcegitcommit: d6b68b907e5158b451239e4c09bb55eccb5fef89
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2019
ms.locfileid: "74215915"
---
# <a name="create-linux-based-clusters-in-hdinsight-by-using-the-azure-portal"></a>Создание кластеров под управлением Linux в HDInsight с помощью портала Azure

[!INCLUDE [selector](../../includes/hdinsight-create-linux-cluster-selector.md)]

Портал Azure — это веб-инструмент управления службами и ресурсами, размещенными в облаке Microsoft Azure. Из этой статьи вы узнаете, как создавать кластеры Azure HDInsight под управлением Linux с помощью портала Azure.

[!INCLUDE [delete-cluster-warning](../../includes/hdinsight-delete-cluster-warning.md)]

## <a name="prerequisites"></a>предварительным требованиям

* **Подписка Azure**. Просмотрите видео о том, [как получить бесплатную пробную версию Azure для тестирования Hadoop в HDInsight](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).
* **Современный браузер**. Портал Azure использует HTML5 и JavaScript. Он может неправильно работать в старых браузерах.

## <a name="create-clusters"></a>Создание кластеров

Портал Azure предоставляет большую часть свойств кластера. С помощью шаблонов Azure Resource Manager можно скрыть множество сведений. Дополнительные сведения см. в статье [Создание кластеров Apache Hadoop в HDInsight с помощью шаблонов Resource Manager](hdinsight-hadoop-create-linux-clusters-arm-templates.md).

[!INCLUDE [secure-transfer-enabled-storage-account](../../includes/hdinsight-secure-transfer.md)]

1. Войдите на [портале Azure](https://portal.azure.com).

1. В меню слева выберите **+ создать ресурс** >  **Analytics** > **Azure HDInsight**.

    ![Создание нового кластера в портал Azure](./media/hdinsight-hadoop-create-linux-clusters-portal/hdinsight-create-cluster.png "Создание кластера на портале Azure")

1. На странице **Создание кластера HDInsight** выберите пункт **Переход к классическому интерфейсу создания**.

    ![Выберите классический интерфейс создания](./media/hdinsight-hadoop-create-linux-clusters-portal/azure-portal-cluster-create-classic.png)

1. На странице **HDInsight** выберите параметр **Настраиваемое (размер, параметры, приложения)** .

1. Выберите раздел **1, "Основные сведения"** . Затем введите следующие сведения:

    |Свойство |ОПИСАНИЕ |
    |---|---|
    |Имя кластера|Оно должно быть глобально уникальным.|
    |подписку|В раскрывающемся списке выберите подписку Azure, используемую для кластера.|
    |Тип кластера|Выберите тип кластера, который вы хотите создать. Например, Hadoop и Apache Spark. В поле **Операционная система** нужно выбрать **Linux**. Далее выберите версию типа кластера. Используйте версию по умолчанию, если не уверены, что именно нужно выбрать. Дополнительные сведения см. в статье [Что представляют собой различные компоненты Hadoop, доступные в HDInsight](hdinsight-component-versioning.md).|
    |Имя пользователя для входа в кластер|Укажите имя пользователя, значение по умолчанию — **Admin**.|
    |Пароль для входа в кластер|Укажите пароль.|
    |Имя пользователя для Secure Shell (SSH)|Значение по умолчанию — **sshuser**. Если вам нужен тот же пароль SSH, что и пароль администратора, указанный ранее, установите флажок **использовать пароль для входа в кластер для SSH** . В противном случае введите **пароль** или **открытый ключ**, которые будут использоваться для аутентификации пользователя SSH. Мы рекомендуем использовать открытый ключ. Нажмите кнопку **Выбрать** внизу страницы, чтобы сохранить учетные данные конфигурации.  Дополнительные сведения см. в руководстве по [подключению к HDInsight (Apache Hadoop) с помощью SSH](hdinsight-hadoop-linux-use-ssh-unix.md).|
    |Группа ресурсов|Укажите, следует ли создать новую группу ресурсов или использовать имеющуюся.|
    |Место проведения|Укажите центр обработки данных, в котором создан кластер.|

    ![Основы создания кластера HDInsight](./media/hdinsight-hadoop-create-linux-clusters-portal/hdinsight-create-cluster-basics.png "Создание кластера на портале Azure")

    > [!IMPORTANT]  
    > Кластеры HDInsight бывают разных типов. Они соответствуют рабочей нагрузке или технологии, для которой предназначен кластер. Создать кластер, в котором бы объединились несколько типов, нельзя. Например, Storm и HBase в одном кластере.

    Чтобы перейти к следующему шагу, нажмите кнопку **Далее**.

1. В разделе **2, "Безопасность и сети",** можно подключить кластер к виртуальной сети с помощью раскрывающегося меню. Выберите виртуальную сеть Azure и подсеть для размещения кластера в виртуальной сети. Сведения об использовании HDInsight с виртуальной сетью см. в статье [Планирование развертывания виртуальной сети для кластеров Azure HDInsight](hdinsight-plan-virtual-network-deployment.md). Статья содержит конкретные требования к конфигурации виртуальной сети.

    Если вы хотите использовать **Корпоративный пакет безопасности**, выполните следующие действия: [Настройка кластера HDInsight с корпоративный пакет безопасности с помощью доменных служб Azure Active Directory](https://docs.microsoft.com/azure/hdinsight/domain-joined/apache-domain-joined-configure-using-azure-adds).

    Чтобы перейти к следующему шагу, нажмите кнопку **Далее**.

1. Из **3 хранилища**для **параметров учетной записи хранения**укажите, требуется ли хранилище Azure или Azure Data Lake Storage в качестве хранилища по умолчанию. Дополнительные сведения приведены в таблице ниже.

    | Тип первичного хранилища | ОПИСАНИЕ |
    |------------------|-------------|
    | Хранилище Azure   |  * Для **метода выбора**выберите **Мои подписки** , если вы хотите указать учетную запись хранения, которая является частью подписки Azure. Затем выберите свою учетную запись хранения. В противном случае щелкните **Ключ доступа**. Затем укажите сведения об учетной записи хранения, которая не входит в вашу подписку Azure.</br></br> * Для **контейнера по умолчанию**выберите имя контейнера по умолчанию, предлагаемое порталом, или укажите собственное.</br></br> * Если хранилище BLOB-объектов Azure является хранилищем по умолчанию, можно также выбрать **дополнительные учетные записи хранения** , чтобы указать дополнительные учетные записи хранения, связываемые с кластером. Для параметра **Ключи хранилища Azure** выберите **Добавить ключ хранилища**. Затем можно предоставить учетную запись хранения из подписок Azure или из других подписок. Укажите ключ доступа к учетной записи хранения.</br></br> * Если хранилище BLOB-объектов является хранилищем по умолчанию, можно также выбрать **Data Lake Storage доступ** , чтобы указать Azure Data Lake Storage в качестве дополнительного хранилища. Дополнительные сведения см. в статье [Краткое руководство по установке кластеров в HDInsight](../storage/data-lake-storage/quickstart-create-connect-hdi-cluster.md).</li></ul> |
    | Хранилище Azure Data Lake. | Выберите **Azure Data Lake Storage 1-го поколения** или **Azure Data Lake Storage 2-го поколения**. См. инструкции в разделе [Настройка кластеров в HDInsight](../storage/data-lake-storage/quickstart-create-connect-hdi-cluster.md) . |

    **Параметры хранилище метаданных (необязательно)**

    При необходимости укажите базу данных SQL Azure, в которой будут храниться связанные с кластером метаданные Apache Hive и Apache Oozie. Для параметра **Выбрать базу данных SQL для Hive** выберите базу данных SQL. Затем введите имя пользователя и пароль для базы данных. Повторите эти действия для метаданных Oozie.

    Ниже приведены важные особенности при использовании базы данных Azure SQL для хранилищ метаданных:
    * База данных Azure SQL, используемая в качестве хранилища метаданных, должна обеспечивать подключение к другим службам Azure, в том числе Azure HDInsight. На панели мониторинга базы данных SQL Azure в правой части щелкните имя сервера. На этом сервере выполняется экземпляр базы данных SQL. В представлении сервера выберите **Настроить**. Затем для параметра **Службы Azure** выберите значение **Да**. Затем выберите **Сохранить**.
    * При создании хранилища метаданных не следует использовать в названиях базы данных тире или дефисы. Это может привести к сбою при создании кластера.

    ![Хранилище для создания кластера HDInsight](./media/hdinsight-hadoop-create-linux-clusters-portal/hdinsight-create-cluster-storage.png "Создание кластера на портале Azure")

    > [!WARNING]  
    > Использование дополнительной учетной записи хранения, расположение которой отличается от расположения кластера HDInsight, не поддерживается.

    Чтобы перейти к следующему шагу, нажмите кнопку **Далее**.

1. В разделе **4, "Приложения (необязательно)",** выберите любые необходимые приложения. Эти приложения могут разрабатывать корпорация Майкрософт, независимые поставщики программного обеспечения (ISV) или вы сами. Дополнительные сведения см. в разделе [Установка приложения во время создания кластера](hdinsight-apps-install-applications.md#install-applications-during-cluster-creation).

    Чтобы перейти к следующему шагу, нажмите кнопку **Далее**.

1. В разделе **5, "Размер кластера",** отображаются сведения об узлах, которые используются для этого кластера. Задайте количество рабочих узлов, необходимых для кластера. Также показана предполагаемая стоимость использования кластера.

    ![Создание узлов кластера HDInsight](./media/hdinsight-hadoop-create-linux-clusters-portal/hdinsight-create-cluster-nodes.png "Укажите число узлов кластера")

   > [!IMPORTANT]  
   > Если вы планируете использовать более 32 рабочих узлов, для головного узла потребуется минимум 8-ядерный процессор и 14 ГБ ОЗУ. Планируйте количество узлов либо при создании кластера, либо путем масштабирования кластера после создания.
   >
   > Дополнительные сведения о размерах узлов и их стоимости см. на странице с [ценами на Azure HDInsight](https://azure.microsoft.com/pricing/details/hdinsight/).

    Чтобы перейти к следующему шагу, нажмите кнопку **Далее**.

1. В разделе **6, "Действия скрипта",** можно настроить кластер для установки пользовательских компонентов. Используйте этот параметр, если хотите использовать настраиваемый сценарий для настройки кластера во время его создания. Дополнительные сведения о действиях сценариев см. в статье [Настройка кластеров HDInsight под управлением Linux с помощью действий сценариев](hdinsight-hadoop-customize-cluster-linux.md).

   Чтобы перейти к следующему шагу, нажмите кнопку **Далее**.

1. В разделе **7, "Сводка",** проверьте введенные ранее сведения. Щелкните **Создать**.

    ![Сводка по созданию кластера HDInsight](./media/hdinsight-hadoop-create-linux-clusters-portal/hdinsight-create-cluster-summary.png "Укажите число узлов кластера")

    > [!NOTE]  
    > Обычно создание кластера занимает около 20 минут. Проверьте **Уведомления**, чтобы узнать, как идет процесс подготовки.

1. Когда кластер будет создан, нажмите кнопку **Перейти к ресурсу** в уведомлении **Развертывание прошло успешно**. В окне кластера содержатся следующие сведения.

    ![Общие сведения о кластере HDI портал Azure](./media/hdinsight-hadoop-create-linux-clusters-portal/hdinsight-create-cluster-completed.png "Свойства кластера")

    Некоторые значки в окне описаны ниже.

    |Свойство | ОПИСАНИЕ |
    |---|---|
    |Обзор|Предоставляет все ценные сведения о кластере. Например, имя, группа ресурсов, к которой она принадлежит, расположение, операционная система и URL-адрес панели мониторинга кластера.|
    |Панели мониторинга кластера|Направляет вас на портал Ambari, связанный с кластером.|
    |SSH + вход в кластер|Предоставляет сведения, необходимые для доступа к кластеру с помощью SSH.|
    |Удалить|Удаление кластера HDInsight.|

## <a name="customize-clusters"></a>Настройка кластеров

* [Настройка кластеров HDInsight с помощью начальной загрузки](hdinsight-hadoop-customize-cluster-bootstrap.md)
* [Настройка кластеров HDInsight под управлением Linux с помощью действий сценариев](hdinsight-hadoop-customize-cluster-linux.md)

## <a name="delete-the-cluster"></a>Удаление кластера

[!INCLUDE [delete-cluster-warning](../../includes/hdinsight-delete-cluster-warning.md)]

## <a name="troubleshoot"></a>Устранение неполадок

Если при создании кластеров HDInsight возникли проблемы, см. раздел [Создание кластеров](hdinsight-hadoop-create-linux-clusters-portal.md).

## <a name="next-steps"></a>Дополнительная информация

Вы успешно создали кластер HDInsight. Теперь узнайте, как работать с кластером.

### <a name="apache-hadoop-clusters"></a>Кластеры Apache Hadoop

* [Использование Hive и HiveQL с Hadoop в HDInsight для анализа примера файла Apache log4j](hadoop/hdinsight-use-hive.md)
* [Использование MapReduce с HDInsight](hadoop/hdinsight-use-mapreduce.md)

### <a name="apache-hbase-clusters"></a>Кластеры Apache HBase

* [Начало работы с Apache HBase в HDInsight](hbase/apache-hbase-tutorial-get-started-linux.md)
* [Разработка приложений Java для Apache HBase в HDInsight](hbase/apache-hbase-build-java-maven-linux.md)

### <a name="apache-storm-clusters"></a>Кластеры Apache Storm

* [Создание топологий для Apache Storm в HDInsight на языке Java](storm/apache-storm-develop-java-topology.md)
* [Использование компонентов Python в Apache Storm в HDInsight](storm/apache-storm-develop-python-topology.md)
* [Развертывание и мониторинг топологии с помощью Apache Storm в HDInsight.](storm/apache-storm-deploy-monitor-topology-linux.md)

### <a name="apache-spark-clusters"></a>Кластеры Apache Spark

* [Руководство. Создание приложения Scala Maven для Apache Spark в HDInsight с помощью IntelliJ](spark/apache-spark-create-standalone-application.md)
* [Удаленная отправка заданий Spark в кластер Azure HDInsight с помощью Apache Spark REST API](spark/apache-spark-livy-rest-interface.md)
* [Руководство. Анализ данных Apache Spark с использованием Power BI в HDInsight](spark/apache-spark-use-bi-tools.md)
* [Apache Spark и Машинное обучение. Прогнозирование результатов проверки пищевых продуктов с помощью Spark в HDInsight](spark/apache-spark-machine-learning-mllib-ipython.md)
