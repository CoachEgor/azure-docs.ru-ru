---
title: Azure HDInsight ускорением операций записи для Apache HBase
description: Обзор функции Accelerated записывает Azure HDInsight, которая использует управляемые диски класса premium для повышения производительности Apache HBase дальше использовать журнал.
services: hdinsight
ms.service: hdinsight
author: hrasheed-msft
ms.author: hrasheed
ms.topic: conceptual
ms.date: 4/29/2019
ms.openlocfilehash: 219899c2e336f544ff6572589cc79f84f555490d
ms.sourcegitcommit: 2ce4f275bc45ef1fb061932634ac0cf04183f181
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2019
ms.locfileid: "65233832"
---
# <a name="azure-hdinsight-accelerated-writes-for-apache-hbase"></a>Azure HDInsight ускорением операций записи для Apache HBase

В этой статье приводятся основные сведения о **Accelerated записывает** компонент для Apache HBase в Azure HDInsight и как его можно эффективно для повышения производительность записи. **Ускоренная запись** использует [Azure уровня "премиум" SSD управляемые диски](../../virtual-machines/linux/disks-types.md#premium-ssd) для повышения производительности из Apache HBase записи вперед журнала (WAL). Дополнительные сведения об Apache HBase, см. в разделе [что такое Apache HBase в HDInsight](apache-hbase-overview.md).

## <a name="overview-of-hbase-architecture"></a>Общие сведения об архитектуре HBase

В HBase **строки** состоит из одного или нескольких **столбцы** и идентифицируется по **ключ строки**. Несколько строк составляют **таблицы**. Столбцы содержат **ячеек**, которые являются версии с меткой времени значений в этом столбце. Столбцы группируются в **семейства столбцов**, и все столбцы в семействе столбцов хранятся в хранилище файлов вызывается **файлы HFiles**.

**Регионы** в HBase используются для балансировки сетевой нагрузки обработки данных. Сначала HBase хранит строки таблицы в одном регионе. Строки могут быть распределены между несколькими регионами как объем данных в таблице увеличивается. **Региональные серверы** может обрабатывать запросы для нескольких областей.

## <a name="write-ahead-log-for-apache-hbase"></a>Написание упреждающее протоколирование для Apache HBase

HBase сначала записывает обновления данных с типом журнала фиксации, именем записи вперед журнала (WAL). После обновления хранятся в WAL, он записывается в памяти **MemStore**. Когда данные в памяти достигает своего максимального размера, он записываются на диск как **HFile**.

Если **RegionServer** аварийно завершает работу или становится недоступным, прежде чем оно переносится, дальше использовать журнал можно использовать для воспроизведения обновлений. Без WAL Если **RegionServer** аварийно завершает работу перед освобождением обновления **HFile**, все эти обновления будут потеряны.

## <a name="accelerated-writes-feature-in-azure-hdinsight-for-apache-hbase"></a>Ускорение функция записи в Azure HDInsight для Apache HBase

Функция ускоренной записывает устранены выше записи задержки, вызванные с помощью упреждающее протоколирование в Облачное хранилище.  Кластеры функцию Accelerated записывает для HDInsight Apache HBase, присоединение SSD-управляемые диски класса premium для каждого RegionServer (рабочий узел). Записи упреждающее протоколирование затем записываются в файл системы Hadoop (HDFS) на эти управляемые диски класса premium — вместо облачного хранилища.  Управляемые диски уровня "премиум" используйте используются твердотельные накопители (SSD) и обеспечивают превосходную производительность ввода-вывода с устойчивость к сбоям.  В отличие от неуправляемых дисков одной единицы хранилища выходит из строя, не влияет на другие единиц хранения в той же группе доступности.  Таким образом управляемые диски обеспечивают высокоскоростной записи и лучшую устойчивость для ваших приложений. Дополнительные сведения о дисках с управлением Azure, см. в разделе [введение в Azure управляемые диски](../../virtual-machines/windows/managed-disks-overview.md). 

## <a name="how-to-enable-accelerated-writes-for-hbase-in-hdinsight"></a>Включение Accelerated записывает для HBase в HDInsight

Чтобы создать новый кластер HBase с помощью функции Accelerated записывает, выполните действия, описанные в [Установка кластеров в HDInsight](../hdinsight-hadoop-provision-linux-clusters.md) пока не достигнете **шаг 3 "," хранилище**. В разделе **параметры хранилища метаданных**, установите флажок рядом с полем **включить Accelerated записывает (Предварительная версия)**. После этого продолжите оставшиеся шаги для создания кластера.

![Включите параметр операции ускоренной записи для HDInsight Apache HBase](./media/apache-hbase-accelerated-writes/accelerated-writes-cluster-creation.png)

## <a name="other-considerations"></a>Дополнительные рекомендации

Чтобы сохранить Устойчивость данных, создайте кластер с как минимум трех рабочих узлов. После создания нельзя масштабировать кластер до менее трех рабочих узлов.

Очистить или отключить таблицы HBase перед удалением кластера, таким образом, чтобы не потерять данные дальше использовать журнал.

```
flush 'mytable'
```

```
disable 'mytable'
```

## <a name="next-steps"></a>Дальнейшие действия

* Официальная документация по Apache HBase на [дальше использовать журнал-функция](https://hbase.apache.org/book.html#wal)
* Чтобы обновить кластер HDInsight Apache HBase для использования Accelerated записывает, см. в разделе [перенос данных кластера Apache HBase в новую версию](apache-hbase-migrate-new-version.md).
