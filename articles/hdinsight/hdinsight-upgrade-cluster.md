---
title: Миграция кластера в новую версию
titleSuffix: Azure HDInsight
description: Узнайте о рекомендациях по переносу кластера Azure HDInsight в новую версию.
author: hrasheed-msft
ms.author: hrasheed
ms.reviewer: jasonh
ms.service: hdinsight
ms.topic: conceptual
ms.custom: hdinsightactive
ms.date: 01/31/2020
ms.openlocfilehash: f7198aeff5e9ef6d37e29c2336dc38e4eec0dda1
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77023979"
---
# <a name="migrate-hdinsight-cluster-to-a-newer-version"></a>Перенести кластер HDInsight в новую версию

Чтобы воспользоваться новейшими функциями HDInsight, мы рекомендуем регулярно переходить на последние версии кластеров HDInsight. HDInsight не поддерживает обновления на месте, где существующий кластер обновляется до более новой версии компонентов. Необходимо создать новый кластер с желаемой версией компонента и платформы, а затем перенести приложения для использования нового кластера. Следуйте приведенам в приведенных ниже рекомендациях по переносу версий кластеров HDInsight.

> [!NOTE]  
> См. дополнительные сведения о [поддерживаемых версиях компонентов HDInsight](hdinsight-component-versioning.md#supported-hdinsight-versions).

## <a name="migration-tasks"></a>Задачи миграции

Рабочий процесс для обновления кластера HDInsight выглядит так.
![Диаграмма рабочего процесса HDInsight обновляется](./media/hdinsight-upgrade-cluster/upgrade-workflow-diagram.png)

1. Ознакомьтесь со всеми разделами этого документа. Там описаны изменения, которые могут потребоваться при обновлении кластера HDInsight.
2. Создайте кластер как среду тестирования и контроля качества. См. дополнительные сведения о [создании кластеров под управлением Linux в HDInsight](hdinsight-hadoop-provision-linux-clusters.md).
3. Скопируйте в новую среду существующие задания, источники данных и приемники.
4. Выполните проверочное тестирование, чтобы убедиться, что задания должным образом работают новом кластере.

Убедившись, что все работает правильно, запланируйте время простоя для миграции. Во время этого простоя выполните следующие действия.

1. Создайте резервную копию всех временных данных, хранящихся локально на узлах кластера. Например, к ним могут относиться данные, которые хранятся непосредственно на головном узле.
1. [Удалите существующий кластер.](./hdinsight-delete-cluster.md)
1. Создайте кластер в той же подсети виртуальной сети, в которой находится последняя (или поддерживаемая) версия HDI, используя то же хранилище данных по умолчанию, что и для предыдущего кластера. Это позволит новому кластеру продолжить работу с существующими рабочими данными.
1. Импортируйте все временные данные из резервной копии.
1. Запустите задания и продолжите обработку с помощью нового кластера.

## <a name="workload-specific-guidance"></a>Конкретные рекомендации по рабочей нагрузке

В следующих документах содержатся рекомендации о том, как перенести определенные рабочие нагрузки:

* [Мигрировать HBase](./hbase/apache-hbase-migrate-new-version.md)
* [Мигрировать Кафка](./kafka/migrate-versions.md)
* [Мигрировать Hive /Интерактивный запрос](./interactive-query/apache-hive-migrate-workloads.md)

## <a name="backup-and-restore"></a>Резервное копирование и восстановление

Для получения дополнительной [информации](../sql-database/sql-database-recovery-using-backups.md)о резервной базе данных и восстановлении см.

## <a name="next-steps"></a>Дальнейшие действия

* [Узнайте, как создавать кластеры HDInsight под управлением Linux](hdinsight-hadoop-provision-linux-clusters.md)
* [Подключитесь к HDInsight с помощью протокола SSH](hdinsight-hadoop-linux-use-ssh-unix.md).
* [Управление кластерами HDInsight с помощью веб-интерфейса Ambari](hdinsight-hadoop-manage-ambari.md) (для кластера Linux)
* [Заметки о выпуске HDInsight](./hdinsight-version-release.md)
