---
title: Как выбрать правильный размер VM для кластера Azure HDInsight
description: Узнайте, как выбрать правильный размер VM для кластера HDInsight.
keywords: vm размеры, размеры кластеров, конфигурация кластера
author: hrasheed-msft
ms.author: hrasheed
ms.reviewer: jasonh
ms.service: hdinsight
ms.custom: hdinsightactive
ms.topic: conceptual
ms.date: 10/09/2019
ms.openlocfilehash: a21e8d6c76c93b3084619c09f6a7664a25c1929c
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "73682204"
---
# <a name="selecting-the-right-vm-size-for-your-azure-hdinsight-cluster"></a>Выбор правильного размера VM для кластера Azure HDInsight

В этой статье обсуждается, как выбрать правильный размер VM для различных узлов в кластере HDInsight. 

Начните с понимания того, как свойства виртуальной машины, такие как обработка процессора, размер оперативной памяти и задержка сети, повлияют на обработку рабочих нагрузок. Затем подумайте о своем приложении и о том, как оно соотносится с тем, для чего оптимизированы различные семейства VM. Убедитесь, что семейство VM, которое вы хотели бы использовать, совместимо с типом кластера, который планируется развернуть. Для списка всех поддерживаемых и рекомендуемых размеров VM для каждого типа кластера [см.](hdinsight-supported-node-configuration.md) Наконец, вы можете использовать процесс бенчмаркинга, чтобы проверить некоторые примеры рабочих нагрузок и проверить, какой SKU в этой семье подходит именно вам.

Для получения дополнительной информации о планировании других аспектов кластера, [Capacity planning for HDInsight clusters](hdinsight-capacity-planning.md)таких как выбор типа хранилища или размера кластера, см.

## <a name="vm-properties-and-big-data-workloads"></a>Свойства VM и рабочие нагрузки больших данных

Размер и тип виртуальной машины определяется вычислительной мощностью ЦП, объемом оперативной памяти и задержкой сети.

- ЦП: размер виртуальной машины определяет число ядер. Чем больше ядер, тем более высокой степени распараллеливания вычислений может достичь каждый узел. Кроме того, в некоторых типах виртуальных машин используются более быстрые ядра.

- ОЗУ: размер виртуальной машины также определяет ее объем ОЗУ. В случае рабочих нагрузок, требующих хранения данных в памяти для обработки, а не их чтения с диска, следует убедиться, что на рабочих узлах достаточно памяти для размещения данных.

- Сеть: Для большинства типов кластеров данные, обрабатываемые кластером, не на локальном диске, а в внешней службе хранения данных, такой как Хранение озер данных или Хранилище Azure. Оцените пропускную способность сети и пропускную способность между виртуальной машиной узла и службой хранилища. Как правило, пропускная способность сети виртуальной машины большего размера также выше. Дополнительные сведения см. в разделе [Размеры виртуальных машин Linux в Azure](https://docs.microsoft.com/azure/virtual-machines/linux/sizes).

## <a name="understanding-vm-optimization"></a>Понимание оптимизации ВМ

Виртуальные семейства машин в Azure оптимизированы в соответствии с различными случаями использования. В таблице ниже, вы можете найти некоторые из самых популярных случаев использования и Семейства VM, которые соответствуют им.

| Тип                     | Размеры           |    Описание       |
|--------------------------|-------------------|------------------------------------------------------------------------------------------------------------------------------------|
| [Начальный уровень](../virtual-machines/linux/sizes-general.md)          | A, Av2  | Ими лучше всего подходит для рабочих нагрузок начального уровня, таких как разработка и тестирование, конфигурации процессора и памяти лучше всего подходят для рабочих нагрузок начального уровня. Они экономичны и предоставляют недорогой вариант для начала работы с Azure. |
| [Общее назначение](../virtual-machines/linux/sizes-general.md)          | D, DSv2, Dv2  | Сбалансированное соотношение ресурсов ЦП и памяти. Идеальное решение для тестирования и разработки, небольших и средних баз данных, а также веб-серверов с небольшим или средним объемом трафика. |
| [Оптимизированные для вычислений](../virtual-machines/linux/sizes-compute.md)        | F           | Высокое соотношение ресурсов ЦП и памяти. Подходят для веб-серверов со средним объемом трафика, сетевых устройств, пакетных процессов и серверов приложений.        |
| [Оптимизирована память](../virtual-machines/linux/sizes-memory.md)         | Esv3, Ev3  | Высокое соотношение ресурсов памяти и ядра. Отлично подходят для серверов реляционной базы данных, кэша среднего и большого объема, а также выполняющейся в памяти аналитики.                 |

- Для получения информации о ценах на доступные [HDInsight Pricing](https://azure.microsoft.com/pricing/details/hdinsight/)экземпляры VM в регионах с поддержкой HDInsight см.

## <a name="cost-saving-vm-types-for-light-workloads"></a>Экономия vM-типов для легких рабочих нагрузок

Если у вас есть требования к легкой обработке, [F-серии](https://azure.microsoft.com/blog/f-series-vm-size/) может быть хорошим выбором, чтобы начать работу с HDInsight. Предлагая более низкую ориентировочную стоимость часа, серия F обеспечивает наилучшее соотношение цены и производительности в портфеле Azure в единицах вычисления Azure (ACU) на виртуальный ЦП.

В следующей таблице описаны типы кластеров и узлов, которые могут быть созданы с помощью VM серии Fsv2.

| Тип кластера | Версия | Рабочий узла | Головной узла | Узлы зоозащитника |
|---|---|---|---|---|
| Spark | All | F4 и выше | нет | нет |
| Hadoop | All | F4 и выше | нет | нет |
| Kafka | All | F4 и выше | нет | нет |
| HBase | All | F4 и выше | нет | нет |
| LLAP | disabled | нет | нет | нет |
| Storm | disabled | нет | нет | нет |
| Служба "Машинное обучение" | ИРЧП 3.6 ТОЛЬКО | F4 и выше | нет | нет |

Чтобы увидеть спецификации каждого SKU серии F, [см.](https://azure.microsoft.com/blog/f-series-vm-size/)

## <a name="benchmarking"></a>Тестирование производительности

Бенчмаркинг — это процесс выполнения смоделированных рабочих нагрузок на различных всасываниях для измерения эффективности производственных нагрузок. 

Более подробную информацию о бенчмаркинге для VM SKUs и размерах кластеров можно получить [в Azure HDInsight. ](hdinsight-capacity-planning.md#choose-the-vm-size-and-type)

## <a name="next-steps"></a>Дальнейшие действия

- [Azure HDInsight поддерживает конфигурации узлов](hdinsight-supported-node-configuration.md)
- [Размеры виртуальных машин Linux в Azure](../virtual-machines/linux/sizes.md)
