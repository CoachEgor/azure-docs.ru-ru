---
title: Общие сведения об обеспечении безопасности Apache Hadoop с помощью Корпоративного пакета безопасности
description: Узнайте, как Корпоративный пакет безопасности поддерживает четыре основных принципа безопасности предприятия.
ms.service: hdinsight
author: omidm1
ms.author: omidm
ms.reviewer: jasonh
ms.custom: hdinsightactive
ms.topic: conceptual
ms.date: 04/19/2019
ms.openlocfilehash: 8142caf867ffe811726677fb1dcbadc7d1458251
ms.sourcegitcommit: 36c50860e75d86f0d0e2be9e3213ffa9a06f4150
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/16/2019
ms.locfileid: "65793555"
---
# <a name="what-is-enterprise-security-package-in-azure-hdinsight"></a>Что такое пакет безопасности предприятия в Azure HDInsight

В прошлом служба Azure HDInsight поддерживала только одного пользователя — локального администратора. Такой сценарий отлично подходил для небольших отделов по работе с приложениями. По мере роста популярности рабочих нагрузок Apache Hadoop в корпоративном секторе увеличивается потребность в функциях корпоративного уровня, таких как аутентификация на основе Active Directory, поддержка нескольких пользователей и управление доступом на основе ролей. 

Можно создать кластер HDInsight с Корпоративным пакетом безопасности (ESP), присоединенный к домену Active Directory. Затем можно настроить список сотрудников компании, прошедшие проверку подлинности через Azure Active Directory для входа в кластер HDInsight. Никто из за пределы предприятия можно войти или доступа к кластеру HDInsight. 

Корпоративный администратор может настроить управление доступом на основе ролей для обеспечения защиты Apache Hive с помощью [Apache Ranger](https://hortonworks.com/apache/ranger/). С помощью параметров RBAC можно ограничить доступ к данным, предоставляя только необходимую информацию. Наконец, администратор может проводить аудит доступа сотрудников к данным, а также аудит любых изменений, внесенных в политики управления доступом. Таким образом администратор может обеспечить высокий уровень контроля над корпоративными ресурсами.

> [!NOTE]  
> Диспетчер Apache Oozi теперь работает в кластерах ESP. Чтобы получить доступ к пользовательскому веб-интерфейсу Oozie, пользователям необходимо включить [туннелирование](../hdinsight-linux-ambari-ssh-tunnel.md).

Корпоративная безопасность разделяется на четыре главных составляющих. Это безопасность периметра, аутентификация, авторизация и шифрование.

![Преимущества кластеров HDInsight с Корпоративным пакетом безопасности с точки зрения четырех основ корпоративной безопасности](./media/apache-domain-joined-introduction/hdinsight-domain-joined-four-pillars.png).

## <a name="perimeter-security"></a>Безопасность периметра
Безопасность периметра в HDInsight обеспечивается за счет виртуальных сетей и службы VPN-шлюз Azure. Корпоративный администратор может создать кластер ESP в виртуальной сети и ограничить доступ к ней с помощью групп безопасности сети (правил брандмауэра). Для обмена данными с кластером HDInsight будут использоваться только IP-адреса, определенные в правилах исходящего трафика брандмауэра. Эта конфигурация обеспечивает безопасность периметра.

Еще один уровень безопасности периметра обеспечивает служба VPN-шлюза. Шлюз выступает в качестве первой линии обороны для любого входящего запроса к кластеру HDInsight. Он принимает запрос, проверяет его и только после этого разрешает его передачу на другие узлы в кластере. Таким образом шлюз обеспечивает безопасность периметра для других узлов имени и данных в кластере.

## <a name="authentication"></a>Authentication
Корпоративный администратор может создать кластер HDInsight с ESP в [виртуальной сети](https://azure.microsoft.com/services/virtual-network/). Все узлы кластера HDInsight присоединяются к этому домену, управление которым осуществляется организацией. Для этого используются [доменные службы Azure Active Directory](../../active-directory-domain-services/active-directory-ds-overview.md). 

С помощью такой конфигурации сотрудники компании могут входить узлах кластера с помощью учетных данных домена. Кроме того, с помощью этих учетных данных можно проверять подлинность в других утвержденных конечных точках, например представлениях Apache Ambari, ODBC, JDBC, PowerShell и интерфейсах REST API, а также обеспечить взаимодействие с кластером. Администратор полностью управляет доступом, ограничивая число пользователей, взаимодействующих с кластером через эти конечные точки.

## <a name="authorization"></a>Авторизация
В большинстве организаций следуют такой рекомендации: доступ ко всем корпоративным ресурсам предоставляется не всем сотрудникам. Аналогичным образом администратор может определить политики управления доступом на основе ролей для ресурсов кластера. 

Например, администратор может настроить [Apache Ranger](https://hortonworks.com/apache/ranger/), чтобы настроить политики контроля доступа для Hive. Эта возможность гарантирует, что сотрудники имеют доступ только к тем данным, которые им нужны для успешного выполнения своих задач. Только администраторы могут получить доступ к кластеру по протоколу SSH.

## <a name="auditing"></a>Аудит
Аудит доступа к ресурсам кластера и данным необходим для отслеживания неавторизованного или случайного доступа к ресурсам. Это так же важно, как защита ресурсов кластера HDInsight от неавторизованных пользователей и обеспечение безопасности данных. 

Администратор может просмотреть все случаи получения доступа к ресурсам и данным кластера HDInsight и сообщить о них. Кроме того, администратор может просмотреть все изменения в политиках контроля доступа, созданных в поддерживаемых конечных точках Apache Ranger, и сообщить о них. 

Для поиска журналов аудита кластер HDInsight с ESP использует привычный пользовательский интерфейс Apache Ranger. В серверной части Ranger использует [Apache Solr](https://hortonworks.com/apache/solr/) для хранения и поиска журналов.

## <a name="encryption"></a>Шифрование
Защита данных важна для соблюдения требований безопасности и соответствия, установленных в организации. Помимо ограничения доступа неавторизованных сотрудников к данным, их следует зашифровать. 

Оба хранилища данных для кластеров HDInsight, хранилище BLOB-объектов Azure и Azure Data Lake Storage 1-го и 2-го поколения, поддерживают [шифрование неактивных данных](../../storage/common/storage-service-encryption.md) на стороне сервера. Защищенные кластеры HDInsight полностью поддерживают шифрование неактивных данных на стороне сервера.

## <a name="next-steps"></a>Дальнейшие действия

* [Корпоративный пакет безопасности для HDInsight](apache-domain-joined-architecture.md)
* [Настройка кластера HDInsight с корпоративным пакетом безопасности с помощью доменных служб Azure Active Directory](apache-domain-joined-configure.md)
* [Управление кластерами HDInsight с помощью корпоративного пакета безопасности](apache-domain-joined-manage.md)
* [Настройка политик Apache Hive в HDInsight с Корпоративным пакетом безопасности](apache-domain-joined-run-hive.md)
* [Использование SSH с HDInsight](../hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined)

