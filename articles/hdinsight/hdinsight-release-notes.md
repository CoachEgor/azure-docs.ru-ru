---
title: Заметки о выпуске Azure HDInsight
description: Последние заметки о выпуске Azure HDInsight. Ознакомьтесь с советами по разработке и подробными сведениями о Hadoop, Spark, R Server, Hive и т. д.
author: hrasheed-msft
ms.author: hrasheed
ms.reviewer: jasonh
ms.custom: hdinsightactive
ms.service: hdinsight
ms.topic: conceptual
ms.date: 06/11/2020
ms.openlocfilehash: a4faab9ac6d5e1c39c1120e09dae792b95892d60
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85564403"
---
# <a name="release-notes"></a>Заметки о выпуске

Эта статья содержит сведения о **последних** обновлениях выпуска Azure HDInsight. Дополнительные сведения о предыдущих выпусках см. в статье [Заметки о выпуске для компонентов Hadoop в Azure HDInsight (архив)](hdinsight-release-notes-archive.md).

## <a name="summary"></a>Сводка

Azure HDInsight является одной из самых популярных среди корпоративных клиентов служб для аналитики с открытым кодом в Azure.

## <a name="release-date-06112020"></a>Дата выпуска: 06/11/2020

Этот выпуск применим к HDInsight версий 3.6 и 4.0. Выпуск HDInsight предоставляется для разных регионов на протяжении нескольких дней. Указанная здесь дата выпуска обозначает дату выпуска для первого из регионов. Если вы не видите приведенных ниже изменений, дождитесь выхода выпуска в вашем регионе в течение нескольких дней.

## <a name="new-features"></a>новые функции;
### <a name="moving-to-azure-virtual-machine-scale-sets"></a>Переход на масштабируемые наборы виртуальных машин Azure
HDInsight использует виртуальные машины Azure для подготовки кластера. В этом выпуске новые кластеры HDInsight начинают использовать масштабируемый набор виртуальных машин Azure. Изменение выполняется постепенно. Критические изменения не требуются. См. Дополнительные сведения о [масштабируемых наборах виртуальных машин Azure](https://docs.microsoft.com/azure/virtual-machine-scale-sets/overview).
 
### <a name="reboot-vms-in-hdinsight-cluster"></a>Перезагрузка виртуальных машин в кластере HDInsight
В этом выпуске мы поддерживаем перезагрузки виртуальных машин в кластере HDInsight для перезагрузки нереагирующих узлов. В настоящее время это можно сделать только через API, поддержку PowerShell и CLI. Дополнительные сведения об API см. в [этом документе](https://github.com/Azure/azure-rest-api-specs/codeowners/master/specification/hdinsight/resource-manager/Microsoft.HDInsight/stable/2018-06-01-preview/virtualMachines.json).
 
## <a name="deprecation"></a>Устаревшее
### <a name="deprecation-of-spark-21-and-22-in-hdinsight-36-spark-cluster"></a>Прекращение поддержки Spark 2.1 и 2.2 для кластера Spark в HDInsight 3.6
Начиная с июля 1 2020 клиенты не могут создавать новые кластеры Spark с Spark 2,1 и 2,2 в HDInsight 3,6. Существующие кластеры будут продолжать работу без изменений, но без поддержки со стороны корпорации Майкрософт. Постарайтесь перейти к версии Spark 2.3 в HDInsight 3.6 не позднее 30 июня 2020 г., чтобы избежать потенциальных проблем или перерывов в работе.
 
### <a name="deprecation-of-spark-23-in-hdinsight-40-spark-cluster"></a>Устаревание Spark 2.3 для кластера Spark в HDInsight 4.0
Начиная с июля 1 2020 клиенты не могут создавать новые кластеры Spark с помощью Spark 2,3 в HDInsight 4,0. Существующие кластеры будут продолжать работу без изменений, но без поддержки со стороны корпорации Майкрософт. Постарайтесь перейти к версии Spark 2.4 в HDInsight 4.0 не позднее 30 июня 2020 г., чтобы избежать потенциальных проблем или перерывов в работе.
 
### <a name="deprecation-of-kafka-11-in-hdinsight-40-kafka-cluster"></a>Прекращение поддержки Kafka 1.1 для кластера Kafka в HDInsight 4.0
Начиная с 1 июля 2020 г. клиенты не смогут создавать в HDInsight 4.0 новые кластеры Kafka с поддержкой Kafka 1.1. Существующие кластеры будут продолжать работу без изменений, но без поддержки со стороны корпорации Майкрософт. Постарайтесь перейти к версии Kafka 2.1 в HDInsight 4.0 не позднее 30 июня 2020 г., чтобы избежать потенциальных проблем или перерывов в работе.
 
## <a name="behavior-changes"></a>Изменения в работе
### <a name="esp-spark-cluster-head-node-size-change"></a>Изменение размера головного узла кластера ESP Spark 
Минимальный разрешенный размер головного узла для кластера ESP Spark изменится на Standard_D13_V2. Виртуальные машины с низкими ядрами и памятью в качестве головного узла могут вызвать проблемы с кластером ESP из-за относительно нехватки ресурсов ЦП и памяти. Начиная с выпуска, используйте номера SKU выше Standard_D13_V2 и Standard_E16_V3 в качестве головного узла для кластеров ESP Spark.
 
### <a name="a-minimum-4-core-vm-is-required-for-head-node"></a>Для головного узла требуется виртуальная машина с не менее чем 4-мя ядрами 
Для головного узла требуется виртуальная машина с не менее чем 4-мя ядрами, чтобы обеспечивать высокий уровень доступности и надежности для кластеров HDInsight. Начиная с 6 апреля 2020 г. клиенты смогут выбрать в качестве головного узла для новых кластеров HDInsight только виртуальные машины с 4-мя и более ядрами. Существующие кластеры будут продолжать работу без изменений. 
 
### <a name="cluster-worker-node-provisioning-change"></a>Изменение подготовки узла рабочей роли кластера
Когда 80% рабочих узлов будет готова, кластер переходит в **Рабочий** этап. На этом этапе клиенты могут выполнять все операции плоскости данных, такие как выполнение скриптов и заданий. Но клиенты не могут выполнять операции плоскости управления, такие как масштабирование вверх и вниз. Поддерживается только удаление.
 
После **рабочего** этапа кластер ожидает еще 60 минут для оставшихся 20% рабочих узлов. В конце этого 60 минут кластер переходит на **выполняющийся** этап, даже если все рабочие узлы по-прежнему недоступны. После того как кластер переходит в **запущенный** этап, его можно использовать как нормальную работу. Операции с планами управления, такие как масштабирование вверх/вниз, и операции с планом данных, такие как выполнение скриптов и заданий, принимаются. Если некоторые из запрошенных рабочих узлов недоступны, кластер будет помечен как частичный успешно. Вы платите за узлы, которые были успешно развернуты. 
 
### <a name="create-new-service-principal-through-hdinsight"></a>Создание нового субъекта-службы с помощью HDInsight
Ранее при создании кластера клиенты могут создать новый субъект-службу для доступа к подключенной учетной записи ADLS Gen 1 в портал Azure. Начиная с 15 2020 июня клиенты не могут создать новый субъект-службу в рабочем процессе создания HDInsight, поддерживается только имеющийся субъект-служба. См. раздел [Создание субъекта-службы и сертификатов с помощью Azure Active Directory](https://docs.microsoft.com/azure/active-directory/develop/howto-create-service-principal-portal).

### <a name="time-out-for-script-actions-with-cluster-creation"></a>Время ожидания для действий сценария с созданием кластера
HDInsight поддерживает выполнение действий скриптов при создании кластера. В этом выпуске все действия сценария с созданием кластера должны заканчиваться в течение **60 минут**или истекает время ожидания. Действия скриптов, отправленные в выполняемые кластеры, не затрагиваются. Дополнительные сведения см. [здесь](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-customize-cluster-linux#script-action-in-the-cluster-creation-process).
 
## <a name="upcoming-changes"></a>Предстоящие изменения
Нет предстоящих критических изменений, на которые нужно обратить внимание.
 
## <a name="bug-fixes"></a>Исправления ошибок
HDInsight постоянно повышает надежность и производительность кластеров. 
 
## <a name="component-version-change"></a>Изменение версий компонентов
### <a name="hbase-20-to-216"></a>Обновление HBase 2.0 до 2.1.6
Версия HBase обновлена с версии 2,0 до 2.1.6.
 
### <a name="spark-240-to-244"></a>Обновление Spark 2.4.0 до 2.4.4
Версия Spark обновлена с версии 2.4.0 до 2.4.4.
 
### <a name="kafka-210-to-211"></a>Обновление Kafka 2.1.0 до 2.1.1
Версия Kafka обновлена с версии 2.1.0 до версий.
 
Текущие версии компонентов для HDInsight 4,0 AD HDInsight 3,6 можно найти в [этом документе](https://docs.microsoft.com/azure/hdinsight/hdinsight-component-versioning#apache-hadoop-components-available-with-different-hdinsight-versions) .

## <a name="known-issues"></a>Известные проблемы

### <a name="hive-warehouse-connector-issue"></a>Проблемы с соединителем хранилища Hive
В этом выпуске есть проблема с соединителем хранилища Hive. Исправление будет содержаться в следующем выпуске. Существующие кластеры, созданные до этого выпуска, не затрагиваются. По возможности Избегайте удаления и повторного создания кластера. Если вам нужна дополнительная помощь, откройте запрос в службу поддержки.
