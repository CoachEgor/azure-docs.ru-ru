---
title: Заметки о выпуске Azure HDInsight
description: Последние заметки о выпуске Azure HDInsight. Получите советы по разработке и подробные сведения о Hadoop, Spark, R Server, Hive и других.
author: hrasheed-msft
ms.author: hrasheed
ms.reviewer: jasonh
ms.custom: hdinsightactive
ms.service: hdinsight
ms.topic: conceptual
ms.date: 01/29/2020
ms.openlocfilehash: 091ca4d632d89405d85c66e264aff9867979fcd4
ms.sourcegitcommit: 67e9f4cc16f2cc6d8de99239b56cb87f3e9bff41
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/31/2020
ms.locfileid: "76905231"
---
# <a name="release-notes"></a>Заметки о выпуске

Эта статья содержит сведения о **последних** обновлениях выпуска Azure HDInsight. Дополнительные сведения о предыдущих выпусках см. в статье [Заметки о выпуске для компонентов Hadoop в Azure HDInsight (архив)](hdinsight-release-notes-archive.md).

## <a name="summary"></a>Сводка

Azure HDInsight — одна из самых популярных служб среди корпоративных клиентов для аналитики с открытым кодом в Azure.

## <a name="release-date-01092020"></a>Дата выпуска: 01/09/2020

Этот выпуск применим как для HDInsight 3,6, так и для 4,0. Выпуск HDInsight предоставляется для всех регионов в течение нескольких дней. Дата выпуска указывает дату выпуска первого региона. Если вы не видите приведенных ниже изменений, подождите, пока выпуск выполнится в вашем регионе в течение нескольких дней.

> [!IMPORTANT]  
> Linux — это единственная операционная система, используемая для работы с HDInsight 3.4 или более поздних версий. Дополнительные сведения см. в [статье об управлении версиями HDInsight](hdinsight-component-versioning.md).

## <a name="new-features"></a>Новые функции
### <a name="tls-12-enforcement"></a>Обязательное использование TLS 1.2
TLS и SSL являются протоколами шифрования, которые обеспечивает безопасность передачи данных по сети. Дополнительные сведения о [TLS](https://en.wikipedia.org/wiki/Transport_Layer_Security#SSL_1.0.2C_2.0_and_3.0). HDInsight использует TLS 1,2 на общедоступных конечных точках HTTPs, но TLS 1,1 по-прежнему поддерживается для обеспечения обратной совместимости. 

В этом выпуске клиенты могут использовать TLS 1,2 только для всех подключений через конечную точку общедоступного кластера. Для этого новое свойство **минсуппортедтлсверсион** введено и может быть указано во время создания кластера. Если свойство не задано, кластер по-прежнему поддерживает TLS 1,0, 1,1 и 1,2, что соответствует текущему поведению. Клиенты могут задать для этого свойства значение "1,2". Это означает, что кластер поддерживает только TLS 1,2 и более поздние версии. Дополнительные сведения см. [в статье Планирование безопасности уровня транспорта для виртуальной сети](https://docs.microsoft.com/azure/hdinsight/hdinsight-plan-virtual-network-deployment#transport-layer-security).

### <a name="bring-your-own-key-for-disk-encryption"></a>Приведите собственный ключ к шифрованию диска
Все управляемые диски в HDInsight защищены с помощью шифрования службы хранилища Azure (SSE). По умолчанию данные на этих дисках шифруются ключами, управляемыми корпорацией Майкрософт. Начиная с этого выпуска, можно создание собственных ключей (BYOK) для шифрования дисков и управлять им с помощью Azure Key Vault. Шифрование BYOK — это одноэтапная конфигурация при создании кластера без дополнительных затрат. Просто зарегистрируйте HDInsight как управляемое удостоверение с Azure Key Vault и добавьте ключ шифрования при создании кластера. Дополнительные сведения см. в разделе [Шифрование диска, управляемого клиентом](https://docs.microsoft.com/azure/hdinsight/disk-encryption).

## <a name="deprecation"></a>Устаревшее
Нет устаревших версий для этого выпуска. Чтобы подготовиться к предстоящим устаревшим параметрам, см. статью [предстоящие изменения](#upcoming-changes).

## <a name="behavior-changes"></a>Изменения в поведении
Нет изменений в поведении для этого выпуска. Чтобы подготовиться к предстоящим изменениям, см. статью [предстоящие изменения](#upcoming-changes).

## <a name="upcoming-changes"></a>Предстоящие изменения
В будущих выпусках будут внесены следующие изменения. 

### <a name="a-minimum-4-core-vm-is-required-for-head-node"></a>Для головного узла требуется минимальная 4-ядерная виртуальная машина 
Для головного узла требуется минимальная 4-ядерная виртуальная машина, чтобы обеспечить высокий уровень доступности и надежность кластеров HDInsight. Начиная с 6 апреля 2020 клиенты могут выбрать только 4-ядерную или более позднюю виртуальную машину в качестве головного узла для новых кластеров HDInsight. Существующие кластеры продолжат работать ожидаемым образом. 

### <a name="esp-spark-cluster-node-size-change"></a>Изменение размера узла кластера ESP Spark 
В следующем выпуске минимальный разрешенный размер узла для кластера ESP Spark изменится на Standard_D13_V2. Виртуальные машины серии A могут вызвать проблемы с кластером ESP из-за относительно нехватки ресурсов ЦП и памяти. Виртуальные машины серии A не рекомендуются для создания новых кластеров ESP.

### <a name="moving-to-azure-virtual-machine-scale-sets"></a>Переход к масштабируемым наборам виртуальных машин Azure
Теперь HDInsight использует виртуальные машины Azure для инициализации кластера. В предстоящем выпуске HDInsight будет использовать масштабируемые наборы виртуальных машин Azure. См. Дополнительные сведения о масштабируемых наборах виртуальных машин Azure.

### <a name="hbase-20-to-21"></a>HBase 2,0 – 2,1
В предстоящем выпуске HDInsight 4,0 версия HBase будет обновлена с версии 2,0 до 2,1.

## <a name="bug-fixes"></a>Исправления ошибок
HDInsight продолжит повысить надежность и производительность кластера. 

## <a name="component-version-change"></a>Изменение версии компонента
Для этого выпуска не изменилась версия компонента. Текущие версии компонентов для HDInsight 4,0 AD HDInsight 3,6 можно найти здесь.

## <a name="known-issues"></a>Известные проблемы

По состоянию на 29 января 2020 есть активная ошибка, при которой при попытке использования записной книжки Jupyter может появиться сообщение об ошибке. Чтобы устранить проблему, выполните описанные ниже действия. Вы также можете обратиться к этой [публикации MSDN](https://social.msdn.microsoft.com/Forums/en-us/8c763fb4-79a9-496f-a75c-44a125e934ac/hdinshight-create-not-create-jupyter-notebook?forum=hdinsight) или [StackOverflow](https://stackoverflow.com/questions/59687614/azure-hdinsight-jupyter-notebook-not-working/59831103) , чтобы получить последние сведения или задать дополнительные вопросы. Эта страница будет обновлена после устранения проблемы.

**ошибки**

* Валуиррор: не удается преобразовать записную книжку в V5, так как эта версия не существует
* Ошибка при загрузке записной книжки при загрузке этой записной книжки произошла неизвестная ошибка. Эта версия может загружать форматы записных книжек версии 4 или более ранней

**Причина** 

Файл _version. корректировка в кластере был обновлен до 5. x. x вместо 4.4. x. # # или Ambari необходимо перезапустить.

**Решение**

Если вы создаете записную книжку Jupyter и получаете одну из перечисленных выше ошибок, выполните следующие действия, чтобы устранить проблему.

1. Откройте Ambari в веб-браузере, перейдя в `https://CLUSTERNAME.azurehdinsight.net`, где ИМЯ_КЛАСТЕРА — это имя кластера.
1. В Ambari в меню слева щелкните **Jupyter**, а затем на странице **действия службы**нажмите кнопку **прерывать**.
1. Подключитесь по протоколу SSH к кластеру головного узла, где запущена служба Jupyter.
1. Откройте следующий файл/usr/bin/Anaconda/lib/python2.7/site-Packages/nbformat/_version. корректировка в режиме sudo.
1. Проверьте значение version_info.
1. Если для параметра version_info задано значение: 

    version_info = (5, 0, 3)

    Затем измените запись на: 
    
    version_info = (4, 4, 0)

    И сохраните файл. 

    Если для version_info уже задано значение (4, 4, 0), переходите к следующему шагу, так как необходимо перезапустить только Ambari, дополнительные изменения не требуются.
1. Вернитесь к Ambari и в **действиях службы**щелкните **перезапустить все**.
