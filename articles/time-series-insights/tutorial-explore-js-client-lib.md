---
title: Руководство по Изучение клиентской библиотеки JavaScript для службы "Аналитика временных рядов Azure" | Документация Майкрософт
description: Учебник по работе с клиентской библиотекой JavaScript для службы "Аналитика временных рядов Azure" и соответствующей модели программирования.
author: ashannon7
manager: cshankar
ms.service: time-series-insights
services: time-series-insights
ms.topic: tutorial
ms.date: 07/29/2019
ms.author: dpalled
ms.custom: seodec18
ms.openlocfilehash: 3e56792673c33ac641ce23213f2b3662b889ec2a
ms.sourcegitcommit: 85b3973b104111f536dc5eccf8026749084d8789
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/01/2019
ms.locfileid: "68725664"
---
# <a name="tutorial-explore-the-azure-time-series-insights-javascript-client-library"></a>Руководство по Изучение клиентской библиотеки JavaScript для службы "Аналитика временных рядов Azure"

Чтобы помочь разработчикам запрашивать и визуализировать данные, хранящиеся в службе "Аналитика временных рядов Azure", мы разработали библиотеку управления на основе JavaScript D3. Этот учебник поможет вам ознакомиться с клиентской библиотекой Аналитики временных рядов и моделью программирования на примере размещенного приложения.

Здесь подробно описано, как работать с библиотекой, получить доступ к данным Аналитики временных рядов и использовать элементы управления диаграммы, чтобы преобразовать данные для просмотра и визуализировать их. Вы также узнаете, как экспериментировать с различными видами графиков для визуализации данных. По завершении работы с этим учебником вы сможете использовать клиентскую библиотеку, чтобы добавлять возможности Аналитики временных рядов в свои веб-приложения.

В частности, вы изучите:

> [!div class="checklist"]
> * пример приложения Аналитики временных рядов;
> * клиентскую библиотеку JavaScript для Аналитики временных рядов;
> * как пример приложения использует библиотеку для визуализации данных Аналитики временных рядов.

> [!NOTE]
> * В этом учебнике используется бесплатная размещенная в Интернете [веб-демонстрация Аналитики временных рядов](https://insights.timeseries.azure.com/clientsample).
> * Исходные файлы примера приложения Аналитики временных рядов предоставляются в [репозитории примеров GitHub](https://github.com/Microsoft/tsiclient/tree/tutorial/pages/tutorial).
> * Ознакомьтесь со [справочной документацией по клиенту Аналитики временных рядов](https://github.com/microsoft/tsiclient/blob/master/docs/API.md).

Зарегистрируйтесь для [бесплатной подписки Azure](https://azure.microsoft.com/free/), если у вас ее еще нет.

## <a name="prerequisites"></a>Предварительные требования

* В этом руководстве используется **средства для разработчиков** браузера. Современные веб-браузеры ([Microsoft Edge](/microsoft-edge/devtools-guide), [Chrome](https://developers.google.com/web/tools/chrome-devtools/), [FireFox](https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools), [Safari](https://developer.apple.com/safari/tools/) и другие) обычно предоставляют доступ к **представлению веб-инспектора** по нажатию горячей клавиши F12 на клавиатуре. Его также можно открыть, щелкнув правой кнопкой мыши на веб-странице и выбрав **Проверить элемент**.

## <a name="review-video"></a>Просмотр видео

В этом видео мы представляем пакет SDK JavaScript Аналитики временных рядов.
<br /><br />

> [!VIDEO https://www.youtube.com/embed/X8sSm7Pl9aA]

## <a name="sample-application"></a>Пример приложения

В этом учебнике пример бесплатного размещенного в Интернете приложения Аналитики временных рядов используется для изучения исходного кода приложения и клиентской библиотеки JavaScript Аналитики временных рядов. С помощью примера приложения вы узнаете, как взаимодействовать с Аналитикой временных рядов в JavaScript и визуализировать данные в виде диаграмм и графиков.

1. Перейдите к [примеру приложения Аналитики временных рядов](https://insights.timeseries.azure.com/clientsample). Появится следующий запрос данных для входа:

   [![Запрос входа в пример клиента Аналитики временных рядов](media/tutorial-explore-js-client-lib/tcs-sign-in.png)](media/tutorial-explore-js-client-lib/tcs-sign-in.png#lightbox)

1. Нажмите кнопку **Log in** (Вход) и введите или выберите свои учетные данные. Вы можете использовать корпоративную учетную запись (Azure Active Directory) либо личную учетную запись (учетная запись Майкрософт или MSA).

   [![Запрос на ввод учетных данных в пример клиента Аналитики временных рядов](media/tutorial-explore-js-client-lib/tcs-sign-in-enter-account.png)](media/tutorial-explore-js-client-lib/tcs-sign-in-enter-account.png#lightbox)

1. После входа вы увидите страницу с несколькими видами диаграмм, заполненных данными Аналитики временных рядов. Учетная запись и кнопка **Выход** отображаются в правом верхнем углу:

   [![Пример клиента Аналитики временных рядов: главная страница после входа](media/tutorial-explore-js-client-lib/tcs-main-after-signin.png)](media/tutorial-explore-js-client-lib/tcs-main-after-signin.png#lightbox)

### <a name="page-source-and-structure"></a>Исходный код страницы и ее структура

Сначала давайте просмотрим [исходный код HTML и JavaScript](https://github.com/Microsoft/tsiclient/blob/tutorial/pages/tutorial/index.html) преобразованной для просмотра веб-страницы:

1. Откройте **средства разработчика** в браузере и просмотрите элементы HTML, из которых состоит текущая страница, также известные как дерево HTML или DOM.

1. Разверните элементы `<head>` и `<body>`, после чего обратите внимание на следующие разделы:

   * В элементе `<head>` вы найдете метаданные и зависимости страницы, которые позволяют приложению выполняться:
     * Элемент `<script>`, который используется для создания ссылки на библиотеку проверки подлинности Azure Active Directory *adal.min.js* (ADAL). ADAL — это библиотека JavaScript, которая позволяет выполнить проверку подлинности OAuth 2.0 (для входа) и получить маркер для доступа к API.
     * Несколько элементов `<link>` для таблиц стилей (также называются *CSS*), включая *sampleStyles.css* и *tsiclient.css*. Они используются для управления визуальными деталями оформления страниц, такими как цвета, шрифты, интервалы.
     * Элемент `<script>`, используемый для создания ссылки на библиотеку JavaScript *tsiclient.js* клиента Аналитики временных рядов. Эта библиотека используется страницей для вызова API-интерфейсов службы "Аналитика временных рядов" и отображения элементов управления диаграммой на странице.

     >[!NOTE]
     > * Исходный код библиотеки ADAL JavaScript можно найти в репозитории [azure-activedirectory-library-for-js](https://github.com/AzureAD/azure-activedirectory-library-for-js).
     > * Исходный код библиотеки клиента JavaScript Аналитики временных рядов доступен в репозитории [tsiclient](https://github.com/Microsoft/tsiclient/tree/tutorial/pages/tutorial).

   * В разделе `<body>` вы найдете элементы `<div>`, которые помогают определить макет элементов на странице, и еще один элемент `<script>`:
     * Первый элемент `<div>` указывает диалоговое окно **Вход** (`id="loginModal"`).
     * Второй элемент `<div>` выступает в качестве родительского для:
       * заголовка `<div>`, используемого для сообщений о состоянии и сведений о входе в верхней части страницы (`class="header"`);
       * элемента `<div>` для остальных элементов текста страницы, включая диаграммы (`class="chartsWrapper"`);
       * раздела `<script>`, который содержит код JavaScript, используемый для управления страницей.

   [![Пример клиента Аналитики временных рядов со средствами для разработчиков](media/tutorial-explore-js-client-lib/tcs-devtools-callouts-head-body.png)](media/tutorial-explore-js-client-lib/tcs-devtools-callouts-head-body.png#lightbox)

1. Разверните элемент `<div class="chartsWrapper">`, и вы найдете дополнительные дочерние элементы `<div>`. Они используются для размещения каждого примера элемента управления диаграммой. Обратите внимание, что существует несколько пар элементов `<div>`, по одному для каждого примера диаграммы:

   * Первый элемент (`class="rowOfCardsTitle"`) содержит описательное название содержимого, отображаемого на диаграмме. Например: `Static Line Charts With Full-Size Legends.`
   * Второй элемент (`class="rowOfCards"`) является родительским. Он содержит дополнительные дочерние элементы `<div>`, которые определяют позицию фактического элемента управления диаграммой в строке.

   [![Текст элементов div](media/tutorial-explore-js-client-lib/tcs-devtools-callouts-body-divs.png)](media/tutorial-explore-js-client-lib/tcs-devtools-callouts-body-divs.png#lightbox)

1. Разверните элемент `<script type="text/javascript">` непосредственно под элементом `<div class="chartsWrapper">`. Начало раздела JavaScript на уровне страницы используется для обработки всей логики страницы, включая проверку подлинности, вызов API-интерфейсов Аналитики временных рядов, рендеринг элементов управления диаграммы и многое другое:

   [![Текст скрипта](media/tutorial-explore-js-client-lib/tcs-devtools-callouts-body-script.png)](media/tutorial-explore-js-client-lib/tcs-devtools-callouts-body-script.png#lightbox)

## <a name="javascript-client-library"></a>Клиентская библиотека JavaScript

Клиентская библиотека Аналитики временных рядов (*tsiclient.js*) предоставляет абстракции для двух важных функций JavaScript:

* **Методы создания программы-оболочки для вызова API запросов Аналитики временных рядов**. REST API, которые позволяют запрашивать данные Аналитики временных рядов с использованием статистических выражений. Методы организованы в пространстве имен TsiClient.Server библиотеки.

* **Методы создания и заполнения нескольких типов элементов управления диаграммами**. Методы, которые используются для визуализации данных вычислений Аналитики временных рядов на веб-странице. Методы организованы в пространстве имен TsiClient.UX библиотеки.

Благодаря этим упрощениям разработчики могут создавать компоненты графиков и диаграмм пользовательского интерфейса, в которых легче использовать данные Аналитики временных рядов.

### <a name="authentication"></a>Аутентификация

[Пример приложения Аналитики временных рядов](https://insights.timeseries.azure.com/clientsample) является одностраничным приложением с поддержкой проверки подлинности пользователя OAuth 2.0 с ADAL:

1. При использовании ADAL для проверки подлинности клиентские приложения должны быть зарегистрированы в Azure Active Directory (Azure AD). Фактически одностраничное приложение регистрируется для [потока неявного предоставления разрешений OAuth 2.0](https://docs.microsoft.com/azure/active-directory/develop/v1-oauth2-implicit-grant-flow).
1. Приложение должно задать некоторые свойства регистрации в среде выполнения. К ним относятся GUID клиента (`clientId`) и URI перенаправления (`postLogoutRedirectUri`).
1. Позже приложение запрашивает *маркер доступа* от Azure AD. Маркер доступа выдается для конечного набора разрешений идентификатору определенной службы или API (https:\//api.timeseries.azure.com). Разрешения для маркеров выдаются от имени пользователя, выполнившего вход в систему. Идентификатором службы или API является еще одно свойство, которое содержится в данных регистрации Azure Active Directory приложения.
1. Когда ADAL возвращает маркер доступа приложению, он передается как *маркер носителя* при доступе к API-интерфейсам службы "Аналитика временных рядов".

   [!code-javascript[head-sample](~/samples-javascript/pages/tutorial/index.html?range=147-204&highlight=3-7,34-37)]

> [!TIP]
> Дополнительные сведения о поддерживаемых корпорацией Майкрософт библиотеках ADAL см. в [справочной документации по ADAL](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries#microsoft-supported-client-libraries).

### <a name="control-identification"></a>Идентификация элементов управления

В указанном примере элементы `<div>` расположены в родительском элементе `<body>` для предоставления рационального макета для всех элементов управления диаграммы, отображаемых на странице.

Каждый элемент `<div>` определяет свойства для размещения и визуальные атрибуты элемента управления диаграммы. Свойства `id` HTML-элемента служат в качестве уникальных идентификаторов, позволяющих выполнить привязку к конкретным элементам управления для обработки и обновления визуализированных данных.

### <a name="aggregate-expressions"></a>Статистические выражения

API-интерфейсы клиентской библиотеки Аналитики временных рядов используют статистические выражения:

* Статистическое выражение предоставляет возможность создать одно или несколько *условий поиска*.

* API клиента предоставляют схожие функции другому демонстрационному приложению ([обозреватель Аналитики временных рядов](https://insights.timeseries.azure.com/demo)), которое использует диапазон поиска, предикаты `where`, меры и значения `splitBy`.

* Большинство API-интерфейсов клиентской библиотеки принимают массив статистических выражений, которые используются службой для создания запроса данных Аналитики временных рядов.

### <a name="call-pattern"></a>Шаблон вызова

Заполнение и рендеринг элементов управления диаграммы следуют общему шаблону. Эта общая закономерность прослеживается в примере приложения. Она поможет вам при использовании клиентской библиотеки:

1. Объявите `array` для хранения одного или нескольких статистических выражений Аналитики временных рядов:

   ```javascript
   var aes =  [];
   ```

1. Создайте от *1* до *n* объектов статистических выражений. Затем добавьте их в массив статистических выражений:

   ```javascript
   var ae = new tsiClient.ux.aggregateExpression(predicateObject, measureObject, measureTypes, searchSpan, splitByObject, color, alias, contextMenuActions);
   aes.push(ae);
   ```

   **Параметры aggregateExpression**

   | Параметр | ОПИСАНИЕ | Пример |
   | --------- | ----------- | ------- |
   | `predicateObject` | Выражение для фильтрации данных. |`{predicateString: "Factory = 'Factory3'"}` |
   | `measureObject`   | Имя свойства используемой меры. | `{property: 'Temperature', type: "Double"}` |
   | `measureTypes`    | Требуемые агрегаты свойства меры. | `['avg', 'min']` |
   | `searchSpan`      | Длительность и размер интервала статистического выражения. | `{from: startDate, to: endDate, bucketSize: '2m'}` |
   | `splitByObject`   | Свойство строки, по которому необходимо выполнить разбиение (необязательно; может принимать значение Null). | `{property: 'Station', type: 'String'}` |
   | `color`         | Цвет объектов, которые вы хотите отобразить. | `'pink'` |
   | `alias`           | Понятное имя для статистического выражения. | `'Factory3Temperature'` |
   | `contextMenuActions` | Массив действий, которые следует связать с объектами временных рядов в визуализации (необязательно). | Дополнительные сведения см. в разделе [Всплывающие контекстные меню](#pop-up-context-menus). |

1. Вызовите запрос Аналитики временных рядов, используя API-интерфейсы TsiClient.Server, чтобы запросить статистические данные:

   ```javascript
   tsiClient.server.getAggregates(token, envFQDN, aeTsxArray);
   ```

   **параметры getAggregates**

   | Параметр | ОПИСАНИЕ | Пример |
   | --------- | ----------- | ------- |
   | `token`     | Маркер доступа для API-интерфейса Аналитики временных рядов |  `authContext.getTsiToken()`<br />Дополнительные сведения см. в разделе [Authenticate to the Speech API](#authentication) (Аутентификация в API речи). |
   | `envFQDN`   | Полное доменное имя (FQDN) среды Аналитики временных рядов | На портале Azure. Например, `10000000-0000-0000-0000-100000000108.env.timeseries.azure.com`. |
   | `aeTsxArray` | Массив выражений запросов Аналитики временных рядов | Используйте переменную `aes`, как описано ранее: `aes.map(function(ae){return ae.toTsx()}`. |

1. Преобразуйте сжатые выходные данные, возвращенные из запроса Аналитики временных рядов, в JSON для визуализации.

   ```javascript
   var transformedResult = tsiClient.ux.transformAggregatesForVisualization(result, aes);
   ```

1. Создайте элемент управления диаграммой с помощью API-интерфейсов TsiClient.UX. Затем привяжите его к одному из элементов `<div>` на странице.

   ```javascript
   var barChart = new tsiClient.ux.BarChart(document.getElementById('chart3'));
   ```

1. Заполните элемент управления диаграммой преобразованными объектами данных JSON и отобразите его на странице:

   ```javascript
   barChart.render(transformedResult, {grid: true, legend: 'compact', theme: 'light'}, aes);
   ```

## <a name="render-controls"></a>Элементы управления рендерингом

Клиентская библиотека TSI предоставляет восемь уникальных готовых элементов управления аналитикой:

* **график**;
* **круговая диаграмма**;
* **линейчатая диаграмма**;
* **heatmap**
* **элементы управления иерархией**;
* **доступная сетка**;
* **временные шкалы дискретных событий**;
* **временные шкалы перехода состояния**.

### <a name="line-chart-bar-chart-and-pie-chart-examples"></a>Примеры графиков, линейчатых и круговых диаграмм

Рассмотрим демонстрационный код, используемый для визуализации стандартного элемента управления диаграммы. Обратите внимание на модель программирования и шаблоны создания этих элементов управления. В частности, просмотрите HTML под комментарием `// Example 3/4/5`, который отображает элементы управления HTML `id` со значениями `chart3`, `chart4` и `chart5`.

Вспомните шаг 3 из раздела [Исходный код страницы и ее структура](#page-source-and-structure). Элементы управления диаграммы расположены в строках на странице. Каждый элемент управления имеет описательную строку заголовка. В этом примере три заполняемые диаграммы находятся под элементом заголовка `Multiple Chart Types From the Same Data` `<div>`. Они связаны с тремя расположенными под заголовком элементами `<div>`:

[!code-html[code-sample1-line-bar-pie](~/samples-javascript/pages/tutorial/index.html?range=59-73&highlight=1,5,9,13)]

В следующем разделе кода JavaScript используется описанный ранее шаблон для создания статистических выражений Аналитики временных рядов, применения их для запроса данных Аналитики временных рядов и отображения трех диаграмм. Обратите внимание на три типа, которые используются из пространства имен tsiClient.ux (`LineChart`, `BarChart` и `PieChart`). Эти типы используются для создания и визуализации соответствующих диаграмм. Все три диаграммы могут использовать одни и те же данные статистических выражений `transformedResult`:

[!code-javascript[code-sample2-line-bar-pie](~/samples-javascript/pages/tutorial/index.html?range=241-262&highlight=13-14,16-17,19-20)]

При отображении три диаграммы выглядят следующим образом:

[![Несколько типов диаграмм одних и тех же данных](media/tutorial-explore-js-client-lib/tcs-multiple-chart-types-from-the-same-data.png)](media/tutorial-explore-js-client-lib/tcs-multiple-chart-types-from-the-same-data.png#lightbox)

## <a name="learn-about-advanced-features"></a>См. о дополнительных функциях

Клиентская библиотека Аналитики временных рядов содержит несколько дополнительных функций, которые вы можете использовать для творческой визуализации данных.

### <a name="states-and-events"></a>Состояния и события

Одна из расширенных функций — это возможность добавления переходов состояний и дискретных событий в диаграммы. Эта функция полезна для выделения инцидентов, оповещений и создания переключений состояний, таких как коммутаторы включения и выключения.

Рассмотрим код вокруг комментария `// Example 10`. Код отображает элемент управления графика в заголовке `Line Charts with Multiple Series Types` и привязывает его к элементу `<div>` со значением идентификатора HTML `id` `chart10`:

Процесс описан в следующих шагах:

1. Определяется структура с именем `events4`, содержащая отслеживаемые элементы изменений состояния. Эта структура содержит:

   * Ключ строки с именем `Component States`.
   * Массив объектов-значений, которые представляют состояния. Каждый объект включает:
     * ключ строки, содержащий метку времени JavaScript ISO;
     * массив, содержащий характеристики состояния: цвет и описание.

1. Затем определяется структура `events5` для `Incidents`, которая содержит массив элементов событий, подлежащих отслеживанию. Структура массива имеет ту же форму, что и структура, описанная для `events4`.

1. Наконец, отображается график и передаются две структуры с параметрами настроек диаграммы: `events:` и `states:`. Обратите внимание на другие параметры настроек для указания `tooltip:`, `theme:` или `grid:`.

[!code-javascript[code-sample-states-events](~/samples-javascript/pages/tutorial/index.html?range=337-389&highlight=5,26,51)]

Маркеры в форме ромбов и всплывающие окна, которые используются для обозначения инцидентов, а также цветные полосы и всплывающие окна на шкале времени отображают изменения состояния:

[![Графики с несколькими типами рядов](media/tutorial-explore-js-client-lib/tcs-line-charts-with-multiple-series-types.png)](media/tutorial-explore-js-client-lib/tcs-line-charts-with-multiple-series-types.png#lightbox)

### <a name="pop-up-context-menus"></a>Всплывающие контекстные меню

Другая расширенная функциональность — возможность создания настраиваемых контекстных меню, вызываемых щелчком правой кнопкой мыши. Настраиваемые контекстные меню можно использовать для включения действий и дальнейших логических шагов в пределах приложения.

Просмотрите код вокруг комментария `// Example 13/14/15`. Этот код изначально отображает график с заголовком `Line Chart with Context Menu to Create Pie/Bar Chart`. Диаграмма привязана к элементу `<div>` ​​со значением HTML `id` `chart13`.

График позволяет с помощью контекстных меню динамически создавать круговые и линейчатые диаграммы, которые привязаны к элементам `<div>` с идентификаторами `chart14` и `chart15`. Круговые и линейчатые диаграммы также используют контекстные меню для возможности копировать данные из круговой диаграммы в линейчатую и выводить данные линейчатой диаграммы в окно консоли браузера соответственно.

Процесс описан в следующих шагах:

1. Определяется ряд пользовательских действий. Каждое действие содержит массив с одним или несколькими элементами. Каждый элемент определяет один элемент контекстного меню:

   * `barChartActions`: это действие определяет контекстное меню для круговой диаграммы, которое содержит один элемент для определения одного пункта.
     * `name`: текст, используемый для пункта меню "Вывод параметров на консоль".
     * `action`: действие, которое связано с пунктом меню. Это действие всегда является анонимной функцией, которая принимает три аргумента на основе статистического выражения, используемого для создания диаграммы. В этом случае аргументы записываются в окно консоли браузера:
       * `ae`: массив статистических выражений.
       * `splitBy`: Значение `splitBy`.
       * `timestamp`: метка времени.

   * `pieChartActions`: это действие определяет контекстное меню для линейчатой диаграммы, которое содержит один элемент для определения одного пункта. Форма и схема аналогичны предыдущему элементу `barChartActions`, описанному ранее, но функция `action` сильно отличается, так как она создает и отображает линейчатую диаграмму. Аргумент `ae` используется, чтобы указать массив статистических выражений, переданный во время выполнения при открытии пункта меню. Функция также устанавливает свойство `ae.contextMenu` для контекстного меню `barChartActions`.
   * `contextMenuActions`: это действие определяет контекстное меню для графика, которое содержит три элемента для определения трех пунктов меню. Форма и схема для каждого элемента аналогичны описанным ранее. Как и `barChartActions`, первый элемент записывает три аргумента функции в окно консоли браузера. Как и в случае с элементом `pieChartActions`, два следующих элемента создают экземпляр и отображают круговую и линейчатую диаграммы соответственно. Два следующих элемента также устанавливают свойства `ae.contextMenu` для контекстных меню `pieChartActions` и `barChartActions` соответственно.

1. Два статистических выражения помещаются в массив `aes`. Они указывают массив `contextMenuActions` для каждого из них. Эти выражения используются с элементом управления графика.

1. Сначала выводится только график, из которого во время выполнения можно отрисовать круговую и линейчатую диаграммы.

[!code-javascript[code-sample-context-menus](~/samples-javascript/pages/tutorial/index.html?range=461-540&highlight=7,16,29,61-64,78)]

На следующем снимке экрана показаны графики с соответствующими всплывающими контекстными меню. Круговая и линейчатая диаграммы созданы динамически с использованием параметров контекстного меню графика.

[![График с контекстным меню для создания круговой или линейчатой диаграммы](media/tutorial-explore-js-client-lib/tcs-line-chart-with-context-menu-to-create-pie-bar-chart.png)](media/tutorial-explore-js-client-lib/tcs-line-chart-with-context-menu-to-create-pie-bar-chart.png#lightbox)

### <a name="brushes"></a>Кисти

С помощью кистей можно указать диапазон времени для применения таких действий, как масштабирование и рассмотрение.

Код, используемый для отображения кистей, показан в примере `Line Chart with Context Menu to Create Pie/Bar Chart`, описанном в разделе "Всплывающие контекстные меню".

* Действия кистей очень похожи на контекстное меню, которое определяет ряд пользовательских действий для кисти. Каждое действие содержит массив с одним или несколькими элементами. Каждый элемент определяет один элемент контекстного меню:
   * `name`: текст, используемый для пункта меню "Вывод параметров на консоль".
   * `action`: действие, связанное с пунктом меню, которое всегда является анонимной функцией, принимающей два аргумента. В этом случае аргументы записываются в окно консоли браузера:
     * `fromTime`: Метка времени `from` для выбора кисти.
     * `toTime`: Метка времени `to` для выбора кисти.

* Действия кисти добавляются как еще одно свойство параметра диаграммы. Свойство `brushContextMenuActions: brushActions` передается в вызов `linechart.Render`.

[!code-javascript[code-sample-brushes](~/samples-javascript/pages/tutorial/index.html?range=526-540&highlight=1,13)]

[![График с контекстным меню для создания круговой или линейчатой диаграммы с использованием кистей](media/tutorial-explore-js-client-lib/tcs-line-chart-with-context-menu-to-create-pie-bar-chart-brushes.png)](media/tutorial-explore-js-client-lib/tcs-line-chart-with-context-menu-to-create-pie-bar-chart-brushes.png#lightbox)

## <a name="clean-up-resources"></a>Очистка ресурсов

После завершения работы с учебником удалите созданные ресурсы:

1. На [портале Azure](https://portal.azure.com) в меню слева щелкните **Все ресурсы** и найдите группу ресурсов службы "Аналитика временных рядов Azure".
1. Удалите всю группу ресурсов (и все содержащиеся в ней ресурсы), выбрав **Удалить**, или каждый ресурс по отдельности.

## <a name="next-steps"></a>Дополнительная информация

Из этого руководства вы узнали, как выполнить следующие задачи:

> [!div class="checklist"]
> * Вход в систему и изучение примера приложения Аналитики временных рядов и его исходного кода.
> * Использование API-интерфейсов в клиентской библиотеке JavaScript Аналитики временных рядов.
> * Использование JavaScript для создания элементов управления диаграммами и заполнения их данными Аналитики временных рядов.

В примере приложения Аналитики временных рядов используется демонстрационный набор данных. Дополнительные сведения о том, как создать собственную среду и набор данных Аналитики временных рядов, см. в следующей статье:

> [!div class="nextstepaction"]
> [Руководство. Создание среды Аналитики временных рядов Azure](tutorial-create-populate-tsi-environment.md)

Или посмотрите исходные файлы примера приложения Аналитики временных рядов:

> [!div class="nextstepaction"]
> [Репозиторий примера приложения Аналитики временных рядов](https://github.com/Microsoft/tsiclient/tree/tutorial/pages/tutorial)

Ознакомьтесь со справочной документацией по API клиента Аналитики временных рядов:

> [!div class="nextstepaction"]
> [Справочная документация по API Аналитики временных рядов](https://github.com/microsoft/tsiclient/blob/master/docs/API.md)
