---
title: Лучшие практики для выбора идентификатора временных рядов - Исследования серии времени Azure (ru) Документы Майкрософт
description: Узнайте о рекомендациях при выборе идентификатора Time Series в Azure Time Series Insights Preview.
author: deepakpalled
ms.author: dpalled
manager: cshankar
ms.workload: big-data
ms.service: time-series-insights
services: time-series-insights
ms.topic: conceptual
ms.date: 02/07/2020
ms.custom: seodec18
ms.openlocfilehash: a62c2460698408f6a2bfa51c6638bdeaf88bb31f
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2020
ms.locfileid: "77083533"
---
# <a name="best-practices-for-choosing-a-time-series-id"></a>Лучшие методики при выборе идентификатора временного ряда

В этой статье кратко излагается важность идентификатора Time Series для среды просмотра Azure Time Series Insights и рекомендации по выбору одного из них.

## <a name="choose-a-time-series-id"></a>Выбор идентификатора временных рядов

Выбор соответствующего идентификатора Time Series имеет решающее значение. Выбор идентификатора временного ряда подобен выбору ключа раздела для базы данных. Это необходимо при создании среды просмотра временных рядов. 

> [!IMPORTANT]
> Иди имитирует серия времени:
> * *Свойство, чувствительное к делу:* оболочки букв и символов используются в поисках, сравнениях, обновлениях и при разделении.
> * *Непреложное* свойство: после создания его нельзя изменить.

> [!TIP]
> Если ваш источник событий является концентратором IoT, идентификатор Time Series, скорее всего, будет ***iothub-соединением-устройством-id.***

Основные рекомендации, чтобы следовать включают в себя:

* Выберите ключ раздела со многими различными значениями (например, сотни или тысячи). Во многих случаях это может быть идентификатор устройства, идентификатор датчика или идентификатор тегов в вашем JSON.
* Идентификатор временного ряда должен быть уникальным на уровне листового узла вашей [модели временных рядов](./time-series-insights-update-tsm.md).
* Ограничение символов для строки имени Time Series ID составляет 128. Для значения свойства Time Series ID ограничение символов составляет 1024.
* Если уникальное значение свойства для идентификатора Time Series отсутствует, оно рассматривается как нулевое значение и следует тому же правилу ограничения уникальности.
* Вы также можете выбрать до *трех* ключевых свойств в качестве идентификатора Time Series. Их комбинация будет композитным ключом, представляющим идентификатор Time Series.  
  > [!NOTE]
  > Ваши три ключевых свойства должны быть строками.
  > Вам придется задать запрос против этого композитного ключа вместо одного свойства за один раз.

## <a name="select-more-than-one-key-property"></a>Выберите несколько ключевых свойств

В следующих сценариях описывается выбор нескольких ключевых свойств в качестве идентификатора Time Series.  

### <a name="example-1-time-series-id-with-a-unique-key"></a>Пример 1: Идентификатор временных рядов с уникальным ключом

* У вас есть наследие флота активов. Каждый из них имеет уникальный ключ.
* Один флот однозначно идентифицирован **устройством свойстваId**. Для другого флота уникальное свойство является **objectId**. Ни один из флотов не содержит уникального имущества другого флота. В этом примере вы можете выбрать два ключа, **deviceId** и **objectId,** как уникальные.
* Мы принимаем нулевые значения, а отсутствие присутствия объекта в случае, если полезная нагрузка считается нулевой стоимостью. Это также подходящий способ обработки отправки данных в два источника событий, где данные в каждом источнике событий имеют уникальный идентификатор Time Series.

### <a name="example-2-time-series-id-with-a-composite-key"></a>Пример 2: Идентификатор временных рядов с композитным ключом

* Вам требуется,чтобы несколько свойств были уникальными в пределах одного парка ресурсов. 
* Вы являетесь производителем умных зданий и развертывать датчики в каждой комнате. В каждой комнате, как правило, одинаковые значения для **sensorId.** Примерами являются **sensor1,** **sensor2**и **sensor3.**
* Ваше здание имеет перекрывающиеся этаж и номера номеров через сайты в собственности **flrRm.** Эти цифры имеют значения, такие как **1a,** **2b**и **3a.**
* У вас есть свойство, **расположение,** которое содержит такие значения, как **Редмонд,** **Барселона**и **Токио.** Чтобы создать уникальность, вы обозначаете следующие три свойства в качестве ключей id Time Series: **sensorId,** **flrRm**и **местоположение.**

Пример необработанного события:

```JSON
{
  "sensorId": "sensor1",
  "flrRm": "1a",
  "location": "Redmond",
  "temperature": 78
}
```

На портале Azure можно ввести композитный ключ следующим образом: 

```JSON
[{"name":"sensorId","type":"String"},{"name":"flrRm","type":"String"},{"name":"location","type":"string"}]
```

## <a name="next-steps"></a>Дальнейшие действия

* Подробнее о [моделировании данных](./time-series-insights-update-tsm.md).

* Запланируйте [среду просмотра Azure Time Series Insights.](./time-series-insights-update-plan.md)