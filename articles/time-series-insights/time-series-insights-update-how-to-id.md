---
title: Лучшие методики при выборе идентификатора временного ряда в Аналитике временных рядов Azure | Документация Майкрософт
description: Основные сведения о рекомендациях по выбору идентификатора временного ряда в службе "Аналитика временных рядов Azure" (предварительная версия).
author: ashannon7
ms.author: anshan
ms.workload: big-data
manager: cshankar
ms.service: time-series-insights
services: time-series-insights
ms.topic: conceptual
ms.date: 05/08/2019
ms.custom: seodec18
ms.openlocfilehash: 4b2f538831ee9410eaf1a2d272f01fd30a9236e6
ms.sourcegitcommit: 17411cbf03c3fa3602e624e641099196769d718b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/10/2019
ms.locfileid: "65519439"
---
# <a name="best-practices-for-choosing-a-time-series-id"></a>Лучшие методики при выборе идентификатора временного ряда

В этой статье рассматриваются ключ раздела (идентификатор временного ряда) службы "Аналитика временных рядов Azure" (предварительная версия) и лучшие методики при его выборе.

## <a name="choose-a-time-series-id"></a>Выбор идентификатора временных рядов

Выбор идентификатора временного ряда подобен выбору ключа раздела для базы данных. Это важное решение, которое необходимо принимать во время разработки. Вы не можете обновить имеющуюся среду службы "Аналитика временных рядов" (предварительная версия), чтобы использовать другой идентификатор временного ряда. Другими словами, при создании среды с идентификатором временного ряда политика является свойством, которое нельзя изменить.

> [!IMPORTANT]
> Идентификатор временного ряда чувствителен к регистру и является неизменяемым (если он установлен, его уже нельзя изменить).

С учетом этого выбор соответствующего идентификатора временного ряда чрезвычайно важен. При выборе идентификатора временного ряда следуйте приведенным ниже рекомендациям.

* Выберите имя свойства, которое имеет широкий диапазон значений и шаблоны доступа. Лучше всего применять ключи раздела со множеством различных значений (например, сотни или тысячи). Для многих клиентов это будет примерно DeviceID или SensorID в JSON.
* Идентификатор временного ряда должен быть уникальным на уровне листового узла вашей [модели временных рядов](./time-series-insights-update-tsm.md).
* Строка знаков имени свойства идентификатора временного ряда может содержать не более 128 знаков, а значения свойств идентификатора временного ряда могут содержать не более 1024 знаков.
* Если значения некоторых уникальных свойств идентификатора временного ряда отсутствуют, они рассматриваются как имеющие значение null, которое принимает участие в ограничении уникальности.

Кроме того, можно выбрать до *трех* (3) ключевых свойств в качестве идентификатора временного ряда.

  > [!NOTE]
  > Ваши *три* (3) ключевых свойства должны быть строками.

В следующих сценариях описан выбор нескольких ключевых свойств в качестве вашего идентификатора временного ряда:  

### <a name="scenario-one"></a>Сценарий 1

* У вас есть устаревший парк ресурсов, у каждого из которых есть уникальный ключ.
* Например, один парк однозначно определяется свойством *deviceId*, а в другом уникальное свойство — *objectId*. Ни один парк не содержит уникальное свойство другого парка. В этом примере следует выбрать два ключа (deviceId и objectId) в качестве уникальных ключей.
* Мы принимаем значения null, а отсутствие свойства в полезных данных события рассматривается как значение `null`. Это также подходящий способ отправки данных в два разных источника событий, в каждом из которых данные имеют уникальный идентификатор временного ряда.

### <a name="scenario-two"></a>Сценарий 2

* Вам требуется,чтобы несколько свойств были уникальными в пределах одного парка ресурсов. 
* К примеру, предположим, что вы являетесь строителем умного дома и развертываете датчики в каждой комнате. В помещениях для параметра *sensorId*, как правило, заданы одинаковые значения, например *sensor1*, *sensor2* и *sensor3*.
* Кроме того, в здании перекрываются номера этажей и комнат на различных площадках в свойстве *flrRm*, для которого заданы такие значения, как *1a*, *2b*, *3a* и т. д.
* Наконец, у вас есть свойство *location*, содержащее такие значения, как *Redmond*, *Barcelona* и *Tokyo*. Чтобы обеспечить уникальность, необходимо назначить следующие три свойства ключей в качестве идентификатора временного ряда: *sensorId*, *flrRm* и *location*.

## <a name="next-steps"></a>Дальнейшие действия

* Дополнительные сведения о [моделировании данных](./time-series-insights-update-tsm.md).

* Запланируйте [среду "Аналитика временных рядов Azure" (предварительная версия)](./time-series-insights-update-plan.md).