---
title: Как добавить эталонный набор данных в среду Аналитики временных рядов Azure | Документация Майкрософт
description: Из этой статьи вы узнаете, как добавить эталонный набор данных в среду аналитики временных рядов Azure.
ms.service: time-series-insights
services: time-series-insights
author: ashannon7
ms.author: dpalled
manager: cshankar
ms.reviewer: jasonh, kfile
ms.workload: big-data
ms.topic: conceptual
ms.date: 08/28/2019
ms.custom: seodec18
ms.openlocfilehash: 138894f10a4865a5ea251caff6683ed70721c000
ms.sourcegitcommit: ee61ec9b09c8c87e7dfc72ef47175d934e6019cc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/30/2019
ms.locfileid: "70172927"
---
# <a name="create-a-reference-data-set-for-your-time-series-insights-environment-using-the-azure-portal"></a>Создание эталонного набора данных для среды Аналитики временных рядов с помощью портала Azure

Из этой статьи вы узнаете, как добавить эталонный набор данных в среду Аналитики временных рядов Azure. Соединив эталонные данные с исходными, можно получить расширенные значения.

Эталонный набор данных — это коллекция элементов, которые дополняют события из вашего источника событий. Обработчик входящего трафика аналитики временных рядов соединяет каждое событие из вашего источника событий с соответствующей строкой данных в вашем эталонном наборе данных. Это дополненное событие становится доступным для запроса. Это соединение основано на столбцах первичного ключа, определенных в эталонном наборе данных.

Ретроактивное объединение с эталонными данными не поддерживается. Таким же, только текущие и будущие входящие данные сопоставляются и соединяются со ссылочной датой после настройки и отправки.

## <a name="video"></a>Видео

### <a name="learn-about-time-series-insights-reference-data-modelbr"></a>Сведения о модели ссылочных данных аналитики временных рядов.</br>

> [!VIDEO https://www.youtube.com/embed/Z0NuWQUMv1o]

## <a name="add-a-reference-data-set"></a>Добавление эталонного набора данных

1. Войдите на [портале Azure](https://portal.azure.com).

1. Найдите существующую среду "Аналитика временных рядов". На портале Azure щелкните **Все ресурсы** в меню слева. Выберите среду Time Series Insights.

1. Выберите страницу **Обзор**. Найдите **URL-адрес обозревателя аналитики временных рядов** и откройте ссылку.  

   Просмотрите обозреватель для среды TSI.

1. Разверните средство выбора среды в обозревателе TSI. Выберите активную среду. Выберите значок эталонных данных в правом верхнем углу на странице обозревателя.

   [![Добавление ссылочных данных](media/add-reference-data-set/add-reference-data.png)](media/add-reference-data-set/add-reference-data.png#lightbox)

1. Нажмите кнопку **+ Добавить набор данных**, чтобы начать добавление нового набора данных.

   [![Добавить набор данных](media/add-reference-data-set/add-data-set.png)](media/add-reference-data-set/add-data-set.png#lightbox)

1. На странице **Новый эталонный набор данных** выберите формат данных:
   - выберите **CSV-файл** для данных с разделителями-запятыми (первая строка считается строкой заголовка);
   - выберите **Массив JSON** для данных в формате JSON (нотация объектов JavaScript).

   [![Выберите формат данных.](media/add-reference-data-set/add-data.png)](media/add-reference-data-set/add-data.png#lightbox)

1. Укажите данные, используя один из двух способов:
   - вставьте данные в текстовый редактор а затем нажмите кнопку **Проанализировать эталонные данные**;
   - нажмите кнопку **Выберите файл**, чтобы добавить данные из локального текстового файла.

   Например, вставьте данные CSV-файла: [![Вставленные данные CSV](media/add-reference-data-set/csv-data-pasted.png)](media/add-reference-data-set/csv-data-pasted.png#lightbox)

   Например, вставьте данные массива JSON: [![Вставка данных JSON](media/add-reference-data-set/json-data-pasted.png)](media/add-reference-data-set/json-data-pasted.png#lightbox)

   Если при анализе значений данных произойдет ошибка, она отобразится красным цветом в нижней части страницы, например таким образом: `CSV parsing error, no rows extracted`.

1. После успешного анализа данных появится сетка данных с отображением столбцов и строк с данными.  Просмотрите сетку данных, чтобы убедиться, что все правильно.

   [![Добавление ссылочных данных](media/add-reference-data-set/parse-data.png)](media/add-reference-data-set/parse-data.png#lightbox)

1. Просмотрите каждый столбец, чтобы увидеть предполагаемый тип данных, и при необходимости измените этот тип.  Выберите символ типа данных в заголовке столбца: **#** для двойных (числовых данных), **T|F** для данных с логическими значениями или **Abc** для строки.

   [![Выберите типы данных в заголовках столбцов.](media/add-reference-data-set/choose-datatypes.png)](media/add-reference-data-set/choose-datatypes.png#lightbox)

1. При необходимости переименуйте заголовки столбцов. Имя ключевого столбца необходимо для присоединения к соответствующему свойству в источнике события. Убедитесь, что имя ключевого столбца эталонных данных точно совпадает с именем события для входящих данных, включая чувствительность к регистру. Имена столбцов, не являющихся ключевыми, используются для добавления входящих данных с соответствующими значениями эталонных данных.

1. Выберите **Добавить строку** или **Добавить столбец** , чтобы добавить дополнительные значения ссылочных данных по мере необходимости.

1. Введите значение в поле **Filter the rows...** (Отфильтровать строки...), чтобы при необходимости просмотреть отдельные строки. Фильтр используется для просмотра данных, но не применяется при их загрузке.

1. Присвойте имя набору данных, заполнив поле **Имя набора данных** над сеткой данных.

    [![Назовите набор данных.](media/add-reference-data-set/name-reference-dataset.png)](media/add-reference-data-set/name-reference-dataset.png#lightbox)

1. Укажите столбец **первичного ключа** в наборе данных, выбрав раскрывающееся меню над сеткой данных.

    [![Выберите ключевые столбцы.](media/add-reference-data-set/set-primary-key.png)](media/add-reference-data-set/set-primary-key.png#lightbox)

    При необходимости нажмите кнопку **+** , чтобы добавить столбец вторичного ключа как составной первичный ключ. Если нужно отменить выбор, выберите пустое значение из раскрывающегося списка, чтобы удалить вторичный ключ.

1. Для передачи данных нажмите кнопку **передачи строк**.

    [![Дают](media/add-reference-data-set/upload-rows.png)](media/add-reference-data-set/upload-rows.png#lightbox)

    На странице вы увидите подтверждение завершенной загрузки и сообщение **Набор данных успешно отправлен**.

## <a name="next-steps"></a>Следующие шаги

* [Управление эталонными данными](time-series-insights-manage-reference-data-csharp.md) программными средствами.

* Полный справочник по API см. [здесь](https://docs.microsoft.com/rest/api/time-series-insights/ga-reference-data-api).
