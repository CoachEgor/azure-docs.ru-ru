---
title: Как добавить эталонный набор данных в среду Аналитики временных рядов Azure | Документация Майкрософт
description: Из этой статьи вы узнаете, как добавить эталонный набор данных в среду аналитики временных рядов Azure.
ms.service: time-series-insights
services: time-series-insights
author: ashannon7
ms.author: dpalled
manager: cshankar
ms.reviewer: jasonh, kfile
ms.workload: big-data
ms.topic: conceptual
ms.date: 05/13/2019
ms.custom: seodec18
ms.openlocfilehash: ab80279fae9dacdf7462b6c9d8208e0a56ca0877
ms.sourcegitcommit: 3e98da33c41a7bbd724f644ce7dedee169eb5028
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/17/2019
ms.locfileid: "67164985"
---
# <a name="create-a-reference-data-set-for-your-time-series-insights-environment-using-the-azure-portal"></a>Создание эталонного набора данных для среды Аналитики временных рядов с помощью портала Azure

Из этой статьи вы узнаете, как добавить эталонный набор данных в среду Аналитики временных рядов Azure. Соединив эталонные данные с исходными, можно получить расширенные значения.

Эталонный набор данных — это коллекция элементов, которые дополняют события из вашего источника событий. Обработчик входящего трафика аналитики временных рядов соединяет каждое событие из вашего источника событий с соответствующей строкой данных в вашем эталонном наборе данных. Это дополненное событие становится доступным для запроса. Это соединение основано на столбцах первичного ключа, определенных в эталонном наборе данных.

Ретроактивное объединение с эталонными данными не поддерживается. Таким образом только текущие и будущие входящие данные сопоставляются и присоединяются к эталонному набору, после настройки и загрузки.

## <a name="video"></a>Видео

### <a name="learn-about-time-series-insights-reference-data-modelbr"></a>Дополнительные сведения о Time Series Insight модель ссылочных данных.</br>

> [!VIDEO https://www.youtube.com/embed/Z0NuWQUMv1o]

## <a name="add-a-reference-data-set"></a>Добавление эталонного набора данных

1. Войдите на [портале Azure](https://portal.azure.com).

1. Найдите существующую среду "Аналитика временных рядов". На портале Azure щелкните **Все ресурсы** в меню слева. Выберите среду Time Series Insights.

1. Выберите страницу **Обзор**. Найдите **URL-адрес обозревателя аналитики временных рядов** и откройте ссылку.  

   Просмотрите обозреватель для среды TSI.

1. Разверните средство выбора среды в обозревателе TSI. Выберите активную среду. Выберите значок эталонных данных в правом верхнем углу на странице обозревателя.

   [![Добавление ссылочных данных](media/add-reference-data-set/add_reference_data.png)](media/add-reference-data-set/add_reference_data.png#lightbox)

1. Нажмите кнопку **+ Добавить набор данных**, чтобы начать добавление нового набора данных.

   [![Добавить набор данных](media/add-reference-data-set/add_data_set.png)](media/add-reference-data-set/add_data_set.png#lightbox)

1. На странице **Новый эталонный набор данных** выберите формат данных:
   - выберите **CSV-файл** для данных с разделителями-запятыми (первая строка считается строкой заголовка);
   - выберите **Массив JSON** для данных в формате JSON (нотация объектов JavaScript).

   [![Выберите формат данных.](media/add-reference-data-set/add_data.png)](media/add-reference-data-set/add_data.png#lightbox)

1. Укажите данные, используя один из двух способов:
   - вставьте данные в текстовый редактор а затем нажмите кнопку **Проанализировать эталонные данные**;
   - нажмите кнопку **Выберите файл**, чтобы добавить данные из локального текстового файла.

   Например, вставьте данные CSV-файла: [![Вставленные данные CSV-файла](media/add-reference-data-set/csv_data_pasted.png)](media/add-reference-data-set/csv_data_pasted.png#lightbox)

   Например, вставьте данные массива JSON: [![Вставьте данные JSON](media/add-reference-data-set/json_data_pasted.png)](media/add-reference-data-set/json_data_pasted.png#lightbox)

   Если при анализе значений данных произойдет ошибка, она отобразится красным цветом в нижней части страницы, например таким образом: `CSV parsing error, no rows extracted`.

1. После успешного анализа данных появится сетка данных с отображением столбцов и строк с данными.  Просмотрите сетку данных, чтобы убедиться, что все правильно.

   [![Добавление ссылочных данных](media/add-reference-data-set/parse_data.png)](media/add-reference-data-set/parse_data.png#lightbox)

1. Просмотрите каждый столбец, чтобы увидеть предполагаемый тип данных, и при необходимости измените этот тип.  Выберите символ типа данных в заголовке столбца: **#** для двойных (числовых данных), **T|F** для данных с логическими значениями или **Abc** для строки.

   [![Выберите типы данных в заголовках столбцов.](media/add-reference-data-set/choose_datatypes.png)](media/add-reference-data-set/choose_datatypes.png#lightbox)

1. При необходимости переименуйте заголовки столбцов. Имя ключевого столбца необходимо для присоединения к соответствующему свойству в источнике события. Убедитесь, что имя ключевого столбца эталонных данных точно совпадает с именем события для входящих данных, включая чувствительность к регистру. Имена столбцов, не являющихся ключевыми, используются для добавления входящих данных с соответствующими значениями эталонных данных.

1. Выберите **добавить строку** или **добавить столбец** добавить больше значений эталонных данных, при необходимости.

1. Введите значение в поле **Filter the rows...** (Отфильтровать строки...), чтобы при необходимости просмотреть отдельные строки. Фильтр используется для просмотра данных, но не применяется при их загрузке.

1. Присвойте имя набору данных, заполнив поле **Имя набора данных** над сеткой данных.

    [![Имя набора данных.](media/add-reference-data-set/name_reference_dataset.png)](media/add-reference-data-set/name_reference_dataset.png#lightbox)

1. Укажите столбец **первичного ключа** в наборе данных, выбрав раскрывающееся меню над сеткой данных.

    [![Выбор столбца первичного ключа.](media/add-reference-data-set/set_primary_key.png)](media/add-reference-data-set/set_primary_key.png#lightbox)

    При необходимости нажмите кнопку **+** , чтобы добавить столбец вторичного ключа как составной первичный ключ. Если нужно отменить выбор, выберите пустое значение из раскрывающегося списка, чтобы удалить вторичный ключ.

1. Для передачи данных нажмите кнопку **передачи строк**.

    [![Отправить](media/add-reference-data-set/upload_rows.png)](media/add-reference-data-set/upload_rows.png#lightbox)

    На странице вы увидите подтверждение завершенной загрузки и сообщение **Набор данных успешно отправлен**.

## <a name="next-steps"></a>Дальнейшие действия

* [Управление эталонными данными](time-series-insights-manage-reference-data-csharp.md) программными средствами.

* Полный справочник по API см. [здесь](/rest/api/time-series-insights/ga-reference-data-api).
