---
title: Запрашивание данных в предварительной версии службы "Аналитика временных рядов Azure" | Документация Майкрософт
description: Запрашивание данных в предварительной версии службы "Аналитика временных рядов Azure".
author: ashannon7
ms.author: dpalled
ms.workload: big-data
manager: cshankar
ms.service: time-series-insights
services: time-series-insights
ms.topic: conceptual
ms.date: 10/07/2019
ms.custom: seodec18
ms.openlocfilehash: 0b2f89a846747eaf78c60077372b48802506731e
ms.sourcegitcommit: ae461c90cada1231f496bf442ee0c4dcdb6396bc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/17/2019
ms.locfileid: "72553383"
---
# <a name="data-querying"></a>Запрашивание данных

Служба "Аналитика временных рядов" (предварительная версия) позволяет запрашивать данные о событиях и метаданных, хранящихся в среде, с помощью программных интерфейсов общедоступной области. Эти программные интерфейсы (API) также используются в [обозревателе службы "Аналитика временных рядов" (предварительная версия)](./time-series-insights-update-explorer.md).

Доступны три основные категории API в службе "Аналитика временных рядов":

* **API среды**: включает запросы самой среды "аналитика временных рядов". К примерам запросов относятся перечисление сред, к которым вызывающая сторона имеет доступ, и вывод метаданных среды.

* **API-интерфейсы временных рядов (ТСМ-Q)** . обеспечивает выполнение операций создания, чтения, обновления и удаления (CRUD) с метаданными, хранящимися в среде, входящей в модель временных рядов. Эти операции могут выполняться с экземплярами, типами и иерархиями.

* **API-интерфейсы запросов временных рядов (ТСК)** : позволяют получать данные о событиях по мере их записи от поставщика источника. Эти программные интерфейсы могут выполнять операции для преобразования, объединения данных временных рядов и выполнения вычислений в них.

[Язык выражений временных рядов (TSX)](https://docs.microsoft.com/rest/api/time-series-insights/preview-tsx) — это эффективная четвертая категория. Он использует модели временных рядов для обеспечения создания расширенного вычисления.

## <a name="azure-time-series-insights-preview-core-apis"></a>Основные API службы "Аналитика временных рядов Azure" (предварительная версия)

Поддерживаются следующие основные программные интерфейсы.

[Общие сведения о запросе ![Time Series](media/v2-update-tsq/tsq.png)](media/v2-update-tsq/tsq.png#lightbox)

## <a name="environment-apis"></a>Программные интерфейсы среды

Доступны следующие программные интерфейсы среды:

* [Получение API среды](https://docs.microsoft.com/rest/api/time-series-insights/preview-env#get-environments-api): Возвращает список сред, к которым вызывающему объекту разрешен доступ.
* [Получить API доступности среды](https://docs.microsoft.com/rest/api/time-series-insights/preview-env#get-environment-availability-api): Возвращает распределение количества событий по метке времени события `$ts`. Этот API позволяет определить наличие событий для метки времени, возвращая количество событий, если таковые существуют.
* [Получение API схемы событий](https://docs.microsoft.com/rest/api/time-series-insights/preview-env#get-event-schema-api): Возвращает метаданные схемы событий для заданного диапазона поиска. Этот API позволяет получить все метаданные и свойства, доступные в схеме для заданной области поиска.

## <a name="time-series-model-query-tsm-q-apis"></a>API запросов модели временных рядов (TSM-Q)

Доступны следующие программные интерфейсы запросов модели временных рядов:

* [API параметров модели](https://docs.microsoft.com/rest/api/time-series-insights/preview-model#model-settings-api): включает получение и исправление для типа по умолчанию и имя модели среды.
* [API типов](https://docs.microsoft.com/rest/api/time-series-insights/preview-model#types-api): включает CRUD на типах временных рядов и связанных с ними переменных.
* [API иерархий](https://docs.microsoft.com/rest/api/time-series-insights/preview-model#hierarchies-api): включает CRUD в иерархиях временных рядов и связанные с ними пути к полям.
* [API экземпляров](https://docs.microsoft.com/rest/api/time-series-insights/preview-model#instances-api): включает CRUD на экземплярах временных рядов и связанных с ними полях экземпляров.

## <a name="time-series-query-tsq-apis"></a>API запросов временных рядов (TSQ)

Доступны следующие программные интерфейсы запросов временных рядов:

* [API получения событий](https://docs.microsoft.com/rest/api/time-series-insights/preview-query#get-events-api): позволяет получать запросы и получать данные о временных рядах данных из событий по мере их записи в службу "аналитика временных рядов" от поставщика источника.

* [Получение API серии](https://docs.microsoft.com/rest/api/time-series-insights/preview-query#get-series-api). позволяет получать запросы и получать данные о временных рядах данных из захваченных событий с помощью данных, записанных на канале передачи. Возвращаемые значения основаны на встроенных переменных или переменных, которые были определены в модели.

    >[!NOTE]
    > Предложение статистического вычисления игнорируется даже в том случае, если оно указано в модели или встроенное.

  API получения рядов возвращает значение временных рядов для каждой переменной каждого интервала. Значения временных рядов — это формат, который Аналитика временных рядов использует для выходных данных JSON, возвращаемых из запроса. Возвращаемые значения основаны на идентификаторе временного ряда и наборе предоставленных переменных.

* [Статистический API-интерфейс серии](https://docs.microsoft.com/rest/api/time-series-insights/preview-query#aggregate-series-api): позволяет выполнять запросы и получать данные о временных рядах данных из захваченных событий с помощью выборки и статистической обработки записанных данных.

  API статистического вычисления рядов возвращает значение временных рядов для каждой переменной каждого интервала. Значения основаны на идентификаторе временного ряда и наборе предоставленных переменных. API статистического вычисления рядов обеспечивает сокращение за счет использования переменных, которые хранятся в модели временных рядов или встроены, для статистического вычисления или выборки данных.

  Поддерживаемые типы статистических выражений: `Min`, `Max`, `Sum`, `Count`, `Average`

## <a name="next-steps"></a>Дальнейшие действия

- Узнайте больше о [хранении и](./time-series-insights-update-storage-ingress.md) входе в предварительной версии службы "аналитика временных рядов Azure".

- Прочтите статью анализ [данных о моделировании](./time-series-insights-update-tsm.md) временных рядов в предварительной версии.

- Ознакомьтесь [с рекомендациями по выбору идентификатора временного ряда](./time-series-insights-update-how-to-id.md).
