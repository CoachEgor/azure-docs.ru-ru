---
title: Мониторинг Apache Spark приложений
description: Используйте Azure синапсе Studio для мониторинга приложений Apache Spark.
services: synapse-analytics
author: matt1883
ms.service: synapse-analytics
ms.topic: how-to
ms.subservice: monitoring
ms.date: 04/15/2020
ms.author: mahi
ms.reviewer: mahi
ms.openlocfilehash: 20c4216e7af0cb4100204ebae1b484a53e3c50a6
ms.sourcegitcommit: f684589322633f1a0fafb627a03498b148b0d521
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/06/2020
ms.locfileid: "85971353"
---
# <a name="use-the-azure-synapse-studio-to-monitor-your-apache-spark-applications"></a>Мониторинг Apache Spark приложений с помощью Azure синапсе Studio

С помощью Azure синапсе Analytics вы можете использовать Apache Spark для запуска записных книжек, заданий и других типов приложений в пулах Apache Spark в рабочей области.

В этой статье объясняется, как отслеживать Apache Spark приложения, позволяя следить за последним состоянием, проблемами и ходом выполнения.

В рамках этого руководства рассматриваются следующие задачи:

* Мониторинг работающего приложения Apache Spark
* Просмотр завершенного Apache Spark приложения
* Просмотр отмененного Apache Spark приложения
* Сбой отладки Apache Spark приложение

## <a name="prerequisites"></a>Предварительные требования

Прежде чем приступить к изучению этого руководства, убедитесь, что выполнены следующие требования.

- Рабочая область Azure синапсе Studio. Инструкции см. в статье [Создание рабочей области Azure синапсе Studio](https://docs.microsoft.com/azure/machine-learning/how-to-manage-workspace#create-a-workspace).

- Пул Apache Spark.

## <a name="monitor-running-apache-spark-application"></a>Мониторинг работающего приложения Apache Spark

Откройте **монитор**, а затем выберите **Apache Spark приложения**. Чтобы просмотреть сведения о выполняющихся Apache Spark приложениях, выберите отправку Apache Spark приложение и просмотрите сведения. Если приложение Apache Spark все еще выполняется, можно отслеживать ход выполнения.

  ![Выбор выполняющегося задания](./media/how-to-monitor-spark-applications/select-running-job.png)

1. Проверьте **Завершенные задачи**, **состояние**и **общую длительность**.

2. Отмена Apache Spark приложения.

3. Обновить запрос журнала.

4. Просмотр диаграммы.

5. Проверьте **Сводные** данные.

6. Проверьте **журналы**. Сведения о журнале пусты во время выполнения.

    ![Просмотр выполняемого задания](./media/how-to-monitor-spark-applications/view-running-job.png)

## <a name="view-completed-apache-spark-application"></a>Просмотр завершенного Apache Spark приложения

Откройте **монитор**, а затем выберите **Apache Spark приложения**. Чтобы просмотреть сведения о завершенных Apache Spark приложениях, выберите Apache Spark приложение и просмотрите сведения.

  ![Выбор выполненного задания](./media/how-to-monitor-spark-applications/select-completed-job.png)

1. Проверьте **Завершенные задачи**, **состояние**и **общую длительность**.

2. Обновить запрос журнала.

3. Чтобы открыть ссылку на сервер журнала Apache Spark, щелкните **сервер журнала Spark**.

4. Проверьте **Сводные** данные, щелкнув значок на диаграмме.

5. Проверьте **журналы**. Можно выбрать другой тип журналов из раскрывающегося списка, а также загрузить данные журнала, нажав кнопку **скачать журналы**.

6. В созданном графе задания можно просмотреть общие сведения о задании. По умолчанию на диаграмме отображаются все задания. Это представление можно отфильтровать по **идентификатору задания**.

7. По умолчанию выбрано отображение **хода выполнения** . Чтобы проверить поток данных, выберите **Чтение** или **запись** в раскрывающемся списке **Отображение** .

8. Чтобы воспроизвести задание, выберите **Воспроизведение**. Вы можете в любое время нажать кнопку " **Отключить** ".

9. Используйте прокрутку мыши, чтобы увеличить или уменьшить график задания, или выберите **масштаб в соответствии** с размерами экрана.

10. В узле граф заданий отображаются следующие сведения о каждом этапе.

    * ID.

    * имя или описание;

    * общее количество задач;

    * Чтение данных: сумма размера входных данных и размер данных чтения в случайном порядке.

    * Запись данных: сумма размера вывода и размер записи в случайном порядке.

    * время выполнения: время от начала первой попытки до завершения последней попытки;

    * число строк: сумма входных записей, выходных записей, записей смешанного чтения и записей смешанной записи;

    * ход выполнения.

     ![Просмотр завершенного задания](./media/how-to-monitor-spark-applications/view-completed-job.png)
    
11. Щелкните диаграмму, после чего отобразятся сведения для этапа.

   ![сведения для этапа](./media/how-to-monitor-spark-applications/details-for-stage.png)

## <a name="view-canceled-apache-spark-application"></a>Просмотр отмененного Apache Spark приложения

Откройте **монитор**, а затем выберите **Apache Spark приложения**. Чтобы просмотреть сведения об отмененных Apache Spark приложениях, выберите Apache Spark приложение и просмотрите сведения.

 ![Выбор отмененного задания](./media/how-to-monitor-spark-applications/select-cancelled-job.png) 

1. Проверьте **Завершенные задачи**, **состояние**и **общую длительность**.

2. Обновите запрос журнала.

3. Откройте ссылку на сервер журнала Apache, щелкнув **сервер журнала Spark**.

4. Просмотр диаграммы.

5. Проверьте **Сводные** данные.

6. Проверьте **журналы**. Можно выбрать другой тип журналов из раскрывающегося списка, а также загрузить данные журнала, нажав кнопку **скачать журналы**.

   ![Просмотр отмененного задания](./media/how-to-monitor-spark-applications/view-cancelled-job.png)

## <a name="debug-failed-apache-spark-application"></a>Сбой отладки Apache Spark приложение

Откройте **монитор**, а затем выберите **Apache Spark приложения**. Чтобы просмотреть сведения о неудачных Apache Spark приложениях, выберите Apache Spark приложение и просмотрите сведения.

![Выберите невыполненное задание](./media/how-to-monitor-spark-applications/select-failed-job.png)

1. Проверьте **Завершенные задачи**, **состояние**и **общую длительность**.

2. Обновить запрос журнала.

3. Чтобы открыть ссылку на сервер журнала Apache Spark, щелкните **сервер журнала Spark**.

4. Просмотр диаграммы.

5. Проверьте **Сводные** данные.

6. Проверьте сведения об ошибке.

   ![сведения о невыполненном задании](./media/how-to-monitor-spark-applications/failed-job-info.png)

## <a name="next-steps"></a>Дальнейшие шаги

Дополнительные сведения о выполнении конвейера мониторинга см. в статье запуск конвейера мониторинга в [Azure синапсе Studio](how-to-monitor-pipeline-runs.md) .  
