---
title: Краткое руководство. Массовая загрузка данных с использованием выделенного пула SQL
description: Используйте Synapse Studio для загрузки данных в выделенный пул SQL в Azure Synapse Analytics.
services: synapse-analytics
author: kevinvngo
ms.service: synapse-analytics
ms.subservice: sql
ms.topic: quickstart
ms.date: 11/16/2020
ms.author: kevin
ms.reviewer: jrasnick
ms.openlocfilehash: 312c57c103bf733bc72c5de1d22ab3239d5b5e96
ms.sourcegitcommit: d60976768dec91724d94430fb6fc9498fdc1db37
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2020
ms.locfileid: "96484718"
---
# <a name="quickstart-bulk-loading-with-synapse-sql"></a>Краткое руководство. Массовая загрузка в Synapse SQL

Благодаря мастеру массовой загрузки в Synapse Studio загружать данные стало гораздо проще. Этот мастер поможет вам создать скрипт T-SQL с использованием [инструкции COPY](/sql/t-sql/statements/copy-into-transact-sql?view=azure-sqldw-latest&preserve-view=true) для массовой загрузки данных. 

## <a name="entry-points-to-the-bulk-load-wizard"></a>Точки входа в мастер массовой загрузки

Вы можете без труда выполнять массовую загрузку данных с использованием выделенных пулов SQL, щелкнув правой кнопкой мыши в следующих областях Synapse Studio:

- Файл или папка в учетной записи хранения Azure, присоединенной к рабочей области. ![Меню, вызываемое щелчком правой кнопкой мыши по файлу или папке в учетной записи хранения](./sql/media/bulk-load/bulk-load-entry-point-0.png)

## <a name="prerequisites"></a>Предварительные требования

- Этот мастер создает инструкцию COPY, которая использует сквозную передачу через Azure AD для аутентификации. У [пользователя Azure AD должны быть разрешения на доступ](
./sql-data-warehouse/quickstart-bulk-load-copy-tsql-examples.md#d-azure-active-directory-authentication) к рабочей области по меньшей мере с ролью Azure участника данных BLOB-объектов хранилища в учетной записи ADLS 2-го поколения. 

- У вас должны быть [разрешения на использование инструкции COPY](/sql/t-sql/statements/copy-into-transact-sql?view=azure-sqldw-latest&preserve-view=true#permissions) и разрешения на создание таблиц, если для загрузки будет создаваться новая таблица.

- У соответствующей службы, связанной с учетной записью ADLS 2-го поколения, **должны быть разрешения на доступ к файлу**/**папке** для загрузки. Например, если для связанной службы используется механизм аутентификации "Управляемое удостоверение", у управляемого удостоверения рабочей области должна быть по меньшей мере роль читателя для BLOB-объектов хранилища в учетной записи хранения.

- Если в рабочей области включена виртуальная сеть, убедитесь, что для интегрированной среды выполнения, связанной с соответствующими службами учетной записи ADLS 2-го поколения для определения исходных данных и файлов ошибок, включена интерактивная разработка. Интерактивная разработка требуется для автоматического обнаружения схемы, а также просмотра содержимого исходного файла и учетных записей хранения ADLS 2-го поколения в мастере.

### <a name="steps"></a>Шаги

1. Выберите учетную запись хранения и файл или папку, из которых вы загружаете данные, на панели в месте хранения исходных данных. Мастер будет автоматически пытаться обнаружить файлы Parquet. Если файл Parquet не будет определен, по умолчанию будет использоваться текст с разделителями (CSV).

   ![Выбор расположения исходных данных](./sql/media/bulk-load/bulk-load-source-location.png)

2. Выберите параметры формата файла, включая учетную запись хранения для записи отклоненных строк (файл ошибок). Сейчас поддерживаются только CSV-файлы и файлы Parquet.

    ![Выбор параметров формата файла](./sql/media/bulk-load/bulk-load-file-format-settings.png)

3. Выбрав элемент "Предварительный просмотр данных", вы увидите, как инструкция COPY будет анализировать файл. Это поможет вам настроить параметры формата файла. Выбирайте элемент "Предварительный просмотр данных" при каждом изменении параметров формата файла, чтобы увидеть, как инструкция COPY анализирует файл с обновленными параметрами: ![Предварительный просмотр данных](./sql/media/bulk-load/bulk-load-file-format-settings-preview-data.png) 

> [!NOTE]  
>
> - Предварительный просмотр данных с признаками конца поля в виде нескольких символов не поддерживается в мастере массовой загрузки. Мастер массовой загрузки обеспечит предварительный просмотр данных в одном столбце, если задан признак конца поля в виде нескольких символов. 
> - Указание признаков конца поля в виде нескольких символов поддерживается в инструкции COPY, но не в мастере массовой загрузки, где возникнет ошибка.

4. Выберите выделенный пул SQL, который вы используете для загрузки, и укажите, куда загружать данные — в существующую или новую таблицу: ![Выбор целевого расположения](./sql/media/bulk-load/bulk-load-target-location.png)

5. Выберите элемент "Настроить сопоставление столбцов", чтобы проверить правильность сопоставления. Обратите внимание, что имена столбцов будут автоматически обнаружены, если был включен вывод имен столбцов. Для новых таблиц очень важно настроить сопоставление столбцов, так как это позволяет обновлять типы данных для целевого столбца. ![Настройка сопоставления столбцов](./sql/media/bulk-load/bulk-load-target-location-column-mapping.png)

6. Выберите элемент "Открыть скрипт" и вы получите скрипт T-SQL с инструкцией COPY для загрузки данных из озера данных: ![Открытие скрипта SQL](./sql/media/bulk-load/bulk-load-target-final-script.png)

## <a name="next-steps"></a>Дальнейшие действия

- См. сведения о возможностях [инструкции COPY](/sql/t-sql/statements/copy-into-transact-sql?view=azure-sqldw-latest&preserve-view=true#syntax).
- См. сведения о [загрузке данных](./sql-data-warehouse/design-elt-data-loading.md#what-is-elt).
