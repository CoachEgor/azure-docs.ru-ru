---
title: Краткое руководство. Массовая загрузка данных в Synapse SQL
description: Использование Synapse Studio для массовой загрузки данных в Synapse SQL
services: synapse-analytics
author: kevinvngo
ms.service: synapse-analytics
ms.subservice: sql
ms.topic: quickstart
ms.date: 05/06/2020
ms.author: kevin
ms.reviewer: jrasnick
ms.openlocfilehash: 4dd0455c73395b3f3b883032d25160f0ea299cea
ms.sourcegitcommit: 30505c01d43ef71dac08138a960903c2b53f2499
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/15/2020
ms.locfileid: "92090630"
---
# <a name="quickstart-bulk-loading-with-synapse-sql"></a>Краткое руководство. Массовая загрузка в Synapse SQL

Загружать данные никогда не было так просто, как с помощью мастера массовой загрузки в Synapse Studio. Этот мастер поможет вам создать скрипт T-SQL с использованием [инструкции COPY](https://docs.microsoft.com/sql/t-sql/statements/copy-into-transact-sql?view=azure-sqldw-latest) для массовой загрузки данных. 

## <a name="entry-points-to-the-bulk-load-wizard"></a>Точки входа в мастер массовой загрузки

Теперь вы можете без усилий выполнять массовую загрузку данных с использованием пулов SQL, щелкнув правой кнопкой мыши в следующих областях Synapse Studio.

- Файл или папка в учетной записи хранения Azure, присоединенной к рабочей области. ![Меню, вызываемое щелчком правой кнопкой мыши по файлу или папке в учетной записи хранения](./sql/media/bulk-load/bulk-load-entry-point-0.png)

## <a name="prerequisites"></a>Предварительные требования

- Этот мастер создает инструкцию COPY, которая использует сквозную передачу через Azure AD для аутентификации. У [пользователя Azure AD должны быть разрешения на доступ](https://docs.microsoft.com/azure/synapse-analytics/sql-data-warehouse/quickstart-bulk-load-copy-tsql-examples#d-azure-active-directory-authentication-aad) к рабочей области по меньшей мере с ролью Azure участника данных BLOB-объектов хранилища в учетной записи ADLS 2-го поколения.

- У вас должны быть [разрешения на использование инструкции COPY](https://docs.microsoft.com/sql/t-sql/statements/copy-into-transact-sql?view=azure-sqldw-latest#permissions) и разрешения на создание таблиц, если для загрузки будет создаваться новая таблица.

- У соответствующей службы, связанной с учетной записью ADLS 2-го поколения, **должны быть разрешения на доступ к файлу**/**папке** для загрузки. Например, если для связанной службы используется механизм аутентификации "Управляемое удостоверение", у управляемого удостоверения рабочей области должна быть по меньшей мере роль читателя для BLOB-объектов хранилища в учетной записи хранения.

- Если в рабочей области включена виртуальная сеть, убедитесь, что для интегрированной среды выполнения, связанной с соответствующими службами учетной записи ADLS 2-го поколения для определения исходных данных и файлов ошибок, включена интерактивная разработка. Интерактивная разработка требуется для автоматического обнаружения схемы, а также просмотра содержимого исходного файла и учетных записей хранения ADLS 2-го поколения в мастере.

### <a name="steps"></a>Шаги

1. Выберите учетную запись хранения и файл или папку, из которых вы загружаете данные, на панели в месте хранения исходных данных. ![Выбор расположения исходных данных](./sql/media/bulk-load/bulk-load-source-location.png)

2. Выберите параметры формата файла, включая учетную запись хранения для записи отклоненных строк (файл ошибок). Сейчас поддерживаются только CSV-файлы и файлы Parquet.

    ![Выбор параметров формата файла](./sql/media/bulk-load/bulk-load-file-format-settings.png)

3. Выбрав элемент "Предварительный просмотр данных", вы увидите, как инструкция COPY будет анализировать файл. Это поможет вам настроить параметры формата файла. Выбирайте элемент "Предварительный просмотр данных" при каждом изменении параметров формата файла, чтобы увидеть, как инструкция COPY анализирует файл с обновленными параметрами: ![Предварительный просмотр данных](./sql/media/bulk-load/bulk-load-file-format-settings-preview-data.png) 

4. Выберите пул SQL, который вы используете для загрузки, и укажите, куда загружать данные: в существующую или новую таблицу: ![Выбор целевого расположения](./sql/media/bulk-load/bulk-load-target-location.png)

5. Выберите элемент "Настроить сопоставление столбцов", чтобы проверить правильность сопоставления. Для новых таблиц очень важно настроить сопоставление столбцов, так как это позволяет обновлять типы данных для целевого столбца. ![Настройка сопоставления столбцов](./sql/media/bulk-load/bulk-load-target-location-column-mapping.png)

6. Выберите элемент "Открыть скрипт" и вы получите скрипт T-SQL с инструкцией COPY для загрузки данных из озера данных: ![Открытие скрипта SQL](./sql/media/bulk-load/bulk-load-target-final-script.png)

## <a name="next-steps"></a>Дальнейшие действия

- См. сведения о возможностях [инструкции COPY](https://docs.microsoft.com/sql/t-sql/statements/copy-into-transact-sql?view=azure-sqldw-latest#syntax).
- См. сведения о [загрузке данных](https://docs.microsoft.com/azure/synapse-analytics/sql-data-warehouse/design-elt-data-loading#what-is-elt).
