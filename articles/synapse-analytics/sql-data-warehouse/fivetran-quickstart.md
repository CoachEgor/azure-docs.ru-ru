---
title: Краткое руководство. Fivetran и хранилище данных
description: Сведения для начала работы с Fivetran и хранилищем данных Azure Synapse Analytics.
services: synapse-analytics
author: mlee3gsd
manager: craigg
ms.service: synapse-analytics
ms.topic: conceptual
ms.subservice: sql-dw
ms.date: 10/12/2018
ms.author: martinle
ms.reviewer: igorstan
ms.custom: seo-lt-2019, azure-synapse
ms.openlocfilehash: 96e679c0b284cc649dbde3fba1b640f4e09df05e
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85201656"
---
# <a name="quickstart-fivetran-with-data-warehouse"></a>Краткое руководство. Fivetran в сочетании с хранилищем данных 

В этом кратком руководстве описывается настройка нового пользователя Fivetran для работы с хранилищем данных Azure Synapse Analytics, для которого настроен пул SQL. В этой статье предполагается, что у вас уже есть экземпляр хранилища данных.

## <a name="set-up-a-connection"></a>Настройка подключения

1. Найдите полное имя сервера и имя базы данных, используемые для подключения к хранилищу данных.
    
    Если вам необходима помощь в поиске этих сведений, обратитесь к статье [Подключение к Synapse SQL](../sql/connect-overview.md).

2. В мастере установки выберите подключение к базе данных напрямую или через туннель SSH.

   Если вы выбрали прямое подключения к базе данных, необходимо создать правило брандмауэра, чтобы разрешить доступ. Этот метод является наиболее простым и безопасным.

   Если выбрано подключение через туннель SSH, Fivetran подключается к отдельному серверу в сети. Сервер предоставляет туннель SSH к базе данных. Этот метод необходимо использовать в том случае, если база данных находится в подсети, недоступной в виртуальной сети.

3. Добавьте IP-адрес **52.0.2.4** в брандмауэр уровня сервера, чтобы разрешить входящие подключения к экземпляру хранилища данных из Fivetran.

   Подробные сведения см. в разделе [Создание правила брандмауэра на уровне сервера](create-data-warehouse-portal.md#create-a-server-level-firewall-rule).

## <a name="set-up-user-credentials"></a>Настройка учетных данных пользователя

1. Подключитесь к хранилищу данных с помощью SQL Server Management Studio или любого другого удобного средства. Войдите в систему как администратор сервера. Затем выполните следующие команды SQL, чтобы создать пользователя для Fivetran:

    - В базе данных master: 
    
      ```sql
      CREATE LOGIN fivetran WITH PASSWORD = '<password>'; 
      ```

    - В базе данных хранилища данных выполните следующее.

      ```sql
      CREATE USER fivetran_user_without_login without login;
      CREATE USER fivetran FOR LOGIN fivetran;
      GRANT IMPERSONATE on USER::fivetran_user_without_login to fivetran;
      ```

2. Предоставьте пользователю Fivetran следующие разрешения в хранилище.

    ```sql
    GRANT CONTROL to fivetran;
    ```

    Разрешение CONTROL требуется для создания учетных данных уровня базы данных, которые будут использоваться, когда пользователь загружает файлы из хранилища BLOB-объектов Azure с помощью PolyBase.

3. Добавьте подходящий класс ресурсов для пользователя Fivetran. Используемый класс ресурсов зависит от объема памяти, необходимой для создания индекса columnstore. Например, для интеграции с такими продуктами, как Marketo и Salesforce, требуется более высокий класс ресурсов из-за большого числа столбцов и большого объема данных, потребляемого продуктами. При использовании более высокого класса ресурсов требуется больше памяти для создания индексов columnstore.

    Мы рекомендуем применять статические классы ресурсов. Вы можете начать с класса ресурсов `staticrc20`. Класс ресурсов `staticrc20` выделяет 200 МБ для каждого пользователя независимо от используемого уровня производительности. При сбое создания индекса columnstore на начальном уровне класса ресурсов повысьте класс ресурсов.

    ```sql
    EXEC sp_addrolemember '<resource_class_name>', 'fivetran';
    ```

    Дополнительные сведения об [ограничениях параллелизма и памяти](memory-concurrency-limits.md) и [классах ресурсов](sql-data-warehouse-memory-optimizations-for-columnstore-compression.md#ways-to-allocate-more-memory).


## <a name="connect-from-fivetran"></a>Подключение из Fivetran

Чтобы подключиться к хранилищу данных из учетной записи Fivetran, введите учетные данные для доступа к хранилищу данных. 

* узел (имя вашего сервера);
* порт;
* база данных;
* пользователь (с именем в формате **fivetran\@_имя_сервера_**, где *имя_сервера* извлекается из URI узла Azure: **_имя\_сервера_.database.windows.net**).
* Пароль.
