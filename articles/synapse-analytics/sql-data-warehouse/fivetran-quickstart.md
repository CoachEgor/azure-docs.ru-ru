---
title: Краткое руководство. Фиветран и хранилище данных
description: Начало работы с Фиветран и хранилищем данных Azure синапсе Analytics.
services: synapse-analytics
author: mlee3gsd
manager: craigg
ms.service: synapse-analytics
ms.topic: conceptual
ms.subservice: ''
ms.date: 10/12/2018
ms.author: martinle
ms.reviewer: igorstan
ms.custom: seo-lt-2019, azure-synapse
ms.openlocfilehash: 8f164232a3b1782511758f93a9e9b8d17d3714d5
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2020
ms.locfileid: "81414269"
---
# <a name="quickstart-fivetran-with-data-warehouse"></a>Краткое руководство. Фиветран с хранилищем данных 

В этом кратком руководстве описано, как настроить нового пользователя Фиветран для работы с хранилищем данных Azure синапсе Analytics, подготовленным с помощью пула SQL. В этой статье предполагается, что у вас уже есть хранилище данных.

## <a name="set-up-a-connection"></a>Настройка подключения

1. Найдите полное имя сервера и имя базы данных, которые используются для подключения к хранилищу данных.
    
    Если вам нужна помощь в поиске этой информации, см. статью [Подключение к хранилищу данных](../sql/connect-overview.md).

2. В мастере установки выберите подключение к базе данных напрямую или через туннель SSH.

   Если вы выбрали прямое подключения к базе данных, необходимо создать правило брандмауэра, чтобы разрешить доступ. Этот метод является наиболее простым и безопасным.

   Если вы решили подключиться с помощью туннеля SSH, Фиветран подключается к отдельному серверу в сети. Сервер предоставляет туннель SSH к базе данных. Этот метод необходимо использовать в том случае, если база данных находится в подсети, недоступной в виртуальной сети.

3. Добавьте IP-адрес **52.0.2.4** в брандмауэр уровня сервера, чтобы разрешить входящие подключения к экземпляру хранилища данных из фиветран.

   Подробные сведения см. в разделе [Создание правила брандмауэра на уровне сервера](create-data-warehouse-portal.md#create-a-server-level-firewall-rule).

## <a name="set-up-user-credentials"></a>Настройка учетных данных пользователя

1. Подключитесь к хранилищу данных с помощью SQL Server Management Studio (SSMS) или предпочтительного средства. Войдите в систему как администратор сервера. Затем выполните следующие команды SQL, чтобы создать пользователя для Fivetran:

    - В базе данных master: 
    
      ```sql
      CREATE LOGIN fivetran WITH PASSWORD = '<password>'; 
      ```

    - В базе данных хранилища данных:

      ```sql
      CREATE USER fivetran_user_without_login without login;
      CREATE USER fivetran FOR LOGIN fivetran;
      GRANT IMPERSONATE on USER::fivetran_user_without_login to fivetran;
      ```

2. Предоставьте пользователю Фиветран следующие разрешения в хранилище данных:

    ```sql
    GRANT CONTROL to fivetran;
    ```

    Разрешение CONTROL требуется для создания учетных данных уровня базы данных, которые будут использоваться, когда пользователь загружает файлы из хранилища BLOB-объектов Azure с помощью PolyBase.

3. Добавьте подходящий класс ресурсов для пользователя Fivetran. Используемый класс ресурсов зависит от объема памяти, необходимой для создания индекса columnstore. Например, для интеграции с такими продуктами, как Marketo и Salesforce, требуется более высокий класс ресурсов из-за большого числа столбцов и большого объема данных, потребляемого продуктами. При использовании более высокого класса ресурсов требуется больше памяти для создания индексов columnstore.

    Мы рекомендуем применять статические классы ресурсов. Вы можете начать с класса ресурсов `staticrc20`. Класс ресурсов `staticrc20` выделяет 200 МБ для каждого пользователя независимо от используемого уровня производительности. При сбое создания индекса columnstore на начальном уровне класса ресурсов повысьте класс ресурсов.

    ```sql
    EXEC sp_addrolemember '<resource_class_name>', 'fivetran';
    ```

    Дополнительные сведения об [ограничениях параллелизма и памяти](memory-concurrency-limits.md) и [классах ресурсов](sql-data-warehouse-memory-optimizations-for-columnstore-compression.md#ways-to-allocate-more-memory).


## <a name="connect-from-fivetran"></a>Подключение из Фиветран

Чтобы подключиться к хранилищу данных из учетной записи Фиветран, введите учетные данные, используемые для доступа к хранилищу данных. 

* узел (имя вашего сервера);
* порт;
* база данных;
* Пользователь (имя пользователя должно быть **\@фиветран server_name** где *server_name* является частью URI узла Azure: ** _имя сервера\__. Database.Windows.NET**).
* Пароль.
