---
title: Мигрируйте в пул S'L в Gen2
description: Инструкции по переносу существующего пула S'L в Gen2 и график миграции по регионам.
services: synapse-analytics
author: mlee3gsd
ms.author: anjangsh
ms.reviewer: jrasnick
manager: craigg
ms.assetid: 04b05dea-c066-44a0-9751-0774eb84c689
ms.service: synapse-analytics
ms.topic: article
ms.date: 01/21/2020
ms.custom: seo-lt-2019, azure-synapse
ms.openlocfilehash: 6f2af826473bfd13f8100796a540d41cbedbb037
ms.sourcegitcommit: d597800237783fc384875123ba47aab5671ceb88
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/03/2020
ms.locfileid: "80631564"
---
# <a name="upgrade-your-sql-pool-to-gen2"></a>Обновление пула S'L до Gen2

Корпорация Майкрософт помогает снизить начальные затраты на запуск пула S'L.  Более низкие вычислительные уровни, способные обрабатывать требовательные запросы, теперь доступны для пула S'L. Читайте полное объявление [Нижняя вычислительная поддержка уровня для Gen2](https://azure.microsoft.com/blog/azure-sql-data-warehouse-gen2-now-supports-lower-compute-tiers/). Новое предложение доступно в регионах, отмеченных в таблице ниже. Для поддерживаемых регионов существующие пулы Gen1 S'L могут быть модернизированы до Gen2 с помощью:

- **Процесс автоматического обновления:** Автоматическое обновление не начинается, как только услуга доступна в регионе.  Когда автоматические обновления начинаются в определенном регионе, отдельные обновления хранилища данных будут происходить во время выбранного графика обслуживания.
- [**Самообновление до Gen2:**](#self-upgrade-to-gen2) Вы можете контролировать, когда обновить, делая самообновление до Gen2. Если ваш регион еще не поддерживается, можно восстановить из точки восстановления непосредственно в экземпляр Gen2 в поддерживаемом регионе.

## <a name="automated-schedule-and-region-availability-table"></a>Таблица доступности по регионам и автоматического расписания

В следующей таблице приведены данные по регионам о том, когда будет доступен низкий уровень вычислений 2-го поколения и когда начнется автоматическое обновление. Даты могут меняться. Следите за обновлениями, чтобы узнать, когда ваш регион станет доступен.

\* указывает, что определенное расписание для региона в настоящее время недоступно.

| **Регион** | **Низкий уровень 2-ого поколения доступен** | **Начало автоматических обновлений** |
|:--- |:--- |:--- |
| Восточная Канада |1 июня 2020 г. |1 июля 2020 г. |
| Восточный Китай |\* |\* |
| Северный Китай |\* |\* |
| Центральная Германия |\* |\* |
| Германия Западно-Центральная |Доступно |1 мая 2020 г. |
| Западная Индия |Доступно |1 мая 2020 г.  |

## <a name="automatic-upgrade-process"></a>Процесс автоматического обновления

Основываясь на приведенной выше диаграмме доступности, мы будем планировать автоматизированные обновления для экземпляров Gen1. Во избежание непредвиденных перерывов в доступности пула S'L в расписании обслуживания будут запланированы автоматизированные обновления. Возможность создания нового экземпляра Gen1 будет отключена в регионах, проходящих автоматическое обновление до Gen2. Gen1 будет обесточен после завершения автоматического обновления. Дополнительные сведения о расписаниях см. в статье [Просмотр расписания обслуживания](maintenance-scheduling.md#view-a-maintenance-schedule).

Процесс обновления будет включать краткое падение подключения (примерно 5 минут), как мы перезавержаем ваш пул S'L.  После того, как ваш пул s'L был перезапущен, он будет полностью доступен для использования. Тем не менее, вы можете столкнуться с ухудшением производительности, в то время как процесс обновления продолжает обновлять файлы данных в фоновом режиме. Общее время замедления зависит от размера файлов данных.

Вы можете ускорить процесс обновления файлов данных, выполнив команду [Alter Index rebuild](sql-data-warehouse-tables-index.md) во всех основных таблицах columnstore. После перезапуска этих таблиц будет использоваться более высокий целевой уровень обслуживания и класс ресурсов.

> [!NOTE]
> Операция "Alter Index rebuild" — это автономная операция. Таблицы будут недоступны до завершения повторной сборки.

## <a name="self-upgrade-to-gen2"></a>Самостоятельное обновление до 2-го поколения

Вы можете выбрать самообновление, выполнив следующие действия в существующем пуле Gen1 S'L. Если вы решите самостоятельно обновиться, вы должны завершить его до начала автоматического процесса обновления в вашем регионе. Это гарантирует, что вы избежите любого риска автоматического обновления, вызывающего конфликт.

Есть два варианта выполнения самостоятельного обновления.  Вы можете либо обновить текущий пул S'L на месте, либо восстановить пул Gen1 S'L в экземпляр Gen2.

- [Обновление на месте](upgrade-to-latest-generation.md) - Эта опция позволит обновить существующий пул Gen1 S'L до Gen2. Процесс обновления будет включать краткое падение подключения (примерно 5 минут), как мы перезавержаем ваш пул S'L.  После того, как ваш пул s'L был перезапущен, он будет полностью доступен для использования. Если у вас возникли проблемы во время обновления, откройте [запрос на поддержку](sql-data-warehouse-get-started-create-support-ticket.md) и ссылку "Gen2 обновление" в качестве возможной причины.
- [Обновление с точки восстановления](sql-data-warehouse-restore-points.md) - Создайте определяемую пользователем точку восстановления в текущем пуле Gen1 S'L, а затем восстановите непосредственно в экземпляр Gen2. Существующий бассейн Gen1 S'L останется на месте. После завершения восстановления ваш пул Gen2 S'L будет полностью доступен для использования.  После выполнения всех процессов тестирования и проверки восстановленного экземпляра 2-го поколения первоначальный экземпляр 1-го поколения будет удален.

  - Шаг 1: С портала Azure [создайте определяемую пользователем точку восстановления.](sql-data-warehouse-restore-active-paused-dw.md)
  - Шаг 2: При восстановлении из определяемой пользователем точки восстановления установите "уровень производительности" на предпочитаемый уровень Gen2.

Во время выполнения процесса обновления файлов данных в фоновом режиме вы можете столкнуться с временным снижением производительности. Общее время замедления зависит от размера файлов данных.

Для ускорения фонового процесса перемещения данных вы можете сразу инициировать перемещение данных, выполнив инструкцию [Alter Index rebuild](sql-data-warehouse-tables-index.md) для всех основных таблиц columnstore, которые вы сможете запрашивать при наличии более высокого целевого уровня обслуживания и оптимального класса ресурсов.

> [!NOTE]
> Операция "Alter Index rebuild" — это автономная операция. Таблицы будут недоступны до завершения повторной сборки.

Если возникли какие-либо проблемы с пулом S'L, создайте [запрос на поддержку](sql-data-warehouse-get-started-create-support-ticket.md) и ссылку "Обновление Gen2" в качестве возможной причины.

Дополнительные сведения см. в статье [Оптимизация производительности путем обновления хранилища данных SQL](upgrade-to-latest-generation.md).

## <a name="migration-frequently-asked-questions"></a>Часто задаваемые вопросы о переносе

**В: Стоимость Gen2 такая же, как и Gen1?**

- Ответ. Да.

**В: Как обновления повлияют на мои скрипты автоматизации?**

- О: Любой скрипт автоматизации, отозначающие объектив уровня обслуживания, должен быть изменен в соответствии с эквивалентом Gen2.  Дополнительные сведения см. [здесь](upgrade-to-latest-generation.md#upgrade-in-a-supported-region-using-the-azure-portal).

**В: Сколько времени обычно занимает самообновление?**

- О: Вы можете обновить на месте или обновить с точки восстановления.

  - Обновление на месте приведет к тому, что ваш пул S'L на мгновение приостанавливается и возобновляется.  Фоновый процесс будет продолжен, пока пул S'L находится в сети.  
  - Обновление через точку восстановления занимает больше времени, так как обновление будет проходить через полный процесс восстановления.

**В: Сколько времени займет автоматическое обновление?**

- О: Фактическое время простоя обновления — это только время, необходимое для приостановки и возобновления службы, которая составляет от 5 до 10 минут. После краткого простоя фоновый процесс выполнит перенос хранилища. Продолжительность фонового процесса зависит от размера пула S'L.

**В: Когда произойдет это автоматическое обновление?**

- О: Во время вашего графика обслуживания. Использование выбранного расписания обслуживания минимизирует время простоя вашего бизнеса.

**В: Что делать, если мой процесс обновления фона, кажется, застрял?**

- О: Снимите переиндекс таблиц ы columnstore. Обратите внимание, что во время повторного индексирования таблица будет находиться в автономном режиме.

**В: Что делать, если у Gen2 нет цели уровня обслуживания, которая у меня есть на Gen1?**

- О: Если вы работаете DW600 или DW1200 на Gen1, рекомендуется использовать DW500c или DW1000c соответственно, так как Gen2 обеспечивает больше памяти, ресурсов и более высокую производительность, чем Gen1.

**В: Могу ли я отключить гео-резервное копирование?**

- Ответ. Нет. Гео-резервное копирование — это функция предприятия, которая сохраняет доступность пула S'L в случае, если регион становится недоступным. Если у вас возникнут дополнительные вопросы, откройте [запрос в службу поддержки](sql-data-warehouse-get-started-create-support-ticket.md).

**В: Есть ли разница в синтаксисе между Gen1 и Gen2?**

- О: Синтаксис языка Т-СЗЛ от Gen1 до Gen2 не изменился.

**В: Поддерживает ли Gen2 windows обслуживания?**

- Ответ. Да.

**В: Смогу ли я создать новый экземпляр Gen1 после обновления моего региона?**

- Ответ. Нет. После обновления региона создание новых экземпляров 1-го поколения будет отключено.

## <a name="next-steps"></a>Дальнейшие действия

- [Действия по обновлению](upgrade-to-latest-generation.md)
- [Период обслуживания](maintenance-scheduling.md)
- [Мониторинг работоспособности ресурсов](../../service-health/resource-health-overview.md?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json)
- [что нужно знать перед началом миграции](upgrade-to-latest-generation.md#before-you-begin)
- [Обновление на месте или обновление из точки восстановления](upgrade-to-latest-generation.md)
- [Создание определенной пользователем точки восстановления](sql-data-warehouse-restore-points.md)
- [Сведения о восстановлении до поколения 2](sql-data-warehouse-restore-active-paused-dw.md)
- [Открытие запроса в службу поддержки касательно Хранилища данных SQL Azure](https://go.microsoft.com/fwlink/?linkid=857950)
