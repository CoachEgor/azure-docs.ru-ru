---
title: Использование представлений T-S'L
description: Советы по использованию представлений T-S'L и разработке решений в пуле Synapse S'L.
services: synapse-analytics
author: XiaoyuMSFT
manager: craigg
ms.service: synapse-analytics
ms.topic: conceptual
ms.subservice: ''
ms.date: 04/17/2018
ms.author: xiaoyul
ms.reviewer: igorstan
ms.custom: seo-lt-2019
ms.openlocfilehash: 76442368fe4b3e498f622a8a3cd5b5b973f16bd6
ms.sourcegitcommit: d597800237783fc384875123ba47aab5671ceb88
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/03/2020
ms.locfileid: "80633393"
---
# <a name="views-in-synapse-sql-pool"></a>Виды в бассейне Synapse S'L

Представления можно использовать разными способами для повышения качества вашего решения.

Бассейн S'L поддерживает как стандартные, так и материализованные представления. Обе таблицы представляются с помощью выражений SELECT и представлены запросам в качестве логических таблиц.

Представления инкапсулируют сложность общих вычислений данных и добавляют слой абстракции в вычисления, поэтому нет необходимости переписывать запросы.

## <a name="standard-view"></a>Стандартное представление

Стандартное представление вычисляет свои данные каждый раз при использовании представления. На диске нет данных, хранящихся. Обычно пользователи используют стандартные представления в качестве инструмента, помогая организовать логические объекты и запросы в базе данных.

Для использования стандартного представления запрос должен прямо ссылаться на него. Дополнительные сведения см. в [документации по CREATE VIEW](/sql/t-sql/statements/create-view-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest).

Представления в пуле S'L хранятся только в метаданных. Следовательно, следующие варианты недоступны:

* Нет возможности привязать схему.
* Базовые таблицы не могут обновляться через представление
* Представления не могут быть созданы через временные таблицы
* Не поддерживаются указания для EXPAND и NOEXPAND.
* Индексированных представлений в пуле S'L нет

Стандартные представления могут быть использованы для обеспечения оптимизации производительности соединений между таблицами. Например, в представление можно включить ключ избыточного распространения, заданный в критерии соединения, чтобы минимизировать перемещение данных.

Еще одно преимущество представления — принудительное выполнение определенного запроса или указания по соединению. Благодаря представлениям соединения всегда выполняются правильно, поэтому пользователю не нужно запоминать правильную конструкцию соединений.

## <a name="materialized-view"></a>Материализованное представление

Материализованное представление предварительно вычисляет, хранит и поддерживает свои данные в пуле S'L точно так же, как таблица. При использовании материализованного представления перерасчет не требуется.

По мере загрузки данных в базовые таблицы пул s-L синхронно обновляет материализованные представления.  Оптимизатор запроса автоматически использует развернутые материализованные представления для повышения производительности запроса, даже если представления не упоминаются в запросе.  

Запросы, пользующиеся большей частью материализованных представлений, представляют собой сложные запросы (обычно запросы с соединениями и агрегациями) на больших таблицах, которые производят небольшой набор результатов.  

Для получения подробной информации о материализованном синтаксисе представления и других требованиях, обратитесь к [CREATE MATERIALIZED VIEW AS SELECT](/sql/t-sql/statements/create-materialized-view-as-select-transact-sql?toc=/azure/synapse-analytics/sql-data-warehouse/toc.json&bc=/azure/synapse-analytics/sql-data-warehouse/breadcrumb/toc.json&view=azure-sqldw-latest).  

Для руководства по настройке запроса проверьте [настройку производительности с материализованными представлениями.](performance-tuning-materialized-views.md)

## <a name="example"></a>Пример

Общим шаблоном приложения является повторное создание таблиц с использованием CREATE TABLE AS SELECT (CTAS), за которым следует шаблон переименования объекта при загрузке данных.  

Приведенный ниже пример добавляет новые записи даты в измерение даты. Обратите внимание, что сначала создается новая таблица DimDate_New, которая затем переименовывается для замены исходной версии таблицы.

```sql
CREATE TABLE dbo.DimDate_New
WITH (DISTRIBUTION = ROUND_ROBIN
, CLUSTERED INDEX (DateKey ASC)
)
AS
SELECT *
FROM   dbo.DimDate  AS prod
UNION ALL
SELECT *
FROM   dbo.DimDate_stg AS stg;

RENAME OBJECT DimDate TO DimDate_Old;
RENAME OBJECT DimDate_New TO DimDate;

```

Однако такой подход может привести к тому, что таблицы будут отображаться и исчезают из представления пользователя вместе с выдачей сообщений об ошибках "таблица не существует".

Представления могут использоваться для обеспечения пользователей согласованным уровнем представления, в то время как основные объекты переименовываются. Предоставляя доступ к данным через представления, пользователям не нужна видимость базовых таблиц.

Этот уровень предоставляет всю необходимую пользователю информацию, одновременно позволяя разработчикам менять модели данных в хранилище. Благодаря возможности усовершенствования базовых таблиц разработчики могут использовать CTAS, чтобы повысить производительность при загрузке данных.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные советы [SQL pool development overview](sql-data-warehouse-overview-develop.md)по разработке, см.
