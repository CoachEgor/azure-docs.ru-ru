---
title: Ограничения емкости - Аналитика Azure Synapse (ранее S'L DW)
description: Максимальные значения, разрешенные для различных компонентов бассейна Synapse S'L в Azure Synapse.
services: synapse-analytics
author: mlee3gsd
manager: craigg
ms.service: synapse-analytics
ms.topic: conceptual
ms.subservice: ''
ms.date: 2/19/2020
ms.author: martinle
ms.reviewer: igorstan
ms.custom: azure-synapse
ms.openlocfilehash: f35a5da15ca1a672046844282626a6cb7b8ecbdf
ms.sourcegitcommit: 3c318f6c2a46e0d062a725d88cc8eb2d3fa2f96a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/02/2020
ms.locfileid: "80583530"
---
# <a name="azure-synapse-analytics-formerly-sql-dw-capacity-limits"></a>Ограничения емкости Azure Synapse Analytics (ранее S'L DW)

Максимальные значения допустимы для различных компонентов Azure Synapse.

## <a name="workload-management"></a>Управление рабочей нагрузкой

| Категория | Описание | Максимальная |
|:--- |:--- |:--- |
| [Единицы использования хранилища данных (DWU)](what-is-a-data-warehouse-unit-dwu-cdwu.md) |Max DWU для единого пула S 'L (склад данных) | Поколение 1: DW6000<br></br>Поколение 2: DW30000c |
| [Единицы использования хранилища данных (DWU)](what-is-a-data-warehouse-unit-dwu-cdwu.md) |Стандартное количество единиц передачи данных (DTU) для одного сервера |54 000<br></br>По умолчанию каждый сервер S'L (например, myserver.database.windows.net) имеет квоту DTU в размере 54 000, что позволяет до DW5000c. Эта квота является просто ограничением для безопасности. Вы можете увеличить свою квоту, [создав билет поддержки](sql-data-warehouse-get-started-create-support-ticket.md) и выбрав *квоту* в качестве типа запроса.  Чтобы рассчитать потребности DTU, умножьте 7.5 на общую сумму необходимого DWU или умножьте 9,5 на общую необходимую cDWU. Пример:<br></br>6000 DWU x 7,5 = 45 000 DTU<br></br>DW5000c х 9,5 х 47500 DTUS.<br></br>Текущее потребление DTU можно просмотреть в настройке SQL Server на портале. В рамках квоты DTU учитываются как приостановленные, так и активные базы данных. |
| Подключение к базе данных |Максимальные параллельные открытые сеансы |1024<br/><br/>Количество одновременных открытых сеансов будет варьироваться в зависимости от выбранного DWU. DWU600c и выше поддерживают максимум 1024 открытых сеансов. DWU500c и ниже, поддерживать максимальный одновременно открытый предел сессии 512. Обратите внимание: есть ограничения на количество запросов, которые могут выполняться одновременно. При превышении ограничения на число параллельных запросов запрос помещается во внутреннюю очередь для ожидания обработки. |
| Подключение к базе данных |Максимальный объем памяти для подготовленных инструкций |20 МБ |
| [Управление рабочей нагрузкой](resource-classes-for-workload-management.md) |Максимальное число одновременных запросов |128<br/><br/>  Выполнить не более 128 одновременных запросов, а остальные запросы будут стоять в очереди.<br/><br/>Количество одновременных запросов может уменьшаться при присвоении пользователям более высоких классов ресурсов или при понижении настройки [блока хранилища данных.](memory-concurrency-limits.md) Выполнение некоторых запросов, например запросов динамического административного представления, всегда разрешено и не влияет на лимит параллельных запросов. Дополнительные сведения о выполнении параллельных запросов см. в статье [Максимальные ограничения параллелизма](memory-concurrency-limits.md). |
| [tempdb](sql-data-warehouse-tables-temporary.md) |Максимальный объем в ГБ |399 ГБ на DW100c. Поэтому при DWU1000c, tempdb размером до 3,99 ТБ. |
||||

## <a name="database-objects"></a>Объекты базы данных

| Категория | Описание | Максимальная |
|:--- |:--- |:--- |
| База данных |Максимальный размер | Поколение 1: 240 ТБ сжатых данных на диске Не зависит от пространства временной базы данных или журнала и предназначается исключительно для постоянных таблиц.  Коэффициент сжатия кластеризованного индекса columnstore примерно равен 5.  Сжатие позволяет базе данных увеличиваться в размере приблизительно до 1 ПБ, если все таблицы используют кластеризованный индекс columnstore (этот тип таблицы используется по умолчанию). <br/><br/> Gen2: Неограниченное хранение для столбцов.  Rowstore часть базы данных по-прежнему ограничивается 240 ТБ, сжатых на диске. |
| Таблица |Максимальный размер |Неограниченный размер для столиков столбцов. <br>60 ТБ для столиков для гребных магазинов, сжатых на диске. |
| Таблица |Таблиц на одну базу данных | 100 000 |
| Таблица |Столбцов на таблицу |1024 столбца |
| Таблица |Количество байт в столбце |Зависит от [типа данных](sql-data-warehouse-tables-data-types.md) столбца. Для типов данных символов MAX Limit может хранить до 2 ГБ в нерабочее хранилище (переливание строки).  Не-Unicode символов, таких как символ или varchar предел 8000 в странице данных, Unicode символов, таких как nchar или nvarchar предел 4000 в странице данных.  Используйте размеры хранилища страниц данных для повышения производительности. |
| Таблица |Количество байт в строке (определенный размер) |8060 байт<br/><br/>Количество байт в строке вычисляется так же, как и для SQL Server с включенным сжатием страниц. Как и сервер S'L, поддерживается хранилище переполняний строк, что позволяет отогнать **столбцы переменной длины** за строку. Когда столбцы переменной длины выходят за пределы строк, в главной записи сохраняется только 24-байтовый корень. Дополнительные сведения см. в статье [Превышающие размер страницы данные строки, превышающие 8 КБ](https://msdn.microsoft.com/library/ms186981.aspx). |
| Таблица |Количество разделов в таблице |15 000<br/><br/>Для повышения производительности рекомендуем сократить количество секций до минимума, который позволит соблюдать ваши требования к бизнесу. С увеличением количества секций не только растут затраты на операции языка описания данных DDL и языка обработки данных DML, но и снижается производительность. |
| Таблица |Количество символов в разделе (граничное значение) |4000 |
| Индекс |Количество некластеризованных индексов в таблице |50<br/><br/>Применимо только к таблицам rowstore. |
| Индекс |Количество кластеризованных индексов в таблице |1<br><br/>Применимо к таблицам rowstore и columnstore. |
| Индекс |Размер ключа индекса |900 байтов.<br/><br/>Применимо только к индексам rowstore.<br/><br/>В столбцах varchar могут создаваться индексы с максимальным размером более 900 байтов, если при создании такого индекса размер существующих данных в этих столбцах не превышает 900 байтов. Учтите, что при последующем выполнении в столбцах инструкций INSERT или UPDATE, которые приведут к превышению общего размера данных в 900 байт, соответствующие действия завершатся ошибкой. |
| Индекс |Количество ключевых столбцов в индексе |16<br/><br/>Применимо только к индексам rowstore. Кластеризованные индексы columnstore включают все столбцы. |
| Статистика |Размер значений объединенных столбцов |900 байтов. |
| Статистика |Количество столбцов в объекте статистики |32 |
| Статистика |Количество объектов статистики для столбцов в таблице |30 000 |
| Хранимые процедуры |Максимальное количество вложений |8 |
| Просмотр |Столбцов на представление |1024 |
||||

## <a name="loads"></a>Нагрузка

| Категория | Описание | Максимальная |
|:--- |:--- |:--- |
| Нагрузка Polybase |МБ в строке |1<br/><br/>Polybase загружает строки, которые меньше 1 МБ. Загрузка типов lob данных в таблицы с кластерным индексом columnstore (CCI) не поддерживается.<br/><br/> |
||||

## <a name="queries"></a>Запросы

| Категория | Описание | Максимальная |
|:--- |:--- |:--- |
| Запрос |Количество помещенных в очередь запросов к пользовательским таблицам |1000 |
| Запрос |Количество одновременных запросов к системным представлениям |100 |
| Запрос |Количество помещенных в очередь запросов к системным представлениям |1000 |
| Запрос |Максимальное количество параметров |2098 |
| Пакетная служба Azure |Максимальный размер |65 536*4096 |
| Результаты SELECT |Количество столбцов в строке |4096<br/><br/>В каждой строке результата SELECT может содержаться не более 4096 столбцов. Нет никакой гарантии, что их количество всегда будет равно 4096. Если планом запроса предусмотрено использование временной таблицы, в такой таблице может быть не более 1024 столбцов. |
| SELECT |Вложенных запросов |32<br/><br/>Инструкция SELECT может содержать не более 32 вложенных запросов. Нет никакой гарантии, что их количество всегда будет равно 32. Например, с помощью инструкции JOIN можно включить в план запроса вложенный запрос. Количество вложенных запросов также может ограничиваться объемом доступной памяти. |
| SELECT |Количество столбцов в инструкции JOIN |1024 столбца<br/><br/>Инструкция JOIN может содержать не более 1024 столбцов. Нет никакой гарантии, что их количество всегда будет равно 1024. Если планом для инструкции JOIN предусмотрено использование временной таблицы с количеством столбцов, которое превышает результат JOIN, к такой временной таблице применяется ограничение в 1024 столбца. |
| SELECT |Количество байт в именах столбцов GROUP BY |8060<br/><br/>Размер имен столбцов в предложении GROUP BY не может превышать 8060 байтов. |
| SELECT |Количество байт в именах столбцов ORDER BY |8060 байт<br/><br/>Размер имен столбцов в предложении ORDER BY не может превышать 8060 байтов. |
| Идентификаторы в одной инструкции |Количество идентификаторов, на которые имеются ссылки. |65 535<br/><br/> Количество идентификаторов, которые могут содержаться в одном выражении запроса, ограничено. Превышение этого количества приводит к ошибке SQL Server (ошибка 8632). Дополнительные сведения см. в статье о [внутренней ошибке, связанной с достижением предела служб выражений](https://support.microsoft.com/help/913050/error-message-when-you-run-a-query-in-sql-server-2005-internal-error-a). |
| Строковые литералы | Количество строковых литералов в инструкции | 20 000 <br/><br/>Количество констант строки в одном выражении запроса ограничено. Превышение этого количества приводит к ошибке SQL Server (ошибка 8632).|
||||

## <a name="metadata"></a>Метаданные

| Системное представление | Максимальное число строк |
|:--- |:--- |
| sys.dm_pdw_component_health_alerts |10 000 |
| sys.dm_pdw_dms_cores |100 |
| sys.dm_pdw_dms_workers |Общее количество рабочих ролей DMS для последней 1000 запросов SQL. |
| sys.dm_pdw_errors |10 000 |
| sys.dm_pdw_exec_requests |10 000 |
| sys.dm_pdw_exec_sessions |10 000 |
| sys.dm_pdw_request_steps |Общее количество действий для последней 1000 запросов SQL, хранящихся в sys.dm_pdw_exec_requests. |
| sys.dm_pdw_os_event_logs |10 000 |
| sys.dm_pdw_sql_requests |Последняя 1000 запросов SQL, которые хранятся в sys.dm_pdw_exec_requests. |
|||

## <a name="next-steps"></a>Следующие шаги

Рекомендации по использованию Azure Synapse можно узнать в [Cheat Sheet](cheat-sheet.md).
