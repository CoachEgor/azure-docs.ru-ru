---
title: Модель общих метаданных Azure Synapse Analytics
description: Azure Synapse Analytics позволяет различным вычислительным системам рабочей области использовать базы данных и таблицы совместно с пулами Spark (предварительной версии), ядром SQL по запросу (предварительной версии) и пулами SQL.
services: synapse-analytics
author: MikeRys
ms.service: synapse-analytics
ms.topic: overview
ms.subservice: ''
ms.date: 04/15/2020
ms.author: mrys
ms.reviewer: jrasnick
ms.openlocfilehash: 3b26d516080961a482a3ba67f314e98ece4c9f24
ms.sourcegitcommit: b80aafd2c71d7366838811e92bd234ddbab507b6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2020
ms.locfileid: "81420178"
---
# <a name="azure-synapse-analytics-shared-metadata"></a>Общие метаданные Azure Synapse Analytics

Azure Synapse Analytics позволяет различным вычислительным системам рабочей области использовать базы данных и таблицы совместно с пулами Spark (предварительной версии), ядром SQL по запросу (предварительной версии) и пулами SQL.

[!INCLUDE [preview](../includes/note-preview.md)]



При совместном доступе поддерживается так называемый шаблон современного хранилища данных и ядрам SQL рабочей области предоставляется доступ к базам данных и таблицам, созданным с помощью Spark. Совместный доступ также позволяет ядрам SQL создавать собственные объекты, которые не используются совместно с другими системами.

## <a name="support-the-modern-data-warehouse"></a>Поддержка современного хранилища данных

Модель общих метаданных поддерживает шаблон современного хранилища данных следующим образом:

1. Данные из озера данных эффективно подготавливаются и структурируются с помощью Spark. Для этого подготовленные данные сохраняются в (возможно, секционированных) таблицах с поддержкой Parquet, содержащихся в нескольких базах данных.

2. Созданные с помощью Spark базы данных и все их таблицы становятся видимыми в любом экземпляре пула Spark рабочей области Azure Synapse и могут использоваться из любого задания Spark. Эта возможность зависит от [разрешений](#security-model-at-a-glance), так как все пулы Spark в рабочей области используют одно и то же базовое хранилище метаданных каталогов.

3. Созданные с помощью Spark базы данных и их таблицы с поддержкой Parquet становятся видимыми в ядре SQL по запросу рабочей области. [Базы данных](database.md) создаются автоматически в метаданных SQL по запросу, а [внешние и управляемые таблицы](table.md), созданные заданием Spark, становятся доступными в качестве внешних таблиц в метаданных SQL по запросу в схеме `dbo` соответствующей базы данных. <!--For more details, see [ADD LINK].-->

4. Если в рабочей области есть экземпляры пула SQL, для которых включена синхронизация метаданных, <!--[ADD LINK]--> или если создается еще один экземпляр пула SQL со включенной синхронизацией метаданных, созданные с помощью Spark базы данных и их таблицы с поддержкой Parquet будут автоматически сопоставлены в базе данных пулов SQL, как описано в статье [Общая база данных Azure Synapse Analytics](database.md).

<!--[INSERT PICTURE]-->

<!--__Figure 1 -__ Supporting the Modern Data Warehouse Pattern with shared metadata-->

Синхронизация объектов выполняется асинхронно. Будет короткая задержка в несколько секунд, пока объекты не появятся в контексте SQL. После появления ядра SQL с доступом к этим объектам могут запрашивать их, но не могут обновлять и изменять.

## <a name="which-metadata-objects-are-shared"></a>Объекты метаданных, к которым может быть совместный доступ

Spark позволяет создавать базы данных, внешние таблицы, управляемые таблицы и представления. Так как для представлений Spark требуется, чтобы система Spark обрабатывала определяющую инструкцию Spark SQL, и эти представления не могут обрабатываться ядром SQL, ядра SQL рабочей области могут совместно использовать только базы данных и содержащиеся в них внешние и управляемые таблицы, использующие формат хранения Parquet. Представления Spark могут использовать совместно только экземпляры пула Spark.

## <a name="security-model-at-a-glance"></a>Краткий обзор модели безопасности

Защита баз данных и таблиц Spark вместе с синхронизированными представлениями в ядрах SQL обеспечивается на базовом уровне хранилища. Когда таблицу запрашивает любое из ядер, которые отправитель запроса имеет право использовать, субъект безопасности отправителя запроса получает доступ к базовым файлам. Разрешения проверяются на уровне файловой системы.

Дополнительные сведения см. в статье [Общая база данных Azure Synapse Analytics](database.md).

## <a name="change-maintenance"></a>Изменение обслуживания

Если объект метаданных удален или изменен с помощью Spark, изменения применяются к ядру SQL по запросу и пулам SQL, в которых эти объекты синхронизированы. Синхронизация выполняется асинхронно, и изменения применяются к ядрам SQL после небольшой задержки.

## <a name="next-steps"></a>Дальнейшие действия

- Ознакомьтесь со статьей [Общие базы метаданных Azure Synapse Analytics](database.md).
- Ознакомьтесь со статьей [Общие таблицы метаданных Azure Synapse Analytics](table.md)

