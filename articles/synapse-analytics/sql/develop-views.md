---
title: Представления T-SQL с использованием синапсе SQL
description: Советы по использованию представлений T-SQL и разработке решений с помощью синапсе SQL.
services: synapse-analytics
author: azaricstefan
ms.service: synapse-analytics
ms.topic: conceptual
ms.subservice: sql
ms.date: 04/15/2020
ms.author: v-stazar
ms.reviewer: jrasnick
ms.openlocfilehash: fafa0c2e1b02cc49bfb852ed7770b0927b0e9334
ms.sourcegitcommit: 3fc3457b5a6d5773323237f6a06ccfb6955bfb2d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2020
ms.locfileid: "90032730"
---
# <a name="t-sql-views-using-synapse-sql"></a>Представления T-SQL с использованием синапсе SQL
В этой статье вы найдете советы по использованию представлений T-SQL и разработке решений с помощью синапсе SQL. 

## <a name="why-use-views"></a>Зачем использовать представления

Представления можно использовать разными способами для повышения качества вашего решения.  В этой статье приводится несколько примеров того, как расширить решение с помощью представлений и включает ограничения, которые необходимо учитывать.

### <a name="sql-pool---create-view"></a>Пул SQL — создание представления

> [!NOTE]
> **Пул SQL**: синтаксис для создания представления не рассматривается в этой статье. Дополнительные сведения см. в [документации по CREATE VIEW](/sql/t-sql/statements/create-view-transact-sql?toc=/azure/synapse-analytics/toc.json&bc=/azure/synapse-analytics/breadcrumb/toc.json&view=azure-sqldw-latest).

### <a name="sql-on-demand-preview---create-view"></a>SQL по запросу (Предварительная версия) — создание представления

> [!NOTE]
> **SQL по запросу**: синтаксис для создания представления не рассматривается в этой статье. Дополнительные сведения см. в [документации по CREATE VIEW](/sql/t-sql/statements/create-view-transact-sql?toc=/azure/synapse-analytics/toc.json&bc=/azure/synapse-analytics/breadcrumb/toc.json&view=azure-sqldw-latest).

## <a name="architectural-abstraction"></a>Архитектурная абстракция

Распространенным шаблоном приложения является повторное создание таблиц с помощью [CREATE TABLE как SELECT](/sql/t-sql/statements/create-table-as-select-azure-sql-data-warehouse?toc=/azure/synapse-analytics/toc.json&bc=/azure/synapse-analytics/breadcrumb/toc.json&view=azure-sqldw-latest) (CTAS), за которым следует шаблон переименования объектов при загрузке данных.

Приведенный ниже пример добавляет новые записи даты в измерение даты. Обратите внимание, что сначала создается новая таблица DimDate_New, которая затем переименовывается для замены исходной версии таблицы.

```sql
CREATE TABLE dbo.DimDate_New
WITH (DISTRIBUTION = ROUND_ROBIN
, CLUSTERED INDEX (DateKey ASC)
)
AS
SELECT *
FROM   dbo.DimDate  AS prod
UNION ALL
SELECT *
FROM   dbo.DimDate_stg AS stg
;

RENAME OBJECT DimDate TO DimDate_Old;
RENAME OBJECT DimDate_New TO DimDate;

```

Помните, что этот подход может привести к тому, что таблицы появятся и отменялись из представления пользователя и запрашивают сообщение об ошибке "таблица не существует". Представления можно использовать для предоставления пользователям единообразного уровня представления во время переименования базовых объектов.

Предоставляя доступ к данным через представления, пользователям не требуется видимость базовых таблиц. Помимо единообразия взаимодействия с пользователем, этот уровень гарантирует, что дизайнеры аналитики смогут развивать модель данных. Возможность развивать базовые таблицы означает, что конструкторы могут использовать CTAS для повышения производительности в процессе загрузки данных.

## <a name="performance-optimization"></a>Оптимизация производительности

Представления также можно использовать для принудительного применения оптимизированных для производительности соединений между таблицами. Например, в представление можно включить ключ избыточного распространения, заданный в критерии соединения, чтобы минимизировать перемещение данных.

Принудительное применение определенного запроса или подсказки для соединения является еще одним преимуществом использования представлений T-SQL. Таким образом, возможности представлений гарантируют, что соединение всегда выполняется оптимальным образом. Вы не хотите, чтобы пользователи запомнили правильную конструкцию для соединений.

## <a name="limitations"></a>Ограничения

Представления в синапсе SQL хранятся только в виде метаданных. Следовательно, следующие параметры недоступны.

* Нет параметра привязки схемы
* Базовые таблицы нельзя обновить с помощью представления
* Невозможно создать представления во временных таблицах
* Нет поддержки подсказок EXPAND/NOEXPAND
* В синапсе SQL нет индексированных представлений

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные советы по разработке приведены в [обзоре разработки Synapse SQL](develop-overview.md).



