---
title: Архитектура Plug and Play IoT | Документация Майкрософт
description: Как построитель решений, вы ознакомитесь с ключевыми элементами архитектуры IoT Plug and Play.
author: ridomin
ms.author: rmpablos
ms.date: 07/06/2020
ms.topic: conceptual
ms.custom: mvc
ms.service: iot-pnp
services: iot-pnp
manager: philmea
ms.openlocfilehash: f656de0bb2e5244e137ae21a6d7af88f3430b12c
ms.sourcegitcommit: 5f7b75e32222fe20ac68a053d141a0adbd16b347
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/31/2020
ms.locfileid: "87475691"
---
# <a name="iot-plug-and-play-preview-architecture"></a>Архитектура IoT Plug and Play (предварительная версия)

Предварительная версия IoT Plug and Play позволяет сборщикам решений интегрировать интеллектуальные устройства с их решениями без ручной настройки. В основе центра Интернета вещей Plug and Play — это _модель_ устройства, которая описывает возможности устройства для приложения, поддерживающего Plug and Play IOT. Эта модель структурирована как набор интерфейсов, определяющих:

- _Свойства_ , представляющие состояние устройства или другой сущности, доступное только для чтения или для записи. Например, серийный номер устройства может быть свойством только для чтения, а Целевая температура в термостата может быть свойством, доступным для записи.
- Данные _телеметрии_ , которые подаются устройством, являются ли они обычным потоком считывания датчика, случайной ошибкой или информационным сообщением.
- _Команды_ описывают функции или операции, которые можно выполнить на устройстве. Например, можно определить команду для перезапуска шлюза или создания снимка дистанционно управляемой камерой.

У каждой модели и интерфейса есть уникальный идентификатор.

На следующей схеме показаны ключевые элементы решения IoT Plug and Play.

:::image type="content" source="media/concepts-architecture/pnp-architecture.png" alt-text="Архитектура Plug and Play IoT":::

## <a name="model-repository"></a>Репозиторий моделей

Хранилище [модели](./concepts-model-repository.md) — это хранилище для определений моделей и интерфейсов. Модели и интерфейсы определяются с помощью [языка определения цифровых двойников (дтдл)](https://github.com/Azure/opendigitaltwins-dtdl).

Веб-интерфейс позволяет управлять моделями и интерфейсами.

В репозитории моделей используется RBAC, позволяющий ограничить доступ к определениям интерфейса.

## <a name="devices"></a>Устройства

Построитель устройств реализует код для запуска на интеллектуальном устройстве IoT с помощью одного из [пакетов SDK для устройств Azure IOT](./libraries-sdks.md). Пакеты SDK для устройств помогают построителю устройств:

- Безопасное подключение к центру Интернета вещей.
- Зарегистрируйте устройство в центре Интернета вещей и объявите идентификатор модели, определяющий коллекцию интерфейсов, которые реализует устройство.
- Обновите свойства, определенные в интерфейсах ДТДЛ, которые реализует устройство. Эти свойства реализуются с помощью цифровых двойников, которые управляют синхронизацией с центром Интернета вещей.
- Добавьте обработчики команд для команд, определенных в интерфейсах ДТДЛ, которые реализует устройство.
- Отправка данных телеметрии в центр Интернета вещей.

## <a name="iot-hub"></a>Центр Интернета вещей

[Центр Интернета вещей](../iot-hub/about-iot-hub.md) — это размещенная в облаке служба, которая выступает в качестве центрального центра сообщений для двунаправленного обмена данными между решением Интернета вещей и устройствами, которыми он управляет.

Центр Интернета вещей:

- Делает идентификатор модели, реализованный устройством, доступным для серверного решения.
- Поддерживает цифровые двойника, связанные с каждым устройством Plug and Play, подключенным к концентратору.
- Пересылает потоки телеметрии другим службам для обработки или хранения.
- Направляет события изменения Digital двойника в другие службы для включения мониторинга устройств.

## <a name="backend-solution"></a>Серверное решение

Серверное решение наблюдает за подключенными устройствами и контролирует их, взаимодействуя с цифровыми двойников в центре Интернета вещей. Используйте один из пакетов SDK служб для реализации серверного решения. Чтобы понять возможности подключенного устройства, серверная часть решения:

1. Извлекает идентификатор модели, зарегистрированной для устройства в центре Интернета вещей.
1. Использует идентификатор модели для получения определений интерфейса из любого репозитория модели.
1. Использует средство синтаксического анализа модели для извлечения сведений из определений интерфейса.

Серверное решение может использовать сведения из определений интерфейса для:

- Чтение значений свойств, сообщаемых устройствами.
- Обновление свойств, доступных для записи, на устройстве.
- Вызывайте команды, реализованные устройством.
- Изучите формат данных телеметрии, отправляемых устройством.

## <a name="next-steps"></a>Дальнейшие действия

Теперь, когда у вас есть общие сведения об архитектуре решения Plug and Play IoT, дальнейшие действия помогут получить дополнительные сведения:

- [Репозиторий модели](./concepts-model-repository.md)
- [Интеграция модели Digital двойника](./concepts-model-discovery.md)
- [Разработка для Plug and Play IoT](./concepts-developer-guide.md)
