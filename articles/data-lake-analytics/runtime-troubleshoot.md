---
title: Устранение неполадок при сбоях среды выполнения U-SQL Azure Data Lake Analytics
description: Узнайте, как устранять неполадки во время выполнения U-SQL.
services: data-lake-analytics
ms.reviewer: jasonh
ms.service: data-lake-analytics
ms.topic: troubleshooting
ms.workload: big-data
ms.date: 10/10/2019
ms.openlocfilehash: 54524b0528f94ca9386c2d0d45ba4393c965fa88
ms.sourcegitcommit: 0e8a4671aa3f5a9a54231fea48bcfb432a1e528c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/24/2020
ms.locfileid: "87128817"
---
# <a name="learn-how-to-troubleshoot-u-sql-runtime-failures-due-to-runtime-changes"></a>Сведения об устранении сбоев среды выполнения U-SQL из-за изменений среды выполнения

Среда выполнения U-SQL Azure Data Lake, включая компилятор, оптимизатор и диспетчер заданий, обрабатывает код U-SQL.

## <a name="choosing-your-u-sql-runtime-version"></a>Выбор версии среды выполнения U-SQL

При отправке заданий U-SQL из Visual Studio, пакета SDK ADL или портала Azure Data Lake Analytics в задании будет использоваться текущая доступная среда выполнения по умолчанию. Новые версии среды выполнения U-SQL выпускаются на регулярной основе и включают как небольшие обновления, так и исправления безопасности.

Можно также выбрать пользовательскую версию среды выполнения. так как вы хотите испытать новое обновление, необходимо остаться на более старой версии среды выполнения или предоставить исправление для обнаруженной проблемы, при которой невозможно подождать регулярного обновления.

> [!CAUTION]
> Выбор среды выполнения, отличной от используемой по умолчанию, может привести к нарушению заданий U-SQL. Используйте эти версии только для тестирования.

В редких случаях служба поддержки Майкрософт может закрепить другую версию среды выполнения по умолчанию для вашей учетной записи. Убедитесь, что вы отменяете этот ПИН-код как можно скорее. Если вы сохранили прикрепление к этой версии, срок ее действия истечет позже.

### <a name="monitoring-your-jobs-u-sql-runtime-version"></a>Мониторинг заданий версия среды выполнения U-SQL

Вы можете просмотреть историю, в которой в журнале заданий вашей учетной записи использовалась версия среды выполнения предыдущих заданий, используя обозреватель заданий Visual Studio или журнал заданий портал Azure.

1. На портале Azure выберите свою учетную запись Data Lake Analytics.
2. Выберите **Просмотреть все задания**. Появится список всех активных и недавно завершенных заданий в учетной записи.
3. При необходимости щелкните **Фильтр** для поиска заданий по значениям **Диапазон времени**, **Имя задания** и **Автор**.
4. Вы видите среду выполнения, используемую в завершенных заданиях.

![Отображение версии среды выполнения прошлого задания](./media/runtime-troubleshoot/prior-job-usql-runtime-version-.png)

Доступные версии среды выполнения со временем меняются. Среда выполнения по умолчанию всегда называется "по умолчанию", и в течение некоторого времени сохраняется по крайней мере Предыдущая среда выполнения, а специальные среды выполнения могут быть доступны по разным причинам. Явно именованные среды выполнения обычно выполняются в следующем формате (курсив используется для переменных частей, а [] указывает на необязательные части):

release_YYYYMMDD_adl_buildno [_modifier]

Например, release_20190318_adl_3394512_2 означает, что вторая версия сборки 3394512 выпуска среды выполнения в марте 18 2019 и release_20190318_adl_3394512_private означает частную сборку того же выпуска. Примечание. Дата связана с моментом последнего возврата для этого выпуска и необязательной официальной датой выпуска.

Ниже перечислены доступные в настоящее время версии среды выполнения.

- release_20190318_adl_3394512
- release_20190318_adl_5832669 текущего значения по умолчанию
- release_20190703_adl_4713356

## <a name="troubleshooting-u-sql-runtime-version-issues"></a>Устранение проблем с версиями среды выполнения U-SQL

Существует две возможные проблемы с версией среды выполнения, которые могут возникнуть:

1. Сценарий или некоторый пользовательский код изменяет поведение одного выпуска на следующий. Такие критические изменения обычно сообщаются заранее с публикацией заметок о выпуске. Если вы столкнулись с таким критическим изменением, обратитесь в служба поддержки Майкрософт, чтобы сообщить о нарушении этого поведения (если он еще не документирован) и отправьте задания в более старую версию среды выполнения.

2. Вы использовали среду выполнения, отличную от среды по умолчанию, явно или неявно, если она была закреплена в вашей учетной записи, и эта среда выполнения была удалена через некоторое время. Если вы столкнулись с отсутствующими средами выполнения, обновите скрипты для запуска с текущей средой выполнения по умолчанию. Если вам требуется дополнительное время, обратитесь в службу служба поддержки Майкрософт.

## <a name="see-also"></a>См. также статью

- [Обзор аналитики озера данных Azure](data-lake-analytics-overview.md)
- [Управление Azure Data Lake Analytics с помощью портал Azure](data-lake-analytics-manage-use-portal.md)
- [Мониторинг заданий в Azure Data Lake Analytics с помощью портал Azure](data-lake-analytics-monitor-and-troubleshoot-jobs-tutorial.md)
