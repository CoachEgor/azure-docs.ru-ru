---
title: Общие сведения об управлении рабочей нагрузкой Kubernetes на Azure Stack пограничном устройстве | Документация Майкрософт
description: Описывает, как можно управлять рабочими нагрузками Kubernetes на пограничном устройстве Azure Stack.
services: databox
author: alkohli
ms.service: databox
ms.subservice: edge
ms.topic: conceptual
ms.date: 08/12/2020
ms.author: alkohli
ms.openlocfilehash: 2e2a41f797c6c58597e90ef6bd6e373ab7408a7b
ms.sourcegitcommit: 3fb5e772f8f4068cc6d91d9cde253065a7f265d6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/31/2020
ms.locfileid: "89182060"
---
# <a name="kubernetes-workload-management-on-your-azure-stack-edge-device"></a>Управление рабочей нагрузкой Kubernetes на пограничном устройстве Azure Stack

На Azure Stack пограничном устройстве создается кластер Kubernetes при настройке роли вычислений. После создания кластера Kubernetes контейнерные приложения можно развернуть в кластере Kubernetes в модулях Pod. Существует несколько различных способов развертывания рабочих нагрузок в кластере Kubernetes. 

В этой статье описываются различные методы, которые можно использовать для развертывания рабочих нагрузок на Azure Stack пограничном устройстве.

## <a name="workload-types"></a>Типы рабочих нагрузок

Двумя распространенными типами рабочих нагрузок, которые можно развернуть на Azure Stack пограничном устройстве, являются приложения без отслеживания состояния или приложения с отслеживанием состояния.

- **Приложения без отслеживания состояния** не сохраняют свое состояние и не сохраняют данные в постоянном хранилище. Все данные пользователя и сеанса остаются в клиенте. Некоторые примеры приложений без отслеживания состояния включают в себя веб-интерфейсы, такие как nginx, и другие веб-приложения.

    Вы можете создать развертывание Kubernetes, чтобы развернуть в кластере приложение без отслеживания состояния. 

- Для **приложений с отслеживанием состояния** необходимо сохранить их состояние. Приложения с отслеживанием состояния используют постоянное хранилище, например постоянные тома, для сохранения данных, которые могут использоваться сервером или другими пользователями. Примеры приложений с отслеживанием состояния включают в себя такие базы данных, как MongoDB.

    Вы можете создать развертывание Kubernetes для развертывания приложения с отслеживанием состояния. 

## <a name="deployment-flow"></a>Рабочий поток развертывания

Чтобы развернуть приложения на Azure Stack пограничном устройстве, выполните следующие действия. 
 
1. **Настройка доступа**. Во-первых, вы будете использовать пространство выполнения PowerShell для создания пользователя, создания пространства имен и предоставления пользователю доступа к этому пространству имен.
2. **Настройка хранилища**: Далее вы будете использовать ресурс Azure Stack ребра в портал Azure для создания постоянных томов с помощью статической или динамической подготовки для развертываемых приложений с отслеживанием состояния.
3. **Настройка сети**. Наконец, вы будете использовать службы для внешнего доступа к приложениям извне и в кластере Kubernetes.
 
## <a name="deployment-types"></a>Типы развертывания

Существует три основных способа развертывания рабочих нагрузок. Каждая из этих методологий развертывания позволяет подключаться к отдельному пространству имен на устройстве, а затем развертывать приложения без отслеживания состояния или с отслеживанием состояния.

![Развертывание рабочей нагрузки Kubernetes](./media/azure-stack-edge-gpu-kubernetes-workload-management/kubernetes-workload-management-1.png)

- **Локальное развертывание**. это осуществляется с помощью средства доступа из командной строки `kubectl` , такого как, которое позволяет развертывать K8 `yamls` . Подключитесь к кластеру K8 на границе Azure Stack, созданной с помощью `kubeconfig` файла. Дополнительные сведения см. в подразделах [доступ к кластеру Kubernetes через kubectl](azure-stack-edge-gpu-create-kubernetes-cluster.md).

- **Развертывание IOT Edge**. это осуществляется с помощью IOT EDGE, который подключается к центру Интернета вещей Azure. Вы подключаетесь к кластеру K8 на устройстве Azure Stack погранично через `iotedge` пространство имен. Агенты IoT Edge, развернутые в этом пространстве имен, отвечают за подключение к Azure. Вы применяете `IoT Edge deployment.json` конфигурацию с помощью Azure DEVOPS CI/CD. Управление пространствами имен и IoT Edge осуществляется с помощью оператора облака.

- **Развертывание Azure/Arc**. Azure ARC — это гибридное средство управления, которое позволит развертывать приложения в кластерах K8. Вы подключаете кластер K8 на устройстве Azure Stack погранично через `azure-arc namespace` . Агенты развертываются в этом пространстве имен, которые отвечают за подключение к Azure. Конфигурация развертывания применяется с помощью управления конфигурацией на основе Гитопс. Служба "Дуга Azure" также позволяет использовать Azure Monitor для контейнеров для просмотра и мониторинга кластеров. Дополнительные сведения см. в разделе [что такое Azure-Arc Enabled Kubernetes?](https://docs.microsoft.com/azure/azure-arc/kubernetes/overview).

## <a name="choose-the-deployment-type"></a>Выбор типа развертывания

При развертывании приложений учитывайте следующие сведения.

- **Один или несколько типов**: можно выбрать один вариант развертывания или сочетание различных вариантов развертывания.
- **Локальное облако**. в зависимости от ваших приложений вы можете выбрать локальное развертывание с помощью kubectl или облачного развертывания с помощью IOT EDGE и дуги Azure. 
    - Локальное развертывание более подходит для сценариев разработки. При выборе локального развертывания вы можете ограничиться сетью, в которой развернуто устройство Azure Stackного периметра.
    - Если у вас есть облачный агент, который можно развернуть, следует развернуть оператор облака и использовать управление облаком.
- **Центр Интернета вещей и дуга Azure**. Выбор развертывания также зависит от цели вашего сценария продукта. При развертывании приложений или контейнеров, которые имеют более глубокую интеграцию с IoT или экосистемой IoT, следует выбрать IoT Edge способом развертывания приложений. Если у вас есть развертывания Kubernetes, предпочтительнее выбрать Azure ARC.


## <a name="next-steps"></a>Дальнейшие действия

Сведения о локальном развертывании приложения с помощью kubectl см. в следующих статьях:

- [Развертывание приложения без отслеживания состояния на Azure Stack пограничных устройствах с помощью kubectl](azure-stack-edge-j-series-deploy-stateless-application-kubernetes.md).

Сведения о развертывании приложения с помощью IoT Edge см. в следующих статьях:

- [Развертывание примера модуля на Azure Stack границе с помощью IOT Edge](azure-stack-edge-gpu-deploy-sample-module.md).

Сведения о развертывании приложения с помощью дуги Azure см. в следующих статьях:

- [Развертывание приложения с помощью дуги Azure](azure-stack-edge-gpu-deploy-sample-module.md).
