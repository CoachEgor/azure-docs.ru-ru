---
title: Управление вычислениями в Azure Data Box Edge | Документация Майкрософт
description: Эта статья описывает управление параметрами пограничных вычислений, такими как триггер, и модулями, просмотр конфигурации вычислений и удаление конфигурации через портал Azure в Azure Data Box Edge.
services: databox
author: alkohli
ms.service: databox
ms.subservice: edge
ms.topic: article
ms.date: 05/15/2019
ms.author: alkohli
ms.openlocfilehash: a90475cfd1d166b8fae1c2b872cbbb9d48b50392
ms.sourcegitcommit: 36c50860e75d86f0d0e2be9e3213ffa9a06f4150
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/16/2019
ms.locfileid: "65785810"
---
# <a name="manage-compute-on-your-azure-data-box-edge"></a>Управление вычислениями в Azure Data Box Edge

В этой статье описывается управление вычислениями в Azure Data Box Edge. Вы можете управлять вычислениями на портале Azure или с помощью локального пользовательского веб-интерфейса. Используйте портал Azure для управления модулями, триггерами и конфигурацией вычислений, а также локальный пользовательский веб-интерфейс для управления параметрами вычислений.

В этой статье раскрываются следующие темы:

> [!div class="checklist"]
> * управление триггерами;
> * управление конфигурацией пограничных вычислений.


## <a name="manage-triggers"></a>управление триггерами;

События — это то, что происходит в облачной среде или на вашем устройстве и может требовать выполнения действий. Например, создание файла в общей папке является событием. Триггеры вызывают события. Триггеры в вашем Data Box Edge могут срабатывать в ответ на файловые события или расписание.

- **Файл**. Эти триггеры являются ответом на файловые события, такие как создание или изменение файла.
- **Scheduled**: Эти триггеры являются ответом на расписание, где вы можете указать дату или время начала и интервал повторения.


### <a name="add-a-trigger"></a>Добавление триггера

Чтобы создать триггер, выполните следующие действия на портале Azure.

1. На портале Azure выберите ресурс Data Box Edge, а затем — **Пограничные вычисления > Триггер**. На панели команд выберите **+ Добавить триггер**.

    ![Выбор команды добавления триггера](media/data-box-edge-manage-compute/add-trigger-1.png)

2. В колонке **Добавить триггер** укажите уникальное имя для своего триггера.
    
    <!--Trigger names can only contain numbers, lowercase letters, and hyphens. The share name must be between 3 and 63 characters long and begin with a letter or a number. Each hyphen must be preceded and followed by a non-hyphen character.-->

3. Выберите **Тип** для триггера. Выберите **Файл**, если триггер отвечает на событие файла. Выберите **Запланировано**, если хотите, чтобы триггер запускался в определенное время и срабатывал с заданным интервалом повторения. В зависимости от вашего выбора представлен другой набор параметров.

    - **Триггер файлов**. Выберите подключенную общую папку из раскрывающегося списка. Когда в этой общей папке запускается файловое событие, триггер вызывает функцию Azure.

        ![Добавление общей папки SMB](media/data-box-edge-manage-compute/add-file-trigger.png)

    - **Запланированный триггер**. Укажите дату или время начала и интервал повторения в часах, минутах или секундах. Также введите имя темы. Тема обеспечит гибкость для направления триггера на модуль, развернутый на устройстве.

        Пример строки маршрута: `"route3": "FROM /* WHERE topic = 'topicname' INTO BrokeredEndpoint("modules/modulename/inputs/input1")"`.

        ![Добавление общей папки типа NFS](media/data-box-edge-manage-compute/add-scheduled-trigger.png)

4. Чтобы создать триггер, выберите **Добавить**. Уведомление показывает, что триггер создается. После создания триггера колонка обновляется, чтобы отобразить новый триггер.
 
    ![Список обновленных триггеров](media/data-box-edge-manage-compute/add-trigger-2.png)

### <a name="delete-a-trigger"></a>Удаление триггера

Чтобы удалить триггер, выполните следующие действия на портале Azure.

1. В списке триггеров выберите тот, который нужно удалить.

    ![Выбрать триггер](media/data-box-edge-manage-compute/add-trigger-1.png)

2. Щелкните правой кнопкой мыши и выберите **Удалить**.

    ![Выбор команды удаления](media/data-box-edge-manage-compute/add-trigger-1.png)

3. При появлении запроса на подтверждение нажмите кнопку **Да**.

    ![Подтвердите удаление](media/data-box-edge-manage-compute/add-trigger-1.png)

Список триггеров также будет обновлен с учетом удаления.

## <a name="manage-compute-configuration"></a>Управление конфигурацией пограничных вычислений

Чтобы синхронизировать ключи доступа для устройств IoT и IoT Edge в Data Box Edge, используйте портал Azure для просмотра, удаления или обновления конфигурации вычислений.

### <a name="view-compute-configuration"></a>Просмотр конфигурации пограничных вычислений

Чтобы просмотреть конфигурацию вычислений для вашего устройства, выполните следующие действия на портале Azure.

1. На портале Azure выберите ресурс Data Box Edge, а затем — **Пограничные вычисления > Модули**. Выберите **Просмотреть вычисления** на панели команд.

    ![Выбор команды для просмотра вычисления](media/data-box-edge-manage-compute/view-compute-1.png)

2. Запишите настройки вычислений на своем устройстве. После настройки вычисления вы создали ресурс Центра Интернета вещей. В этом ресурсе настраиваются устройства IoT и IoT Edge. На устройстве IoT Edge поддерживается запуск модулей Linux.

    ![Просмотр конфигурации](media/data-box-edge-manage-compute/view-compute-2.png)


### <a name="remove-compute-configuration"></a>Удаление конфигурации пограничных вычислений

Чтобы удалить существующую конфигурацию пограничных вычислений для вашего устройства, выполните следующие действия на портале Azure.

1. На портале Azure выберите ресурс Data Box Edge, а затем — **Пограничные вычисления > Начало работы**. Выберите **Удалить вычисления** на панели команд.

    ![Выбор команды удаления вычислений](media/data-box-edge-manage-compute/remove-compute-1.png)

2. Если вы удалите конфигурацию вычислений, вам потребуется перенастроить устройство на случай, если понадобится снова использовать вычисления. При появлении запроса на подтверждение нажмите кнопку **Да**.

    ![Выбор команды удаления вычислений](media/data-box-edge-manage-compute/remove-compute-2.png)

### <a name="sync-up-iot-device-and-iot-edge-device-access-keys"></a>Синхронизация ключей доступа для устройств IoT и IoT Edge

При настройке вычислений на вашем Data Box Edge создаются устройства IoT и IoT Edge. Этим устройствам автоматически назначаются симметричные ключи доступа. В целях обеспечения безопасности эти ключи регулярно меняются службой Центра Интернета вещей.

Чтобы повернуть эти ключи, вы можете перейти в созданную вами службу Центра Интернета вещей и выбрать устройство IoT или IoT Edge. Каждое устройство имеет первичный и вторичный ключ доступа. Назначьте первичный ключ доступа вторичному, а затем повторно создайте первичный ключ доступа.

Если ключи устройств IoT и IoT Edge изменены, то вам необходимо обновить конфигурацию вашего Data Box Edge, чтобы получить последние ключи доступа. Путем выполнения синхронизации можно получить последние ключи для устройств IoT и IoT Edge. Data Box Edge использует только первичные ключи доступа.

Выполните следующие действия на портале Azure, чтобы синхронизировать ключи доступа для вашего устройства.

1. На портале Azure выберите ресурс Data Box Edge, а затем — **Пограничные вычисления > Начало работы**. Выберите **Обновление конфигурации** на панели команд.

    ![Выберите команды обновления конфигураций](media/data-box-edge-manage-compute/refresh-configuration-1.png)

2. Выберите **Да** при запросе на подтверждение.

     ![Подтверждение запроса](media/data-box-edge-manage-compute/refresh-configuration-2.png)

3. После синхронизации закройте диалоговое окно.

## <a name="enable-a-network-interface-for-compute"></a>Включение сетевого интерфейса для вычислений

Вы можете получить доступ к модулю, запущенному на устройстве Data Box Edge. Чтобы получить внешний доступ к модулю, нужно назначить IP-адрес сетевому интерфейсу на устройстве. Вы можете управлять этими параметрами вычислений из локального пользовательского веб-интерфейса.

Выполните следующие действия в локальном веб-интерфейсе, чтобы настроить параметры вычислений.

1. Выберите **Конфигурация > Параметры вычисления**.  

2. **Включите** сетевой интерфейс, который вы хотите использовать для подключения к модулям вычислений на устройстве. 

    - При использовании статических IP-адресов укажите IP-адрес сетевого интерфейса.
    - Если используется DHCP, IP-адреса назначаются автоматически.

3. Выберите **Применить** для применения параметров.

    ![Включение параметров вычислений](media/data-box-edge-manage-compute/compute-settings-1.png)


## <a name="next-steps"></a>Дальнейшие действия

- Узнайте, как [управлять пользователями с помощью портала Azure](data-box-edge-manage-users.md).
