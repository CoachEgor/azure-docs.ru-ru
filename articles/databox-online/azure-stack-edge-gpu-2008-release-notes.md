---
title: Заметки о выпуске Azure Stack ребра | Документация Майкрософт
description: Описание критических открытых проблем и способов их устранения для Шлюз Azure Data Box, в котором выводится общедоступная версия.
services: databox
author: alkohli
ms.service: databox
ms.subservice: gateway
ms.topic: article
ms.date: 08/29/2020
ms.author: alkohli
ms.openlocfilehash: de0847beb92ebc95e1998d88cae93dbc19c3fb27
ms.sourcegitcommit: 3fb5e772f8f4068cc6d91d9cde253065a7f265d6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/31/2020
ms.locfileid: "89180054"
---
# <a name="azure-stack-edge-with-gpu-preview-release-notes"></a>Заметки о выпуске Azure Stack с предварительной версией GPU

В следующих заметках о выпуске указаны критические открытые проблемы и разрешенные проблемы для предварительной версии 2008 для устройств с Azure Stack пограничными устройствами с графическим процессором.

Заметки о выпуске постоянно обновляются: обнаруживаются и добавляются критические проблемы, требующие временного решения. Перед развертыванием Azure Stack пограничной устройства внимательно проверьте сведения, содержащиеся в заметках о выпуске.

Этот **Azure Stack пограничных** выпусков 2008 соответствует следующей версии программного обеспечения:

- **2.1.1328.1904**



## <a name="known-issues-in-ga-release"></a>Известные проблемы в общедоступном выпуске

В следующей таблице приведена сводка известных проблем для устройства Azure Stack пограничных устройств.

| Нет. | Функция | Проблема | Временное решение и комментарии |
| --- | --- | --- | --- |
| **1.** |Azure Stack пограничных и Azure SQL | Для создания базы данных SQL требуется доступ администратора.   |Выполните следующие действия вместо шагов 1-2 в [https://docs.microsoft.com/azure/iot-edge/tutorial-store-data-sql-server#create-the-sql-database](https://docs.microsoft.com/azure/iot-edge/tutorial-store-data-sql-server#create-the-sql-database) . <ul><li>В локальном пользовательском интерфейсе устройства Включите интерфейс вычислений. Выберите **вычисление > порт # > включить для вычислений > применить.**</li><li>В окне PowerShell, подключенном к устройству, выполните команду `Add-HcsComputeNetwork` . </li><li>Скачайте `sqlcmd` на клиентский компьютер с https://docs.microsoft.com/sql/tools/sqlcmd-utility </li><li>Подключитесь к IP-адресу интерфейса вычислений (включенному порту), добавив ", 1401" в конец адреса.</li><li>Окончательная команда будет выглядеть следующим образом: sqlcmd-S {Interface IP}, 1401-U SA-P «strong! Passw0rd".</li>После этого шаги 3-4 из текущей документации должны быть идентичны. </li></ul> |
| **2.** |Обновить| Добавочные изменения в больших двоичных объектах, восстановленных с помощью **обновления** , не поддерживаются |Для конечных точек большого двоичного объекта частичные обновления больших двоичных объектов после обновления могут привести к тому, что обновления не будут отправлены в облако. Например, последовательность действий, например:<ul><li>Создание большого двоичного объекта в облаке. Или удалите ранее отправленный BLOB-объект с устройства.</li><li>Обновите BLOB-объект из облака в устройство с помощью функции обновления.</li><li>Обновление только части большого двоичного объекта с помощью API-интерфейсов Azure SDK.</li></ul>Эти действия могут привести к тому, что обновленные разделы BLOB-объекта не будут обновлены в облаке. <br>**Обходное решение**. Используйте такие средства, как Robocopy, или регулярное копирование файлов с помощью Explorer или командной строки, чтобы заменить все большие двоичные объекты.|
|**3.**|Регулирование|При регулировании, если новые операции записи в устройство не разрешены, операции записи, выполненные клиентом NFS, завершаются ошибкой "отказ в разрешении".| Эта ошибка будет показана ниже:<br>`hcsuser@ubuntu-vm:~/nfstest$ mkdir test`<br>mkdir: не удается создать каталог "тест": отказано в разрешении|
|**4.**|Прием хранилища BLOB-объектов|При использовании AzCopy версии 10 для приема хранилища BLOB-объектов запустите AzCopy со следующим аргументом: `Azcopy <other arguments> --cap-mbps 2000`| Если эти ограничения не указаны для AzCopy, это может привести к отправке большого количества запросов на устройство и возникновению проблем со службой.|
|**5.**|Многоуровневые учетные записи хранения|При использовании многоуровневых учетных записей хранения применяются следующие условия.<ul><li> Поддерживаются только блочные BLOB-объекты. Страничные BLOB-объекты не поддерживаются.</li><li>Поддержка API моментальных снимков или копирования отсутствует.</li><li> Прием рабочей нагрузки Hadoop с помощью `distcp` не поддерживается, так как он интенсивно использует операцию копирования.</li></ul>||
|**6.**|Подключение к общему ресурсу NFS|Если несколько процессов копируются в одну общую папку и `nolock` атрибут не используется, во время копирования могут возникнуть ошибки.|`nolock`Для копирования файлов в общую папку NFS необходимо передать атрибут в команду mount. Например: `C:\Users\aseuser mount -o anon \\10.1.1.211\mnt\vms Z:`.|
|**7.**|Кластер Kubernetes|При применении обновления на устройстве, на котором работает кластер kubernetes, виртуальные машины kubernetes перезапускаются и перезагружаются. В этом случае только те модули, которые развернуты с указанными репликами, автоматически восстанавливаются после обновления.  |Если вы создали отдельные модули Pod за пределами контроллера репликации без указания набора реплик, эти модули не будут автоматически восстановлены после обновления устройства. Вам потребуется восстановить эти модули.<br>Набор реплик заменяет удаляемые или завершенные модули Pod по какой-либо причине, например сбой узла или аварийное обновление узла. По этой причине рекомендуется использовать набор реплик, даже если приложению требуется только один модуль.|
|**8.**|Кластер Kubernetes|Kubernetes на границе Azure Stack поддерживается только в версии Helm V3 или более поздней. Дополнительные сведения см. в подразделах " [часто задаваемые вопросы": удаление ящика](https://v3.helm.sh/docs/faq/).|
|**9.**|Azure Arc + Azure Stack ребро|Развертывания Azure Arc не поддерживаются, если на устройстве Azure Stack пограничных устройств настроен веб-прокси.||
|**штук.**|Kubernetes |Порт 31000 зарезервирован для панели мониторинга Kubernetes. Аналогично, в конфигурации по умолчанию IP-адреса 10.96.0.1 и 10.96.0.10 зарезервированы для службы Kubernetes и основной службы DNS соответственно.|Не используйте зарезервированные IP-адреса.|
|**стр.**|Kubernetes |В настоящее время Kubernetes не поддерживает службы балансировки нагрузки с несколькими протоколами. Например, служба DNS должна прослушивать TCP и UDP. |Чтобы обойти это ограничение Kubernetes с Металлб, две службы (одна для TCP, одна для UDP) можно создать на одном селекторе Pod. Эти службы используют один и тот же ключ общего доступа и Spec. Лоадбаланцерип для совместного использования одного и того же IP-адреса. IP-адреса также могут быть общими, если у вас больше служб, чем доступные. <br> Дополнительные сведения см. в разделе [совместное использование IP-адресов](https://metallb.universe.tf/usage/#ip-address-sharing).|
|**Двенадцать.**|Кластер Kubernetes|Существующие модули Azure IoT Edge Marketplace не будут работать в кластере Kubernetes, как платформа размещения для IoT Edge на Azure Stack пограничном устройстве.|Необходимо изменить модули, прежде чем они будут развернуты на Azure Stack пограничном устройстве. Дополнительные сведения см. в статье изменение модулей Azure IoT Edge из Marketplace для запуска на Azure Stack пограничном устройстве.<!-- insert link-->|
|**решением.**|Kubernetes |Подключения на основе файлов не поддерживаются для Azure IoT Edge в Kubernetes на Azure Stack пограничном устройстве.|IoT Edge использует слой перевода для преобразования `ContainerCreate` параметров в конструкции Kubernetes. Создание `Binds` сопоставлений с каталогом хостпас или создание и, таким же, присоединение файловой привязки на основе файлов не может быть привязано к путям в контейнерах IOT Edge.|
|**открыт.**|Kubernetes |Если вы используете собственные сертификаты для IoT Edge и добавляете их на Azure Stack пограничной устройстве, новые сертификаты не будут выбраны в ходе обновления Helm диаграмм.|Чтобы решить эту проблему, [подключитесь к интерфейсу PowerShell устройства](azure-stack-edge-gpu-connect-powershell-interface.md). Перезагрузите и модули Pod `iotedged` `edgehub` .|

## <a name="next-steps"></a>Дальнейшие действия

- [Подготовка к развертыванию Azure Stack пограничных устройств с помощью GPU](azure-stack-edge-gpu-deploy-prep.md)

