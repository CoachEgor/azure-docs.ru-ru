---
title: Управление кластерной сетью на Azure Stack границе для доступа к модулям | Документация Майкрософт
description: В этой статье описывается, как расширить сеть вычислений на стороне Azure Stack, чтобы получить доступ к модулям через внешний IP-адрес.
services: databox
author: alkohli
ms.service: databox
ms.subservice: edge
ms.topic: how-to
ms.date: 05/17/2019
ms.author: alkohli
ms.openlocfilehash: 01b0eae7d2e5d1078c0761838081a2379a724a97
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "84342992"
---
# <a name="enable-compute-network-on-your-azure-stack-edge"></a>Включите функцию "вычислить сеть" на Azure Stack пограничных устройствах

В этой статье описывается, как модули, выполняющиеся на Azure Stack границе, могут получить доступ к сети, включенной на устройстве.

Чтобы настроить сеть, выполните следующие действия.

- Включение сетевого интерфейса на Azure Stack пограничном устройстве для вычислений
- Добавление модуля для доступа к сети вычислений на Azure Stack границе
- Убедитесь, что модуль может получить доступ к включенному сетевому интерфейсу.

В этом руководстве для демонстрации сценария используется модуль приложения для служб.

## <a name="prerequisites"></a>Предварительные условия

Прежде чем начать, вам потребуется:

- Azure Stack пограничной устройство с установкой устройства завершено.
- Вы завершили **настройку шага вычислений** в соответствии с [руководством: Преобразование данных с помощью Azure Stackного периметра](azure-stack-edge-deploy-configure-compute-advanced.md#configure-compute) на устройстве. Устройство должно иметь связанный ресурс центра Интернета вещей, устройство IoT и устройство IoT Edge.

## <a name="enable-network-interface-for-compute"></a>Включение сетевого интерфейса для вычислений

Для доступа к модулям, выполняемым на устройстве через внешнюю сеть, необходимо назначить IP-адрес сетевому интерфейсу на устройстве. Вы можете управлять этими параметрами вычислений из локального пользовательского веб-интерфейса.

Выполните следующие действия в локальном веб-интерфейсе, чтобы настроить параметры вычислений.

1. Выберите **Конфигурация > Параметры вычисления**.  

2. **Включите** сетевой интерфейс, который вы хотите использовать для подключения к модулю вычислений, который будет запущен на устройстве.

    - При использовании статических IP-адресов укажите IP-адрес сетевого интерфейса.
    - При использовании DHCP IP-адреса назначаются автоматически. В этом примере используется DHCP.

    ![Включить параметры вычислений 1](media/azure-stack-edge-extend-compute-access-modules/enable-compute-setting-1.png)

3. Выберите **Применить** для применения параметров. Запишите IP-адрес, назначенный сетевому интерфейсу, при использовании DHCP.

    ![Включение параметров вычислений](media/azure-stack-edge-extend-compute-access-modules/enable-compute-setting-2.png)

## <a name="add-webserver-app-module"></a>Добавление модуля приложения для сервера приложений

Чтобы добавить модуль приложения веб-сервера на Azure Stack пограничном устройстве, выполните следующие действия.

1. Перейдите к ресурсу центра Интернета вещей, связанному с устройством Azure Stack ребра, и выберите **IOT Edge устройство**.
2. Выберите устройство IoT Edge, связанное с устройством Azure Stack ребро. На странице **сведения об устройстве**выберите **задать модули**. В меню **Добавить модули**выберите **+ Добавить** , а затем выберите **модуль IOT Edge**.
3. В колонке **IOT Edge пользовательские модули** :

    1. Укажите **имя** модуля приложения веб-сервера, который требуется развернуть.
    2. Укажите **универсальный код ресурса (URI) образа** для вашего образа модуля. Извлекается модуль, соответствующий предоставленному имени и тегам. В этом случае `nginx:stable` будет извлекать стабильный образ nginx (помечается как стабильный) из общедоступного [репозитория DOCKER](https://hub.docker.com/_/nginx/).
    3. В области **Параметры создания контейнера**вставьте следующий пример кода:  

        ```
        {
            "HostConfig": {
                "PortBindings": {
                    "80/tcp": [
                        {
                            "HostPort": "8080"
                        }
                    ]
                }
            }
        }
        ```

        Эта конфигурация позволяет получить доступ к модулю с помощью сетевого IP-адреса вычислений по протоколу *http* через TCP-порт 8080 (с портом сервера по умолчанию 80).

        ![Указание сведений о порте в IoT Edge пользовательской колонке модуля](media/azure-stack-edge-extend-compute-access-modules/module-information.png)

    4. Нажмите кнопку **Сохранить**.

## <a name="verify-module-access"></a>Проверка доступа к модулю

1. Убедитесь, что модуль успешно развернут и запущен. На странице **сведения об устройстве** на вкладке **модули** состояние выполнения модуля должно быть **работает**.  
2. Подключитесь к модулю веб-сервера приложений. Откройте окно браузера и введите:

    `http://<compute-network-IP-address>:8080`

    Вы должны увидеть, что приложение-сервер работает.

    ![Проверка подключения к модулю через указанный порт](media/azure-stack-edge-extend-compute-access-modules/verify-connect-module-1.png)

## <a name="next-steps"></a>Дальнейшие шаги

- Узнайте, как [управлять пользователями с помощью портала Azure](azure-stack-edge-manage-users.md).
