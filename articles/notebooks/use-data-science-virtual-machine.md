---
title: Использование виртуальных машин Azure для обработки и анализа данных
description: Узнайте, как подключиться к виртуальной машине Azure для обработки и анализа данных (DSVM), чтобы расширить вычислительную мощность, доступную для предварительной версии Azure Notebooks.
author: getroyer
manager: andneil
ms.author: getroyer
ms.topic: how-to
ms.date: 06/13/2019
ms.openlocfilehash: 291f1ac093568f50ad6146b70fa1ef69263b7b5b
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "85830318"
---
# <a name="use-azure-data-science-virtual-machines"></a>Использование виртуальных машин Azure для обработки и анализа данных

[!INCLUDE [notebooks-status](../../includes/notebooks-status.md)]

По умолчанию проекты выполняются на **свободном уровне вычислений** , который ОГРАНИЧЕН 4 ГБ памяти и 1 ГБ данных для предотвращения нарушения. Вы можете обойти эти ограничения, используя другую виртуальную машину, подготовленную в подписке Azure. Для этой цели лучше выбрать виртуальную машину Azure для обработки и анализа данных (DSVM), используя образ **виртуальной машины для Linux (Ubuntu) для обработки и анализа данных** . Такой DSVM предварительно настроен на все необходимое для записных книжек Azure и автоматически отображается в раскрывающемся списке **Запуск** в записных книжках Azure.

> [!Note]
> Записные книжки Azure поддерживаются только в Dsvm, созданном с помощью образа Ubuntu в Linux. Записные книжки не поддерживаются в образах Windows 2012, Windows 2016 или Linux CentOS.

## <a name="create-a-dsvm-instance"></a>Создание экземпляра DSVM

Чтобы создать экземпляр DSVM, следуйте инструкциям в статье [Подготовка виртуальной машины Linux (Ubuntu) для обработки и анализа данных](/azure/machine-learning/data-science-virtual-machine/dsvm-ubuntu-intro). Дополнительные сведения, включая сведения о ценах, см. в разделе Виртуальные машины для обработки и [анализа данных](https://azure.microsoft.com/services/virtual-machines/data-science-virtual-machines/).

## <a name="connect-to-the-dsvm"></a>Подключение к DSVM

После создания DSVM выберите раскрывающийся список **выполнить** на панели мониторинга проекта записных книжек Azure и выберите соответствующий экземпляр DSVM. В раскрывающемся списке отображаются экземпляры DSVM, если выполняются следующие условия.

- Вы вошли в Записные книжки Azure с помощью учетной записи, использующей Azure Active Directory, например учетной записи компании.
- Ваша учетная запись подключена к подписке Azure.
- У вас есть одна или несколько виртуальных машин в этой подписке с доступом как минимум для чтения, которые используют образ виртуальной машины для Linux (Ubuntu) для обработки и анализа данных.)

![Экземпляры Виртуальной машины для обработки и анализа данных в раскрывающемся списке на панели мониторинга проекта](media/project-compute-tier-dsvm.png)

При выборе экземпляра DSVM Записные книжки Azure могут запросить учетные данные конкретного компьютера, используемые при создании виртуальной машины.

> [!Important]
> Имя пользователя должно быть строчным, чтобы использовать его с JupyterHub.

Если какое-либо из условий не соблюдается, вы можете подключиться к DSVM. В раскрывающемся списке выберите параметр **прямой вычислений** , в котором будет предложено имя (для отображения в списке), IP-адрес и порт виртуальной машины (обычно 8000, порт по умолчанию, который прослушивается JupyterHub) и учетные данные виртуальной машины:

![Запрос на сбор данных о сервере для варианта прямого вычисления](media/project-compute-tier-direct.png)

Эти значения можно получить на странице DSVM в портал Azure.

## <a name="accessing-azure-notebooks-files-from-the-dsvm"></a>Доступ к файлам записных книжек Azure из DSVM

Доступ к файловой системе поддерживается для DSVM версий 19.06.15 или более поздней версии. Чтобы проверить версию, сначала подключитесь к DSVM через SSH, а затем выполните следующую команду: `curl -H Metadata:true "http://169.254.169.254/metadata/instance?api-version=2018-10-01"` (необходимо указать точный IP-адрес, показанный здесь). Номер версии показан в выходных данных для версии.

Чтобы сохранить четность путей к файлам на **свободном уровне вычислений** , вы можете открыть только один проект в DSVM. Чтобы открыть новый проект, сначала необходимо завершить работу открытого проекта.

При запуске проекта на виртуальной машине файлы монтируются в корневом каталоге сервера Jupyter (каталог, показанный в JupyterHub), заменяя файлы записных книжек Azure по умолчанию. При завершении работы виртуальной машины с помощью кнопки " **Завершение работы** " в пользовательском интерфейсе записной книжки Azure восстанавливает файлы по умолчанию.

![Кнопка "завершение работы" в записных книжках Azure](media/shutdown.png)

## <a name="create-new-dsvm-users"></a>Создание новых пользователей DSVM

Если несколько пользователей совместно используют DSVM, можно избежать блокировки друг друга, создав и используя пользователя DSVM для каждого пользователя записной книжки:

1. На [портал Azure](https://portal.azure.com)перейдите к виртуальной машине.
1. В разделе **Поддержка и устранение неполадок** в левом поле выберите **Сброс пароля**.
1. Введите новое **имя пользователя**. Имя пользователя должно быть строчным, чтобы использовать его с JupyterHub. Введите пароль. Затем выберите **Обновить**. (Существующие имена пользователей не затрагиваются.)
1. Повторите предыдущий шаг для всех дополнительных пользователей.

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о Dsvm см. в статье [Введение в виртуальные машины Azure для обработки и анализа данных](/azure/machine-learning/data-science-virtual-machine/overview).
