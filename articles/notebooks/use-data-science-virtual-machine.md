---
title: Используйте виртуальные машины Azure Data Science
description: Узнайте, как подключиться к виртуальной машине Azure Data Science (DSVM), чтобы расширить вычислительную мощность, доступную для предварительного просмотра ноутбуков Azure.
author: getroyer
manager: andneil
ms.author: getroyer
ms.topic: how-to
ms.date: 06/13/2019
ms.openlocfilehash: b4da63b7b2a6da4316215b85a09ca7420745251c
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/28/2020
ms.locfileid: "78898405"
---
# <a name="use-azure-data-science-virtual-machines"></a>Используйте виртуальные машины Azure Data Science

По умолчанию проекты работают на уровне **Free Compute,** который ограничен 4 ГБ памяти и 1 ГБ данных для предотвращения злоупотреблений. Вы можете обойти эти ограничения, используя другую виртуальную машину, подготовленную в подписке Azure. Для этой цели лучшим выбором является виртуальная машина Azure Data Science (DSVM) с использованием **виртуальной машины Data Science для Linux (Ubuntu).** Такой DSVM предварительно настроен со всем необходимым для ноутбуков Azure и автоматически отображается в списке выпадающих записок **В Azure** Notebooks.

> [!Note]
> Ноутбуки Azure поддерживаются только на DSVM, созданных с изображением Linux Ubuntu. Ноутбуки не поддерживаются на Windows 2012, Windows 2016 или Linux CentOS изображений.

[!INCLUDE [notebooks-status](../../includes/notebooks-status.md)]

## <a name="create-a-dsvm-instance"></a>Создание экземпляра DSVM

Чтобы создать экземпляр DSVM, следуйте инструкциям в статье [Подготовка виртуальной машины Linux (Ubuntu) для обработки и анализа данных](/azure/machine-learning/data-science-virtual-machine/dsvm-ubuntu-intro). Для получения дополнительной информации, включая сведения о ценах, [см.](https://azure.microsoft.com/services/virtual-machines/data-science-virtual-machines/)

## <a name="connect-to-the-dsvm"></a>Подключение к DSVM

После создания DSVM выберите список **выпадающих** ниже выпадений на панели мониторинга проектов Azure Notebooks и выберите подходящий экземпляр DSVM. Список выпадающих списков показывает экземпляры DSVM, если верны следующие условия:

- Вы вошли в Записные книжки Azure с помощью учетной записи, использующей Azure Active Directory, например учетной записи компании.
- Ваша учетная запись подключена к подписке Azure.
- У вас есть один или несколько виртуальных машин в этой подписке, с по крайней мере Reader доступа, который использует данные наука Виртуальная машина для Linux (Ubuntu) изображение.)

![Экземпляры Виртуальной машины для обработки и анализа данных в раскрывающемся списке на панели мониторинга проекта](media/project-compute-tier-dsvm.png)

При выборе экземпляра DSVM Записные книжки Azure могут запросить учетные данные конкретного компьютера, используемые при создании виртуальной машины.

> [!Important]
> Имя пользователя должно быть в нижнем регистре, чтобы использовать его с JupyterHub.

Если какое-либо из условий не выполнено, вы все равно можете подключиться к DSVM. В списке выпадающих списков выберите опцию **Direct Compute,** которая подскажет вам имя (чтобы показать в списке), IP-адрес и порт VM (обычно 8000, порт по умолчанию, к которому слушает JupyterHub) и учетные данные VM:

![Запрос на сбор данных о сервере для варианта прямого вычисления](media/project-compute-tier-direct.png)

Эти значения получены на странице DSVM на портале Azure.

## <a name="accessing-azure-notebooks-files-from-the-dsvm"></a>Доступ к файлам ноутбуков Azure из DSVM

Доступ к системе файлов поддерживается для версий DSVM 19.06.15 или позже. Чтобы проверить версию, сначала подключитесь к DSVM через `curl -H Metadata:true "http://169.254.169.254/metadata/instance?api-version=2018-10-01"` SSH, а затем запустите следующую команду: (вы должны использовать точный IP-адрес, показанный здесь). Номер версии отображается на выходе для "версии".

Чтобы сохранить паритет файлов с уровнем **Free Compute,** вы можете открыть только один проект одновременно на DSVM. Чтобы открыть новый проект, сначала необходимо закрыть открытый проект.

При запуске проекта на VM файлы монтируются в корневом каталоге сервера Jupyter (каталог, показанный в JupyterHub), заменяя файлы ноутбуков Azure по умолчанию. При закрытии VM с помощью кнопки **"Выключение"** на пуле записи ноутбука, Блокноты Azure восстанавливают файлы по умолчанию.

![Кнопка выключения в ноутбуках Azure](media/shutdown.png)

## <a name="create-new-dsvm-users"></a>Создание новых пользователей DSVM

Если несколько пользователей разделяют DSVM, вы можете избежать блокировки друг друга, создавая и используя пользователя DSVM для каждого пользователя ноутбука:

1. На [портале Azure](https://portal.azure.com)перейдите к виртуальной машине.
1. При **поддержке и устранении неполадок** в левом крае выберите **пароль сбросить**.
1. Введите новое **имя пользователя.** Имя пользователя должно быть в нижнем регистре, чтобы использовать его с JupyterHub. Введите пароль. Затем выберите **обновление**. (Существующие имена пользователей не затрагиваются.)
1. Повторите предыдущий шаг для любых дополнительных пользователей.

## <a name="next-steps"></a>Дальнейшие действия

Узнайте больше о DSVM о внедрении в [Виртуальные машины Science данных Azure.](/azure/machine-learning/data-science-virtual-machine/overview)
