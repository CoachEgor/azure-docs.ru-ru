---
title: Создание правил брандмауэра MariaDB в Базе данных Azure для MariaDB и управление ими
description: Создание правил брандмауэра MariaDB в Базе данных Azure для MariaDB и управление ими на портале Azure
author: ajlam
ms.author: andrela
ms.service: mariadb
ms.topic: conceptual
ms.date: 04/09/2019
ms.openlocfilehash: e9ab243692f5a4a1ec7de25774f5bad867698fc3
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2019
ms.locfileid: "60746407"
---
# <a name="create-and-manage-azure-database-for-mariadb-firewall-rules-by-using-the-azure-portal"></a>Создание правил брандмауэра MariaDB в Базе данных Azure для MariaDB и управление ими на портале Azure
Правила брандмауэра уровня сервера можно использовать для управления доступом к базе данных Azure для MariaDB сервера с указанного IP-адреса или диапазон IP-адресов.

Правилами виртуальных сетей (VNet) также может использоваться для обеспечения безопасного доступа к серверу. Дополнительные сведения о [Создание и управление виртуальной сетью на базе службы конечных точек и правил, с помощью портала Azure](howto-manage-vnet-portal.md).

## <a name="create-a-server-level-firewall-rule-in-the-azure-portal"></a>Создание правила брандмауэра на уровне сервера с помощью портала Azure

1. На странице сервера MariaDB в разделе "Параметры" щелкните **Безопасность подключения**, чтобы открыть страницу "Безопасность подключения" Базы данных Azure для MariaDB.

   ![Портал Azure: выбор пункта "Безопасность подключения"](./media/howto-manage-firewall-portal/1-connection-security.png)

2. Нажмите кнопку **Добавить мой IP-адрес** на панели инструментов. Автоматически будет создано правило брандмауэра с общедоступным IP-адресом компьютера, определенным системой Azure.

   ![Портал Azure: нажатие кнопки "Добавить Мой IP-адрес"](./media/howto-manage-firewall-portal/2-add-my-ip.png)

3. Проверьте IP-адрес перед сохранением конфигурации. В некоторых случаях IP-адрес, определенный порталом Azure, может отличаться от IP-адреса, используемого для доступа к Интернету и серверам Azure. Поэтому может потребоваться изменить начальный IP-адрес и конечный IP-адрес для правила, чтобы оно функционировало ожидаемым образом.

   Используйте поисковую систему или другой сетевой инструмент, чтобы проверить собственный IP-адрес. Например, выполните в Bing поиск текста "какой у меня IP-адрес".

4. Добавьте дополнительные адресные пространства. В правилах брандмауэра Базы данных Azure для MariaDB можно указать отдельный IP-адрес или диапазон адресов. Если вы хотите ограничить правило, указав отдельный IP-адрес, введите его в полях начального и конечного IP-адресов. Открытие брандмауэра позволит администраторам, пользователям и приложениям входить в любую базу данных на сервере MariaDB, для которой у них есть действительные учетные данные.

   ![Портал Azure: правила брандмауэра](./media/howto-manage-firewall-portal/4-specify-addresses.png)

5. На панели инструментов нажмите кнопку **Сохранить**, чтобы сохранить это правило брандмауэра уровня сервера. Дождитесь подтверждения успешного обновления правил брандмауэра.

   ![Портал Azure: нажатие кнопки "Сохранить"](./media/howto-manage-firewall-portal/5-save-firewall-rule.png)

## <a name="connecting-from-azure"></a>Подключение из Azure
Чтобы приложения из Azure могли подключаться к серверу Базы данных Azure для MariaDB, необходимо разрешить подключения Azure. Например, это необходимо для размещения веб-приложения Azure или приложения, которое выполняется на виртуальной машине Azure, либо для подключения из шлюза управления данными фабрики данных Azure. Чтобы разрешить эти подключения с помощью правила брандмауэра, ресурсы не обязательно должны находиться в одной и той же виртуальной сети или группе ресурсов. Когда приложение из Azure пытается подключиться к серверу базы данных, брандмауэр проверяет, разрешены ли подключения Azure. Такие подключения можно разрешить с помощью нескольких способов. Параметр брандмауэра с начальным и конечным адресом, равным 0.0.0.0, указывает, что эти подключения разрешены. Кроме того, в области **Безопасность подключения** на портале можно задать значение **Вкл.** для параметра **Разрешить доступ к службам Azure** и щелкнуть **Сохранить**. Если попытка подключения не разрешена, запрос не поступит на сервер Базы данных Azure для MariaDB.

> [!IMPORTANT]
> Этот параметр позволяет настроить брандмауэр так, чтобы разрешить все подключения из Azure, включая подключения из подписок других клиентов. При выборе этого параметра убедитесь, что используемое имя для входа и разрешения пользователя предоставляют доступ только авторизованным пользователям.
> 

## <a name="manage-existing-firewall-rules-in-the-azure-portal"></a>Управление существующими правилами брандмауэра на портале Azure
Повторите действия для управлению правилами брандмауэра.
* Чтобы добавить текущий компьютер, нажмите кнопку **Добавить мой IP-адрес**. Щелкните **Сохранить** , чтобы сохранить изменения.
* Чтобы добавить дополнительные IP-адреса, введите **имя правила**, **начальный IP-адрес** и **конечный IP-адрес** в соответствующих полях. Щелкните **Сохранить** , чтобы сохранить изменения.
* Чтобы изменить существующее правило, щелкните любое поле в нем и внесите необходимые изменения. Щелкните **Сохранить** , чтобы сохранить изменения.
* Чтобы удалить существующее правило, щелкните многоточие [...] и выберите **Удалить**. Щелкните **Сохранить** , чтобы сохранить изменения.

## <a name="next-steps"></a>Дальнейшие действия
 - Вы можете аналогичным образом [создать и управлять базой данных Azure для MariaDB правил брандмауэра, с помощью Azure CLI](howto-manage-firewall-cli.md).
 - Дополнительно обеспечить безопасность доступа к серверу с [Создание и управление виртуальной сетью на базе службы конечных точек и правил, с помощью портала Azure](howto-manage-vnet-portal.md).