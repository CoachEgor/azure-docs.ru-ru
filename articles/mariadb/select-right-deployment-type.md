---
title: Выбор правильного типа развертывания для базы данных Azure для MariaDB
description: В этой статье описываются факторы, которые следует учитывать перед развертыванием базы данных Azure для MariaDB в качестве инфраструктуры как службы (IaaS) или платформы как услуги (PaaS).
author: kummanish
ms.author: manishku
ms.service: mariadb
ms.topic: conceptual
ms.date: 11/15/2019
ms.openlocfilehash: 59064c71d19f81a5edc322bc4c8158773a104b5d
ms.sourcegitcommit: 5cfe977783f02cd045023a1645ac42b8d82223bd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/17/2019
ms.locfileid: "74151980"
---
# <a name="choose-the-right-mariadb-server-option-in-azure"></a>Выбор правильного сервера MariaDB в Azure

В Azure рабочие нагрузки сервера MariaDB могут работать в размещенной инфраструктуре виртуальной машины как услуга (IaaS) или в качестве службы (PaaS). PaaS имеет несколько вариантов развертывания, и в каждом варианте развертывания существуют уровни служб. При выборе между IaaS и PaaS необходимо решить, следует ли управлять базой данных, применять исправления и создавать резервные копии, а также если вы хотите делегировать эти операции в Azure.

При принятии решения примите во внимание следующие два варианта:

- **База данных Azure для MariaDB:** Этот параметр является полностью управляемым ядром СУБД MariaDB на основе стабильной версии MariaDB Community Edition. Эта реляционная база данных как услуга (DBaaS), размещенная на облачной платформе Azure, попадает в категорию PaaS в отрасли.

  С помощью управляемого экземпляра MariaDB в Azure можно использовать встроенные функции, которые в противном случае нуждаются в расширенной конфигурации, если MariaDB Server находится локально или на виртуальной машине Azure.

  При использовании MariaDB в качестве службы вы платите по мере использования вариантов увеличения или уменьшения масштаба для большего контроля без прерывания. В отличие от автономного сервера MariaDB, база данных Azure для MariaDB обладает дополнительными функциями, такими как встроенная высокая доступность, аналитика и управление.

- **MariaDB на виртуальных машинах Azure:** Этот вариант относится к категории отрасли IaaS. С помощью этой службы можно запустить MariaDB Server внутри полностью управляемой виртуальной машины на облачной платформе Azure. Все последние версии и выпуски MariaDB можно установить на виртуальную машину IaaS.

  В наиболее значительном отличие от базы данных Azure для MariaDB, MariaDB на виртуальных машинах Azure обеспечивает контроль над ядром СУБД. Тем не менее, этот элемент управления несет ответственность за управление виртуальными машинами и многими задачами администрирования базы данных (DBA). Эти задачи включают обслуживание и исправление серверов баз данных, восстановление базы данных и проектирование высокого уровня доступности.

Основные различия между этими вариантами показаны в приведенной ниже таблице.

|            | База данных Azure для MariaDB | MariaDB на виртуальных машинах Azure    |
|:-------------------|:-----------------------------|:--------------------|
| Соглашение об уровне обслуживания                | Предлагает соглашение об уровне обслуживания для уровня доступности 99,99%| До 99,95% доступности с двумя или более экземплярами в одной группе доступности.<br/><br/>доступность на 99,9% для виртуальной машины с одним экземпляром, использующей хранилище класса Premium.<br/><br/>99,99% использования Зоны доступности с несколькими экземплярами в нескольких группах доступности.<br/><br/>Ознакомьтесь с [соглашением об уровне обслуживания виртуальных машин](https://azure.microsoft.com/support/legal/sla/virtual-machines/v1_8/). |
| Установка исправлений операционной системы        | Автоматический  | Управляется клиентами |
| Исправление MariaDB     | Автоматический  | Управляется клиентами |
| высокой доступности | Модель высокой доступности (HA) основана на встроенных механизмах отработки отказа, когда происходит прерывание на уровне узла. В таких случаях служба автоматически создает новый экземпляр и прикрепляет хранилище к этому экземпляру. | Клиентский архитектор, внедрение, тестирование и поддержка высокого уровня доступности. Возможности могут включать постоянно включенную отказоустойчивую кластеризацию, постоянную репликацию групп, доставку журналов или репликацию транзакций.|
| Избыточность в пределах зоны | Сейчас не поддерживаются: | Виртуальные машины Azure можно настроить для работы в разных зонах доступности. Для локального решения клиенты должны создавать и обслуживать собственные дополнительные центры обработки данных, а также управлять ими.|
| Гибридные сценарии | С помощью [репликация входных данных](https://docs.microsoft.com/azure/MariaDB/concepts-data-in-replication)можно синхронизировать данные из внешнего сервера MariaDB в службу "база данных Azure для MariaDB". Внешний сервер может быть локальным, на виртуальных машинах или в службе базы данных, размещенной другими поставщиками облачных служб.<br/><br/> С помощью функции [чтения реплики](https://docs.microsoft.com/azure/mariadb/concepts-read-replicas) можно реплицировать данные с главного сервера базы данных Azure для MariaDB на пять серверов-реплик только для чтения. Реплики находятся в одном регионе Azure или в разных регионах. Реплики только для чтения асинхронно обновляются с помощью технологии репликации бинлог.<br/><br/>Репликация чтения между регионами в настоящее время доступна в общедоступной предварительной версии.| Управляется клиентами
| Резервное копирование и восстановление | Автоматически создает [резервные копии сервера](https://docs.microsoft.com/azure/MariaDB/concepts-backup#backups) и сохраняет их в пользовательском хранилище, которое может быть локально избыточным или географически избыточным. Служба принимает полные, разностные резервные копии и журналы транзакций. | Управляется клиентами |
| Мониторинг операций базы данных | Предоставляет клиентам возможность [устанавливать предупреждения](https://docs.microsoft.com/azure/MariaDB/concepts-monitoring) для операции базы данных и выполнять действия при достижении пороговых значений. | Управляется клиентами |
| Advanced Threat Protection | Обеспечивает [расширенную защиту от угроз](https://docs.microsoft.com/azure/MariaDB/howto-database-threat-protection-portal). Эта защита обнаруживает аномальные действия, которые указывают на необычные и потенциально опасные попытки доступа к базам данных или их использования.<br/><br/>Расширенная защита от угроз в настоящее время доступна в общедоступной предварительной версии.| Клиенты должны самостоятельно создавать эту защиту.
| Аварийное восстановление | Хранит автоматические резервные копии в настроенном пользователем [локально избыточном или геоизбыточном хранилище](https://docs.microsoft.com/azure/MariaDB/howto-restore-server-portal). Резервные копии также могут восстанавливать сервер до точки во времени. Срок хранения составляет от 7 до 35 дней. Восстановление выполняется с помощью портал Azure. | Полностью управляется клиентами. Обязанности включают в себя не только планирование, тестирование, архивацию, хранение и хранение. Дополнительным вариантом является использование хранилища служб восстановления Azure для резервного копирования виртуальных машин и баз данных Azure на виртуальных машинах. Этот параметр доступен в режиме предварительной версии. |
| Рекомендации по производительности | Предоставляет клиентам [рекомендации по производительности](https://techcommunity.microsoft.com/t5/Azure-Database-for-MariaDB/Azure-brings-intelligence-and-high-performance-to-Azure-Database/ba-p/769110) на основе созданных системой файлов журнала использования. Рекомендации помогут оптимизировать рабочие нагрузки.<br/><br/>В настоящее время рекомендации по производительности доступны в общедоступной предварительной версии. | Управляется клиентами |

## <a name="business-motivations-for-choosing-paas-or-iaas"></a>Бизнес-мотивация для выбора PaaS или IaaS

Существует несколько факторов, которые могут повлиять на выбор PaaS или IaaS для размещения баз данных MariaDB.

### <a name="cost"></a>Стоимость

Ограниченное финансирование часто является основным фактором, определяющим лучшее решение для размещения баз данных. Это верно в том случае, если вы используете небольшую наличные деньги или команду в установленной компании, которая работает с ограниченными бюджетными ограничениями. В этом разделе описываются основы выставления счетов и лицензирования в Azure, которые применяются к базе данных Azure для MariaDB и MariaDB на виртуальных машинах Azure.

#### <a name="billing"></a>Выставление счетов

В настоящее время база данных Azure для MariaDB доступна в виде службы на нескольких уровнях с различными ценами на ресурсы. Счета за все ресурсы выставляются ежечасно по фиксированной ставке. Последние сведения о поддерживаемых в настоящее время уровнях служб, размерах вычислений и объемах хранения см. в разделе [модель приобретения на основе виртуальное ядро](https://docs.microsoft.com/azure/MariaDB/concepts-pricing-tiers). Вы можете динамически изменять уровни служб и размеры вычислений в соответствии с различными потребностями в пропускной способности приложения. За исходящий трафик через Интернет взимается плата по стандартным [тарифам на передачу данных](https://azure.microsoft.com/pricing/details/data-transfers/).

С помощью базы данных Azure для MariaDB Корпорация Майкрософт автоматически настраивает, исследует обновления и обновляет программное обеспечение базы данных. Эти Автоматизированные действия снижают затраты на администрирование. Кроме того, база данных Azure для MariaDB имеет [встроенные возможности резервного копирования](https://docs.microsoft.com/azure/MariaDB/concepts-backup) . Эти возможности помогают достичь значительной экономии ресурсов, особенно при наличии большого количества баз данных. В отличие от этого, с MariaDB на виртуальных машинах Azure можно выбрать и запустить любую версию MariaDB. Независимо от используемой версии MariaDB вы платите за подготовленную виртуальную машину и затраты на конкретный тип лицензии MariaDB.

База данных Azure для MariaDB предоставляет встроенную высокую доступность для любого рода прерываний на уровне узла, сохраняя при этом гарантию соглашения об уровне обслуживания 99,99% для службы. Однако для обеспечения высокого уровня доступности базы данных в виртуальных машинах клиенты должны использовать такие параметры высокого уровня доступности, как [MariaDB Replication](https://mariadb.com/kb/en/library/setting-up-replication/) , доступные в базе данных MariaDB. Использование поддерживаемого режима высокой доступности не обеспечивает дополнительного соглашения об уровне обслуживания. Но это позволяет достичь более чем 99,99% доступности базы данных при дополнительных затратах и административных издержках.

Дополнительные сведения о ценах см. в следующих статьях:
* [Цены на службу "база данных Azure для MariaDB"](https://azure.microsoft.com/pricing/details/MariaDB/)
* [Цены на виртуальные машины](https://azure.microsoft.com/pricing/details/virtual-machines/)
* [Калькулятор цен Azure](https://azure.microsoft.com/pricing/calculator/).

### <a name="administration"></a>Administration

Во многих организациях решение о переходе на облачную службу — столько же, насколько и затраты. С помощью IaaS и PaaS Корпорация Майкрософт:

- Управляет базовой инфраструктурой.
- Автоматически реплицирует все данные для обеспечения аварийного восстановления.
- Настраивает и обновляет программное обеспечение базы данных.
- Управляет балансировкой нагрузки.
- Выполняет прозрачную отработку отказа при сбое сервера.

В следующем списке приведены рекомендации по администрированию для каждого параметра.

* С помощью базы данных Azure для MariaDB можно продолжить Администрирование базы данных. Но больше не требуется управлять ядром СУБД, операционной системой или оборудованием. Ниже перечислены примеры элементов, которые можно продолжить администрировать.

  - Базы данных
  - Вход
  - Настройка индекса
  - Настройка запроса
  - Аудит
  - Безопасность

  Кроме того, Настройка высокого уровня доступности для другого центра обработки данных требует минимальных настроек или администрирования.

* С MariaDB на виртуальных машинах Azure вы имеете полный контроль над операционной системой и конфигурацией экземпляра сервера MariaDB. С помощью виртуальной машины вы решаете, когда следует обновлять операционную систему и программное обеспечение базы данных. Вы также решаете, когда устанавливать дополнительное программное обеспечение, например антивирусное приложение. Предусмотрены некоторые автоматизированные функции для значительного упрощения установки исправлений, резервного копирования и обеспечения высокой доступности. Вы можете управлять размером виртуальной машины, количеством дисков и конфигурацией хранилища. Дополнительные сведения см. в статье [размеры виртуальных машин и облачных служб для Azure](https://docs.microsoft.com/azure/virtual-machines/windows/sizes).

### <a name="time-to-move-to-azure"></a>Время на перемещение в Azure

* База данных Azure для MariaDB — это подходящее решение для приложений, разработанных в облаке, когда производительность разработки и быстрый доступ к рынкам для новых решений очень важны. С помощью программных функций, таких как DBA, Служба подходит для архитекторов и разработчиков облака, поскольку она снижает потребность в управлении базовой операционной системой и базой данных.

* Если вы хотите избежать времени и расходов на приобретение нового локального оборудования, MariaDB на виртуальных машинах Azure — это подходящее решение для приложений, которым требуется база данных MariaDB или доступ к функциям MariaDB в Windows или Linux. Это решение также подходит для переноса существующих локальных приложений и баз данных в Azure без изменений, в случаях, когда база данных Azure для MariaDB неудовлетворительна.

  Поскольку нет необходимости изменять уровни представления, приложения и данных, вы экономите время и бюджеты при изменении архитектуры существующего решения. Вместо этого вы можете сосредоточиться на переносе всех ваших решений в Azure и устранении некоторых оптимизаций производительности, которые могут потребоваться для платформы Azure.

## <a name="next-steps"></a>Дополнительная информация

* См. [цены на службу "база данных Azure для MariaDB](https://azure.microsoft.com/pricing/details/MariaDB/)".
* Приступить к работе, [создав первый сервер](https://review.docs.microsoft.com/azure/MariaDB/quickstart-create-MariaDB-server-database-using-azure-portal).
